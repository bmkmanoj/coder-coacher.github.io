<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Enterprise JavaFX with OpenDolphin | Coder Coacher - Coaching Coders</title><meta content="Enterprise JavaFX with OpenDolphin - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Enterprise JavaFX with OpenDolphin</b></h2><h5 class="post__date">2015-06-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/o1WPUe24jNM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">good morning thanks for coming I know I
know it's the third day of Java 1 and
most of us have a hangover already the
more I appreciate that you came here at
so early in the morning for two hours of
enterprise Java ethics will open often
two hours is rather long so early in the
morning so I think we should split this
up in two parts first hour will be the
blue pill open work on the blue pill and
the second hour will be opened or from
the red pill and we may make a small
break in between if you don't mind we'll
see how long that would be good so the
the blue pill is we will talk about
enterprise applications as you know them
but we'll talk about it in a way that
you will find that there's a new
structure there may be a better
structure than what you're used to or at
least there's new ideas how to structure
those the idea is to have a rock-solid
foundation for the red pill the red pill
will show you something that is possibly
likely hopefully unfamiliar to you new
ways of writing enterprise application
new capabilities that you may want to
have in the enterprise applications
first of all who has not seen this video
yet some L is good so the this is it is
on YouTube and it is about an
application that is opened often a
neighbor that runs opened often and it
has so many views that I was under the
impression that everybody knows it
already in a way but here it is
so the video is about its it this is
like a teaser I don't should show you
what what opens often is capable of and
Java ethics in combination it is a 3d
application that we have developed
together with Navis which they are
located here in
Oakland and there the world market
leader for Container Terminal software
like if you see any container anywhere
on the street ownership whatever the
likelihood is that this has been handled
by their software and by new software as
well by the way my name is de Kooning I
work for canoe in Basel Switzerland and
this has been a demo together listening
with Nevers and Oracle for the strategy
keynote in 2012 and so it's it is from a
real product and and real live use of
JavaFX 3d and of the dolphins so let's
play it what you see from above is the
container yard of Antwerp which is by
size by area the largest container yard
on the planet which is handled by
Neversoft where use there's number of
first a 2d view and there you can change
until the 3d view whereas the
application logic for the 2d and 3d view
is fully the same not only equivalent is
the same logic that handles the user
interface and going from widget we have
first developed only the 2d view and
developing the 3d view was two weeks
effort for one employee at Oracle
Chanyeol and while he has worked before
for Disney and Pixar so that he
certainly knows knows what he's doing
but you can see well the tracks coming
in and then there's so-called
gantry's that are pushing these
containers around and they executed a
work plan that says which container is
going on with ship or in which cell to
place it you'll see these hiding behind
the other ones and so on so there's
there are certain routes that these
countries must take and by the way
they're pretty high
so there is somebody sitting over there
operating
gantry like I don't know 20 feet high or
so and if he falls over he will be
severely damaged so it's important it is
we have something which is really the
the soft nervous mer correctly and the
work plan must work correctly without
any accidents in between not one
crashing into the other otherwise we
have a problem so it is it is really of
importance that this works and doing
this 3d views is actually not so
difficult especially these boxes are
kind of lending themself nicely for a
visualization that so easily that even I
can do it meanwhile and and there is
business rules in place like you see
these small containers because of
20-foot containers and large ones of
40-foot and you may place a 40-foot
container on top of two 20-foot
containers that is allowed but not the
other way around so you may not have two
20-foot on top of them 40-foot container
because it would break in the middle it
would take clicking and all this logic
is an enterprise application enterprise
application means the application logic
is running on the server that is my
definition of enterprise application
there are other definitions around for
example atom beam legs to say it's an
enterprise app when the UI sucks yeah
this is one of the definitions but no
longer I mean no longer does a d2sec if
you do it correctly so the most came
from impression of how far you can go
and we will see a little bit of that in
the second our second part of the
tutorial so what is it that our
customers typically care about these
days they'd like to they want to have
enterprise applications but more and
more you come into collaborative
enterprise you're really working
together not a single person doing
something and then you need something
that works in your desktop which is
useful for enterprise
patient working on the desktop but more
and more you see mobile and and IOT
enabling in that area like cheap devices
for field engineers and maybe higher and
mobile devices for the executives and
also displaced like big this place that
you see in the rooms that dashboards in
yeah that kind of of thing we would come
on to that in the second hour let's
start with a simple example to explain
why some of the main considerations of
open dolphin and I'd like to start with
an example this is a tutorial so you
cannot see some live coding maybe
there's some at least some running
applications when you when you go to
github and you download open dolphin or
go to the github repository this this is
the check out repository and when you're
in there you can ask for the demos if
the the build automation is done with
Gradle
so they said can say gravel and the
treadle comes with a wrapper that
automatically installs itself is not
installed on the machine already gravel
wrapper and you can ask for the demos
please list demos
it's gonna build everything and using
Java 7 yeah which is good and will tell
you what demos are available and what
you can do with it so here is for
example the create read update delete
demo create and I would try this
starting the crud demo this is now
running in memory opened often has the
option of running its applications
either in client-server mode or in
memory in memory is very useful while
developing in while testing and
debugging it starts up step visible from
the back like Kendall I hope and I can't
do it it's a little bit a little more
like so so better so there's a this is
portfolio management application this is
very typical enterprise it just can
hardly be more typical Enterprise right
you're selecting certain portfolio and
you see the in the back you see a little
bit of the communication that happens on
the on the bus there's name of a
portfolio and we can change the name
let's say this is not balanced this is
balanced Java 1 hmm while we changed it
over here
it was immediately updating over here it
was also updating over here just give
this a little bit more space that we can
see that while we type
like so from the noise in the background
you can see that not with every
keystroke
there's an immediate change of the
background which means that kind of
captures changes until there's a little
bit of silence and then it will be sent
to the server now the important point
about the open-door fan approach is that
this view and this view in this view do
not know each other they are totally
independent
there is no dependency whatsoever
neither directly nor indirectly over
some kind of action listener so it is
not so that an action listener on this
text field knows that knows that tap
pane over here and knows the title and
is actively updating the title or is
actively updating a cell in this table
this is not the case and it goes further
so let's say here are the amount of
typical positions as it is called and so
of course if we are if we have Oracle we
would like to have more of those say 100
but obviously you see that the the chart
view is updating right but also the
total which is down below here is
updating and the total in the in the
master view is also updating but neither
this table knows the chart nor does any
of the other views know each other so
the the total over here and the chart
over here at the table over here and the
table in the master view they do not
know each other I can remove any of
those without touching the other ones I
can add new ones without touching the
existing ones it goes even further so
let's say I'd like to add a new position
to my portfolios plus there's no changed
me and this is of course can you shares
and I'd like to have
hundreds of us it is even so that the
plus and minus button doesn't know the
table mm-hmm
there's not an action list on the plus
that is kind of immediately updating the
table it is not the case
I can I can have this this table in here
without the buttons I can put the
buttons in the the user interface
without even having a table because the
plus and minus only say there's a new
presentation model as we will see for
these kind of positions so far so good
you see consistent updates in the in the
user interface and help you cannot do it
wrong you cannot accidentally forget to
update somebody because they do not know
each other anyway so let's say let's say
I'm I'm I'm done now this this is really
the kind of change me I want to make
that canoe was it going back good so I'd
say I'm I'm done with my portfolio but
where this is an example that we really
developed together with United Bank of
Switzerland
UBS I forgot one thing which is the
total by the way down below here how you
correctly calculate the total is a
server-side activity their server-side
logic this this is business logic for a
bank how to do arithmetic because they
automatically detect some chairs for
them you know there's there's no charge
and so on which it will it will not add
up they will have something in their
pocket well therefore it's it's server
side action believe that is behind the
total now if I say now the portfolio is
fixed you see that this is automatically
reflected in the master view and it is
reflected in this detailed view by
making this disable I cannot type
anymore even if I click on it if I but
if I try and plus minus button they
don't work anymore
but of course you get the story this
fixed checkbox doesn't know anything
about these controls right they know
nothing about the text field and the
table and buttons it is a property of
this portfolio as we will see
presentation model to say that this is
no longer enabled and the visual
controls bind against this attribute
when I click it again this is again
false so the point is we are striving
for the maximum decoupling that you can
think of and well there's lots of
technologies that claim that they do
maximum decoupling and we will see how
that stacks up against each other that
was a simple example to begin with if
you have any questions just shout into
the room we have the livelier that is
the better for me it makes sense so far
good
hmm so you may say well I mean this is
easy now this is an easy task hey we
have MVC and I'll talk a little bit
about architecture at this point because
open dolphin is in the first place in
architecture it is also a library that
implements that architecture and we're
also proud of the library and think it's
very good but in the first place
it's an architecture on top of or using
MVC in any kind so MVC for itself has so
many different meanings and this is the
meaning has been watered down so much
that it has almost no meaning anymore
and when somebody says MVC you have to
ask about what kind of abstraction level
are we talking about because MVC happens
on many different levels let's start
with this one overall in your enterprise
you have an MVC right you have the model
is what you have in your databases in
available and you have many applications
that work on your on your data source
which are kind of views on to the data
store right and then you may have also
controllers in terms of services if you
go into service-oriented architecture
then these services are ones that
manipulate the model each of these
pillars in itself have Model View
controller right the data model there's
views on the in database has views right
it has controllers which is triggers and
stored procedures and so on and of
course the data in the tables same is
true for services if you have services
that followed the main driven
architecture approach then you have that
as well but we will only go into the
application itself for today so there is
the Model View controller because you
typically have an object model in there
you have some presentation by whatever
UI technology and you have some workflow
by which you work on but lets you manage
the object model that leads the user
through the system again each of those
again
have model-view-controller inside the
presentation for example may have a
presentation model sup there is
sometimes this is sometimes called also
a view model which i think is is as a
name is a bit unfortunate because it
kind of mixes various abstraction levels
with it okay
it is it is in the it is in the boiled
so we have to deal with it the
presentation itself may have been at
which it like a text field a table
something and the listeners that you
have for these widgets are actually
controllers on them but these can drop
flow controllers here and these
listeners over here are on a different
level right this is what we typically
deal with in application development but
we are using those but those are only
like a detail and they may change with
every UI technology and just for
completeness the widgets themselves like
say table can have a table model as we
call it widget one in this case it has
visuals and may even have editors in
there and so on for controlling it so
for today we're talking about this level
here presentation model
okay let's assume we are we don't know
anything about UI development we have
read the tutorial about swinging or
JavaFX or whatever and now we start your
but upping okay we have some model and
if you hmm
I have to somehow combine them right so
the view subscribes as a listener on the
model okay
and it may f when it gets the update
message it asks peck what it should
display so that's this direction and
then when let's say the view maybe a
button when button is clicked or
selection is done and in text and then
in a table for example then it calls the
controller now the controller may then
do some changes to the model okay this
part is good now comes the problem if
the controller is allowed to let's say
connect to a second view for example
here spear was a button click and the
controller says well you know what it
was all okay and I update the status bar
status pass the second view and he knows
that other view because he has to update
that one then changing to this view may
trigger other controller actions of that
view which in turn then go to their
model and this this cycle in cycle in
slightly going on this is called the
pine storm right and if you ever have
had to debug such a system then we can
compare our scars really at the belly
right so this is very easily because
that becomes unmaintainable and so
various approaches have been even though
that small view controller various
approaches have been suggested this so
the typical learning curve for an MVC is
like so you start with following the
tutorial and the tutorial do not give
the tutorials for a UI toolkit cannot
give you more advice they have nothing
more available than those means this is
it's not their fault they cannot do
better they
should do some disclaimers and warnings
as I think they say they cannot do
better if you only follow that the
JavaFX tutorial you end up in this space
so the typical next step that one sees
is okay there's all this stuff going on
I make a central manager class there is
you you go into the code base if you do
lots of reuse like I do you'll first
look for the UI manager class well this
is the other big one with with most
edits in the version control system then
every other class right it's very easy
to find the one that does everything
okay when the team has overcome this
hurdle they feel that well this is this
one is doing too much let's split it
apart in at least having only managing
Islands not managing it the whole thing
but managing Islands managing Islands is
called MVP model-view-presenter you have
this this central manager becomes lots
of small managers which of these
presenters they know the various views
they know the number of views but only
islands so to speak from that on there
are two possible routes to go to make
that even more manageable one is the
model view viewmodel
as originally coined by Microsoft and AB
revision of MVC where the M is not the
domain model but the presentation model
that's the idea and this is what open
plotting is proposing as giving one
solution for this good
this is a small comparison or sorry
brief comparison of the view model and
the presentation model because that all
very often comes up as a question I'm
pretty sure that not everybody who likes
view models will be happy with this
comparison because there's so many
different interpretations of that
pattern again and I compared the
traditional classical original version
of view model as quanta Microsoft with
the presentation models as interpreted
by open da things may not be a fair
comparison in the end so that's it is
cleaner view models are typically sparse
they have very little information in
them for example a value and then that's
pretty much it
presentation models are typically rich
they know something is something enabled
or not is it mandatory by which label
should it be displayed is there to tip
on it is there security flag and so on
so there's lots of stuff in there is it
dirty what was the original well use it
now dirty view models are typically
materialized so you make for every view
model that you have let's say you would
have a person that you'd like to display
on the page personal information you
make your own class you make a nucleus
person view model and then you have get
first naked last names that first link
it does get the story but whereas
presentation what's a uniform so every
presentation model looks the same
there's only one class named
presentation model and you make a new
instance of it but you've done not
writing a new class view models are
typically couples like you have an
person presentation model in a dress
presentation model but you have to town
presentation model and so on so they
there depend on each other by type
whereas presentation models do not know
each other they're fully decoupled and
this leads on the human side to a
structure typically a graph structure
whereas presentation models are exactly
as flat as tables in data
we have tables and attributes that's it
everything else is of a foreign keys or
so this is the exact same for
presentational it's totally flat I like
to say as flat as your UI and the UI is
flat presentation month should be flat
as well view models are smart and
whether this is a benefit or drawback is
up to you or depends on the usage of it
that's a characteristic so in the model
view viewmodel pattern there is no C in
it there is no controller right there
it's not MVC VM it is mvvm so there's no
controller where is my logic there is no
other place than either putting it in
the view better prepared we don't want
to do that or putting it into the view
model okay this is where it ends up
typically so they become smart
presentation models have no logic
whatsoever they cannot because their
uniform right this it's one fall how
could they possibly have any logic
attached to it they cannot no logic
there no logic in them with lunders
okay actually true yeah thank you and
this is the use of lambda that I guess
most Java developers are not yet
foreseeing anyway yep so there there are
Ave don't they do not contain any logic
and the the effect of that is that if
you do not contain any logic you're very
easy to distribute over multiple process
of a multiple processes in the first
time and then as or in the first case
and then over multiple machines between
client and server for example it's much
more difficult if you have logic in it
so N and the view model in its original
version is a UI toolkit specific it is
specific for a certain UI toolkit
whereas the presentation models are
fully UI toolkit agnostic as we will see
you can use the presentation model with
any
UI toolkit and you can change them as
you to your liking so talking about the
architecture talking about architecture
always means we talk about structure and
concepts and in this blue pill part of
the talk we will see that if we have if
we get this right the very iffy this
this very simple thing like managing the
form if we get this right and if we
invest our full knowledge in this we
will see that really very complicated
use cases also become very easy they
don't give you the architecture right
for a simple problem will lead us to
having more complex problems build on
top of those I'm not quite sure who it
was but somebody says very wise guy said
that every complex solution that works
is built on a simple solution that works
and so we first tried the simple
solution here looking into the structure
and the concept actually the concepts
are the more important part of an
architecture structure is something that
you can very easily see in any code base
but the concept is something that you
typically do not see right you have to
mind them so here's the idea here's the
structure this is the structure part we
have the view we have the controller
they have no connection whatsoever but
the controller has access to
presentation models and the view has
access to presentation ones and open
dolphin is the device that keeps these
two in sync and the synchronization
between the two this is all the
presentation models here and their
current state are appear also to the
view that's it that's the idea and
here's this play that's it that it was
there are other technologies can I
provide client for example that does the
split inside the view is putting half of
the view on the server side and half on
the client side
Bardeen is doing the very same thing
doing his play
in the view opened up the open doors and
architecture is splitting the models the
idea is that the controller is
controlling what is to be displayed and
the view the views responsibility is how
it's going to be displayed the view
binds against the model the view is
beautiful but unintelligent we sometimes
call it a Barbie view so it very nice
but I don't know anything so here this
you know and the controller on the
server side gets all these morons say
AHA here is something clicked here
something is a new value over here okay
I have to update that value not caring
about how it will be displayed because
that's the views job and once you have
this distinction you can distribute
those and make the view only on the
client side and make this up and keeping
the application logic on the server that
is enterprise this is enterprise this is
enterprise right the initial video that
you have seen with the container yard
all the application logic runs on the
server and it was so easy to implement
because nevus was already using an
enterprise stick all the application
logic was already on the server all the
information or the data X's all the
services are already on the server and
it was only about displaying it nicely
it was already the case so that's very
easy then to integrate this leads to
this makes it possible that the first
concept that was that was the structure
there's nothing more to say about the
structure that's all the structure that
you will see nothing else about
structure that's it you'll see the
structure many times today and here
comes the first concept all the views
are independent the views are
independent from each other and they are
fully independent from the controller
how can that be typically when you say
when you hear about the coupling then
somebody said we are injecting the
controller inside the view and that is
decoupling no no no no no this is a good
way of managing your coupling but this
is not decoupling right the coupling is
the view doesn't know the controller and
the controller is know the view but it's
first start with independent views all
these views as we have seen do not know
each other that means I can actually let
that happens when I implement in that I
first started with the table and had no
chart and later I thought well the
having this chart would be nice so I
added this to this tab pane and I didn't
need to change any of the existing logic
of use nothing not not the single line
so I can at any time add something or
remove something or change something
without possibly affecting any of the
existing ones and that leads to
incremental development suddenly you can
do really incremental development
starting with small stuff and extending
it making it more subtle over time more
sophisticated
the question was in the container
example I can click on the container and
there's something happening with it
which is exactly the same thing as
having a row in a table in clicking on
the row and then something happens the
total for example it's very same thing
because that's master detail
construction that's the master detail
view and the the container I got is a
large master view and the very small
tool tips that you have seen with the
details is a detail view there's very
special way that we construct these
master detail use the we also see it in
the in this one here the portfolios have
the table over here this is a master
view this one is a is a detail view
actually when you have a depth pane
you already have a master detail view
because the tabs are a master and then
when you're the first one is the detail
view that you see in front they come a
little bit more to master detail views
and I hope to address it they'll be
better to get that question so first
concept know you knows any other view
this comes with us with a small
disclaimer and that is at construction
time the views know each other
structurally so you may have the frame
and there's two views in frame so they
live in the same scene graph Java epics
wise and you could claim that yes if you
could ask his parent and then walk over
to the other view mmm that is true so
that is a smallest climber and but we're
not using that information actually next
concept no controller knows any of you
this is a rule without exception there
is no exception to this rule a
controller cannot possibly know any view
because it compiles on a different class
path views and the presentation models
and controllers and the press
- models compiled on totally different
class paths right in a control and open
blocking controller you cannot
accidentally just for being quick in
development hold onto status power and
update the status bar because status bar
is not on the class path there is no
java ethics on the class path on the
server side right because you don't care
you you don't even know whether it will
be displayed in this label or status bar
or whatever you have no idea you can
only say there's a presentation model
for the status bar and I update that
value hands off that's what you do on
the server side client side o new value
on the status bar make a nice label if
you doesn't know what controller but
when you have a button and you click it
you must somehow trigger the action so
you can ping the controller you can say
now do it here is the plus button being
pressed to the + action please that's
what you can do that's all you can do
nothing else you cannot even give it
parameters
there's no parameters everything that
the controlling logic needs to know must
be in the presentation once all the
relevant state must be in the
presentation modes and then when you
have this you can suddenly make much
more guarantees about proper UIs for
example that when when the clients are
binding kicks in and you're updating
tables and labels and whatever you're
always inside the UI thread
that's guaranteed but you cannot
actually test accidentially trying to
update something but you're not in the
UI thread and it doesn't appear and then
you try revalidate under it a painterly
paint paint immediately and so on yeah
no no it all happens automatically in
fine controllers always without
exception work outside the UI thread
they cannot accidentally block the UI
thread they cannot exit by throwing
exception this will not harm your UI
whilst Aerys
answer right and they do this of course
asynchronously then the way that we
distribute the information we claimed
between client and server always follows
the command pattern
you look game of four command pattern
which is in prerequisite for doing for
making undo and redo as we will see in
the second part of the talk so here is a
simulation of what happens in at run
time in a very basic view and I've
chosen some login view for example
here's the concept being displayed in a
city in in a simulation for very simple
use case well you see here the left side
the view right side the controller the
view would is typically let's say on the
desktop and controller us on the server
side this is the water level this the
sea level everything below the sea level
is handled by Ohlendorf in everything
above the sea level is the application
code that's the idea okay when you have
a look in action you somehow I have to
say at some point with this username in
this password it's okay to come in right
where is that logic living on the server
side where you have the information so
you have to register a login action on
the server side that is application code
you have to reduce the vet think struts
actions right same thing and then either
clients at a server side you can create
a presentation model and it gets in for
this special use case it gets an ID the
current user a well-known ID and it has
three attributes name password and
whether it's locked in or not if this is
created either side the other side will
be automatically asynchronously be
notified that this happens and such that
before anything else can happen the
other side has the very same information
available this is now here the view on
the client side the view implementation
we'll give you some kind of form how
that looks like depends on legal eye
technology the next step is that your
binding let's say text field to an
attribute and second add text between
attribute and maybe something like the
visibility of that dialog to the locked
in property ok it's locked in get
visualized if he's not locked at sorry
is not locked in gets visualized as soon
as he's locked in it it disappears
that's the idea the binding right here
it goes it be directional binding from
the fields but also to something like is
visible the visibility property over
here is very nice in Java ethics the
visibility property to the locked in
attribute so far ok ok so you thought
start type typing something over here
the the binding will automatically
update the value in the attribute and
without the user noticing asynchronously
behind the scenes the server-side has
been updated as well the users probably
not even tapped into the next text field
and the server already knows what is
available in the first text field by the
way this is also the case in Facebook if
you do Facebook posts and you haven't
sent them yet the server already knows
what you have typed and if you choose to
not send your post server knows anyway
and it will make use of that information
so diamond same for the passport and yes
you can encrypt it and so the the idea
is all the communication here happens
while the user is not waiting for it
it's not yet that we wait until
everything is prepared and then we are
sending it which is making this is
making use of the channel in a very bad
way because you're sending everything
when the user waits for it you should
say send the information when the user
is not waiting for it such that in a
latent second such that later when we
click the lock and button everything is
already there and we only have to say
ping now did it right no more transfer
and everything is already there yes
please sorry I'm a very chatty app you
mean lots of small transfer package on
the channel yes you typically have maybe
you've seen it little bit like
flickering in the back when we went
around the application hmm the trick is
that the open dolphin is doing quite a
lot of optimization so while you are
typing you will not transfer every
keystroke so it will patch that up and
it builds better and send a whole page
at once there's even a mode if you could
say the it's called the blindfolding
command Pecha which is trying to fold
the various commands you have a command
go from A to B go from B to C go from C
to D and it will merge this together and
going from A to D so it's optimization
can now happen for you right that's the
idea but it is so that the the
characteristics of the transport and the
characteristics on the server side but
what kind of requests come to the server
are much more Ajax like then there have
been traditional HTML like right so it's
very good used on the server side do you
have the server side implementation that
is optimized for that kind of thing
Tomcat is in all the all the typical web
servers are yes
yes the question is can we configure
this right and yes of course the
question is how you do the binding right
if you do the binding on value change
from the text field to the attribute
then every value change will be
automatically transferred if you do no
change at all and you wait for the
button click and in the button click
action the button listener says now fill
all the values and then send the percent
request then you have the typical the
same characteristics also again the
channel characteristics and as you had
with very traditional HTML application
form view so it's up to you it's up to
the programmer how you would like to do
the binding now here comes anything else
now here comes clicking on button so
button clicks it will be transferred to
the server side and it will be
dispatched to the login action so far if
for the very observant one of you you
may have seen that lots of small packets
have been sent in fact we try to
optimize and I guess we achieve it
pretty much all the time that every
package that we send is only one tcp/ip
package right this we never send
something that is longer than one tcp/ip
packet and one packet is this fastest
that you can get over the infrastructure
no reordering no drop packets and so on
you're always in every router and every
firewall in every repeater you're the
first one to be handled because you're
only one I can get one in here right so
we always the first one it's very good
essentially for for the login action
which is kind of only pinging nothing is
nothing is faster than the ping on to
that you cannot be faster by definition
okay
login action has been triggered what is
the login action doing it is reading the
value yeah there it is guaranteed that
those are here before the login action
can be clicked when this guarantee
sequence guarantees
from Oakland often and then we do our
logic and let's say yes it was okay to
login and we are simply setting the
value reading a value setting a value
that's all this the whole program we
said is that this like I get goosebumps
by seven the whole programming model
from all the richness that you'll see
today is reading a value writing a value
listening for value changes that's all
there is that's the simplicity of it and
everything else that you will see
whether this is 3d containers things
like it's all the same programming model
so everybody I guess can do that you're
writing the value opened often handles
it for putting it to the client side and
since you have a binding of the
visibility of that UI component to the
attribute this will disappear the client
sides responsibility is displaying state
and also displaying state transitions so
if the state transition should be
animated or so that also happens you
bind against the value change yes a good
question was how do we deal with failure
you may have failure yes and of course
this must be hand I would say this is
not so much an architectural issue this
is an implementation issued an
engineering concern
yep architectural concerns me of
engineering concerns and you better have
really good engineers that care about
that but since we're doing that kind of
thing since 15 years we're in pretty
good position or handing that so we have
client side listeners what you want to
do and things drop right do we want to
repeat you just want to say all sorry or
of luck since we are having between
client and server command pattern only
we can very easily deal with the fact
that we are temporary unavailable so
we're patching up the commands until it
is available and then we send more right
that's what you can do
yes it's even if you allow server-side
changes that could possibly conflict
with clients I've changed it could be
even then we are in the best possible
position for for resolving conflicts
right because we have all the changes
it's not that we have two different
kinds of states we know all the changes
because that's in the command pattern
pretty sure we're in the best I'm pretty
sure that every other solution that
tries to to merge conflicting value
changes only based on state and not
based on state changes is flawed it's
the only way of dealing with it is with
state changes just answer the question
somehow okay so the simple MPA API is
reading a value writing a value
listening for all your changes let's see
how that looks like in the API create a
presentation model or create creation in
listening for creation and deletion is
also there to do so this on the client
side there is that's all Java Java and
we have chosen Java FX that could be
swing or whatever and by the way there's
also HTML and JavaScript version of that
we we are working with the so per client
also and this is your facade that you're
using it has a factory method for
presentation model and you can give it
the current user ID and user you can
optionally give it a type if you want to
get all the user types available there's
an attribute for name password and
locked in there's a little bit more of
fanciness and syntax over about it but
this is the the guts of it create a
presentation model that's it
and now how do I listen for value change
it's the typical thing how you listen
for value changes is binding you have
like who knows job epics okay it's
exactly like Java effects property
binding right okay
yes I can cut down here so you're
binding the name attribute of the user
which is the presentational to the text
attribute of the name
field done one-liner
right this is Liberty would interface if
you want you can do this in the more
traditional JavaFX property style as
well bless you but that's it
this is unidirectional if you want to
have it bless you if you want to have it
the other way as well then you say bind
text of name text field to as a refined
text of name tags for your to name of
user and then you have the other
direction as well
we typically avoid binding a directional
e in in one go and the reason is that
when you bind the user interface which
it to an attribute this is typically
easy you know you want to have a value
change whenever value changes you want
to display it immediately but for your
question whether you want to have the in
the other direction as well it in the
very same fashion you don't know it well
you want do you want to do this on value
change or unfocused change or only on
submit we wouldn't want to impose
anything like that
therefore the having single statements
with it sending a command how do I send
the login command that it and there is
no other version right there is no
version that takes additional parameters
over here that is when we have our
customers using open doors and for the
first week you can bet in the first week
they will be a request and you need to
have parameters for my commands might
please put them in the library say sorry
this the the fact that this is not
possible is leading engineers in using
the system correctly if you have any
information that the server side needs
for doing its job right it must be it's
part of the relevant UI state and
whatever is part of the relevant UI
state must be in a presentation model
hahaha so I need to know which is the
selected tab in the tab pane yes you
know you need to have a presentation
model who was selected okay good
when I have that then from the server
side I can easily change the selection
by putting a new value in which is
selected
yes you are cool get that okay that's
the typical first week communication
that we have you can bet on it but
sometimes at the client-side I do this
trick of having an envelope and having a
big piece of paper in an envelope and I
write down what the next question will
be I put it in the envelope put it there
sent and then when the when the phone
call comes say oh that envelope yes the
answer okay good so how do I read from
the store I first have to get the
presentation model all presentation
models live in a managed environment
exactly like an in-memory database right
you can you they are managed you can ask
for them you say I'd like to have or
presentation models of a certain type
please give them to me I'd like to have
one by ID I would like to have an
attribute by ID I would like to have an
attribute by so-called qualifier this is
all high-performance indexed all of one
complexity to access those so the
approve the servitor from you say please
give me get at this a certain there's
also find presentation model by ID if
you prefer that
or say just get it current user so you
have the presentation model as an object
available and then you say get at name
which is name attribute give me the
value you can now ask give me the value
what was the base value what was is a
dirty this is a really change by the
client-side if not do nothing do not
bother or something where you know you
can ask for those and additional tags
like yeah lots of stuff very rich API on
attributes how do you change the value
well you get you hold on to the
attribute and you're setting the value
that's it and once you have this and
particularly for my friends from Munich
once you have this you can use the
projector pattern the projector pattern
has not yet been published so
it's very only for you a selected group
quality group here a new pattern and as
every pattern while patterns should
never be newer they should capture
design knowledge from many years and
this one does as well so once you have
this very rich information constructing
a user interface for that could be
generalized right you can are if I have
a presentation that if I have all the
presentation models we can generically
project onto a certain view template I
could say you know what this
presentation model about a user a
current user I can just make it a simple
form of those with a submit button make
me an two column form view with a cancel
button make me a search view which
search criteria on top and results don't
there make me a master detail view of
those types and that's what you can do
right and you write this template once
and usually forever the not only is it
absolutely efficient UI construction but
it gives the immense flexibility I show
you an example and this is a
prerequisite is that you have rich
presentation models so this is a rather
recent addition to to opened off in and
it is let's let's go we have this here
we we have this list demos and there is
also simple form you project demo which
is really very simple very very simple
so don't be underwhelmed by that this
one bit it is really sir the it is a
very very simple form view and the form
of you is this one living being composed
in and rather naked frame typically
would have other stuff around but you
can compose it this one has the
following characteristics
here's read and why is that read because
there's a tooltip saying it must contain
an a okay if John wasn't John but John
it's no longer read but but no blank
sorry no no black and now I can use the
buttons if I go back like so I'm sorry
if i reset go to the old state the
button the buttons are disabled if if
this presentation model is not dirty if
nothing changed there is no point in
doing anything with it right
therefore these buttons bind against the
dirty state of the presentation model
and the presentation model is dirty
whenever at least one of its attributes
is dirty so this one is now dirty
therefore you can change for example can
you change the labels to German yep
German labels or reset and going back to
the English labels so what the
presentation model captures not only the
value of this value and the type and so
on of of this first name but also by
which label it should be displayed
that's part of the attribute this is
your label and this JavaFX label binds
against the information that is in this
attribute therefore I can fully
generically create one form creator that
always creates form forms in exactly
this manner and that's that's that's
already by the way what also happens
let's say I have this I go to German
sorry yeah
yep - German if I know however over the
the tooltip I get a German tooltip right
must contain an a how is that in code
now this is not surprising it's not
surprising that you can do that this has
been done in many many different
attempts but making a generalized
solution for this requires that you have
a very rich presentation model let's
look into - it was the path like this
how does it look like in code so it
maybe will be difficult to read from the
back about it for you
so the projector the projector itself is
an interface and you have abstract
factory pattern for this projector who
knows abstract factory pattern thank you
everybody
good so if you may have a job at we're
using a JavaFX projector but you could
use a swing projector and get the spring
view for this or javascript was
projected for example and we every
projector will need to have the dolphin
available to client site facade but in
the constructor you may also have
something which is specific to your UI
toolkit and in this case we need the
stage which is kind of the frame that
you have some Java fix so we need that
okay so we have a projector and the eye
projector has methods like create simple
form create frame create whatever I've
ever ever write create master detail you
create two column view and so on so this
is a limited set of templates that you
can use and this is absolutely super
because now you can talk to your
business in ways that we would like to
have this day they say would we need
this functionality of like this page and
then you can say here's the catalog of
templates that we can use right simple
form double form all you need to
specialize one okay we can make the
dextra right can always jump out of that
you can always go back to the to the
classic way of creating the UI I have at
least one customer they they just love
it only for that reason I would say so
the projector do you say create simple
form and you're just giving the
presentation model IDE my current user
so in this case person to construct it
the whole construction of the UI of all
the various widgets the layout how it is
composed how it is how you do the
binding against the presentation model
and by the way also the the usage
paradigm that you're have for your form
is the kind of life updating thing or is
that more fill it out and then submit
mmm this is kind of interaction paradigm
this is in the template once and for all
if that ever changes you change it in
one place so those are your templates
critical that this tool that this is
working is that you can compose these
projections right so we are also ready
presentations we have a presentation
models and therefore we also have
presentations
makes sense so the form is this one but
you can use the format various different
places you can use it in a tap pane you
can may have it somewhere else or
directly in a form that's or in the
frame so he can compose the form
directly in here okay that's it
this is efficiency in UI construction
and this is actually the way where you
can really be a UI toolkit agnostic
being opened often gives you the
foundation the the core of a point often
gives you the foundation of being UI
toolkit agnostic that you can change
between different UI toolkits that if
you're writing your views by hand then
you have such so much code that it may
be prohibitively
difficult but it's just too costly to
move to in the different UI technology
if you have everything in one place and
being constructed this way and this is
not this is not source code construction
this is not you know generation of
source code that is then have to manage
in all the classes laying around this is
creating objects at runtime which
something that we do all the time is
Java developers say this this is the
idea I hope you get that a pretty some
kind of a reason it recent addition to
and to open it often and this is only
that's only in the demos that's not in
the core of what important it's also
only one of the demos and we intend to
make a proper publication of the
projective pattern and and then make it
widely accessible by the way this is a
pattern and not a general library so and
actually I guess it's really difficult
to provide a general library for this
because I don't know what kind of
templates you would like to have right
this is on you
this it is the the obligation of the
development team to provide these
patterns to make is to find out what
they need and provide those and this has
to be done with every project most
likely right so it's very difficult to
make a generalized solution for that but
it isn't that's the characteristic of a
pattern that there is no generalized
solution you have to do it all over and
over again anyway I guess we feel that
this is a good data
you know we come to the red pill when we
have many users working together yeah
shall we make a short break I propose 10
seconds
10 you can you can stand up in stretches
ten nine eight seven six oh two one zero
done thank you thanks for coming back so
quickly so we do have multiple users and
we would like to work together in a team
and this is what we call team
applications this the old stuff was
about traditional user interfaces for
traditional enterprise applications and
focus was on efficiency and having a
rock-solid architecture for doing this
now we come into a new area which is
actually there are not so many examples
yet for this but if you have one sorry
the most prominent one is possibly
Google Docs
how does Google Docs working if you know
that you know yeah you have many people
working on the same document maybe at
the same time yeah so we collaboratively
work on one document that's a typical
team application there's a few other
ones which are pretty often OS specific
or they like Microsoft Office have
something like that so it's very very
specialized applications but how about
having this kind of capability for an
enterprise application something that we
can write you know not using something
for which is in the consumer market but
you know we make it possible that we can
write this kind of code and we have like
four different use cases for this and we
will explore a few of those one is
you're working together with your
customer this is an application it's
called the financial adviser application
you have financial information that you
share with your customer customer gets
that's from private banking so customer
gets an iPad 9 ok so he has this iPad I
have my machine maybe an iPad maybe
my desktop and so we're trying to find
out what is the best strategy for his
portfolio right and he is doing changes
and I'm doing changes and we see each
other's changes while it's gonna be done
well it's what he is doing it right so
we can we collectively model his
portfolio he is doing life he's seeing
life on his machine what I'm doing I'm
sliding over here he sees the slider
over there right that's the idea then
there's expert use case of like we are
all working on the same stock market
visualizations thing and there's an same
application for lots of developers lots
of sorry financial experts but there but
one of those is an expert and he does
something like okay here's a hot stock
this is an interesting one you should
look at this one and the other ones see
they see the selection because that's
part of the US state they see the
selection in their view are but it could
be interesting to buy or to sell awesome
then the next one that I will show is
working in the back office yeah Elvis
multiple use cases he will sue a little
bit of Java ethics because this talk is
about Java ethics and lots much more wet
so it can be tended weapon interested at
the same time but I'll focus on on this
one today because it's JavaFX talk and
so this the idea here is while Europe at
a client-side you're talking to a
customer there is a back office employee
using the same application at the same
time and why are you are typing he is
correcting your errors which appears to
the to the client is if there was magic
somehow or you may trigger you know
background information in and financial
error every pretty often have this when
when there's client onboarding and there
comes a client and there must be
background checks against his history
and so on so this can happen without
this can happen in this fashion you'll
see that in a second and then there's
also a peer to peer so this is this is
kind of an customer bonding thing
there's an expert that stands up
of me and then the speck of his bull
just kept helping me and now we have
peers which is directly my level but
that we can use ik for example for
chatting like just before the talk we
were using the chat which is running in
spittle that we can try that as well
there you go
so chat is the typical thing that the
chat that we have been using here is
actually not only it chef
where you have messages going on like or
like an IRC channel but you kind of
collectively shaping a document of
conversation mmm pretty much like Google
Wave and anybody still remember Google
Wave yep I found that super I like the
concept that's exactly like Google life
and we can look into that in a second
everyone so let's start with the back
office use case ends of ethics let's say
so what we do is this is an example that
comes with a dolphin in the code base I
have to start the open dolphin server
fish by the way that in the demos the
surfer happens to be Grails
but you can use any server that
understands servlet specification 2.5 or
above which is everybody right okay
that's the only prerequisite so there's
a starting and is trying to redo his
database and it's up and running so I'm
going to team starter for localhost 8080
this this is in startup sequence that
you usually don't see but just make sure
that this is really the correct version
we're starting one client
which is looks at first sight like a
rather traditional enterprise
application okay we don't have any team
it's about managing team members you
have a new team you're thinking about
team members for your team right simple
use case so say well in my team I always
want to have in my team Simona if that
is okay and she I want to have the man I
want to have her as cuckoo cuckoo cuckoo
isn't there project manager no let's say
architect architect is good this is all
main architect at canoe so what kind of
workload is she available yes is
contractor know what's the workload that
we can assign to her in that that team
were like eighty percent or so no notice
over this how this bar is going back and
forth while I'm dragging this down here
it goes without saying that these views
do not know each other
right okay okay the story and we buy the
background here and buy the background
over here you can tell that these
informations currently considered dirty
because it's not saved and when it save
it it is no longer dirty good this is
the single
single use case single single user in
his case let's go for another user of
the system another team starter also
JavaFX which is now sitting here he sees
it and you may say well this is not
surprising because that information is
now fetched from the database or so and
yes you can why in this case there is no
database this is presentation state they
share presentation state now let's say
I'm create no pay attention I'm going to
create a new member for the for the team
members application it will also appear
over here but not as a selection because
here I already have a selection right so
I create this one it will be selected in
this one it is over here but not
selected but I see it over here what the
other one the first one is seeing is the
dirtiness of my of my edits so let's say
I want to have the second one which is
of course me rent deck my edits make it
dirty it make it dirty over here right
this one is currently seeing that I'm
doing something and that he may want to
contribute or that he made you step away
for not stepping on my feet right you
have far less conflicting edits if you
visualize what somebody else is doing
because most people are not harmful on
purpose they they like to work together
usually so let's say
derek is now like so chronic he sees
back here because this is the one that
actually started he sees the edits and
said well you know that one over here
Koenig this this is spelling error right
I help you out that should be so you see
this one right updated update it updated
everything updated immediately and
that's the check everything must update
immediately okay so let's say while I'm
I know I accept this and I changed the
workload
now when I change the workload here with
the slider it must change here it must
change over there but it since this is
selected it must also change the slider
over here right four places with a
slider okay loop
stay calm you know it's it's not not not
good for your health if you're already
excited so early in the day yes
yes you would like to change the
property at the same time we can do that
yes latest wins so the the default
conflict resolution is very simple uh
sorry the question was do I have a
reason what if multiple people change
the same thing at the same time they
cannot change it at the same time
because as we will see there's an event
bus on the server side and all the
changes are put on the event bus and the
event bus see realises the the calls
right
so whatever eventually happens to be the
sequence then on the server side is the
elbow latest state now that's the the
conflict resolution that way is is very
stable we will actually see this even
more prominently in in the IOT talk with
open to often in half-past twelve in
control room for when we come to UCF
where various devices changing the
direction of the rocket launcher to the
other side of the room possibly and then
firing rockets that's gonna be cool
thank you you have to go there yep but
yes thank you for the that point if the
Wi-Fi actually I'd like to to show this
immediately since since you asked right
I'd like to show this immediately for
that reason I need to go to the Wi-Fi
hmm since I only have one curse on my
machine I either do this on on an iPad
or one of you could actually follow me
and go to http s double colon double
slash Klondike
can you come which is our server in this
is our development server which is very
small in
the has no tongue has no quality
guarantees whatsoever so there is a
dolphin growls but it wouldn't want to
go to the demo dolphin grounds yes if
you go here there's a team members
master-detail you where people are just
connecting from everywhere in the world
to as a web view on what we are just
currently seen right so if somebody else
also connect this is canvas oriented
this is responsive design with this
thing so yeah do it like so maybe have
the first one and call it ah somebody's
thank you who was it
yep thank you spin cool stuff so now we
could try to to make a conflict right
we're we're trying to make a conflict
select the duck down here right and I'm
trying to the workload is the most
sensitive one for conflicts because it
sends so much information when dragging
when the other ones this architect and
and consultant and so on and are not so
critical CEO which is my boy is it's not
so when we I try to get the workload to
107 please try to get the workload to
zero right
can I pretend a break here zip so I'm
about hundred and you're coming back
you're trying to drag it back okay can
fetch it anymore so we can we can it
works right so it goes back and forth
and you see if he wins and yeah and then
I do it again yes you can and I can also
save and now it's saved and when it
changed it again and you see this is
also immediately updating overhearing
and by the way what I can also do since
the Wi-Fi is the Democrats are with me
so the Wi-Fi is here what I can do in
the
I'm going a little bit ahead of myself
in showing you a multi-channel
application web application in Java
epics application at the same time
sharing the same model over the brittle
Wi-Fi okay try that so I go to I'm
starting against Klondike yep it's doing
HTTP starting this one team starter
needs to connect to the to Switzerland
which is the 12-hour flight yet given
give me a thing and I'd like to show
this to you so you see the the Deer
Creek down there right yeah yeah there
we go
there we go having things visualized
differently for example in HTML I say
available true false whereas in the java
epics you will here I do some little
piece of animation that it went and when
I click it correctly with the difficult
to click then it comes up and down and
this is also reflected immediately or
the contractor goes up and down and you
see it happening over there as well
right clicked I have to see all
available here and then somebody's is
changing the workload still so if I
change the workload it also changes to
the respective value so I can change
either by I can change on the web on my
mobile web I can do this on a on a smart
phone and on a tablet and on the web
ends in the in the JavaFX application
ingest to just a second and just to give
you the to round up the the example in
this in this case what you can also do
is you stop working here you stop
working in Europe that's that's crunch
oh I see yeah close this one another
typical kind of application that you can
now write is the following but you can
now have as an enterprise application
you know not the specialized application
with hand over and iOS in conversions
and how that is called the peple right
you can have special apple programs that
do this you can now have that in your
application it works like so you're on
your desktop you're managing your team
aren't you saying well this one is
really should have architect role I need
an architect for this one okay let's
take data holes you're not yet finished
you have there is no edit to the
database it is dirty right its UI state
now you're caught off you need to go to
a meeting sorry
so I cannot I cannot say it because
that's not staple that I would like to
save okay so I have to go to a meeting
the meeting is boring I pick out my iPad
so on the iPad I go on to this one
hopefully I see my dirtiness yeah yeah
food you got this because the caching
can somehow then I changed the architect
that one that one is not visualized as
being dirty yep
but the architect is here you know what
so I can said isn't that really I guess
there's probably an error in the CSS so
I can continue working right on my
mobile on my web from home and whenever
when I'm done let's let's try this this
way around say I'm making work load of
100 for the for the last point one I do
not save close it is that still around
yeah
and then when I'm at home and I'm at my
desktop I start working again with all
the beauty of Java ethics and see this
workload of 100 being displayed here
right
that's the dirtiness ok I understand why
I didn't see the jerking is the other
way around that it's never on my side in
the demo because that dirtiness is alway
only calculated against this state when
I started I shouldn't do that ok can i
this this is running in Switzerland okay
twelve hour flight back and forth for
every request plus plus plus plus plus
plus plus plus plus plus plus plus plus
plus plus the plus is actually when I
click the plus it is not allowing more
pluses until the plus has been committed
right confirmed so I can over here and I
can delete it delete delete it sorry
this this is the the demo the demos has
I want to have it so that's application
causes your decision right I would say
it stupidly a good decision what happens
what happens if I delete everything and
if there's any other demo running that
will kill me sir yeah I delete
everything and now you see there is some
kind of visualization for no selection
well this is a blur mmm back in back
here and it's visualize that I have no
selection also here that's a
visualization of no selection which is
important if you look into the demos
Forex for example this one for angularjs
table try the very same thing and watch
the results
sorry I refer to your question for too
long
the question is can I can I have an
exclusive lock on a presentation model
the presentation model is totally dump
right it is like a data structure it
doesn't know anything it's like a row in
your database the database management
system is in the place of having these
locks and so is your controller on the
controller server side it is up to you
when you listen for events from the
event bus whether you exact the accept
them or not you can just throw them away
that's your application logic decision
that would be it so what you can do if
this there's various scenario so a bit
difficult for me to look into what
certain scenario you have there could be
a scenario where one client tries to
change the value that you would actually
what your question sounds like you'd
like to have a two-phase commit for a
distributed transaction right this is
what you can do with open dolphins you
can actually by default you have
something which is almost like a
two-phase commit for a distributed
canceled transaction because you can
from the server side say you know what
nice try but I'll set you all back all
the values because that's not feasible
at the moment it's also server-side
validation happens in the very same way
that's kind of and I hope it gets close
to your question yeah that was not the
question
yeah okay yes the question was not to
achieve these master detail view
goodness and there's so much more
goodness than what I can explain this
morning how but how is that working
together with being flat right so really
every role in this table in the master
view is backed by one presentation model
all these presentation walls are of the
same type which is only a string
identifier that might type right which
is in a constant yeah but anyway so
these are all of type team member and
the the model here binds against a new
team member being available so new team
member type being available this and
what a store listener please notify me
whenever there's a new team have
available I put it in my list which is
backing the in the view model sort of in
the sir in the budget model that stands
behind the JavaFX table view the
observer the list I put that in if the
server says notes the here is
presentation model has been gone I find
against that as well and remove it from
a list so that's that's how the list
comes into play and this update between
master detail you which is awesome
because yeah thank thank you for for
creating new ones in here we should have
a bit of information in it just to make
sure that we connect to the right one so
it also happens is that the selection is
awfully fast I will now use my up and
down arrow keys for changing this
selection and this goes not just with
the length at least not immediately only
asynchronously without me hindering me
in using the user interface so the tip
tip tip over here well wasn't for dip
dip dip dip dip dip dip dip dip dip dip
dip dip dip dip if this would go with
every keystroke to Switzerland before
the next one is is selected that would
not work yeah proper use of command
pattern and asynchronous ot
is at the heart of the system I'd like
to proceed limit probably a few more
questions about it but anyway I'd like
to complete the story
yep and we played a little bit for the
chatting but yep it's that's the your
same thing here's something as well so
you can connect also that's that's also
available on the web so you changed for
example on your iPad you're changing
these these selections of dates and then
you see it immediately changing in the
other on the other device you're
changing the your investment horizon
which little media people has blown the
other devices as well and so on it's
very very interactive in this gift the
the idea here is that it gives a totally
new customer bonding experience because
the customers you don't ask the customer
what's your what's your investment
strategy are you laid-back and just want
to have it run or are you very
aggressive he may say one or the other
but if you were working with him
together you find out but really his is
his risk profile and it's about the risk
profile yeah pretty cool actually so and
it keeps your customer in the play and
he's not an object of that process he is
a subject he works with it so gives a
better customer bonding experience how
does it work we go a little bit into how
does this multiple clients work this we
started with this scenario but now comes
a second view we started with a with
multiple JavaFX views it was first
JavaFX view now comes the second one the
very same thing exactly the same same
code same code here same code there and
then there's an event plus on the server
side that makes it possible that these
two server-side components can talk to
each other posting on the event bus
reading from the event bus being
notified on the event bus that's it
that's the whole magic once you're on
the server side you know once your
application logic is on the server side
there's you can do it so much right
question was to the controller's talk to
each other know the controllers get the
event as injected and they publish on
the event bus whatever they think is
relevant to others and you can subscribe
to the event us because that's the same
code they're subscribing and and
listening is in the same class so to
speak in in Java chaps and yes here you
listen for changes in whatever you do
but these changes is up to you for
example the question was can I have a
passive for every pessimistic lock you
read from the event person just ignore
it
right that's that's the approach okay
that and therefore you can have really
many of those yes that's like free Vinny
is come free free Dali have freed the
dolphins let them jump out
so not only JavaFX but the whole world
not only the desktop but the whole world
right since your application lives on
the server side there is no need to
pigeonhole that information to only one
you I took it multiple devices same
application logic I'm not only is not
only the equivalent logic is the same
not the same class a new instance of the
same class whether you are running with
the JavaFX client or swing client sorry
else we client from depth line whatever
can use very different UI technologies
and then there's this new notion in for
Apple and Microsoft Apple called
continuity you're starting your work on
an iOS device and then you hand over to
a MacBook whatever and then put it
forward they call that continuity
Microsoft has something that they call
convergence same thing you can as of
today you can have that for your
enterprise application as well and then
these follow-me apps which is you go
from one two eyes unto the next device
in and proceed working
typically when you try to put your stuff
on multiple channels with what channel
is little bit in question but anyway and
call this channels not only what you'd
like to guarantee that you have the same
application logic you I would like to
have some consistency and how it is
displayed maybe that's what you can
steer what is displayed and security
measures and so on but the typical
approach to this which is source code
generation attempts they typically lead
into the least common denominator
between all the channels not always the
case you can be less award intelligent
about it but the typical cases that you
have the least common denominator or you
have some lots of if-else logic in there
this is bad we don't want to have it
we'd like to have the full channel
fidelity all right whatever the channel
gives if the channel is giving you
device orientation you'd like to have
that 12:30 I gonna use device
orientation for steering the rocket
launcher ok that's it so again since you
create UI toolkit specific views for
example using UI to suit specific
projector for doing this you can fully
exploit what is on the device what the
UI technology gives if you have JavaFX
you can do very easily to job if it's 3d
on an ipad maybe not so much right good
so you can use that that's the idea
full channel fidelity follow me apps we
have seen that yep marie-claude and on
the web how is that going you know this
is how we started we have like two
clients this is multi-user environment
now we have many different devices into
our toolkits the only thing that changes
is that the client has a different
technology everything that blue stays
exactly the same as before only the
binding how the viewers create and how
you do the binding
the model is different actually when you
when you look into an a well written
open dolphin client in Java epics in one
in JavaScript they look almost identical
create the view do the binding done
create the view do the binding done and
the server side is identical anywhere
not only equivalent they're identical
two instances of the same class yep and
then when you're on the web there's so
many different kind of toolkit I
actually forgot a few conversions
through these Cordova and so on which
are also very popular yeah they change
over time actually they've changed
pretty quickly and you want to decouple
you from the specialities from from the
special details of their toolkit at
least you would like to have your
application logic being decoupled which
you get automatically without offering
our here's one example where we have all
kinds of different so this is team met
the first version of team member without
any styling yet but yes you can have it
on the iPhone and a swing version of at
any JavaFX version and it's Java epics
version that runs is a swing frame that
runs it Java FX node in that view in
there where there is the JavaScript
version include okay it works yeah you
book and then actually pretty fast
you wouldn't want you wouldn't believe
that in typical web and even then native
packaging with what you have PhoneGap in
Sencha touch and so on yep so sorry
again can I talk to multiple service at
the same time so the what you would when
you have something that you'd like to
share on the server-side the event bus
the both both of them must must be on
the if the event bus is perfect class
path I would say right if you'd like to
have that distributed over on the
cluster then you need to set up
something like
at least then you're in the Rihanna of
Java EE right how do you coordinate
information between multiple nodes in a
cluster there's very solutions to that
there's JMS and their coherence and so
you can use one of those but typically
I'm not quite sure what the Somoza
question that you're you be are
maintaining a session to the server side
and we could you can if you want you
could use session or applications on a
cluster and then no matter where you go
you get the right information but we
usually don't do this we use sticky
sessions right we when one client starts
it all this very client always goes to
the same server but typically clients do
not live very long they say could be
that the second one goes to different
server if you want to chain then share
information unit B Jamie S or something
on the server side because it is that
you're crashing yeah
the question is suddenly how does it
scale two big applications it is the
architectural model of Si P well this is
exactly like si P is working you can now
claim that it doesn't scare but but it
is
I would I would claim this is not only
from experience that is also from just
just by thought but what you can what
you can expect scalability is not so
much the issue right because scalability
have it depends on where your bottleneck
is like memory and this kind of
attachments is rarely the boundary it is
it is rather more full tolerance in
terms of failover
that is critical and my claim would be
that scalability is not an issue but if
you want to have a really very good fail
of a scenario that requires some work on
the server side and possibly a session
occupation is that yeah good thank you
yeah and then later in the day we will
talk about using this in just just one
statement about them whether I have Java
ethics or web or swing or a device that
can blink an LED or a device with where
not a person is creating some text and
putting in text in pushing a button but
is sending sensor information makes no
difference at all to open dolphin that's
all client-side specifics right
therefore it turned out to be a pretty
good application architecture for the
Internet of Things totally something
totally unexpected and never planned
when creating the system so here's we've
run it on a Raspberry Pi for example
this is the supercomputer by the way
whereas Mary PI into in the IOT space
that's a supercomputer anyway grunts
Java it runs open port inclined and we
use it actually this this is our
office these are the meeting rooms and
here is the the Raspberry Pi running up
often and displaying the current
occupation of the of the meeting rooms
who is scheduled for which reading room
in at which time so please come to
Switzerland visit us you are invited and
see that this is really true yeah this
is this is what we're doing and this is
open bulletin on the server side talking
to our corporate calendar and mining the
information of who is in which room at
which time and then visualizing it this
is open dolphin being used by thankfully
by tadka stella and this is reading the
sensor information without temperatures
in Calgary
so therefore minus 13 and visualized
with Java ethics or communication by
open profit yes
client size in terms of yep so the the
open dolphin codebase itself is one
thousand five hundred lines of code
includes client and server for a very
long time it's 1576 for a very long time
it was exactly 1024 hey and I refrain
for doing any change because it was just
nice yeah anyway so it's very small so
it needs a Java Runtime that's more the
the point right unless you have a device
that can run JavaScript this device the
Tesla is having all kinds of sensors but
it is running JavaScript natively okay
so this can connect to so this this is
running the dolphin j/s client and I can
many people ate all the berries at LEDs
and what and can read all the sensors
and so on and this is talking to the
server the server is also having a D
control panel which is a Java FX
application for them visualizing what
has been read over on this device or
also manipulating that device back again
so when when I click on the green button
here the
green LED goes on and starts reading
temperature and sorry sound in light and
the blue one is it will recognize sound
spikes if I do dope it will recognize
that as a trigger and start firing the
rackets okay that's for the afternoon
yep that will be in Continental ballroom
for by the way it was interesting
experience for getting this through a
security when doing the air travel in my
end language mean it's good so that that
was our picture before but now it really
skewed comes further right so we have
the just to build a mobile app you have
brass berry pie which stands for devices
that can run Java on the client-side it
can be anything that runs Java on Java
ME would be good enough and then there
is devices that can even run job about
they can run JavaScript very small ones
microcontrollers an ARM chip that has
almost nothing that can do it but the
story is Nova actually we can include
totally alien devices devices that are
so small that they can hardly the only
thing that they can do is an HTTP GET to
a server or whatever protocol they do
nothing else but still since we keep we
can a force or flight over here that
pushes the information on the event bus
we can still integrate this with all the
other ones benefit of server-side
application logic and this we will
actually see in 12:30 as well and we
will use the iPhone loggers and or what
that orientation thing to to put that
information here on the Aventis
it's so nice you know you have
everything decoupled all the various
pieces are fully decoupled nobody knows
about the existence of the other ones
let alone being influenced in the code
by being the other ones having them
available or not
so the visualization is decoupled and
the sensors and the actuators and sort
of decoupled and it all runs in the
cloud
nice nice nice they're gonna be all soon
open both from the cloud talk on
Thursday then you can do how much time
it's then 3d maybe if it was more
general what would you like to what you
like to have a 3d demo or what a generic
undo/redo demo okay times up
I decide we just proceed you have to
believe me
so this this is a factory floor we do
have a number of customers not so many
but some that pretty much in the JavaFX
3d and they visualize the factory floor
and this is only a very small version of
that lots of sensors that stands in for
sensors that give information something
you can have 3d views and work around
with that and so on and we send like
typically up to 20,000 value changes a
second for the digitalization that's
pretty that's more than the human eye
can digest so it's pretty cool and and
it is useful because you can it the
visualization shows you when there's
certain pattern of errors in the factory
floor like this then a leakage some way
over here and you see all the red is
over there and so on if you get me so
that is especially for the for the
energy industries that's important
generic under video once you have a
command pattern right you can not only
set back to some state that you knew you
have before you can roll back every
single change because you have always
the old value
and the new value can fetch them up and
in play them back and play them again if
you have an undo thing and since the
whole everything the whole implement
visualization is only driven by value
changes read about you write a value
where you change the whole including
selections and so on rolls back it is 20
lines of code to write a generic undo
redo with open dolphin in with then we
have all kinds of of demos for that we
also do use open dolphin for for deep
data analysis as we call it it's not big
data because that's only 1.3 million
data points that are in this table
loaded under second that's a bet and
when you do any selection over here this
is power plants in Germany so you you
say well in mind switch is in town
there's 921 this includes all the small
solar panels and so on so this is the
selection and then I select only the
ones that are about wind make energy
from wind and then you see this the 10
over here and you hope you will already
see what what will be the size of the of
the result and sunsets and then you
can't just just drag things around and
construct your your your query like this
this is called faceted search like I'm
using solar pretty cool yep so for your
management if you're certain if you are
convinced in like to convince your
management as well here's the management
flight what it is said it is an
architecture in the first place so the
idea is the architecture and by the way
we we will produce a jsr for that
architecture and if you are interested
you're more than welcome to join the
effort it is the communication between
views and controllers are structured
that it all happens asynchronously it's
kind of reactive programming if you've
got optionally remote and we're using
presentation models for that
why we care I guess no in the end it
boils down to saving money and doing
more than the others right and always
but okay
what we can do is receiving money but
because we can't create things more
quickly as our clients say but okay and
it's very easy to test you can test your
UI against the presentation models and
that's cool no client says this is UI
testing without UI pretty pretty good
because from test from a genuine
attesting to say these are the
presentation models they want to have
these are the values if I now issue the
login command what I expect is the login
value being true this is how you write a
test fully independent from your UI
technology but still testing the UI
application code presentation code and
since you have separated this logic from
the details of the presentation with
every change in presentation technology
there is some piece of the code which is
an investment and not only costs right
this holds over time and this is this is
where you save money because it holds
over time ui technologies come and go
logic lives on and yes when you have to
select a certain technology today for
visualization you can bet on one and if
you're if you're doing something that is
that must hold for one year and the
longer then just pick one right that
suits your fancy
but enterprise applications although
it's long often have to span over many
years and if you'd like to hedge your
bets
then open coffin is a good alternative
for that you can't be and while you do
this you can be more efficient and can
provide more value to your customer than
others migration from this is swing Java
ethics they both use open dolphin and
for changing
- this is almost no effort it's a story
yep
if you think clean is better go for a
blot of him especially also the main
there's the normally on this slide I had
minimal coupling and then in an open
coffin training there was a professor
and he said well you know what you
should claim there is no coupling
because what you to ask no coupling as a
biologist it may be little bit too much
of a claim so there's no traditional
coupling there's still a little bit of
semantic coupling that you have but but
extending the application changing it
maintaining it is certainly much easier
please you can follow it opened often I
will post any news about the jsr on that
on the Twitter channel be happy to to
have lots of supporters for the jsr yes
so if sorry
if you ain't go pick pick pick pick pick
I wanted to there's this one slide with
all the coordinates yeah so again here
you'll find all the information this is
me and and here is all the important
things and if you like the show then
please fill the feedback forms and if
you didn't you know what this feedback
thing is not so important in this at
canoe we do lots of free stuff we do
this all open source software open
worthless Apache 2 license we give away
information for free we give away
software for free every now and then we
also do something for money which is we
can will you come to you consulting
training engineering and our goal is
that you can sign that you can make the
best possible applications
you can do thank you so much enjoy the
conference</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>