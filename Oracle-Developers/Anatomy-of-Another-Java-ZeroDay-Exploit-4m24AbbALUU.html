<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Anatomy of Another Java Zero-Day Exploit | Coder Coacher - Coaching Coders</title><meta content="Anatomy of Another Java Zero-Day Exploit - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Anatomy of Another Java Zero-Day Exploit</b></h2><h5 class="post__date">2015-06-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/4m24AbbALUU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">aha and welcome to our presentation
anatomy of another Java zero-day exploit
my name is David Svoboda and we have
yodel toda here from JP cert so I will
begin the lecture and here's the format
you may recognize this format if you
came to last year's lecture anatomy of a
of a Java zero-day exploit this lecture
is pretty much modeled after the last
lecture but the exploit we're covering
is a different one so you know don't run
away there'll be lots of new material if
you missed last year's lecture then
don't worry there isn't anything in
there that you need to know I'll go over
everything that is useful for this X
this exploit I was just saying to you so
that I think of our outline like a
hamburger with the intro and the
conclusion being sort of the buns of the
burger the meat itself being the exploit
and the patch and of the exploit s or
being the vegetables not a lot of flavor
but they're really good for you and and
likewise the the final bun that the
conclusion is really important and holds
everything together but it kind of gets
squished at the end if we're not careful
okay
so I'm gonna move this over so I can see
both the slides and the mic this is
there we go so so what do we have here
this exploit that I'm going to be
demonstrating exploit this vulnerability
CB 2012 Oh 507 which was discovered by
ensign three tears he only discovered
the vulnerability he didn't discover the
exploit and this when this was actually
exploit it managed to create cause a
botnet of half a million Macintoshes and
this was back in the days when people
said Oh max don't get the viruses well
there was a time when they didn't get
viruses
I hate microphones okay so um to make
things clear let me give you a quick
timeline of first of all the the
vulnerability was not such a big deal
until it was married to the flashback
Trojan the flashback Trojan had had
existed for since about September of
2011 but it was using a different
exploit technique it was trying to fool
people to thinking that it was
installing that they were installing
flash and it was only when it was
married to the Java vulnerability that
we it caused this huge botnet to spring
up truly a match made in in hell I guess
and we even discovered that as of
January 2014
you know 22,000 machines are still part
of this botnet so let me give you a
quick timeline of events first of all
this vulnerability was discovered
sometime before August around August of
2011 so it's pretty old one and freeters
practiced what we'd call responsible
disclosure he didn't sell the
vulnerability in the black market which
seems to be very fashionable these days
he simply notified Oracle and they
coordinated together to publish the
material at the same time a patch came
out so so in January the CVEs
was created but it had no information
but it was in February that Oracle and
free tiers coordinated to actually
update Java to patch the vulnerability
and almost simultaneously published the
details of the exploit on free tiers
blog so it looked like the problem was
all settled eventually the exploit made
its way into native Lloyd and several
other publicly available exploit kits
and so it looked like everything was was
hunky-dory unfortunately that was not
the case first of all as I said the
flashback trojan managed to manage to
use this exploit and at the time that
did this the exploit there was no match
for Macintosh's at this time the
Macintosh was using a version of Java
that was supplied by Apple Apple is
simply taking Oracle's Java and instead
providing it on its own on its own so if
you had a Mac you had Java installed
automatically whether or not you used it
consequently Apple while Oracle had a
patch available for Java in February
Apple didn't release the patch until
late April and by that time we had half
a million Macs in our in our botnet so
so bottom line you know leaving
unpatched versions of Java can be bad
news and cost apple and Oracle a lot of
bad PR so for this exploit I'm going to
be referring to well three main sources
first of all is our own book the certain
Oracle secure coding standard for Java
and thanks Joe so for the Japanese
translation here by the way this
material is also available on the web
secondly I'll be referring to Oracle's
own secure coding guidelines which is
also available on the web and finally
certs own Java coding guidelines these
rules in the coding guidelines are a bit
looser than what exists in the certain
Oracle Java coding standard it is
possible if you're really careful to
violate the rules in these guidelines
without making your code vulnerable but
still following these things there's a
good thing before I go on I should
mention that we're having a book signing
tomorrow at noon
come by the bookstore you'll get pick up
some books and you'll get free
autographs from the authors
okay so so how did the exploit work in
order to understand the exploit I first
need to give you some details of how the
security manager is supposed to work
under perfectly normal circumstances and
so the way I'm going to do this is with
a demo I'm gonna show a virtual machine
and I just realized I don't know how to
keep the Mac mic and the Mac working
together so can people still hear me if
I'm not might okay okay so what I have
here is a Debian virtual machine and
it's running it's ready an old version
of Java one point 7.0 Update - so first
of all I'm gonna run a benign example
thank you it goes them we're gonna round
a benign example of a sign Java applet
now when this applet runs it
first of all Java warns me you know that
I need to run that I haven't verified
the signature so do I want to give this
app at all privileges and if I say yes
then the applet runs and it runs this
program called excise this is a really
old X program the instructions say that
this program watches everything you do
and reports it all to the boss but all
the program is really doing is just
following my mouse pointer you know back
in the 90s I had fun when I had office
mates in my office I would zoom the
exercise program to full size and then
just leave it on my machine when I went
home so the main reason so the program
itself well it looks creepy it's
perfectly harmless it follows your mouse
pointer but in order to actually run
that program my applet needed to have
full privileges normally the security
manager prevents applets from running
with full privileges and in order to run
this I had to say yes this
but has privileges to do things such as
running external programs or accessing
the file system you know doing anything
that desktop apps normally do applets
are normally prevented from doing this
now this applet was signed and so I was
allowed to do that I'm going to kill
Firefox now and run and try and run the
same Apple again without signing it
today you have you cannot run apps
unsigned but when java to java and seven
update to was out you had to run apps
side so if i run the unsigned applet
example unsigned we don't get any applet
at all we just get this loading message
and the eyes never come up and this is
because the security manager said nope
you don't have permission or anything
else you're throwing a security
exception and the applet died it just
simply shows this loading message i'm
going to quickly show you a little bit
of the applet architecture so i'm a
little time Emacs person so we're going
to look at desktop the java first of all
that has my notes of how to do what we
do various things and if we go into the
example directory so here's the HTML of
the sign applet it's very simple and if
you can't read this don't worry i'll
show the actual slide with this material
in a little bit so the HTML is very
simple and the applet itself is also
very simple there are two main methods
to worry about this init method and the
pain method the paint method created
that loading message you saw in the
failed applet and the init method
created the excise method of the
exercise program that you saw in the
signed applet so now that i've finished
showing a bit of demo let's see if we
can get back to our slides there we go
so the security manager is a chaperone
that Matt that watches your applet and
interferes with anything it tries to do
such as touch other files in your file
system or or things on the network and
when and when it's working properly it
makes sure that your program can only
work within the confines of its space in
the web browser or it might be given a
single window but it can't pop-up new
windows it can't pop-up ads you can't
serve malware and so that's not that's
how an applet is supposed to work
normally so here we have the the
well-behaved applet and again it's doing
it's very simple all it's doing is
running the excise program and waiting
for the program to terminate before in
itself permits if there's an exception
thrown then it prints the exception to
standard output but standard output so
the both the sign and unsigned demos I
showed you had this exact same code the
only difference between them was that
the security manager stopped us from
being run excise and it threw an
exception
the unsuccessfully but well didn't exist
so yeah oh the athlete every applicants
ists of two methods this init method
which actually does the main work of the
applet and then while the app for this
loading you have this paint method which
invokes which in this case just showed
that loading the sign that we saw so
that was able to run and then here is
the the HTML again now as you saw the
unsigned applet had you know failed the
run and didn't really show us a really
interesting demo so I'm going to quickly
run the applet viewer the applet viewer
is a Java program it's part of the job
of distribution that
runs an applet outside of a web browser
so you can you know you can interact
with that with it outside the web
browser you can actually see the error
message that you will get so let me run
that right now
so you see here that we get our windows
saying loading we don't get any any eyes
but we also get this exception there we
go and you can see the exception
basically consists of the security
manager saying you know being invoked
when we tried to run the exercise
program and the security manager said
wait you don't have access to any files
bang you're dead
so back here so back here there is our
exception again and you see the
exception came directly from running the
excise program which the unsigned applet
was not allowed to do so now that I've
shown you how a sign applet can be can
work properly you know and and play
nicely with the Security Manager we get
to go into how an exploit works by not
playing so nicely with the Security
Manager so so this exploit targeted Java
1.7 update 2 it also targeted earlier
versions of Java and it simply bypassed
the security manager turned off the
security manager so that any anything
the applet wanted to do it could it
could access the web it could access the
user's machine it could run excise if it
wanted to it was in the flashback trojan
it was used to run malware but you know
enough of words let me show you exactly
how it worked so we're gonna run Firefox
again yeah on Debi and it's called
iceweasel and it looks a little
different but it's still Firefox and we
go to our exploit directory and Java
HTML and zap no request to do I want to
run this applet no worrying that my java
is out of date and not even a loading
message the system has already run the
eye's program without asking permission
from the supreme adder this is not good
so let's close that down again so Oh
oops
there's one other thing I want to do
I'll show you quickly how with the app
itself the exploit looks like
so here's the exploit the HTML is pretty
much the same thing that you saw it
loads up the exploit jar which is not
signed and the Java code itself well has
a whole bunch of includes but the applet
itself looks pretty much like our benign
applet there's just one additional line
here this disable security don't you
wish you had this whenever you needed it
and the disable security is all down
here and it looks pretty complicated and
it is but we have an hour to go over out
it works there's a bit more to it here
and there's actually a whole bunch of
hex material here which again don't
worry I know I'm winging Sweeney patches
really quickly we can take time and go
over how it works there's actually two
hex strings so so let's see how this
actually was put together okay come back
here
good all right so the best way to
understand how this code how this
exploit managed to work and pone Java is
basically to think like an attacker I'm
funky I'm fundamentally a developer at
heart but having worked in security for
about seven years I'm beginning to think
like an attacker so I've gotten pretty
good but you also here is better so I'm
going to turn over to yo so to help show
us how this code actually did his dirty
deeds
okay let's get into the meat part so
this right so I think as a listing the
attacker we want to execute some code on
the desktop but sandbox restricts such
activity so we want to do some action to
bypass such bypass such a restriction so
here
we try to we take a plan to make us new
class with a higher privileges so let's
think about how we can generate such new
class so we have claro de Grasse and
it's it has a method define grass we use
we can use define class to make a gene
generate a new class and this class this
method has several argument but the
important ones the one important
argument is second argument right away
and the last argument protection domain
white array data disk specifies the
actual class data and the last argument
protection domain specifies some
permission privileges so we want we we
the attacker want to define some new
class with the higher privilege so the
the story we want to do is like here we
prepare some malicious upgrades on on
our site and that victim user to access
such malicious operate when the Manchus
applet is downloaded it is executed
inside the site sandbox but the
malicious applet do some specific action
then we can you we can generate some new
crust with the higher privileges and the
generated attacking class do do any code
we we prepared
so let's check the details about the
country a privileged class class so
inside Mauritius up right we prepare
some vite vite data as a string
oh yeah okay okay
and let's go this is our Korean a
previous class because increased attacks
from does the creation that's a main
part of that malicious update durak
mister exists so inside that we prepare
that byte array from the string data
singing data and specify the right data
of new class specifics so and using that
byte array we call defined class with
that last argument create protection
domain resort and this create protection
domain method creates some permission
object thank you so the lower half of
the slide shows that a create protection
domain it generates permissions object
and add permission information
so this create protection domain method
returns highest privilege information so
here we try to define try to use the
fine class with the highest privilege
information and here the last line of
the create protection domain exists Kota
sauce and bra bra bra bra here URL means
any local files so if we can make this
class then the that class can access any
local files actually any local file and
any network resource in any way
accessing means reading writing and
executing so you can execute excise
programs
I only say that okay mix right white
string that contains ah yeah so this
this code shows that how we create a new
class from that by the swing the bikes
you can tell the white string is a Java
class because it begins with the
sequence cafe and this vital data can be
generated from the usual Java code but
next we explain about some malicious
byte string that that is that that is in
that is impossible to generate from the
usual Java code anyway next so hex hex
device is a simple convert converting
methods from string that they taught to
write array okay
so how do we get the privilege health
object into this into this code that is
the tricky part so but simply uh when we
want to use define class that's a we
have some difficulties because crossroad
um class is ours is abstract so we
cannot use new operator to generate crap
crassula object and one more defined
class method of the crossroad ax is
protected method so you cannot call
define class method from outside that
class or coding coding from the class
Roda
class it's also impossible so we should
prepare some subclass of the class
loader so as I said newing class Rhoda
it's prohibited and so how can we get
across Rhoda actually inside update we
can get across rola itself but now we
need a subclass of class Rhoda and so we
need a subclass of class Rhoda because
the factors can be recalled only from
chakras the grass Rhoda
so we create this class which is a
subclass letter however we can't
actually create an instance of a health
object because the security manager
prevents you from creating a new class
over yeah I put it is specifically
prohibited to create a subclass of class
row now so we what we as an attacker
should bypass such restriction because
we no longer need to think like an
attack early to think like a developer
thank you yes all we need to think like
a developer and I need to divert to
talking about heat pollution and heat
pollution specifically yeah
specifically refers to the practice of
making the JVM think that your object
does of one type when it's really of
another type the most common context for
heat pollution is in trying to stick an
element into some collection of
different types such as we have here so
the the compiler tries to detect cases
of you know wrong types such as such as
we have here it's not completely perfect
and mostly that is - in order to allow
generic types to interact freely with
raw types bottom line the the Java
developers added rod types raw
containers back in what 1.2 when they
first created the JFC and they added
genericized parameterize types in 1.5
but they did not get rid of the raw type
from 1.2 because that would have broken
legacy code so so I have a couple of
code examples here and I don't think
that we have time to demo them come by
and see me afterwards if you want to see
how they work but all we're doing here
is we're trying to pollute the heap with
some small examples first what we have
here is a case Wartrol
kind of stick and integer into an array
of strings and then we just simply print
out the array can anyone tell me anyone
cared adventure what happens when we run
this code so there you go yeah you don't
get a class cast exception because the
system because the compiler lets you do
this thing it lets you cast an array of
strings to an array of objects but the
runtime somehow know is that it's really
in a raised strings and when you try and
stick an integer inside this array you
get this array store exception I didn't
know about that if rates or exceptions
existed either until I tried to run this
code okay so first attempt at heat
pollution foiled second attempt at heat
pollution a bit more complex and now
we're using generic generic types and
raw types so I have a list of lists of
strings and I try and stick a list of
integers into this list of lists of
strings anyone care to guess what
happens in this code I'll give you a
clue we get a compiler warning on this
line because we're passing a raw list
into this function which takes a
parameterised list and that doing that
you know lets us partially carry this
off but but still the program does run
and what does the program produce does
the program print anything or does it
stop immediately with some sort of
erased or exception so in fact the
program lets us actually pollute the
heap there's nothing to stop the stop
the JVM from sticking the list of a
single integer into the list of strings
and therefore the program happily prints
out foo and bar before it tries and
pulls up the next string discovers that
snin jur and complains about a class
cast exception so
heat pollution is indeed possible and we
do use heat pollution in our exploit but
can we use this material can we you just
use you know lists and vectors and
arrays to do it well we do wind up using
arrays but we have help from a certain
rather obscure class the atomic
reference array class so this class was
introduced in Java 5 and it provides
it's mainly part of the concurrency
framework it's supposed to to allow you
to manipulate an array and arrays
elements atomically you know so it's
safe for working with multiple threads
however the atomic reference array class
while it fulfills its concurrency
purposes it wasn't really designed well
from a security standpoint to Clues was
serializable but it does not override
this the default read object method and
so therefore it doesn't prevent you from
serializing something that is nefarious
shall we say the actual code for atomic
reference right is is here this is the
code from update 2 and as you might
guess they change it a good bit in
update 3 once they discovered this this
kind of skullduggery was possible so
first of all it's serializable it has no
read object method it also it has a
clone method which calls a raid clone
the interesting thing about that is you
know what if what if array here was
really some tight that had its own
nefarious clone method then then their
clone method would call your nefarious
flow method so that that's a hint that
you know that this this class is not
sufficiently paranoid but the other
thing is at the sentiment that which
lets you change the value atomically
does not use simple java assignment
which does a good bit of type checking
it instead you
this unsafe class to do the assignment
which means that the standard Java type
checking is bypassed okay
yo so I think we're back to so total
appears it's uh Turkish time again so
when confusion variability when we find
them type confusion vulnerability we can
we have a chance to do action of heap
pollution and actually the Arabic
referring solid class has that type of
confusion vulnerability so the other
cards called tries to put class or other
object a twink reference array data and
use that as a subclass object of the
class loader okay so people like drawing
a picture the malicious data structure
is here we create such malicious data
structure in a bytecode she realizes the
data and that operated they see rewrites
this data on the memory that the
specific craft crafted party is here the
private data of atomic reference array
is referred from the outside help object
so our strategy is putting class Rhoda
accessing that
object from here
so this is not a data structure you can
create in Java itself because the atomic
reference to raise private array should
not be you know available to any other
class so you have to like serializable
nine data structure and then manipulate
the serialized file somehow all right so
including such code that disabled
security needs here mixes right so we
prepare such malicious data structure as
a she realized data here we are a byte
array and prepare as a byte stream and
from with us such string yeah and now
read object they syria writes such
malicious data that that read object is
the default action over the system so
after the read object method is executed
we already have have such malicious data
structure on the memory so we can
prepare atomic refine sorry and helped
object so getting a cross flow that
itself here put such cross row the
object to the private project array of
the ultimate difference of a set method
it's been a burden since soleus so the
second and last line of code puts the
rick puts the class loader into the into
our malicious object and then the final
line actually pulls it out the other
thing is still a perfectly normal class
loader but the system now thinks it is a
health object yeah actually is just a
string data explaining describing and
some vital data and we can use the same
method hex to bite to make bytes okay
so after calling a set method we can
access the class Rhoda add object of the
subclass over the crossroad up because
help class is defined as some grass or
grass Rhoda so the last line of this
holds Durak helped 0lp0 means actually
yeah class Rhoda
project again this is the do work method
that we've shown you before and this and
now you see that we actually have a real
help object well and a class loader
masquerading as a health object so
moving on here's the final bit of the
exploit code the init code which simply
involves disable security so actually
disable security method runs this
realizing the data and coding class Rona
and disabling activity manager so after
that we can call excise program right
thank you so so so to summarize the
exploit code is taking advantage of two
vulnerabilities here the first is that
we can create this impossible data
structure outside of Java completely but
the atomic referenced array allows us to
import into memory you know
while filing the privacy of the atomic
reference race already got that and
secondly we can use this this impossibly
the data structure to to dress a class
loader object in the to make it look
like a help object which we can mean you
can use to call our own make our own
class and the class that we make simply
does simply disables the security
manager
and that is how the exploit works it
takes advantage of effectively two
vulnerabilities in the JVM and the Java
core library so now that I've thought
now that we've shown you how to how the
x-point works
what did Oracle do about this problem
well as you might guess they passed it
but how did they patch it the patch was
pretty straightforward in that they
added some input validation to the
atonic reference rays DC relation
instead of relying on the standard D
serialization which allowed us to
construct that impossible data structure
it has some old checks in first of all
the field must be an array type
otherwise DC release from fails and
secondly it checks the data type of thee
on the grade it's an array of Sling the
size object the system uses this isn't
copies the array so this complies with
several with a certain rule and a
certain guideline and therefore
mitigates the vulnerability the for the
first boner ability in our in the
exploits path ok so here's the actual
code to atomic records array this is
from Java 7 update 3 where they they've
also a qualified the clone method to no
longer call the array objects clone they
use this arrays copy array which is part
of our library that's a good way to copy
and raise you don't trust the obvious
given but more importantly they add this
read object method which adds the
validation checks which I suggested to
make sure that what we have is indeed an
array and if the array is not a type
object then you
copy it to copy the array so that what
the atomic reference irate owns is truly
a private array and is not linked to
from from outside the array okay so you
also when we run this exploit under Java
update 3 what happens why did the
exploit fail so what happens is here's
our impossible data structure again but
the the atomic reference rates the
serialization method discovers that the
thing given to it is an array of Health
not an array of object it therefore
makes a private copy and therefore this
link that links these two things is
broken these two this array and this
array are no longer the same thing and
therefore the exploit code seems to run
perfectly fine but the magic trick is
broken when we put a class loader into
the into our data structure what we pull
out here is no longer the class loader
masquerading as a help it simply never
initialized it snows up here it is set
to null and therefore we want to passing
null to to our do work method and when
the do work method when the do work
method gets this this help object it
winds up actually throwing a null
pointer exception
so enough words again I'm going to
quickly show you a demo out of to prove
to you that this exploit is truly and
thoroughly deactivated in order to do
that I need to actually update to a the
Firefox web browser to a new version of
Java so this is a long UNIX 'command I'm
not going to worry about how it works
but suffice to say that it tells the
system to use Java update 10 we could
have updated to version 3 but 10 was
what I happen to have on the machine so
just forgive me for being a few persons
ahead so then I'm going to try and run
the array the exploit first of all we
get some dialogues because Java update
10 you know discovers that it's not the
latest version of Java the latest
version of Java 7 is about update to 65
67 yeah it's probably 68 now while we're
talking so I don't want to update this
now let's just keep this is keep going
and now it's asking if I and now it's
asking if I want to be actually run the
system without you know without
automatically running that's again a
feature of the newer version of Java so
I'm going to go ahead and write it and
as you can see we get no eyes we get
nothing but this loading thing which is
the same behavior we had from the
unsigned apple the exploit has been
foiled as Yozo and I have described
so again here's the two vulnerabilities
that that bedeviled Java update to and
Oracle solve this problem well we don't
like to say solve in security world
because nothing no problems remember
truly completely solved we simply say it
they they mitigated the first item
therefore disabling the exploit and
patching the problem so now that we've
gotten to the now I can talk to the
conclusion the first thing I want to do
in the conclusion is simply show some
some big picture issues the first here
is I've been trying to compare the the
exploits techniques with the techniques
of last year's exploit blasters exploit
came in August of 2012 and the first
time I did a compass I'd by side
comparison of this the two exploits I
looked at had the exact same five steps
but these two have three different
beginnings the last year's exploit
basically acts as some forbidden classes
and some forbidden methods in the Java
for libraries whereas the exploit this
year's exploit instead manages somebody
creates and manages de cretes I guess
you could say it actually is a forbidden
method but the forbidden Methodist class
Lenore duck defined class which already
has within protection but after the
first two steps there these two exploits
worth the same they both managed to
create privileged code that runs with no
security restrictions that privilege
code then simply disables the security
sandbox normally a security sandbox the
security manager will will stop you from
claiming to disable it but that only
happens if the code that disabled
disagree sandbox is unprivileged so once
both exploits disable the security
sandbox they are able to run anything
they like
okay so here's simply again a comparison
of the two vulnerabilities both this
year and last year's exploits suffer
from two vulnerabilities but the
vulnerabilities themselves were very
different but well they had one thing in
common both sets of vulnerabilities all
four worked with rather obscure and not
well understood sections of the java
core libraries you know not only people
work with beans let's just say I haven't
worked with these but you know how many
people get to work with beans atomic
records arrays class loaders and
serializers you know that's not a very
common mix at least I never thought they
were common until I started saying
security so this is a summary of the
secure coding guidelines both from cert
and from Oracle that were violated and
Oracle was able to mitigate the
vulnerabilities by by effectively
modifying the comic reference rate to
abide by our DC relation so I'm just
gonna I'm gonna last just touched on
some big-picture issues this graph that
we're looking at was produced by
Microsoft Research since it's from
Microsoft you can take it with as large
a grain of salt as you'd like but
they're basically claiming that Java has
for several years accounted for more
than half of the reports they have of
machine pwnage it's obviously competing
with other things like flash but but
Java has clearly been a source of
insecurity in in Windows for several
years and while Oracle has stepped up
their game and released what 67 updates
it it looks to be that it looks like
they're losing the battle so why are all
the updates simply
addressing why are we still having so
much so many reports of Windows machines
getting pwned when Oracle's been you
know updating things frequently so I
mean my speculation my cancer to this
and this may be out of date but it's
best summarized by this rapid7 an
article which happened to date from the
time that the flashback trojan occurred
where they complained that even with the
patches that oracle has released you
know at which at that time were only
three updates at that time most people
were still running outdated versions of
Java some people you know never updated
a lot of people didn't know that Java
was even on their machines they never
used it they didn't need it and so the
large reason is that a large I'm arguing
that the fundamental problem is that
people weren't applying the patches that
Oracle was supplying and that's the most
obvious in that Apple didn't apply
Oracle's update to fix this problem
oops I said fix again Apple didn't apply
this until after a Mac botnet had sprung
up so so to conclude I want to don't
deal with class loading javabeans atomic
reference arrays I don't think I ever
done with AMS stuff before security so
while there's lots of things in Java
that get lots of attention and lots of
love think of the streams of lectures
are features I haven't gotten I wasn't
able to get into any of the lecture
tox screens are off they're all booked
completely but margulies my clerk in
those Facebook but they can learn
everywhere especially in coeds defecated
obviously obscure you know humans but
not widely known about and and on the
code is this huge task with little glory
so it's very tempting after seeing a
exploit like this for people to to bash
Oracle you know they should keep up with
their with their ex but they should be
more careful or they so are they people
like the back half an apple should be
updating Java more carefully and I don't
want to rig either than over the coals
because this is a huge huge problem and
it's a problem you know partially are
for one thing both families have gotten
better warbles at least most of their
updates after dissing at that time I
just looked at the Wikipedia article for
Java 7 and the article said is that
Oracle still the rolling out updates
every quarter I think they're rolling
out updates a bit more often than that
someone needs to update that article and
Apple of course well they responded
slightly differently they no longer ship
Java with the Mac if you're using jump
on your Mac you had to download it
yourself or well whoever downloaded
installing it came directly from or so
so building lots of code like this is
expensive and passionate code African
built and deployed to hundreds well
millions of machines is even more
expensive we therefore recommend
preventing the Baldwin's during
development which is much cheaper than
trying to prevent them later on
we also why the course the guidelines
both the both search books as well as
the Oracle guidelines the Oracle
guidelines are freely available on the
web and and keep up the day with passion
snail attack make sure you're using the
latest Java 7 if you're if you haven't
upgraded Java 8 yet while I'm talking
about bash being a public service
please use the latest version of bath
well unfortunately unfortunately if
you're using a Mac I don't think they've
released a a newer version of bash yet
so so what Mac users have to wait until
until Apple releases one and in the
meantime you can sit in which that you
are using Windows I guess okay so so the
last thing else when we say is again
Robert support you stand over there and
I are co-authors of these two Java books
that describe the certain horrible
secure coding standard and various ways
of securing Java they continue
information about this exploit and about
they equip them last year and we are
we're having a book signing tomorrow at
at 12 o'clock so if you come in my book
we will have me happy to autograph for
you all so you you get the e-book for
free as well any questions
yes good question I for a long time I
thought that well besides security
people like myself I thought that the
applets were dead no no new apps were
coming out and then I actually had to
run an applet that offered a training
course at at work so I think the answer
is definitely yes
I don't think they talked about it much
but they do write applets well yes that
too
any other questions all right well thank
you for attending and I'll see you
tomorrow 12:00</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>