<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Docker Support in NetBeans, Eclipse, and IntelliJ | Coder Coacher - Coaching Coders</title><meta content="Docker Support in NetBeans, Eclipse, and IntelliJ - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Docker Support in NetBeans, Eclipse, and IntelliJ</b></h2><h5 class="post__date">2016-09-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/oxlVasKGaYk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">thank you so much this is the talk
pretty much right after lunch so fully
you guys had a good lunch and won't fall
asleep in the talk I'm not I'm promised
I won't sing a lullaby
my name is Arun Gupta and I work for
Couchbase I coach mrs. NoSQL database
that's sort of my day job but I do a lot
of things around darker I'm one of the
darker captains and what that means is I
talk about docker pretty extensively
I've written a book for O'Reilly and for
Java developers if you go here for
example it's a free book that anybody
can download so you could overlay
dot-com you search on docker for job or
developer and the book shows up right
here so it's a free ebook you can
download it it's a quick and easy way
for you to get started with docker and
understanding from a Java perspective
docker does give you language agnostic
behavior of it though so even though all
the images and the concepts that are
explained in the book are Java specific
but you can certainly apply them to the
language of your choice in no sense they
are restricted to Java now the talk
today or the talk right now
is about how do you use this darker
tooling you know in the traditional
classical ideas you know you're using
NetBeans Eclipse IntelliJ those are the
three tools that I'm gonna be looking at
it and depending upon the time that we
have I might be able to show some darker
and maven integration as well on how how
do you build an application that is
using docker and maven together okay so
let's get started the first thing I'm
gonna the three IDs as I said are darker
Eclipse and IntelliJ those are the three
tools that I'm gonna be using no slides
here I'm only gonna be showing the IDE s
and what all you can do with it okay so
I'm going to start my NetBeans here and
for that you can see in terms of the
number I'm using 2016 0 9 15 so this is
a nightly build from for night for
NetBeans and where do you find nightly
build so you ask Google that question
NetBeans nightly and you go here and you
download the latest nightly so if you go
to latest
essentially what I'm using is a build
which is about four days old but you can
click on latest and the page pops up now
you can download either all or I
download the Java EE version because
typically I'm building an application
then I want to run it in container and
lose all that sort of stuff so that
integration is useless what you're
useful for me so you download the
appropriate version and then you have
the darker support in there it's not
available at this point of time in
NetBeans 8.1 which is the GA version so
if I go to say NetBeans or org NetBeans
8.1 doesn't have the support for docker
yet whenever the next version is
released which is likely a dot 2 there
it will have the support ok so let's
fire up NetBeans here not the knight 8.1
I'm looking at 9:15 ok
so this is very classical netbeans
environment here you know this is where
you build your projects for darker
support essentially what we are looking
at is in the services tab and if you go
to the services tab there is this new
icon here which allows you to configure
multiple docker hosts now a classical
development environment and I think you
should give a little bit of background
on this the classical flow the way it
works is you know you have a client a
docker CLI which is talking to a docker
host which is where the docker engine is
running you ask the docker engine that I
want to run a container or I want to
download an image or I want to build an
image so you have to have your client
configured to talk the host and the host
says ok you wanna run a container and I
don't have that image I'm gonna go
download that image from the docker hub
put it over the host and run the
container all the logic all the magic so
to say happens on the docker host client
but stays very dumb and so is the docker
hub which is that's where all the images
are sitting so the client does the logic
you know asked to download the image and
run the container on the host for a
typical development environment you
typically have the client and the host
on the same machine so NIC in my case
I'm running docker for Mac where the
darker CLI is there or I'm running
darker machine where I can set up a
docker host very easily on my machine
and then I have a docker CLI configure
to talk to the host when the docker see
a doctor for Mac or doctor machine
either of those so here is my NetBeans
let me expand the node here and let me
get rid of this completely ok so this is
how your NetBeans will look like if I go
to a command prompt ok all I want to do
is I want to take a look at it
docker machine LS so it shows me if I
can make this more readable yeah so here
is saying okay I got two docker machines
running this is a default it's using
VirtualBox driver and the machine is
stopped at this point of time so what
I'm gonna do is I'm going to say doctor
machine run and I'm gonna say default
start so I'm gonna start the doctor
machine here and this is basically
nothing but a VirtualBox tiny Linux VM
or a moby moby Linux VM which is firing
up that's where my docker host is
configured that's where my daugher
engine is running this is what
understands all my docker CLI commands
that's where my images my containers are
gonna run so while this is running now
here I need to right click here and I
can say add a docker host so I say add
docker it's still running here ok so now
I can say dr. Machine LS I have to use a
sorry I have another talk at 5:30 this
afternoon and it uses a different
version of darker so that's why we had
to downgrade the version so what I'll do
is let's say we're gonna use this mobi
craft doctor machine for now is getting
confused become different versions yeah
it's a different version of docker
that we install on this machine so what
I'm gonna do is I'm gonna use the darker
machine that is already created for me
so I'm going to go here and if I look at
it it says 192 168 9900 okay that's the
IP address of my darker machine it's
running on our tcp port and the port
number is two three seven six this is
where my client talks to the host you
know that's all behind the scenes you
don't need to understand all of this but
this is it's just to understand how
things work under the hood the darker
client makes a request to the docker
host behind the scenes is taking that
client command converting it to a REST
API call sends it to the host the host
processes it and returns a rest response
back that all happens behind the scene
for you from your perspective we just
gave a docker CLI command so now when I
go back here I'm gonna say I want to
create a darker machine okay I'm making
a new instance here the URL is are
populated for you by default now when
you are connecting to the darker machine
you need to specify what your
environment
Able's look like or where your
certificates are so that actually you
can connect to it and you can browse and
go to that particular directory once I
have done that I can click on the link
say test connection and once I do test
connection it says ok know what the
connection is successful well we are not
there yet all we are doing is
configuring the darker machine at this
point of time so we can get to the
darker image because the first step you
need to do in an IDE tell it which host
you're gonna use on the host you have
images and containers so we start the
darker host as the entry point yeah yeah
doctor machine is where the host is
running because there are multiple ways
to run darker darker machine or darker
for Mac or as your I mean today is
confer is restricted to a local machine
but tomorrow NetBeans can update the
support 0.2 or darker host running on
Amazon for example so once I click on
finish so there my darker machine is now
configured in NetBeans so the typical
things that you want to do here is I
wanna download an image I wanna run a
container so those are the kind of
things you want to do in the IDE itself
ok
so I expand it here it shows me the
images and containers that are in
NetBeans I can look at the images that
already exist so there are two images
here which is one is a Couchbase image
one is the nginx image those are the two
image is existing you can take a look at
their tag information you can right
click here you know you can see more
information you know there are some
context-sensitive menu so I can right
click here and I can say I wanna run a
container and this will do that a little
bit later but then I want to look at the
containers here so it shows me all the
containers that are running over here ok
you know and the green arrow indicate
that the container is running so now if
I go here and I do
well let me configure my darker machine
here so I can my client is configured to
talk to this docker machine yeah now if
I do docker PS
client is newer than server okay let's
try this way okay let's create a new
docker machine create - Dee VirtualBox
and we're gonna say job 1 ok let's
create a new docker machine altogether
here
this way the client and the server will
be of the same version so what I can do
is as a flow I can say you know what I
don't care about this at this point I'm
gonna get rid of that darker machine and
once this darker machine is configured
all we need to know is the IP address
which is going to be 100 or 101 in this
case likely 102 was the darker machine
is configured then we should be able to
pull it back
give it a few seconds once the machine
is ready then we should be able to
connect to it so any changes that you
make in your doctor machine they're
visible in the IDE and vice versa
NetBeans doesn't have support for doctor
for Mac at this point of time NetBeans
only supports dr. machine so let me eval
this machine so that I'm now configuring
to Java one machine okay now this is a
brand new dr. machine I created so if I
say docker images there are of course no
docker images if I say show me the list
of containers there are no containers
running on it so these are standard
docker commands so now if I look at say
darker machine
LS it says the IP address that was
assigned to the job of one machine
essentially is one or two okay so what
I'm going to do is I am going to go here
and I'm gonna configure this instance
here instead of 100 I'm gonna change the
IP address 202 and my certificate path
is a default certificate path but
instead of going to default I'm gonna go
to Java one machine yeah and I'm going
to open this so I'm just changing the
credentials test the connection once
again connection is successful so you
are golden again so come back here now
this is your local darker you can see
the images just the way is in there the
same thing is here as well
so now let's say I want to download
image here so I'm going to say here I'm
going to say download an image call as
using the docker pull command so I want
to start searching say Rowan Gupta slash
couch okay the moment you do it
automatically starts narrowing the list
of images by default is configured to
talk to docker hub there are bugs there
are are EFI's file actually NetBeans
which will allow you to configure
multiple registries in the future so
here I'm gonna say just download this
image pull the image and now you will
see the progress here so you can see the
image being dynamically downloaded on
this brand new docker machine so once
the image is downloaded you're seeing
the multiple layers being downloaded but
as soon as the image is being downloaded
this UI will be updated
and then you can right-click on the
image and then run the container on it
okay I have a big demo script that I'm
gonna be relying upon so I'm gonna go
back there and by the way doc or Java
IDE is my github repo where all the
script is being maintained so you're
welcome to look at it but I'm just gonna
be following it along nicely okay so
while the image is being downloaded but
once the image is being downloaded then
you can run the container on it so I'll
wait for the image to be downloaded it's
about almost done okay
so the image is now ready for me now I
want to run the container here I'll
right-click on it I can say run the
container one of the things that
NetBeans is very well-known for is
simplified out-of-the-box experience you
know I don't need to worry about what
values to give and that's exactly the
case here as well I can just kind of
quickly click Next or click on finish
and it will run the container that's one
now but here I do want to give the
container a name I can give the
container a name here so I can say Java
one - Couchbase so that's the name I can
give it if I want to override the
command by default Oran Gupta slash
College based image does a command but
if I were to override it that's what
you'll specify so you can see there's a
very close mapping on what you would do
on CLI and what you will do in the IDE
itself if you want to do - IT that's a
switch that you use in darker CLI to
keep it interactive and assign a TTY
that's the switch that you will use
these two options go back here now
Couchbase is a database and database has
to be accessible on a host and a port so
I can say bind exposed ports randomly
that in a bunch of ports that needs to
be exposed so just go figure out what
the ports are going to be again this is
very equivalent to docker run - capital
P because it takes all the exposed ports
and bind them to a random ports or I can
say nope that's not what I want I want
to add a specific port then I will say
take a t91 from the container and map it
to 1891 on the host ok
once I do that I'm gonna click on finish
here so this shows the container is
running you can see the container log
here so as the container is you know
running it has a process that is
happening behind the scene which is
basically firing up the cultivates
database and cosmas also has a REST API
by which it can be easily configured so
it's going to issue those rest api is
behind the scene configure the database
and end of the day if I go here if you
recall our IP address was 192 168 99 102
so if I do that and I su do 1891 my
database is pre-configured ready to roll
and then now I can log in here for
example and I mean so just by a simple
command you could download the image you
could do this we are the CLI as well but
there's a closed mapping on what the
kind of things that you can do in the
IDE itself if that's what you are more
comfortable with ever I'd certainly I'm
lot more comfortable with CLI and I use
that all the time ok let's take a look
at another example now so for what we
have done is we have downloaded an image
we have run a container what do you what
if you want to build an image ok so then
you click on your host here and then you
say you want to build an image here okay
so for building an image you go to
specify a directory so I'm gonna go here
and I will make a new folder here call
as Java 1 for example I'll go into our
one and I will say open ok and I'm gonna
click on next I want to give this image
a name so I'm gonna say real in group
the slash Java one I don't want to give
it a tag by default the tag is latest
for docker
click on next then I need to specify
docker file here so essentially I can
click on browse and this directory
should have a docker file so that's sort
of a bit of a broken workflow for me
because essentially I should be able to
create a docker file here and say ok
this is golden and I should be able to
author the docker file here so for now
what I'll do is I'll go here I will go
to my Java one directory and I will
create a docker file here and
knocker file all I will just say is from
a ruin Gupta / Couchbase just that okay
because that's the image we just
downloaded so we don't have to download
an additional image in this case or I
could have also said you know for
example I want to run a while fly
container here so I could just say from
JBoss / wild fly so now I'm building a
custom image and there's a docker file
here traditionally what you will do is
this is where you will have a copy
command for example in the docker file
you will say oh my war file is built
somewhere
grab that war file put it into the
docker image and then that's it because
wildfly is already running copy that war
file put it into the deployments
directory of wildfly so that when the
image is ready
Valka is up what file is deployed and
it's ready to roll to keep it simple
I'll just say from JBoss slash wildfly
i'll save it here go back I hope this
will work so if I now go next okay
it recognizes the docker file are exists
so now when I click on finish this is
going to build my image and see here is
recognizing say from J bar slash wall
fly so it's downloading that image and
once that image is downloaded is going
to build my custom image
so typically pulling an image running a
container building an image those are
sort of your three main things that you
will do you know when you're running a
container now and scaling and all those
are all runtime aspects but during your
development time those are the main
things that you'll be doing essentially
all right let's do one more thing here
so I'm now in my file here so I'm gonna
delete close this guy here I'm gonna
make a new maven project here something
may one day she okay and I'm gonna call
it as Java one maven application for
example let's not worry about the
package names here click on finish okay
now in here I can go to files for
example and NetBeans and I can say
right-click new there other then
hopefully they'll add a data type here
which will be like darker file itself
but for now let's add a file and call it
as darker file okay now this is
roundabout way of doing integration with
maven but I just want to show you the
capabilities so essentially what I've
done is I've created a maven project in
the maven project I'm dropping a docker
file and then I can we have the ability
by which I can say ok now what now build
this maven project then use this darker
file to create an image that's not a
typical workflow though not the typical
workflows we are using maven is I will
use a docker maven plugin where you can
say I have a maven project and I'm used
to maven clean package or maven clean
install so then you will start using the
darker maven plugin and I'll show you
that show that sample to you in a second
but essentially when you say may even
clean package it will build an image
when you say maven clean install it
might push the image to docker hub ok so
let's take a look at that in a second
but here if I want to look at it
basically what we're saying is add a new
docker file and then we can show the
build here so what I'm going to do is
same thing now let's see how this image
is coming along yeah this has been
downloaded automatically for us so if I
go to from J bar slash wildfly and see
how it has code completion you know it's
assuming that you have created a docker
file so you know it's giving you some
commands over there there is a docker
file editor in there it just needs to be
integrated well when you're building a
new image so here for example instead of
add I mean when I use a copy command so
there's a command completion for docker
as well
and then I'm in dockerfile and here you
can see what does the copy command
really do so it's just like your Java
Docs or your API code completion there
is code completion for docker file in
NetBeans so I want to copy well copy and
then essentially in this maven project I
don't have anything here but if I can
right-click and build it this is gonna
generate a jar file for me so what I
could do is here I can copy this say
target file here okay and let's say if
this was a web application then I would
copy this here I need to understand that
when I'm deploying to Val fly that
docker image has a certain deployment
structure how would I do that
I will go to hub docker calm I will
search for wild fly I'll look at wild
fly and I know the word is deployment
but it basically says you need to drop
your war file into this directory or if
you are just doing a standalone as
opposed to a clustered val fly you need
to drop into this directory so i will
copy this directory name go back to
NetBeans and assuming this was a war
file so I would just drop it here and I
will call it as my application dot war
so now what you have done is and see you
can see the complete set of commands in
the darker compost file but essentially
what you have done is you have from
scratch you have created a docker file
you said this is my base image using
maven you could have integrated you you
have built the war file and then you're
copying the war file into the wild
flight directory and this again if you
right-click on this if you will build
this package here so if I right click
here if I say build this will actually
build my image so if I say build here
it's saying which instance you want to
build on click on next you know I can
say real good third or one two for
example or Java one and say two as a tag
and if I click on finish here o copy
requires at least one argument
that looks good to me
I don't know where is it freaking out on
this one if I do target yeah I don't
know why is it not happy the command
looks correct if I look at target Java
one may when one on snapshot dodge are
the dockerfile is in here
Oh doctor file is in the target
directory aha move it appear move it
appear it's not moving
no it is actually right there yeah
exactly so I don't know why is it not
resolving it when the command looks
correct to me target Java one maven well
I mean as I was saying that's not the
most natural way of integrating with
maven anyway so let me show you a
slightly different way which is the more
intuitive way on how you will integrate
with maven
it was a simple sample that I built
which basically shows how you can easily
integrate darker and mavin together in
terms of your tooling so if I look at
this par maximal I mean the project is
very simple there is nothing fancy in
here is just a source main and I have
this simple application simple rest
endpoint using Java EE 7 if you look at
pom dot XML that's where the fun is so
now if I look here I have the darker
maven plug-in first of all you know and
I'm using this in a darker profile so
this is a darker maven plug-in in their
document plug-in takes a configuration
section in the configuration section you
say you have multiple images that you
want to do in the image and of course
you need to kind of enclose it in an
image tag you can define that Elias for
alias for an image then you give the
image name that ok this is an image name
and then there is a build section and
there's a run section in the build
section for example you're saying and
remember in this case you are not using
a docker file all the instructions that
would typically go in a docker file or
create it for you in this maven profile
itself so in this case you're saying use
J bar slash multiply as my base image
and how do you assemble you know what
files to be copied into the darker file
what needs to be copied what needs to be
built all of that is going to be defined
in my assembly section so in this case
I'm saying OK the descriptor is assembly
dot XML the base there is this the user
is this each of these is getting
translated into a corresponding NACA
file instruction that goes in your file
itself and then you're saying expose the
ports 8080 and similarly you have run
section here as well so you're saying ok
when you are running map this port on
the host to 8080 port on the container
which is what is exposed here and then
when you're saying ok when the container
is running
show me the log and OH prefix with
wildfly node 8 and show me this in the
Sian color so now you can start putting
all those prefixes which kind of makes
your container running look a little bit
more friendly as opposed to just running
our container yeah and this is the
section that we are all familiar with
all we are saying
is when I do clean package or package
then invoke the docker : build phase or
goal so it will automatically build my
darker image and when I'm saying install
its gonna start it whatever phase or
goal you wanna connect you can do that
and the easiest way to find that is if
you look for darker maven plugins there
are there are a couple of darker maven
plugins that are most prominent there's
one by Spotify and one by fabricate my
particular favorite is fabricate because
that's the one I happen to use all the
time and there is a shootout between the
two plugins as well so I would recommend
you know looking at the shootout and
picking the right one but essentially if
you look at say dr. maven plug-in here
and it shows you all the targets that
are available to you
start stop build watch all of these can
then be tied back to your maven goals
alright so that's sort of the support
that we have in the NetBeans IDE and let
me show you one more thing here so what
I could do here is I have dr. Machine LS
the machine is still running which is a
Java one it shows this is the active one
so I'm gonna say is dr. machines stop
Java one if I stop the machine here and
I go back to my NetBeans and I look back
at my services here you know once the
machine shuts down it'll actually show
this in an offline mode as well they're
still stopping it but just kind of a
nice intuitive user interface for you
any questions on NetBeans and darker
supports so far no that's what NetBeans
is known for no you need you know yeah
that means is simplified out-of-the-box
experience unlike eclipse
yeah yeah good question you know as part
of the docker image where did I specify
which JRE JDK to be used now when I mean
if you look at the NetBeans here you
know this is my project okay this is a
maven project
this is Palm D'Or XML so all I'm saying
is by the way what about JDK is
specified in this form that XML use that
for building that's one part second part
is in the darker file I'm using JBoss
slash wildfly as my base image so if I
go to say hub docker calm here if I go
to hub docker
and I say show me JBoss slash while fly
and I go here and I look at the
different tags here so these are
different tags and it's saying which
version of Val fly you wanna take a look
at it okay and let's say if I'm looking
at the latest docker file you can look
at the docker file and there it says
it's using JDK 8 by default so if you
want to go with the JBoss slash wildfly
image you are gonna get JDK 8 if you
want a different JDK version for
whatever reason then you've got to build
your own custom while playing edge in
that case for example if we google for
this you know if we if I search for this
on docker hub and if I look at here and
if I look at the different tags here
you'll see there are eight seven JDK
seven different tags available here so
you may say you know what I'm gonna copy
all the context from there create my
custom image now in production people
don't go live with docker hub like a
public image because you want it like
nicely controlled and fully you know
execute it fully tested so what they
would do is they would probably run a
docker
private registry so if I go to say
docker hub hub dot-com I pick any image
for example this is image simple if I
look at the settings here I can say this
repo is public so far but I want to make
this registry private for whatever
reason because I mean
using a commercial product for which I
cannot push an image public wildfly is
okay but forge a buzz EAP 7 for example
you can't push our image here because
then you are violating their licensing
restrictions alright so let's take a
look at question yeah
you could totally host your own favorite
registry you can go to github.com slash
darker slash distributions and that way
that allows you to run a private
registry inside your firewall
it's a project and there is a
corresponding product from dr. as well
call his doctor
DTR or darker trusted registry which has
lot more capabilities where you can say
I want to run a registry and I want it
to be integrated with my LDAP reals and
all those kind of things fancy stuff
security stuff fully federated and all
those things you can do that too and
then there are third-party products like
J frog has artifactory and if that's
what he is configured in your
environment you can say I wanna push my
images to artifactory instead you can
set up a workflow accordingly but I had
a given point of time you have your host
is talking to one registry if you want
to set up that workflow that is up to
you alright so the next thing I'm going
to look at is last question can you what
debug an application yeah well that's
nothing specific to NetBeans per se
that's more about can you debug an
application in a docker container let me
insert Mel you can run you can NetBeans
has a beautiful debugger you can do all
sorts of debugging but no debugging in
the container yet alright but next thing
I'm going to show is Eclipse tooling so
Eclipse tooling works with neon by the
way answer your question in NetBeans 8.1
doesn't have it so you go to download
NetBeans nightly that's where the darker
experience is yeah with Eclipse that
support is in well it's been there for a
year now but the one that I tested was
with neon and neon is sort of their
latest release and I particularly tested
with neon one dot or c3 so I have that
up here so this is my neon one or C 3
and with Eclipse that support is not big
din that's what eclipse is now for now
you've got to download a whole bunch of
plugins in order to enable basic support
so very classic way you know you go to
help
you say install new software it's a very
eclipse II wait you need you need to set
up a tooling dr. tooling repository for
each RC there's a different repository
so that they can push new updates but
essentially once neon dot one is live
you will have all the latest features
available on the standard neon website
or newest neon update site or you if
you're using neon one that you can use
the neon update site already but what
that means is you will not get the
latest features that have been
integrated into the latest plug-in but
essentially once you set up the darker
tooling site then you can say install
the docker plugin and it installs the
darker tooling in your Eclipse version
you restart the IDE then you're golden
again okay what that gives you well it
gives you a new perspective so you go to
window you go to perspective you can say
open author and it gives you a dock or
tooling perspective let's take a look at
it okay so what I'm gonna do here is I'm
in console properties docker image is
Roorkee so I want to look at say docker
containers so it shows me the docker
containers here I think I was playing
around with this I'm trying to figure
out where did I Explorer okay now
corrects plural is what I want okay
docker Explorer and then I'll also
enable my docker images now that is that
is how you see default but I was kind of
playing around with it I must have
messed it up
so now NetBeans as I said only provides
support for doctor machine Eclipse is
the only IDE that provides support for
both darker machine and docker for Mac
so I won't show doctor machine tooling
here it's very similar to what NetBeans
as it's definitely a lot more
comprehensive in that sense so I mean
this is the support is built by the Red
Hat guys and of all the three IDs I
think is the most comprehensive and the
most elaborate
and most seamlessly integrated if you
are an eclipse person so here let me get
rid of this again delete okay here we go
so this is the view that you will
typically see okay so look what I'm
gonna do is here my machine is stopped
already so what I'm gonna do is I'm
going to run docker on Mac okay so here
my docker and Mac is firing up you can
see the icon the container is kind of
boiling on the mobi once this is live I
have a lot of containers images on this
well a lot of images at least so now
docker is up and running so I can say
connect to docker host I can use UNIX
socket because dr. for mac is using UNIX
sockets and see just automatically picks
up the default or I can say a TCP
connection TCP connection is what I will
use to connect to a darker machine and
in which case I can start specifying the
enable authentication or credentials and
stuff like that but I just want UNIX
socket so I give it a name and I can say
test connection being succeeded so
you're golden you can just move on it's
over there so you click on finish here
and it shows a whole bunch of images
that are available here it shows you any
containers in this case these are all
stopped now you can see the status here
created exited etcetera that's that's
too much of a view for me so I'm gonna
say customize the view here and I say
you know what exclude all the stop
containers don't show me the stop
containers and it just goes away poof so
it's that level of customizability and
eclipse plugin is really good sometimes
it's a boon sometimes it's occurred so
like why there is so many options in
here anyway I look at mobi here
that's my host name and it shows it's
connected using a socket I can look at
all the images that I got here and I got
I do have tons of images here and then I
see all the containers well no
containers are running at this time ok
so let's pick another example here so
I'm gonna say I want to run an
application let's say we stick with the
same thing you know bring up the /
Couchbase latest ok I'm going to right
click here
I want to run this image around the
container so this wizard comes up again
you don't need to specify the name name
is optional and then gives it a funky
name and gives the entry point command
very standard things you can publish all
the ports through a random port this is
again very similar to docker
- capital P where it exposes to all
random ports and I don't like that so I
can disable it and now I can selectively
enable/disable ports the way I want to
do it and more importantly let's say
eight zero nine one is the port that I
care about so I don't care about this
don't care about this not this not this
not this
maybe this not this and this is where
our full-text search runs on Couchbase
this is what the query languages this is
the query port as well but I at this
point I only care about the
Administrative Board of Couchbase and
I'm on the map there's to say if I want
to edit it this one here and I want to
edit it so container port is this host
port is 80 91 so okay okay yeah that's
good so host address doesn't matter so
all I'm doing is exposing port 80 91
this is again - I - T so that's the
intuitiveness you know actually giving
you the docker CLI corresponding options
over here so I can go to next here now I
can set up my environment variables you
know that is typically your docker run -
ii command I can start specifying labels
and that I'm gonna actually sir this
should be more constraints as opposed to
labels because when you are running a
container you can give it a constraint
and the constraint is gonna match with
the corresponding label on the host so
you can start creating some complex
scheduler algorithms if you're running a
multi host cluster now do you want to
run the container to run on a particular
node with that particular label and I'm
gonna give that constraint essentially
you can start doing your volume mapping
here and at this point essentially if I
go back here anything else I need to do
here nope I think we're good and then I
click on finish so it's starting the
container once again the log is shown
over here and I can go to the containers
view
I thought I'd customize the view here
okay
so now it's showing me the container is
up and running here if I go back here
this time I'm running on docker for Mac
so it's gonna be accessible on local
over school on 1891 and same thing so I
log into the Couchbase web console and
pre-configured Couchbase docker image
just shows up for you automatically and
just with a click of button you can
download the image or on a container and
all fired up for you yeah we talked
about the docker images view this is
where all of your containers and images
are there this is where the console is
now let's say my container is running
okay this is the drunk bike that's the
container name apparently so now I can
right click on this and actually I think
that's here actually I need to show it
here so this is my drunk bike and I can
say open image hierarchy okay that's a
new view that they have added recently
in neon one dot neon one rc3 so I saying
drunk bike is Arun Gupta slash Couchbase
but that's well in this case there is no
base image is showing here yeah still
rc3
so hopefully they'll fix it but
otherwise this shows sort of your image
had our key view that you know you have
a base image then you are going a from
as a base image then another base image
so it should be able to show you the
complete image that are keep you that's
a new feature that they've added pretty
recently yeah another thing that I want
to highlight here is if I go to eclipse
preferences and I go darker here well
like that but if I go to registry
accounts now remember NetBeans had
support for only docker hub in this case
you do have support where you can
specify multiple registries private
public whatever you want to specify and
you can start giving your credentials
here so I can say ok whether the server
address here's a user name email
password
now again this is a very basic support
because typically when you have a
private registry then you may have some
no certificates etc that need to be
specified but at least the tooling is
building up in these different IDs you
can set up your darker machine URLs here
you can set up where your darker compos
which is to able to be able to run
multicon tainer application all those
binaries can be specified here you are
pulling an image running a container we
looked at that we saw all the containers
okay let's take a look at one more thing
here
you know we walk to the container
configuration as well okay another thing
that I want to show you here is I still
have a to do here
let me find a project that actually has
dr. Campos and I do have lots of
projects like that okay so let me go
here and I'm going to save file and I'm
going to import a maven project existing
maven project and I'm going to browse to
my directory I'm gonna do workspaces and
I thought the one I wanted to do was a
wryly darker book and this is hello Java
EE if I open this project okay okay so
I'm gonna finish it here okay so instead
of at the darker tooling perspective now
now I'm gonna go back here and I'm gonna
say show me the Java EE perspective here
so I'm gonna go back here Java EE
perspective now in here is showing me
well nope I don't see my darker compass
file here oh here we go so now I can say
run as and I can run as a darker compost
file now darker Campos is where I
specify multi container configure multi
container applications so I have the
ability to not run that application so
from a maven project let's say I have a
darker compost where I'm running
multiple containers I can run that
traditionally like run as and run on
server and then on a darker compost I
can say run as as a darker compost file
in which case it will just automatically
start downloading your images and run
the containers so that's again a new
functionality that is added into Eclipse
tooling
it also has a docker file editor so what
I'm gonna do is I can go here for
example let me switch back to say the
darker perspective and now I'm in the
Images tab here or rather here so now I
want to build an image here so now I'm
going to give it a directory say it's me
a new image name okay so this is our own
group slash Java 1 colon 3 let's say for
example and directory containing a
docker file to build it so here that's
sort of a clean way I think so I go I
pick up this drop of one directory no I
can't do that I'm going to make a new
folder here so Java 1 - ok so I go to
Java 1 - here and here I can edit the
docker file so that's kind of a clean
cleaner flow for me I just have a sample
docker file here so I'm gonna just paste
it here and there is a command
highlighting you know syntax
highlighting all that stuff is available
so yep I save it here and I'm gonna
finish it so essentially in this Java
one directory it made this Java 1 -
directory and it's gonna create this
image and I say finish so it's going to
download the open JDK 8 image based upon
alpha in Linux and it's gonna build the
image for me automatically so all that
capability exists in eclipse as well
alright so we'll let it do this thing in
the background and it's still building
the docker image and it's gonna take
some time but in the meanwhile let me
show you sort of the last bit of the
tool which is the IntelliJ you know what
kind of darker capabilities exist in
IntelliJ and here I'm using IntelliJ
IDEA ee or not the community edition but
I'm using the full fully paid version
206 2016 point 2 which is the most
latest release for IntelliJ so let me
fire that up now you can see here if you
look in eclipse for a second the image
is successfully built now if I look at
the dark
images here and if I want to search for
Java one image it says Java 1 : 3 images
built for me automatically ok so let me
get out of eclipse here and here we are
okay so this is IntelliJ now what are we
doing IntelliJ well we go to IntelliJ
preferences we look at plugins we search
for well in our case we'll do install
jetbrains plugin so both Eclipse and
IntelliJ require the installation of an
exterior plugin as opposed to NetBeans
which has always been known for
simplified out-of-the-box experience we
just download the IDE and darker support
is there so now here I am gonna search
for darker and I can say install it in
my case is already installed so it's not
really showing anything but otherwise it
will show a button over here that do you
want to install it and you install it
you restart the IntelliJ IDEA and then
darker support is available for you
okay so I'm gonna cancel it here or if I
search for Haiti here itself
here it says ok the plugin is already
installed you wanna uninstall it you can
do that too but in our case we're just
gonna keep it as this ok so that's that
now the tricky part for me is you know
the installation is done so now I want
to start pulling images downloading
images that is not possible until you
create a project so that was sort of a
little bit of a confusing user
experience or a user flow for me but
anyway so what I can do is I'm gonna
create a new project here and this is
going to be a simple web application I
don't care about what values is using
I'm just gonna call it as Java 1 and I'm
gonna finish it
so here comes my project ok and I think
if I recall it correctly yeah so now I'm
gonna go to say preferences see the idea
is you say view tool windows and the
docker is already there oh because I
already have it configured ok yeah so
let me show you what I experienced which
should have been a better flow so here
if I go to IntelliJ
references build execution deployment
and a cloud deployment I have a darker
machine configured here and if I don't
have a darker machine configured here or
a darker connection configure here the
View menu doesn't show the darker
tooling window so now that I have it
configured it shows the darker window in
the View menu here and again if I get
rid of this for example setting up a
darker installation is pretty
straightforward here it only works with
darker machine there is no docker for
Mac support even in IntelliJ but if I
click on add I can say docker and it
just picks up the defaults for me okay
in this case what I'll do is I'll get
out of my docker for Mac and I'm going
to go back here and I'll say darker
machine LS I'm gonna start say movie
craft is already running okay yeah we
forgot about that part so this is
already running that's a 100 so yeah
import the credentials and yeah
certificate folder is specified here you
have the API URL and then you click on
OK okay so that's where this is now I
can go to view tool windows docker and
that's what my daugher host comes along
so I can say well again an additional
step that is required yeah man I
configure doctor machine why do I have
to connect with that you know figure out
the status based upon how the darker
machine is looking like and behaved
accordingly but anyway I have to
explicitly connect to the darker machine
here in this case or docker for Mac and
it shows you the images that are
available and the containers that are
running over there okay so that's the
one part of it I won't dig deeper into
the pulling image and running a
container you know it's very
straightforward you pull the image here
you can specify multiple registries as
well you specify the image name the tag
name so it pulls the image somehow
showing containers at the top of the
image is a little bit bigger to me I'm
more used to images and then containers
but I can say here
and I can run a container here for
example and then again another click so
now one thing that I like here is the
the level of customizability that is
available here so here for example I
want to run a darker on the server
that's the darker instance that I'm
running on it's giving me the image ID
in the browser for example I can say
okay when you run the container
automatically bring up a t91 for me so
it's a very easy way that I know when my
container fires up this is the host and
the port where it's going to be
available so just bring up the port for
me automatically and if I look at the
container side of it I can actually
publish the port here I can say alright
container port is 1891
host port is 1891 click on OK that's the
port that I want expose if you want to
do container linking which is pretty old
way of doing networking in container I
would not recommend for that but they
have still have support for that but
volume binding environment variables are
all there but essentially what we're
saying is when you run the container
automatically bring up this page and
Chrome is my default browser so I am
gonna say run it's gonna run my
container it has been deployed
successfully there you go so in my
browser it automatically comes up and
here is my standard Couchbase web
console now remember the image that we
were talking about I can look at the log
here you know in a few seconds it'll
actually starts throwing me the rest api
by which is configuring the couch based
container but once that thing is done
then I can literally refresh the page
and oh actually I'm sorry I used a couch
based : latest image as opposed to
around Gupta's slash couch place in
which case it would be pre-configured
but anyway this is available to me but
now I can go through the entire set up
off the couch based database but the
whole connection is there from the
internship perspective
building an image here is a little bit
tricky and it requires a little bit of
again a little bit more hand crafting an
intelligent side of it so yes it has
support for how do you connect to a
darker host how do you pull an image how
do you run a container but building an
image it really requires you to create a
specific directory
put your daugher file in there put your
darker compost file in there so it's a
little bit more work in my opinion and
then let's say if you have a project a
maven project so let's take an example
of that so here what I'm gonna do is I
have my maven project here which is Java
one okay let's bring it down here okay
so what I'm gonna do is I'm going to
expand this Here I am going to create a
new directory here which is what they
recommended methodology is create a
directory called as darker there okay
now I can go to projects here and I'm
gonna say artifacts this project is
going to create some artifacts for me
and I can call that artifact as say Java
one okay and instead of exploded I
wanted to be an archive okay so I'm just
creating a simple artifact in IntelliJ
now and oh I forgot to mention that
instead of in this random directory
which you choose on what it needs to be
I am going to pick it to be the docker
build directory that I care about so I
specify the docker dead directory here
that means every time I build the
project is gonna create a web archive
which is going to be an archive not an
exploded war and that archive is going
to be in the dock or a directory so
that's cool now when I want to run so
what I want to build the image for this
is automatically going to take that
artifact and include it as part of my
image so and the way I do that is
I'm gonna create a docker file in this
directory so once again I go here new
file docker file ok and I'm gonna copy
this here and our case is Java one dot
war so I'm just dropping that over there
so that that's a bit of a handcrafting
for me that you need to create a
directory drop a docker file in there
create the artifact in there so it's a
multi-step process to me so it's still
again not very seamlessly integrated
with my day-to-day workflow you know if
it requires me to jump hoops I think
you've already lost me but essentially
what you can do is you know if you run
the project here it's going to build the
project it's going to create the
artifact and it's gonna create a docker
image for you similarly the other part
that I want to explore here explained
here briefly is they also have support
for darker compost so again you can put
your darker compost file in there and
then you can say now well essentially if
you are in your project configuration
here I can edit the configuration in
this case I'm saying docker docker file
so when I'm gonna build the project it's
gonna pick up that docker file it's
gonna generate the artifact it's gonna
take that artifact put it into my docker
image and it's gonna build the image
alternatively I can put a darker compost
file right here itself in which case I
will change my configuration to say you
know what point to that darker compost
file so then I will say ok when you are
running the project by default is gonna
run the darker compost as opposed to
building an image ok yeah I think we are
right at the end of the hour anyway
so all my script that I talked about all
the current capabilities in NetBeans
Eclipse and IntelliJ are listed on this
github repo so dr. Java IDE is feel free
to take a look at this you know the it's
just a simple readme dot asciidoc so you
can look at all the scripts that are
available use them any way that you like
I also have some slides which talks
about docker IDE in general so feel free
to refer to them in any way if you are a
Java developer which is which is quite
likely
I would recommend go to github.com slash
docker slash labs here is a Java
hands-on workshop so if you go here it's
a fully self-paced workshop that you can
follow along which tells you exactly how
to get started with Java you know Java
and darker particularly so you can say I
want to build I'm gonna build the java
application it talks about docker maven
plugin it talks about you know your
complete CI CD life cycle and stuff like
that another concept that a lot of
people ask me is how do I build a CI CD
pipeline you know if I am a Java
developer and I want to use docker so
that's another of my github repo where I
explain exactly on how can you build a
docker how can you build a CI see the
deployment pipeline using docker Jenkins
and for a java application so this is
another useful github repo for you
alright I think that's pretty much the
end of it I'm gonna be outside the hall
if you have any questions thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>