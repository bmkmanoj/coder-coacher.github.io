<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Demystifying Java EE Microservices For Developers | Coder Coacher - Coaching Coders</title><meta content="Demystifying Java EE Microservices For Developers - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Demystifying Java EE Microservices For Developers</b></h2><h5 class="post__date">2017-08-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/70oo0OcmTZk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">and I wrote here okay all right sometime
this time I'm a Linux users of this game
things kind of happen in our windows for
why when you know the Windows user
actually you guys should be seen my
flash right now not my IDE okay and of
course I can't seem to get this
connection oh we may have to
we gonna have to improvise see yeah yeah
page down and page abnormal work so well
I'm trying to hear if I've to go into
presentation mode was until working
anyway
my name is David Apple finger I'm a Java
EE consultant here in the Washington DC
area I'm actually based in Fairfax I
just got an email today letting me know
that I am a Java champion so that just
happened I change the site early today
so you guys are the first to know
written several books and Java EE and
related technologies and I was named one
of 39 Java experts to follow on Twitter
so follow me you'll see my twitter
handle at the bottom of every slide well
I want to make sure you don't miss it
all right so what are we going to be
talking about I just coming out of a
cola had a cough drop so bear with me I
don't want to be cuffing you in the
presentation we're going to explain what
micro services are we're going to see
Java you can do micro services we're
going to see what kind of strategies we
can use to migrate existing applications
to a micro services architecture then
we'll have a demo with the actual code
we'll see code being deployed and a lot
of the presentations that I've been
attending to encounter theoretical it's
more practical okay then we'll talk a
little bit about what's coming in the
future in Java EE that might help
micro-services development and then
we'll summarize
sowhat's microservices is just an
architectural style instead of deploying
what we call a monolith or a
traditionally develop or design
application portions of your code are
written as independent services you
deploy them individually when working
with Java EE you actually bundle the
application server on it and all would
your code in general micro services they
just allow or encourage good coding
practices like low coupling and high
cohesion and in general they communicate
between them through restful web
services and their framework and
programming language independent you can
write into Java Ruby PHP what have you
okay so can Java EE do micro services so
Java EE or you know I don't know if you
guys know but if not you had something
called j2ee since 2006
but people still use the term date week
July I now anyway Java EE traditionally
do deploy to a big application server
like what sphere or WebLogic J but
something like that so you have a big
humongous thing like that it's not
really it's not really appropriate for
micro services you want micro service to
be small individual you know so modern a
lot of modern application server it
instead of having to the big tank you
can embed them with your code you can
create a jar file that includes your app
server and all and deploy things like
wildfly gets familiar with platform yep
pay our micro does this with Liberty
profile there's many options okay so you
deploy your code with your app server
you code of like your main component
where traditionally your app server is
the big thing and you have many
different or force or your plus whatever
loaded your big app server with this
embeddable supplication servers you
cannot turn things around okay so you
can deploy let's say you have a Linux
server you can deploy several instance
of your app server to the Linux server
so with this modern embeddable
application servers yes we can do micro
services using Java EE they're with me
because my pages and page down don't
work so what I was talking about
we can create an uber jar it includes
your code plus your app server with a
wildfire smart for example you can pick
and choose what Java API to deploy you
have to deploy the whole thing with a
other embeddable application service you
may not have this options they offer a
subset of the whole Java EE API
collection for you to use and you may
have to deploy all of them if you sit
and use all of them in your application
in addition to using an overage or you
could use something like docker and in
your container you will have your app
server and in each container you have an
instance of your app server and you in
this case you have instead of an uber
jar you have sin Wars we tend to deploy
faster okay all right so we mention yes
Java EE can do micro services right so
the advantages of going with Mike
reserva sources you're going to have
smaller modules you don't have as much
code right so the code base is tend to
be simpler okay like I mentioned earlier
they encourage good coding practices
like luke oakland high cohesion micro
services tend to be resilient when you
deploy your whole application at the
collection of micro services if one of
your micro services goes down your whole
app is on down just part of your app so
it's a little more resilient micro
service also helps scalability you might
not need to scale your whole application
and you might when we have parts of your
applications I need to be scaled up or
now so you can individually scale your
app over up right down depending on your
needs
alright there are disadvantages as well
you know you could have a lot of us are
using tools such as Jenkins or bamboo or
things like that for continuous
integration and deployment things like
that so now instead of the point one
application you have a lot of individual
micro services to deploy so there's some
over it there for debugging okay so your
customer doesn't need to know or care
that you're developing your application
as a series of micro services they just
say I try to say my data and my data
dentist says right they don't know that
how your application is it's architect
so now you don't have really one code
base you could have several micro
servers that are calling each other
so you don't really know exactly where
on the chain something fails so it might
development may become a little more and
involve disputed transactions in a
traditional or monolithic application
you can have for example an EJB that's
transactional and all your steps
you know something fails along the way
you roll back the whole thing but now
this micro service is calling each other
across the network potentially so you
don't really want to have transaction
spanning network calls and things like
that
so there's a challenge there with micro
services as well and they're also
succeptible two fallacies of distributed
computing anybody familiar with those it
was a guy called Peter dude I think my
language mispronouncing his name and Sun
Microsystems back in tinnitus came with
these fallacies still true today for
micro service such development excuse me
so if you're developing a brand new
application you just base the advantages
from disadvantage and you decide if
you're going to do a monolith or you're
going to do micro services that's fine
but what if you have an existing
application lets you migrate the answers
of courses it depends
again look at the benefits versus the
disadvantages if we have existing
applications we have customers out there
that again they don't care about
software architecture they just want
their features so these usually come
first right you sure your customers are
the ones that are paying so we may have
to just leave the architecture to the
way it is and just implement there's no
requirements or expects bugs or
what-have-you
okay I'm trying to find my place here in
this life here we go all right so let's
say that we do want to migrate away from
micro-services
there's a few strategies that we could
follow so we could do this iteratively
right so you take my module from your
existing traditionally designed
application I think told to stay away
from the word monolith because it has
negative connotations but it's so much
easier to say and traditionally design
applications so I just you know those
guys so you grab grab one of these
modules and turn into the micro service
and then whatever code was calling this
module it becomes a client so just
through wrestle Web Services what have
you that's a restful call to your
refactor code so then you do the same
with the second module so on and so
forth until you end up refactoring your
whole application to micro services
architecture okay we could also do
partial refactoring one of the benefits
of micro services is you have this kind
of independent service there that many
applications can calls just a rest of
what service call so you have parts of
your application that may be reusable
for other applications for other
components out there so you may refactor
only those okay so you don't have to do
the whole thing if you choose to go this
way you will end up with a hybrid
approach of a monolith versus or a Manos
and micro services
okay and you can also leave to choose
whatever you have the available tomorrow
if s is and when you have new
requirements and modules to come up with
implement those with microservices and
then those can be reused by other
applications out there alright so let's
go for a demo let me start my online
line here then I drilled Lisa - we'll
get them out of the way okay so what
we're going to show here is just a very
simple crud right create read update
delete but develop as microservices and
I gotta be full crud we're just going to
go to create part the rest will be just
the same right so I go over the same
thing over and over so we have actually
before we go we ever have a database
here that I need to run this guy I'm you
some - two databases have a little
project here that thin wrapper around
this this is going on we're happy okay
let's get that out of the way all right
so the view in our project this is just
a simple war file all we have in here is
just one simple can you guys see that on
me let me see if I can make fun bigger
see the back okay all right let's make
that bigger so just a simple HTML form
customer information salutation first
name they don't leave Italy they don't
really care about that that's HTML the
interesting thing is down here so jQuery
okay
this is an AJAX call to micro services
these are control remember that MVC so
we're looking at the view right now
after the user into some data and click
the submit button it will call up our
controller just an AJAX call jQuery has
a function to your library that grabs
the data and a form and puts it in JSON
format described these are the names
here and then whatever value and it
returns a it's an array in JSON so it's
fine for our purposes so I just use that
for this demo okay so we click Submit
control goes to our controller which is
micro services and research uses JSON
data from the form this actually go
ahead and run this view and the bash
shell is my chichi so give me a second
I'm used to play our micro by the way
haha well crime you okay typo there we
go that's better
my crew for
one one seven okay
now pay our micro by default forms a
cluster among all the instances running
on your machine so we don't want this
for this demo so we just use the no
cluster can't type to date there and
that's what happened here I'm on you not
forget it
I have a history here I'll just bang one
999 that should work okay yep and for
everything went well how about that
we'll have to mix so I was trying to do
earlier
okay now I'm hitting escape and I can't
get out of it
okay alright so here we go from you okay
so there's our form that's some data
there Oracle code right I won't submit
anything yet why right because our
controllers not running it all right so
let's look at the controller code before
we go all right truck controller right
here we have one class that we're
interested in sir alright let's make
this bigger okay so this would ever put
somebody here with jax-rs standard Java
EE API for wrestle with services so
that's what we're using here members is
Java EE and microservices alright so if
you guys are not running guys you might
not know that the browser by default
does not allow you to submit a Jeff's
request to other servers so we're having
different instances of that server here
that kind of counts as different
it's a different URL then the one that
generated the HTML so we can overwrite
that that's what this method is doing
here let it do this like cold weather
cross-origin request something or other
yeah that one okay all right so okay so
here's our okay so our controller is it
is actually a client to another micro
service or we're going to look at is
called the persistence micro service so
that's what you see here this JSON this
is the one that jQuery generated I was
talking about earlier I don't know why
net beach is not highlighting today okay
so I have a message here to grab that
JSON string and convert it to a Java
object so let's go there now here okay
anybody recognize the API that I'm using
JSON peak okay Java API for JSON
processing so today Java 87 latest
version of Java EE that we have out
there JSONP would come to Java EE which
we have to read the JSON parts and
populate Java objects unfortunately by
hand kind of sucks I'll be the first to
admit there's a libraries out there like
Jackson or Moxie that you can just go
one method you know call and it does it
for you that's coming in Java EE eight
thankfully but for now I want to stick
with the standards so I'm using JSON P
actually put that there for my own
benefit when I was writing the meta but
I figure I leave it there because it's
helpful when discussing it so this is
what jQuery will generate these are the
name attributes on the form field and
their values so it's actually a JSON
array so what we do here is just iterate
through that array and parse out all
the values and populate we have a POJO
somewhere cool customer popular this guy
with that data so once we have that
object then we call the third
micro-services and just persistence
let's just run our controller
never been very good at typing standing
up I'm in an awkward position here okay
thanks 193 I think that'd work
okay all right so now let's look at the
third microservices we should start
persistence
again jax-rs and all this does is
calling the create method on a dao this
is using JP a write java persistence api
very simple just call persist an energy
manager and then that gets persisted
into the database
there's our persistent little female all
right so just for the simple example
we're actually creating that they'd have
a stable on the fly from our entity
which something that JP allows so that's
what this property here is doing let's
go ahead and run a third micro-services
Mike service
when I exit
alright go back to the browser let's go
ahead and submit and taking this time
when those what happened
of course it's work perfectly every time
I practice is but alive you know what
you know what happened the demagogues
are not with me let's see let's try it
yeah somebody suggest that every fresh
so okay well this was working you should
have seen a you know customers say
successfully like pop up but then we
will look at the database and the data
will be there let's see let's see the
data there any chance who knows h20
database now the table is there that's
encouraging
yeah well there's no data let's see I
could try restarting all three I'll give
it one more chance no we'll just keep
moving
ah a little battery I got a now I got a
razor give that to haha okay now with my
browser go here we go let's refresh that
such a son mother my John Doe
nothing
strike Chrome and you know stuff are a
lot working just change your browser and
of course but kind of a thing good
alright where's chrome come on there we
go
now I don't know what's going on I
really have time to see there let's just
move on
it this was working well respected trust
me okay all right okay let's leave we're
doing good
now of course now when I want this to go
fools can we won't do it okay all right
so what's coming in future versions of
Java that's going to help us with micro
services I was mentioning that today if
we're going to stick to the standard we
stuck with Jason P Jason be the the Java
API for Jason binding is coming which
will integrate ideas from things like
Jackson and Mopsy and all these
third-party libraries that just populate
your Java from Jason so it's going to be
a lot easier I have to do all this
parsing by hand jax-rs 2.1 coming with a
lot of new features like support for
Jason be it's going to be servicing
events improve CDI integration right now
Jack so it doesn't go very well with CDI
and there's going to be security
improvement CDI 3.0 it's not directly
related to micro services but it's
actually really nice so so you have a
comfortable servers right now serves
just react whatever order the container
wants them to you'll be able to control
that and see at the point now you should
be able to fire events asynchronously
which is something you cannot do right
now and SPI elements is a feature of CDI
that you're going to be able to
configure a lot better in C at the point
o the invalidation invalidation is just
a series of annotations for data
validation things like date formats or
numbers or ranges things like that so be
in violation again not directly not
directly related to micro servers but in
general is going to make your life
easier the new well new it's not so new
anymore but the the Java egg
date time APs and abuse reported right
now if you want to viola get a
collection you have to generate to the
collection and value each element we're
in this new version you can just
validate the whole thing by annotating
your collection okay and repeatable
annotation for a new feature of a July
8th again not so new but Java has been
out for a while but Java EE needs to
catch up so it's going to add support
for that in in being validation to point
out all right now Java 89 is scheduled
to come out about a year after Java EE a
by the way Java is scheduled to come out
this summer so fairly soon three months
or so anybody here from another project
jigsaw you guys know what that is yes
yeah Shauna 13 oh my god I got in the
back here project just so is such that
adding modularity to a Java platform
Java you guys know has been around for a
long time Java came out in the mid
nineties some things that were very
popular in the Midnighters are not so
popular right now the example that I
really like to give all the time is core
by anybody here heard about kora those
of us that have been around for a while
remember kora maybe not so fondly but it
was very popular in the mid to late
nineties so when Java came out the JDK
came with built-in support for korva
today nobody uses korva but it's still
there right support for core was still
there because who knows somebody out
there may be using those API so you know
Oracle cannot remove them for fear of
breaking somebody's code out there so
project jigsaw modularity what this does
is instead of having everything baked in
Java will be modules and you pick and
choose the libraries of the API that you
want in modules so Java 89 will add
support for project jigsaw meaning that
your applications instead of being
deployed to an app server for example
you could have Java API for Elena's
modules there's also going to be support
for a circuit breaker design pattern but
it's familiar with
what this does is if you call a service
a few times and it keeps failing and
failing and failing I throw up
you don't actually call it you just stop
and you give like it can respond or you
know an error message or something you
just stop like wasting that we're
resourcing or whatever for a server that
is down it's going to be a new event API
no sequel databases are you know gaining
popularity for providing Java EE 7
doesn't really support interacting yeah
with no sequel databases so the idea is
to have one single API that can interact
with several different no sequel
databases and there's also going to be a
state management API that might be
useful for microservices
all right anybody hear of the micro
profile initiative yep yes ok micro
profile it's a series of application
server vendors and some Java users we've
got got together to come up with my
micro services support for Java EE the
list of vendors and justice here on the
slide
the idea is not to compete against Java
EE but do some innovation and then once
the dust settle and they see what has
worked on behalf and come to incorporate
these ideas into the Java EE standard
it's actually a micro profile version
out there today micro profile 1.0
includes three Java EE API so sure sure
the ones that we saw today for the most
part jax-rs CDI and JSONP okay so I
already mentioned this microphone does
not compete with Java EE I guess I know
my slides too well I get ahead of myself
ok I already mentioned all that all
right
so Java EE is suitable for micro
services if you guys are here at Java EE
developers I doubt that you so much
that new to you right so you can use
your existing expertise to develop
microservice you just write your code
and deploy an embedded web server one
application per module and off you go
you have your micro services and like we
saw monitor for traditionally defined
Java EE applications can be partially
completely factored to use micro
services okay so there are some
additional resources actually this talk
is based on an article that I wrote for
payara so you guys can download it and
you get a little bit more detail than
what I gave here I don't know if you
guys are familiar with the aquarium it's
a blog by Oracle so they have the latest
news on Java EE and here's the website
for the micro profile initiatives and in
case you haven't missed my Twitter
handle at the bottom of every slide here
is very big follow me on Twitter
alright any questions no yeah so the
reason that I decided to you know
architect or write the example that way
just to use something that we're pretty
much all very familiar with MVC but you
are completely right in the real world
we probably wouldn't do that you would
do something like you know by
functionality just split your
microservice that way yes yes yes got
plenty of time for questions
so okay so the question is how do you
resolve dependencies between
micro-services and that's actually one
of the disadvantage that I mentioned
earlier that there's a lot of
interdependencies and if one of them
goes down and the other one might not
work exactly right so there's really no
you know good answer to that it's just
one of the issues with micro servers in
general or not not only with java ee
alright if there's no other questions I
guess we can go as this questions keep
them coming yeah
yeah sighs sighs</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>