<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Scaling a Mobile Startup Through the Cloud: A True Story | Coder Coacher - Coaching Coders</title><meta content="Scaling a Mobile Startup Through the Cloud: A True Story - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Scaling a Mobile Startup Through the Cloud: A True Story</b></h2><h5 class="post__date">2015-06-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/UENACOOclQ4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to building a mobile startup in
the cloud which is a bit ambiguously
named and a bit of an ambiguous premise
in the abstract so I hope we're all on
the same page in terms of what this
session is actually about I'm going to
talk about that soon enough but first of
all I'd like to introduce myself and my
colleague here hun Fishburne so I'm
Cheryl Moog and I've done a few things
before mostly a lots of software
development background very technical
person so I'm guessing most people here
also technical people and building a
start have been being a technic
technical guy well most of the session
is technical but some of it is about
also how you deal with that and let hand
introduce himself a bit hello hello my
name is fan also programming since
almost since 2000 mainly most of my
career is spent at Sun Microsystems
mainly focused on mobile devices back
then where knock it was popular and then
2012 left with child with this company
so as I hinted before this is really
three separate talks that we're having
here one of them is really it's both
sort of a start a building talk and the
sort of mobile cloud sort of talk so I'm
going to try to cover all of these
things to some degree and some of the
startup life sort of thing about how to
really scale because essentially the
type of startup that we built would have
been literally impossible to do just
five years ago without the cloud being
where it is specifically and every time
with new things coming out suddenly
things that we weren't able to do before
suddenly become far more realistic
financially for a start-up budget and
for definitely a couple of guys that
just generally started it literally I
wouldn't say garage because we don't
have
Raja's but I don't know who has who
lives in the city you know it's saying I
might actually have a driveway yeah
spoiled guy suburbs kind of guy but
literally we started this an accelerator
and I'll tell a bit more about that as
well but first I would like to say a few
words to those of you unfamiliar with
codename one because it's a bit of a
different type of startup than most it's
a very technical startup and part of
that is you know when we geek types go
around and try shopping around for
investment or doing sort of things like
that it's it's very difficult sometimes
to explain what it is that we're doing
and possibly one of the biggest
challenges that we ran into was saying
what our startup does in a sentence
which is something you know it sounds
simple but then you start winning often
oh and this and there's this in all
sorts of small details because what our
startup does is like it can fill pages
upon pages and what we do can feel it
fill well the entire day at least and it
i need to summarize it to a guy in an
elevator pitch in a few minutes just so
we all understand what I'm talking about
and that's not only true for the
technical guy for the investors but it's
also true for the technical guys because
when I pitch to one of you guys on the
showroom floor where we had a booth I
need to get your attention like that and
not bore the hell out of you with a
long-winded discussion about something
that we all lose interest after all yeah
yeah I heard that before so generally
the first time I'm presenting on an
iPhone by the way so hopefully all of
this actually works and I don't have to
unlock my device too often and that's
actually not as convenient as I'd
expected no no that's not good because I
can't actually see my slides on the
device which is kind of annoying I'll
have to rethink that next time so anyway
what's code name one well codename one
allows
you to do actually write once run
anywhere and the grand vision of it is
you are to wrap once in Java have it
work everywhere literally every device
iOS Android Windows Phone anything sort
of black the magic we felt when we use
job for the first time you know I use
Java the first time on Linux back then
it was also s2 I would love that and I
use that and on that as well and it's a
magical feeling that it works here it
works there and sort of Wow and I got
excited from that out in a few guys got
excited from that but that really made
my geekiness all over so I wanted to
reproduce that because software
development sort of went from easy from
hard too easy with Java and then
suddenly fell off a cliff with mobile
where we had to do one thing for iOS
which back then didn't even include arc
or anything and was a real pain and for
and what we have to do something
completely different which Google is
actually making more complex as we move
along and device fragmentation is making
more complex back then was just your
self fragmentation was and now
it's starting with Amazon and everything
to become an actual reality and I'm not
even going to talk about Microsoft and
the stuff that they did that's it's
almost as bad as blackberry and yeah
other Microsoft suffer is around here
I'm guessing and the problem is that
getting all of that together to actually
work the way that magical way well we
wanted to solve that we wanted to make
that application development feel like
that and the way we chose to do that is
through the cloud so the thing is
normally with we try to solve problems
since engineers locally to just you know
we have this compiler that does this and
the solution that does this but in
mobile things move so fast and change so
much and there's so many different
stacks and you need a mac for iOS and
you need Windows machine for windows and
a for windows phone and you need all of
those configurations installations and
always to update the SDK to the latest
version of that otherwise the dependency
here will stop working it's impossible
for a single developer to actually do
that or even to run an update to
maintain that
so eventually we came to the conclusion
that we can just set up Mac machines and
a cloud windows machines in the cloud
and Linux machines in a cloud and then
we want to actually build a native
application the jar the binary goes into
the cloud gets compiled into native code
and in the case for instance for iOS we
translate the code to see compile it
using Xcode in SONET using Xcode and
you're saying while you're going like
that why not just compile it to native
well compatibility for the future
because Apple changes things literally
all the time and they don't let us know
in advance that they're going to change
things all the time that's a locking
thing I mentioned earlier suxing and
they don't mention in advance that these
things are going to happen suddenly you
know they come up with a new iphone next
week it's in the stores and you need to
support that and you need to update to a
new version of the vm and change some
things well we can sort of solve that
centrally and make it work seamlessly
and part of what we do is we provide
plug-ins for the ides where you can
simulate everything locally build
everything locally and then when you
want to actually run on the device we
seamlessly move it to the cloud and move
it back to your device to give you a
feeling as if you're running locally in
some regard and a feeling of write once
run anywhere that actually works and
that's actually realistic in today's
mobile environment so I can go on about
that but i think i will switch to number
22 and to demonstrate more correctly so
just just to show you what she is
talking about in terms of the plug-in we
have a this is a net means to create a
new project i can just after you install
the plugin you can just go do a new
project select the codename one project
go next give
and then select from a few templates and
we'll select just one of the looks and
then the project is created for you now
what we are doing here the plugin is
basically showing you how you can
develop everything locally and once when
you want to deploy the application
itself to a device you need to send as i
mentioned send the bytecode to the cloud
so as you can see the pork has been
created and when i'm doing run you will
see our similar to launching with the
app already running so in terms of code
you have the main life cycle of the
project that basically you have in it
metal start start and stop basically
that's the life cycle very similar to an
applet in that manner or an activity if
anyone walked in with annwyl so here you
go you have a very simple hello world
application and you can judge start
develop the app do all the complexity of
creating yourself a new business app and
then when you need to deploy to actual
device you go on the plug and send a nun
wird bill or an iphone bill and then the
application itself will and once it's
each video will be on your developer
portal on our on our website that's
that's the the basic cycle of
development so one thing we didn't
mention is that you also have griebel
durability and things like that that you
can use so the end result is
applications similar to this for
instance which is a simple social
network application that as you can see
can include various types of visual
effects all of those are built in by the
way the side menu and poultry
fresh sort of effect all of these are
completely built in and you can create
pretty much any type of application from
this media player etc so getting back to
our subject oh so creating something
like this obviously requires first of
all a rather complex cloud architecture
and requires quite a bit of of work and
we'll discuss some of that but I'd like
to start first with more about start
applying sort of how we did that because
this as I said is a sort of three
subject talk and in this case I would
like to talk about well how we got
started how we decided to build a start
up and do all of this so back in 2006
can create the original project that
essentially became later on what is code
name one at Sun Microsystems now one of
the things we reluctant Microsystems
essentially open sources everything and
that also allowed for great traction in
that particular project and it also
allowed us to later on take some of that
work and keep it under the exact same
license which is good and go ahead to
build what is today codename one later
on in 2011 we after Oracle came in and
actually Oracle was relatively fine but
we saw that it says new boss just the
same as the old boss you know when
you're in your job and it's kind of who
who helped at is actually still in his
job and wants to create startup okay
that's that's nice that's a great thing
and you know being in a job that way you
don't believe in your boss and you have
this you have well you don't have that
our idea you know you know how it is you
you're always hoping ok the next boss
along the next the corporate reorg push
something forward and actually create
what we want under our existing boss and
we came to the guys at Oracle and it's
sound and we thought maybe you know we
can build iOS Android everything we can
do that but something an architecture
are what
and showed you was insane and Oracle
yesterday I talked the other day after
the keynote I talked with Peter who
who's the vice president of Java it at
Oracle and you know I said I explained
our product and everything and told him
say and we discussed about innovation in
Oracle and he said well there is no
innovation really direct you know
nothing like this can be done in a large
corporation so that's why they do M&amp;amp;A
because corporations are designed to
stop that sort of innovation so in
December essentially we decided this is
the time to actually quit and build the
startup and we generally quit our jobs
and so we quit our jobs and we started
doing everything and we designed this
really complex architecture where
everything was we wanted to build
everything locally initially we wanted
to provide people the ability to just
generate iOS apps everything we have
this really really really complex
architecture with everything that we did
in the cloud was running locally and we
tried building that and we're in at an
accelerator and in three months we were
supposed to actually show something
running now I don't know if you've ever
worked in a start-up but generally it's
a well we're from Israel and one of my
theories about why I don't know if
you've heard startup nation all that
sort of going around you know
but Israel has a ridiculous amount of
startups per capita and there's lots of
theories on why that is you know who is
really small and everything but I don't
think that's true I just came you know I
was in Java zone just a bit earlier and
they're brilliant people no way they
really really smart people no stops
whatsoever and I think looking at the
Norwegians for really clever really
smart funny people if you've seen their
videos hilarious they have this game of
codes thing killer but the really small
p
but they don't have any startups and
Israelis also small people but lots of
startups and why do they have it and I
think we're amazing artists
that really works well so when you want
to build a start-up initially and back
then we literally had nothing behind us
we had some code that we did it Oracle
at San and we had some work that we knew
what we wanted to do but we didn't have
anything and we needed to present
something and build it out and we didn't
know how to build it and that's part of
one of the reasons what was difficult
for us to raise funding back then in
Israel because you know when we
described something this complex it's
always difficult to go ahead and yeah
we've heard about you before when like
every other startup in this area so
anyway i digressed a bit from the
subject here we had this notion that was
sort of very abstract about how to build
everything and when we came to the
conclusion of okay it needs to be in the
cloud well we started bringing out our
bubble gum and started gluing service
together with bubblegum and I'm me and
bubble gum metaphorically obviously
because generally everything needed to
work by March and where we quit in
December by March we had to have
everything ready working and production
for the demo day and essentially we just
used literally figuratively a bubble gum
to glue everything together build the
code that sort of just held everything
so the demo of and not just the demo the
actual production code would work where
builds would go from here to here and by
now we've replaced most of that bubble
gum but some of the things like the UI
and the build server is still remained
because they're actually relatively
functional and and that's part a great
deal of being a startup just building
things and adapting to that reality so
we came out and we had a picture we
wanted to do write once run anywhere we
had the architecture in terms of the
client but when we came to to actually
implement it we saw that it was way too
complex and we needed to simplify and
just remove all of that stuff like
building locally we just had to throw it
all away because it wasn't practical for
back then what was the two people
company to actually do that and in order
and the there comes the problem actually
the problem is that we're mostly clients
are developers so we said okay we'll
throw away all of the client side aspect
of translation but we didn't have that
as much experience building servers back
then or building really cloud because i
lost i used to be a contractor back then
and back then my last serious project in
jtree was in a bank that the fact that
i'm calling a j2ee should say something
it was in a bank in 2008 so kind of
outdated I keep reading everything I
read about the cloud you about AWS know
how to work with that you know about all
of those things but reading and actually
practicing are very very different
things so we didn't have the skills to
build a build cloud from scratch with
everything that's necessary and that
might actually be an advantage because
if we did have these skills we might not
have picked the way that we did which
actually worked eventually and we might
have dedicated too much resources to
actually building this so and part of
our choice is the options that we had
back then and remember this is 2011 so
today we have all of these choices and
maybe some more that I've have missed a
lot of them are good choices that you
might want to pick up but back then we
didn't have any almost so we had a WS we
had other things that the day need a
breeze but generally AWS hair stands for
all is solutions we had Asia as well to
some degree but that's mostly Microsoft
technologies back then not so much for
java and they didn't even have a nice
option so i didn't even bother putting a
chair so for us the option was pretty
much app engine there was literally
nothing available at that particular
time so we had only one chance of going
with that and that's what we used for
our server
when I say App Engine our architecture
mostly and this is a gross
simplification generally looks like this
so our users essentially are exposed to
the cloud servers to some degree and the
cloud servers are AWS the build servers
are hidden behind sorry the cloud
servers are mostly App Engine the cloud
servers are usually hidden the bill
tours are hidden behind that so notice
that the native applications that we
build usually don't even know about the
cloud service we do have a small code
that does a ping to our server if you're
a freezer and it counts the
installations and things like that
mostly for our statistics statistics no
other reason really we don't charge for
any of that and though and if you use
things like push notification things
like that and it needs the cloud servers
but generally the users are oblivious of
the fact that this if you actually look
at the tcpalm TCP monitor on a device
with an end user application it will
connect only on the first install and
that's about it and even that can be
turned off so for the users the cloud
service the fact that something was
built with codename one is mostly
invisible the developers work with
essentially App Engine so the UI that
han showed earlier where the build is
shown you can install it using a QR code
from your firm that sort of that's what
you see a build server you will know its
IP it's hidden behind a firewall at net
you never actually connect to it it sort
of invisible and and that way it's
completely redundant within our
architecture and everything goes
entirely through App Engine which is
obviously if you're not familiar with it
enough it's a pass that allows us to
simplify a lot of the work here so this
is all completely hidden and firewalled
as I said okay and
but as you can see the build servers are
pretty redundant we have lots of them
one of them fails another one takes its
place so managing them is a bit hard for
a small start-up but we do it right now
we're still managing them managing them
manually but as they're growing it's
starting to become a hassle but the
cloud servers are a single point of
failure they're essentially if the cloud
servers go down we go down and that's
what why we picked App Engine because
App Engine is redundant internally so
the fact that it's a single point of
failure normally isn't a problem because
it's redundant in its own right but if
something fails there and it does
spoiler then things stop working the
nice thing about it is that it's still
currently last year we had a major crash
that things really went down and that
sort of screwed up our 59 ambitions but
it got us three and a half nines which
is pretty good which is 99.9 five
percent up time for the entire year
which is I'd say for start-up that's
like I said running on bubblegum right
real bubble them okay but thank you all
for coming at this hour sorry forgot
when i started i myself am NOT myself at
this time so i can only guess how tired
you after all this day so thank you so
much for actually being awake right now
it's a long time yeah 4 p.m. well done
all of you that's from me to you breaks
me anyway so we picked App Engine and
back then that was pretty much guarantee
option but most of the past options out
there should be pretty similar between
App Engine and pretty much anything else
because they're all similar to one
degree or another although i think app
engine is still one of the more mature
among those and it's a really really
really convenient solution basically
yeah
that's what I figured or have you
thought about I've been working on
startup I didn't even have the question
was about bluemix what I think I've been
working to start up I've barely had time
to even keep up with what we actually
have to do and reviewing I did I did
look at Jetta what's the name jelastic
and they're really nice I like some of
them they're not comparable to App
Engine in any way they're actually just
jtree and mcleod sort of solution which
is a bit simplified in comparison one of
the things of App Engine that make it
unique is that it seamlessly scales so
you just build the app and it sort of
automatically skills to very large
volumes without you actually having to
do anything and I'm I'm my fav one of my
favorite quotes here is Larry ball who
says that the most important quality of
a programmer is laziness you do
something once and you do it well and
then never do it again and I'm like yeah
lazy go so everyone for easy a no yeah
okay quick well done so anyway I'm
that's one of my favorite things about
App Engine it just sort of works and I
don't really need to do all that much
and right now most of not what I do is
you know startup I do support that's
pretty much everything I do I'm the
support guy and I do some dogs and stuff
like that and I'm the server guy that's
my second task in the company and that's
it I mean the entire company and I'm the
one doing pretty much most of the server
some other guys touch the you know the
build stuff and everything but generally
most of the App Engine I do almost all
of it and that's amazing that we have
millions of device installed coming in
all the time and every one of them is
pinging and users are sending builds all
the time and I don't really know all
that much and I don't have to do all
that much and it just sort of works and
when I'm talking with my friends you're
running companies on AWS and they're all
they have several servers and they're
dealing with it and they actually know
how many servers they have
and yeah I know how many build servers
we have that's a pain but with a past
thing the app engine just just works for
the most part most part and it's just
really really easy and it has HTTPS
built in and also just a flock that for
security really really easy doesn't work
in China which sucks because we have
some interest in China so we go they
have to go through the VPN which is
painful but the actually talked with
them they're saying that they'll solve
that they're actually setting up the
data center in China so that might work
and that might be great but it's and one
of the things that I really like about
it it's really really really
ridiculously fast because one of the
things I don't know if you've noticed in
the architecture diagram that I showed
earlier is it yeah yeah so I don't know
if you've noticed in this architecture
diagram we see the communication so a
build goes from the client the jar file
is actually uploaded to hear now it's
not a very big file its 300 k is usually
something like that because just the jar
it's really really small and then it
goes to the cloud server so essentially
you're having an upload into the cloud
server and that upload is then sent to
the build server all of those are
communications that you know why not
send the draw directly to the build
server that doesn't sound like it makes
sense other than security or the fact
that the eye peas are hidden that's the
reason really but this is so
ridiculously fast that it's practically
meaningless and the build servers
communicates so quickly with a cloud
engine with a App Engine essentially
that the upload of the end result to the
App Engine is so fast that it just
doesn't matter so that architecture the
spark being supposedly the fact that
doesn't seem to make sense actually
works yeah yeah why would your work
literally on the cloud server because
App Engine has restrictions in order to
scale app engine doesn't allow you to do
even basic things like threads and
obviously I can't run something like
exco to install it so running things
like that on the on the cloud server
just
in realistic the App Engine doesn't have
a windows machine I need a windows
machine to make a build for windows
phone I need the Mac literally a Mac to
build an iOS app so the builders are
actually those devices and we have Linux
machines with the Linux mystery machines
that allow you to do all sorts of really
complex script an app engine is
restricted and the reason it's
restricted is so it can do that seamless
scaling automatically which is really
really cool so the question was why
aren't we doing all of it in a pinch in
case people didn't hear so okay so I was
ah so these are a bit specific to app
and gems but it's also important if
you're considering big data versus you
know database SQL and stuff like that
and initially we sort of stumbled into
big date okay we started we like I said
2008 last time either j2ee so I didn't
have any experience with big data but
when experience I did have was I was a
consultant for lots of years and one of
my early consulting gigs was for company
who shall remain nameless prosthetic sir
they don't exist anymore so them
anyway so nice guys actually can a
person ethics no i think i think they
were called that right now yeah yeah
hannah has a better memory than I have
there are nice people but back then and
anyone here from the 90s you know
developed actually worked in the 90s you
know in the software industry so great
so you remember it was crazy right so
all of these guys you know would raise
some money and do some insane things and
one of those companies was those guys
and they wanted that they were like
going to come out and the first day that
half a million users lock box at a
million and they had to have the
database that would stand that and so
they came to Oracle and Oracle said you
need three machines to have a million
users no I that's too much we want to
have a million users on one machine so
they found a company that did an object
oriented database which was way before
the 90s before the no scale
and they said yeah sure million one
machine no problem now we're faster than
Oracle so they did that and their
performance was so ridiculously slow you
know the engineers explains me the
problem we they wanted one user and the
user to have multiple items so like it's
like table relationship and now that
needs object oriented database and and
anyway the performance was really really
horrible and the reason was horrible was
because the technology was very new and
they didn't know how to use it properly
and they ended up having problems with
that so I kind of reservations about
using big data and storing everything in
big data but with App Engine back then
there wasn't any cloud SQL yet which is
something that came up later so I didn't
really have an option to use cloud SQL
so to either use the datastore API which
is Google's big table implementation or
not use it now one of the nice things
that I know about big table is well
google book their whole infrastructure
on it so it's it's fast I won't run into
that but I wasn't really quite ready for
the problems that we'd run into with big
table and I didn't study it enough
before we started using it because like
I said three months bubble them so I had
a bit of an issue there so we we said
okay we'd like to keep portability you
know we want to use App Engine but we
kind of don't want want to be light on
our feet there because you might want to
change it at some point in the future so
we chose to use jpa which we're familiar
with and App Engine supposedly supports
it now apparently google is also a
company held by bubble gum because uh
well they are start up in the very
traditional real sense of the word and
they kind of did all sorts of things
like saying that they support jpa which
they kind of do but when you actually go
into production you have like five
thousand entries in a single table or
entity the way they call it their basic
things like counting how many entities
you have stops working and the horrible
thing is counting the number of entities
actually works initially but when you
reach 5,000 back
and today are things of which 20,000
before they'll fail because they
increase that but you you can't do a
count query that actually works for big
data and the reason for that once you
understand how it's actually implemented
makes a lot of sense big data sort of
throws everything between various
machines and scales to a large extent
and things like counting actually are
very very complex but when you're using
an API like jpa that exposes something
like counting you don't really have a
sense of okay this will fail when I
reach a certain number of users and I'll
get sort of exceptions in that case so
we frantically change some of our jpa
code some of it is still stuck in there
some things you know we do in jp-a
queries and when and when and some
suddenly stopped stopped working for
absolutely no reason we port this to the
datastore API directly and it starts
working no no idea why and porting
everything you know sometimes we porch
existing code to data store and it's not
exactly clear what I'm trying to say
here is if you're going to use a past
supplier like a pension don't try to use
the abstraction too much and don't try
to you know if you're trying to be
vendor new tour you won't there's no
such thing in pass it's either all in
I'm and we're now married to google and
it's like we're with a ball and chain or
a golden cage how you choose to call it
why fighting it they're a lovely couple
you know what I'm very fond of her but
you know it's I didn't think it was
marriage so a bit shotgun thing but okay
we're good so with that I'm going to go
into you know they're juicy details of
you know you know when we go out to
drink beer you know the thing is you get
a super drunk and we start telling her
you know the server the incident of you
know whether the cleaning lady kicked
our
server and destroy this and so these are
the sort of stories we tell about you
know the things that gave me a heart
attack various days when literally you
know going even bolder in the head then
I was before so these are very App
Engine specific but if you're dealing
with any pass these sort of incidents
and how we actually track them down and
how we actually were able to resolve
them should give you some indication and
those are the things sort of we'd have a
five nines architecture if it wasn't for
those things so the first thing I'd talk
is the second worst thing that happened
to us and both things were in App Engine
by the way because as I said single
point of failure so which well and also
an app engine goes down everything goes
down it's very visible if a build server
goes down even if all of them go down
the users don't necessarily see that
they just they send bills and they don't
don't come back we'll see that because
we will start getting a ton of emails of
everything is not working but the users
won't necessarily see that so and these
are very visible to the user so when you
want to send a build the way that it
works is the jar file gets uploaded to
the cloud and the cloud in Google App
Engine currently the storage there is
tool called blobstore and I won't bore
you too much with API they are or you're
with it a bit later but generally it
just accepts files and uploads them and
the reason you need to use that and not
just use a servlet you know people when
I explain this sometimes then people say
why don't why not use a servlet well you
can't App Engine automatically times out
when you're trying to when something
takes too long and if you're trying to
upload a file that might be a bit larger
or if was a bad connection the servlet
will literally timeout after a short
while and will fail so if you're not
using this particular API so you have to
use that API if you actually want to
work I'm so not using an iphone for my
next
but I can't touch it a little just to go
to the next yeah hmm I guess I do I
don't know next time next time well have
to think about that so anyway so you
need to the blobstore APR something like
that and at some point just out of the
blue people would start sending bills
and they just disappear down a black
hole and initially the first user to row
to the mainland is saying you know it
doesn't work builds that just don't
appear and initially you know we saw
that message and is just saying some
 them are testing oh my build
also disappeared and oops so we start
texting why aren't builds arriving and
it's just guesswork and guesswork and
because the blobstore the way it works
is you sub you request URL and you
receive something and I actually have a
diagram here I think
mom here we go so the way I blobstore
works is the client build library sends
a upload request to the App Engine and
the the blobstore the way it works it
gives you a URL to which the jar should
be submitted the file should be
submitted so it gets that request in the
App Engine and then the client upload to
that URL which is a URL inside Google
it's not a URL that's actually visible
to me as a developer so everything that
goes inside here I don't know I can't
tell that this is entirely internal to
google and then when the upload is
completed then Google invokes App Engine
with the data and this essentially
stopped working so I never got the call
back so we never got an upload we never
got to build and suddenly out of the
blue code that worked since the day we
started stopped working and back then
Google didn't have any paid support
today they do have paid supporting out I
can't wait for them to crash because I
really want to test that on the one hand
on the other hand I really don't want
them to crash it's kind of like I'm
paying four hundred dollars a month I
want to get my money's worth but I don't
really want to get my money's worth you
know how that feels it's kind of like
you're not using your insurance and your
yeah so I don't own a car just for that
reason sure in such a way so anyway so
we looked really this stopped working
and we had no idea I mean this is the
core of it this nothing changed and that
took a while to investigate and
understand what is actually happening
and i think i have this here ah no
that's just what i just said run yeah
that's a problem should memorize my
slides more too busy with the booth you
know didn't memorize the slide so anyway
we built a disk test case and that
actually you know we were able to get it
work to work on a test case but not in
real life and when we looked at the test
case you know we start investigating
things
and the URL that was returned from this
look different so we understood wetland
the URL portion is broken not the upload
portion so something is generating bad
URLs so we tried editing the URL
manually to see maybe you know a patch
might work here nothing eventually we
understood that this was a was that URL
issue and it turned out that when we
accessed when we called the fetch you
are upload URL we submitted the user
credentials a token that allows him to
submit a build to that URL so a person
say if a person isn't authorized to send
a build we wouldn't want him to do the
whole upload into the server so we
wanted to verify you know does that user
is that user actually allow to upload to
the server so we sent a thought on a4a
zation token turns out that if this
servlet that exists here that returns
the upload URL and includes any argument
that argument is implicitly suddenly at
that point inserted into the URL at some
encrypted way not directly inserted so
we couldn't actually recognize that and
it breaks the URL so the solution was to
redirect to a different different you're
the same URL essentially right so the
solution was to redirect to the same to
the same URL again and sort of get rid
of that and that's the investigation
there was just a lot of guesswork and
because we didn't have any support which
i hope the moral of the story is you
need support otherwise prepared to have
some downtime and a lot of guesses
because things change suddenly invention
structure and you're screwed at that
case so uh and yeah okay that's that is
the portion that was looking for the
second thing and actually in some
regards the worst you know of our
failures with App Engine and really the
the word that many I might be making
this a bit more than it is because as I
said generally I'm pleased with our
choice of App Engine because if we
hadn't chosen it we probably wouldn't
have had a startup company so it's
generally not a negative review but the
second thing and that was really a
painful one you know suddenly I deployed
an update to the App Engine server and
everything literally stopped working I
got into the log section and scroll down
and it's all exceptions continuously
without any meaning or just they never
end you scroll industry with sort of
exceptions that don't make any sense at
all have nothing to do with anything and
our very core internal to the App Engine
and there was no we're literally down
three hours and I had no idea I'm gave
me a port I you know we're down and I'm
like we're like we're like marry a
married couple you know otherwise he'd
be like we're best friends and
everything and I yelled at him which I'd
normally don't and what was really you
know very bad so it turns out we tried
practically everything to do that
because there was literally no
indication something went down we had
knows no support back than either so no
one to talk to no one to actually try
and get some help with we did everything
we updated Eclipse we replace that we
created the brand new project we tried
to create something cleared all the
caches everything nothing worked and it
drove us insane and
me mostly actually in this key so anyway
the reason that this actually happened
the awful reason it turns out the
Eclipse plugin for App Engine had a bug
where even if I can I selected a
specific version of the JDK to work with
which app engine supports jdk 7 it would
still pick the jdk that eclipse was
running on which is defined in the
eclipse of any file and completely
hidden from the user in every possible
way there is it really almost no way of
seeing it which java version eclipse
itself is running on and it picked
eclipse 8 that i had installed in order
to test something and the Google plugin
had a bug way to used that version
instead of using the actual jdk that are
selected there was literally no no way I
could see it through the deployment
process and locally when you debugged
everything it worked perfectly obviously
so first of all the several lessons with
that Google has a feature called version
updates which might have worked if we'd
have deployed in that particular way and
that's really crucial to use that which
we didn't use back then mostly because
like I said we're not used to some of
those things but the set obviously the
second lesson learned here is the whole
working with our the support and the
third one is don't use eclipse you know
if you can I'm very much against it yeah
netbeans idea either one good good guy
yeah I think one of the reasons Java has
such a bad name in our talk with people
don't like Java and pretty much
everything they say is eclipse you know
it's especially on on Mac OS a few using
it it's the windows do oh yeah on
Windows it's not as well for I guess
that's
anyway so we fixed that and uh lets then
go to the next slide huh so we're
running a banana we've got just the
number of right number of slides I'm
good I'm good so so there's the IR spot
which I mostly talked about pass and
everything and but we have a lot of is
and and that's mostly in our build
servers so I dedicate a bit of that
because although they fail they fail
kind of easily fast because the way the
way our company is structured failure
for I our stuff is is easy pretty much
everyone else I'll talk to that's the
pain point but was the pain point is
really the pain point is always what the
customer sees and first they see the
past so that's where the pain point is
but it's actually a relatively easy pain
point for us when I compared to God's
using iOS so we had initially one of our
first is installations was with Amazon
and we didn't really know anything back
then we didn't even know about reserved
servers so we didn't then do that and we
paid a lot of money and that's kind of
sucked and now we're leaving amazon
actually we're moving everything to
digital ocean if you're familiar with
them you pay less for digital ocean then
you paid for Google which is cheaper
than amazon and i was just in a meeting
with google and on niacin you know we're
using digital ocean we're not using
google and they're like no a cheaper and
we literally we pulled out their
calculator and we found out that digital
ocean is cheaper than they are and it's
and through really in some way simpler
to use them you just select click and
deploying work since i like them so no
they're like surlock AWS but much
simpler you know AWS you have to select
a million things and if if you're a big
big corporation that has a dedicated
person to actually work that and work
the sums and everything and clit
correctly allocate everything that's
great that's
probably what you need either that or
Google but if you're not if your startup
and you don't really have the resources
for that up for me digital ocean was
waste and planned we just pick up a few
servers set them up and clone them and
that and it's all this is D is all
modern all you know fast so really easy
for us but that's that's the easy part
the hot pot force is some of the self
hosted service servers and things like
that which we have to do because we have
the windows machines and literally no
one hosts windows 8 machines on this
stop Windows 8 desktop machines that's
an important distinction that's what we
need so that kind of sucks so we have to
do that ourselves and we don't need but
we don't really need all that we don't
have a dedicated guy to do that so we're
just doing all of that among our team
members sort of maintaining and setting
up and cloning and but it's mostly
simple because just a machine goes down
a machine runs out of rare space and
everything we just go and fix it it's
relatively it's mostly seamless to the
mostly a build will fail for some guy
somewhere for weed weird reason and
that's it the machine with is stuck and
really easy stuff it's not we used Asia
for a while it was horrible and one of
the things that Asia has in common with
AWS is really really obtuse and hard
billing that's hidden somewhere in
between really really didn't like that
so my experience with IOUs isn't as bad
but mostly because we didn't really use
it as most people use it so don't take
this any of the things our setters
passes bad or anything like that so like
I said without it probably wouldn't have
been able to scale nearly as much nearly
as fast with that little well this is
the server team mota okay and we're a
mobile startup settle we want to hire
mobile people we don't want to hire
server guards and that worked really
well for us in that regard and we got
amazing up times
are and we're actually realistically
working at improving that you know
getting into four nines and that's
that's a realistic goal we can reach we
just especially now that we've got
finally paid support yeah so because you
know once you buy the pace support it's
just like insurance you won't use it
that our apt engine will never crash
again sort of Murphy's Law does a good
thing yeah that that's a good thing I
guess I'm kind of you know like I said
it's a good thing we won't crash yay
yeah everyone so about no SQL you know
I'm used to their to store it right now
but one of the things I didn't mention
MapReduce and stuff like that success if
you'd if you used to SQL by comparison
that's so much easier you just want to
know a statistic about all of your
device you want to know where your users
are from things that are really simple
and SQL just select something and do a
query and everything having to actually
you know I want to draw statistic I need
to take a week just to do the whole how
to draw it out of the Big Data thing or
move everything to cloud to the cloud
query the sort of thing that google has
now which is also a pain to just move
the data there it's and we don't for the
most part we don't need a bigger data we
need it for some things but we don't
need them for most things you know even
with tens of millions 100 million
devices you don't really need that as
much we're starting to need it with the
device count and everything but for most
other things we don't so I couldn't fit
unless you really need big data I
wouldn't use it and if I could go back
and actually if I could go back well so
pick no sale because I didn't have an
option back then but if I do it again
now I'd probably pick the cloud SQL
option that google has or something
similar to that because let's face it no
scales great for some things but it is
it's hard and if you you're not familiar
with the problem enough if you're not
really comfortable with MapReduce and
things like that don't get started with
that you know SQL just much simpler you
know Java compatibility and I pension
light just plain lie don't believe that
thing and by the way jelastic is
actually app engine compare Java you
compatible because and that's why
they're not as scalable as App Engine
because it's a different sort of
approach and we're paying for App Engine
are almost nothing at a huge scale now
the costs are ridiculous we're actually
paying less for App Engine then we're
paying to all of our other is providers
combined by a huge margin and that's a
really important thing it's cheap it's
really cheap and technically all the
builds for everyone go through App
Engine back back and forth and it's
still weigh less than all of the others
so I'm guessing you know it's and it's
really fast and I don't not you know
after the traumas they gave me it's not
like I'm their friend or something you
know it's there they have the problems
of course but it's cheap and ah but
actually I'm that does include supporter
to be fair that does include support
with the supports actually starting to
get closer to the other competitors so
and because as I said support is
essential well it's not that bad sheep
that's it so this leaves us a bit for
questions and I hope you've enjoyed that
and any questions yeah
so when you sound like your first
funding like get matching how do you
structure how do you hold we didn't take
something we would start and toddy we
tried we did with the door that the
question was when defending out the
structures everything I we're technical
geeks we suck at raising funding really
really bad and like I said Israelis you
know use usually when we go and make a
presentation they say yeah you have that
we know you guys were used to all the
 and and they don't understand
the technology really and they don't so
they might go now again did you
literally get some money we also offer
some some angels wanted to put in money
we sort of said no and maybe a mistake
in retrospect but what you say is a
mistake of yours because it's sometimes
it's really easy to say okay I can skip
some at some stage that seems very
insignificant because the fat took like
three hundred K something like that I
can just go and raise VC money because
we already have a product and usually
when he raised a small amount of money
you raise it in order to build a product
and we already had a product that was
working it was production grade grade
ish and and we didn't really think that
we needed it so we want to go to the VC
money the problem is that we seized if
you don't go through that stepping stone
if you sort of skip that they treat you
a bit differently but if you come in
with an angel that they know they
usually just join along and it sort of
there's a certain path they expect and
if you skip that path unless you're in a
friend of theirs or someone that they
actually know or second time and I I was
a consultant before I ran a company for
quite a few years that doesn't help for
them unless you raised money before or
sold for a major amount that doesn't
count so what how much did the angel
investor is what
usually a pretty standard round is
thirty percent of the company for thirty
percent of the company with everyone
think about it this way every round you
lose thirty percent and roughly thirty
three depends you know it's going to go
anywhere between 25 and 35 and obviously
you know with the portion that goes to
the employees you know all reserved and
everything's you can can get lots of
there's lots of details there's venture
hacking you know just read that that
free book essentially contains truck
practically everything anybody that's a
good that's generally a good strategy
although if it's making too little money
than you might not get any investment at
all sometimes the hope of money is
better than the reality of money you
need traction that's venture hacks it's
just google it it's a PDF book it's
freely available i forgot the name of
the author that's available for download
it's pretty well now yeah ah sorry an
accelerator is a program for startups
where there's lots of those like YC is
an accelerator why combine it with a
mentos and where you sort of join a few
guys for a few months and usually guys
although there's some women there's well
what yes sorry and and you generally try
to build your own startup within a given
amount of time eventually when you're
finished there is usually a demo day as
part of that and you share your product
to investors in a sort of attempt to
pressure them into investing it sort of
like a speed dating thing for startups
roughly and there's good things about
that they sort of give you the
information and the community aspect of
it a lot of knowledge sharing where we
were in three separate ones all of them
didn't take equity or those accelerators
equity is those that don't there's those
that put in money usually there was a
take equity put in money like YC in
Israel there's lots of free accelerators
so we did three of them yeah we worked
mostly with contractors at a relatively
later stage when earlier on we started
hiring and contracting people for mostly
PR stuff and for graphics and things
like that and because the coding it was
the developers are more expensive
generally so for few select things we
hired people but mostly we tried to hire
people that give us things that we don't
have like a we tried a lot to hire
marketing people and sales people which
is impossible for start-up like this
specifically so I'm step doing all the
sales and marketing together with the
support success it's a terrible thing to
do I think I degraded a few human being
points during that they're lovely people
sales people but they're just you know
that the job is so and if you admit your
product note yeah okay finish the
question well look at the pr section in
our website and you can literally see
the time where we stopped paying for PR
and so yeah they were great people they
did the job they when you look at the
amount of spin that we had in the
company there's like span PR rest like
this so we spend for that was a worth it
I guess
I don't know it's you know sometimes you
know people you can do charts and things
and how graphs of people coming into a
website conversions it's very hard to
calculate conversions for product like
this because if it doesn't directly
necessarily map to the revenue coming in
it doesn't the apps being made things
like that it's the value is very hard
it's not like a website or where you
have a flow that's very direct and
released your purchase this leads to
subscription and tell me matters when
people keep subscribing and when they
scale up in their subscription when they
build nice apps because then you can use
that between more developers and these
are very hard things to measure
statistically and I now I'm supposed to
buy Lean Startup standards to measure
everything but it's realistically
especially with big data remembers I
said big data how it sucks I can't just
building the queries to measure
everything would take like more than we
took to build the startup I think big
data but I actually want to marry
relational database with the big
database of MongoDB mm-hmm orderly put
that together with postgresql mm-hmm
you're asking about how we got our name
up there besides so so we did PR we did
quite a lot of interviews and things
like that and generally a lot of leg
work here and elsewhere and just running
around we did conferences and submitted
talks and one of the nice things was
that we were known when we were in
Oracle to some significant community and
a lot of it came with us so we had if we
hadn't had some of that notoriety at
Oracle now we might not have actually
said okay we do that we might have said
okay let's do this from startup or
something like that but we had a
relatively a place to start from so we
were able to scale some of that anything
else yeah
he said it's fun to stay extra know okay
last question but he said finished so
last question right fine okay so there's
a fair to say that for the front-end
type work usually pass because it's easy
to scale up for the heavy lifting back
at work that's what we chose to do so
for the lightweight work yeah that's
what we did although i think it's based
on your needs and our case our needs
were very specific we needed very low
level stuff from the computers that
couldn't be satisfied by pass if we
could do the builds in the pasture we
would technically it was impossible so
we chose that architecture if I could
I'll do everything in the past and just
you know throw away the blood service
but</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>