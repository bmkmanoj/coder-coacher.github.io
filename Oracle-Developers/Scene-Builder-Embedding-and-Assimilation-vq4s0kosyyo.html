<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Scene Builder Embedding and Assimilation | Coder Coacher - Coaching Coders</title><meta content="Scene Builder Embedding and Assimilation - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Scene Builder Embedding and Assimilation</b></h2><h5 class="post__date">2015-06-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/vq4s0kosyyo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so welcome to scene bureaus RS
simulation and embedding let say I talk
about what do you have to do he want to
take scene builder on the ride for your
own application stuff
so first the about me slide so I'm
system engineered average defense in
space in Europe my Twitter handle if
you're interested in what you saw here
you may follow me to get all the
nitty-gritty and kriti details I'm for
longer part of NetBeans dream team run
my own jog and a couple of more things
so large M Java guy so so it's all about
team builder to relax and if you're
looking back I'm gonna architectural
view point we had symbol or one point X
that was just a monolithic application
and you really couldn't couldn't do
anything with it from the outside or
reuse it in some way or another so but
we're lucky so with two point acts we
got a split up so there's now a scene
builder kit so called seam builder kit
jar and there is a scene builder app
that's just the the wrapper that fills
the official application but all the
things for that would you move me if you
are doing your own application is what
it's all and scene builder kit so let's
try to to figure that out a bit more in
detail so if you see scene builder it's
a quite complex UI it's consisting of a
lot of controls or nodes and we tried to
figure out what is what and what we're
talking about you to lay the ground for
related work so first what you see it's
called the document window that's all
the thing that's are around as part of
the scene builder app so it's not part
of a C builder kit so that what makes
out the difference between the kit and
the app so it combines all the the
simple building blocks that are part of
the kit into one big application that
works
sneekly together so the content panel
well that's their where'd the music
place where the good stuff is so that's
where you're doing your visual stuff and
then we get on the left hand side a
library pane or Apple a tour so where
you can pick your your controls and drag
and drop them to the content pane so and
this can be extended by own controls as
well
next is the hierarchy panel it's kind of
navigator for the scene graph so it's
just a tree view of all the notes that
are available on the graph so I'd say a
quite simple thing then we got the
inspector panel or it's kind of property
sheet if you might say so it's listing
all the interesting properties or
further nodes including CSS stuff and
other things you can change and that can
be set on the on the node so quite quite
complex beasts a lot of different
editors behind it and I'd say a big
thing then we get a CSS panel that's
typically hidden and the default if you
open the open scene builder buddy are
some menu item to open it and it shows
the the whole let's say layering of all
those CSS that is applied to this node
you've got selected so parent nodes and
outer nodes and different styles you
added somewhere in the scene graph and
all this is that combined to result as
it would be seen from Java effects so
there's a little bit components but
they're still the difference between
those two parts I want to show just just
make it a easy on the eyes to get it
down so what you see in red are things
that are not part of the kit Percy but
are bits and pieces that are added by
the the app to make things look smarter
so the basic things for it for these
those controls are already in the kit
but it's not available as a complete
wrapper at least not as far as I could
figure it out so
some small things like a tax fee where
you can enter a search term and then
just the the library panel is filled
which for just those controls matching
your name it just typed in so such
things are missing by default
okay so we'll this will look into what
we have on an API level so we're all
stars is the editor controller so the
elected controller as a class that wraps
all the all the basic behind-the-scenes
mechanics for holding all together all
these external views on different
aspects of the effects on my out tree
you got access to the effects in our
context so the content so the the epics
and all string if you would like to say
so can review from there you can set it
from there you can can interact with the
with the URLs with with everything that
has to do with the F XML part of all
this stuff yeah so and it's the major
central point use you see later on so
that's the so the content panel have you
seen it
that's the the you get it by using the
content panel controller so that's the
typical pattern you'll see next class as
well so there's always a controller so
you have a XYZ panel and you can XY z--
that panel controller and on the
controller there is a method get' panel
route and that panel route that's those
composites the the panel you see so the
to be we got an F XML file and they got
this controller and by calling the say
get panel root you just get the the the
the the read in F XML file I say as a
panel back so they they combine this so
you didn't do it manually so on the
content panel controller gives you
access to the to the content UI and
there are some methods by which you can
use which you can use to to
programmatically interact with this UI
so like like Moving's like
between and forth and such things then
you've got the library panel so see same
same pattern library panel controller
you can call get panel root and you get
the excess to the library panel UI so
it's not very special but you can add
using letter panel you can add your own
controls so there's an unseen below
there's a menu where you can say okay
well that controls from whatever jar
file for example and it tries to parse
this and figure out what has that was
going on under the hood this mechanic is
a for a good part is part of the symbol
wrap not of the kit but the method to
add those things to the library panel
that's part of the kit so you can extend
it and you can do your own way of
figuring out where your additional
custom controls are so for example if
you're if you're an IDE and you have
access to the class path the compiled
class path where these controls your
using your custom controls from controls
of X or from from Jeff extras or Weber
live and you could write a plug-in that
accepts this class path returns all the
nodes s they can be used by the scene
builder and then you can just plug them
into the library panel and they just
show up as all the default things so
that's what you going to when you would
this is where you would want to go if
you want to change those things now we
got the hierarchy panel I've seen it the
the navigation tree so I or a guitar
controller gives you access to the
hierarchy pal your eyes same stuff and
you can remote control as well so you
can move the selection so those things
are used to are denied if you're doing
things and the visual area in the
content pane and you select something
then the selection and the trees moved
the selected things and the property
sheet are moved and then indy and the
inspector panel moved so all this is
coordinated just by by using all this
this remote control IP ice so you could
if you if you would say um you have
maybe a a source code paint open and
you're moving through source code pain
and you know a special a special node of
such things it's associated with
something in your in your F XML
well you could just highlight it then if
you if it would like to so that's would
be a way to do you get those things the
inspector panel inspect up on the
controller you call gap gap panel rude
and get the inspector panel in the end
and yeah it shows all the the
nitty-gritty details and same stuff
there so the S&amp;amp;L they the dependent is
quite long and if you want to to make it
show a special property you can do this
via if they are this API as well
so you can say I think it's a kind of
scroll to visible and you say give it a
property name or something like that and
then it's moving just e so that's the
way it works um if you for example in
CSS and you're looking at special things
on CSS and you're clicking the CSS it
just starts to move the inspector panel
around to give you access to the
writable values for CSS so that's where
it's used the CSS panel same thing as
well as users panel controller so you
see it's just a an architectural style
that chose to do that way and same there
you get the excess to the UI and you get
access to the remote controls to manager
okay so one thing I didn't talk about
yeah it was since I just looked at the
the visual parts of office team builder
and the reader support so if you want to
do integration into your own doing stuff
you probably want to have under reader
support I think it's quite quite
important so there's a under reader
support class it's called job manager so
all changes you're doing and scene
builder are wrapped as they are executed
and so called jobs and those jobs are
just a stacked on top of each other in
this say a top manager class and you and
the top manager class gives you access
to the stack so you can call undo you
can call redo and you can figure out if
change has happened so there is a
counter in undo redo in the students job
manager class that fire is it are
changes with each transaction that's I
create John
of XML tree so it's a quite simple API
it seems to be quite powerful and get
your handle and you can can use it for
toward the end of redo for detecting if
you're you're dirty you have to save or
whatever so that's quite good the only
thing I figured out this time so you you
you get the job manager using from the
editor controller but the job manager is
flagged as a kind of private API inside
your ferrocene builder so so inside the
kit
I'm not sure why but that's the way the
the the Java Doc's show it all right so
will this we try to to build something
like this and about I don't know 20 line
of source code probably or 25 or so yeah
so let's see yeah that's it so we try to
do some live coding let's see if I'm
good enough for that so we create a new
project let's take a job with a
complication
my own new team builder hope just you
take it from there
okay so we probably won't need buttons
we might take a border pain so you can
arrange we'll be doing that we'll be
gone as well okay so
okay so now we need the scene builder
kit so I have for this so you can sit
symbol is available via open J effects
so and there are the open GFX repository
there is a path that contains the
complete scene build stuff and you can
pull it for your own and then just reuse
the the draw file let's say the result
so I'm taking just the symbol the kit so
adding the project jar files okay so
they should be accessible now so I told
you we'll need the editor controller so
let's try editor controller I have to
control yeah the controller we probably
want to see the content so we need the
content panel controller will you get
the controller there at the constructor
and then we all might do route Center
center content panel control or get get
panel routes okay so let's try to run
this first run see what happens up
so it's not happy okay I forgot so I'm
using the latest a 240 built so I have
to change the JDK for that as well so we
have to go to a 240 and run it again
so the symbol the kid jar file I built
was from the aq 40 release our
development branch so I need the aq 40
bronze as well so you see it's the first
sign of life so it looks a bit like the
content you see if your opening scene
builder without any effects on outside
besides there's effects some document is
now so we don't like effects in Pokemon
now I'm pretty sure so we'll try to fix
that so let's see
we'll go for the editor controller and
setting just the effects and alt text to
something well we said that fictional
text run it again dragula bright it's
yet that looks familiar I think so
that's the typical view of the the
content pane if you're starting an empty
scene below so if you look similar
we're just starting scene builder empty
dragged your library items here so that
was quite easy so let's hope that's it's
still so easy if we were going further
so how about adding library panel so we
take the library Python my controller
what can I control the Parapan a
controller so you see always this the
the editor controllers always wired into
all the stuff so when I will put the
library controller on the left hand side
now we need the panel roots will run out
and oops you see will get already got a
library panel and we can already start
to drag items over here so very very
very easy so uh so a fact it stays that
way so we can do hierarchy panel
controller
but now we need a I think we need a V
box so that we can put them on top of
each other
and we'll put there the
library panel controller and the
hierarchy panel control panel routes and
routes and then we put both of them on
the left hand side restart and we got
the hierarchy so now we are dragging
let's say about dragging now let's take
a board of pain it looks nice on board
of pain so you see it already just plays
the tree and as I put on a Cardian well
and the left and I put a button bar to
the bottom so this works and if you go
in here you can select on it moves and
it's all wired up so I think oh it looks
great so it's still I love code so I
think we have the inspector problem
still missing so let's go for the
inspector panel
I think this now should really look
familiar to you and we'll just add it to
the right just to mimic the behavior
from
scene builder
root well next draw Oh making a bigger
so that's back border pain will put a
Kirlian into it on the left-hand side so
you see and now we're selecting things
let's see let's take a label or a button
put in a button on the top and now we'll
change the button text to channel one so
works
it's just instantiating another another
control thing whirring up with the
editor controller and you're you're good
to go so in all the the context menus
you would expect from the original scene
builder are there and are working so
let's say a pretty good contain story
okay so what's missing
oh yeah I think CSS power controller
they're still on the list
that's power control okay so there's one
difference here so you can wire the CSS
panel controller and the navigate the
the inspector together so that if we are
selecting things in the CSS panel it
just moves around the things in the in
the inspector but we will stop we won't
do this here at the moment it's set root
and we started
and you got this CSS panel let's take
both bore the pain gonna pain back in
there
accordion back and you can see probably
easier to see
are you using something like a button so
the button was selected and you see here
all the all the effects and CSS
properties available for the button and
some of them might be highlighted for
moving I don't know not sure you can see
there are different different pop-ups
coming up to help you understand what C
it s behind it so I think that's a
pretty pretty neat I account here pig
pig on elements will CSS you'll figure
out all the all the details so yeah
that's a that's a scene builder in about
how many lines of code 66 with all law
comment lines and all imports we still
don't need to it's even less so I think
I'd say a pretty good thing symbol the
kit API seems to be pretty powerful so I
think this is just just a first step so
I think you want to integrate it with a
real tool you have to figure out what
the what do you want to do with the tool
so let's get back to to the slides okay
we did this so since I'm a NetBeans guy
I thought about well I do not want to
half my my scene builder opening up in a
in a separate window and I have to
navigate and switch to other other
windows and I wanted to have a more more
native more integrated feeling so like
like Matisse for swinging and that means
I thought it would be nice to have a
similar thing for for a scene builder so
what I did was looking at what have
to do to to get this running a nap beans
so that beans has this notion of
multi-use so there are different
different views in one editor component
that I show the the contents of the file
in different ways so for example for for
for swing there is a the Java code and
there's the the the form file and they
both supply data for the for the for the
form editor and so you get two views the
source code view and a design view I
thought that would be nice if we could
get such things right so you had to do
the multi view so you see already in
that screen so you get the Navigator on
the on the left hand down there there is
a navigator panel a NetBeans that allows
you to view the structure of the objects
you're editing so for a java source code
file you just see the methods and
members and and stuff so we will be
natural to have the inspector view the
hierarchy view being displayed and they
and the navigator of NetBeans so
navigator integration thanks part of the
story so then we got property sheets and
that means uses property sheets for
displaying the properties of the objects
you're editing and so that was not quite
so easy since the property sheet itself
just a pure string thing and you have to
define the properties of swing things
and so end up was saying okay I'll
opening up the the inspector panel but
in the same place where normally the
property sheet opens up so appeals the
same but it's not the same component so
it's not 100% transparent but it works
from a point of view from the in from
the using that we got the library panel
so napkins there's normally it's a by
default there's a pull out for swing or
for for other design things I think
there's there's HTML stuff and you can't
assert if you want to do drag and drop
design styling things you can do this
with
in build palette but the simple process
is again a thing you have to register
everything by hand and in a different
way than the editor controller I would
expect it so I end up with saying okay I
just opening up a view for that as well
so not reusing an existing similar
concept but I'm trying to mimic what we
see from from from scene builder and
then we got the CSS panel so see this
panel is just below our new top
component added to the mix so those are
the building blocks again the same
building blocks we identified by
dissecting the UI from the scene builder
and we can do a demo of what we have
what's actually working so see symbol
integration it's wrong right so let's
say development on a q40 but
everything's a daily built quality so
you can see there's a there's the
library window on the left you got the
navigator
you got the content if I'm selecting
something on the content it shows up so
you see the there is no no undo redo at
the moment so it's not dirty in any way
so and if I'm now say I'm changing the
text of a button now you see this works
working on spec 2j1
so you see it Texas been added anthe the
redid the undo button is active and if
you're undoing it you get your button
text back and if you redo it you get to
joy one text back so that was made quite
easy Sun sign up beans has a similar
notion for our undo redo concept a
simpler does so you can just play those
api's on top of each other and well kind
of fun hook them together in the same
way so it was quite easy to to
get those things running
you got the CSS style that moves along
with the selection but you get some
other things as well
so I'm now it's will be getting tricky
I'm going back to the source code so all
the effects are most of just vanishes
from the IDE you just seen no no no no
Polad no library no CSS no properties
nothing anymore just the original source
code at the moment you can't edit the
XML code and go back to the go back to
the design so there's the
synchronization is not yet an a 100%
consistent state but you can see it's
helps works so sometimes you j-just a
will has repaint artifacts if all those
windows pop in and pull out but I think
you you get the idea of what happens so
and you get here you can say edit you
get your normal then you go to the
design view and loads everything nicely
nice and quick you select things can you
could move things around so can you take
the button and move the button to the
left and that button to the right all
right so so those are those retain
things I'm just talking about sometimes
I'm not quite sure why but I'm pretty
sure they shouldn't be there so you see
is the UI isn't responsive anymore there
so that's I am discard changes
let's try it again okay to try this once
more
picking the Save button moving into the
left okay that looks better so somehow
some are wreck the the view say okay
so those are things that are working out
of the box now you can download them at
the moment from the NetBeans blacken
portal so if you get a normal NetBeans
eight or an it means eight zero one
installation here just go to your your
plugin system so chew that two plugins
that's enabled flag on portal a little
plugins you're searching for money and
this is the actual version that's
available you installed and you got your
symbols integration in your IDE
so that's it that's quite quite simple
and easy to do there are still a lot of
issues so things like a synchronizing
between the XML text in the editor and
the so that you can just switch to the
source code and just might be copy a
couple of buttons because it's faster to
do it in an XML and putting them all in
there manually by drag-and-drop or you
have to to to fix something in the XML
that you can't edit and the scene
builder yet
and then just soon get back to the scene
below just recognizes all the changes
you made on the left on they on this on
the source code side those are things
that are not yet working you can save it
sure so I'll just go there I save it get
all the the persistence already what's
not yet working things like the effects
on the whole window and the inspector
window that they are correctly coupled
so there's still something to do what's
not yet working is that custom controls
that are available on the class path for
the
for the project in NetBeans that they
can be used directly in the and the
machine builder which is picking them
from the class path identifying them
adding them to the library that's on my
roadmap to do this I think this is a
feature that makes the integration even
more attractive since you don't have to
do it all manually so that would be big
be a big win I think so there are a
couple of things that are out there to
do and well yes so that's what's the
quick in demo and a militant break
that's good all right so it seems I went
quite quick so on you know a couple of
questions a lot of time to ask them so
feel free to shoot anything you want to
ask about symbol to kit I try to try
very best to answer them so just let me
know what do you want to do yes please
yes as long as it has all the necessary
controls available on a class loader so
in fact it's somehow instantiate the
effects ml inside and allows of
manipulation so it's a so yeah so if you
if you are missing some of the controls
on your class loader for it so you
didn't get them before I think then
there is a some blank places in your
your scene builder them so but they'd
say it should be the same of any of your
you just seemed earlier and just
throwing any effects of knowledge where
some custom controls are are referenced
the Nira
here it's the same position see
there there is the web start thing so so
you could run it in a browser but not
you probably si as an html5 application
but you could deploy it be a bio browser
so so you get a fact line running inside
your browser window that's still a valid
option although I think the deployment
model for client Java and Java in itself
is more into we are building apps so we
are bundling JRE and all the library
stuff we need and Chabad si is a
complete binary or a native package so
like a like a dmg for Mac or a install
our thing for for Windows whatever or a
Windows app for Windows app store
whatever so that's there seems to be
more the the actual path of packaging
and deployment that say uh well I see in
developing so and there's there is so
yeah a big effort going on there so
moving to say it's local tea I think
it's called the Java package uh now it
was the JavaFX packager and I think now
it's called the Java package sure and it
tries to do this these things to to
assemble all your your binaries you need
your java files and your resources you
need and the JRE to complete application
alright for the questions so any any
ideas what what else to do with it what
would you like to see in a and an
embedding or your you like the
standalone scene builder version or you
would like to have it in your in your
favorite tool chain
so betting is a good idea so the the the
idea that they just built two things a
kid and an app to allow the the
embedding of the kit I think it's I
think it's a good idea so what was I was
trying it out and figuring out what
really works and what doesn't but that
astonishingly easy to do
simple things but probably way more hard
to do the the cover things with the ID
Eastham well I don't see it go anywhere
soon so yeah so they're there they're
building new things for nine they're
investing heavily in accessibility so I
assume it's it would ask me if it would
see swing going away might be so and
then the only option is JavaFX at the
moment so if you don't want to do HTML
and JavaScript you just have to go for
Java effects on on Java so it's like it
seems they're pushing not so so heavy
anymore like the the might be last two
years but I think it's still good it's
already a pretty good toolkit I think
what we're we are missing is a real real
big killer application a reference
application where we can see oh yeah you
can build really solid big things with
Java effects so that people will say
okay yeah I trust it will block if I if
I'll move my swing application to
effects and get rid of my my my legacy
code and invest in migrating will will
be good for me but we need probably more
than just a seen dollar app so to make
this happen
yeah all right yes please
bsd so it's a very very very relaxed
license and i think they chose it on
purpose
so all the the I think all the example
code and all the so and the in the open
GFX repository there's an applications
path and they are living all the nice
little gimmicks they built for Java one
last year so there's the duke pad code
and there's a simpler code there is
there's also omble so the demo
application there's a an experimental
application for looking at different CSS
files so switching between modern era
and how was it coldly open that's Mary
so on the oldest code is under BSD so
you take it and do whatever you would
like so that's a pretty awesome I think
makes it makes it easy so I think it was
was intentional to put the scene builder
there as well on the same license so
that a company's like idea for IntelliJ
that just to have a chance to to put it
in their application so and yeah open
GFX is always looking for are for people
to contribute so if you have good ideas
contribute by adding requests to the
issue tracker oh you want to submit code
well yeah
start plot writing patches get a
contributor agreement and those people
are really responsive and willing to to
accept community things so it's real
real nice real agile moving moving
project open joy effects Ebola stuff so
pretty awesome
alright so there are no further
questions thank you for your attention</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>