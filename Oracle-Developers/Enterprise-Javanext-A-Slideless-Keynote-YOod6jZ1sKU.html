<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Enterprise Java.next:  A Slideless Keynote | Coder Coacher - Coaching Coders</title><meta content="Enterprise Java.next:  A Slideless Keynote - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Enterprise Java.next:  A Slideless Keynote</b></h2><h5 class="post__date">2017-08-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/YOod6jZ1sKU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">ask me I think a few months ago about
keynotes and my answer was I'm not doing
keynotes I'm just a coda and the only
thing I could do we just live off the
slides and called something for you and
he said yes which was very surprising at
Oracle keynotes I don't even have to
save Hogwarts life I'm freelancer so
whatever I can tell you whatever I write
it may not work so this is what I can
tell you my only slightest SDXC visa of
any questions tune in Chris man of the
month and this was the last slide so I'm
a little bit cheating because what I did
I opened two browser windows the first
news everything is going the right
direction so Java in would to github so
it is like I think it happened two weeks
ago or 3x3 one week ago okay
and it's an empty for now but I'm
already following them and yeah and
seeing what happens so the first thing
you have to do is to subscribe and
follow the Java stuff why Java is
important you will see in a second so
what about the buzzword so what I'm
doing I'm a freelancer working across
Europe Boston Germany bigger companies
enterprise companies and helping them to
fix problems develop new apps and I
could actually suggest whatever I I like
and I still stick with javi why I show
you in a second on a few minutes and
what I do buzz was these days I think to
buzzwords or buzz words is already a
reality micro services and server let's
I think I get asked over over again what
it is and why it's important and yeah
service or micro services it's really
easy to to understand what it basically
means one process sin protests
lightweight process which communicates
with other processes usually via HTTP so
this is how micro services are defined
if you look at Martin Fowler Wikipedia
whatever and of course one team has one
micro service Conway's law and so forth
but from the technological perspective
is like you have one process with one
capability exposed via HTTP this how how
Fowler defined this
and at the same time service is a little
bit newer and this is the Wikipedia
definition of surveillance
and what surveillance means is by the
way you can ask me questions if you like
so this will be interactive keynote so
one of the view into ethic interactive
keynote so and what surveillance means
first you don't care about service but
you need service those a little bit
she'sa phrenic I would say but and what
it means is you just care about your
business logic and particularly what's
interesting here this is more about the
business model so you don't like to to
care about the scaling and monitoring
the service you would just write a
static Java function and invoking
somewhere so everyone cares about
service the question is why
so I keep asked questions and know what
is the problem you enterprise so we have
scalability problems or whatever and it
turns out even the biggest companies in
Germany so they run probably eight
application server clusters 24/7 and
they can serve you know the whole
traffic of Germany and usually you have
four or two machines and I'm also
working with free land freelancers
producers as well but startups and what
turns out these cut outs they start with
one machine and I have to convince them
in order to put each a proxy engine eeks
before their service because with one
server they can they can maintain
several thousands transactions per
second so I mean so if you if you if you
think about scalability my perception is
Netflix Amazon and all the stuff is
different story what do you really find
in usual enterprises and we don't have
described ility is that this scalability
requirements of the web no start and
stop thousands of instances per minute
or per second or Netflix start in the
cloud hope so this is actually the
server list idea behind the service and
of course there is a servlet framework
to the clouds already and from Java
perspective is more or less you expose
the guide Java
function aesthetic function and behind
the function you can do whatever you
like
so I'm Adam so if you guys have
questions like key said just raise your
hand and we'll run you a mic so you can
answer yeah this would be nice if I have
no slides or questions I
that way it'll show up on the livestream
you were stressed and we do have a
question no okay
the stream everything is the same as
questions or don't scratch ask question
right so are very good so now I'm
starting with micro-services so now the
question is why Java is is important so
I would start a little ID doesn't matter
I usually use NetBeans but you can use
IntelliJ or whatever like and this IDE
and it will also use maiden so probably
hoo-hoo laughs maybe you see a three out
of three hundred right or four hundred
so um so now change that so or why maven
is nice so what I'm doing here I won't
set it set up a full-blown maven project
and not deliberate platform I have
specific folder just for code it's
called junk and hello so and this is
going to be a micro service project
let's see whether it arrived here
actually in the junk folder exactly
so Andy hello this is a micro service
so why micro service because and server
let's at the same time so what I mean by
service is a nice story with Java EE you
only have one library and there is no
other dependencies nothing you have to
care about so actually in all my project
the idea of server list was always there
because we never cared about the
application service the infrastructure
we just focus on the business logic of
course we don't get at the end of the
time one static function running in the
client clouds what we get is one rest
endpoint running in the cloud but the
idea is still there and this is actually
what my clients really like because
there's no infrastructural change no
additional frameworks we can just keep
what we always did just deploy the
application server and a soul show you
some more magic so we have here at
simple war a Java app and what we could
do we can say we can create for instance
a comm Oracle probably it's already a
top-level domain Oracle code right
services hello resource
and what I could do so this is bloat
remove that so path and I can say hello
and expose JSON object and again
whatever I do here is already included
in the Java 8 7 what I'm using is
actually the old Java 8 7 spec 3 years
old we get a new one and don't even
mention it right now Java 8 and I can
expose and JSON objects as a message and
say this is a get request return Jason
create object bill down and this is the
old stuff and say hello London
so now this is the simplest possible
Java 8 7 app so I can put it here but I
don't don't like to use the ID right now
so I can do it from the command line and
the nice story is it just builds in
about 2 seconds 1 1 second and because
it's clean now the question is you can
say ok Bob you know in our project Java
rebuilds forever half hour 45 minutes
whatever and the problem is no Java the
problem is you know the crucial
dependency here the Java 7 dependency is
completely ignored and what developers
are focusing on more on more and more
libraries putting to the war so you have
to deal with more and more external
dependencies and more technical stuff
and less the business logic so a with
Java is I could say I can cover 80% of
all stuff without any additional
dependency this is actually what
developers really like questions no-one
scratches no questions good sign ok or
bedtime actually it's not challenging
enough properly so I'm now what's
interesting here if we look at the size
the hello is 3 K so we can build the
smallest possible Java 8 7 micro servers
with about 4 kilobytes now we can ask
okay what about the service and the
question and the under answer is it
actually does not matter why not so
what I will attempt to do right now is I
build the app the first what happens
right now the war it's packaged unit
tests are performed I don't have unit
tests now but they would be performed
and at the same time I'm going to build
a docker executable docker image and of
course what I will need to do setup
docker right
so new docker file and let's say should
have meta because of dr. Conte toka
Oracle Conference so let's use white
line and then say copy copy target hello
to the work in two deployments do so
what happens right now there is an
already existing image it could be glad
switch payara whatever it is just super
image of the application server I
actually don't care what i copy my micro
service and I know because of Nathan it
resides in that in the hello war and I
deploy to deployment there which is
predefined so um let's try that - the
misty tech name code hello
so now it builds
it was it would download this and this
would be towards to slow maven clean
install and stocky build again code
hello
so what happened right now so white that
was not even available it was not
downloaded from from the docker up it
was my my my personal image it is
available my github account code Oakland
so I pick up Tommy I could use a
glassfish GlassFish or WebLogic or
whatever and it builds the whole image
in about what 200 milliseconds so now
the question is who cares because the
application server are they big they are
not capable to run into Klauss is what I
hear in my clients over and over again
but the cool story is we have to look at
the images so if I just say docker
images and we look at the contents of
the images lots of images and the very
very last one 455 make max so what I
created hello world micro service which
half a gig size you can say ok you are
crazy right so why are doing this and so
now take a look what's inside docker
history code hello so what we see right
now that I created the first layer seven
months ago and by the way I started with
Doc I think two years ago and Bruno
where is Bruno he gave me immediately
and from Oracle Bruno bourget's he was
here a feedback for about the dock
images that he was involved in dhaka
from the beginning and what you see here
now the first image was created seven
months ago and this is basically sent to
at seven and this is 200 mix the next
layer is Java is 200 mix the next layer
is the whole application server
Tony plus is 60 mix and what I did right
now is about minute ago is 4k
and the cool story is now how to convict
your client right so if you have a
container cloud and by the way the title
of my session is very generic and the
idea is in the upcoming keynote I will
try to push to the cloud the same image
to show that actually works what you
would do in the cloud you would push the
image one to the cloud and then never
again so I only will have to rebuild my
my base infrastructure my java my
operating system my application server
on each new release or patch but I will
push the fork a 50 times a day and this
is the cool story
so with application servers per accident
what we got a clean separation or strict
separation between infrastructure and
business logic and the business logic is
jut your code and this I would say is
fairly compliant with the idea of
service I just focus on the code not
injured on the infrastructure so not
it's not per se I cannot just deployed
one Java method but I can push it to the
cloud and by the way what I did that
experiment so I pushed worse to the
clouds and the application servers like
glass which were capable to run on a
half CPU on AWS four-month so it is
actually there's also no the resource
Hawks if you compare the the RAM
overhead it's about sixty to ninety mix
of RAM what application server consumes
so ok am what's the deal here - sir what
is the enterprise Java or next I don't
know what the future is but this is what
I'm doing in all my clients if I show
them how it actually works they didn't
expect such a thing what people think
that we will have to package the whole
application server over over again and
send it somewhere I cannot send you know
50 a half a gig 10 times a day this
doesn't work but what you get you get a
clear separation between the layers so
the application servers only shipped
once by the way the first proposal from
Bruno was why I'm using Center at 7 and
not Alpine is I use Alpine is smaller
and my answer to Bruno I think one or
two years ago was I don't care what they
small or not because the first layer I
just delete every five week or five
weeks is actually fairly new usually
whenever I get a new Center
version or a boon to version or whatever
person right so it really does not
matter it happens only once per server
any questions very good question yeah we
need a mic hello
and regarding the size will JDK 9 which
is going to be released will it reduce
it the size the fact you can you can
make it one if it becomes modules the
size should deter a mixer
you could shrink what I could do here
that is 455 mix it is bloated like crazy
so what I could do I could just replace
the center s with Alpine I think then I
can save around 180 max then I could use
different dedicate this with the second
layer instead of 200 mix I can shrink it
to let's say let's say I would
completely remove to 200 mix it really
does not matter because I built this JDK
in which four weeks ago actually forgot
why it should be older than this and
then never again so what I will save at
the end of the day I would save two
hundred Meg's per machine I mean
regardless you know what you cannot have
such business problems in the project
that you cannot afford 200 megabytes of
disk space is not ramp its disk so what
really matters in my how docket works
all the layers are read-only and the
upper most layer is changeable so what
is what it means the uppermost layer
actually only matters because it changes
frequently whatever happens below is in
your registry any other questions
very good questions over voice JDK it
will shrink the size and and and if I
would use Alpine Linux and we also
smaller but I don't care and none of my
clients scared ok very good
just a quick question yeah do using your
Apache Tomcat deployed in insight so
this is even even worse this is a Pecha
tomcat with with java 6 and java 7 class
functionality it's the biggest possible
available Tommy yeah so if you wanted to
say upgrade your Apache Tomcat would you
have to do the whole build
then I will have to build how to
organized is it is organized I'm using
an open-source project called Docklands
and what I did here there is actually
this is exactly what reflects most of my
enterprise project my clients so the
uttermost image is is the operating
system plus Java so if you get a new bed
new new page you will have to rebuild
this and then you can decide you know
what Sarah would like to choose we can
use I don't know we have here all the
WebLogic I still don't know whether its
current so this is web lodging we have
here they told me I used here so it
downloads Tommy and installs that so to
answer your question I would have to
rebuild this image and my work and in
real real world we have two pipelines
one Jenkins pipeline creates you know
the upper image with the Tommy whitefly
WebLogic or whatever it is pushed to
registry and then we develop as in the
jenk in the actual Jenkins pipeline we
pull the native image from the from the
registry and run it over and over again
50 50 times a day and the cool story is
fetch ours or uber charge a lot slower
than this because we only have to build
a few kilobytes so I'm worried of course
too we restrict to no all external
dependencies so you only are allowed to
use the Java 8 7 dependencies just kind
of surveillance I would say so don't
care about server focus on business
logic agreed very good
other questions
the name was I actually forgot the name
it was called hello as you can see it
started the image which is nice because
that's not always works with so eight
seconds ago go the image was started so
I now deployed a I think was hello
perfect this is also perfect I forgot it
Tommy I actually wanted to use the glass
which we five which is available Java 8
but I forgot to pull the image so the
next time curl except application Jason
and this is it alone
so what I did right now I use stock
mavin the largest possible Tommy I
wanted to use the largest possible right
fly but it would took too long to
download the the whites I want and then
create a docker image and now we could
use up front edge of proxy and Jetix
whatever and we would have a smoke cloud
now in reality we have a docker registry
I mentioned several times so what you
would do
let's see so perfect docker run - P 5005
thousands and registry b2 so what I am
creating a small registry here
Oh in background - B is detached so now
it runs in background and what I can do
I can say dog attack code hello
the local host 5,000 code hello
and what I did I renamed the image and
there is a actually what I did right now
we prepared to use it in the cloud so
now I can push it to whatever Clyde
cloud you have so an Amazon would be the
repository I I would also get an Oracle
account for the Oracle containers will
be the same they get an OD and what can
do I can now push docket push that to
the cloud and what you can see the first
time takes forever because all layers
have to be pushed so my operating system
you know the application server the JVM
or whatever but now it's done is even
too slow on my machine so let's do
something else let's go here and say
change code a little bit hello Java EE
just a little change so we build the
whole thing take the whole thing and
push done and this was the simulation of
the clouds what happened the registry
recognized the first image was changed
4k everything we made the same and this
is actually is really no different
whether you are working on premise or
not what's really interesting we call it
thin Wars the smaller the war the faster
the deployment and the deployment is
really what matters because the fast
development cycles is actually what in
enterprise really counts we don't like
to write to wait and the Jenkins
pipeline until you're 20 30 makes of war
are built it should be fast and
immediate questions of are so there's
the lifecycle so now what we learnt is
we learnt that micro services means one
process exposed via HTTP endpoint from
the technical point of view so which
design implications it has is really
interesting so what we get for free we
can get rid of all exceptions if you
think about us we don't need actually
exceptions anymore no exceptions
hierarchies no exceptions mapping why
the only thing which matters are HTTP
status code right
so the owners we don't even know that we
are running Java on the server we only
see the HTTP endpoint so what it
basically means so let's say you would
sometimes when you have to solve
exception so let's say server less hello
of course someone said the first thing
you need for server lettuce servers so
so we have a fabulous hello and so we
can inject the thing here and let's make
a little bit faster would be no time to
explain why believe me now it runs
faster no kidding so we have this and
exceptional so and I would like to throw
new illigal or server unstable exception
usually you will design exception which
is so
it would look like this almost extends
one-time exception so and the problem is
of course
so the exception will get error 500 so I
would like to skip you know the the
whole pipeline I would get an error 500
with Specter 8 which is not really
compelling so what we do in stats ok who
cares actually about this beautiful
exception what we could do we could
modify the exception a little bit so
instead of doing this we can actually
say extends web application exception
and say this is an application exception
and let's say transaction should be
rollback but the cool story here is I
can say super and super is always good
but risk one's status I can pick a
status and say they just that I don't
know let's say conflict of course we can
have a conflict with additional
information with some headers status
conflict with some header reason
to early build so what I got for free is
exception attic so instead of you know
designing exception I'm catching in one
place and trying to transform them to
HTTP status code will actually do this
so there are some no discussion with
architects because now our exceptions
are depending on web application
exceptionally yes but we are a micro
service everything is depending from
jax-rs end and HTTP and JSON so that's
the first simplification with this trick
in Java II apps we can delete a lot of
code you yeah it's a whole exception
hierarchies in directions or whatever in
one project they even had exceptions
factories which were used to encapsulate
the creation of exceptions I asked them
why there are of course no answer so it
is fuel if you encounter something in
practice it means how occult some
someone is building factories without
knowing why so we have this questions ok
the next trick and you have to stop me
if the time is over
so then we'll be very last trick and
then with a hard stop okay so Jason epic
so what we are what we do let's say we
have our entity hello and the entity
hello can have some state and now it's
always another question should we use
XML Jack's pshh should we use a binding
Jackson whatever to know to how to bind
a Java class to Jason because everyone
expects expect chase so I'm a small
trick we did and it works surprisingly
well I'm not still not sure whether
there are any down down side but right
now it works pretty well what I do is
the following
so I'm a constructor a constructor with
JSON object
now I can imagine the architects which
has singles like you are crazy you can
do this like why not no answer first
answer we can do this so I get get three
can the get string let's say name and we
have one method without any interface of
course in Java interfaces factories are
forbidden this is nothing to do with
business logic and not to string uh-huh
I wanted something similar Jason - Jason
I don't know whether you have here the
same problem those in Germany in Germany
for no reasons develop a lofty TOS so we
have entities identical objects are
called DT OS and they are mapped back
and forth without obvious reasons so
exactly the same classes back and forth
and for years and everyone is happy so
I'm waste of time so what what we can do
and this is again Java 7 does not even
the newer Java 8 we have create object
builder add I call it name and put it
this name dot fill now what I got is a
entity which can be a JPA entity doesn't
have to be but it is able to serialize
and deserialize itself from jason and
the cool story is i have the complete
control over the json format so I'm not
restricted in any annotations whatever
and this is actually what we do because
usually we have to deliver the JSON and
rest endpoints fast for the react
angular or whatever front ends we cannot
you know play with the databases binding
details and wait three weeks until the
UI guide see something okay so this is
actually the way to and the JSON object
comes with Java 8 7 and this is
something like a generic DTO if you look
at this you will see it is a map with
drink and Jason values is even somehow
typed because Jason value can also have
specific names but is completely
integrated in the platform so what did
what it means is so we would do here
something like
public please ask questions so you are
quiet a little bit no questions so far
get hello or fine hello will be better
you are overwhelmed with the simplistic
simplicity of Java right so this is the
usual reaction new hello and yeah and in
this time I would just meet the other
constructor and this would be Duke of
course and also same fellow and actually
we can decide hello not hell so are like
this and then this will just return the
fine hello - Jatin and the nice story is
if we had an array of objects or
relation you can use Java 8 lambdas and
very easily map them to a JSON array for
instance so it's really easy to do this
and the response I get what about
refactoring drag ok refactoring is not a
problem at all so if I rename this to my
name you see what happens so the
external format remains the same
so even refactoring save so this works
well and they say yeah but I have to
know to adhere to write here add and get
and this is cumbersome but this is our
way less code what you summon the
project doing today invoking getting
here and set here and DT OS and
introducing object methods or dos or
whatever still everyone happy
no questions a question here so far I
will code another method and if you
already just start talking so or asking
save JSON object yeah you can ask me
hello
so you might the point at the beginning
that not everyone is Netflix but still
how does it scale
if you want to respond to spikes or
something so we perform stress test at
the beginning of the project because
otherwise I will hear over and over
again Java is too slow so the first
thing would happen the first task in the
or the first run in the Jenkins pipeline
we have a jmeter stress test to give you
this what I'm doing right now
so what we can only measure here is to
serve overhead okay we actually can
measure this right so wait a second
curl so what we could do we can let's
see attach your benchmark five clients
thousand times so we get here this is
nothing 400 requests per second this is
very low ah because of the exception it
should be 4000 around 4000 reductions
per second so I had measured this
running in Dhaka running in a bunt owned
by machine but usually what you get per
service at at least 4,000 transactions
per second and so you don't get millions
but four to seven thousand transactions
per seconds per service what we get and
we you get four or eight service so what
what it means in practice in real world
application service credibility is never
the issue the problem is always a
database so if your the database does
not scale you know the more application
servers you will start upfront everyone
will meet the back end and this usually
probably causes problems so I don't know
whether they answer your question but to
scale the application servers what we
don't use anymore as clustering because
clustering was usually EJB remote Inc
which is not used anymore we use HF
proxy or nginx like HTTP load balancing
or we have harder load balancers so what
were scalability issues I mean as
extremely fast and the feedback I get as
I performed already several interviews
also my block if you are curious just
read but a feedback I get from startups
is it's incredibly fast faster than you
suspected and a wide should be slow if
you think what happens we are the scenes
is a little bit reflection of you
dynamic proxies this is what is the
applications of about this as the
business logic wrapped with AOP which is
implemented usually with dynamic
this is the overt of application service
and what's what's really hits the
scalability is locking somewhere I are
waiting file this is the real problems
we have in real world never weather use
eg BT di or pojo it was never a problem
agreed if not we asked did I did I
answer your question very good so I'm
not happy with the numbers here even the
response time 10 milliseconds or
whatever is way too way too high so 400
transactions per second is nothing but
yeah this is a system it's not WebLogic
obviously right so any other questions
no questions so what I implemented here
it's just get and post and with the post
I could now do the following
hello and pass the safe hello and say
new hello and pass the input now um now
what's about all the micro service
patterns so I think we are still typing
it's time I think I hope it's enough
time for sequent breaker so our circuit
break in Java is built in and this is
the first question you know what about
the circuit breakers like okay just
implement that so our circuit breaker is
watch one of the oldest components of
Java called interceptors
so and what happens behind the scenes
and this is actually Java e5 what I'm
showing you right now there's nothing
new what I could do here I get I can ask
what method it is so meant that and say
class I see get methods so I will know
which method it is and of course what I
could do I can say well let's parcel
typed so I can just count arrows right
how to do this try catch
throw exception so I'm redrawing the
exception and I'm increasing the number
count arrow count increment it get so
and now I can say if arrow count get
larger than let's say to return now
circuit breaker after three times per
component the method here won't be
invoked anymore so what it could do you
can say you are now cept or intercept or
stick with breaker
and this will be interceptors
and class now what it means all methods
are guarded by the sequent breaker and
circuit breaker means usually you have
IO communication with our external
system and this external system can be
unstable so what it also means this
external system only access to once so
we have to change it to singleton and
what it also means or application scope
doesn't matter probably something like
this no locking and what it means right
now this circuit breaker belongs to the
server let's hello and it just gathers
these statistics or in this case just
count the errors for all methods after
three times the circuit breaker opens
and this method will be never invoked
again so the question I get in projects
at the beginning of the project yeah
what who closes the circuit breaker
again say ok in enterprise project we
cannot do what we closed usually happens
like we try no to hurt to invoke the
payment system and it fails I will try
to reinvent all the next next five
minutes and if it doesn't work next week
it doesn't work this way or what I kind
of do I cannot just use this payment
gateway gateway it doesn't doesn't work
I take the next one
this is complete different scenario what
we usually do on arrow we escalate the
arrow so I'm in this case if the circuit
breaker opens we throw an TDI event so
there's built-in event Kant's event
called CDI event which basically wakes
up the the administrator of weather and
it's correct the error and then the
breaker has to be closed manually so
this is the easiest possible strategy
and I was curious and I was asked you
know the audience in conferences here
who uses actually fancy algorithms for
circuit breaker and there was only one
who had two services which actually
didn't matter the first service service
failed then opened the circuit and then
redirected it traffic to the next one so
an enterprise you don't have to be fancy
and usually if there is an algorithm you
can easily implement the algorithm here
and what you can also do easily measure
time of course so if you evoke something
and it's too slow you open the secret as
well
and because it's so easy i implemented
superdraco my github account are two
classes and about 2k so why everything
is so small because no external
libraries are needed whatever we need is
on the application server any questions
no question the next pattern next line
of codes just stop me who watches the
time here in the backend so no one okay
then we have open end then more time no
problem so the problem of course is au
was not that easy right so I'm the
problems of course the next the next
pattern is called bulkheads and is also
built in and what bulkheads means in
back what it back heads means I would
like you know to secure my application
to be overloaded by a to slow external
system so just imagine I would call the
first system the next one the next one
and if the first system is too slow it
will you know pull all the threads
allocate all the threats and the server
will stop so what we get for free in
Java buckets so how to do this how it
just changes a little bit
suspended a think response response and
what this is this is I think the
Sebastian - no could explain let late a
little bit this is our way that the the
the server the browser will still block
or the server parked the thread and what
I get here is a JSON object so the
result here is adjacent so we just
create a method
and then I can say we spawned dot supply
a thing so computable completable future
is Java 8 so not even Java 9 and I can
say supply a think this get so what
happens we build a pipeline and this
method is executed first then then
accept response resume so now we build a
synchronous pipeline which is with
already built in bulkheads but the
bulkheads are not usable in Java EE
context because the bulkheads here is
actually Commons fork and pool so we we
cannot influence the amount of threads
what we got this concurrency utilities
for Java EE 7 also old one for very
important one resource managed execute
the service
mes and what I can do what is it is
plain execute or service but can be
configured by the application server we
go open for instance in and in glance
vision web project is a nice admin
console in Tommy there is a text file in
white class 6 ml 5 so we have the
managed executor service and I can pass
the executor service here and now what
happens is this pipeline is executed by
a thread pool and the thread pool is
managed by the application server and
the amount of threads is configured by
you and you can have as many thread
pools you like and this is by definition
bulkheads no external framework needed
so if we just rebuilt our app
so we have 7k but this goes mod I would
still call it thin war okay so this is
why I don't get the concept that chars
fed Wars or uber jars or whatever I
never got it I don't get the idea so the
smaller the jar the smaller the war the
faster deployment any questions I think
I suppose I have two minutes or two
minutes or something
two minutes two minutes for questions no
questions everyone happy I think we have
normal time for the next pattern so what
I can do a little bit more robustness
response time out is nice today what
yeah what don't stateless do then
very good I try to avoid the question so
what stateless is it is actually
improving the performance here why what
it means is one threat and this we will
get one instance per threat so if we get
ten incoming threats we get ten
stateless instances and the cool story
is because the injection or empty the
instances are going to be reused reused
means all the injection happens only
once which which has actually a very
good performance characteristics and I
did it once in a online course and
someone on github called Sam all the
salt get up if you search for that you
will find a benchmark by him and he
couldn't believe me and then perform
some tests and it turns out the
stateless was the fastest and the status
is called eg be forgotten technology but
if you put a disaster because all the
dependency injection happens on the one
so did the performance movie does not
matter because this was the slowest
presentation or I ever delivered my
micro service was poor on that request
per second it was never that slow but
usually even in this case one I think
the slowest request was ten milliseconds
whether it is ten or eight he usually
does not maintain enterprise if you hit
the database once we have different
problems than ten milliseconds and what
we get on top of that stateless
returing and management all stateless
components application server gathers
matrix and components which are
available via rest and the console and
we get this also for free transactions
or public methods of transactional we
also would get for free this is what at
stateless does if you don't like
satellites you could live it off it will
run a little bit slower but you won't
see the status
I agreed happy very good thank you any
other questions no questions if you
don't even if you want to attend the
next keynote I will do something else in
the next keynote because yeah so you can
just follow I think it's streamed and
it's going to be recorded as well right
so you can watch the keynote afterwards
so we see the whole story later okay
thank you sorry for not having flights
but yeah I'm not about lights so I hope
I hope I answered all your questions I
will be little bit after the shows or
you can ask me questions outside so
thank you for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>