<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Hudson: The Little Heart of Big Enterprises | Coder Coacher - Coaching Coders</title><meta content="Hudson: The Little Heart of Big Enterprises - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Hudson: The Little Heart of Big Enterprises</b></h2><h5 class="post__date">2015-06-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/-kW-YsaYQjw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">right let's kick off good morning
everyone yeah thank you you're not jaded
yet it's not that late in the week my
name is Duncan Mills I work at Oracle
and I also work on the Hudson project as
a committer i'm joined by winston
prakash use the lead at Hudson and we're
here ready just to give you a state of
the nation talk on where we are with
Hudson today and talk a little bit about
some new features that we've been
putting in so in terms of broad agenda
we'll start off with just quick overview
of Hudson just out of interest um who
here is familiar with Hudson already
okay that's a good number i would say at
least ninety percent which is great so
you don't have to do the basic hudson
demo okay great we'll do the more
advanced hudson demo later on I'll very
quickly run through what Hudson's all
about it looks like that's going to be
old news for most you so that's great
but also we want to kind of show you
where we're going with regards to moving
Hudson forward into some new areas we'll
look at what we've been doing with in
Hudson to make it fit for purpose when
it comes to handling enterprise size
projects large teams large pipe lines of
builds and so on and then we'll spend a
chunk of time at the end actually with
some demo that's where Winston and his
and his bread will be demoing the new
team concept within Hudson which is one
of the major new features in the latest
release so that'll be an opportunity for
for Winston to shine so just for those
of you about three or four people in the
room who aren't already familiar with
Hudson what is it well Hudson was
conceived as a continual continuous
integration server the idea of the CI
server is to make the developers job
easy right that's what we use it for we
have a piece of software that's going to
do the boring repetitive tasks for us
which prevents us from making mistakes
it prevents us from forgetting to do
things so typically we will see kind of
project or life cycles that will involve
the developer checking in code to their
source control repository of choice and
then from there on Hudson will take over
it will check that code out having
detected that the check-ins happened it
will build it it will maybe do some unit
testing on it it may deploy it and so on
so what we're trying to do is just
automate those repetitive tasks and then
you don't have to remember each time oh
I've got to run the unit test before I
hand this code off to the next stage in
the pipeline so as first conceived it's
all about that layer of convenience
making an individual developers job
easier and Hudson achieves this in a way
that is extensible because everyone's
development processes are different no
one has a standardized process and this
is actually one of the problems with a
lot of ALM tools out there they kind of
impose process on you Hudson takes the
Gert the kind of approach that well I
understand you may be using all of these
different types of source control or you
may be not using sort control at all I
understand you've got all of these
different code coverage tools which ones
you want to use so the kind of
extensibility and plug ability who had
some really is key to its its whole
power really and it's designed to work
across multiple operating systems so if
I'm building for a particular platform
maybe I'm building an iphone application
so I need to be doing my compiling with
Xcode then hudson can be managing that
process even though it's not necessarily
completely running on the mac OS machine
it may have an agent doing the work for
you in terms of the project itself we
live kind of a dual life at the hudson
project hudson core as we call it so the
the main engine of hudson is an eclipse
project so it's a mature project now at
the Eclipse Foundation the condition
being a great supporter of the project
and that's what we now do or the the
building and core core work and most of
our informational side of Hudson as well
as is now hosted on the Eclipse wiki but
we also have this kind of secondary
community around Hudson the plug-in
community and the various reasons which
I'll talk about a bit later on
not all plugins in fact the majority
plugins are hosted at eclipse because
some of them are just looked after by by
different people who aren't for example
eclipse committers there r.i.p reasons
and so on so Hudson core lives that
eclipse that then the plug-in community
tends to live everywhere right maybe
java.net maybe get hub it doesn't really
matter likewise the licensing is such
now that Hudson core is is EPL licensed
and plug-ins a generally MIT license but
that depends somewhat on the author of
the plugin in question so release wise
we have just literally on Friday by
strange coincidence managed to squeeze
out a release just before java one so we
had the 3.1 release came out on friday
and we'll be concentrating later on in
the talk on some of the new stuff we put
into 3.1 and some of the infrastructure
and architecture work that we've been
doing as part of that release now it is
a formal Eclipse project so everything
we are planning to do is up there on the
Eclipse websites if you want to know
what's planned for 311 and 3.2 at the
moment then you can go up to eclipse org
slash Hudson or you can go to the
specific project page there on the clips
and and find out what's what's going on
and how you can join in so don't really
talk too much about this one because
most of you know Hudson already and I've
already talked about kind of the plug
ability in the extensibility mechanisms
we have within the platform so fine you
know continuous integration it's a great
thing Hudson's a great tool for
achieving that but really we want to
move on beyond continuous integration as
i said we also want to move into
producing something that's more suitable
for enterprises which i'll talk about a
little bit later on but the next step
really is moving into continuous
delivery so this is one of Winston's
favorite topics let's see if your
microphone works Winston yeah
I think we have some miss Kay is you
going to switch slides for you yeah can
you please yeah okay it's a multimedia
presentation more than one laptop
involved there you go tinium so before
we start putting together all these
lights we are discussing about whether
we should talk completely about
practicing continuous delivery or you
should talk more about the features so
later on we decide that if you want to
talk about continuous delivery one hour
it's not going too good a nap so that's
why we wrote this book for you guys took
matter like that we will talk about this
later but this this book a thing we have
talked much more in detail about
continuous delivery and including
plug-in development so we had a lot of
books available so you can come and pick
it up couple up here and then you can
pick it up a couple of there in the in
the boot so so what is continuous
delivery so a lot of times we think that
continuous delivery means we have to
deliver the end products to their
clients all the time that's not its kind
in a slew rate so in order to
differentiate the continuous delivery
but that's not continuous tillery khan
yunis delivery means you keep your
product always ready for deliver but in
order to distinguish between continuous
delivery and kanye's deployment so they
kind the new word cut condensed
deployment when you when you deliver the
product to the end user so we are not
going to go into detail about that right
now so what Cutsem can do so most of the
times what what we do is to tune Hudson
for only for continuous integration that
means somebody checking the code and
then it builds that unit test and push
it to the caninus repository but the
continuous delivery means you have to do
caninus testing two and in the end you
have to push your product so that it is
readily available for
QE r for production are for performance
testing all those things so how how we
can do using Hudson we have we have
covered everything in this book so but
they're not going to talk about we don't
know about that i mean the the key point
here is if you think about a CI process
i check in my code you want the the
processing that results from that check
in to be pretty fast right you don't
want to be spending too much time doing
that job because you want to give
feedback to the developer very quickly
so that's that's continuous integration
and it's tempting to say all well you
know as as i do a check and i also want
to run a full return regression test
suites you start building bigger and
bigger and bigger jobs and and then if
you go down that path and you badly
design the way that you manage your
continuous deployment setup then the
whole process becomes unusable right the
developer ends up waiting half an hour
to get some result back over one line
code change and your kind of defeating
the objective of the CI part of the
operation so we do have to change our
thinking slightly when it comes to
really working in a continuous delivery
model as opposed to just a plain CI
model and we'll discuss some of that
stuff a bit later on and can we just oh
you want to talk about one since then
well yeah well switch back to the main
slides now if we could I use the magic
word switch Oh wonderful thank you right
so that's basically the slide that
Winston just showed you what we're
trying to do is move Hudson from really
been very good in this space here of
just the you know check-in and unit test
cycle into something that really covers
the broader operations are involved in
really developing a product and that as
we'll see is going to involve things
like much better support for pipe lying
and orchestration of jobs right and we
can discuss that more a bit later on so
just to wrap up on the kind of intro
section let's just look at where we are
with Hudson into
of deployments out there so the Hudson
server pings back to the update center
on a regular basis just see if there are
any plug-in updates new plugins and so
on and so from that we can kind of get a
good idea of what versions of Hudson are
out there and obviously how many copies
of Hudson or rather how many unique IP
addresses are out there which course a
single IP address may conceal multiple
copies of Hudson depending on the
firewalls in place but we can see this
is stats we're going to pulled these out
of logs slightly earlier this year so
the usage of Hudson is staying constant
somewhat around 32,000 servers are
running it and we can see this is the
encouraging news really not surprisingly
the the 22 dot n releases a most popular
but we can see gradually that the Hudson
three releases are beginning to increase
as well and there's kind of a breakdown
we have in march of the relevant
versions this doesn't include of course
3.1 which is only just hit the streets
so we are seeing a gradual migration
from two to three which is a good thing
for reasons I'll explain in a second but
with 3.1 we think there's an even better
reason to move forward to hudson 3 from
24 the various reasons to do with memory
and that's thing we'll talk about and
then location-wise pops up instant had
too much time his hand so he did some
mash ups for me of all the places where
those IP addresses allegedly are right
who knows maybe and this is someone on
island maybe I thought Mauritius I was
loose no that's the other way cayman
islands or something okay so let's move
forward hudson in the enterprise so you
understand we're trying to make Hudson
more suitable for for enterprise use for
continuous delivery and it's worth just
considering what the differences are
right so if we think about an individual
or a small team using Hudson today as I
said it's all about convenience for the
developer
is toe so I can have my developers check
in and they don't have this so far and
forget mechanism they can all of the
automation that needs to happen is done
for them that's great so it's a
time-saving tool but the same time it's
going to be flexible right it's gonna be
possible that if you want to go in there
and change the Maven goal or you want to
play around with how the packaging is
done or whatever happens to be that
should be really simple and easy to do
so Hudson as a CI server is greater that
stuff it's really easy you know the
developers can just go in they can
change the jobs they can copy a job do
you know do a new one make all those
changes really easily and that's
fantastic and that's always been one of
the strengths of Hudson as a as a
platform right it's very accessible used
to use you can be up and running in five
minutes or less with the thing and
that's including the download time right
however if we look at the enterprise
then the game changes and we've been
through this exact same experience at
Oracle we're moving all of our build
processes on townsend and you take a
product like Oracle Fusion Middleware
that's not a product that's about 300
different products right and to
orchestrate all of that stuff together
and really build build pipelines that
can build all of those individual
products cross test them merge them
together a manager deployment artifacts
and so on is a huge task and it suddenly
puts a whole different set of priorities
into frame because management get
involved and they start saying well okay
at the moment you're running this little
server on your desk and maybe you've got
you know agents running off on various
developers laptops to spread build load
we don't want that we want to control
the infrastructure so I'm going to have
a dedicated admin on this stuff and
we're going to start worrying about how
the jobs are backed up how the artifacts
are backed up suddenly all of that stuff
comes into play then someone asks will
are you using the corporate identity to
to manage the access control to this
stuff and you say well no I was just
using Hudson's built-in database because
it was really easy and I didn't have to
think about it and they said well now
you got to use the corporate ldap okay
then suddenly questions get a civ well
can this developer here change that
developers jobs well yeah they can at
the moment because it's just easier and
that's very incompatible with some kind
of corporate cultures shall we say okay
other things come into mind as well
obviously the performance and
scalability you're moving away perhaps
from building a relatively small thing
like Hudson cool not that Hudson's that
small but you know in relative terms
it's a small project to building as I
say you know hundreds of products in
parallel so can you manage that from a
scalability point of view right how can
you provide twenty four seven support
for that how can you make saw the
server's never go down because you're
continually doing builds from check-ins
all around the world right these are big
challenges and then the final one which
I'll talk about a bit more later is the
whole legal aspect as well the IP aspect
now a lot of us are quite cognizant of
okay when I'm building something I do
have to worry a little bit about where
the libraries i'm using came from what
are they licensed under who wrote that
code am I allowed to reuse it is it
going to cause me legal problems down
the road right maybe you something you
don't worry about that stuff but you
know when you're selling commercial
product you have to the other thing that
tends to be away though is what your
tool chain is doing and whether your
tool chain fulfills those same
requirements because right you're
wrongly companies can get very paranoid
about well if I've built a product and
summer in my tool chain there's a bit of
code that in some way is not legitimate
or someone might come back and try and
Sue me over using it because it was
ripped off from some other place you
know that's a big exposure particular
when you you're you know running a
multi-billion dollar business on the
software that you're producing so
there's a lot of paranoia around the
toolchain aspect and the course hudson
is a key part of that's all chain so as
I say the enterprise has these very
different priorities so what are we been
doing in Hudson to try and make it more
friendly to the use of enterprise
we were Winston and I were here last
year just talking about kind of a
progress update from Hudson as we
integrate it into eclipse that process
took about a year in fact in the end and
one of the reasons it took so long was
the IP cleanup we had to do so you know
Hudson a grown over time and frankly
from the library perspective it was a
little bit messy right libraries has
just been pulled in because they kind of
did a job so there were multiple logging
frameworks in there for example there
were there was lgpl code in there
they're all sorts of nasties from the IP
perspective we couldn't chase the
provenance of some bits of code down who
actually wrote this where we didn't know
part of the conditions rightly into the
Eclipse family was to ensure that from
an IP perspective the Eclipse legal
folks were totally happy that Hudson was
clean and that involved a lot of work
let me tell you Paul winces his fingers
now shorter than they were by at least
an inch used to have PHP and his fingers
now he's got little stubby ones it's
terrible he was tightened so much so we
did a huge amount of cleanup work
replaced a bunch of libraries
consolidated down so reduce the overall
number of libraries down to 85 in this
case though it's gone up by a couple
since then but the important thing is we
can now go when someone asks us hey can
you tell me all of the libraries you're
using and order that all of the licenses
and who wrote that code and where it
came from we can say yes and here's the
list and in fact as part of our Eclipse
releases we have to release an IP log
which gives you exactly that information
and tells you everyone who contributed
code and who checked in code into this
release so we're now in a situation
where an enterprise a commercial
enterprise in particular can pick up
Hudson and be confident that it's clean
right so that was a very big part of
work of our work for the 30 release we
did a few other things in 30 just to
kind of help things along particularly
around plug-in management again when
you're working in an enterprise
environment you may want to restrict the
plug-in
is that your developers are using right
you don't want them pulling in
absolutely any plugin because like any
plugin based ecosystem there's going to
be good ones and this would be bad ones
there's going to be useful plugins and
there's gonna be trivial plugins that
you'd rather not have running so we had
the ability to have a kind of internal
plug-in centers to handle that
particular scenario and then slightly
earlier than that we did some templating
we called cascading template feature
into to which again was just to start
helping us build these more complex
enterprise pipelines so it Hudson 31 I
should explain here that in terms of
release is the the first decimal place
so 3.1 and 3.2 are major releases so
that's when we'll put feature bearing
stuff in right the three-point 1.1
release which will be our next release
will just be a bug-fix release so that's
kind of the way we we work so in the 3.1
release which as I mentioned came out on
Friday we started doing a bunch of real
engineering rather than just remediation
and clean up we could get into starting
to add the features we wanted to do so
in 31 there were really two big ticket
items one was a big cleanup on the
memory management which we'll talk about
in a second and the other words this
feature called team concept which
Winston's going to demo for us and take
you through the basics of using but we
haven't stopped there there's still a
lot to do which I'll talk about later on
as well but it's all about improving
those manageability aspects so we can
have going to 24 7 operation improving
the job orchestration that kind of thing
so from the memory management point of
view basically there was a big under the
covers rewrites this was done by a
couple of our well one one Zak emitter
on one's non-committal boy buggies and
Bob Foster we did a whole bunch of work
around totally gutting and rewriting the
internal memory model of hustling to
frankly fix it because although it works
earlier versions had some work very well
when you've got you know a small lesion
of jobs and a smallish number of builds
it really wasn't scaling very well
because it was holding way too much in
memory way too much right so the work
that's been done now is to put in a much
smarter model for the way that you know
the historical list of jobs and builds
are handled so that stuff doesn't have
to all be loaded into memory when you
start up and it's just going to reduce
the overall loading right there's still
some work to do on this because this is
a plug-in based ecosystem it's entirely
possible that a plug-in might do a bad
thing and for example cause you to load
all of the build results from all the
jobs you've ever done back into memory
again which will undo all the bad work I
think we actually have a solution around
doing that bob was saying something
about its thought of a way of doing it
without causing plugin writers from
having to rewrite which is obviously
where we really want to be just a quick
example so on the Hudson sandbox we
build Hudson on Hudson of course just as
a general sandbox test the overall and
give you the idea of scales we've got
some like 40 jobs that go into building
Hudson and we were managing about six
two thousand bills as part of that so
that's kind of the historic build
loading so overall the the use heap
sight heap size fell by over fifty
percent anecdotally I've got the exact
figures but we've also done the same on
the jdeveloper ID at Oracle which is
also built using Hudson the guys they're
switched over to 3.1 from 30 to give it
a try out and they saw a 75 percent
reduction in heap usage so these are
huge savings so definitely it's worth
picking up 3.1 and giving it a go
because if nothing else you'll be able
to get more stuff on the same hardware
which is always a good thing right I
don't know what the Eclipse folks are
reported yet on their sandbox if you
heard but yeah we'll have to check with
them because all of the Eclipse IDE is
also built on Hudson and they they
should be able to give us a pretty
realistic
rule of thumb about what the savings
going to be on those large systems you
know on the small ones of the desk
system well this is an interesting
feature but it probably won't make any
difference but once you start building
big scale stuff it makes a huge
difference okay team concept this is the
you know okay memory management rewrites
are great they're interesting but they
don't really change your life as a
Hudson user apart from being able to run
more jobs what is important is this new
team concept future so what we've done
is X tear extend the security model so
rather than having essentially a server
that's open to all so you know you can
secured some today you're using an early
version of Hudson yes you can secure it
using Hudson's internal database or your
LDAP or Active Directory or whatever it
happens to be that's great the problem
is once someone's into Hudson they've
got the rights then really everything's
open to them right they can delete jobs
they can create jobs and that's
perfectly fine for a small development
team where you're all buddies and you
know if you accidentally delete your
mates job then huh never mind I'll
rebuild it for you in everyone's happy
as I mentioned going into a corporate
environment that kind of stuff doesnt
sit very well they don't like the idea
that people in different groups might be
able to see the jobs of some other team
so we've introduced this team feature
which basically allows us to start to
group developers together into one or
more teams and then control job
visibility and other functions based on
that team structure right and this is
just enabled from the Hudson security
screens which Winston will show you in a
second so conceptually very easy it's a
flat model so we're not expecting teams
nested within teams if you want do that
kind of cascaded privileged stuff you do
that in your LDAP and you know we don't
care about it we have a flat structure
where there's a general system admin
I'll talk more about the roles in the
second
but in this case we've got you know a
couple of teams with administrator in
each and then various people or roles or
associated with that team so a role in
that case is you know an enterprise role
it's a group within your corporate ldap
whatever so that that role is coming
from whatever your preferred back-end
source of identity is or as I said
before you can be using this with
Hudson's internal user database but we
don't have roles in that case so it's a
flat user model you'll notice here that
Jeff Jeff instantly runs qa4 for the
hudson project he's in two teams right
and that's perfectly okay so in terms of
roles there's basically the concept of
three types of people within teams at
Hudson right there's the super admin the
super user who's the one that sets the
whole thing up they can create teams and
the sign it admins to those teams and
uses to those teams and they can also
create public jobs and so on we'll talk
about the types of jobs a bit later on
and Winston will probably cover it then
every team has one or more
administrators and what that allows them
to do is to add more members to their
team and then of course you've got
ordinary team members right where they
have various rights that will look at to
maybe create new jobs to run jobs and so
on so with that I think can we switch
over to the second laptop please and
we'll have Winston take you through the
basics of setting up as a team from
scratch and using it more so we're using
what openldap in this case right at the
openldap so have you ever heard of j
explorer which allows you to minus Delta
so for this demo purpose i'm simply
using the the the openldap and j
explorer which will allow me to add and
delete
the users to their lab and I have
created three groups for this demo
purpose so as Duncan mentioned that when
we are when we implemented this team
based concept we made sure that we keep
the spirit of what we we know already so
we introduce the team concept as an
another authorization so so when you
want to use it just good you just go and
configure your security and then select
the team faced authorization so one
important thing in the team-based
authorization is when you select the
team-based authorization you must
provide a system admin if you are not
providing a system admin and you cannot
login and manage the teams so so I'm
going to just add Duncan as a knowledge
thank you as a system admin to add a dad
so you can see that immediately it shows
that Duncan is available in that
database so now let me login as Duncan
only I know his password he even doesn't
know I don't know how be you to that's
ok so I'm defined in in openldap which
sure which is just showing 3j explorer
there yeah so you can see that Duncan is
already there i am i set it up so when i
logged in as Duncan because Duncan is a
system admin now you can see that at the
left hand side he gets the permission to
manage the Hudson as well as manage the
teams so this is where the the seasoning
is going to go and create teams so I
started with a very fresh Hudson so
there are no jeans so I'm going to add a
new team so I'm going to call it as
deputy
so I created so you can see all of a
sudden at pinis up here then I can add
numbers to that one so I'm going to add
myself as a member and I'm going to make
myself as a team admin and I am also
going to add another member to this but
he is not the team at him so so if I
logged in as myself so I get to admin
the team but if anyone else it Roy's is
going to log in he does not get to the
so but he has the permission to create
delete and other stuff on the on the
team so so you can see that there's no
se butter because everything is done
through ajax here so now i am going to
log out as duncan and i am going to
login so when i login as myself
you can see now I no longer has access
to admin Hudson but I have access to
admin the team so if i go i cannot
create any more teams because i'm not a
system admin so i am a female mean so i
can go and manage the teams so i can
hear now I can go and add more members
like bob i can add so so he's become a
member of that one so now i'm going to
log out test myself and i'm going to
just log in as a developer who does not
have any team permissions so thought i
had a roi right yes your bro a.m. and
roy and so I login as Roy now you can
see that now I cannot admin the team so
but Roy has access to create the team's
jobs so I'm going to create a job called
a job one and i created the job so i am
not going to do anything at that so you
can see that that it says that it's dev
job on the meaning of that dev is that
this job now belongs to the team called
Deb so let me let me log out and log in
as Duncan again so who is a system admin
so i am going to
so Duncan is again going to manage the
teams and he's going to add a new team
called the QA and so I'm going to call
it as QA team and I'm going to add only
one member to this QA team that's just
Jeff do it outside I don't think that I
have yeah okay i'm going to add Paul as
a member to it and I am going to make
Paul as a as an admin to the team so now
i'm going to log out as fall I mean
Duncan and i'm going to log in as fault
so who is a member of creating but we
know that the QA team does not have any
jobs so what happens when Paul logins he
does not see any jobs because there are
there was no jobs associated with the
q18 eight so there's no job so now
they're Paul can create a job so i'm
going to call this job as job one even
though i created a job one earlier with
the same name now i can create the same
name again because this job is not going
to create it under the dev team but it
is going to create it under the cute in
because the fall is a member of job so
you go back and see that now it is
created as a part of your QA team so now
what happens when Duncan log same
because Duncan is a system admin right
so Duncan can if I login as Duncan
now Duncan can see both the jobs because
Duncan is assisted me so you're telling
me we put all of this feature in just
Sochi people could have a job with the
same name right okay yeah okay so so now
so now what happened is then Duncan told
that two members can be at two teams
right so I am a member of say let's say
Roy is a member of dev team so we are
going to add him to the QA team also so
but here what I am going to do is I'm
going to remove his create permission
delete permission and can't be a
permission but he can do only one thing
that is he can build nothing else so now
Royals are two places in the dev team
and as well as in that in the QA team so
i'm going to log out as duncan and i'm
going to log in as Roy
now you can see Roy heck I can see both
both the jobs and the dev so since Roy
is a developer as dev team and he has
the access to create new jobs and he
also can configure and delete so if you
if he's looking at a job from dev team
then he gets to delete and configure but
however if he opens a job from the cutie
oops yeah I think you left to configure
one checked but he can't delete well
configure and check ok so basically if I
remove any of the permissions from the
particular particular team then he does
not get to get there get that thing and
ok yep one more one more feature quickly
I wanted to see is so i'm going to log
in sa Duncan and
so so what happens when when some when
you first starting Hudson three point
one point zero and then there are no
teams but you have tons of jobs already
so how are you going to create this
teens and to distribute those jobs so
that's what we created something called
move jobs so the sysadmin has the
privilege to move jobs from one team to
the another so I am going to just move
this job to the QA team then so now you
can see that that particular job is part
of your team then if you can see that at
now there are no no more jobs at the dev
team so if I log in as a dev team member
now I don't no longer see any jobs
because the only job I created in dev
has been moved to the care team by the
sysadmin so i cannot i cannot see that
so the same way if if i'm a team at mean
i am at two places that I get to move my
jobs within the within the team so
quickly i wanted to show one more thing
is we have we have roles so in their
role there are Paul Chris and instant
three members are there so I'm going to
just add that role as a of course this
is what you would actually normally be
doing Rob letting individual users so
maybe with the inception of the admin
generally if you're in a corporate
environment then developers are already
going to be assigned to some sort of
role right whether it's so you know
split up by product or department
whatever it happens to be there's a lot
more convenient to just assign a single
roll to a team and then automatically
anyone who in the ldap side of the house
gets put into that role will become a
team member so you don't have to keep
going back to Hudson to update the
visibility to individual users so from a
best practice point of view of course
you want to be using those corporate
roles as a way of assigning team
membership just see that keep coming
back in so yeah one more thing I wanted
to show is that when you create a job
you can XP you are a member of multiple
teams you can explicitly say that which
team you want to want to create the job
for for example in this case I'm trying
to create in the QA team but I am NOT a
member of key 18 so it it says that ok
you don't have access to QA team so you
cannot create it so there so I have only
one access that's the dev team so i can
create only in the dev team ok so one
other important thing what we have added
is that you have created jobs in
dev team and you don't want to do any
access to the QA team except the QA team
is able to read only access to their
jobs then you actually can do that by
configuring the visibility of the job so
I am saying that this job is not only
visible to the QA team but also anyone
publicly they wanted to see their job
they can see that that means when you
assign the visibility as a public job
you can see the job even without logging
in so let's see that so if I log out
then I can see the job because I have
not logged in but I mentioned that this
job is publicly visible to the members
so they can they can see that but the
important thing there is it's only
visible so you can look at it you can
look at the bill results you can grab
the artifacts but you can't run it right
you cannot run you so that that's pretty
much cover I mean I wanted to show one
more thing because I added as a role so
I have not added very specifically the
Chris as a number so if I logged in as
Chris you can see now Chris can see the
job from the dev team but I even though
I have not I am NOT added Chris
specifically but i have just added a
roll dab to that that team okay XO
thanks okay so it's a quick run-through
and if you can look at that was demoing
a second as well we'll get to round
second you do see a lifestyle I'll be
one could we switch back to the first
laptop please yeah i'll just talk about
it excellent right so just to kind of
summarize at Winston's shown you we've
got this concept of various types of
jobs that are now available so there is
this kind of special team the public
team which the only person who can work
with that is in fact the super admin
right when you switch on the the team
feature if you had any jobs that were
already defined within the Hudson then
those things automatically become
public jobs but those public jobs again
a read-only asleep erson who'd be able
to run that would be the admin right so
you're kind of workflow for switching on
two teams assuming you're not starting
with the Greenfield Hudson install you
would switch team enablement on and then
start to move those jobs to the correct
teams so that they can then be run by
the people who have an interest in them
and as Winston showed you you can then
set the visibility again such that the
results of those jobs are available to
the wide world if if needs be ok so in
that initial state the only differences
those jobs don't have a prefix so the
public team name doesn't get prefixed
before them so we've got public jobs
then we've got team jobs so they're
owned by a team there they're run and
created by people within the team but
again the results are visible visible to
the public and Winston showed you that
you can just check a box to do that to
make them visible in a read-only we'd
only manner and then team jobs
themselves they can either be you know
private to that team they're always
prefixed with the name of the team so
they can be private to the team they can
be read only public as we saw or as when
also showed they can be shared or the
results that if you like can be shared
with another team as well so you can't
take a job and make it available to
another team and then also make it
runnable by that team they can just see
see the results only that actually
reflects the way that most organizations
operate right generally there's a
visibility requirement between say the
QA folks and and the dev team but they
don't need to run each other's jobs in
fact it might get quite annoyed if you
do that so stuff you might need to know
as with all these things it helps to
understand a little bit what's going
under the covers so you know what to
back up for a start right you're back up
your Hudson stuff right when you enable
team support you'll get a team's folder
inside your Hudson home where
that happens to be and then there'll be
sub folders created for each team if you
were observant and as Winston went
through you may have noticed actually
when you create a team you can define an
override location for the team folder so
in fact the team folder doesn't have to
be under the Hudson home if you don't
want it to be again if you're in a very
paranoid organization and you want to
put something on a volume that you know
is backed up separately or whatever then
then you can do that so that's where the
jobs go then the the jobs are just the
standard job XML files within those
individual team folders right so there's
no real difference there if you go and
look at the job it will be defined in
the exactly the same way and then
importantly there's a whole bunch of
command line features available to
manage jobs as well we won't run a demo
because it's just command line stuff but
for those you've used the hudson CLI
right you've got a whole bunch of things
you can do from the command line which
are obviously a convenient way of
carrying out particularly bulk
operations so for example if you've just
done your team set up and you want to
move a load of jobs from public into a
specific team then you can do all of
that from the command line rather than
from the GUI the choice is up to you and
then there's some specific team commands
you can use light list teams so here for
example I've called list teams
identifying as myself and I can see that
i'm a member of core dev with all of
these privileges and i'm also implicitly
a member of public with read-only and
obviously if i was in more teams i would
get those teams listed Winston did you
have just one point even though you can
switch to team management and you create
all the teens and later on Lee decided
that you don't no longer want to use the
team management and you wanted to switch
back to a different authorization it
works perfectly out of the box we don't
have to do anything I thought you can
say from Evan oh I'm afraid you can't do
it
stuck in teams forever yeah okay and so
what would the process be four that just
moved to job files back up in the
hierarchy know you can do that or you
can just leave like that the team
manager rules to work behind the theme
it gives you all the jobs in a very
regular fashion we're a perfect
designing switch on and off it well I
must submit that you know I run various
little personal Hudson instances to to
do stuff that I need to do day in day
out and I just started using teams by
default it just is quite a natural way
to just set up your instances and you
wonder why we didn't have it here really
so that's that's really the cool thing
there so what's next so you know teams
was the first big chunky new feature
that we managed to get into 231 after
all this original cleanup and there's
obviously a lot more to do we still go
work on on the memory particularly in
the plugins area that stuff we may be
able to do in the 311 release we'll see
how that goes there's some more
housekeeping to do we need to upgrade
the version of spring we're using
internally and stuff like that which you
probably don't care about but it's all
got to be done but it's important we
feel to keep Hudson very current when it
comes to the third party libraries we're
using again that helps with security
updates and all of that kind of stuff
right so we don't want to be running on
something that's old and vulnerable we
want to keep up and that's constant work
for us but it's well worth doing going
back to this manageability theme you
know ensuring that the product is is
good for enterprises to use we want to
do some work on things like kind of been
able to run in 24 7 operations so you
know as you put a new plugin for example
or an upgrade a plugin you don't
necessarily probably don't want to have
to shut the server down and restart it
in order for that plugin to take you
should be able to do that in just live
so that's the feature we're looking at
and there's already a little bit of
working there for automatically
restarting Hudson as well Bob did some
work on that in this release
we have boring stuff to do like some you
I clean up an accessibility work in the
UI it's important to do though so it's
kind of thing I think I'm think I'm safe
doing so I do that bit and then as I
mentioned the the really big feature
that we are kind of currently noodling
over and trying to work out what to do
is this whole issue of how can we
orchestrate these much more complex
build pipelines doing bunches of stuff
in parallel you know conditional
branching how we can visualize those
build pipelines because we want to move
beyond that simple developer centric
process into these much bigger
Enterprise orchestrations and Winston's
got some great ideas around how we could
visualize those things and that I think
will add a huge new dimension to the to
the project so we're really looking
forward to that now in terms of if
there's something else well you know
join in if you're interested in having a
particular feature if there's a
particular bug bear that's annoyed you
intensely then let us know and there's a
whole bunch of ways of doing that
there's an eclipse developer list and
this there's still a java.net develop a
list for Hudson but it's pretty better
to join the Eclipse developer lists
which you can just do from the Hudson
homepage on the clips which is enlarged
tight there you can join the developer
list you can post on the eclipse forum
at Eclipse sort of on the Hudson forum
at eclipse or of course you can just log
an issue in bugzilla and we can have a
look at that as well this is a good idea
to tell us that you've done that on on
the forum or on the list as well but you
know by all means just join into the
project we have a biweekly phone call
which we're actually supposed to have
today and i realized i missed so every
two weeks we have an open phone call the
details are published in the wiki you
can just join in and say i really do
this feature fine and of course the
Eclipse wiki is open so just let us know
what you need it's it's you know we're
more than willing to look outside of our
own immediate requirements right apart
from the three
one release which obviously was a pretty
major piece of work the other major
piece of work that Winston's been
working on is his little book here which
came out when last week as well lastly
last week as well so with impeccable
timing who'd have thought Winston and
Ned burns it burns a suspect lead for
jsf for those who don't know him the
yeah but photograph doesn't do it
justice I think low resolution but so
Winston and I'd have just finished this
continuous integration in practice book
we have some copies to give away for
anyone with a witty and it's like
insightful question so this is a great
opportunity to get free stuff who'da
thought so with that I think we can look
at you have something to say yeah one
quick note about this book we actually
when we wrote this book we have two
things in mind one is that to help the
end user for effectively using Hudson
and the other is a plug-in developer so
if you are a plug-in developer or if you
are an end user who is looking to how to
use that's an essay as not only a
continuous integration tool but all the
way to caninus delivery the system of X
and stuff so with that we can close it
there we've got a few minutes for
questions which is good I thought books
or suddenly encourage people oh well
we'll work across the room so gentleman
in the front here okay so the question
was if you want to kind of consolidate
given the Hudson 31 has you know good
good memory profile so you can get more
stuff onto a box and then if you are
previously just using boxes as a way of
segmenting logical teams right which is
what a lot of folks have to do is there
a way to export from those individual
boxes onto a centralized team server
Winston yeah the one is there ready to
do that is as I mentioned earlier that
when you when you start a new high
I mean beneath then you start from
Hudson 3.01 our 3.0 then all your jobs
are getting added as a public job and
then you are simply moving those job in
the teens so if you have another another
Hudson system and me for all those jobs
are there usually all those jobs are
under a single folder called jobs you
simply copy those jobs and put it in the
jobs folder in this mission and then you
can move on to different teams whatever
you want oh is that your question yeah
that's another good question I think so
yeah the baiting ultra Campea we can
just move jobs wholesale onto that
central server I mean you don't gonna be
careful about name clashes so you would
kind of move from one machine on to the
new server move all of those jobs in two
teams there they're not going to have a
name clash with the next slot that comes
in because everyone's got a job called
nightly build right they'll be careful
there so I think there's there's some
slight process to be involved there but
yeah just move their their jobs folders
so on to that secondary question which
was can the permissions be right um the
simplest thing was yeah we can copy the
team's doll xml file between them
because everything is defined in one
file so provided you set up the
structure the team structures the same
and then essentially you want to just
propagate the permissions between them
then you just have a job on on your
master Hudson server which which moves
that file around so yeah I think this
yeah that's this one other team in
Oracle itself what we do is we have
multiple Hudson's being used by
different teams but we don't want all
these multiple Hudson's to be managed by
different different teams we want
everything to be managed by a single
single cuts in our single area so we
developed something called Carson so if
you if you watch Downton Abbey
Carson is a head butler so Hudson is a
butler right so this cars and what it
does is it manages all these different
Hudson so even though all these Hudson's
are given two different teams the entire
management is done in the in the Carson
level including the what you call the
authentication and all those things
unfortunately it's not at public so i am
i'm trying to bring that publix as soon
as possible develop something very
similar to and it works very nicely i
really like it though I me today you
could just use a Hudson instance to
manage yeah that essentially right so
it's it's certainly I think doable will
go here the only yesterday Strickland
okay difference between hudson and
jenkins in the 30 release in 31 can you
answer that one it's been a while since
I've looked at Jenkins like at I'm sorry
I'm not keeping up and thinking what's
going on in there and it says kind of
diverse a lot in the last couple of two
years I mean I think we're all evolving
in the same direction in terms of what
we're trying to do with with the
different frameworks right yes generally
okay so the question was if we're using
sun-like LDAP or Active Directory or any
other external source of user identity
do we need to have write access to those
repositories and the answer is no they
can they can be read only so you can
just have a connection to you know a
corporate ldap with no write privileges
and just pull out those those users
there ldap users we're running openldap
on on my laptop here so I used to ldap
as an example so you can use that any
any database which provides the user you
can use the Hudson local database are
empty so that that part doesn't change
you can use you can use what we call the
UNIX user system or you can use the
Hudson built-in database or whatever
supported by Hudson you can use that are
active directory yeah so bear in mind
when you're using an hour motel DAP or
remote directory provider of some sort
you haven't got the ability to create
yourself as a new user that's only
available when you're using Hudson's
internal database you can't do self sign
up just yes yes I send this division
building right yes you can use slaves to
build simultaneously at different things
so this book colors that how to how to
create distributed building you see
Hudson yeah we can to demo just you know
on a single server but of course the
real configuration the most projects
will be running in is you've got the
master server where you define the jobs
and so on but then and that will have a
certain number of executors workers if
you like defined on it and then as jobs
are actually processed you can have
multiple agents or slave processes
running on different machines different
operating system
doing that work so it's very common for
example if you need to build different
distributions you might want to build
the distribution on the operating system
you're building for right so I'm
building a windows distribution and
building a Mac dmg file I'm building an
RPM so the agents can be running on a
particular node and you can assign
different jobs so that they they'll just
be allocated to whatever node is free or
they may be specifically associated with
a particular node right I've always got
to build the the iphone distribution on
the Mac so I make sure that job always
goes there but this is some of the
complexity of the the pipelining we're
talking about to make sure that this
stuff can really really happen one last
question yeah oh yeah we're on an on
time okay do we provide customer center
Gators
right so the question was can we provide
a custom authenticator yeah I think the
answer to that is yes so the approach we
take within Hudson rate is to allow you
to plug in whatever provider you want so
you know at the trivial level for
example if I was on if I deployed Hudson
in sunlight weblogic then if I wanted to
have my own custom authentication more
than I could plug in to the the weblogic
security model which allows me to have
you know multiple chained authenticators
i can write my own so that's not really
a Hudson problem so much as just you
know you can provide that Authenticator
for whatever your your infrastructure is
you can do so that's one of the options
right i can say let the container let
the java ee container do this or let
ldap do it or let Active Directory do it
you just configured out through the
security options what you want your
source of truth to be we've probably
ought to cut up joint to come up the
front cuz we probably ought to get out
of here otherwise we'll be steamrollered
out but thanks very much for attending</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>