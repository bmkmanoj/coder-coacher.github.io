<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>The Remote Presentation Model Pattern | Coder Coacher - Coaching Coders</title><meta content="The Remote Presentation Model Pattern - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>The Remote Presentation Model Pattern</b></h2><h5 class="post__date">2016-09-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Bo9kRUtKkhc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone everybody here was the
did you guys were at the great community
know that we just had a couple like yes
that's that's true Java that's one of my
colleagues educators incredible person
you actually you won't go and use this
bike addict because i have my own bike
okay yeah yes hi everyone yeah welcome
to all the talk when you reach the room
after the top don't forget to you know
press the screen button on the screen at
the voting machine yeah i guess you have
seen this outside of the all day on in
the past days well we a canoe we build
this machine so we well actually
hendrick is one of the people that was
behind the software and there are so
many pretty cool you had a toward you
have a talk to die Avett today so if
you're interesting interested in the
voting machines how they were built and
how the java based software is running
on all these devices you should hear
join my targets I don't know maybe at
four so there are two I base component
that is related to javafx verse also set
aside component that me of interest to
you and suddenly very interesting the
Oracle cloud the whole service is
running on the cloud somewhere okay so
so my name is Sandra samurai and I come
from Mexico border war for this company
konkani which is located in Switzerland
we really love the chocolate we'd love
to stay there if they have a Mason crew
and I'm also one of the few Latin
America and Java champions jawan
rockstar apparently somebody thought
that it was a good idea to appoint me as
a our champion I guess I know a few
things about Java but I really am
passionate about Java technologies
overall and I also love the grooby
anybody here uses groovy yeah sip your
hands yes my crew thank you anyway so
that's all the boring stuff that I can
say about myself and what about you yeah
yeah I'm Hindu gave us I come from
Germany Griffin Dortmund and work at
canoe in Switzerland too so I'm too
java champion and java one rock star and
and jsr expert coo remember for example
with andres together i'm working in the
desktop and embedded Jace Jace are 377
yeah so yeah that's about us and get
start with our talk and so endless will
give you an introduction of all the
different UI patterns yeah so so the as
you saw the title of the topic I mean
yes it is the remote presentation model
pattern so we're going to talk about a
leave it about design patterns but
that's just half of the talk the others
half of the talk is we're going to
present an implementation of this thing
that we'd like to call the remote
presentation patent or RPM for sure I
know we have a short dash of TLAs and
there's always a confusion where this
rpn is something else or not it's
actually a remote presentation mode but
so we begin with NBC everybody knows NBC
one way of another right and this is
basically it you have three elements
Model View controller and somehow they
communicate with each other the idea is
that the view is the one that handles
all the UI interaction and it does it
does it in such a way that whenever you
push a button on the UI or send an event
actually let's see let's talk about more
generic and you send an event from the
UI that triggers a change our data
change into the model but it also may
trigger an action that goes directly
into the logic that is a controller so
the thing about NBC that was created
more than 30 years ago it allows you to
deconstruct the application and put
responsibilities into the right place
the problem about NBC is that very easy
to get it wrong these MVC components
motor beyond control have a tight
cohesion so if you need to change the
view for something else w has to know
the controller it has to know a lot of
about the the model how it works how you
send data to that one so even though
it's easy to get started once you get
into the maintainer
or you're building a really large
application NBC is not really a good
idea so for that we also got another
version of the NBC pattern and next
iteration which is a Model View
presenter in the Model View presenter we
still have three elements the model the
be a presenter but I change in this way
the view does not reach into the model
directly it will always have to do it in
using the presenter in between the
presenter is the one has the logic so
there's no way that you can set some
data in the model and they have it
magically appear in the UI now the
presenter has to be advised have to be
notified I got some direct data change
and that pushes the information to the
view now when the Butte triggers a new I
event then that goes into the presenter
the presenter decides what to do and
then grab into them into the model which
may also be a domain object so the next
one so maybe one thing so we I couldn't
at the second one and I think we already
have the area that Java developers often
do or let us simply internally supported
by Java you I to kids like Java a fix or
swing because they are most of us only
MVC support right exactly so Swink is
inspired at least it the way that
witches are designed adair is finding
improper model-view-controller even
though the controller itself is mixed in
with the with the Bews view yes the
example except a jbutton is bought the
view and the controller buddy has a
partial module I also failed to mention
this earlier but if you have any
questions at any time please let us know
and we will just we do our best to
answer it so the next one is the
presentation model pattern itself this
was this this pattern was pointed by
martin fowler from taught works and the
idea behind the presentation model
pattern is that it gives you a box where
you put all the data that is going to be
visualized but not only that you also
put additional information that the UI
requires
no that to present the data so say that
you want to visualize the person but
it's a very important person it's a VIP
besides the information the person
itself you also put a hint too because
it's a VIP I want to render the name
with red color or I want to add an
asterisk or put an animation to it so
that information goes directly into the
presentation model the other great thing
about this is that we decouple the UI
from the data from the other interaction
so we can test the most of the system
without having to launch the UI we
simply need to set up the presentation
model with the right data and with that
we can trigger the behavior very easily
now I have to say that using the
presentation model pattern it feels
quite natural after you give it a couple
of minutes and the the thing that that
we want to do is somehow bring this
pattern in alive in such a way that you
can put most of the stuff most of the
behavior on the server side and what is
in the UI has to be on the client side
what would be the advantage or do is
something like this well if you build
most of your application in the server
side then you only have one place to
roll all the changes or updates that can
that can interact with other clients so
the next iteration in this iteration for
this pattern is to turn it into a remote
version when I should before we get into
that yes or I was jumping the jump the
gun here we got the model view viewmodel
pattern it's the name sorry bit wonky it
was created by Microsoft and that well I
don't think it has to do that it has to
do with because microsoft created micros
actually quite cool dizzy with these
days now because they are open sourcing
a lot of things quite surprisingly right
anyway in the model view viewmodel
patent what you have is that the company
in the center the blue model contains
both the data and the logic this is
something that personally I don't like I
like to have those to responsibly
separated but it allows the hbu to talk
to the behavior and the
data but in a lazy way in a lacy manner
the only way that the hbu model is going
to be consumed by the UI is because you
have the data binding so whenever the
logic or some other event down the
stream changes the data that will
trigger a binding event that will
refresh the data into the UI and that
this pattern is also very tested
friendly because the only thing that we
need to do is smoke out the view model
if we want to test just the UI or simply
forget about the UI and interact with
the immune model directly and in this
case the model component is not the
model itself that is not the hbu model
is at domain object it can be anything
you want so with this now they have
covered the basics of the patterns what
we want to do is combine the
presentation model pattern alongside
with a view the model view viewmodel and
put a client and server concerns in
between so when we get into the
presentation model view pattern at pnb
see this is what we get this is
presentation model along with mother
beauty model yeah we believe this is a
much saner way to do things that the
difference between model bb model and
this version is that this only contains
data this only contains information that
can be data bound to the UI and the
logic still remains in a separate
component because now when this way we
can fake the data and test the logic or
we can test out that all the bindings
are going correctly and we can fake this
one in the previous pattern there's no
way that we can fake the whole thing we
will have to use some of the give you
are familiar with mojito there are
objects called spice there are real
objects and you can mock some of the
content but trying to mock the same
thing that you're trying to test
everything is not a really great thing
to do now that we know all these things
together now we can put them into one
single coherent place which will be the
topic of today the remote presentation
model pattern the basic idea is that we
have a client-server split and we want
to locate the presentation model
once inside and somehow the data that we
put in one side is going to be
transformed translated to the other side
we can have the data flowing in one side
if you want or we can also have the data
flowing in both sides so when you have a
pattern a presentation model in this way
say you have data binding in the UI the
data that you're writing information
into a text with the moment that you
press enter that value is going to be
added to the client subversion or the
presentation model right but given a
suitable implementation that data is
going to be moved directly into the
server you don't have to do anything the
plumbing should take care of this one
and once it's realized on the server
side you can either listen to this
because again everything is observable
or from the UI you can again trigger an
action that goes into a lightweight
controller that triggers an action again
onto the server side and that's how you
think so the next slide actually shows
the whole interaction here so this is
the presentation model pattern the full
version of the remote presentation model
pattern mixed in with the presentation
vp MVC pattern right so the interesting
thing here is that these two sides will
talk to each other or should talk to
each other automatically you don't have
to worry how the information flows from
one side to the other given a particular
implementation the channel maybe HTTP or
HTTPS it may be a maven use binary
protocol you may encode data using JSON
XML or some other binary protocol and
that once the data has been moved to the
client side given data binding then the
view will simply render the information
the moment because there is a
questionable
so the question is where do we recommend
to use handle errors should we do them
on the client side or should we send
that information to the server now that
it's a very good question and that is
application is specific so what would
happen say for example you are
interacting with a form here and you
have syntactic validation of a value and
you want to also do semantic validation
so syntactic validation should happen in
the UI and stay on the client side you
may register listeners or handlers in
this side in order to figure out if the
data is correct so you want a text field
that can have at least five characters
and at most 20 and none of them must be
numbers so that kind of syntactic
valuation should happen on the client
side but now that the next step is that
if you have an email text field then
what you validate is that it's actually
conformed to an email but now you have
to figure out if it's a valid email
right that information flows to the
server that's where you do the proper
semantics and if it's okay then perhaps
nothing happens but it is something
wrong then information flows back now
how we will flow back you add suitable
properties to the presentation model so
when it comes back just by the nature of
the data binding this will pop up a
dialog perhaps or mark the test filled
with red remember the presentation model
contains all the properties that you
want to use for visualization not just
the data but also the hints for the
widget so you can even switch the widget
type from for a regular text field to a
label in case that you want this thing
to be read only or you give the hints
for validation or something else does
that answer your question perfect so
that's exactly what we want to do we
want to make sure that if when you're
thinking about a certain particular
behavior that is easy to find out there
the best place
do the things of course if you want to
do syntactic validation all the way to
the cebit that's fine and there is one
reason why would you like to do that
because you want that information to be
handled on on the place where everything
besides there's another question of the
day you have to repeat the question oh
yeah so the question was if we would use
this for mobile right yeah so I would
say we already doing this for mobile SS
for applications where we know that they
don't have like the wrong offline time
or something like that because when
going offline this doesn't work anymore
right well it depends it was at a time
yeah so the reason why hendrick is
saying it doesn't work is because we
have a great current implementation this
is the next step that we're going to
show you this implementation has to be
connected all the time but the advantage
of having the presentation model split
in between is that if the application
the text that the network goes down then
you can still have some kind of
interaction data kept in the client side
and when you reject that you can
reconnect then you can make the the data
flow to the other side but now the catch
is you have been boo friend data on the
client that is completely synchronized
from maybe other clients are talking to
the same kind of application so now it's
the job of the a developer to figure out
how that buffer data who has to be added
back into the whole scheme right but the
whole advantage is that this thing will
allow you to do this this is split very
easily so supporting offline and online
is easier I wouldn't say no I
essentially simpler is not that easy
because this application is specific but
it's also very very useful for mobiles
not just regular desktop or web app
so the whole round trip there eventually
once you have filled information the
data binding push it here it
automatically pushes the information to
the server and then you push a button
saying okay I just already finish all
the information from my phone and when
you click the button to say submit the
interesting thing is that all the data
that you feel in the form is already
existing on the server so the only thing
that you need to do is to is do the
submit and see is this data correctly is
semantically correct yes okay the store
on the domain object do whatever you
need to do here persistence you can
trigger GMA excuse you can do anything
you want on the set aside and then you
might get a response saying everything
is fine industry and then you put
information on the presentation model
and then goes back now everything that
we're saying thank you for that question
about the synchronization is that what
we propose is that the whole interaction
happens here is a synchronous you simply
say here's a value it goes on the other
side and when it comes back and whenever
it comes back you don't have to wait for
that response you simply set up all the
bindings all the listeners so when an
information is ready you will simply
flow back and the UI we will realize all
those values and I think there's another
very positive effect because by doing it
that way now you have the four examples
a safe method that should save all the
data you really have it on the server
side which means you can use everything
that that you know from the server side
who you like automatic transaction
injection stuff we exist because you
don't do this controller implementation
anymore on the client right exactly so
Pseudolus implementations of the
controller on the server side can be a
standard Java EE where there is seven
eight or whatever comes out next wing or
it can be a spring or it can be
something and so anybody here has used
or built jsf applications this may start
to sound a little bit familiar right so
this will be similar to manage beans but
what we're doing here is that we're
making sure that the channel is
controlled by the implementation
whatever frame where it is and you don't
have to worry about sending data and as
a matter of fact the management of all
these
objects is much much simpler that what
you can find in jsf there there as I
said we have path canoe and
implementation a search pattern and the
project is known as dolphin platform and
it's open source since there are last
year oh yeah thing last year at javaone
we pushed it to to github so it's since
actually yeah it's not a completely
because we ask each other one was great
about right morges a year that it's open
source and yet an implementation of the
let's say Model View controller or
remote presentation model pattern and it
does exactly what endless current we
showed you that it splits this MVC into
two parts in the client part and in the
server part so you can use MVC or say
it's a presentation model get Samara you
just have this we part and the model is
period so it's more or less looks like
what end with oh area shown you you have
a view which is on the client side then
you have an controller that is on the
server side and your effort model that
is synchronized automatically
synchronized between the view and the
controller so between the server and the
client and so he currently here you see
model but as best practices as a
presentation model that will be shared
between the client and the server but
the API don't forbid to create something
else that's why I always have modeled in
my slides and say that best practice is
definitely using presentation model here
so um how's the workflow I I just have
like 46 guides and then we'll just start
doing some guy faking but I want to make
some career in something Skiba forward
so the workflow of the whole thing is
that the controller is defined on the
server the view is defined on the client
and the model synchronized butene both
of them get started
the sweet part so the model is defined
in Java it's completely observable which
means you can bind it to your UI or to
your UI controls and I said it's
completely written in Java that's too
but you can use it in JavaScript kind to
as we will see and there yes because
that's one thing that the this pattern
allows you to do because it separates
the presentation model between two sides
you can have the server-side written in
java using all the tools that we love
and you can have the you I've written in
JavaScript without any problem the
interesting thing is that the client
side can be as thin as possible because
the bulk of the application resides on
the server this allows you to change the
UI to change from angular to react to
something and so polymer without
breaking most of the application because
that is untouchable and you can also
exchange JavaScript for our javafx or
you can exchange it for an Android
application and 81 because the only
thing that you actually need to connect
a new client is how to realize the data
that is flowing through the presentation
model yeah so um who's doing Java fixin
to who ok absolutely for those people
the model as I said it's full observable
and we have collection supports its
looks like what you have in Java fix
with properties and observer biggest and
so but when you see it greater wear a
coat it's not the same right we have
like calm canoe Dorf imp regard from
property and it's not the job of X
properties that we are using so we we
created it that you can use it on the
server and on the client and I'm quite
happy that the person who did also stuff
for for Java fix who also the tech meet
at Java fix is now part of canoe and he
did yeah most of the work of this model
area to really have it fit to Java fix
and make it usable on the server
so when talking the next one is a
controller as already said the
controller is defined on the server and
the big benefit is that the controller
will be managed so what does it mean
maybe some of you you know for example
CDI or managed beans in jsf it it means
that the life cycle of the controller
will be managed by the platform like
spring or Java EE for example and
internally you can use all the features
that you have on the server side we act
for example CDI or using JP a directory
and stuff we exit yeah the interesting
thing about this particular
implementation and that it does not play
against java ee or spring actually it
creates synergy by allowing you to pick
which service I technology you want to
use it doesn't force you to go into a
single bear yeah so yeah in the gas pad
view and yes it's a smallest part
because we now have all the control
logic and stuff like that on the server
the view is really yeah just some kinds
of code that you need to write you need
to define the UI right and then you only
need to bind your presentation model to
your your eyes that's all you need to do
on the view as we see you later so and
the big benefit of it is that since the
controller is on the server it's not you
I to get specific right and so it's
quite easy to have for example an
application where you of all your
controllers on the server and you define
your data model and have for example
desktop or mobile or tablet or web
front-ends that are using the same
server and having all the benefits that
that this one brings was a
synchronization of the model with the
binding of the model and on the server
side with all the stuff that java ee or
spring provides to you so um i would
start who said i think that's one last
night or this is a gasket and i will
start with the example and
here we can see what is allowed by the
API or what we can do when creating an
implication by using the dolphin
platform so from the view the only
chance to to do some stuff is invoking a
method on the controller so for example
in the controller on the server side you
define a safe method and you can simply
add an action trigger for the safe
method on your button in the UI and then
when you click this button the safe
message will automatically invoked on
the server side in the controller and
next to this you have the presentation
model which is fully observable and both
the controller and the view can change
the model read it right to it listen to
it or even bind it even on the sides
it's possible to bind the model and so
now I want to start oh maybe maybe
before i start i will go to the to the
github repository so it's at github at
canoe dolphin platform um there's my
question about yeah oh that's a question
excuse me yep yeah
if the singing faithful remember yeah
okay yeah okay so the question was in
the synchronization of the models is
this an ever what will happen in that
case so for example you type something
in a text field this will be
synchronized automatically which is a
the right case and then you click the
Save button but maybe there was some
time out stuff like that or so and the
model was not synchronized right that
was a question so in that case we have
different error hand girls on the client
side because this can only be known on
the client side and you can as a
application developer provide callbacks
for for exception types we have like
HTTP arrows and we end and session so on
the client side you can for example will
gusta a listener that or we get a call
back that will be called when on the
server the session died for some case or
if the server is dead or if you have
some error in the HTTP response and what
you want to do in this case it's it's up
to you because you say okay not all
informations on the server I don't care
or okay this is mission critical in that
case I pop up in a dialogue and say okay
excuse me try again yeah so the
implementation is a merry enough to
distinguish with thing what we call Blum
being errors so the network goes down or
there was a class gas or something weird
that should not be it's completely
unexpected versus those are application
and specific errors for that in the case
of JavaScript we can leverage the
concept of promises as can be was saying
callbacks and in the case of joy effects
I think we are still plan we're seeing
having plans how to solve the promises I
think oh we may rely on right now on
compatible futures which is much bigger
implementation of what a problem can be
it's currently we have we're just we're
discussing what we want to do this our
country for all the stuff we're using
computer with futures and and yeah a
callback might be much easier and we're
discussing if we do our own
implementation or use an open source
framework for us it's about do you want
to add dependencies or not stuff like
that but currently everything is as an
Cronus so we always have computable
futures callbacks yeah so um yeah having
a look at at github repository here you
can see we have a lot of things going on
more than 800 commits we have 18 Ruiz's
7 contributors it's another pesci
guidance we have links to the to the
JavaScript and to the poem a fondant
because there for example not in the
same guitar repository as all the java
stuff what oh we have a documentation
kundig is this is one also yeah most of
my working time currently i'm doing this
documentation stuff and it's getting
longer and longer as you can see it's
wee is right good anybody here right
documentation all right you like it yeah
perhaps ok so what we use here we use
ask a doc and ask a doc is pretty much
like programming documentation you have
a chance then give a try to ask you talk
and ask a doctor the project you will
not be disappointed as a small
advertising for asking on ok so but but
gets getting started and to get started
it's quite easy because um what we did
is we created an maven archetype for the
dolphin platform and in addition a lazy
bones template anybody knows the lazy
bones they sit bones another project
that can be used to boost rap projects
maven archetypes only work to bootstrap
maven projects but if you happen to be
using Gradle or any other bill to that
lazy bones is can be seen as archetypes
for any kind of project okay so but
everybody knows may even what
perfect so I'm just doing is like I copy
this line and put it here into my shirt
let's make the phone I maybe begin oh
yeah thanks I think it's mine oh it's
fine okay and yes this will start maven
and now I have some kind of wizard so i
can choose if i want to use the cumulus
ee which is based on java ee or the
spring boot archetype so i choose to
which is a spring boot archetype now i
can choose which version of the dolphin
platform I want to use let's say I want
to use two and now i can define my crew
body which has come canoe Dawson Sam
Thank You difficult and sad
ideas dolphin sample yeah its version
one snapshot years is fine great so now
this creates a complete mochi project
maven project for me that I can simply
open this with my IDE so I get to go to
Alton go to my desktop where is it here
and there we have the dawson sample and
i will omit in IntelliJ but you can
automate the NetBeans or eclipse or
wherever you have mail support and what
you can see now is that we have three
modules here so we already have a server
module a client module and a common
module and this is everything that we
need to start creating an application
based on the Dalton platform so um since
i've choosen spring as my server part i
have a small class which is called
server application this just bootstrap
spring and who did spring boot already
some people okay so um excuse me okay
man and so the only different
to screen boot application is this
annotation and this annotation creates
spring boot application that in addition
has Dawson platform support or that
internally uses the door from come from
in addition on the server side I just
have one controller so and when you
create this project as we will see
there's a small view with a small model
and a small controller directly there so
now get start the server application
Tanner has said this is the only one
additional annotation you have to use
you can continue to use the same things
that you know from the spring java
config or XML company and he were to be
at java ee application then it's just
configure it as a regular CD I
application there will be another
annotation is specific to CDI who than
anything else is exactly what you
already know from CDI some is a tomcat
winning ok I need to shut down the stone
care to start the other one ok ok so the
service started and just really spring
so other than I started so yes let's
have a look at our view before we go to
the to the common part and the model so
again in in the view there's a lot of
documentation but to be true the the
work come on the part that you need to
do on the view side is not much so what
we are doing here is and we create a
dolphin configuration which is a java
fix dolphin configuration and we just
define the server endpoint this is just
a regular class that contains properties
I can be used to the tweak the
conversion so this is just a regular
Java fix a application there's no spring
on the client side but you may want to
have a spring if you wanted and you can
do different things in the configuration
there's everything in the dock in the
documentation what you can do though
they are like for example adding cookies
if you need cookies for login or
security and and yeah stuff like that or
and that's a place where you can define
our Han
and stuff like that and then there's
this method client contacts check to
reconnect this one creates the
connection to the server for me and once
this is done I have a client context
which is directly connected to the
server and so whenever I create a new
view on the client is like this my view
binder class that it's based on an epic
some air which is the guy out who rang
language of Java fix so it has a text
field in it and a button and stuff like
this so this defines the way out and eat
and my binder the only things that I
need to do is saying that I want to bind
the text property of my text field to
the value property of my model in a B
direction away exactly so this thing
this is a presentation model object yeah
we're talking about and this is the
whole thing that's vine there is a view
component of a p.m. bc yeah and in
addition I say that so when for the
button that is in the view when when you
click the button I want to invoke the
reset method on the server the advantage
of this is that you see the UI is quite
thin we only need to make sure that we
connect the presentation model to the UI
witches and make sure that we can
trigger actions on the suicide so I
controller on the client side it's also
very very small the only thing I needs
to do say hey remote server here is what
you need to do and that's it so okay and
what we knew new knows we have a model
and there's some kind of value property
in it and we want to invoke a wizard
method or actual so let's have a look at
the server control and in the solar
controller what you can see a lot of
annotation so if you are familiar with
spring or Java e I think this is quite
familiar to you and each controller
endorphin needs the annotation dolphin
controller which names the controller
you need to give a controller a name
because otherwise the view can't say
which controller they want to have
because
the view don't have the server classes
in it and then here we have our model
that will be injected we have a specific
annotation for its dolphin model and
this will be injected by dependency
injection we have an init method that is
annotated with post construct and here
is for example one thing where we use
the default of spring or the benefits
and features of spring because since our
controllers will be managed beans
annotations like post construct we
destroy all true I art or inject I
supported you don't need to do anything
to have them so this init method will be
automatically code whenever a new
controller instance will be created and
the controller instance will be created
whenever I create a new view and here we
have the recent method that we record
from the client we have an annotation
which is called a dolphin action and
each method that is annotated with this
annotation is accessible from the client
by its name which is by default the the
method name but you can you can change
it to something else and that will
change initially using the client side
now what the hendrick is showing here is
that we are making use of bindings or
listeners on the server side as well
well you what this thing is saying is
that whenever the value property or that
model changes is going to print out on
the clients on the server side but what
you could do is trigger a batch process
or do whatever you need on the service
are you can even change a value on the
server again and that will pass the
value back to the client side just will
show this in the next example so guess
we all have already the server running
so let's start the client
and as I said oh maybe I servers running
on the other one yeah but I want to see
the server log so as I said to implement
the application is quite small but what
we have done is we bound the value
property that is defined in our model oh
we haven't looked at the model at all
right so let's have a look at our model
which is just one class because
lips it's quite small and in our model
we just defined run property of type
string so in our model we have one
property of type string what we could do
which is no problem define for example
another one of type boolean yeah it's
really like defining a normal java pojo
the differences that we use as property
classes to define the values because
based on this is observable and it's not
only basic types like string or model
you can do for example this too so you
can create hierarchies in your model
next to the property we have focused so
like private observer biggest and here
you can see there was a one from javafx
but we want to use the one out of
torsion daenerys well oh yeah I want to
use generic sure so this is an
observable list of type double for
example all right it is really
observable in that case and we will show
again that that can also be a class that
there is another dolphin be so you can
have observable list of other beans as
well yeah so but what we have seen is
that we bounce the value of our model to
the text stream so when I start typing
here we see some changes or get me just
curious or server stuff and start typing
1230 and we see a lot of logging in the
server and what we are seeing here is
that we have some mesh messages like
where you change from one to two and
this is what happens in
our controller on the server side
because in the init method so when the
controller was created we added a change
listener to our very property that
simply print exact users out where you
changed from add value to new value
right so when these things get instantly
when they get initialized the controller
always has a pointer to a base model or
a root model if you will and when the
and it's the job of the view the client
side to initiate the the mechanism so
the hbu knows the controller which knows
the model once this thing is created
there is a reference to the remote model
added to the client model so now these
two things are in sync and now whenever
you change one side you get information
on the other side and the other things
that we have is a reset button where we
say okay invoke the wizard method that
on the server sets the value so saw the
content of the value property to know so
if i press the reset button group the
values gun because it's the server set
its to now based on the automatic
synchronization it will be directly
shown on the client so this was a quite
small example let's do the next step
before here to kill the server oh yeah I
need to clear this otherwise thank you
so well
because we have an example of the doors
and Piazza directly in the door fin
pre-op from repository I currently need
to check I mean if wrong give me a
minute I just want to go back to the
master he loves this thing so he was
working on it very late last night after
the concert for sure yeah that's right
so okay here we go and so we have an
example in the sources also dolphin
platform which is to do example so it's
like a to do this so let me start to
server I will use the screen version
again because it's quite easy otherwise
I need to deploy it in a in a container
or so come on I want to start you I
still an indexing okay still indexing
and okay so it might take some time then
I will show you the third example
because so what we've seen until now is
that we did most also sings on the
server and on the kind we am mostly only
layout it's tough and bad this stuff to
to our model and what we're currently
trying to do is creating based on this
an implementation for a new pattern
which is called the projector pattern so
you get two patterns for the price of
one attendance yeah so and who is this
pattern of this pattern will bring you
some very cool stuff in the front end
because by using this pattern you don't
need to implement the front and anymore
because based on the presentation
pattern you will have present us that we
create a front-end dynamically based on
your model so i will show you a demo
yeah it was a server is running
I wish start this extensions demo how
does this work because as we say the
presentation model gives the data but
also the hints or how data can be
visualized so what if we extend this
folder and say everything on how you can
create the UI is defining in a
presentation model or a hierarchy or
presentation models so this is the basis
of the projector part so what we see
here is a form right it's just the form
I can do some import all this is blocked
okay let's do it we exist oh now okay
when I enter something it appears here
and when I do something here okay that's
the true tip maybe of this one oh yeah
it's changing and I can enable and
disable this and kick save or and I kick
safe and the new Jackson's action comes
up and so so it's it's like a dynamic
form and how is this created and when
having a look at the view of this thing
everything that is needed to create this
form is this line of code and to be true
it couldn't be easier because this kind
of court not only creates a form but
apply some CSS tagging to and everything
ads is done in the server so we have
projectors that are creating the UI for
you but you have to just run or buy them
or yeah something exists and then you
can use this projector to create the UI
and when we have a look at the server
from controller on the server we really
create our UI by using factories or
builder so we said we have a forum
section beam and there we have a string
filled with name title and we have a
mayor filled with value user at company
com and the description please enter
your mega trees so basically what you
see basically we have other server is
the data and we get hints or something
like this right or in the u.s. I you
have a component that knows how to
interpret these things I realize the you
are so you may be thinking okay this is
great and we have shown two effects
can we do the same with JavaScript yes
yes the only thing now you need on the
JavaScript side is again that that a
small component that knows how to
understand presentation models and the
UI hints so you can build the whole
definition of the UI on the server side
in one place and target multi-channel
clients where regardless if it's Swift
or JavaScript or Java or something else
that comes in the future your server
application will be mostly ready to get
into the next you I grace because most
of the application is on the seven and
what we seen except for example now is
that when i change this check box so the
users will be disabled or enabled so
let's have a look see how this is done
here we define this note check box nope
yep in this guy and we define this
bhuiyan field which is our notes which
will be rendered as a checkbox based on
our projector and on the solo we simply
add where you change listener to this
checkbox which says okay whenever this
is clicked disable the note feared and
this is really done in the server and on
the client the note which will be
disabled another one is for example the
safe and the delete button where we
simply say okay create an action safe
and whenever this button will be
triggered the save action here on the
server will record and this adds a new
form section that was created on the
server in the model choose a model which
will be synchronized with a client and
then directing you see the new form
section in the Clyde so let's have a
look if oh and there are a lot of things
that are very very easy to do with this
pattern one example always with a remote
presentation mo depend on one example
for axiom is yeah if you want to change
the language so if you have all your
texts that you showing in the UI we are
two tips or gay birds in the
presentation model and you change to the
language it
quite easy because you only need to
change the things on the server and if
you since you can bind to your model you
can simply bind all the texts that you
have in your models to one central point
like a singer and beam that you can
create with spring or Java EE and
whenever this one is triggered maybe by
by clicking a button in the UI that we
end an action on the server you simply
switch the language and automatically or
properties will become an event that i
need to change and this will work with
all kind of you I clients yeah we're
almost out of time oh you're running out
of time okay so there's some other
features i would like to show which is
if so similar to this this idea that
that now that we have binding either
perhaps you haven't slide for this year
they've been buzzed the communication
between yeah yeah I have to just circuit
if the client can send data to the
server in a synchronous way thanks to
the presentation model and then it comes
back any time when it is ready the
server can decide to push that to back
to push data back to the client at any
time but this is just the interaction of
one client with the service sign
component what happens if you have two
or more clients talking in the same
logical application and you want one
client to send data to the other one
wouldn't be great if somehow the
presentation model of one client on its
server side component can talk to the
other presentation model again also the
server side so that you can push data to
the other client but that actually is
very easy to do with this software so i
need to import credit for the example
well you don't have the example running
and i wanted i want to start it and no
as this one okay then the demo gods were
not ya know so what we can do is we can
simply present it to the example that to
do example has yes here's a truly are
the ones are but but that's fine we will
do it here now so what we can do in our
forum controller that use a projector
pattern to create a form what we can do
here is like okay we inject since we are
in a managed class we can inject
whatever we want so whatever is provided
for us and there's a class called the
dolphin event bus and it's injectors
this is the event bus for dolphins that
can be used to share events between
different controllers or maybe from a
rest endpoint as you have seen on on the
side to the dolphin context and what I
want to do here now is I want to use a
dolphin event pass to synchronize data
between two clients so let's say we have
our Lord sphere so and whenever the
value changes of the notes field I want
instead of setting the description of
something I simply want to say dolphin
eventbus publish and what I want to
publish now is the new value to do so I
need to create a topic because the event
pass of doors and platform is
topic-based so I do a private aesthetic
topic and yeah i can define the type of
the message that I want to say sent
because it's a text field as a string
and just call it a suit which is topic
dot create so and what I want to do now
whenever the notes are changing I want
to publish chooses soon the new value
okay and in addition I want to register
myself to the event pass for the topic
and whenever I receive message for this
topic what I want to do is
get to take action being one don't make
sense but it's the easiest one now and
set title two offices message via lambda
yeah and set tied to m dot get better so
and gets we start the server I think we
can leave it like that so the idea is
that now you can build applications for
example someone that is monitoring I
perhaps a fly monitoring application
will be interested to have in Java but
if when you have something where several
people have to look at the same data and
they can interact with it and you want
that the information that is in one
screen the change is done in one screen
are move immediately to the other screen
well this kind of information this kind
of plum being a mechanism will make sure
that the data flows immediately to the
other side it makes it very easy to
connect different clients that are
related into the same logical
application so the demos running I have
note to clients oh it's not one
application we really have as you can
see currently three we am swooning the
server and to grant we a mess and if I
change let's do it like this if i change
the notes on any other two clients
automatically the title of both buttons
will be updated right so we have dynamic
data transition between several crimes
on several systems like this so this is
the kindest javascript this will work to
that sets at the demo notice running
because that had a javascript and java
fix phone and the chairs and to do yes
yeah yeah yeah so we're about almost out
of time but what we wanted a guessing
one question good how does he work in a
cluster environment
so in a cluster environment you need to
use sticky special yep because you have
data that is stored on the server and
and you need to solve the event bus that
is using this oh excuse me so the event
bus that is doing all the stuff and it's
based on interfaces and we have
currently one implementation in the
current version that just one soooo
curry and we couldn't be working
together was has a cast on a second
implementation that one's distributed
and by doing that you can like have 10
or 20 instances or create them by a load
balancer automatically and the events
will be distributed to two other
instances set to pre end for end of the
year or maybe beginning of next year
right so the important thing over our
closing is that we started by looking at
what existed out there so mbc every1
instead and just in natural progression
along all the different positives and
suddenly put the client-server split in
between the presentation model and then
we ended up with something like this and
you also saw a little bit of a projector
pattern for which there was a
presentation yesterday I don't yes it
was yesterday I don't think it was
recorded but there is also information
about that as well we still have a
couple minutes so if you have any
questions we have happy to have them we
also get limited edition new Java
sticker star wars theme is stickers in
this Han Solo for you and please don't
forget to both whenever you come out
here and a lot of the building machines
thank you if you don't like it let us
know and we can make them better next
time yeah perfect so any questions
yesterday
yeah yeah so the question is if there's
a screw JavaScript client I can simply
show the code of this to do example so i
don't know why credit country is not
running i'm not a greater expert but i
can show a code so this to do example is
like having on the top a text field and
you can add a new task and then you have
a list of all the tasks and you can
remove them and this is synchronized
between all kinds and the javascript
implementation for this example we use
pogi me which is an yeah you know poking
out okay so we've created a web
component to do view and here in the to
do you like in JavaScript we simply
bound our presentation model to the
bohemia UI components and in addition we
have here for example the two methods
that were caught when for example you
click a checkbox in the list that we
remove the item or if you click the Add
button that will add the items that you
have typed in there we simply invoke the
methods on the server so it's mostly the
same it's this is a JavaScript code for
for the example and to be true this is
way out and this is what you need to do
to to have this application running and
it's more guess the same than on Java
fx1 having a look at the job of X can't
hear we do exactly the same so we have a
textview to button and the rest and then
here we bind all the things so we bind
the new item text to the text field we
bind the item service that is part of
our presentation model to the list view
in the front and and redefine the button
to be invoked the add method when you
kick it yeah
now in this particular example is this
code is code that we wrote this does not
use as a projector pattern yet look the
an implementation of the predictor
partagas JavaScript now because we will
need to target polymer or react or the
the other angular or the other popular
JavaScript firms for which there are
many we want to target 11 of this first
it might be polymer the most work why or
angular because they provide components
are very familiar to what we already
know in traffic that means moving the
code much easier and once we do once we
figure out or we will definitely invite
everybody to give us ideas oh yeah
feedback so that we can make this thing
better sadly I think we're definitely
out of time so thank you very much thank
you for your time I hope you have liked
it don't forget about</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>