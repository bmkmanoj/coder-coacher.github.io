<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Lab 400: Container Native Application Development | Coder Coacher - Coaching Coders</title><meta content="Lab 400: Container Native Application Development - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Lab 400: Container Native Application Development</b></h2><h5 class="post__date">2018-03-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/6YvuQo-vS_U" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to lab 400 of the container
native application development workshop
in lat in this lab we will assume the
role of our DevOps engineer chip and
perform a Bluegreen deployment of our
micro service to kubernetes in a
Bluegreen deployment we will run the new
version of the microcircuitry down the
old version and once the new version is
fully available we will reroute traffic
to the new version by reconfiguring the
load balancer so let's go ahead and get
started by going out to github into our
Twitter feed project making sure we
click on the high level and then
scrolling down and in entering in and
editing our kubernetes yam well that
template file inside the template the
first thing we're going to do is
associate our current deployment with
the color blue and to do this we're
going to go up right under line 16 and
paste in color blue okay next we're
going to paste in some information or
our TCP protocol for our volume out
this will create and mount a new volume
on our pods that uses the kubernetes
downward api to expose the pods labels
to our application in short this will
enable the application to display the
pods color so we can see which a version
we're running blue or green on our web
page when we test
so at the bottom of the page the last
thing we're going to do is tell our
selector to associate in route all
traffic to the blued appointment to
begin with finally we'll scroll down and
commit our changes we can go to worker
and we can see the change billed push
and then be deployed to the cluster
inside the cluster
so if we can click into our Twitter feed
version one
and we can see the color blue is
currently running in our labels field if
we go back to our overview and scroll
down the page to our services and then
click on the service endpoint for our
product catalog click refresh we can see
that the application itself is being
served by the blue deployment now if we
come back into our kubernetes that yamo
file and we're going to edit it this
time we're going to change the name to
twitter feed
- v2
we'll change our color to green and then
commit this will run through worker and
push out the new green release
we can go back to our kubernetes console
refresh the tab and we can see a new
deployment for Twitter feed version 2 if
we click into this deployment in our pod
we could see the color green is
associated with the deployment if we go
out and
fresh our page once again will see that
we're still serving our page with the
older blue deployment so now we're going
to change that and go back in to our
overview tab and scroll down to services
drill into the Twitter feed click on the
edit button and modify our load balancer
here so that it now deploys to the green
deployment
go ahead and hit update
and if we come back out to our webpage
at the top here and do another refresh
and we can all see our pages being
served by the Green pod deployment</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>