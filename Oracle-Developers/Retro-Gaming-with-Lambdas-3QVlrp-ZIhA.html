<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Retro Gaming with Lambdas | Coder Coacher - Coaching Coders</title><meta content="Retro Gaming with Lambdas - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Retro Gaming with Lambdas</b></h2><h5 class="post__date">2015-06-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/3QVlrp-ZIhA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">my name is Alexander Bella crew love you
can call me Alex it's much easier and
I'm from st. Petersburg i'm working for
oracle in st. Petersburg of course not
in st. Petersburg which one is us but as
you could guess by my last name from the
cold foggy north russian city so we are
mostly oracle heavy development center
there and we're mostly works on java in
st. Petersburg we have a job as a group
we have an active Jersey java the group
in st. Petersburg like I'm one of
co-founder of that activity and this
year at jawan we have a massive talks on
lambdas right and for sure like you
probably participate it almost all of
them who participated like seven talks
on lambdas already oh cool yeah I
counted eight by the way and I've tried
to make my talk a fun so I try to add
some like funny things in the talk so
what I would like to see by showing bad
picture is that is by the way Barbie
without makeup
what I would like to say by showing that
picture that sometimes ago java-- was
really excited technology and we all was
eager to use it however the years are
going and our interest is decreasing the
year of the year as we already got used
to it and there are some very nice
modern new excited technologies around
us and sometimes we'd like to use it
would like to extend enhance our skills
of course to be in sync with the
industry however will always get back to
Java because currently Java is paying
our bills and the last time like then
Java excited to us it was a long time
ago almost 10 years ago 2004 then Java 5
went out and there we received some
interesting interesting teachers and we
were excited those time so let's see
like the common keys for mericonians we
need to we have a box of oranges of
course we would like to deliver it to
the end user only orange oranges not a
green one so we need to take out of the
box oranges one by one look whether it's
green orange or whether it's green
orange and if it is green recolor eyes
it and put it back we of course do it
themselves of somebody some like trained
markanians take the oranges lokan
recolor ice and put it back
we can do it better actually and you'll
see how very soon very soon java will
bring us something interesting so Java
will have a really good makeup very soon
and of course you know this makeup will
be a lambda expressions but we will have
in Java very soon why should we consider
one more parody Java from the beginning
provided us with imperative style of
programming and that was pretty well we
know it well we'll know but expect out
of it and we are really like
professional in it however the time is
going and the world is changing in the
world asking us to deliver applications
faster however with the same quality or
even better quality when it used to be
and the functional Pergium will help us
to avoid the mutability and like
resigning resigning variables which
which frequently is a cause of bugs
that's that's one side and another site
is that hardware manufacturers we are
started to increase the frequency of
processors right we're currently focused
on increasing course of the processor so
the polarization is the problem number
one in our applications and with lambda
expressions it will be much easier to do
a parallel code parallel applications to
scale it to like different trades
different
even without like special programming
what is lambda lambda is simply just a
method will without name we take the
name out of method and to compensate it
somehow we provided with arrow that the
same common marikina and keys for raquel
arising oranges however with lambda
expressions our marquee and friends will
receive smart boxes we don't have to
anymore teak oranges out of the boxes we
will be able just provide the other
inside the box and boxes will be recolor
rising oranges themselves that's that
that's how it works and what's more
boxes will be so smart we will do it in
parallel but will paralyze that work to
different processors for instance and so
we shouldn't do you shouldn't think
about it even and however you might have
a question what's going on with that
forage stuff here we didn't see for each
in the collection interface you probably
have a question are you guys going to
change the collection interface in Java
8 or some other interfaces are you guys
going to break all previous third
parties implementations of collections
of course which of us implemented
collection interface one time
so but barossa for sure and so you wanna
guys broke the backward compatibility
now the Java 8 are you guys crazy at
Oracle yes well a little bit but not
that time this time we change the
interfaces also the flam de expressions
and interfaces will get a default
methods button
my apologies
so yeah the interfaces will receive the
default methods so if the implementation
E is not have the implementation of some
methods the compiler could take the
default implementations out of the
interface and use it and everything
should works well now you might think
like like so the interfaces evolved and
became and abstract classes now right
however know the where is a big
difference of course you can extend only
one abstract class and you could
implement several interfaces here and
after classes could have a state
interfaces or not so don't care about
that diamond of the deaf in inheritance
you currently could use any common AG
with Java live debate whether IntelliJ
NetBeans or eclipse all supported lambda
expressions now however I would see that
at least now intellij have the best
support of lambda expressions and you
know why because JetBrains have a big
development third Center in st.
Petersburg and Oracle have a big
development center in st. Petersburg and
who is working with lambdas more than
others now of course this Oracle
engineers so Oracle engineers who use
IntelliJ reports the box directly to the
IntelliJ engineers and it's it's really
works very well now so expect that that
small change like the edging lambda
expressions to the into the Java
language
will cause a big impact into the whole
platform will ready add the invoke
dynamic instruction into the GBM to
support the better support lambda
expressions and we are changing the
collection interface to provide the
collection to give you a bulk operations
and collections and we are going to
provide you with the parallel with the
ability of the parallel collections and
what we are going to do now is we're
going to look on how how lambda
expressions works in in a real quote in
a real project this is a like studying
game this is 8-bit game is an open
source project created especially to
show how lambda works to the white
audience on examples and I think we
could start so it by the way javafx
application and that that application
let we'll see that's javafx application
and the first what we would like to do
is to populate background for that
application let's see how it looks like
where is my head bins
oops
this
so the project consists of three classes
and the main class main classes is the
main class of JavaFX applications it's a
main it's extends the application and
have the start method so in start method
we would like to we would like to
populate our background the background
is just an image on the back side and
they're rectangles the transparent
rectangles stroke by dishes and to do it
in javafx we need to provide the array
of the rectangles to their to the where
is it to the to the group and use that
arrays as a for the constructor how we
would do it in Java 7 we first of all
would create the array array of nodes we
need to set the size of array so we need
to know exactly how big it should be and
when we will do like two to four loops
to go to each to each cell and we are
creating a cell here and then add each
cell into that our like one-dimensional
array so we need to convert of course
the index from like the two dimensions
to one-dimensional array and then we
will use that array in the constructor
of the of the group cells and afterward
we will provide those cells to the
javafx see let's see what can they do
flanders now i have three said the code
is the same piece of code however it
looks a little bit different right
instead of using instead of setting the
array at the beginning we just put we
just what we do
we just start to use lambda expressions
it's it's it's a new class in stream and
by using in-stream you can generate the
stream of integers you just need to set
the like start and end point of that and
then we could pass that stream to the
map however yeah well we will talk about
map maps a little bit later now well OH
concentrates on in stream so in streams
is generating the integers in the range
from the beginning to the end and we we
are using the lambda expressions here to
to start generating like the second
dimension the vertical indexes for our
rectangles and finally we will use a
flat map which help us to to do it one
dimension one dimensional array we will
talk about flat nap a little bit rate
later and so after that stream is
finishing the work so we'd like to move
the rectangle you would like to to
create rectangles and move them to the
array so it all happens automatically
now as you can see if we will start the
application
yeah the background have been
successfully populated sorry
in details so probably I've already
explained it but that's more like
clear-cut I thing here so the in-stream
is generating the integers in the range
from zero to horizontal cells past them
into the map and their bubble for each
for each index will generate another
stream of integers and then we'll do a
flat mapping so flat map is a
relationship one too many and we will
have like one long array of objects now
we just can we just have put it to the
group to create group object so it's the
same as using for in Java 7 and now we
would like to open now we would like to
add marry into the project
Mary a is an instance of sprite view
class and it shows Mary let's see and
that that object Mary have their doom a
second
have the arrival handler so you can see
how now we could handle how now we could
handle the event and by the way we can
even like get rid of the type of the
event here so compile will understand
that that interface what what we would
like to the method of the interface but
we would like to implement that the
lambda expression is the only one and
it's easier like do the event handling
for us here we could see that marriage
should appear at the field yeah and it
could move right keyboard and the next
step for us will be toy barn into the
field so if Mary would reach the barn we
would like to generate the list of lamp
objects which are followed and Mary and
how we can do it let's look in the code
we add the burn in mine object and we
add a barn into the JavaFX scene but
it's not really interesting the
interesting part is the bar in itself so
the burl have the visit method here and
that widget matter is invoking as soon
as Mary is reaching the barn and we
would like to generate and animals how
we could do it we could do it of course
by using for loop right in for loop from
0 to 6 but could just create new
instances of the lamp class and yeah the
important point that the lamp class is
using a if each lamp is following the
other lamp and in the constructor the
lamp is using like the following lamp to
do it so where where looks like a link
at least here and with lambda
expressions
the same code can be much easier
readable and much clearer understandable
so let's see we will get animals like
we're getting the list of animals out of
the collection of Shepherd shepherd is a
merry by the way and then we like to
generate a stream we are invoking the
iterate method of the stream class and
using lambda expressions here let's look
how iterate method works let's look at
the beginning how it how it's supposed
to work what's going to happen so we'd
like as Mary reach the bar the list of
lamps is generating and the lamps should
follow the Mary that works pretty well
let's look in details how did they do it
that's really simple so we've got
animals from the shepherd at the
beginning we don't have any animal of
course and we using the method add all
to add the new generated animals into
that least we can do it by invoking the
method iterate from the stream what the
method iterate do is it takes the first
argument currently the tail and use that
argument as and use that argument as
an argument for the invoking the next
the lambda expressions here and for the
next invocation of lambda expressions
each use the result of previous lambda
expressions so the iterate method here
fits like our needs pretty well and that
it will be iterating like indefinitely
and the next method substream is strict
in the iteration so we'd like it
iterates only seven times and then we'd
like to collect the result of that
stream into the list however the brand
God's suggested to refactor the code and
instead of collecting instead of create
the collection and then to do a dual
method into the like Shepherd collection
he suggested to just use it for each
button for each for each method to it so
we are avoid to creating like 11
collection by using that approach and
enjoy it you have several several
instruments to generate the streams you
could generate a stream out of the
collection out of any collection you
could generate a stream from the set of
object and you could generate a numeric
stream using the in-stream class as we
saw in our mirror example and you could
generate a stream iteratively as we saw
in our example as well and
the next the next will be a filtering
the blam de expressions so let's add the
rainbow into our game field and as soon
as Mary will be reaching rainbow we'd
like to recolor eyes lamps which are
followed and Mary in different colors
we'd like
oops
the next one
yeah this is the rainbow this is brain
both the same visit method and the same
like Java 7 style we use a four we're
eating through the collections of
animals and we depends on there like
remainder of division the number of
animal 24 we do recolor izing and we
will recolor eyes lamps into four
different colors let's see if it works
rainbows on the field Mary took lamps
and burn now we reach the rainbow and we
re color eyes like the first four lamps
the regularized and the next like three
lamps regularize the same pattern of
lambda expressions it will be much
easier
we will use filtering here we don't need
a loops anymore we can just like read
the code now as a like real language so
we got the list of animals we stream it
and we'd like to filter it depends on
the remainder of divisions and for each
element of that filtered button for each
element of that filtrate stream we would
like to set the color that's like looks
incredibly good that does the same but I
think that in netbeans it's better
understandable however as you saw we had
let's look at in bins we had use several
the same lambda expressions here the
only difference is the is the is the
remainder right so and we would like to
not to repeat yourself in our code we'd
like to see the lambda expression
somewhere and let's see how we did it we
did it predict it as a filter is
receiving a predicate as an argument and
we could use the predicate now as a
static as a static predicate and we
could pass it into the into the visit
method to set color
let's look at that Vince
here it is
this is our leg predicate here check if
ship is and we provide the number of the
ship and here we saved the lambda
expressions cool and after that we could
use check if ship is in our filter and
now the code looks even better and reads
even better yes were
it's not actually do the iteration out
of like all elements you you're right
right yeah it's it's it's an example
actually all right so we could see if
lambda expressions now and let's move
forward next we would like to add the
charge into our game field and at church
we have some confessions who would like
to eat ships actually however we would
like to eat only on colorize ships
because seems to them colorize ships we
are toxic not really like organic food
and we would like to take only on caller
ID chips let's help that confessions to
have the dinner
this is our church
and there is the visit yeah and this is
it first of all we'd like to know how
many lamps we got for dinner and we are
providing the small number near the
church at get at the game field we will
count how many uncolonized lamps were
solved in that church by doing that we
would like to do a filter at the animal
collections and in Java 8 the
collections will receive the filtrate
method and the filtered method is
getting the predicate as an argument to
filter the collection and the result it
will be a filtered collection so the
next line is removing is removing ships
out of the collections remote lamps out
of the collections and by doing that in
Java 8 you need to just use the method
remove Eve and method remove it once
more it receives the predicate as a
parameter here so we could provide as we
already knew from the previous example
we defined the predicate in a static
part of our class it called like chaff
check if color is and it can consists of
lambda expressions this is here you can
see
let's compile and run
so Mary is taking lamps then go to the
rainbow recolor ice chips and then she
goes to the church and in church we
served two lamps to the two and
colorized lamps so everything works as
we expected here let's look at the code
and you can see we set the predicate in
a static port of 40 class and then we
use the predicate to filter the
collection and to remove the element out
of the collections here that's just a
divider and like to do a successful
presentations you need to have a kitchen
inside it however we could do a little
bit more than just like define the
predicate in a static part of our class
we could so if we would have a lot of
pretty kids the we will have a lot of
static methods in class and we would
like to narrow the context we would like
to move that predicate out of the class
into the method and we easily can do it
and we could shrink do you remember how
the lambda expressions opanin used
however the function here let's look at
the example once more that's it
so sometimes we need to think about
different confessions so that separate
confessions we took on the uncolored
eyes lamps but different confessions
some of them might be Teague like the
green lamps some likes the red lamps so
we need to be able to change which which
lamp which lamp we would like to eat at
the church and we could do it with the
with the function in Java it to puss to
function the color color is just a
variable it is should be final but you
don't have to say that actually it's it
will be final effectively and so that
function is received in color and at at
the end it generates the predicate which
is a function itself so we could do a
high-water function in Java now in Java
8 and then we could move that kitty
kitty and then we could move that high
water function in today our our method
to to provide it just before we need to
use it here we will use and we invoke in
the function x and we're using the
function by invoke the apply method of
the function so here the result of that
check if lamp color is apply will be the
predicate which provides to remove 8th
method
so you'll get in in Java 8 several very
useful methods in the collections as
remove if you could remove an element
out of the collections you could replace
the elements at the collections with
other elements and you could filter the
elements in the collection then this
list is observable itself so next we'd
like to add the coop at the scene and as
soon as Mary will reach the coop all
lamps will became an X let's see how it
works
here
we are using a mapping so we'd like to
we had a collection of lamps and would
like at the end to have a collection of
X so Mary is reaching the lamp take the
lamps out then she's reaching a coupe
and all lamps is becoming X it's working
x yeah sets of x actually that's very
easy to reach in Java it you just need
to generate the set a stream of animals
and then map one one type of element
into the another type of element when we
collect them and we add them into the
collection of animals that's really easy
and
yeah we can we can do like the single
map using only one map method here we
will receive the full oven the full of
animals and then create an egg an egg
instance or we can do it we can use like
the map twice we can first of all get
the following get the following animal
and then create a new instance of egg by
using the default of an animal and do
the same web that and next one is will
be a nest and as soon as Mary will be
reaching nest all X will be hedging and
in our game each egg could produce free
chickens that's very special nest
this is the nest and here we already use
that method flat map on the stream so by
invoking the hatch method of the eggs
let's look how it looks like this is it
as we invoke in the hatch method of X it
generates free instances of chickens
here
so each egg is generating free chickens
and we need to do something that that we
need to have only one map of objects and
the method flat maps flat map is helping
us to do it it's mapping objects one too
many and at the end it's a scripting
ball there did you see how it works
so Mary is reaching burn then coupe
lamps became eggs and now it's reaching
nest and yeah we have lots of chickens
now so the flat map works pretty well
and the final example now we will have
we would like to add a fox here and the
folks is eating chickens and as it
eating it's growing so we need to reduce
the reduce the collection of chickens
and grow the Fox here
how are we going to do it we're going to
do it by using reduce method of this
dream here it is they reduce me that
will give you only one and so what what
we did before all those techniques all
those options of the collections was
about working with only one element of
the collection and the reduce is allow
us to whether compare element the
collections or aggregate several element
and the collections so it allows us to
inter inter to work to work with several
elements of the collection and they will
see how it again let's see how it works
so here we are receiving the sum of
issue in here
yeah well summon and scaling effects
here
and then increase the size of the folks
here chicken and will reduce the
collection of X to the zero and our
folks is growing depend on the X of each
each each egg here
this project originally was created by
Stephen King and you could look look to
it it's on the github you could easily
access that the project is created to
allow people to learn about lambdas you
can get all that examples there and if
you would like to learn more about
lambda expressions and how to use them
in java 7 i'd recommend you dead book of
them card subrahmanyam it's a very nice
book and like I think that's the only
one book by now about functional
programming in Java 8 and of course I
would recommend always recommend sicp
course of MIT that's exceptional book
this is the standard slide which oracle
is showing and each presentations and so
the new java is already knocking to the
door so be prepared for that in advance
it's always better than to receive it
not be prepared thanks a lot for your
attention</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>