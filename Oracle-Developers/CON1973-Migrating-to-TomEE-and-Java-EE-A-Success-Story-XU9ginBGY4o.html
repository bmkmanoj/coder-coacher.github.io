<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>CON1973   Migrating to TomEE and Java EE  A Success Story | Coder Coacher - Coaching Coders</title><meta content="CON1973   Migrating to TomEE and Java EE  A Success Story - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>CON1973   Migrating to TomEE and Java EE  A Success Story</b></h2><h5 class="post__date">2015-12-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/XU9ginBGY4o" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">good morning hope you guys are still
awake I'm still a little late night
after back thank you back thank you
Oracle and Larry but a fantastic concert
last night this morning by myself of
Michael Finney Cairo and my friends
forced to bankin and Ryan cupric we're
all from a company called SEO system I
can explain in a minute what we do and
we're gonna talk about how Java EE and
Tommy have helped us and I move towards
the cloud and in modernizing our stack
as you'll see in a moment so in order to
get this through corporate censorship I
needed to do a whole pitch so very
quickly who are we and what is the
platform then we'll talk about Boris
well he's rnd of the platforms he's
going to talk of how are ideas used
Tommy and Java EE then I'll talk about
how we use it in one of our other
platforms it's a simulation platform and
then Ryan will talk about some some
gotchas how do you move your legacy code
that was running in a different
container to took a container like Tommy
and then we'll wrap up so I hope you
guys enjoy it anybody heard of data
systems before ok so we're a scientific
company we do our mottos around building
products for product nature and life for
enhancing sustainable development we are
thirteen thousand three hundred people
and growing all the time lots of
customers lots of partners and it's
interesting because we have the luxury
of having pretty pretty cash rich and
being to look very very far forward our
CEO which you'll see in a minute is very
known for being a visionary and so we're
able to do a lot of interesting stuff
and in fact I don't know if you know but
you've seen the list unforce what we
were listed as a number thirty first
company worldwide as being the most
innovative so that was pretty cool
we have customers all over the place we
basically I'll show you in a minute but
we split our customer base into twelve
different industries so we serve a
humongous variety of different things
for people that make shampoo bottles to
airplanes and cars and even banks so
we're kind of all over the place and so
our as we'll talk about our platform is
done designed to be able to handle any
kind of these industry scenarios
here's Bernard sorry les our CEO again
using this
we like about create imagining
sustainable innovation to promote
product nature in life and we've been
around for a while we started with CATIA
doing two and 3d modeling specifically
3d modeling then we started doing
something called VPM where we did dmu we
created the PLM at the time which didn't
exist it started managing all the cad
data and then we started talking about
how well how do we manage that in the
context of design and engineering and
how do we make sure the car fits
together and then recently the last
couple of years we went beyond that and
said well how do we create an experience
for our customers and the 3ds means
platform we define it as a business
experience platform and oh it's it's not
just a tool box we're trying to build
pretty much out of the box solutions
that help customers create experiences
for their customers we introduced a new
user experience all of this is powered
of course by Java and and Tummie with
all kinds of capabilities with messaging
built in dashboarding some nice tagging
capabilities and so forth and it is
available on cloud on mobile and
on-premise so quite a good set of
platforms and as you'll talk we'll talk
about how Java EE and Tommy helped us
towards the cloud and lastly we have a
series of we have 12 different brands
inside they've got 11 brands on this
slide plus the twelve industries we
serve and as we go around we're going to
talk about the brands and how they've
used the technology of Java and Tommy
and I'll show you which ones we're
talking about each time so with that I
will introduce mr. to bankin to talk
about Java EE so that's basically the
platform is at the center of our I think
your arm as you know mentioned we are a
pretty big company and we have a
challenge that we're we're ever buying
new companies so one of the challenges
we have is when you technologies come on
board with its partnerships or whether
its acquisitions how do we roll it into
a coherent strategy now we are and it's
not true for everything we do but for
the most part we we have a notion of one
of one data model so as we buy portfolio
companies the idea the real value comes
in the fact that new applications such
as simulation such as
Manufacturing one leverage data created
and other applications that we have so
the for us the fundamental challenge is
how do we keep this data and we have
something like 4,000 developers so we
have a huge number of developer teams
that are coming with different skill
sets and coming from different
backgrounds and how do we keep them all
productive and and sort of doing doing
good stuff so this is nothing next ok
slides so originally the company started
CATIA which was which was a C++ rich
client and the desktop actually started
on the mainframes but anyway the
desktops it's very graphic intensive and
it's very data-intensive but it was
really done as a standalone application
which with very limited sharing of
information ok so it was all time I run
into my own slides so we started
adopting Tommy and our background was
that we started out when I started a
company we started on on WebLogic we
started on WebSphere we had a series of
app servers that with proprietary ones
that we supported in our world the
customers would dictate what they want
to run because we typically would saunf
enterprises that had contracts with
other vendors such as WebLogic or IBM
websphere and the problem we had is that
we were essentially even though it was
JE we would run into compatibility
problems because we would just not test
enough on every platform and we would
wind up chasing ourselves so one of the
sisters we made early on was to go
Tomcat and again the vision that I came
from the needs were pretty much limited
to servlets and jsps so we didn't have a
need for the full stack but over time we
found ourselves adding more and more
open source packages and dealing with
the jar mess and dealing with versioning
we would have just a lot of problems so
one of these that we decided around the
same time that we decided to have our
own cloud offering it's a go Tommy
and Tommy offered us a reliability of
Tomcat that we knew in the and
and and had a lot of experience with
along with adding the pieces that were
missing now Tommy is not a full profile
but it's web profile and it had pieces
Tommy plus percent of that pieces though
that we needed and therefore it gives it
gave us what when you know that in the
platform now that's what we were running
with right now okay so like I said
before we use particular pieces of the
stack we are excited about Tommy's plan
to support je going forward so as things
become standardized we will use them
when they make sense we are heavily
using JSP and servlets
we're using some JMX and JMS we are
using jax-rs for micro services quite a
bit now and we are always looking to I
mean our goal is to basically develop
less of our own code and use what's
available there's always a challenge for
us because like I said we have a large
established code base and for us to
convert pieces that we have into open
source pieces sometimes challenging but
that's kind of how we how we do this and
that's what you know right okay so
basically Boris was talking about the
platform that and we plug apps from all
different things I guess I can go ahead
and explain that we have this thing we
call a compass and on there we place all
our apps on the top we put social and
collaborative apps and traditional PLM
apps like for bomb management things
like that on the left is a 3d quadrant
where we have their rich clients like a
TIA on the bottom we have simulation and
we call it virtual plus real so things
like manufacturing simulation in
factories simulating doing the
manufacturing planning we even made
acquisitions in two mes and things like
that and on the right side it's
information intelligence so data mining
dashboarding things like that
now we acquired a company some time ago
called abacus and if those like me or
Emmie that played with around with FTM
and things like that so we actually own
that company and we changed the name to
some movie us and so bounced everything
s7 IA at the end you notice that's kind
of a theme on the slide there and so we
have a brand called smiliar that does
this really awesome simulations
based on the old the the abacus stuff so
I talked to unfortunately our friend at
Robert break couldn't be here so I'm
speaking in his place on house Amelia
used Java and originally when they
started out they had they had a issue if
they wanted really hardcore computing
power a lot of the smaller comes
couldn't really afford that right they
couldn't afford a massive server plus
the licensing from Webster WebLogic and
so forth so they had to have kind of
small a small protocol the I side that
would stall on your desktop and do a
little Fe M simulation just enough to
get you by and then for large enterprise
customers we had this huge very very
complex simulation set so it was a bit
of a fracture I mean we had to maintain
two code bases right because we had to
have a kind of a legacy standalone
client and we had to have this
enterprise server as well and that meant
we also we had that we had a split of
portfolio and that was meant that they
the features were were a bit different
right you didn't have exactly the same
things on either side well as we moved
and we thought about moving to the cloud
we had this idea of having something we
call the 3d orchestrate which is putting
this simulation capacity on the cloud so
you can use the elastic capabilities of
cloud computing in order to do the
simulation and so you have one single
execution engine way of orchestrating
the calculation across potentially
thousands and thousands of nodes and of
course being able to do burst computing
so I could have thousand nodes all
working at the same time in order to
generate cool graphics like the one you
see here now I said before originally we
had things split we did weren't using
Java and therefore we had this native
you know C++ app on on desktop and that
was sold to the mid market and then we
had this really large app that we called
which was abacus would had a commercial
server had what was at the time
state-of-the-art you know back at fit
back some time ago TMP beans EO GB to
JMS it was all state of the art for the
time and with with the adoption of Java
EE and and the use of Tommy we were to
move to something that was much more
moderate and then because it's on the
cloud we can also give the exact same UI
to a smaller customer that does one
infrastructure and they can use the
cloud resources and that's the exact
same user experience as the person using
the big enterprise app as well so we
were able to thanks to Java and Tommy
merge these things together and have one
single user interface across our entire
customer base from very very small
customers to huge customers that build
airplanes and shampoo bottles and soft
drinks and everything else so that's
that's how we did that and so we'd be
able to use the cloud to enable these
consistent powerful solutions at scale
from the smallest customers the biggest
one
I think that Ryan is going to give us a
little bit more I know you guys are like
freaking out oh my god it's like
marketing so now Ryan's gonna kind of
bring it back to a level of nerdiness
that you guys have learned to love and
expect
okay so I I work for a small group
within the novia brand called ingenuity
we do chemical formulations software we
were in actual and acquisition back in
2011 so as a part of our onboarding
we've been bringing our software up and
onto the DS platform previously we are
currently and previously we were running
on glass fish glass fish container so we
have basically a large app a large
application many of our admin tools are
written running on top of GlassFish Java
EE 6 currently so we're leveraging many
of the features of the platform so as a
part of it we're moving over onto
basically a standard code base with the
rest of the company so as I mentioned we
were integrated in 2011 the code that we
have right now is is based on is was
running in GlassFish and reporting it
over to Tom EE plus we actually unlike
some of the other groups that we're
using servlets and JSP pages we were
facelets EJB 3.1 in addition to using
we're using JMS we're actually using
active mq as a separate process so we're
not using the built-in queuing system
that comes with GlassFish we're
leveraging asynchronous being so we're
lab we're basically leveraging
practically every feature of EJB 3.1
currently and Java EE 6 and so with
moving over one of the objectives is we
have to get on to the common platform so
that throughout the company when
services goes out to deploy our product
our software is no different than any of
the other business units so the services
group at des can deploy the same thing
everywhere and doesn't require
specialized training for our package so
in terms of moving over from say
GlassFish or web logic we live funeral
alluded to Somalia one of the challenges
is adapting to the different
technologies that come with Tommy e
Tommy E the version there's when they
initially picked it there was there's
now the I was like coming up going over
the different distributions of Tommy
either several different ones and I'll
go over how to pick and choose which one
but when Wendy a standardized on a
particular
version of Tommy there was no plume
there's no Eclipse link which you'll see
in a couple of slides so we were moving
code that we had written that was going
again that was using click Eclipse link
in Mahara over to using Apache my faces
and company J cert hope and EJB open JPA
so there were quite a few changes and
pain points in terms of doing that
transition over to it because you know
over time we had picked out and we're
using extended features of eclipse link
for instance for dealing with view woods
and databases and some of the additional
attributes that they give you so that
you don't have to write native sequel
code so there were some challenges in
doing that I know that over in the
cimelia brand when they converted over
from CMT it's a JPA they had to go
through a learning transition because
not only were we transitioning from gone
from using seemed from from WebLogic and
WebSphere over to Tommy they were also
doing a transition from CMT over to JPA
so there are some pain points in terms
of ramping up skills and RER connecting
the applications to use the different
technology so as a part of it and it's
just not we weren't just moving from the
other containers over to Tommy
we were also upgrading to use the most
recent versions of the technologies
which is a challenge in and of itself as
well so some of the things that you know
we had to deal with for the ingenuity
side of things in novi ingenuities we're
the custom realms there were no standard
classes for actually implementing that
so you have to extend something from the
container that requires dealing with
issues surrounding the build system
class paths for a period of time you
have to actually build both of them
because you've got customers on you know
the old stuff and also on the new stuff
so those challenges that you run into
that configuration challenges so the
configuration is different between the
two of them with GlassFish we were
configuring activemq separately we were
using the ActiveMQ queuing system
whereas with tommy e ActiveMQ is built
in but is configured slightly
differently there's some additional
steps as I'll show you so there's
there's quite a bit you know
configuration you spend you know the
first time you don't do configuration
every day once you get the product
because we ship basically shrink-wrap
software almost once you figure out how
to do the configuration then you forgot
how to do it and what you actually
configured until you have to configure
it later because you have to figure out
you know how do you optimize your you
know the number of singleton and
stateless session bean 's how do you
customize your pools you check-in
performance issues all of those things
come into play and you know for Mahara
versus my patching my faces you
inadvertently buildin dependencies on
the frameworks over time you know you
might have worked around Apache Mahara
bug six years ago and you completely
forgot that you had that code and the
code base and then when you poured it
over suddenly discover well this is this
is not working correctly and in fact for
a while there with our GlassFish
distribution we were actually
distributing and upgraded Mahara as a
part of it and then I think that got
into the build when we were switched
over to using my phases and then that
resulted in some odd behavior because we
didn't inadvertently replace the JSF
implementation I think the first time
around and then with the Eclipse Lincoln
open JPI we ran into situations where we
were using extended tat with the Eclipse
link extended features so we had to you
know kind of come up with a solution to
deal with the fact that we didn't have
those features anymore so one of the
other biggest differences since we were
coming from GlassFish and anybody coming
from WebLogic because GlassFish and
WebLogic both have very nice
administrative tools that you can go in
there and configure things with
GlassFish you have a scriptable
command-line interface that allows you
to configure the application container
service so that was a part of our build
instruction so we'd basically gone
through done training on how to
configure everything how to troubleshoot
stuff you know there are processes in
place and documentation as to how to use
this tool and set everything up so in so
we switch over to Tommy II the Tommy II
configuration currently is all XML based
so you don't have a nice admin console
currently to go in there and configure
stuff so you have to go in and edit the
configuration files now the other groups
in the company that were coming from
more of a tomcat background that was not
as much of a transition as we went
through with that because we have to go
in there and learn how to do that so we
have to it's it's harder to debug you
have developers you know going from
an Administrative Council which has
rails and make sure you don't do things
too you know you make an error in a
configuration file and something may not
just work you know you're you know you
don't have nice thing you go through the
glass of shed men tools you can test
your data sources and that will ping it
and make sure that your username and
password are correct
and all of that you also have to deal
with additional things in terms of
switching over to make sure that
passwords are encrypted in the
configuration files so that an admin can
open it up and you know somebody that
doesn't it's not supposed to have access
gonna open it up and do that now in
terms of the Tommy he distribution
there's several different profiles
several different packages to pick from
when you download it you've got the web
profile which includes servlets jsps so
each one of these builds on top of the
other one server let's JSP is JSF CDI
bean validation EJB light etc and the
thing to point out I didn't have it on
the previous slide but the CDI
implementation is also different
so GlassFish and WebLogic have both used
the CDI implementation from Red Hat
which is kind of the core one that
practically all of the sessions that job
one that you've seen use the core one
Tommy uses the open web beans from
Apache that's just different so you'll
run into different issues Jack's are so
then assess the web profile has the
basic thing and that includes EJB Lite
and I'll explain what that means in this
slide the jax-rs includes the web
profile above plus the jax-rs
implementation so you get web services
built in the plus basically is a full
Java EE 6 container although it hasn't
been certified yet at last check so that
includes the EJB full implementation the
Java connector architecture so you can
actually talk to another JMS provider
includes the JMS the website
standardized WebSockets support and then
there's a separate distribution which is
called bloom which was not out at the
time that Diaz picked which one to
standardize on which uses Mahara and
Eclipse link so my advice is if you're
you know look moving looking at moving
over to Tom EE especially since Oracle
dropped commercial support for glue for
GlassFish that that would probably be
the easier route for you at least at
that point as
- trying to vet your software and you
know deal with regression issues on that
now in terms of I alluded to on the
previous side the EJB light versus EJB
full EJB light just you know is missing
some of the historical things and some
of the newer features so for instance it
does not include message driven bean z'
and does not include your entity beans
it also does not support remote
interface is the timer service
asynchronous beans the RS WS stuff and
jacks RPC and hopefully nobody's still
doing it using that jacks RPC so anyway
so that those are based that's basically
the breakdown between the EJB light and
the jb full if you do do the transition
my advice would be to go for the full
because you can always build out and use
those features there's no extra
performance penalty for not using one of
the profiles with the full one other
than you know you're gonna find some
code out there on when you google for
something then you'll try running it and
nothing will happen so you very much I
would recommend going with either the
plus or the plume distribution so one of
the one of the things so previously we
were using ActiveMQ we had GlassFish
been quite a bit of time troubleshooting
and also supporting GlassFish talking to
ActiveMQ via the JC a now we switch over
to tommy everything is supposed to be
easier but not exactly so the so the
first thing you know i go looking for
because we have a heavily customised
ActiveMQ XML file is where are the
configuration settings where where is
that file so I don't you know the first
time I downloaded it you know I'm
hunting around okay where's my activemq
XML file it was not there so so the you
know to get it installed and configured
and taught and also the activemq web
console which I use to troubleshoot
things to look at messages in the queue
to find out you know what's going to
find out you know whether things got
delivered since somebody always
eventually types in the wrong IP address
into one of their configuration files
and I start stealing my my messages from
my via from my VM or something so that
that's really handy for troubleshooting
stuff so
those things were missing so the
ActiveMQ web council is easy you can
just pop that war file in and you know
setup its configuration for that and
then for ActiveMQ you actually have to
add spring dependencies to it it uses
spring configuration stuff to actually
configure it so they don't ship that by
default so this involves making sure you
know understanding which version of
activemq you're trying to use which
version come or downloading the correct
version grabbing these dependencies
adding them to to it and and then
tracking it so that any time you do an
upgrade you also have to upgrade these
so that you don't screw up your ActiveMQ
configuration so that's a bit of work
that was one of the pain points that we
ran into also we had spread out
throughout the codebase people at
various times that hard-coded in jndi
dependencies or I'm sorry J and J and di
strings for doing lookups in a couple of
situations so you know you just end up
with a nullpointerexception because it
couldn't find it or an exception out
there because portable ones weren't used
with old code so that just required some
minor code changes so depending upon how
old your code base is if you're porting
over an EJB you know an application
written EJB to from a container and
you're trying to go over to tom ee just
be aware that you know you're going to
deal with not only you know switching
containers but i'll you'll be running
into the pain points of dealing with the
naming between the two of them okay and
and I should point out I don't think we
have this on any of our slides but
there's now a company behind Tom EE
called Tom tribe which provides support
on it so you can purchase support right
now so that's one of the benefits of
Tommy e currently as I mentioned before
so one of one of the things that would
the first thing we had to do with
running our application before we could
even test anything was to get the custom
login system configured we had custom
code written to do authentication at
time to tie it into the realms so it
would set up the realm the principal and
all of that so we had to basically so
this is the code from from GlassFish and
as you can see it's got come son app
server security up there
so it's a custom class coming from
GlassFish that you extend and implement
this it is the same thing with Tommy II
so that's the first thing we had to do
because our whole app depends upon
having that stuff set up so that you
could log in and do things so before we
could even do the sanity check we had to
get the security security stuff ported
over and there are some challenges with
doing this I mean so yep and so then
this is the one from Tomcat so it's
basically with Tomcat the Tomcat one
actually has better documentation in
terms of finding out how to do it versus
the glass which one to be honest so this
this was that's the resulting code or
skeleton code for doing that okay and
then the actual realm implementation
these are a couple people taking
screenshots these are actually fairly
easy to find out there you can find
examples in code that you can actually
run that does that back so it's kind of
a whirlwind tour through our wonderful
adventures in the Java EE world what we
found some of the benefits of our Java
EE Tommy adoption path was to be able to
unify the interpreting architecture from
all these different acquisitions we had
made and create this one collaborative
platforms that's one of the if you
picked up that theme but one of our
themes in the company is getting all
these people from different disciplines
working together simulation people with
engineers with designers and so forth
and being able to use these technologies
allowed us to really underpin this this
platform and as I demonstrated from the
smoothie example it's also allowed us to
consolidate our portfolio a bit and
address this small customers and big
customers with the exact same platform
the same user experience the same
features which is a real benefit it also
helped us eliminate some very expensive
apps to maintain the old legacy apps
that are much more harder to maintain
than just something that's uh it's more
of a lightweight web kind of thing now
the last day of course it helped us to
consolidate our development and testing
cost because having unified our platform
we didn't have to worry about all the
disparate implementation details of well
how does that work on what logic or how
does it work on WebSphere or whatever so
moving towards a more unified app server
platform strategy has been really
beneficial some of the lessons learned
and obviously we're gonna take Q&amp;amp;A after
this hopefully you guys will have some
questions one we would say and it's just
another pitch a little stumping here is
buying supporting training friends in
the back of the rooms Tommy tribe are
very happy to help you with that they
are we do get a that also buying support
and training I suppose it's just
downloading off of from from the web
does give you a faster turnaround and
rapid integration of bug fixes which is
you know pretty interesting when you
want to go into production right and of
course you need so the some of the other
things we had to do is our developer
developers were not quite up to speed on
AJ b3 and JP 2.0 so another lesson
learned was the developers they need to
know that we needed to move them from
the old way of doing things to the the
more modern way of doing them and since
my two colleagues are much more indie
focused I am I let Horace address the
thing about legacy interfaces I think we
really we're talking about is the fact
that we had a lot of code that was
that's what he was legacy that but it
was proprietary to particular containers
that we came from and one of the issues
we had a lot with a lot of sorry was
that we would have code that was not
quite je compliant and it would depend
on with logic specifically and when we
moved it over we had trouble with
running on other containers
sorry do their supporters sure not sure
yes okay sorry one of the issues that we
have in this is where we recommend that
customers are on premise Christmas by
support is that when you would do when
you ship open source you recommend open
source you become the support
organization and with commercial
software vendors nominally they would
actually supposed to go to WebLogic but
would have found even then with
commercial we would be the first line of
support and with the open source
community we find that our customers can
now go to the community and give
themselves and so there's always a
balance of what we own and one of the
issues that clear in our presentation is
we sell a big solution even though
there's pieces that we don't write
customer views us as the provider of
that solution so for us having the open
source community behind us we find that
a more responsive than when we were
dealing with WebLogic where the customer
would have to get about logic and web
blod you would have there was a program
is asian so for us it's just a question
of cost of ownership for our for our
organization long term and that's all we
just a touch on to be careful with
persistence that was one of the pain
that probably one of the biggest pain
points with the exception of the JSF
dealing with JSF changes was dealing
with converting from CMP to JPA 2.0 and
trying to do that while switching
containers so I think my advice would be
with that type of transition if you're
trying to upgrade try to do that and get
it running on your old app container
before you switch over to something new
and then introduce a whole new set of
problems so switching to a newer version
of the spec switching to a completely
different approach for doing it it can
be extremely painful and also dangerous
and debugging JPA with a heavily
threaded system is very challenging so
one of the problems that we ran into
when the first rewrite of the cmp over
two JPA was deadlock issues with the
database because people were not
familiar with the newer technologies
with doing that and I should point out
that with this presentation one of the
nice things with Tom EE is that it
allowed the company to move to Java EE
and get all of these additional features
because previously people were
downloading other
open-source projects to try to fill the
gaps on what Tomcat provided right so
Tommy he gives you all of those things
so it's nice everybody knows Tomcat
Tomcats got a good reputation in many
cases some people still remember the bad
old days different groups with Indy
asked people that came in from other
companies remember the horror days of
EJB 3 sorry EJB one vjv - right where
you had to write tons of code you had
doclet stuff that was producing stuff
you know producing all of your
interfaces the heavy tooling that went
around it so a lot of people had a
really bad experience with java ee or in
the early days so Tommy and you know
they were they were good with Tomcat
because Tomcat is nice good and light
but bringing in Tommy II allows people
to upgrade to the newer features but not
necessarily realize that they're using
Java EE technologies it's a nice way to
slip in and upgrade to newer stuff and
gain all of the advantages that people
over in the spring world have had
already so so anyway so that's that's
one of the nice things with this is that
you can upgrade your organisation you
can stay on Tomcat stay on what you know
and then take advantage gradually of the
Java EE features so if you're running a
Tomcat application right now using
hibernate you know this this provides me
us a nice upgrade path for that to get
into the Java EE space begin taking care
of try using transaction managers and
things like that so I think that's it
thank you guys I think we'll take
questions right now so you guys have
questions yeah do we have a mic so we
can hear the question I will repeat the
question
both actually
so I mean there's there's I mean the
development is done locally and then
there's also Tommy containers running up
Tommy
II instance is running up in the cloud
and that's one thing I didn't touch on
during the presentation is that the the
directory layout for Tomcat is exactly
the same I'm sorry for Tommy II is
exactly the same as Tomcat so there's
not any any while there's not any
differences in terms of the dish in
terms of the structure of it all Tommy
II is doing is they're taking a stock
Tomcat distribution they're not building
it themselves or taking a stock Tomcat
distribution and adding in the Java EE
stuff to it from other open source
projects so it's not a modified version
of Tomcat it is a stack a stock version
of Tomcat and they have a web
application which I haven't played with
which allows you to add that stuff in
without actually even downloading the
Tommy II distribution I believe although
I haven't actually used it but yeah so
it's both the same up in the cloud and
down below there's a lot of another
personal contributing code and what we
do is because we don't know what
customer or what our application needs
we essentially assemble a big war file
and then the war file is pushed to
whatever container we're using so as we
add more and more components essentially
each group is allowed to contribute what
they need and then we have a you want
consolidation process that develops one
so our application they run a services
but each service is essentially one war
file today but the pieces of it come
from all kinds of groups around the
company the my group which still deploys
is a separate war file so we've got
different models throughout the company
the whole point of the platform is over
time this will all be one particular
process as you know it takes a little
while it's just a it's a process did
that answer your question
yeah we're using availability clustering
you want to talk about that load
balancing so again we're trying to
trying to be careful because we don't
quite know well we have two types of
businesses we have a customer buys our
application or applications and they run
on their own data center which could be
outsourced to any to anywhere but it's
really to us a on premise system we have
our own cloud offering in which we run
we call we basically run pods where
essentially its many virtual machines
with different roles there's load
balancing there's typically at least two
Tommy virtual machines plus databases
and again it all depends on which
application you're talking about but in
generally and then we do our own
management of that so we have our own
proprietary cloud management tools that
those instances could be running in an
Amazon or some other provider but we
look at that as a we own the layer of of
the virtual machines and the only
management on top of that maybe I need
to point out it wasn't abundantly clear
before remember when I said how the
cimelia brand we went from this native
client and a big enterprise thing to a
lighter web client with cloud borne
infrastructure right the idea is that
our portfolio in the cloud is only SAS
we don't sell IES we don't sell pass we
just sell SAS so the idea is you just
have this lightweight you could either
have it as C++ name code on your laptop
or a lightweight web one but it goes
over a SAS or a URL and hits our
services in the cloud with the
infrastructure that Boris described and
you get access to services you really
don't install that anything other than
the perhaps a native kind because you
need to use a graphics card and so forth
so that's the whole concept behind the
platform basically so I'm sorry if that
wasn't abundantly clear before so indeed
on premise the customer can do whatever
they want with a che we support all
kinds of any kind of load balancing that
they want to do hardware software
whatever on the cloud that's all
proprietary it's inside our pass data
systems the pass means how we deploy our
platform in the cloud and how we monitor
it right
because all we're selling you is the SAS
apps so the whole that that is all you
know in a big
black box it's not even revealed to the
customer what's in there we just say you
want to buy this application we can't
guarantee you a certain amount of uptime
and and we look we would like you you
know to do we just pay on a subscription
basis there's a big change to our
customers are used to paying ALC PLC
right you pay a software up front cost
and renewable licensing for the for the
support and now we go to a peer
subscription model so it's been quite a
quite a lot of change I don't know if
that helped a little bit more for the
question there's a question over here I
believe this one here yeah Tommy so
right now we're still on Java EE 6 for
many of the apps now there's some apps
that still haven't been ported over onto
the time the e platform but with
thirteen four thousand developers is
going to take a little bit of time to
get there
that the decision at the time was that
they were standardizing on Tommy E and a
specific version of Tommy because they
wanted everybody on that version so that
when support calls came in support
people out in the field had a group says
yeah can wecan have a consistent set of
skills for troubleshooting and
consistent documentation so if there's
you know an issue with the database
they're not okay well what is a Clips
link what are the settings for it you
know what what what possibly could it be
and then that and then many of the
applications are getting deployed to the
container so it just simplifies
deployment so that you're not you don't
have you don't have to worry that you
were accidentally running with Mahara in
there right so that everybody because
it's multiple applications from
different business groups from all over
this company are getting deployed out of
client sites so those groups may not
have you know necessarily even known
about the other one the other the other
business you know that was deploying so
that was kind of the way is to trying to
standardize the entire company on a
specific version set of versions that
everybody's working against the common
goal and you can share knowledge across
the organization in terms of features
and code code can be written and reused
by different groups so cuz if every
group is using a different you know
version of Jade
you know one verse one group is using
this version of Eclipse Lincoln has a
custom install process for that another
group is using hibernate you know it's
it's hard for people to move around it's
hard for the support people to support
it and it makes a build system much more
complicated because eventually
somebody's gonna screw up the classpath
you're gonna end up with hibernate and
eclipse will come the classpath at the
same time and then somebody's gonna
reorder something this this is actually
happening where class path gets
reordered and suddenly people are you
know who yet you get a stack trace
beckons why why why are these classes
here this isn't these aren't mine I
think I had a distribution problem where
the the JMS stuff got replaced with
WebLogic stuff and they were complaining
that it wasn't connecting to ActiveMQ so
we kind of come in different levels I
sit at the bottom of this hole and what
happens it would happen a lot in the
past and tommi solves part of the
problem doesn't saw the whole thing
obviously we really needed a set of
standard jars that everybody can use now
with that said if somebody wants to
something more advanced and tommi
supports we have saw the same problem
but it hopefully with Java 9 packaging
that'll help but situation we found
ourselves in and we we spent a lot of
time over the last 10 years actually
repackaging things in such a way that
they would not conflict because we were
always getting hit by they happened a
lot of websphere where there would be a
jar that we need it that we were
delivering they would deliver an older
version and our customers you know we
spend so much time in our support again
it's that sounds come was trivial but
this jar mismatch and job versioning has
been a huge problem for us so if
somebody so our our hope with Tommy II
and so far it's borne out was that we're
gonna reset things we're gonna provide
say here's Tommy
so all those jars you've developed
delivered in the past can go away now if
Tommy doesn't keep up and Tommy doesn't
stay latest and and and Ryan knows more
about this stuff than I do but things
that I needed for advanced applications
that we're going to be right back there
again but the hope is with the community
that there will be enough people keeping
up with this and therefore as a
application vendor we're not worried
about infrastructure as much and that's
one of the benefits that's one of the
benefits of Java EE versus something
like a spring container the other stuff
is that we're able to switch containers
so you had different businesses
businesses that were purchased or
developed node use different containers
over time such as web logic and
WebSphere and GlassFish
I don't think we had anybody used might
have even been groups that are using
JBoss but they could all with Java EE
although there is some pain with
switching containers you know you have
the minor versions fundamentally it's
not a rewrite fundamentally you're just
rerunning regressions to see does it
work and then you're dealing with the
points where the regressions failed
looking at that what happened here you
know was there oh so that you know that
we were using an extended feature of
eclipse lang so that's one of the nice
things is that although you know we
talked I talked about the pain points
don't forget it wasn't a rewrite not we
didn't have to tell different business
groups okay shut down you can't sell
software you have to port your code over
no it's a development task that takes a
couple of weeks that you go through
regressions to in order to get there and
then if you know we can oh you can
always switch contain you know if
necessary could always switch containers
because that's one of the benefits of
the platform going forward yeah we're
waiting for Java EE 7 featured you know
the Java EE 7 to bring it
but just I mean we're trying to get
different business groups to go from EJB
to and one up to a JV 3 so it was quite
a bit of time time involved in just
doing that what's it's the the corporate
say this is going to be the platform
going forward well you have to take an
account the regret that regression
testing process is rather expensive the
more you multiply the number of
application servers the more expensive
it is to support and as he already
pointed out you got to reproduce the
problem on the customers environment so
now if they have all these different
possible containers if against
complicated so the whole idea was how do
we refactor that to a lot smaller number
of powerful and yet not completely
esoteric servers so there was be easier
for us to move everybody to the same
level and I think from the platform
group the process was basically that we
embraced tomcat about eight years ago we
were still supportive of lodging
WebSphere but we again every group is
different it's not hard to generalize
but our needs were such that Tomcat was
great
and so to go to from Tomcat at Tommy you
know it's a big company the corporate
saw wasn't that hard because essentially
essentially people already knew what
Tomcat was and in fact people didn't
realize Tomcat and Tommy were not the
same product because it sounds similar
and so people were not wears glasses
felt like this something something else
and then there was a question of you
know when when Sun bought when talked
about Sun I think there was a question
for us which is actually going to
because there with logic
she wasn't clear it was gonna exist so
so we we felt going to pure as much as
open-source community driven was very
important to us
it keeps us independent of one
particular vendor I was very that was a
very very good part of this issue and I
like this answer your question cuz
that came in one GlassFish I heard that
they were running just Tomcat and I'm
like no I'm not going back I'm not gonna
rewrite all my code to not use e JB's
not use asynchronous beans and not use
the timer service no so I you know so
yeah I mean I have a prep you know had a
preference for GlassFish at the time but
it was nice not having to worry that
they were going to I was going to be
forced to rewrite my code back to back
to the pre ejv days so that that was
actually more of my concern to be honest
so really our goal and the platform
group is to try to make people like
Bryan's groups easier so we are not you
know we try to provide we can knowing
that we have all these other issues
restraints and that's where Tommy for us
what made sense
are there other open-source containers
out there I guess there are but we have
not looked at any other ones so if there
are other ones that are competing that's
great but for us Tommy made sense and
having the support having a group out
there that can support it Tommy try let
me try
makes a big difference because our
on-premise customers we hope that they
contract with them or and basically use
them for support at all another question
that would be the similar my group isn't
doing that the samui group would be
doing that I'm not sure we'd have we'd
have to go back and ask them how they're
running into what they're running into
with that but that group does more
that's balancing is a higher HTTP level
we don't do session we don't do session
failover we we we've had we tried in the
past the session failover and we for the
performance to be not great
faster synchronizing this over to so so
the way we run is typically with sticky
sessions and then with little bells at
HTTP level as we get into the cloud
operations we're trying to be smarter
about how we do that but basically our
idea is that once you're in a server
you're on that server and some of the
stuff that we're doing is a little bit
different than how other companies the
products that other companies have
because it's not like an e-commerce site
that we're backing we've got you know
can basically compute services things
running distributed jobs is in the case
of Somalia yeah so it's very it's kind
of as usual you decad and CATIA with
assemblies with thousands of parts this
might happen you might have stuff that
actually is pulling in J&amp;amp;I libraries to
do stuff on GPUs for instance so you
know not many people are doing that type
of stuff I mean in our typical operation
on the cat side we might expand an
airplane where somebody will expend
entire up and looking for some part
where it's used or looking for fit
analysis so these are not you know quick
in-and-out operations now we do some
asynchronous tricks to make it look like
it's those operations but for us the big
challenge is if we start a job we can
just have that job bounce so we really
need sort of more session than probably
a typical e-commerce site would require
which has a challenges because as a
result we do have to move more memory
footprint we do have to have and by the
way we didn't talk about the
architecture of the platform but our
platform is Java with a pretty big C++
back-end so we have a whole other set of
issues that are not really Java related
and I was trying to keep it because I
was interesting in this room but just
know that our stack is not a traditional
J stack so we use what we can but we
have this other component which is our
C++ engine and this is the great upgrade
path so if you're if you're on Tomcat
right now and you're trying to get
people to use the EJB feature so you
want to manage them this is a great way
of sliding it in there we stopped ten
minutes we can take more questions yes
that what that one was specifically with
the rewritten CMP to the Container
managed beans that went over to JPA
and then issues with deadlocks in the
database I think it had to do with
optimistic that was a simile that was
with like optimistic concurrency issues
so that one was that was not a direct
problem of open that was not a direct
problem of open JPA that was more a
problem of learning how to you know take
the existing code base and translate it
into something new so as I remember we
were doing two transitions here we're
transitioning to a common container and
we're also upgrading things apps that
were 10 plus years 15 plus years old up
to Java EE 6 and bringing code up today
so it's kind of used as an opportunity
for for improving the code and bringing
more up to date that's it is thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>