<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Script Bowl 2013: The Battle for Supremacy and Survival | Coder Coacher - Coaching Coders</title><meta content="Script Bowl 2013: The Battle for Supremacy and Survival - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Script Bowl 2013: The Battle for Supremacy and Survival</b></h2><h5 class="post__date">2015-06-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/o4KlvLzccis" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to the we were just talking
about you know whether this is the fifth
reading rendition of the sixth rendition
we're not quite sure how many of you
have been to this version before you
know at least months okay so the rest of
you all knew yeah oh cool a lot of new
people that's good okay so for those of
you who are new and a lot of you are new
you know I add absolutely no value i am
the moderator ok my name is Raghavan's
sreenivas i go by rags and the gentleman
here have agreed to represent different
languages you know i'll do a quick round
of introductions and basically what
they're going to do is they're going to
represent their language and they'll do
a fun-filled demo you know actually two
demos one is a little bit enterprise-e
the other one is more community okay and
based on the feedback that we have
gotten before we have combined the two
rounds yeah these guys are tough you
know they keep fighting anyway the idea
is that you know one of the languages is
going to be crowned the winner okay for
this year we we decided to shake things
up a little bit and we're going to vote
one language off the island okay so okay
but unfortunately I have a small problem
because JRuby could not make it can that
Tony the language the kids yeah they
were not even on the island right yeah I
would have said that if it wasn't any
other reason but he was sick so he can
make it actually it's a good idea to ask
the audience if anybody wants to
represent JRuby yeah anybody interested
last minute yeah I think somebody said
if you want me to represent JRuby I'll
do that because that way I can make sure
the other language is when he does so
anyway um so like I said I don't
contribute too much value these
gentlemen are going to do the demo we'll
probably wrap up about half an hour 35
minutes okay after that it's it's really
your session okay so you're going to ask
the questions and at the end you guys
are the jury okay we always had a
problem with coming up with the
impartial jury
but looks like this year it's probably
going to be as impartial because a lot
of new people this time right you know
we haven't had so many people exactly i
was going to ask the question okay so
you guys go to work okay yeah and again
what what everybody can do is you know
each of them get one you know a question
to ask and they can they can you know
like for example you can ask anything
about groovy and kind of put them in a
little bit of a tough situation okay so
so you guys can do that and but I'll
reserve the questions from the audience
to the end if you don't mind okay so
with that said shall we go okay stir it
so I add no value I'm rags okay all
right thank you thank you thank you also
I'm Guillaume I'm their project lead of
groovy and i'm working for pivotal for
those who don't know people that's the
old sprout up though shall I repeat
again because the my car isn't working
so I Megillah for the project Cade of
green and working for pivotal and that
was the old springsource now it's called
pivotal all right let's do it quickly
round of introductions and maybe come
back I'm Jim Leske I'm new to the
committee this year I'm basically
filling in the last minute I work for
oracle I'm representing Nassau which is
being released with jdk 8 so I'm the new
kid on the block you must all the team
pardon the universe yes I'm also
Canadian so I have to be really nice to
everybody else in the board so all right
we can't hold it against her hey moving
on hi I'm Stuart halloween at mike is
really close I worked at relevance until
two weeks ago when relevance merged with
metadata partners the company behind
atomic to form cognate echt so this is
now the company that's behind closure
and closure script and
Tomic all right so I got to get that
change hey animations I want animation
so late nothing was said about any
animations well you didn't do that so
you didn't work hard enough story of my
life hi I'm Dick wall I work for a
company called escalate software which I
am a partner with Bill venez we do
scammer training consultancy i am
representing scholar which should come
as no surprise and hope to shake things
up a little bit this year also i will be
taking questions on the doctor at the
end of the session as well so you can
test my knowledge on that if you want
see all right and the last gentleman
who's not here representing JRuby but
unfortunately was sick like i said
before i also want to put a plug in for
one of the tarts tomorrow this is khanh
489 to which is an emerging languages
ball there are a bunch of emerging
languages which are going to be in a
similar format and you know I know that
Andres is here he's going to be the
moderator ok so it's it's the last
session of Java one ok somebody had to
do it and you know Andres is going to
moderate the session please attend that
very similar format ok a lot of new
languages and the hope is that you know
we're going to move languages from the
emerging language ball to here and you
know move something from this to the
emerging languages ball or out of the
arena all right so with that said ready
to game yep so let's figure out groovy
so the first part of my role is
basically what makes groovy groovy right
and someone recently asked me about the
vision behind groovy what's groovy or
what grew reasons and well I want to say
that grew is not miss Lee the silver
bullet we're not trying to say that it's
the best language each language has its
own you know pros and cons and so on and
we're also not claiming to be replacing
King Java know where a nice we're
friends with all the languages and
especially with Java our clothes cuisine
own rules are not necessary you know the
hipster on the block providing all the
latest cool features etc but we're
trying to provide features that are
useful to developers but that said we're
experimenting and I think this nice crop
of language is that you have here today
and others as well are also a nice
playground for new features I mean if we
hadn't implemented closures in Ruby
since you know 2003 and all the
languages as well I think probably java
8 wouldn't have loaned us so it's nice
to be able to experiment at our own
level so hopefully we kind of contribute
back to Java thanks to our experiments
again one thing we are not we're not
language terrorists so we're not trying
to build the most beautiful
turing-complete type system whatever
we're actually pretty pragmatic guys we
are trying to tell me providing you with
the right tools sharp tools sometimes to
get things done so that's really the
goal to be able to simplify the life of
Java developers that's really the vision
for groovy guru is a kind of superset of
java it's great for scripting it's great
for domain-specific languages because
you can well it's got a malleable syntax
to dynamic language so there are tons of
things you can do with groovy and it's
got the I think the best integration and
interoperability with Java and it's easy
to learn because of the syntax which
looks pretty much like Java at least at
first sight and there's also an aspect
which I quite like which is elegance I
think GUI is pretty elegant here i'm
showing you an example of the spock
testing framework and it's kind of
bending the rules with the the grammar
of groovy it's here you can see
we're going to make an assertion to test
the max function of the yeah the max
function of the math class and here see
how we are reusing operator of loading
thanks to some iced tea transformation
Magic blah blah blah to represent the
data table that we are going to feed a
the values of a and B and C etc so that
that's the kind of beautiful code
elegant code that you can write with
groovy and it's also language which is
three minutes left okay as fast or as
safe as Java thanks to the latest
development with static type checking
compliation etc it's also dynamic so you
can write beautiful coat like this to
produce XML pegolo JSON payload or
whatever and flexible syntax on the meta
programming features which allow you to
create domains of specific languages for
expressive and concise got no one last
thing about conciseness before moving I
think to the use of the second part is
thanks to groovy you can even write
full-blown spring applications which
span just the 140 characters of it sweet
so here's what it looks like a
full-blown spring application without
any XML thanks to groovy and very
quickly on that one there are lots of
interesting things in the language but
if you want to create immutability in
group in Java you need to follow the you
know the effective Java details like
well you know it's written so small that
I won't tell you how to do that in Java
but spray verbose in groovy you know the
groovy style is much simpler and you
won't be making the bugs in that
implementation so gooey allows you to be
lazy the compiler will do the job for
you to implement the right pattern it's
concise readable and so on let's stuff
to maintain and worry about and now my
just have like two minutes for my demo
yeah they're superb community groovy is
not just a long wait but they're all
they're very interesting projects like
the rails web stack the briefing desktop
application
framework gravel for the bill I used by
many project including the the Android
build and I'm going to show you a nice
demo contributed by my friend deck
showing opal dolphin open dolphin is
basically javafx for enterprise Java
effects and let me show you what Miley
oedema looks like so it's pretty visual
so it's using groovy effects and javafx
3d so I'm going to launch that so this
is a demo based on a real project you
can ask dear for the detail but I'm not
allowed to speak about the customer from
which this demo is derived but basically
so this is a 3d stuff you can pinch you
know to zoom and so on and you can have
some cool you know animation and what
else i'm not going to show up and just
to show to show you the kind of code you
need to write you to do that you can see
here here this is how you can build
hopefully it's readable from the back
the the 3d scene with the sim rough
builder here so you know rectangle read
pains etc or you can see some
interesting stuff like here where you
have the binding how you bind the
certain property to some other property
of some other you know doing some
transparent binding between the model
and you know the view and well that's
pretty much it so it's there's not much
code and that project to do that demo
but groovy guru effects open dolphin is
nice combination if you want to deliver
some cool view
um server stuff enterprise javafx stuff
with a nice groovy feeling well that's
pretty much it thank you yesterday I
know that was a cool demo so you
gentlemen we don't have any questions
for groovy nobody you now Lord by the
demo last year was a much easier target
with the chest mi okay um can we put 66
sir okay so that was a groovy and game
give up big man again moving on okay
okay so my name is Jim mulaskey I work
for oracle and I'm the lead on NASCAR
I'm the only panel member here that
actually has the language that's been
brought in from the outside and brought
into the JVM so I'd like for you to all
participate in my demo by whipping out
your Twitter clients and I was acid the
last minute to to attend this so I had
to do a last minute demo so I figured
I'd it had to be cloud involved so I
figured I might as well use twitter is
my access to cloud so this little
example i'm doing and i'll be talking
about the nasara as this game is running
its demo i did in about a day and a half
from scratch including all the graphic
work and whatnot it uses jeff of X it
also uses the Twitter forge a library
that's one of the great things about
NASCAR and they need the Java libraries
out there you can bind to very easily
and very fluidly and I'll show you some
code later on so so the rules of this
game basically the following each one of
you that signs in will get a rhinoceros
get an ass horn starting on the right
hand side and your goal is to get to the
watering hole
and you do that by a series of commands
which I will describe in a second
there's some obstacles along the way
including trees elephants lions gorillas
and mountains and there's a few little
tricks along the way I've got some
secret commands in there but a few of
the things that I'll let you know about
our if you're behind you can leapfrog
over everybody in front of you if you
move right so anybody can win this race
at any point in time so hopefully we can
run through this a couple times and see
how this works out so okay so the this
is the rules basically you have to tweet
with an S or njs tag you can say go left
up down or right and because of the
restrictions and tweets every tweet has
to be unique you can't repeat your
tweets so you have to be clever about
how you repeat your tweets and because
there's a little bit of delay in the
update in the tweet like database is
going to be a lag of about 10 seconds
between the time you enter your command
and the time you see the effect on the
screen so you have to keep that in mind
so okay so let me start the game up here
and I'm just using a surveying scripta
to get it going here and let's see if we
can go fullscreen and see if that works
out okay so I'm going to push the Go
button I'll count it down one two three
go and that you can start and see what
happens the clouds have no effects
except they just described or basically
this store what's going on here so let's
see what happens here okay so dass horn
was written from scratch was basically
designed to replace rhino I was on the
Jeff effects script team and we realized
that oh here we go go Victor we realized
that Jeff xscape wasn't going to be
quickly adopted so we started thinking
in terms of javascript is being a
possible replacement
for that for scripting so I started this
project about three years ago to get
JavaScript up and running under the JVM
and around the same time jsr 292 was
coming out and I said well this is
probably the best way to implement it so
a combination of jsr 292 and attila is a
dynamic library we've actually been able
to manage to create a fairy very cool
JavaScript environment it's fully
compliant with equus script 5.51 it was
one of the first JVM or actually one of
the first javascript vm stacks that
should be able to pass the blinds test
and oh my we come to it seems me working
yo something came up from behind here
you mind repeating the hashtag for those
who are okay the hashtag is Nash Nasser
on Jas oh we're going to have a winner
here in a second who's going to be as I
said that it was fairly easy to do this
i've been i've been finding that it's
really easy to program Marcus oh no you
cheated okay i'm going to read gonna
reset it Marcus you have to stay at this
time I'll recite to give everybody a
chance here okay so Marcus you're not
have right now I'm guy right ok are you
now yeah although the exception is
actually an fx exception it does not
handle multiple screens on and that's a
bug in FX the Sun but my bug saw ok and
I know that I've been working on FX for
three years so anyway it's very cool
language to do prototyping in especially
since its syntax between JavaScript and
Java is fairly close and I found that
you know you could take a Java program
and converted over to JavaScript fairly
easily by hand even and going back the
other way so it's very good so i would
highly recommend it for prototyping and
here we go another race and another
thing I prototyped if you come to the
NASCAR and talk i actually created a
debugger from scratch in about three
weeks
all written in ass whore and using JD I
it was very cool and anybody inside was
pretty cool so ok thank you Jim let's
hit six even oh my that's pretty cool
you know it's that's a good demo oh by
the way you just gave me another spike
in the nests when gs3 trends yes all
right yeah so gentlemen what do you
think the rest of you any questions yeah
go ahead could you show just a few lines
of code is so evil yeah sure I should
have done that this can be a second here
okay quit all right let's go back to ya
yeah okay yes sir yeah so the coating is
pretty straightforward these are classes
that I'm using within so that's be
equivalent to your imports it's just
straight javascript programming I should
point out that this was actually a
multi-threaded example it was using
multithreading to collect the tweets and
timers for the animation it's a you know
very cool way to actually do Jeff Xu
it's very natural the same way as you
would use it in Java you would use it
here I think probably the some of the
things that would stand out would be the
fact that i'll scroll the bottom here
that when you work with jeff effects
beans are quite obvious you can actually
access beans in a very natural
javascript type away you can use cool
things that people use in javascript
like the dollar sign access or four
field so you so it's really easy to port
say the chrome experiment examples over
into jeff effects and a thorn and you'll
see that you have a much higher frame
rate in an s orange ffs so yeah so we
could thread right with the threads what
happens when you port this back to
javascript running in the browser uh
well that's not an issue because we're
not really targeting browser the browser
development but primarily targeting
server-side development and client-side
specific client side stuff if you've
been to the talk you'd see that you
could actually do a lot of do all your
shell scripting NJ in NASCAR so it's
it's not designed to target the browser
it also thank you give it up again for
Jim good job I just make the suggestion
that the little bison should wiggle
their legs when they wrote okay moving
on we have closure and steward if you
don't mind putting 60 a six or yeah it's
the perfect yeah and we will move on to
Stuart who's going to be representing
closure Stuart is your first time right
yes first time a little bit of nerves or
I'm really excited to be here all right
let's do it so just quickly as i begin
show of hands how many people are making
money writing code on the JVM not in
java show of hands in the audience
you're making money writing code i think
that that that kind of thing indicates
that we're all winners here today that
we have this group of languages that are
getting things done and it's just
terrific for the ecosystem i'm going to
talk about closure and particularly
about simplicity and power but i want to
start by talking about the opposite of
simplicity which is complexity
complexity is when things are braided
together that could have been separate a
traditional example of this is a
relational database where you have acid
transactions query indexing input output
and disks all together physically in a
process conceptually in the architecture
my enterprise example today is day Tomic
a database written enclosure and by
closure principles and atomic takes this
idea of the database and simplifies it
so instead of having all those pieces
bound together they're taken apart this
gives you a lot of advantages one
advantage is storage becomes pluggable
so you now have a database where you can
place things in sequel no sequel the
cloud a service a local disk or even in
memory for testing another advantage is
because query is a separable component
you can copy it as many times as you
want so you get not only reads
scalability but elastic read scalable
without giving up transactions another
benefit again because you can replicate
query is that you can serve
transactional analytic and batch loads
all from the same system so take all the
work that you did to copy those things
around forget about it and because
rights are separate from reads you can
tune them separately if you have a high
right load and a low read load or vice
versa you can turn those knobs
independently the dirty secret behind
all this though is that this loose
coupling and the day Tomic architecture
is impossible without immutability you
cannot build this way in a mutable
system and this is why closure is the
leading JVM language for immutability as
a default for the example today we're
going to use this topological freedom to
run a cloud application where almost all
of the application is running in the
cloud in AWS several thousand miles away
in u.s. East but the query engine is
running on my laptop we're going to use
data log as our query language as with
sequel data log has the Bennett benefit
over imperative or functional
programming that you specify what you
want not how to get it so the query that
we're going to do this is going to be
the musicbrainz database if you've ever
used it we're going to be looking up the
number of tracks for a particular artist
there's a couple of things I want to
call to your attention in this query the
first one is that you don't pass a
connection to query you pass a database
value and this database value is lazy
and immutable and potentially and in
fact in our example backed by the cloud
the second thing is how easy it is to do
joins in data log joins are just pattern
based so here you see the artist
variable appearing twice this joins from
name the name of the artist through
track artists to track to get the artist
tracks once we have this going we're
going to spread it out across multiple
users by using closures community Corps
async library async is a beautiful way
to do concurrency and it's based on the
1978 horror paper on communicating
sequential processes you can make a
channel you can in a blocking fashion
put something on a channel notice the
arrow pointing towards the channel you
can count on a blocking fashion take
something off the channel notice the
arrow pointing away and you can have a
go block which is a lightweight process
so this lightweight process
perpetually slurp something off of the
channel input and puts it on the output
channel so let's go do it so i am going
to load the diatomic library the core
async library and data generators which
we're going to use for some random
sampling then i'm going to connect to a
database in the cloud notice that i
don't talk to the connection after this
i'm going to talk to the value of the
database i'm going to then load the
query that i showed you and just prove
that it works 50 310 tracks in
musicbrainz from bruce springsteen
notice how fast that was by the way then
remember that the data in some sense
lives in amazon us east now because i
want to not test things against specific
like specific examples i'm going to grab
a whole bunch of artists the datums API
lets me walk there all index of the
database map v pulls out the values and
if you're familiar with reservoir
sampling this is going to grab 10,000 of
the sum approximately a million artists
in the database so grab those just grab
a few to prove that we have some and now
we're ready to go asynchronous so we're
going to create a channel to capture our
results and they're going to simulate
one user doing a thousand different
queries so go block is one thread a
thousand times we're going to select an
artist at random and then we're going to
do the query and then we're going to a
synchronously place that into the result
channel take allows you to take things
off the result channel and apply a
function to them so we'll print some of
these items let's find somebody with a
non-trivial number of tracks there was a
lot of guys with not many tracks now
I've looked at a few of those let's just
go ahead and grab all of them I'm going
to create a second concurrent go block
that's going to loop counting up all the
results that we have as long as there
are results left we're going to recur
increment incrementing the count
otherwise return the count now I'm going
to close the channel and we can verify
that I had pulled off nine by hand and
there's the other 991 now let's do
something interesting let's expand this
laptop that i'm using right here to
handle a hundred thousand concurrent
users showing up at once there there's a
channel that's now buffered to allow
only a hundred thousand concurrent users
and now i'm going to create a real
thread notice that looks this looks a
lot like the go block but
thread and double bangs so this is a
real operating system thread and now i'm
going to create 100,000 lightweight
threads one minute start them going now
in a lot of JVM environments if i had
created at 100,000 real threads all
kinds of badness would have ensued but
because these are not real threads i can
make an enormous number of them and we
can see we have all of our answers back
and remember this is all happening on
this laptop i can scale this
horizontally to as many other boxes as i
want so what have you seen immutability
enables architecture unless you build
things like de Tomic that could not be
built any other way closure is fast
enough that you can build the very
bottom of your stack including for
example the database closure has not one
but multiple embedded logic programming
languages so you can move up a power
level on the programming language chain
and notice that the reactive concurrency
does not require callbacks callbacks are
all the rage right now and call back sin
and is fine but the go blocks allow you
to do sequential blocks and then
interleave them concurrency concurrently
and by the way I showed you that it runs
in the browser no actually I didn't so
let me show you it running in the
browser here I'm going to have a thread
putting blue on a channel and there's
actually a channel here that's just
slurping things often printing them
that's sleeping for a second and putting
something on the channel here's a thread
putting red on the channel or green on
the channel half as fast so you'll see
they'll be interleaved not as often and
then there's red so there's concurrent
programming delivered all the way to the
browser remember this is not a
server-side application this is actually
closure script running in the browser
and then finally just because you want I
candy here's an example of a project
that we did for a client this is
end-to-end closure the database is de
Tomic the server tier is closure the
application tier is closure and this is
all being drawn in the browser with
javascript and this is real-time
visualization of product launch in an
online store and if I make it full
screen actually get a little bit bigger
and you'll see each one of those circles
represents a difference
state and all the little glowing dots
represent customers moving from state to
state so this is an operational
dashboard and it demonstrates doing
something that is pretty amazing which
is using closure as the development
language all the way up and down the
stack thank you all right I'm really
impressed by the diversity of the demos
this year looks like you people have put
in the work this year all right um so
you know moving on from closure the
Moulin de Skala dick wall is this your
four-time fifth time I think this is
number four yeah okay yeah oh so welcome
dick again and dick take it away okay
see if I have a screen yeah okay good
okay so as ranks mentioned this is my
fourth time doing this the last three
times I've talked about Scarlett as a
scripting language it may not surprise
you to learn that scholar is not
primarily a scripting language and so
this year I decided to buck the trend
and I'm going to talk about all the
things in Scala that are really cool
that are not scripting so I just decided
to make up the rules as I went Scala it
turns out has a fantastic static typing
system a very very complete one which
Guillen was nice enough to set me up
with a perfect segue into that so we're
going to have a quick explore about some
of the things that you can do when you
have a typing system like this here is a
very simple demo this is the kind of
thing that I'm sure you guys have all
seen imagine a database this is a fake
database you can save things that are
persistent inside of the database and
we're going to make the requirement that
you can only save something if it's
never been saved before okay so we've
got this requirement in there that the
objects the object is on not already in
the database you can only update
something if it has been saved in there
so we're going to require that if you
call an update on it and it doesn't
contain that object you get an error and
we've got to find down here
another nice segue for setup from
Guillaume was immutability right down at
the bottom here we have something called
a case class these are lovely
boilerplate Buster's in Scala and they
are default oh by default they are
immutable so you don't even need the app
immutable on these guys it's completely
immutable you do you do have to have the
case that's stuck in front yes okay fair
enough but anyway the the idea is that
immutability is the default in Scala not
the not the ask so I seeing this used
let's have a quick look in the test code
for this guy and I would recommend at
this point anybody curious about scholar
who hasn't used it yet try writing some
tests in it I think you'll find that the
testing libraries are good it's an easy
way to get a very low cost way to get
some scanner experience here is a spec
for that and you can see here for
example i'm creating a person one and a
person to i can save the person one but
if i try and save a person to with the
same ID i'm expecting to get an illegal
argument exception in here in other
words my my precondition has failed a
couple of other things if i try and
update something that's never been saved
once again I'm expecting a failure so
that's all you know kind of what you'd
expect out of a system that everything
is checked at runtime but what if i told
you that the compiler can do this for
you so i'm going to go ahead and check
out the phantom branch actually i'm
going to do that by going up here and
let's have a quick look at how that
changes things so this is going ahead
and recompiling stuff let's have a quick
look at some of the changes I've made to
the code first so my fake DB now does a
couple of things differently you'll
notice I've got a couple of traits down
here I've got a persist abul I've got a
persisted trait and a not yet persisted
trait and these extend persist of all up
here I now say that when I save
something it has to be not yet persisted
okay so I've actually told the compiler
i don't i'm not going to take anything
unless it's not been saved yet in the
database when I do an update I tell it
it has to have been persisted or
when I do a find what I give back is a
type of that item a the the generic that
I've got with persisted attached to it
these things are called phantom types
and a phantom type in a nutshell is a
type that really doesn't have any
instance at runtime it doesn't have any
behavior it's a type that exists for the
sake of having a type okay and it's a
type that exists for the convenience of
the compiler to be able to check stuff
and down here you can see I've got to
create and the create takes the item
that is the person or the the persistent
item sorry I'm having better trouble
with scrolling here and what it returns
is a person with not yet persisted okay
so when I create something hasn't been
persisted yet when I do an updated it
gives me back a person with persisted
and it takes a person with persisted ok
so my my test now if I come over here
this is the beauty of this so now if I
go ahead and tell it to say if this is
going to recompile and shortly
unfortunately I had to go to my backup
computer which is not quite as fast so
give it a couple of seconds to compile
here ah there we go beautiful so you'll
now see that a couple of these things
have compile errors against them and
effectively what I've done is taken
something that was a runtime error and
moved it into compile time and this is
pretty profound there's a number of
advantages to this one is you get error
messages back very early in the process
in your IDE people can say you can't
save this it hasn't been or you can't
save this has already been saved or you
can't update this because it's never
been saved that's in the type system now
it's not at the runtime the second thing
that's a big win is you can now take out
those runtime checks and you've just
improved the performance of your code
when it is half Oh crikey right I better
move on to my second second demo okay
very quickly then moving up the second
demo that was phantom types got that
time goes quick alright so this one I'm
going to go straight to the
implementation then if I've got that
little time so
java java one to get check out type
classes all right so this one let's have
a look at what we've got i would have
shown you the original i'll get i guess
i'll get to show you it in some form
here because it's still in there i
created a marriage marriage has been in
the news a lot recently particularly in
california for various reasons equal
rights and all that sort of thing i
created a marriage function called
permissive and this basically takes any
two entities and lets them get married
then I've got a strict marriage okay in
a strict marriage requires evidence of
something called can marry and this is
known as a type class and in fact in
this case it's a tight class with to
type parameters what it means is that
this will only compile if I've provided
evidence that the first type can marry
the second type so if we have a look
down here I can see my entities a man
woman dog and cat you can see where this
is going let's have a look at Texas law
first of all so Texas law is pretty
strict I'm not I'm not forming any
judgments on this but Texas law pretty
much lets a man marry a woman and a
woman Mary man and that's that he a lot
so this is the definition for these i
can say man and woman extends can marry
man and woman and woman and man down
here i've got a lot of time so i'm going
to jump straight ahead to California law
California law now let's a man marry a
man and a woman marry a woman and also
i'm just showing off the scholar syntax
here when you have a type class with
with to embedded types in it you can
actually use this infix notation which
makes it read very nicely so this is
exactly the same as saying can marry man
and woman but you can just say man can
marry woman so these are the law
definitions if I now go out to my test
class and save it let it compile for a
second we should see oh these are the
permissive ones up here they work fine
yeah as you'd expect down here actually
let's just go ahead and import Texas law
so we're going to bring in the Texas law
these are the definitions of those of
those rules and I save it and why is it
not comply don't tell me you're going to
say dog can matter you a man or
something like that ah so yeah I'm
waiting for hopefully the let's let's
just force the test to start here why
have I not got it's it's slowly
compiling it didn't pick up my changes
quickly enough hopefully in a couple of
seconds oh god the demo is killing me
anyway so the idea with this is that
it's now trying to marry a man and woman
together and texas law has an implicit
rule defined for that and it will allow
it i'm hoping that this will catch up
with my talking let's see what these
guys are doing here really slowly you're
killing me scholar here we go in in
fairness this runs a lot better on my
liquid called machine at home than it
does on my tripoli pc demo machine but
it is it is coming in it's it's coming
into the code right hopefully in a
second here we'll see some red show up
anyway so texas law will allow when it
comes back these first two to actually
compile the second and third ones the
marrying man and man and woman and woman
will not compile those will give errors
and then i'll get the final one queued
up here i'll put it in the comment for
now this is the that the fun one so what
happens in vegas stays in vegas and in a
second alarm by the way this is a great
opportunity to talk about the tool I'm
using which is the community around this
is called type-safe activator and if
you're looking to experiment with
Scarlett I strongly recommend taking a
look at this am i running out of time
rags yeah you are yeah why don't want to
do this it's finally feeling any
question from the gentleman you know
let's let's cue it up and yes
yeah we can get back to I can get my yes
any questions from dick you know apart
from marriage laws and all that you know
thankfully it's not the goal net
anywhere no questions ok so you want to
cut back to your screen look at some
it's still grinding away let's see what
the the tests are doing here all right
there we go compiling are you guys you
guys I guess I have one question do you
ever think it's the case that a compiler
slows down development I will I will
simply say that my primary computer here
we go finally my primary computer did
not manage to catch up with the or
didn't work with the presentation thing
so I'm I'm running on a little tripoli
pc which has a you know an n550 atom
processor in it this is not the ideal
scarlet development environment is all
i'll say yes i think i should get extra
points good slide compiling well now I
you see now that's my point is we have
this tool okay so you can see now that
there's there's compile errors for these
guys and when I bring in what happens in
Vegas stays in Vegas they disappear so
basically what happens in Vegas stays in
Vegas is a let me show you that again
it's nice and fast now it's going a lot
quicker but if I show you what happens
in Vegas stays in Vegas any second now
any second now come on give me some red
anyway let me show you the definition of
this guy so what happens in Vegas stays
in Vegas is very permissive it simply
says all entities can marry one another
so there's one that's one definition all
right thank you to eskimo adults so I
know you guys are reading for this
moment where we're going to crown a
winner and we're going to what one
language out of the island right but but
please be patient we have about ten more
minutes you know I know you all wanted
to go to the party right but but you
know you're voting is definitely going
to be influenced by the questions and
answers right so so feel free to throw
anything these gentlemen have pretty
thick skins you know some of them have
been on the script ball at quite a few
times and some of them you know just
make sure that they don't come back but
ask them the tough questions okay all
right over there can you use their a mic
error checking can you get it Mike no
Mike ok so just yell it out i will i
will repeat the question as much who has
the best android support is the question
i can I i will say that i don't believe
Scala has the best android support has
some very interesting capabilities when
it comes to android but it also has one
big liability which is the scholar
runtime which is kind of the value
proposition you really want it in there
but it's big and you either need
something like program to strip it down
or you end up with a six megabyte chunk
or lump in your in your Android
application so it's really nice to
program Android in Scala but it produces
big binaries or slow compile times I
don't know what the story's like on the
other underscores javascript runs
everywhere all right so Rhino runs
everywhere or natural yeah well
javascript burns alright cool ok next
question
okay I I can assure you that I didn't do
anything to rig it okay ne ne you know
resemblances or whatever they say is
purely coincidental okay so anyway I
don't think that's going to affect the
voting does it or maybe it does anyway
let's move on next question not any
comments on that I think JavaScript
makes a great compilation target yeah
all right we got next question no
questions I can go back to that previous
one which was I've been working on
typesafe activator to provide some
community provided changes and stuff
like that one of the ones that I wanted
to do was get automatic linkback of test
failures into the into the tool when I
discovered that I'd have to do
javascript to do that my motivation went
way the hell down and I went and got
bear instead sorry some yes somebody's
trying to differentiate himself no okay
moving on any other questions are we
ready to crown a winner yeah ready no
questions Wow all right I'm really
surprised Wow okay I'm gonna go in in no
particular order okay so let's go with
closure how many people okay good pretty
good all right project Nash on
we're good Reagan okay gree looking
pretty good all right and moving on to
scala yeah okay close enough I'm now
gonna announce the winner right now but
let's look at the loser now okay so say
so it's a beautiful error messages that
you get now when when somebody can't
marry our I'm trying here I'm trying all
right for this you're gonna boo or you
know do whatever it is to express your
displeasure okay so so the louder you
boo you know the chances of that
language getting booted out for next
year you know he's going to be higher
okay so are you guys ready I know it's
tough right now it's tough but let's do
it anyway let's go with Scala and de
quoi who is that is that all right
moving on closure and Stu Stu Holloway
all right moving on we will go to James
so Jim Jim man project night Ron right
now we're a few boos hmm I thought I I
thought your demo was actually really
really pretty and clever I will say I I
want to play that game even though the
lot lakes don't move on the buy side
visa yeah I think I think JavaScript
servers from immediate
all right moving on gimm and groovy any
booze nobody stereo Wow ok I really find
it hard to boot anybody from the island
how about jruby the one that didn't show
up I will I will cop out i will i will
come Ruby them in our game</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>