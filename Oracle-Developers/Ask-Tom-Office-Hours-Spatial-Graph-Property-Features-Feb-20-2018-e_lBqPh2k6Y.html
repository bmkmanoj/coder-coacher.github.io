<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Ask Tom Office Hours: Spatial &amp; Graph: Property Features - Feb 20, 2018 | Coder Coacher - Coaching Coders</title><meta content="Ask Tom Office Hours: Spatial &amp; Graph: Property Features - Feb 20, 2018 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Ask Tom Office Hours: Spatial &amp; Graph: Property Features - Feb 20, 2018</b></h2><h5 class="post__date">2018-03-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/e_lBqPh2k6Y" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">get going here yeah Xavier I guess feel
free to take it away I see a good number
of participants dialed into the zoom and
online about 12 or so so yeah whenever
you're ready okay great okay well thanks
everybody for showing up for this estan
session so first I'd like to introduce
myself
my name is Javier Lopez I am product
manager for Oracle spatial and graph
products joining me for this this
session will be Allen woo
who will was waving there I'll be doing
the demo so he'll introduce himself a
little bit further when he kicks into
his demo section and Jean am also on the
facial and product team there so first
I'd like to take care a couple of
housekeeping items so once again this is
an ask Tom office our session for
property graph so each we'd like to hear
more and we'd like to provide you a
little bit more each month about some of
the some of the things that we're doing
with property graph some of the new
developments and new directions but also
more importantly we wanted to be able to
take your your questions so this is an
opportunity to ask questions on this
topic so we'll start off with a short
presentation
well do a short presentation on some of
the agenda items here at the graph
database concepts use cases and some of
the features so we'll take some
questions at the end of that but if
you've got something dying we've put
that in the chat and then we'll we'll
take those questions as we have time
there then we'll transition into a demo
the rule will give you an example of
some of the applications and what you
can do with the property graph what our
customers are actually doing this as
well so we've got your lines muted so
please use the chat to ask your question
and remember we can't ask we can't
discuss any apps of ours or bug reports
or licensing issues also if you post
code into the chat remember that
everyone can see it
unless you direct it specifically to the
hook so so let's begin
we'll start off with the little bit of
an overview on the products themselves
so this is the Oracle spatial and graph
product this is for the database that's
really what we're going to focus this
particular session on its we're going to
just focus on the property graph support
for the database this was introduced two
years ago it also has an RDF graph
feature we won't go into discussion on
that and this topic in this session but
we just want to let you know that that
graph data management capabilities there
it's been there for about nine to ten
years now on that on the right side we
also have property grab capability on
the Oracle Big Data spatial and graph so
so this is basically to support those
customers that want to provide or that
need graph analytics graph data
management but are running on non
relational system so Hadoop HBase Oracle
no sequel so we've provided the graph
data management graph analytics on that
so so these are this is the context of
the session today we're going to is
going to orient more toward the database
of the selection on the on the left
there but what's the same on both of
those products and including the cloud
services the database cloud service and
the Big Data cloud service is the
analytics and and some of the features
that are there here so what
differentiates us in in the marketplace
is one scalability and performance
whether we're leveraging the Oracle
database or the Big Data the Big Data
platforms on that the other key
differentiator is the ability to perform
graph analytics and we'll go into detail
on that and see we'll give you some
examples of applying graph analytics
power of that graph visualization as
well I see some screenshots there of a
cytoscape which is one of the open
source tools that we use the property
graph query language Oracle is one of
the only of two key graph database
vendors that has support for a
declarative query language on that then
we have standard interfaces for
developers that want to basically build
applications on their build-a-bride
analytical applications on their
property grab grab use on relational
data and then integration with machine
learning tools okay next slide so for
those of you coming from a relational
world graph may seem a little bit
different and so we wanted to sort of
dispel that notion that the graphs are
just another way of representing data
and in this example another way of
representing relational data so we'll
get to the why you want to model and
graph but essentially in this example
here we're just taking relational data
in this case columns people memberships
and Department and representing it
differently we're representing it as a
graph made up of nodes and links so in
this example the people are nodes so
example of Tom and the department are
also nose and so we want to basically
find out the relationship between people
and departments and we use membership
those are the links to basically
identify the relationship and that's
really the key part of graphs is
performing relationship analysis or
applying graph analysis on relationships
that are inherently in your data but
they're not very easy to to execute
sequel queries on so a way to do that is
to basically remodel your relational
data as a graph in order to carry out
very efficient graph analytics
particularly in memory on that that's
really what we're going to focus on here
so another deeper step into the graph
data model again it's about nodes and
links or vertices and edges so each
vertex has unique identifier names or it
could be an ID it actually has a set of
in-and-out edges that come in and out of
that so basically represent its location
in a broader network and then there's a
collection of key-value pair properties
as well the same applies for the edges
each edge has unique identifiers each
edge
that represents the heads or tails of
vertex on on each end and then the
labels denoting the type of relationship
that it has between those two two
vertices on that and again it's a
collection of key-value properties and
the way the reason you'd want to do this
and the reason you've seen growth in
graph data management graph analytics is
to apply analysis or to gain business
insight on a lot of big data problems to
identify influencers in a large
collection of social media of these or
for media companies to find patterns in
purchasing behavior by their customers
you know which types of customers are
buying which types of product or being
able to identify a group customers
basically based on theirs those are
patterns of behavior whether it's
communication things they buy services
that they opt-in or and then also for
generating recommendation instances as
well so as an example I wanted to walk
through a couple of our customers and
financial services
we've got Galicia in Argentina who's
essentially takes their relational data
and this is in their exudative and
basically remodeling it as a network of
product services people in places what
they want to do is they want to analyze
the flow of transactions between the
bank elisa and Nan back and count they
want to see if some of those non bank
account services they can provide so
they want to understand where money is
leaving their accounts and also where
money is coming in for a particular
individual account folder so they
combine their CRM data with social media
data and other enterprise data to get a
better handle on the transactions that
there are customers and their their
business entities that our customers are
undertaking they want to identify
high-value customers across their
business divisions and they're doing
this essentially to improve their
services provide you services and
provide real-time recommendations
the bank in the same the same areas on
Sunday Rios is doing the same thing
they're basically trying to identify
money flows into prospective customers
so they model it again as a graph to be
able to analyze it as a graph very
efficiently but also to in this case
that visualize those transactions that
going going forward and then a third use
case is a Chinese provincial tax office
that that's we've been working with the
last two years tend to the same approach
they want to model relationships in this
case between individuals and
corporations but the purpose is
different it's a tax office they want
identified text tax fraud so they bring
into account a lot of other data social
media web content publicly available
open data as well so this use case is
very similar to the Panama papers where
they bring in a lot of non tax or non
internal tax data and link it to that in
a graph extend their graph to be able to
get a better picture of the tax payer
Network in in this case in that province
anyone understand the tax payer
relationship to other taxpayers the
company structure is associated with the
directors and their shareholders I may
want to identify relevant intermediaries
that may be acting on behalf of those
tax payers so in short they want to
explore tax evasion fraud and if they
identify something perhaps trigger a
formal case of investigation if they see
something something fishy and Alan Wu
will give you an example of just this
use case right here because it is a sort
of a compelling use case that we're
seeing more and more and then finally
cyber network modeling analysis again
same approach in this case the entities
are a little different
you've got servers you got witches
you've got storage you got firewalls
those are the those are the nodes and
you want to find out okay what's the
relationship between them and what's
going on in the network so you want to
basically analyze the network behavior
so first you model it and then you apply
different types of analysis on that
reachability analysis for example impact
intrusion detection on your on your
network on that
so those are different examples that we
see pretty routinely with graph data
management so what these customers are
using is one of the to two products I've
highlighted in red the database version
of Oracle spatial and graph or the
property graph on on the database so
we'll focus on that for this session and
so with from an architectural
perspective you got the data stored in
the Oracle database the links and the
nodes think of them as table a table a
skinny table of links of skinny table of
nodes stored in a relational database
sources optimized and then we have a
data access layer to allow application
developers to query that data or fetch
that data or filter the data from the
database and then the the key parts is
the graph analytics so we have an
in-memory graph analytics tool that
performs the analysis in memory the data
is fetched on the data storage layer and
then analysis or queries is executed in
the graph analytics layer visualization
can be extended through cytoscape on the
upper left and there that's an open
source a graph visualization to the
creative plugin or you can use your
favorite third-party web-based graph
visualization tool and then of course
you can integrate it with other big data
type of applications if they're in the
big data space using using our our
frames to basically move the graph data
into that environment or vice vice versa
so I'll drill down a little bit into
these features and I think in future
asked on sessions we're going to go into
some of these specific features but for
now this is our first one on graph
wanted to be able to sort of lay the
plant landscape on the key features that
we have on this product so the the OLAP
capability is essentially a parallel in
memory graph analytics engine called PGX
send in memory parallel framework for
analytics fetches the data from the
database that aren't on the other
product big data spatial and graph you
can test the additional
equal database an Oracle no sequel
database or HBase so it handles the
analytical workloads
well the database handles the
transactional workloads here so it's an
example of the graphic of the two types
of workloads that we support and of
course the PG action support multiple
users multiple graphs and it has dozens
of graph analytical functions so I'd
like to just sort of illustrate some of
them for you so for those of you that
are that are into analytics graph
analytics machine learning these are
these are the categories of graph
analytics that are built into the PGX
package so detecting community
components walking and ranking the graph
path winding evaluating community
structures link prediction and other
specific type of graph analytics and
these analysis analytics algorithms are
being extended with each release so as
we get customer feedback we incorporate
new new analytics to help them support
their their their different
functionality and of course the knee on
the right side we can we can mutate the
graph we create different types of graph
you can filter the graph we can sort we
can create by chart bipartite graphs as
well another powerful functionalities of
PGX I mentioned earlier is a property
graph query language this is a
declarative query language for graph so
this allows us to issue more expressive
queries on your graph data whether it's
PGX or on the database to to get
powerful powerful results as opposed to
extending just just the API the API
layer so we have the API layers and this
PG QL and this is being introduced into
the ISO communities for Standardization
as well these are some of the api's that
are available for application developers
of blueprints gremlin register those are
very common in the graph community graph
graph database open source community got
a groovy shell REST API s and of course
the BG QL that we just just mentioned
and then in graph analysis visualization
is very important
because the relationships between links
and nodes is very intuitive and you want
to be able to see that relationship
rather than just getting results table
results for example so we've built in
integration with a variety of
third-party visualization tools out of
the box we provide a plug-in for
cytoscape which is a graph visualization
tool open source for our visualization
tool but there's a number of commercial
graph visualization tools as well that
that have integration as well so
luxurious key lines are very powerful
libraries java-based javascript based
libraries to develop web-based to graph
visualization and then centrifuge is
more of a graph application and then
there's additional libraries as well
provided a Zeppelin front-end to this
for so analysts that more focusing on
the analytical nature of a wing queries
so basically a Zeppelin Apache Zeppelin
notebook for data analysis renders the
execution results applause tables and
browsers you can incorporate queries
from within this this browser who
created a PGX hook for the Zeppelin
integration there Zeppelin interpreter
so now I'd like to turn it over to the
feed but before I do I wanted to
highlight one of our key resources which
is the our graph blog which is there
this is it right here can you see it the
energy is that highlighted it looks good
okay yeah so this is uh this is a
current blog right now which is list
some of the developer oriented materials
there but so we've got a couple of
announcements here which we'll go into
at the end of this session but I think
this is a good resource for some of you
that are that are just getting started
with with this resource there's actually
a good one here getting started creating
property graph on Oracle database so
that's a really good example if you want
to after taking this session be able to
get started I encourage you to take that
one there's also another of getting
started as well that it's lower down
on the list there so with that I'll turn
it over to Z who will go on with a demo
illustrating what you can actually do
with property graph databases okay
Thank You Xavier come can you see my
screen yeah okay so uh I actually have
two demos for today depending on how
many questions were going to get and so
I prefer to show a tax fraud demo using
graph and graph you know database
visualization capabilities and then
you've time permits I will show some of
the core function in Oracle database on
Oracle spatial and graph okay let's get
started um is the founder okay the sighs
okay yeah if you can make it a little
bigger that would help
um okay so I will first describe it and
when we get to the at your stats we'll
see whether it's you know because the
screen size changes a little bit okay
okay um so this is tax fraud the setup
is um so basically we got a request from
a large tax department in China um the
department is monitoring all kinds of
you know payment transactions right
between a buyer and the seller okay and
they noticed sometimes there's some you
know suspicious activities in the data
like for example if I pay you know some
money to a different person that person
pays the money to yet another person and
money then eventually goes back to the
sort of you know cycle or loop right in
the pain and they tried different
approaches and they they're not too
happy with the with the performance or
efficiency of those approaches and then
they come to us saying that hey this is
our problem can you figure out a
solution and then we build a QC together
under a few steps of the
of this demo so the first step is to you
know we understand the data you can see
on the screen there are four blocks here
the left one shows the the saw state and
payment data in a CSV form comma
separated body basically in each nine in
each record you will see a buyer without
the Foskett is the real data but they
sort of changed the buyer name and sell
any or the other fields are real
meaningful data and in each truck or
your cigar buyer and seller and some
additional information or that
transaction basically we took that data
as a CSV file a and we apply one of the
buting utilities that we have this
utility is able to convert from a CSV
into a graph okay such a utility utility
because is in both Argo station graph
and also the pivot eight aside dictator
special now we have a graph right as
Javier mentioned that you know one can
run graph analytics and the graph query
we apply both analytics and graph query
to detect such a you know cycles in this
graph because if you think about it
right this circular payment is nothing
but just to detect a circle in the graph
once we detect the graph on the next
step is to visualize it because you
visualize something visualize your data
right you can really gain insight into
the data so this is the sort of virtual
machine that we have one can use this
virtual machine to play with all kinds
of graphs database technologies here we
are looking at the source data in CSV
format it's nine starting from here to
the to the end of your three essentially
is one record of a transaction as you
can see there are some Unicode there
some Chinese characters um but without
going into the details
important thing is it annoying records a
buyer and seller and some other
additional information of that
particular transaction so we're going to
apply the utility right and then we get
a graph okay so the next step is to load
up the graph into the graph database
here we are showing the backend one of
the backend on Big Data Platform but the
steps are more less the same for Oracle
database as well so here these two files
right for each graph we rock on we
essentially serialize the graph into the
so-called Oracle flat fires and there
are para fires one is for vortices there
are these four edges okay we loaded up
using a single Java API call now we have
all the graph data in the database they
can counter vertices so they're about
33,000 vertices okay so each vertex
represents either a buyer or a seller
council comes the edges in this graph in
this particular graph model we model
each transaction a as an edge so a
transaction is between a buyer and the
seller so you have two vertices and edge
linking this to individual as Javier
mentioned that we have this powerful in
murmuring analytical engine TGX
so this graph data now sitting or
sitting one of the back-end databases so
we're going to read it out into the into
PDX so using this API called real graph
with properties so all those details are
you can found you can find them on the
dev guide and Javadoc okay so let's see
the first pgk or query okay we start
something really simple
a loop repeating to person say a jump a
snap Mary pace back to jail okay so the
only two vertices in cycle so here we
see an example of pgl queries they'll
act so is the first line on the screen
select n comma M well and you know point
to this a little bit of ASCII art here
2n via edge M so if you are familiar
with sicko syntax you appreciate that
you know there's a lot of key words you
cannot hear the audio unclear a Chuck
can hear it okay sorry guys my colleague
is just stepping saying that she had
trouble with hearing my audio um so what
we run where was I the surco syntax
right as you can see in this particular
particular query we have select which
gives you the projection variables right
and a well class in the world class part
you define the query patterns and also
constraint and filter condition okay so
we run this right you see the bindings
to these two variables
nm so basically individuals like who are
you know participating in this
particular pattern right from A to B and
be back to a okay we see very quickly
within a few milliseconds you see all
those bindings okay move on so they're
about you know so we just saw an example
of you know from n to M right now you
want to say hey you know can I see a
bigger cycle right so now I'm showing
you from n to M - all right so there are
three individuals involved and actually
so from A to B to C cpap to a okay if
you look at the query if you read it
this is really intuitive is justifying a
pattern and then add some constraints
you have a select
class certifying you know what
particular variables you want to read
out is very similar to sequel tags and
so this result shows you all those
bindings potential values right to those
individuals that participate in this
particular sort of business activities
okay
now so you have seen all those you know
commands raised this is the actual Java
code right Java API calls to find all
those candidates to this fraud
fraudulent activity now let's just try
to visualize them after all one of the
key strengths of doing graph is to
visualize your data so here we are using
a so called cytoscape is open source
network visualization tor and for which
we develop a very nice plugging okay so
using this tool you can talk to the
graph backend database and then read out
the graph data on the fly and also you
invoke the either PG Carol graph query
functions on the graph analytical
function so here you're looking at the
aside escape UI this is entry point you
define the graph name you enter the
hostname and you know the connection
information to the backend database okay
we are selecting this payment graph the
graph is record the transactions between
buyers and sellers we start the
visualization with a PG ko query okay um
there are many ways to start a
visualization your facing about it when
you are dealing with a brand-new graph
what do you do you can run them they
pick a few vertices to say hey you
visualize those vertices and do some
expansion from there right but in this
particular case because we have a career
user in mind we want to detect cycles in
this graph right so we start with the
results execution result of a particular
query if you look at the other screen
right there's the tax
again typing a pgpr query in this is
severe the to hop Pacheco query right
from n to M right we make sure this two
are not the same so we run this query
and you add all those additional
properties required by this query and as
you can see now we visualize the data on
the screen that's assuming a little bit
so here you see two individuals their
names have been obfuscated you know for
security reasons and there are
transactions across these two
individuals right from the top of
attacks which is a one particular buyer
or seller right and to another
individual which is the bottom vertex
there are two transactions to part from
you know from the top of attacks to the
bottom one and also the two part from
transactions from the bottom one to the
top one they form cycles obviously you
can also because this is the property
graph you can show the properties on
most of our edges and the edges so now
although in this particular case there
is only a limited number of edges across
them right but we cytoscape there's this
nice feature called collapsing right you
can collapse all those edges right from
what X a to vertex B into a single edge
this give you much clean of view as you
can see now to denote array how many
edges have been collapsed into a single
one and we put a number on the edge
label so from top one to the bottom one
you see a red edge right bought from and
we put it number two on the edge so you
haven't you know idea you can actually
how many transactions are from this
particular but has to the other one
so this is the case of two two edge loop
right okay so let's look at other more
sophisticated case so three hops okay
from end to end too old right so there's
three individuals involved in this
particular activities and then go back
to their form I do so we run this
physical query we find all those
bindings so this is three individuals
participate a this particular pattern
okay
basically they're the result of the PDK
execution we can expand okay all those
transactions among these three
individuals okay so there's an the one
that you see the two vertices on the
bottom and one in the middle so now we
expand all those transactions right
among those three individuals you see a
beautiful butterfly
so this is the one of the crossings of a
graph I know you know from time to time
you see the winning beautiful beautiful
graph so you can see all those edges
across them those are apart from
relationships by using the same collapse
functions I just described so now we
have much cleaner view right so as you
can see from the top of attacks from
this particular individual to the vertex
on the right there are 21 part from
relationships there's 21 transactions
and if you follow the the edges in
Grutter color you clearly you can see a
loop right a circular payment
okay so now you may wonder you know so
hey you have found me some candidates
those are excellent right but can I see
you know those adjacent what it is
behavior now from those three vertices
let's find their friends behavior right
so what we are doing now is to do a very
simple navigation on the graph so
starting from this three vertices right
on this triangle we expand cooling you
know adjacent vertices and edges with
you expansion let's take a look as you
can see we are reading a lot more
vertices and edges on the screen
basically we just go to the backend
database
I say hey finding me neighbors right for
those sweeper disease either incoming
edges or outgoing edge so now we have a
whole lot more of edges on the screen I
guess a little bit cluttered
now let me pause for one second and
describe what we have done so far okay
so so far we have been using PGP or
proper graph query language to detect
patterns detect this cycle when the too
hard was three hop off of all four hops
right but it's kind of hard to say hey I
want detect n hops a cycle we want to
project the whole cycle right we don't
care how long the cycle is it could be
10 could it be 11 we want to find all of
them okay so for that kind of
requirement it's a bit hard to use pgq
well because over there you have a
define our sort of you know exact
pattern so now we are switching to use
the graph analytics okay on to detect
cycles now the algorithm we are using is
called strongly connected components
because if you think about it if there
is a cycle ray from A to B to C all the
way to another say is leaf right back to
a right we don't care about how many
hops but they are they form a loop so
there would be in one strongly connected
component so we run this algorithm again
this is you know to use the PG x-ray on
the in memory and analytical engine and
is able to then highlight all those
vertices that exist in a in the same SCC
in the same cluster so on the swing you
will see this reproduces right in this
particular data set right there's only
three in this SEC in this journey
connected component so we there's no
half that is longer than 3 there's no
circle that is longer than three hops
away so again we are using collapsing
right to get a clean love you
so if you follow this red edges where
you clearly see a cycle the difference
here is that this cycle is now detected
using a strongly connected component
which is able to find you know circles
with three halves for hubs are all the
way to end now hopefully this gives you
an idea of this you know graph database
by graph data modeling and also
visualization so how one can combine
rough query graph analytics and
visualization to really gain insight
into the data okay any questions so far
okay some people want to see share the
demo video if not I'd like to move on to
the second demo
so this first demo is about a particular
use case a how one can detect a fraud
okay potential fraudulent activities in
taxes set up right um so let's move on
to the second demo which shows some of
the key features of our course patient
graph property graph our cost efficient
graph is an option offered by Oracle
database and price addition so this is
separate option and here we are using a
small social network is called the
connections graph right the data
original data was from Time magazine a
couple of years ago basically the define
they find some important people as you
can see these are some familiar faces on
this slide and also including some
companies like a Google Facebook and
most importantly on the interactions
vary among those individuals and
companies there are four distinct
relationships so here in the in this
small rectangular box way you will see
four kinds of different ideas play the
lead relationship collaborates fuse
admirer
so they capture you know sort of some
interesting relationships in this
relatively small social network okay so
this is assuming a particular one the
shows we collaborate and admires
relationships among a few famous people
like Charlie Rose and Matthew and humans
Academy now their few key steps right of
this uh of this particular demo the goal
is to understand some of the key
functions and to show some of the API
cause of the PGX in memory analyst just
some Python interface is happening
interface and a little bit of
visualization using cytoscape right and
we're going to start with you know
connecting to our code database right
here we we are using Oracle database 12
to and upcoming version is aging bond
which is I think is getting really
really close to to release we are going
to load up with the graph data using
groovy Java right a groovy is a nice
lead user tool we are using to run Java
code snippet it's very convenient
step three is about you know creating
taxing tax so that you can easily find
vertices or edges array of interest is
imagine if you have a huge graph with
lots and lots of different properties
right and you want to do visualization
or you want to do some graph analytics
like well do you start
so those text query allows you to
pinpoint because actual attacks or put a
sales letter of interest step four is
the wrong graph analytical functions to
measure clustering coefficient right how
tight this graph is and also to find the
shortest path by between individuals and
we can visualize find top ten
influencers
influences here is defined as you know
those witnesses right have the highest
PageRank Valley step six is to you know
now we have social graph you know can we
chop it off right into different chunks
into small communities and the last two
steps are using big data's equal to
essentially who can analyze property
graph data and starting Oracle database
right and to use Zeppelin notebook right
this is a very nice notebook environment
right you can in the notebook you can
now type in some Java code and you know
do some code snippets run those code and
also visualize that right all in the
same webpage it's very convenient it's
really popular among entities so first
the step okay so we start Oracle
database this is a VM we have we host
this on the Rivaldo cloud if you're
interested you know let us know so we
can share one access with you the the
core PRC Co API is is called OPG
underscore api's okay so if you install
Oracle database 12 to or 18 one or two
upcoming 18 one this opt-ins API will be
there assuming you in you pick the Orcas
spatial and graph option um you can
describe the OPG API so you receive this
create on the scholar PG this is the one
of the fundamental API to create a
property graph as I mentioned that you
know we have this groovy support right
here we start the groupie script using
prominent underscore PG - or PG - our
DBMS - err so this is the in the
directory of profit graph on the Oracle
home on your specified the JDBC URL
logging this is a pretty usual stuff to
make a connection
Oracle database and then we create a
this instance of Oracle property graph
this is the one of the key API key Java
API to use Oracle proper graph function
so now we have an instance and we we are
using a graph config in the cross
configure you specify basically the
cross name and also the database
information okay those are the two key
these are two key pieces of information
in English config so now we have a
connection right to the Oracle database
so to low top of the graph data is
really trivial and actually I have also
demonstrated Israel when I talked about
the tax fraud use case you specify two
files one for vertices and the other for
edges right those those two years
essentially this pair right is so called
a flat fire with a single API API call
is called node data this is a on the
bottom of this terminal so we load up
the grafted into the database so now you
can you trace through all this vertices
understand you know on what are the
properties what are the vertex IDs on so
forth we can do the same thing to the
edges and as you know is a link between
us source of attacks and the destination
vertex you can also say hey you know I
know a particular bank account right I
want to find out more details about that
if you plug in the the vertex ID unlike
I have just done right opt not to get
vertex right you give what happen i D
then you will show you the details of
this of that particular vertex in this
case right this represents a individual
right Barack Obama okay so now step 3 is
create a loosing taxing tax we offer two
choices you can use either loosing or
solar
right for our core database it can also
use Oracle texting so in this demo flow
we are using the losing texting
capability for which we will be the
integration way so we set the index
parameters and then we denote because if
you think about it we're talking about a
property graph and graph is flexible in
the sense that you know for vertex one
you may have two properties for what X 3
you may have you know five different
properties right so one when you buuuut
a touching that you need to specify what
properties you want the beauty index for
okay so as you can see on the screen we
did note there are five properties right
and for those values we are doing going
to be taxing that for name Road religion
country and occupation so with a single
API call created heating ducts create a
key index way we created those taxing
ducts so what is happening is we've read
the the property values right out of
those vertices okay and then we buted
new scene index we invoke losing api
call and then we stand above what is
this data as documents and we just let
the losing be the index for us now we
have a taxing ducks and all this of
course are transparent to the end user
okay now we have text index in place one
can run you know for the query
essentially found in this graph matching
vertices that are actors and located in
United States or United Kingdom so
basically we pick the key water United
and all those matches can be found very
quickly now let's take a look at the
capability to use a sequel based
analytics to find shortest path between
two individuals
as I mentioned right when you're dealing
with a graph sometimes you need to find
your starting point okay so here we we
are using the text index way to find
matching vertices we find we assign them
to two vertices we want and we do and we
invoke in this case the secret base and
the mythical functions so this function
is implemented in the database you don't
really need to read the data out into
PGX
to use the Isetta function so we invoke
a shortest path and you say very quickly
find a shortest path between these two
individuals in this property graph and
then you can print out those details
okay so this is actually from you know
four hops away from a two individuals in
this graph now let's move on to the next
step to execute in memory analytics and
we're going to showcase the clustering
coefficient here we are using the color
triangle api's okay we read the graph
into a memory and Ernest
PGX okay and then with a single API call
we can find triangles how many triangles
are in this graph you may wonder why do
we care about a triangle actually this
measures the clustering coefficient so
the more triangles are in a social
network in your graph the tighter rate
the title those relationships are and
it's actually a long trivial if you have
a graph with the Billings of edges is
actually in long trivia to find the
exact number of triangles efficiently it
took us quite a while to to come up with
a really efficient algorithm that can
run in parallel and also scale to a huge
graph um
and then as you can see about 22 this is
tiny
so that only 22 triangles in this graph
okay so we're going to use a
bellman-ford is this another algorithm
to find the shortest path but instead of
finding a shortest path between two
individuals right
this algorithm used to is able to find
all shortest paths starting from one
particular vertex to the rest of the
graph this is really cool right instead
of finding sort of one particular
shortest path is able to find many many
many in one shot okay starting from a
given vertex I see I only have eight
minutes left and let me speed up a
little bit so we are able to find all
shortest path from this vertex using
bellman-ford and then you can of course
you know you lookups on the shortest
path okay let me show you the inferences
basically is analytical functions one of
the analytical functions called page
rank and I'm sure everybody is using
Google you know every day to search
right um and one of the key algorithm
behind search behind this ranking is the
PageRank there's so many matches you
know whatever key was you typing okay
there would be many many matches many
many web pages containing that
particular keyword but how do you rank
them right the actual algorithm is
called page rank and you can do Google
search right the fund that it has about
this one okay so what I'm showing here
is the same site escape visualization
but the difference here is instead of
you know from instead of you know
starting the visualization from a
particular query or from some random
vertices we're going to start the
visualization from the top ten
influences so those influences have the
highest is ranked value in this graph so
we're going to basically put the first
offer of first of all of course where
you enter the database information and
then we
the number 10 here to say hey start the
visualization from this top 10 but it is
ok so those canned green dots are
actually the influences in this graph
and then you can increment those
vertices
hey um let me just quickly go over some
of the go over the rest of the steps ok
um we also have in addition to the Java
API we have Python wrappers ok so from
this is a jupiter notebook in this web
page environment it can run sort of
python code you can also run java code
using j pipe here i'm showing an example
of using a graph community detection and
we can then plot out the distribution
and in the same webpage so in all those
blocks in all those paragraphs you can
using the Python wrapper that we offer
out of the box you can also run java
java api using j pipe so just to give
you a flavor of this finally I want to
show the sapling notebook environment so
there's some setups then this is a
sapling interface you can start the
interpreter array it declared the PGX
and interpreter so now I'm going to use
the sapling in the face way to talk to
the graph starting oracle database is
the same social network connections
graph in your copy so we created a graph
configuration and then in the middle of
the fund is a bit small but the
essentially the API is to read the graph
into in-memory analyst ok and then we
run a pgl function a query this query
into to get you know a sense of you know
different relationships I
and their presence in this graph to come
to them basically there's a few
different ways to to to visualize the
results one can see them in a tabular
form or in different charts you can see
a pie chart or bar chart so all of them
are possible in a single web interface
okay you can also run analytical
functions and and also show them right
on the screen okay with that I'm going
to end the demo and we have four minutes
left so we open up for questions any
questions you can typing in the chat all
yeah so see there's a one question there
on how long did it take to build the
Chinese example for fraud detection if
you have a few member of poppier head
and working with that group um the cost
modeling part is pretty straightforward
right because if you think about it an
edge right it's a between a buyer and
seller
okay so graph modeling part is very
quickly a Dom right and then we load it
up in the into the database that part is
also very quick writing the PL query is
also very quick right end-to-end old
back to n I took us a little bit time to
compute the visualization right you
ready to customize the visualization to
show all those cycles I clearly on the
screen so the the Java API is the core
functions right took us just a few days
pops
visualizer he took a few more days if
you only care about the core functions
then you can do it really quickly
yes we had a similar example that we did
for homeworld a couple months ago where
we worked with partner Tom Sawyer for
the Panama papers that took about a week
as well and then incorporated the data
in this case
real date of Panama papers and then the
visualization on that so so if you guys
have further questions we'll take those
offline I can send those Talyn Wu or two
myself up your Lopez because what I want
to do is take a couple of minutes that
we've only got a couple minutes here
just to give you some additional
resources 22 additional resources here
that are available on the product again
the the main OGN page for the products
the blog the blog page if those of you
want to build demos we have quite a few
demos built into the Oracle Big Data
light BM so it's a good place to get
started including the one you saw there
on the social network there the hands-on
lab there and then we will be holding
future and ask Tom office hours if you
have particular topics you want to go
into whether it's clearing whether it's
the analytics whether it's the big data
product let us please let us know we've
got many ways to get a hold of us
through the spatial and graph team
through Twitter feeds or the Oracle
spatial and graph LinkedIn community and
Google+ community also just around the
corner we have a conference coming up
well there's a larger conference the
formerly known as B what's the analytics
and data summit that's going to take
place at the convention that the
conference center at Oracle HQ this is
March 22 22 we also hold our Oracle
spatial and graph user conference in
conjunction with this event so this is a
pretty convenient event for those of you
that are in the Bay Area or at
headquarters we're going to have about
10 graph sessions they're taking place
throughout those those three days on
that there's going to be an impact of
spatial and graph track throughout the
whole of the whole session to really
encourage you to take a look at that and
sign up it's a very very good event
high-quality stuff there's this is
hosted by the Oracle user group but
there's a number of partner and Oracle
sessions that are there and then the day
before that that summit there is we're
going to be hosting a graph developer
training day on that Monday in the same
place your call headquarters
so the full three-day workshop can be
organized by the Oracle
management team and developers and
architects like XV to basically work you
through and get you started on on graph
so there's a bit of material that's
available there space is limited so
please RSVP to various myths there on
that this session is recorded so you can
also go back to this material these
resources if you if you've missed
anything so with that I'd like to we're
at the our top of the hour so I like to
thank you for for joining us today and
we hope that you learned a lot help you
be more productive with property graph
technologies please be sure to let us
know how you like the session and how we
can improve in the future and what
topics you'd like us to cover so after
leaving the webcast if you can please go
back to the office hours page and where
you can rate the session and provide
provide feedback again for those of you
if questions that we weren't able to get
to please email us or provide it on the
blog posting is another good place to to
provide a feedback as well we encourage
you to come back next week and we thank
you again for coming to this session
have a good day thank you thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>