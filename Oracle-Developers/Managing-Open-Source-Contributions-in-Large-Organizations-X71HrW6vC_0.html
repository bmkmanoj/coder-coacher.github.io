<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Managing Open Source Contributions in Large Organizations | Coder Coacher - Coaching Coders</title><meta content="Managing Open Source Contributions in Large Organizations - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Managing Open Source Contributions in Large Organizations</b></h2><h5 class="post__date">2016-09-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/X71HrW6vC_0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright welcome everyone thanks for
coming i'm james ward IMA evangelist at
salesforce and today we're going to be
talking about how to manage open source
contributions and large organizations so
I work for Salesforce we're like 20,000
in place how many people here have
worked for a company that's over a
thousand in place okay awesome what
about 10,000 quite a few okay great so
hopefully this will be relevant to you
Salesforce has a lot of open source and
I've been on a team helping figure out
how to deal with a bunch of issues that
we have around open source so we're
going to talk about those issues today
talk about ways to resolve them so a
little bit about me I'm open source
contributor on a number of different
projects mostly a project called web
jars which takes JavaScript libraries
and CSS libraries and packages them up
into jar files and then puts them on
maven central so that you can use them
as dependencies in your java application
so that's what a lot of those commits on
github are is just dealing with web jars
and that packaging process thank you web
trace user cool so so that's what a lot
of those contributions are but also have
contributions to a number of other open
source projects you can see I took two
weeks off you see the vertical slices
with no green dots took two weeks off in
the last year so it's good got some
vacation time also active on Stack
Overflow those sorts of things so I've
been doing open source for a long time
and back at Adobe doing flex open source
with a product called flexo this open
source to Apache and then a company
named Roku that it was acquired by
Salesforce doing a lot of open source a
lot of what Heroku does is open source
so that's where I learned a lot of what
we're going to be going through today
and then typesafe which is now called
light Bend the company behind scala so
they're interesting and that their they
do a lot of open source but they do it
kind of adds their business model
whereas a lot of other companies a lot
of very large companies do open source
for other reasons and we'll talk about
those okay so as a set of work it
Salesforce work a lot in web jars and
also have a new ten-month-old so so
that's been been a fun
experience in my life that's that's
taking away a little bit of time from
web jars but but not too much because I
have a great wife okay so let's talk
about the kinds of contributions that we
deal with in open source so first there
is external employees contributing to
external projects so I think this is
probably across our organizations
probably the most typical place where
we're going to see contributions and
these are like outgoing contribution so
we have employees and they're
contributing out to two projects this is
also really challenging place to deal
with managing contributions because a
lot of times you an employee can just
have a github account and can send a
pull request to a project and there's
it's really hard to monitor and and be
able to have any kind of control over
these types of contribution so we'll
talk more about the challenges around
that in a little bit what's becoming a
lot more common now is for large
organizations to take projects that they
have internally and push those out as
open source projects so taking something
that we've done this a number of times
it sells forced to take something that
is just internal we're working on
internally and then publish that code
out as an external of my source project
and then once you've done that the the
last type of contribution that we will
see is where an external contributor
wants to contribute back to something
that we've published so those are the
types of contributions that we see they
all have their own unique challenges and
so we're going to go through and talk
about the challenges and how to deal
with those before I go on family has any
questions at all throughout just feel
free to raise your hand at any time and
ask me and sorry for those of you that
are watching live you won't be able to
do that but you can tweet me and
underscore James Ward on Twitter and
I'll get back to you after the talk okay
so let's talk a little bit about why we
do open source so this is something that
I think over the last few years large
organizations have been head
have have been being pushed into doing
open source more and more and so I want
to talk about why that is why is there
there been this this kind of just in the
last few years a huge push towards open
source there's other companies tech
companies mostly that abidine open
source for a long time and so they're
more familiar with it and familiar with
the process is if you look at at Google
they're pretty veteran at doing open
source will talk about some of the
things that they do in a little bit but
now non tech companies are starting to
do open source you look around github
you see organizations for some some
companies that you would never expect to
be doing an open source Macy's has a
huge presence on github where they're
publishing a lot of open source code and
that's not something that we would have
seen five years ago for non tech
companies we do an open source so okay
so why do we do it so one I think this
is probably the more traditional tech
company reason to do open source is that
we want to build trust with our
customers and our partners and so this
is probably the main reason why the the
JDK is open source is that the Sun and
Oracle wanted to build trust they in
order to get more people using the
technology they need to build trust and
a great way to do that is to open source
the technology and so this allows this
allows customers and partners to feel
more comfortable adopting the technology
that there is that there's kind of less
can less single vendor control over
technology as one of the aspects of that
another aspect of that is kind of having
an escape hatch so if for some reason
Oracle imploded or something like that
then the technology would still be out
there and be available for us to use and
take over it and give life to be on that
so so I think that's a big reason
another reason is that we if we've
developed something internally and we
want that thing to have a life beyond
just just our organization then by open
sourcing it we can build an ecosystem
around something and that really can
give longevity and and even enhanced
features and add things to a framework
or a library or a tool so so that's you
know good reason why
is a good example of that huge ecosystem
around Eclipse it's kind of an older
example but but it would never have that
ecosystem if it weren't open source a
more modern example is spark Apache
spark so patchy spark now has this huge
ecosystem around it and if that was kept
closers obviously that ecosystem
wouldn't exist around it another reason
which which is we'll talk about how to
how how to deal with this in a little
bit but what companies have been doing
for a long time is actually taking
open-source projects forking them
internally so they create a fork of a
project internally and then they make
enhancements to that project internally
and one of the reasons why people would
would contribute changes is that these
unmerged Forks these Forks that we can
have internal in our large organizations
of projects it becomes really hard to
keep them in sync with the external
project if we're not actually
contributing our changes up to the
provider of that to the main branch so
this is really a significant reason for
these outbound changes is that we want
to get our changes into the open source
project because if we don't then it
becomes really hard for us to stay
current with what's going on in that
that open source project another one is
to show leadership so there's definitely
a lot of examples where where companies
want to be seen as a leader and open
source has a lot of mind share with
developers and it's a good way to show
developers hey you know we care about
you we understand your needs we know
that you like open source and and here's
this awesome thing that we created and
want to open source out there something
kind of related to that is recruiting so
recruiting is hard especially in large
kind of stodgy enterprises it can be
really hard to find good developers and
by doing open source it becomes a really
natural path to find good developers who
want to work on things that are related
to our products so we get contributions
and anyone that contributes something
becomes somebody that could be it could
be a good fit to work in our
organization so so I think this is this
is
a really common theme or common reason
why companies like Twitter open source
so much of their code is that that
anybody that then contributes to finagle
for example is automatically someone the
HR can go after and say hey you like you
like finagle and you want to work on it
full time great come work with us at
twitter so so i think those are probably
the top 5 reasons but does i may have
any other reasons why we would do open
source did I miss anything okay okay so
that's why we do open source but it's
actually hard it seems easy but it's
hard so we're going to talk about what's
hard about it so one of the first things
that when you talk to people in large
organizations about open source one of
the big concerns is security that's
great that you're publishing that code
out there but we have some concerns we
have some concerns about the security of
doing this so those are is our external
contributors trustworthy so when we
receive code being contributed to us can
we trust that contribution and then do
we need a process that actually will
evaluate how secure that contribution is
if it's going to cause some issue with
us this could be very explicit like for
instance there's been cases where people
have tried to and I think in some cases
even successfully contributed back
backdoor holes into systems through open
source projects so it could be explicit
and it could just be that hey you know
maybe the developer contributing this
they weren't really up to snuff on on
xss vulnerabilities and how to deal with
those and so they contributed something
and it got reviewed and pulled in and
now created a security hole for us
that's one potential for for security
issues and open source but another one
is what if we're leaking some sensitive
information out through publishing the
source code publicly and this is this is
definitely something that people are
very concerned with when it comes to
taking an existing open source project
and publishing it is because you if you
want to preserve the commit history when
you do that
maybe commits that you're not seeing
from way back when that had some
sensitive information maybe for some
reason you had a password in the source
or maybe there was something that you
later revised out but it could still be
in your history in your get history or
whatever sem you're using and so you
have to be really actually careful when
you're making this stuff public that you
are not actually put publishing
something out there that that would come
back to bite you later so all sorts of
different places where that can can come
up other security concerns that people
have heard about open sourcing good okay
so the next one is quality concerns so
so if we make this open source are we
opening ourselves up to degrading
quality are we all of a sudden going to
have a bunch of contributions is the the
codebase going to decline in quality and
there's obviously ways that we can deal
with this that we'll talk about later
but so one of the concerns around this
is is when I take contributions from
external contributors to my open source
projects I'm actually now taking on some
ownership of maintenance of that code
and so I've had pull requests that never
got merged then I spend a lot of time on
and it was because the team control and
that project didn't want to assume the
maintenance responsibilities of what I
was contributing and so this is
definitely something you have to
consider is is do should I accept this
contribution it may be great and I might
love it but it may be that I don't have
the resources to maintain this code in
this contribution or the feature that
it's adding and then this one's kind of
funny but I've seen this before where
we're especially in large organizations
you can have X you can have
contributions going out so you can have
like I want to contribute something to
another project and it can actually just
be embarrassing like maybe maybe I'm a
junior developer and I you know do
something silly or something like that
but that can reflect on the organization
so so if and then also with with
existing open source so if i go and
publish one of my internal projects
externally i'm i'm posting something
publicly that is letting people
make decisions and and judge me on on
that and so they could be judging me
because I used eg be to right and now of
a sudden Salesforce is getting made fun
of because they use EG batio or whatever
it is right and so so this is one of the
concerns that people have about open
sources you know we're going to be
judged by what goes out there did I miss
anything on quality okay next one and
this is this is kind of the most hairy
and fun one so I'm going to spend quite
a bit of time on on the legal concerns
but this is probably the place where the
organization is going to have the most
concern about open source especially in
large organizations is around around
legal issues so one of these is around
patent issues and this goes both ways so
this could be as soon as someone
contributes something into my open
source project they may be contributing
something that's actually a patent
infringement and now because it's
because it's part of my code base now I
could be legally susceptible to issues
around patents so it could be that then
someone says hey you know this part of
your open source project it infringes on
my patent and you can't say well you
know that's not mine because it's part
of your open source project and we'll
talk about the legal means for doing
that so it can be that we're we're
patent patent stuff is coming in from an
external contributor and now I'm liable
for that but it could also be that i am
giving up or potentially giving up the
ability to have a patent on something
because I've open sourced it in a
certain way so that's a big one another
one is ownership issues so we'll talk
about contributor license agreements in
a little bit but this is one of the big
things that the lawyers want to deal
with is when i get a contribution an
external contribution that comes into a
project the lawyers want to know like if
you talk to any lawyer this is a big
deal for them like who owns that and
we'll talk about how we deal with that
in a little bit with contributor license
agreements but they want it very clear
about who actually owns that
contribution who owns that that piece of
code that was contributed another one is
license issues so lawyers want to know
like does every single file in the
source code system have a
ison specified on it any dependencies
that I'm that I'm our transitive
dependencies in my project are those
licenses that those transitive
dependencies use are those in compliance
with our corporate standards so for most
companies that means no GPL right it's
making sure there's no proprietary
licenses that I may be violating those
sorts of things so they want to know
what the deal is with the licenses on
every on the code that is published as
well as any libraries that are being
used so those are the main legal
concerns that I thought of any others
tab okay okay so let's talk about
solutions so those are I think the three
major problems that we deal with so
there's security quality and legal
concerns so now let's talk about what
some of the solutions for dealing with
that are so first solution which is by
far the most common is to do nothing so
just say you know the risks of dealing
with this are minimal and so we're just
not going to deal with any of these
concerns and I think that's what most
companies are doing today second
solution is use a foundation I'll talk
about what that means in a little bit
and then the third solution is to build
tools and manage it and own it ourselves
so do nothing let's go through some of
the the pros and cons of each of these
so do nothing pro it's easy so it's
pretty easy to do nothing I'm lazy so
that works for a lot of what I do but
downside the con is that this doesn't
make the legal team happy so anytime you
talk to a lawyer at a large organization
they actually want to deal with every
single one of those concerns that i
mentioned earlier they want to mitigate
every single one of them everything they
can think of I mean that's their job is
to mitigate risk right and so this doing
nothing doesn't make them happy so a lot
of times and organizations I've worked
in you try to stay away from the lawyers
right because as soon as the lawyers see
what you're doing then they find like a
million things that they want to deal
with but if you keep it off the radar
then you're fine at least until
something goes wrong
right but but that's the the nice thing
about doing nothing is that that you
know if you can keep it off the legal
teams radar great and then cross your
fingers and hope that nothing ever goes
wrong you know don't get sued for patent
infringement on your open source project
or any of that because then the lawyers
are not going to be happy okay Pro
do-it-yourself governance so this is
nice this is what most projects on
github do for governance is they
essentially don't have governance that
their governance is is kind of ad hoc
you know controlled by the contributors
and so this can work really well it's
really lightweight and you can hash out
you know things kind of ad hoc about
when you need to make tough decisions
those sorts of things so it's you know
do nothing is great because your
governance model is nice and simple but
the downside of that is that you do have
a lot of gray or and your governance
system so when it comes to making a hard
decision there's no structure to tell
you how to do that and so then it
results in fighting back and forth and
those sorts of things what I think most
do nothing people have is essentially
the the linus torvalds model the
benevolent dictator model where there is
essentially some leader of the open
source project someone that's either
that's selected because they created the
project or whatever it may be that is
ultimately in charge of making all the
changes so it's kind of a hierarchical
model very flat but single decision
maker at the top with open source
company so like like light Bend you
probably would structure this around
around your employee structure so what
is your whatever your employee structure
looks like internally that's probably
the governance model that you would
actually end up using so if you do
nothing you get to do it yourself
infrastructure so most people are using
github and that's a great piece of
infrastructure but all the things on top
of that all the so making sure that your
code quality is good that means having
build systems that means having style
guides that mean all
these different pieces of infrastructure
that you want to have quality if you do
nothing that you're going to have to
build and create that infrastructure
yourself but a con is that you have to
do it yourself you have to create all
that infrastructure for quality for
security those kinds of things on your
own so um I think this works great for a
lot of organizations for a lot of
projects i think that one you have to
think about what are the risks of doing
nothing and often the risks are very
minimal that you're going to get sued
because some some little UI library
JavaScript library you created all of a
sudden is a patent infringement like
that's probably unlikely not impossible
but for a lot of cases probably unlikely
so a lot of times doing nothing is is
just fine questions or comments on doing
nothing ok how many peer have done
nothing before for their open source
governance done nothing so yeah good
um I would say is by far the majority of
what happens in our industry if you look
around on github there's there's
probably some like minimal set of things
that people will will usually do and
that's like provide a license that's
probably about I would say I don't know
throwing out numbers eighty percent of
the code that you'll find on github has
a license specified so that's good
that's a good start usually it's just in
like the root directory it's usually not
on every file and that sort of thing so
so it's not as far as the lawyers would
want but but on top of that they're
pretty much doing nothing beyond that
they don't have a defined governance
system they don't have the security the
quality and the legal checks in place to
make sure that all those those things
are covered by far the large majority of
projects on github are in that book I
don't know if I want to throw out a
number let's say eighty percent of
projects on github it's it's a lot have
very very little around this but there
is also this gray area with a lot of
those projects in that most of those
people contributing that code they work
for a company but did they create that
code is part of their job and if they
did then that's a different boat than if
they did it like in their spare time on
their home computer right and so there's
all this greater there which lawyers
love gray is because that gives them
things to do but most of the code on
github I would say is written on company
time and on we're on a company computer
and is not at all regulated by the
organization like by far the majority
but does anybody have another opinion on
that love to hear for other people of
other experiences be really interesting
for somebody to troll through github and
actually do some analysis on that so
yeah so I think by far most people just
do nothing and we'll talk about some
some easy alternatives to doing nothing
in a little bit okay so the next option
is to use a foundation
so one of the pros of using a foundation
is that you get a lot of infrastructure
out of the box so a foundation is like
the Apache foundation the Eclipse
Foundation these are organizations set
up to help you manage an open source
project and they typically provide a lot
of infrastructure to help you deal with
those those issues that we talked about
earlier and so that's great you get a
lot of infrastructure out of the box you
get ways to deal with with your the
legal side of things you get ways to
deal with the quality side of things
don't know about too much about the
security side of things haven't seen
that from too many foundations but but a
lot of the infrastructure you need to
manage open source governance you get
that out of the box with these they
patchy Foundation has a specific
governance model that you follow when
you when you have a project in the
Apache foundation so the con of this is
that the governance can be heavy that
you have now signed up to manage your
open source project in a certain way and
you as as part of that foundation are
supposed to follow the rules of the
foundation so for Apache that means that
any time you do a release you have to do
a vote and that can be a pretty big
burden to a lot of projects so and you
have to have a certain number of people
actually vote and those sorts of things
so so there is a governance process that
you have to follow and that can be
really heavy weight for some open source
projects so one of the other pros of a
foundation is that you can get a lot of
trust so back to one of the main reasons
why we want to open source code is to
build trust with our customers and
partners and a foundation can be a
really good way to do that so when i
worked at adobe we had a potential
customer very large customer that said
we will not use your technology unless
you open source it to a foundation and
they wanted that because that was their
guarantee that that we wouldn't take
that technology and do horrible things
with it down the road that they had some
safety net underneath them by using that
technology they weren't going to all of
a sudden be at our whim in whatever
decisions we wanted to
they wanted some skin in the game so
that they could determine the future and
not be beholden to us so foundation can
be a great way to do that with the
foundation you actually take the
ownership of your code and the
foundation then becomes the owner of the
code so but that process of taking that
code and and assigning ownership of that
code to a foundation can actually be
pretty challenging with the lawyers so
the lawyers they may not be super
excited about all of a sudden taking all
this IP that you own and giving it over
to a foundation there can be a lot of
legal hurdles that you have to go
through in order to do that so it can
actually be just a long and tedious
process with lawyers all of a sudden
scrutinizing every little piece of code
which if you want to see something fun
watch lawyers scrutinize code it gets
really interesting but it can be drawn
out for a really long time and be really
challenging so one other reason to use a
foundation is that it can be a great
sign of maturity so projects that are
patchy projects are seen as more stable
more mature they have a governance model
that's defined they have ownership
outside of an organization so there's
longevity there so it can really be seen
as a good thing in a project you know if
you're going to choose between apache
spark and some brand new data analytics
tool that is not an Apache project a lot
of times people will choose spark
because they know it's going to be
around they know it's active they know
that ownership is outside of a single
organization so can be a great sign of
maturity but a con of this is that it
can actually be a good way to lose
engineers so there's been a number of
instances this the one that I'm thinking
of is Kafka so I don't know all the how
this all happened it linked in but at
LinkedIn there are some engineers they
created Kafka it's great technology they
open sourced it to apache and then a
bunch of Engineers left linkedin started
their own company are to support Kafka
so I don't know if this is what was
intended or not but either way linkedin
lost a bunch of great engineers who went
off and started their own company
around Kafka when they could have
retained those engineers had they not
open sourced Kafka or at least
contributed Kafka to Apache because
that's what ultimately allowed a company
to be formed around that technology so
can be a challenge for you know it takes
a lot of work to acquire great engineers
and if we're losing them because we're
giving our IP to foundations that could
be a bad thing okay so that's using a
foundation I'm not a real expert in the
in the different foundations and what
you know which one I would recommend or
the differences between them but I'm
sure there are great resources out there
may be someone here knows about clips
foundation versus the Linux Foundation
versus the Apache foundation they're
there a number to choose from any
feedback on using a foundation can you
what can you take it back who I would
guess that there would be some kind of
governance way for for the ownership of
a project to change may be there there's
a vote maybe there is maybe have to go
to all the contributors and get their
sign off i would guess that there is
some legal process to do that in some of
the foundations but but i'm not sure
that's a good question could you pull it
back ya know okay there is no way once
it's at the foundation it's it is set in
stone forever
that's a good point about the foundation
so your when you give ownership of the
code over to foundation what is
sometimes more valuable than the code
itself the code ownership is the brand
of the project so Apache owns the kafka
brand so yeah someone can fork the kafka
code and do something else with it but
they will never be able to take that
kafka brand it would have to be under a
different name and a lot of times an
open source one of the primary values of
the project is actually the brand so
because you invest a lot in building
that brand so thank you other comments
on foundations or questions ok ok so
let's talk about the last option and
this is what sales force has chosen to
do for for some of the projects is to
build some tools to help with us so the
pro of building some tools is that you
can decide which risks are the the most
important the biggest risks and then you
can tackle this so you don't have to
tackle all of them but you can choose
which ones are the biggest ones and then
tackle those and this probably involves
lawyers telling you what the big biggest
risks are and I'll talk a little bit
about what I've heard from our lawyers
in a little bit so a con of doing it of
building some tools is that
unfortunately there's not a whole lot
off the shelf for tools that you want to
build to deal with those concerns
there's not a whole lot of open source
projects out there for managing open
source projects unfortunately and i'll
show you a tool in a little bit that i'm
hoping to open source and maybe we can
start to get some some more tools being
open sourced around managing open source
so a pro about building tools is that
github provides a great foundation to do
this so there is a lot of great AP is on
github most people are using github for
their open source projects and github
through their api's and through web
hooks provides a really great way to
actually build the types of tools that
you need to manage open source build
them on topic github and we'll take a
look at that in a few minutes
a con of building your own tools is that
somebody has to own those tools and a
lot of times even in large organizations
it's really unclear who is going to own
these tools who's going to be
responsible for making sure that they
work and maintaining them when github
changes their AP is dealing with that
sort of thing but a pro is that these
tools can be a great opportunity for
like twenty percent time side projects
those sorts of things so that's what I
did was I had some free time in my job
and so I started building a tool that
will see in a little bit but account of
that is that it actually can be kind of
challenging to test these tools and the
just as an example the the tool that I
built was integrating with github and
the it's great that I can integrate with
github and it's great that they have
these web hook ap is but in order to do
the testing that I needed I have like 10
different github users and and had to be
able to have a public a public system
that I could test with so the way that a
web hook works on github is that github
calls out on an event it calls out to a
service and so that service has to be
reachable from github and so it can kind
of be challenging to be doing local
development but have something that
github can reach to test a web hook
against and that sort of thing so so
it's not impossible but but it
definitely is a bit challenging to test
these kind of tools okay questions or
comments about building some tools and
then I'll go into some examples this
yeah
yeah why aren't there I think because
most people are doing nothing and
hopefully we can start to change that
they're most people are either doing
nothing or going to a foundation I think
there hasn't been many people in that
kind of gray area between the two I
think that will start to see that either
will see a foundation that's more
lightweight start to those sorts of
foundations come up or we'll see more
people releasing tools to manage open
source projects one of the two or maybe
both will happen they're billing tools
yeah so so yeah and I haven't seen any
of them open source these kinds of tools
yet but but hopefully they do yeah good
question other questions yeah what about
what is it atlassian what about it in
particular
yeah it's it's a really good point so
yeah so collaboration tools from
atlassian are free to open source
projects and and that can be a great
start where i think most of those tools
are more around communication whereas
these are more the tools that i'm
talking about or maybe more around
compliance and legal sides of things and
that and I haven't seen tools from a
last name that do that but but you're
absolutely right for like four for
communication around a project the
atlassian the the atlassian tools
provided free to source projects are a
great way to get started so yep thank
you that's a great point any other
comments or questions okay so let's talk
about if we were going to build tools
what would be the biggest risks that
we'd want to tackle and this is what
I've heard from from our lawyers is
number one contributor license
agreements so contributor license
agreements are a agreement that a
contributor signs when they send a
contribution to me too in my case
Salesforce and what this does typically
a contributor license agreement it says
that what the user what the contributor
is agreeing to is that now Salesforce
owns the contribution but i'm going to
license it back to you so now i'm
providing a license for what you
contributed back to you so you over your
contribution you can do anything you
want but i'm ultimately the owner of
that contribution now and one of the
main reasons why we do these contributor
license agreements why most most large
organizations tech organizations
especially do these is that now the
whole code base can be licensed in a
single way so rather than having every
single little line of contribution
license to a different person who
contributed it I can roll up all the
contributions under a single license and
single ownership and now I as Salesforce
own that whole thing and then I can rely
sins if I can rely sins it if I want I
can do whatever I want because now I own
that but you have a license to your
specific contribution so we'll take a
look in a little bit
what this actually looks like but
contributor license agreements this is I
think the biggest risk that lawyers want
us to mitigate when it comes to open
source receiving open source
contributions the next one would be a
license audit so so making sure that the
licenses on the open source that we
provide is is specified number one and
then in compliance with our policy so no
GPL for is what that means for most of
us next one is is doing some kind of
security audit this is not something
that that Salesforce has has tried to
automate with tools yet but is
definitely something that the engineers
who are receiving open source
contributions are trained to to look for
and say this looks like something that I
that needs a security review let me now
add a security reviewer to the process
before we will actually accept the
contribution so not necessarily
automated we're not running any security
review tools on contributions or
anything like that but you definitely
could get to that point and then patent
audits this is something that I'm sure
lawyers would love to somehow do but
it's really really hard to do I don't
know if it takes training to for
developers to evaluate what they're not
something could be infringing on a
patent I that's that's a really hard
problem to solve so that's why it's
lower on the list is I'm sure lawyers
would love to have some tooling way to
handle that but but currently not very
easy to do and then a sensitive info and
code and I think this one's actually
probably they this is probably higher on
the list i don't know if i actually
ordered these in the in a particular
order but this is something that it
certainly could be automated looking for
passwords and contributions and those
sorts of things but then there's a
little bit harder aspect to this of like
sensitive information could be when is
something going to release or what
feature is coming down the road and and
that could be a challenging thing
you keep from happening that takes
really just for most of our engineers
making sure that they're not pushing
things out to public repositories before
they should or with with sensitive
information in them so I think those are
the the biggest risks that the lawyers
would would like us to to mitigate in
some way some easier than others any
feedback or questions about that yeah
good question so i think it's these can
be applied some of them can be applied
to incoming and some can be applied to
both incoming and outgoing so for
instance patent audits i'm sure large
organizations would love to make sure
that when i contribute a piece of code
outward outgoing that that doesn't
that's not taking something that we have
a patent on and and giving that to
someone else right
yeah so they're definitely it depends on
the the product and the team and the
situation which is I think the case for
all legal things but there are cases
where in order to add a library into the
system it does need to go through these
sorts of audits as well so that can be
also on on library usage yeah so not
even open source contributions and
incoming or outgoing just on the pure
usage of open source yeah these same
sorts of things could definitely apply
yeah good point so the
so when you sign a contributor license
agreement you are saying everything I
contribute is owned by the foundation or
the organization not by me anymore and
then the foundational organization
licenses you back the code so now you
have a license to the code that you
contributed the ultimate ownership is by
the foundation or the organization
that's what the contributor license
agreement is doing that means that you
can do whatever you want with that code
it's you on a license to that code but
yep yep yep yeah exactly yeah is
essentially yeah yeah as far as i
understand it I'm not a lawyer but as
far as I understand that's what it says
so I could contribute the same bit of
code to Kafka and to spark right and
that would be ok because I I've been
license back that code and could
contribute it elsewhere yeah question
good good lead-in to to the next part
which is my demo I always got to have a
demo in a talk at javaone uh sorry yep
go ahead yeah so the lawyers would love
to make sure that the tooling is done
before the contribution is actually
received and that's what I'm going to
show you in a little bit is is the way
that we do that there definitely is a
case where maybe you can't actually do
like a patent audit on a pull request
maybe maybe you want to once a month
have a lawyer look through the code with
an engineer and have have the lawyer
then then think through is any of this
patentable or infringing or that sort of
thing so some of it could actually be
kind of after the fact and since you've
had them sign a contributor license
agreement if you needed to do something
with that code to deal with a patent
issue you could yeah thanks okay other
questions sorry before we go on okay so
let's go check out a demo so today to
answer the question earlier today his
sales force has many many different open
source projects and I would say the
majority are we do nothing basically you
know we specify license whatever but we
do very little to to deal with these
issues but we want to change that and so
so for contributor license agreements
today there's only a few projects open
source projects that we actually
actively manage contributor license
agreements on and for those it is you
print out a PDF you sign it and you mail
it to us and then that goes into some
lawyers drawer somewhere and and that's
how you deal with it so so that's what
I'm going to show you is some toweling
the that I built to help automate that
that exact process in uh before we go
into that I should mention there are
actually two different types of clas
there's an individual CLA in a corporate
CLA the individual CLA is if I'm working
on my
time on my own computer and I'm
contributing to a project that requires
a CLA then that would be an individual
CLA if I'm contributing on my corporate
laptop on corporate time then I'm
actually supposed to do a corporate CLA
which is my company than because my
company owns my time and my contribution
ultimately my company has agreed to to
give up the copyright to this to this
code so most of the time I think it's
probably unfortunate but it's hard to
get corporate clas especially in large
organizations so contributors like me
when I want to contribute externally
even though I should be using a
corporate CLA I'm probably going to use
the individual cielo I probably
shouldn't say that when the camera is
rolling but because it's really really
hard to go to the lawyers and say hey I
need the CLA and then I'm like what are
you contributing and then it's like you
know goes takes months to actually and
this is one of the challenges of for
lawyers to deal with all the outgoing
contributions is that all those outgoing
contributions should essentially have
clas and this should essentially be
corporate clas but it there's a lot of
legal overhead to do in that so it's a
challenge yeah I've never contributed
anything yeah
yeah yeah definitely I'm sure that some
of that is there yeah I mean if you're
trying to tie it back to an actual like
corporate computer on corporate time it
would it would probably be a challenging
legal fight which most of the time
wouldn't be worth it but to try to pin
it back to you made this contribution on
how many time where that may come in to
play is if I were to like leave
Salesforce and leave in bad terms and
they want it to go after me to say like
hey you're leaving to go to to confluent
the kafka company and on corporate time
you made all these contributions to
Kafka and now you're going to work for
them and be an owner in the company
right then they may you know if I've
really had burned some bridges they may
want to come after me be like you made
these contributions on corporate time
with corporate laptop and and you didn't
do this through a corporate CLA that we
had agreed to and so you're you know
that could be bad so yeah thanks for
pointing that out I don't contribute
anything okay so let me show you some of
the toyline that I've been working on
for Salesforce so I'm here in github and
there's a repository here and this is
nothing really interesting here but this
is a repository that I don't have access
to this is a external repository and
there's a readme file here if I go into
this readme and make a change let's just
go say hello world okay and then I'm
going to propose this file change so I'm
not a approved committer on this project
so I'm sending a pull request to this
project so go through that so when I
send that pull request you'll see that
now the Salesforce CLA test user has
said hey you haven't signed your an
external contributor you haven't signed
the CLA we need you to do that and we're
not going to let this pull request merge
until you do so it adds a label so CLA
missing and you'll see that now the
check has failed and
it's yeah it shouldn't for the person
who has commit access it's going to put
a big red dialogue there saying hey you
really shouldn't merge this until the
user has has actually signed the CLA
okay so now let me go actually sign the
CLA here so now this is the the CLA tool
CLA signing tool and one of the things
that I did in this system was to make it
so that we know an association between a
CLA signature and a github contributor
so that then we can actually validate
that association and validate signatures
so what I need to do to validate my
github identity is login with github
that's just 0 auth so now it says hey
yep you're logged in and now I need to
review the CLA which is granting of
licenses blah blah blah so once I scroll
through that and you'll see the check
box says alright you've reviewed the CLA
now I need to sign the CLA alright my
email and say yep I agree to the terms
of the above CLA and now I say sign the
CLA so that now storage back into your
Salesforce system that I've signed the
CLA it has that association between my
github identity and the date and time
that I signed that CLA and now if we
look back on that pull request you'll
see that it is the the Salesforce ela
test user has said hey you've signed the
CLA now we're going to change the label
so no longer CLA missing its CLA signed
and now all of the checks have passed
and so now on the committee I'd now that
red dialogue is turned into a green
dialogue that says yep you can go ahead
and merge this pull request there's
github just last week I think it was at
github universe announced some other
tools that you can add to this process
where you can say that someone has to
review it and give a thumbs up before
you merge it in that sort of thing but
this is just on the CLA validation part
of it and you can add whatever what
other other whatever other validations
you want into this process so if you
want to do a CI system that hooks into
this and it runs this this pull request
through a CI system and validates that
it
the tests all passed as part of that you
may want to validate the the code style
so this would be the place where back to
your question earlier where I would want
to hook in as much of that tooling as
possible is into the pull request
process and right now just the CLI
tooling is hooked in there but now that
allows me to do validate yep and now any
other now that I've signed the CLA
anytime I send a pull request in the
future it looks in the database and says
hey yep that user has signed the CLA so
there's no there's there's no process
needed by the user to do any future
contributions either okay so that's my
little CLA tooling which hopefully I'll
get released and open sourced someday
soon as the lawyers I'll give me the
thumbs up right so it was actually a
challenge to go through that the the
process of building that tool because
the lawyers they again want to mitigate
all the risks and they weren't even sure
if not having a wet ink signature on a
piece of paper was an okay way to
receive a CLA they were not sure that
the digital click the Box I agree was
sufficient and then they wondered well
you know could someone spoof someone's
github identity and so it opened up this
whole can of worms that was there was
certainly fun but but I think we're
getting close all this stuff is
certainly challenging okay so some other
challenges at Salesforce even with
20-plus thousand in place we don't have
a single owner team of open source
across the company actually I think we
just actually created one but a team
that will actually do this sort of thing
but up until very recently like there
there wasn't a single place where you
could go and be like what tooling do I
need to do open source who do I go to to
see can I open source this project
what's the process who defines the
process to open source projects so so a
lot of times and organizations it is
really challenging to know who do you go
to to understand those sorts of things
another challenge is lawyers it is it
can be so challenging to to walk through
these sorts of things with lawyers
because again they you know love them
but they
they do just want to mitigate every
single risk possible and sometimes the
that is really heavy weight and so that
results in a lot of times us doing
nothing and avoiding legal as much as we
possibly can another challenge is often
with exec execs and their view of
intellectual property so a lot of times
if you talk to an executive and say
we're going to open source this thing
they say wait like that's our property
like we own that we made that like why
would we just give that away right and
they they don't understand the the
values of why you would want to do that
they don't understand those things we
talked about earlier and why you would
want to to give away IP that's how they
see it is we created this thing and now
we're just giving it away and so a lot
of times it takes quite a bit of time
working with executives to get them to
understand why we would do that why we
would open source something one pitch
not to make is the if we open source
this then all these people are going to
add features to it it's going to be
wonderful that doesn't happen like most
of the time you open source something
and very rarely do you get useful
contributions unless you get to like
like a much large project so I wouldn't
make that pitch to executives I would
pitch more on like recruiting leadership
you know leadership in the industry
those sorts of things but but it can
depend on the situation how you want to
spin it but you're going to have to spin
it because look at the executives will
see it as give as taking some value that
is ours and just giving it away so that
can be a challenge one thing that that
people don't often realize about open
source is that there's a lot of overhead
in managing over source projects the
employees that spend time working on
open source projects all of a sudden
have to spend a lot of time
communicating with external contributors
that maybe don't know everything all the
conversations that have been had behind
closed doors or around the water cooler
with other employees you're receiving
bug reports and and pull requests and
all these things and so there's a lot of
overhead that often we don't realize
when we go into open source
project and so I think it's good to be
aware that ahead of time when you open
server something you're potentially
opening yourself up to spending a lot of
time just dealing with the overhead of
project management that you wouldn't
necessarily have if you hadn't opened
sourced it not to say that you shouldn't
but but there there is often not
recognized overhead to open source so
there's a cost to free I think is the
point of my talk and you can do nothing
I think that's okay for a lot of
projects you can sign individual
contributor license agreements even if
you're working on company time no I'm
just kidding don't ever do that that's
bad but there's a cost of free so just
be aware of it and and I think it's
great that so many large organizations
are doing more open source but I think
we're kind of at the infancy of how we
do that and hopefully tools will evolve
that make that easier and better for us
so that there can be more open source
questions I think we have five minutes
or so for questions there any any
questions yeah good
it's a good question I think it's so
common these days that most of the time
you're not going to assume any abnormal
risk by being a user of open source that
said if you bring in a library that's
GPL then you're probably opening
yourself up to some legal scrutiny
inside the organization so there are
there are probably some things that you
should watch out for and maybe that'd be
a good next talk for me to do is is as a
contributor open source contributor in
an organization here's the things you
need to be aware of and that's probably
one of the big one number one so I get
work with your lawyers to sign corporate
clas number two is don't pull GPL
libraries into your GPL libraries or
code into your projects that would be
and then how else if you there is the
the rule that it's better to ask for
forgiveness than permission and I think
that that's the do-nothing thing is
ultimately is is there's a lot of times
where where don't ask the lawyers
because if you do it's kind of open a
can of worms that you don't want to deal
with so so a lot of times it can be a
lot easier maybe not the right thing to
do but a lot easier to to ask for
forgiveness instead of permission though
so that's what I would say for
contributors yeah go ahead
yeah you're absolutely right it's
probably more around understand what
you're illegal how your legal team feels
about certain licenses and try to try to
fit within that and if you if you think
you're in a gray area then ask your
legal team thank you yeah yeah we've
we've done a lot of that at Salesforce
and I think we've leaned heavily on the
side of their being value and open
sourcing it and I think that that's kind
of the the environment that we're in
right now is that that most companies
that are led by people that have been
doing or the the technical organizations
are now being led by people that have
been doing open source and using open
source for a long time so I think right
now the tendency especially in tech
companies is is the default this kind of
open source and unless we can come up
with a good reason not to open source
then then we will do it yeah
that's a good question I think that
there are some things that are
definitely better in open source
projects so for instance you can get
away with doing some things poorly when
you don't have to open source it for
instance putting credentials and source
in source management right that's I've
done that in a number of projects in the
past and it's a horrible horrible
practice that you should never do but it
was really easy to do right and so I did
it anyways even though I knew it was
wrong and if you are going to open
source something or something is open
source then you just can't do that
that's just that's not an option
obviously so so I think there are
instances like that where it is kind of
a forcing function to help you do the
right thing but other than that I can't
think of anything of reasons why it
would be different quality between the
two yeah good questions yeah good I
really do you want to yeah but I'm gonna
have to do that I'm gonna have to go to
the lawyers and it's gonna yeah so I
really do want to open source that and
and hopefully soon first I need to
release it so first I need to get the
toilet out there because it's not even
live yet because I got to work with
lawyers to get it live you know so and
then I'll work with the lawyers to get
it open source so so I really hope so
yeah that's a good idea to release it
around that right now it's only one
button on github make public right yeah
it is a good demo hope it's more than
that same yeah is there a question
uh it when you move a project under a
foundation you are you are they own the
code but they also have defined a
governance model that you have to follow
and so that's what's more important is
that to make decisions in the project
around releases and those sorts of
things you have to go through the
governance model to do that but most of
the time the organization that
contributed is the primary stakeholders
that are voting in the governance
structure so most of the time you're not
really giving up that much control it
may over time as the project evolves and
contributors change that that may be
different but but I think ultimately
you're not giving up a whole lot of
ownership or control over the project by
going to a foundation okay we're out of
time but I'll be around if you have any
other questions thank you for coming
thanks</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>