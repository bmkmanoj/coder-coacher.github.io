<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Where Next with OpenJDK Community Build and Test? | Coder Coacher - Coaching Coders</title><meta content="Where Next with OpenJDK Community Build and Test? - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Where Next with OpenJDK Community Build and Test?</b></h2><h5 class="post__date">2015-06-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/T2BIGNLtbWY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so this is this is khanh 4179 which is
where next with open JD community build
and test it's meant to be something to
talk about the work that's been
happening in the community about
building and improving open because it
says community accessible building test
systems so that's not meant to be
proprietary it's meant to be inclusive
and we wanted to explain some of the
stuff that was happening and talk about
what else should be happening and it was
meant to be a lively panel but
unfortunately three of the panelists are
not here so that's not good and I know
one of them as a legitimate excuse but
about the other two so I was then going
to say who are the panelists so there's
me Steve pulled from IBM though I
haven't I am an IBM employed but the
moment this is not about in IBM is about
openjdk in the community so that's me
have a microphone yeah so I'm sure I'm
from work call and chords architect and
frigidity like I said the one to blame
if you have any problems you might as
well keep it you're going to need it
yeah yeah who else well who else is here
what is involved Daniels yet you know
anything key so the idea was and is so I
was going to get a quick roundup of what
we've achieved so far and what's just
about to occur and then open up to the
panel to discuss some of the big
questions so we'll see how that goes so
when OpenJDK sort of hit the streets and
people started to get involved in it and
the building of the community started to
take place one of the most immediate
things and it's probably the biggest
driver here is its visibility into build
results and test results access to test
cases and things like that and also
figuring out how to have a good
contribution process for people who want
to participate so it's an open source
project and it needs it needs to explore
information about what's how to do
things what's going on you know builds
tests that sort of stuff so we've been
working together so it says on their
informal workgroup so the London Java
user group has got reps they come in we
get together IBM Oracle anybody else we
just talk about what we can do to do
that we have quite regular calls mostly
focusing on the testing because one of
the biggest problems is the lack of
tests for OpenJDK but you know we're
working to improve that that ljc guys
have been championing getting open
source projects run against java rate
and getting the test run and so there's
a program for doing that and if you go
googling for it you'll find it fairly
easily so there are lots of people now
helping getting running their product on
top of java rate finding bugs reporting
bugs so that's all good we've been
trying to get people connected with
OpenJDK and trying to load up lower the
barriers of being community a
contributor and so we identified that
there are many people who don't feel
comfortable about writing code for
OpenJDK but would be happy to write test
cases so we've been running a few things
called test fests which is aimed at
people to come along
and pick an area and write some tests
and then contribute the tests and and
they've been fairly successful and we're
looking at any more of those but opening
them up to more than just writing tests
actually trying to get people to come
along again and hack the code find bugs
go to the bugs tracking system that
exists which is on the bottom which is
fabulous news to see you know you
imagine how asking people encouraging
people to go along find those find a bug
see if they can fix it contribute the
patch write a test case there's lots of
ways of people getting involved yeah ah
so yes so that's it so oh and the other
thing was code coverage code coverage is
code coverage of the test cases how well
to the public test cases are available
exercise the code and where are the gaps
because if we can identify where the
gaps are then we can help people or
other people can get involved in and
fill the gaps so so good stuff is
happening and this is when i open up to
the panel so so i've only got a cut this
this basically this slide and another
one and this these are the big questions
right what are the practical first steps
for a developer to help out with OpenJDK
build and test so what is it that first
what is it with you come to this if you
come to OpenJDK we know what are the
first things you have to do and some of
the questions are how easy is it to do
what could we do so either invite daniel
because come up here Daniel comin up
speak kind of a you got one you got one
there's one here
hello Gideon yeah keep thing that was
done here so first question what are the
practical first steps through a
developer to help out with OpenJDK it's
cool first steps I mean there's actually
a our kind of released a mercurial repo
with all the code for OpenJDK so the
best thing to do is pop along and
download the code have a look there's
lots of cool wiki's guys available and
i'll give you some links you wanna come
and see me afterwards so the
presentation of both the other night
actually were lots of very interesting
links on it as well so and we've got
lots of wikis walkthroughs and because
building the OpenJDK not to scare you
it's not trivial it's a few interesting
things going on so honestly C++ code
some Java code itself so there's some
great wikis to guide you through
step-by-step be it at the command line
tease me be it with eclipse whatever you
want to do so I think that's the the
practical first step is to go along for
Macchio repo download it good stuff I
was going to object a building the
complexity of building OpenJDK really
depends on the platform you're doing it
on like a break because if you take like
Ubuntu it's really simple it's 15
minutes to comment on 15 minutes the
configure you'll have to rerun around
and copy/paste apt-get install blah blah
blah could replace lioncel really quick
yet in a very good point and on the only
flip side of that if you're with windows
oh just forget it exactly you can try a
new cygwin but guys I'm a Mac OS fan OSX
but linux is that till you burn to even
easier so if you can fire up VirtualBox
chuck on you bun two of the all free
downloads I highly recommend that if
you're getting started very good point
actually how many people here have
actually built openjdk wow professionals
that's good yeah yeah it's that yeah
that's really yeah so do you think that
it's easy to get going I really do I
think we made huge progress in thanks a
lot of guys in LJ seein and other people
have mold as well and Manny sakam Takeo
Jessie's done a great job of writing
wiki's cuz that's often the barrier guys
you know particular the social coding
model you get to absorb it buckets you
expect to WIC you don't you you expect
to kind of jump in and get going so I
think and over the last year we've made
huge progress in this and honestly as we
just said it's really easy and then
in some ways the biggest barrier now is
knowing it's there and then taking that
leap of actually diving in so once you
do you actually work on the platform
that you work on a date that your day to
day job it's really quite cool but it's
just taking that initially knowing it's
there knowing it's not hard jump in how
to play so-so okay you can go and get
the code and you can build it how do you
know that built successfully Oh a
question to us so you have a the make
file gives response every salts doesn't
it yeah so there's a make file we've got
there comes to because we actually alive
Demi the other night where it didn't
build successfully which is quite quite
comedy so we were there standing at the
big screen going on why's it failed oh
yeah it's quite quite cool but and yes
there is a nice em nice results printed
it on the screen view what's failed you
can kind of follow it through again
massively active mailing lists a couple
of guys let's a manicure Helio are on
the mailing list 24-7 guys they do not
sleep there that keen yet there that you
know invested to any problems mailing
lists it we got couple of Twitter
handles as well fire up questions email
us no worries and we'll help you you
know sometimes the build is broken but
more often than not just a config stuff
so ok so I'll challenge that ok because
it's a panel so I choking so and this is
serious so building running the make
file and getting it to the end and it
says here it built and you go out got
some binaries and that's good how do you
know that that actually that's built
successfully you've completed it you
have something Jared this version sorry
java dish program but if it works
there's clouds but nobody'll hire key
that even that even that's not good
enough right so so the thing I'm looking
for and I and and I would keep kicking
over this is I would like to see the
build logs the Oracle use when they
build it so when I build it on linux I
would feel like to feel comfortable at
my build rapport so when you build when
you if it's perfectly clean and there
are no errors that's good but when you
have output that says XYZ edits I did
that occur on the production when have I
got the same situation so I would like
Oracle to publish the build logs for for
what they do so they build it on linux
and they say here's linux 32
here's the build log and here are the
build instructions this is how we built
it because one of the things is there
are loads loads of options for building
it okay and if you want to reproduce so
let's imagine this you're changing the
code and you want to contribute it and
you can say hey built for me but are you
really certain that it was built the
same way that hour ago bill there build
the all right it may not matter in many
instances with the times that actually
it does matter and it's just good
practice to have an open source project
saying here's our build logs sorry rent
/ yeah they're just going to say that
it's probably doable for the OpenJDK
build switch which we publish right not
the jdk the oracle to negate bills yeah
so the open jdk opens the build logs
available I don't think so but it I
don't know if there are any trouble
didn't have any time sure so I mean let
me look so that's one thing that gets me
and the other thing I'll course is the
test results but the good news is the
test results are now being published and
they have been for all quite a few
months now which is really good what's
the next one the next one was yes what
are the biggest barriers to outside
contribution they can see the wait wait
what so wiklund we did a jig clone we
got the source or built it now we got
around this right oh yes so are there
any roadblocks on i entice I know about
one how about you guys how toronto's
Ajay Saxena few guys it will familiar
with JT reg and I love you put your hand
OpenJDK but do you guys know Matt Jake
JT wreck have you run the regression
tests so less more button over there a
particular and that's fair enough
because that makes sense in it so JT reg
is essentially the Java sort of testing
regression harness think of it as unit
integration tests for the SDK and the
platform itself and that's a great way
to actually prove that what you've
modified if you did some modifications
to prove it actually doesn't break the
JDK so when do all about steve because
it's your belt estimate about the JT
register yeah you're more of a next well
so the JT reg so JT reg is the framework
for running you can use to run the tests
that open the
the test repo so for so if you check out
openjdk you get a bunch of tests and you
can run those you have to install the JT
tool but then you you use that as
instructed which i think is very
straightforward and then you run this
bunch of tests and you get some results
and you can see what worked or didn't
work it used to be that you would get
failures what you always get failures
but the question is is a failure that
that you've caused or is it a sainted
that was there originally so obviously
before you make any changes you should
run these tests to bench line it and so
you know what you got initially then if
you make changes and run them again
you'll see if you change things but if
you don't do that then you've got to go
figure out whether that test was already
failing and that requires the the test
results to be published as well but sure
and his colleagues are doing that yes I
was going to say that for me been on a
bunt and everything building GT rich is
more complicated than building
openjdk right now there is binaries
available now for it now that with this
some hidden away because good point
actually building a jtag tool itself is
not again trivial it's got some quite
bizarre dependencies and I know and I
festival too I had a lot of fun but even
on ubuntu actually judah ridge is an
extension to java test ogtt harness
which is a public name for a test
harness which is used for GC k in
particular and there is to build Jason
harness is not available in binary as
well you have to build it and it depends
on G help and some other stuff so you
don't have to do all that I think if you
guys do want to run it and because I
went through this crazy process of
trying to get all the code and I did I
think much to get working to be honest
there for the test best that went long
to but then I rolled up in the test fest
and someone rolled at a USB instead of
got on binary so hot man and even worked
on OSX it was built for the next bit
worked and I sex fine so I mean I think
if you guys and do want to have it at
the JT reg stuff come and give us a
shout because we can get a hold of a
binary for you I think there was some
Nuyorican don't I do is that I thought
that sort Java code so you don't need
just download it it's got its got
launches reach platform but that's
fairly legacy you can run almost any of
them know what there was some issues
actually with licensing so they kind of
try to retract it but I know it is still
available I audio googling you've got a
google some cryptic words but again come
yessum so sue a question is and we ask
this of other people is what they think
about using JT wreck so it's fairly old
i mean you know it's been around for a
thank-you predate j unit probably and it
has its reasons for existence but and
the test that it that it runs if you
look at tests in OpenJDK there are javed
tests there are script tests and you
know some of that in the right either a
unit test or test ng tests the JT rig
tests have fairly simple you ever made
you run and you you basically say report
failure if i remember you don't that
they don't have the same sort of thing
as j unit so lots of people who get
first look at this go why am i using why
would i right JT reg why can't I write
using j unit or test energy and why
can't I use my mock stuff and yeah yeah
so first of all jittery does support
distance your test format yeah okay so
there is an annotation it ran tests and
achieve whatever ng unit doesn't also
you can do that there yeah it's not
destined G on itself and just getting
back a little bit so the weather there
is whether there is an alternative to GT
Ridge I don't think so from not right
now we have our homeroom harnesses
besides GTH which we use but when when
it right when it comes to executing
multiple unit tests and a separate vm or
in the same vm or in a bunch of frames
depending on configuration and there is
just no such harness and if you like to
read the comment ation on testing g how
they make how to run all the tests in a
separate vm and the guys are saying well
your tests are wrong you're not supposed
to do that oh come on with distant
judicata doesn't work yeah okay let's
talk about using process builder for a
while one there as well but i appreciate
it's quite a unique platform to test
against guys because in not only less
it's very vital point only can you just
run your tests ng and j unit which we
obviously all do on a daily basis but
you think we need to test about how VMs
interact when they're running in the
same space that kind of stuff so stuff
that you wouldn't in an enterprise or
even an SE
you don't come you don't encounter that
D on a day-to-day basis but we've got a
test i say running in the same process
do bm's interact they conflict so you're
right you do need to shell out what
things so that's definitely one side of
it but the other side is you you're
running tests on a vm that you may have
modified yes so what you need is
frameworks that spots failures you know
you call files and things like that so
you need something that can drive so and
also need about a drive maybe drive the
vm with different options set right so
it's not you're not taking the VMS and
the class Tyra's as a done deal you know
you're in the middle of developing this
so you have to have a more sophisticated
arnis so that's what JT reg is therefore
but my point is really is that even if I
so my point is you can still write test
ng tests you can contribute test ng
tests you can cause bj unit tests I
think it's a great way to get involved
Steve to be honest as well in it because
it non ski guys off as well because I've
written a few tests energy and test
cases few Jane and stuff it's a great
way to get involved but then a lot of
you and you're you know day jobs
probably when you go and look at the leg
legacy code base or you turn up one of
the first things I often do as a
developer as I started looking at the
tests if they're written well you can
actually a kind of self documenting it
you know the best tests and then you can
start modifying them and seeing you're
getting feedback and and it's great way
to get involved me openjdk look at the
tests that there we're actually
encouraging you to rewrite for your the
tests you got some of the tests are
quite old and they use like thread.sleep
to like test concurrency which we
obviously now again you countdown
latches that kind of stuff from JDK five
and there's lots of project coins that's
not gone into the test so if you want to
go for him you know I know it's fairly
sort of easy to do that stuff it's a
great way to get familiar I think the
test ng is you know a great framework is
as its j unit so jump into that is it
great way to get started yeah so i agree
that there are loads of ways to help and
at the test level that can be just
writing tests it can when we see writing
test is and you can go pick an api and
say what's it supposed to doing rights
and tests if you go look at the G if you
go look in the regressions the test
folder it's fairly straightforward to
find out tests and
related to the area there aren't any or
you go look I want to go that's not very
good test and you know and they're not
perfect there are lots of tests and
there that are I don't know exhibit some
of the symptoms of bad tests but they
could be ruined and the other classic is
I say to go find a bug now we've got a
bug tracking system you should go find
your favorite bug that reported two
years ago and see their has many effects
but now you can see what the Oracle
developers thought about it ending a
right test and submit a patch and a test
and it really is as simple as that this
is just what that really happened after
the test fest in st. Petersburg there
was a bug which was marked as closed
that's not me producible and I created
three tests for it finding it is
actually the desaree in the queue second
they can arrive on this swing LS it was
it ought to me there's anybody here
actually tried in any contributor to
educating so thanks on what you do
easy
so so it wasn't it wasn't a good
experience then yeah yeah so one thing I
would say guys it was good so but there
is he put his hand up as for contrary to
Rome Jenny caper he's a professional so
he doesn't count one thing I would say
guys is there something I've missed the
conference everyone's really excited
about lambdas new datetime all this kind
of stuff but I'm running sort of some
hack days getting involved knows I've
been playing with this stuff for ages
and it's been it's been great not only
to learn you know slightly ahead of the
curve but influence it if some of the
lambda stuff doesn't do what I wanted to
do I can feed back to the hack days
that's really cool to actually drive the
direction of the platform and and see it
before everyone else does that's
something like this conference is really
highlight to me as in LJ series I'm
really lucky to be part of the OJC with
some of the guys including Steve what
kind of bit ahead of the game and I'm
learning about cool new stuff before
it's actually you know mainstream goods
that you know that's great for your
career in Episode II and and from a
practical point of view if you have an
area that the the JDK that you use all
the time in your in your work life then
you've got expertise and you've got it
probably got really great expertise that
OpenJDK could benefit from because you
know developers are building this from
the inside and you as a user a practical
user will have use cases and things that
you can come to you back so if the
design doesn't work or there are inner
edge cases issues then make use of make
use of that so it's like the date and
time date and time API that's that's in
Java rate know yet another one does it
do what you want and you know it's
better to get in there quick and tell
people that actually you've you have
some final requirements anybody goes in
the next one it's you know everybody
everybody has a view of how date and
time should work and you've built
systems on top of area yeah
so the first thing is you point that out
and you say this is non-standard so
raise a bug on the jdk on the new system
and say this is crap this is yeah oh
it's our which specification are you
talking an external one or just the jdk
speck of JSL yeah so well on your road
to test yeah why don't you write the
test and put it you can put it there any
sense right this the despot who
basically defines to be here if we can't
come to a point that within the test is
not right okay then where is it but up
Jillian test is passing everything's
fine yeah so is this a it's just a Java
API okay so they comb dog we can still
ready just calm down son that sort of
thing yeah yeah you know what its gonna
go over it yeah yeah who I so I think
the yeah writing test for it but but
making people wear that you use it you
know and getting that out and saying I
rely on this are you going to make a
public API for this yeah well that's
what I mean you'd have to do that yeah
yes yes and just pointed out that that's
something you rely on yeah so so we told
so I'm just going to skip over the one
in the middle because we talked about
fests and I just thought I has anybody
participated in any of the the test
vests or the hackfest that go on yes yes
good hello Richard to her it was a good
party so so test first is is again we
get people together so it's very
straightforward so we run a few and it's
so far it's been let's get at people
together from a user group so your
scheduler eating you get people to come
along
and you write tests so you need a few
people who have some skill in how to
write tests possibly and you have some
people in might have some skill in in
the frameworks but don't need to have
much and if you've ever done any of
these hack days or any of these sort of
get togethers they're great fun because
you can you can learn mothers you can
express your ignorance and people's not
particular bothered but they're really
simple right because that you're just
sitting there going I'm going to pick
saying I'm interested in I'm going to go
look at the Javadoc for it and it says
XYZ oh I wonder then you start thinking
about it and you start saying all some
gray areas i'll write a test for that or
it says XYZ it does it really do X Y
said and we need tests openjdk is
desperately short of tests right so
paradoxically open ju k is high quality
because it gets tested by oracle an IBM
using tests that aren't public and
they're never going to republic for many
reasons so we have high quality so from
from from a commercial point of view
with we're fine oracle and IBM we're
fine thank you very much but as you as a
contributor to OpenJDK as a third party
you need to have tests you need to be
confident that changes you're making out
breaking things and you don't want to
rely on having to submit your patch to
OpenJDK and then have it break and then
they tell you that some internal test
broke sorry you can't set your patch you
know that's nuts not good so we need to
be building a large body of tests and it
takes time and the easiest way of doing
it is to get people together look at
api's that they're familiar with that
they're interested in and and just write
a few tests and then and then contribute
it hence it's ridiculously easy I mean
there's just you can write simple once
you can write hard ones we run one in
Poland and one of it one of the guys
sitting next to me we're doing the
base64 testing and it turned out he'd
been using base64 in JavaScript he had
loads of experience and he produced
those test cases so i was in say the
other thing about kind of hack days test
fest type events is that nowadays people
think social coding is being kind of
github
bucket type you know internet
collaboration type thing but there's
also quite a good aspect to just running
just running a test fest which is a
collaborative cody exercise tune up your
skills understand the way things work
more in tin OpenJDK call dibs yeah so
before you any further joined to
introduce yourself sorry I'm Richard I
help out of the LJ see the learning java
community and help run a test fest with
Steve in Poland and the LJ sees run a
couple of other tests fests in London
and I think we're hoping to try and get
a bit more momentum towards the back end
of this year and early next year around
running more of them yes yes though we
think that it will work better if it's
more than just focusing than tests we'd
like to have more sort of open hack days
it's come along and hack on the code for
sure come along the right test cases
just just and come along and learn and
if there's something you want to learn
about then one of the ways the best way
of learning an API is to write some test
for it examine the code do other people
you know test your assumptions so we're
looking for for all any opportunity
anywhere in the world or we can do those
sorts of things and help people you know
helped themselves by helping OpenJDK can
I just pitch near guys that's how I
actually joined I think about a year ago
so I came along to whether test fest run
and not only if you want to pitch it to
other people outside the organization
not only do you learn Lots cool stuff
back OpenJDK and so forth but the people
around OpenJDK are pretty smart people
in general so it's a great great pitch
to your colleagues you know your peers
come and meet some interesting people
and you'll learn lots better OpenJDK as
well but you make some great contacts I
think it's really good point Richard
made their about social coding we're
definitely thinking the internet
generation social coding is github which
yeah true but I think we're losing the
fact getting guys and girls into a room
together hacking away chatting about the
code meeting interesting people that's
really important so that for me is a big
way to sell these kind of events getting
like-minded clever people in the same
room so my second point out there which
is I'm going to ask you both because you
know you're outside all this is what are
the biggest barriers to making that
happen you know we talked about it's
easy come along and do it
what really gets in the way can it can
adjust quick comment what you've been
talking about so what you're talking
about some tests which are internal
versus something sometimes which are
external I mean you know in the open we
are in the process of pushing this into
openjdk I hope everybody realizes that
we are doing that it is slow because you
have to understand every test see
whether it is a duplicate on out and
interact etcetera etcetera so it's
taking a lot of time but we are doing
that there is not to say that we don't
need more test video emergence of course
that's good and if you take the areas of
tests that you think you'll be
publishing I would wait for code
coverage numbers this is one of the yeah
that's okay sorry i was going to say you
are asking about barriers to contribute
so we're saying which sister said cannot
help it's great it's easy so what are
the practicalities what is the people
find problems so I i think there's
actually like a whole bunch of different
barriers but they're all things which
are kind of you can overcome over time
so i guess the first thing is kind of
the legal barrier you've got to sign a
contribution to get code in which is
fine for loads of people i work at a
company where that's fine even if you're
a contractor you can just sign as your
kind of contracting company and it's
absolutely fine if you're a permanent
member of staff at a large corporate you
may have a little bit more difficulty
and I think we have a few people in
London who have that is kind of a bit of
a barrier to entry that they need to get
sign off yeah quite a few levels of
management above them yeah so that I
think there are some technical stuff so
for a start there's also just to begin
with a lot of people had the process I'm
just the basic difficulty of getting
openjdk to Bill to begin with now the
build infrastructure also has made it
significantly easy because it's a kind
of autocon based system for doing build
so it's at least much more meaningful to
people who are familiar with the
traditional see build tools once you
overcome that I think there's a barrier
as to where you need to
start looking so that's something else
which is being kind of so you mentioned
the issue of where are the tests that
already in OpenJDK and where are we
missing tests so there's a bit of an
ongoing project at the ljc to get proper
code coverage numbers which I think
we're close to the stage where we can
start publishing and I think Steve might
have some numbers as well our overall
approach to that has been to take the
jacoco code coverage tool and there's a
branch that's got JDK 8 support you need
to fix a few bugs in that as well which
we have patches on which should be going
upstream as soon as the jacoco
maintainer czar willing to accept them
and then you also need to fix a few
assumptions in jacoco about it having
these strange null termination problems
are trying to do code coverage of the
code the jacoco code is directly using
well I think we've worked out a solution
to that one as well and hopefully we'll
get a patch upstream for that so I hope
in two or three months time and be very
easy well I'm not easy easy but at least
we'd be able to provide people with a
script that they could run jacoco and
see where the code coverage is and if
not hopefully we'd be able to provide
concrete numbers hi um oh yes yes I
don't want to kind of throw numbers
officially yet because they're not um
there's still a few bugs in the process
around jacoco but I think by our measure
which is an under estimate of what the
existing open source tests in OpenJDK
cover I think we were about nineteen
percent of the code base okay so that's
much better than that you think's much
but as I say it doesn't only lower I
don't think I have the report we are in
the process of my hand or not fixing the
box and in the tool because the toe
grows with dedicate yeah we're getting
the approval sorry we're beating the
approval continue okay okay Phan thi
have the report and I don't want to
disclosure any numbers as well but it's
been well at all so that's why I have
the caveat
numbers being a we know that's an
inaccurate number but we're not sure so
that's a lower bound on what the
coverage is yeah but yeah hopefully
they'll be again within a couple of
months fairly official Co coverage and
that kind of solves the next barrier to
entry which is kind of where do you
start and then once you once you've got
over those things so once you're happy
that you can contribute your tests when
it's you're comfortable with a building
environment and the other thing on the
build environment is if you haven't
looked at the adopt OpenJDK wiki there's
a whole bunch of really really useful
instructions for helping you get through
kind of corner cases or issues you might
have and also setting up for example
code in Eclipse so you can just directly
use something like it for the Java code
at least you can just use something like
eclipse and then I think would you point
people at doing it themselves I going
off to and JDK would you point them at
the sorts of things that you're building
in knowing github and the better ever
and things like that so I think the the
beretta contribution that better so so
better of is a kind of spare time
project a couple of us in London started
to try and hook up the bit bucket online
code hosting system into the kind of
Oakland JDK contribution process so the
traditional way of submitting a patch on
openjdk is you made your code you've got
it in your local branch and then you run
this fantastically esoteric 3,000 line
korn shell script that generates you a
bunch of files called a web Rev and then
you can host that web Rev somewhere and
say to people guys is it the patch have
a look at this now the same it's
basically the same idea as a pull
request in github but with a lot more
fiddly pneus around it so what better
rev is trying to do is reduce the
barrier to entry of actually getting
you've got some coding you've done some
coding and you want to actually push
that upstream so you need to have a way
of getting that patch and that code
available for people code review and
easily and more in an easier way
so can you where would they go to look
for this information I think the best
place is the adopt openjdk wiki which is
I think if you just go to adopt OpenJDK
dot net is that correct yeah go ahead
I'll Sid you guys I'll run up with
Stephen I ran a buff I think two nights
can I Steven net on Monday this was like
weeks ago yeah javaone fever and so have
a look guys on the content catalog as
well because we've got and I perv
uploaded the slides to my blog as well
so you can call on to the blog and give
you the address if you want to come and
see me afterwards and it does give loads
of links as the ones riches mentioned
Twitter handles links the better f code
itself because better off as rich as
mentioned is an open source project and
we're desperate for contributors so if
you guys want to come and join us and
that you don't have to be in London you
can be wherever and we could set in the
work over over the interweb that's fine
and there's many resources there but
that boss lives might be a great sort of
jumping off point cool so any questions
from the audience to the panel or any of
these questions it's far too anything
early in the morning
okay so the first thing so you can you
can to contribute the patch you have to
assigned the oracle OCA so and that's
fairly quick you get a film the form you
fill it in exactly correctly with all
the right words the right places and you
send it off and they turn that around
fairly quickly and then you contact your
patch so yeah so the next step because
you got to find the right mailing list
to post your contribution to which we'll
talk about a second but then you would
just take the Web Rev and either attach
it or you would point through it and say
Here I am his dispatch and you just
literally post it to the mailing list
that's relevant and say I have some
changes what do you think and normally
you'll get a response from somebody on
the mailing list fairly quickly somebody
who's a able to take it further give you
some feedback and potentially turn it
into a real contribution and when they
do that it when it finally gets
committed it'll have biddle have you as
an author and eventually if i come
branding you see it coming back in
you'll see in the code base when you
when you update so your mileage will
vary with contributions because it
depends on your contribution you know
yeah and just you know is it is it
stylistically correct do they like the
code structure are you solving a problem
that they think needs to be solved they
may disagree with your reasoning they
may say we don't you know we'd like you
to change the coding that's what ever
happens but getting it to them is simply
having a web rebus that is the best way
because the oracle guys are used to the
web roads and that's the usual
discussion not even discussion
demonstration of the patch but you would
make a point of view would publish a
link to that awesome as a male and and
it'll go from there they're really
simple i was just going to say on the
signing the OCA stuff sometimes you can
get a bit of a lag on that kind of thing
so if you do get a bit of if you do put
an OCA in it might be helpful just to
kind of and say maybe it's been waiting
around for a couple of weeks it might be
worth emailing one of the admins on the
adopt OpenJDK program like me or
Martine verburg as well and will kind of
politely prob the right person in Oracle
to make sure it gets signed rapidly so
if there is a delay on that front just
give us a prod yeah and they'll get
fixed me more okay I have one but I have
one more slide of less less big
questions which was just things we
talked about so when we were putting
together this panel it was like well
what questions are we going to ask
ourselves and so we had sort of the big
questions and then the little ones so i
will i will leave for anybody the panel
to pick one and say X was it is it
really hard to get involved I don't
think it's hard to get involved I think
it's really easy to get involved i think
yes openjdk could be better in some ways
but getting involved is just no you
deciding that you want to get involved
it's like any open source project but
you it's the anything you just have to
be clear about what is it you want to do
if you turn up and say I want to pour
hot spots of this platform that's a
great thing to to turn up and suggest if
you turn up and say I don't like the
design of this I oh and i'm going to
change it completely then expect it to
be some sort of battle yeah i think
that's something probably on the getting
involved you probably need to so i don't
know how many people in the room are
kind of aware of this or maybe even
covered before i came in but there's a
kind of obviously a restriction on the
extent of changes that you can make an
open jdk kiss a lot of the public-facing
api's are in some way standardized or
controlled in a way that means you can't
just say here's a patch let's go and ads
I don't know a new method to
java.lang.string that that kind of
change is just yeah yeah isn't it is not
going to magically happen but there
there are lots of kind of I mean this is
one the restore i met your build and
test because there's a good range of
contribution in that area but that's the
kind of thing you might need to think
about because especially a lot of people
i've seen when they're writing test code
for say their own projects might be
willing to say expose some internal
state of what they're testing in order
to test it but that's obviously a bit of
a no-go in an open jdk situation where
you've got to
were maintained that binary API
compatibility I mean I mean if you've
not ever continue to open source project
then you have to be aware that there is
a there some implicit open source
etiquette about contributing and talking
to committers so if you post something
and you get no reply is then that
usually means that they don't like what
you want to suggest so you know you
might follow it up and say anything when
you see this and if you can get nothing
from them then then don't push it
because you push too much then you'll
get something you'll tell you where to
go you know but the idea it's come along
and say stuff and don't be don't be
don't worry about what you want to say
we've the more people who are on the
mailing list who don't work for a call
the more vital the community will be and
it suffers the moment because we don't
have many people there making decisions
about what API is going to be done on
how they're going to be designed they
need input from end users and the best
way is to is that if you how passionate
about one of these things get in vain
even if you're going I'm never going to
change any code and never going to
contribute test cases but I'm going to
participate in the design scoffs
discussions I'm going to give my input
that's that you can do that that doesn't
just do it guys that's nothing in some
ways a big challenge I didn't some of
you guys put a part of jugs and maybe
even run jugs I think a biggest
challenge is often getting awareness out
there that's some in some ways the
biggest barrier to actually getting
involved is knowing it's there and what
you can do you're chatting to people at
the conference so far they're like what
I can actually download OpenJDK and I'm
like yeah course you can have a look you
know wow I can look at what our double
is crazy i can look at how long you know
long has corrected that Custer so I
think that's a big big part getting
involved is actually spreading the
message as well you know I said slightly
maybe slightly orthogonal to them how
easy is to get involved but I think once
you do get involved your lies how kind
of cool it is and then we need to build
momentum nice you're saying we need more
people yeah in the trenches that as i
like to say kind of working day in day
out with this code yeah clearly they are
in a good position we are in a good
position to influence the future of java
yeah and now the bug tracking system is
available you can go see what's going on
and i'm not sure whether you can you can
comment on them without having signed
the OC
you I think it's a little bit worse than
that I think you actually need to be a
author or above in the openjdk system to
be able to calm an attack so just just a
piece of reference openjdk exactly has a
bunch of kind of layers of what the
concept of how involved you are there's
kind of you can be an author on a patch
or a committer committee means you can
commit your own patches your own project
and then the next layer up from that
means you can kind of approve people on
projects and you know that there's
there's a hierarchy and those people
have kind of officially approved
accounts on some of the existing systems
and it's what's the name of the is the
census isn't it the UN JDK census page
which lists who has access there so if
you're not listed on the census I don't
think you can comment okay on a bug but
sorry confirm yes yes but if you are in
that situation you can always email the
appropriate mailing list and ask their
or try and start a discussion about a
bug now one of the other things that the
better of project is aiming to do is
provide an easy to follow hey this is
the name of the file I want changed one
of the mailing lists the own or control
that file because there's about I don't
know how many minutes there are n
openjdk was like 50 plus yeah so it's
quite hard sometimes to figure out what
mailing list you need to go to to talk
to people about the issues but even if
you can't comment on the issues it's
also or if you're just confused or just
want help the open the adopt openjdk
mailing list will definitely have
someone on who can tell you are right
yeah this this needs to go to this to
this area I it's some things for which
mailing this to go to are a little bit
obvious like you know there's say a call
libs alias and things like that or a
compiler dev alias for java sea but that
you can sometimes it's slightly
overlapping aliases where there are
multiple people who kind of normally get
cc'd in on different patches so if
you're a bit confused just emailed dr.
openjdk and one of us will get back to
and say it's probably this one
yeah okay so the next question is do I
need to be a Java C++ JVM guru and if
you're of course the answers yes you
must be one of those and the simple
answer is no good comes very good
questions leave again at hack days we
often get people coming up to us and
saying you know do i need to be jeep c++
tech expert and yes you do if you want
to start hacking the memory stuff but
that's quite hard core and as which it
said what you can actually do in terms
of that is you know bit restricted
anyway but in terms of getting involved
anyone can get involved the hack days we
have been part of AZ and we've had guys
you know junior straight have unique
actually still in uni some of them it's
a great kind of way to get people
involved at university level and so the
answer is it is a definitive no unless
the community is great so come along in
some ways enthusiasm is more important
than skill come along chat to us we can
set you up you know we can point you in
the direction of something you know to
work on I think that's more important
and the sort of the flip side of that is
you're actually going to walk away from
the test fest and going forward with
more skills i know i certainly get up so
so I think we also will skip the next
question because it's just given the
answer to that one so we'll Oracle sue
me if I put in bad code hands up you
think that you'll get sued if you put in
bad code you should probably clarify
what you mean by bad co it was not my
question is Martin's but oh so the
breast of it but you know what it is is
that it's the fear uncertainty of doubt
if you're going to participate the large
open source project especially when
you've got large commercial interest
involved it's going to be oh I'm really
scared about it but first off the very
first step is you don't put the codeine
you contribute the codon somebody else
takes responsibility for making sure
it's correct so that's the first step
and when you get to the point where
you're a full commisar no bad words so
you put code in it was wrong when it
broke well that's just life you know
that's that's development and so there's
no there are no issues along like that
yes the next one though can I include
third-party code well let's talk about
what that means that doesn't mean just
can I go and get my favorite framework
in stick
in it say you can't give any code you
can't contribute stuff that you did not
offer if you're going to put if you want
third-party code from another project or
from somebody else then you know you
can't do it yourself you can't
contribute other people's code just for
the fun of it it's that's completely no
no yes
but if you've got the library do you own
the copyright on the code that triggers
the bug no but I mean if you own the
copyright on the library you can pull
out a minimal test case from your
existing code base right and then you
could write a test based upon that if
that minimal bit of code yeah and
contribute that yeah so there are
practical so there are legal reasons
there are practical reasons so the
practical reason of you not requiring
some framework draw a train pulled in is
because it just makes everything bigger
and then you think about things like the
regression test is that really they're
trying to they're trying to test a small
bits of Java and the more frameworks you
put in the more Java gets executed so
they're more likely there is the more
option or likelihood that your framework
will fail in a different way because
during development so you know you make
things bigger you complicate excuse me
complicated and you run the risk of
entry into of generating more failures
at the wrong time the simple answer is
supposed to be hold it the Pat answer is
if you've got a framework that your
juice a problem figure out what the
problem is a write produce a simple test
case yeah it actually goes further than
that because just recently we discussed
the possibility to use a third-party
native the tool for a native unit
testing that was in hot spot and it
turns out that that's not the viable
solution because it's not gonna work on
embedded so you better write this you
know straightforward code in Java if you
can write because the library who knows
what dependencies it has right well you
may know but you get the point yet
tonight is pitching guys on this note
the biggest and I think example where
this shows that for me is in the unit
testing itself because when I first
rocked up the test fest that was like I
want to check in hamcrest I want to
chuck in mockito because you know every
day I use those in my my day-to-day work
and I love them and they're great but
then they stand together they're like no
you can t that's third-party code yeah
so that that was the biggest sort of
blocker for me in
but then you can always sort of
replicate what you're doing with those
frameworks in small ways that's what
sort of i find yeah and there's no
reason why as a the open G communicate
yourself as a community can't make
decisions to say we're going to use
these things like he's using j unit but
you you can't there's no expectation
that you could have unilaterally make
that happen you've got to say there is
this thing it's really good have a
conversation and that's what open source
about i was going to comment that as you
sort of just mentioned there there are
some third-party libraries which the
OpenJDK does depend upon which all have
kind of everyone's happy with them being
in there and there's already or the IP
sign off and that kind of thing so both
tests and G and J unit tests are now
supported and the but you do have to
bear in mind that a lot of the existing
OpenJDK tests in the regression test
suite are run using a program called JT
reg which can run tests ng and j unit
tests now so if you're writing new tests
you can use that those frameworks but if
you're reading the existing tests you
might have to have a little look through
the understand that the j trag framework
there's actually a bunch of videos that
are in put online by oracle going
through tutorials on how you write tests
using those and some of the ins and outs
of building tests so I you've got some
my next life Oh brilliant yeah so those
those tutorials obviously there's some
views hopefully there'll be a lot more
in a couple of weeks but yeah they're
really useful for understanding the way
JT reg works and kind of understanding
what you can and can't do so they're
quite a good follow-on in this session I
would comment that you need to look
through this even if you're gonna a
distant cheaters because most of the
options across test harness kind of yeah
yeah yeah good point okay well I skipped
over the last one of the last question
what is an OCA which stands for a
coracle contributor agreement yes yes
and that's basically you sign your
rights away
it's a any open source project that you
contribute to will have a committer
agreement if it doesn't have a commuter
agreement then you should be very
frightened because if they just take
your code then there that may be good
for you but it means that they could be
taking go from anywhere so people don't
have an understanding of where the
contrary sins coming from and under what
terms and conditions they're going into
the system then you know you can get
into problems in the future so i don't
think the OCA is particularly scary it's
just you have to fill in it exactly
right in the right place where they send
it back to you and say no you put your
name in the wrong wrong column anything
is like riches hinted at is M some
people some employers don't like it
that's the only or you have to kind of
work up the chain titli in bigger
organizations we found that and because
there is some kind of exactly know if
you if you're contributing on your on
your own and you don't have an agreement
with your employer or employers that
whatever youth you know some companies
will restrict your activities outside
work and you may have signed a contract
to do so if you haven't done that then
you sign the OC as an individual and if
you have complain because it sucks than
area even if you have most of those
contracts will have a without prior
written consent which the OCA count says
so even if you have an employment
contract that says we own everything you
do and you know everything your family
does forever and ever then you if you
get if you still get sign off somewhere
else in your firm for an OCA you'll
probably be fine on my friend you yeah
it's just worth checking because lots of
people who come to open source of the
first time don't understand that they
think it's free and open and all that
sort of well actually there always is
some sort of contributor agreement and
you may be already signed off on one so
you just got to verify this is general
cottage I think the github and bitbucket
generation have missed that because that
is one thing with the get to have model
of social coding that's not actually
there people could just you know it's
the beauty of it Falken Falken pole but
the thing is that you don't know where
any contribution is coming from take you
some of the u.s. stuff the import
regulations make it trick you that kind
of stuff so I think that's something
that github has got actually and bit
get those well it's not the frames look
it's the project is the project's
responsibility yeah so what I mean is no
sort of framework in there to allow this
kind of contributors agreement where as
Oracle of obviously a head of the game
on that kind of stuff so so I'm sad to
end the the panel or talking about ICA's
but I think we're pretty much at the end
so if there's any last questions you all
now up fired up to go and do some up JD
ke saath yes sorry how good is that you
yeah it's a great question actually and
can I just say our I actually in my
company I know many companies do twitter
is a great example they actually do more
do their own modifications I think
Facebook a few others do so no it's used
massively and it's included by default
with you bunting and love their unix as
of java SE 7 openjdk is the reference
implementation for the SE platform jsr
which means if it doesn't work on
openjdk then you've not been writing
like proper java basically so openjdk is
where it should work on and if it
happens to work on other jvms that means
they've been doing a good job by being
compliant with the reference
implementation and foligno and
practically oh the open to different
than the openjdk and the standard jari
is miniscule I mean it is the same code
there's little maybe it up one or two
little extras but it's the same so
you're anything that you do in openjdk
any contribution you get back to openjdk
it's very likely to end up in the
Oracles production version as well
that's pretty cool yeah actually say
country the language you're working on
database something I cradle and yeah and
yes because if you end up causing a
regression and they find it they all
know who put it in you forever known as
the guy that calls that bug yeah well
you know okay I think that will do thank
you very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>