<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Coding for Desktop and Mobile with HTML5 and Java EE 7 | Coder Coacher - Coaching Coders</title><meta content="Coding for Desktop and Mobile with HTML5 and Java EE 7 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Coding for Desktop and Mobile with HTML5 and Java EE 7</b></h2><h5 class="post__date">2015-06-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/dgPSkcIqdqA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">they say we've got a lot to cover and
we've got about an hour to do it we're
going to try and leave as much time as
we can for Q&amp;amp;A at the end of it my name
is John Brock I go by JB by most people
except my mom Garin is over here we for
you those of you that are software
developers or real engineers in the
crowd we are probably your worst
nightmare we are product managers that
write code so here's the great safe
harbor you've seen that enough times you
should know where it is our agenda today
is really to kind of talk about a big
question that I started looking at and
thinking about two years ago and we
asked the question of is it really
possible to take an html5 client and use
that client across the whole spectrum
from desktop web all the way down to to
mobile and when we look at that spectrum
we're talking about desktop browsers
talking about mobile web or browsers on
mobile mobile hybrid which is your
scenario of taking that mobile web and
compiling it with Cordova or PhoneGap or
something like that down into an APK or
or an iOS app and then of course the
fourth one is that native one itself
where you're actually writing in Xcode
or you're writing you know directly in
Android and of course that last one
we're not going to touch today we're
going to start with this html5 thing and
try and bring it across those three
environments two years ago I would I
would say the answer that question is no
you can't do it for a myriad of reasons
but when we'll go into some of those a
bit today but over the last eight months
maybe a year some of the technologies
have started to mature to make it a
little bit easier and we'll talk about
those today so we're going to talk about
what are the expectations when you go
from a desktop app to a mobile app or
even from desktop to mobile web or web
in general what is displayed
what's transferred and then we're going
to do a lot of live code so as with
anything with live code bear with this
it's not just you know we are on the
real Internet we're really going to do
things we're really going to compile
down to a phone we'll see how all that
goes so the story starts with a client
and of course the server and for those
of us that were alive back in these days
I actually did do a little bit of
punch-card programming back in my first
year of high soar college but nowadays
it's really clients it's not so much
that client-server scenario but it is
all of these different devices that we
have to deal with and these data centers
now are more just services all these
data services around the world all these
rest services you can connect to and all
the different things that are going on
so it's a much bigger picture but the
expectations are actually still kind of
gray and and kind of funny so you will
get a lot of people that will turn
around and say hey I've got this app and
this is this application with this UI
and I've been told I got a I got to make
it a web app can you make this a web app
you know and you're like no you know and
so you're looking at this UI and you're
saying well modern you eyes are much
different I mean I'm not a UI expert but
I can tell you that's a very different
UI and so the start of this whole story
is when you're going to move from a
desktop for part you know on premise
type of application to a web application
you need to start from scratch you need
to rethink not only the UI but you got
to rethink what kind of data you're
going to transfer where's your data
going to sit what do you need to do to
really be able to play on multiple
devices does your application from the
client side have to look exactly the
same on the browser on your desktop as
it does on the smartphone when it gets
all the way down I'm going to say the
answer's no but that's that's up to many
designers and many different people for
me the biggest thing that was always the
impediment to this this whole question
was the data that was being transferred
underneath it you know when you're
sitting on a desktop you've got this
huge channel of data that you can you
know this big pipe that you can start
shoving things through and in a lot of
cases you feel like you're the only
person in it I mean you can do whatever
you want you've got all kinds of space
and room to play but now you take that
app that's sitting in a browser on your
desktop and you're hooked up to the
culprit you know corporate lan and
you've got all kinds of space and
you drop that app onto a 3G device and
the story gets a little bit more crazy
so now you're on a mobile phone and
you're sitting in the 3G service and
you're trying to shove an awful lot of
data down this little tiny pipe and
there's a lot of people around you
they're trying to do the same thing so
that's something we're going to talk
about on the client side but first we're
going to go back to that server side so
going back into the server I'm going to
pass over to Garin and he's going to
talk a little bit with the Java EE and
that whole space and what goes on there
so when you talk about Java EE of course
it's all about specifications it's all
about decisions that are made in
combination with the community and we
have a kind of pancake diagram like this
consisting of a whole bunch of different
specifications that cover a whole range
of different problems typically on the
server although there are also
client-side solutions that are part of
the java ee platform now of course not
all of this is needed when you're
creating applications on the server and
specifically for the kinds of
applications we want to create and that
we want to especially demonstrate here
two pieces of this entire pancake are
relevant the first is right at the
bottom you see at the Jaypee a
specification java persistence
annotations bottom left and right at the
top you see a block within which you see
jax-rs and jax-ws so web services and
those are the two parts that we're going
to look at and those are the two parts
that are actually relevant when we're
trying to create these highly responsive
interactive front ends while trying to
keep and leverage our existing java
knowledge on the back end so I suppose
most people would know the basic
concepts of rest but just to quickly go
through them again before looking at
what this means in code the basic idea
is that rest is based on the HTTP
protocol that there are standardized
methods put get post and so on they can
make use of there's a rest server that
puts out resources and there's a client
that consumes them and interacts with
them so the key term when you're talking
about rest are
resources and resources are accessed by
means of URIs now to see how that looks
slightly more concretely imagine an
application that is some kind of
shopping cart typically you would have
business objects like a customer and an
article and contract and a producer and
each of these different objects can be
accessed via these restful resources a
first step that you would do in exposing
your underlying data to interesting new
clients via HTML and so on would be to
create pojos that map to these restful
resources and then to expose them and
once those are exposed depending on the
security mechanisms you've set up any
kind of client could consume them so
that client could be a traditional
standard Java EE front-end making use of
JSF with component libraries like
primefaces
but it could also be as you're going to
see in our demos a JavaScript front-end
which in turn could be found on any kind
of device including a mobile device
including iPad or whatever whatever else
you've got and via those front ends you
can access that back-end now on the
right here you see a whole bunch of
annotations which are specific to the
Java implementation of the rest concept
and you see this in the code as well and
this is also a very nice comparison or
improvement on the previous versions of
Java EE where so much stuff would be
done in XML files which on every
possible level is a bad thing and any
Java program I think maybe the
definition of a Java programmer is you
hate XML that's that's pretty much how
bad
XML is also the switching of course
between the context of Java and XML
switching from a Java editor to an XML
editor and the typos you make and and
usually Java editors are far more
advanced than XML editors XML editor
doesn't help you as much so having
everything gathered and contained within
your Java code is very helpful when
working with any kind of code but
especially restful resources so to see
this in practice we're going to start
off with a manufacturer table which has
columns that you
expect for name and city and so on from
that table we need to have a POJO and we
need to have annotations on that POJO to
map it back into the database and these
annotations are provided via the JPA
specification and from that we also need
to have jax-rs so these are restful
resource annotations and to expose these
to the outside world and they we need to
publish these classes into the wild for
any other client to consume so this is
the the basic procedure we're going to
follow and once we have this starting
point and we actually see some JSON in
the browser we'll pass back to jb and
he'll create a client front-end for that
so i'm just going to make a switch so
what you see is that I have GlassFish
started up and I have here a sample
database using Derby and here are my
tables and here's my manufacturer table
and we'll see there's actual data in
there here's a list of our manufacturers
so now we want to expose this data to be
consumed somehow we don't care how its
consumed you want to expose our data
JSON XML in some in some format so let's
get started and we'll create a little
maven back end for this manufacturer
provider we'll call it and GlassFish in
Java EE 7 application is created here it
is what we could do is point directly to
our database and generate a front-end
from it so there is a handy template for
that purpose and see here restful Web
Services from database but if we were to
do that we would really have a short
demo so will will would take it step by
step we're first going to create a our
entity class so we're going to create
our JPA entity class from our database
so here are the tables that you saw in
our database
we choose manufacturer and we just I
mean this is also the really nice thing
about standards that it enables tool
providers to create code generators
because you know exactly what is
expected where so we've picked our table
that we want to generate our code from
and we can generate it in multiple
different ways you can regenerate it of
course so imagine we change our
manufacturer table we add new columns to
it you can come back in here and update
the existing generated class and our
class name will be called manufacturer
which is kind of helpful since our table
is called that too and here it is
created so we just have nothing other
than a simple java class added but as
part of the JPI specification we also
have a persistence XML file which
defines the connection to our database
and also the table generation strategy
and things of that kind now if you look
at this code it is a plain old Java
object in the sense that you can see we
only have getters and setters here how a
bunch of getters and setters so we could
be using Lombok if you didn't want to
see all of this stuff and have to
maintain it at the top we have a bunch
of annotations so these are the
annotations that come from the JPA
specification and a related
specification the bean validation
specification now for example here we
have this entity annotation which is
very helpful for a tool like NetBeans
because we now know this particular Java
class is an entity and we can act upon
that class and generate other things
from it but there are named queries so
instead of doing SQL calls in the
traditional way we can instead refer to
those calls via more readable and
understandable code manufacturer find
all which we'll be using and you can see
there's some bean validation annotations
generate it from the sizes of the
columns in the table so this is our
starting point so what you would like to
do is to expose this to the outside
world and what you're going to do is
generate a restful web service from our
entity classes of which we have one so
we generate that and you will now see
these annotations that I mentioned these
restful web service annotations let's
first start off here so this maps back
to our manufacturer class this is called
manufacturer facade rest you can see how
the path annotation so when I mentioned
that we can access resources via URLs
this is the end of the URL the start of
the URL is the context of the
application so we could see that in here
when we run the application we will have
menu slash manufacturer provider and
after that we will have our a the next
part of the URL will be this one slash
web resources and after that if you want
to get to this class we'll have this
whole long thing here which is been
generated in here which is a bit bit
clunky so this change it to
manufacturers and we can get to each of
the individual methods as well via the
path annotation so if we were to pass in
a number after that manufacturers we
would get to the remove function if we
were doing a delete operation if we were
doing a get operation and we were
passing in a number after the
manufacturers then we would get a
specific manufacturer
however we will pass in nothing after
the manufacturers which means we will
get to the only method that doesn't have
its own path defined which is this one
and this one is defined all so we'll get
you to find all and we can choose
whether we want to return XML or JSON so
we say what we want to have here is JSON
and that's it you can see it's very neat
and clean and we can change the Java
code and the annotations are all very
simple
so let's deploy this application but
before we do that we want to make sure
that we prepare this to be consumed by a
client and the client could be accessing
this application from a different domain
so for that there is a specific
template that generates code that helps
for that a cross-origin resource sharing
filter enabling us to define which
operations can be performed on this
particular resource by applications from
other domains how many of you have stood
up a rest service and then try to hit it
from another client and you get access
denied or you know a cross-site origin
blah blah blah blah blah right and then
you Google everything in the world to
find that course for that course servlet
filter that will actually allow you to
do something and then you have to code
it yourself and you mess it up somewhere
and you could just be generating it so
here it is generated and what it used to
be is that you this would now be
registered in the web.xml file which we
don't need anymore because there is a
provider annotation for registering this
container response filter which will
enable clients to access this data so
having said all of that let's deploy the
application and I could deploy to an
external browser but switching between
them in the demo looks a bit clunky so
we'll just run it and display there is
the result in a browser inside the IDE
and where we will see it once it's
deployed as well is in there so hello
world and surprising because this is the
root of the application and now we add
here web resources and then
manufacturers
and here is our JSON so now a clients
can access this particular URL and parse
the payload and do something with it
which is what jb is going to show and we
can see the application is deployed and
it's displayed as well in the glassfish
node so I'm going to leave it here and
then hand back to jb for creating a
front-end for this application can you
hit my number one over there thanks ok
so we're back over to the client side
we're going to deal with HTML 5 on this
particular side now is when we're
dealing with these whole html5 client
it's kind of
just become expected that responsive
design is used within your web
interfaces and your html5 clients it's
just it's just a what it is today
everybody expects that as you shrink
your browser down everything's going to
readjust and so forth how many people
have actually written anything or done
something with responsive design today
great that's fantastic is I'm not going
to go deep into it so that's a good
thing for most people when you're
dealing with responsive design you're
dealing with CSS and you're dealing with
as the the viewport shrinks or grows you
adjust something in the CSS using media
queries and fluid grids and and you're
really just kind of setting things up
back and forth and in this particular
case this is the chunk of code that is
going to be this application it has the
logo up here which you're seeing in the
code right down here and it's got this
or here's of the logo rather here and
the manufacturers title I've just set
the title class to be some really huge
size at the moment and as I shrink this
thing down the the the title changes and
if I get it all the way down then the
logo disappears and the title gets nice
and small that's all done via CSS and
what's really interesting about that and
what is one of the problems with
responsive design today is that it's all
done in CSS and when you go to like in
that particular case hiding the logo
you'll notice that back here in NetBeans
I'm looking at the generated DOM and the
generated Dom still has my logo in it
it's hidden because all CSS did was sit
at set a style class of display equals
none on it so all it did was hide it and
this is a really common thing when you
start out at your desktop and let's say
you've got three or four columns of
stuff and because you've got that big
pipe and you've got all that extra
bandwidth you may have all these just
detailed information on your right-hand
column charts graphs whatever your main
stuff in the middle and maybe a little
navigation on the left kind of common
layout and then when you shrink down to
a tablet maybe you get rid of the
details or you stick it
into a drawer and shove it off to the
side and now you've got navigation and
your main your main information and then
you go down to an even smaller maybe a
7-inch tablet or something like that or
or the new phablets that they call them
and you get rid of the navigation you
put it up into the little bars icon or
you change it to something else but the
only thing you're doing with CSS is
hiding it it's still being generated
behind the scenes and all the data that
goes into that is still being pulled for
that app so let's let's take for
instance I've got Google Maps and in
this particular case I've got this
little app and of course its demo app so
there's it doesn't cover everything but
if I've got Google Maps in here and I
click on something you know like my my
all sushis here and it goes out and it
grabs up the Google Maps and it draws
the the map itself with the address that
I have then what did it do interesting
soldi it was live code
come on okay so imagine a map there goes
so when eight loads up Google Maps even
on this pipe and I'm on wire I'm not on
the Wi-Fi that you guys all have to
suffer through you know it's it still
takes a long time there's a lot of
libraries loading behind that if I go
down onto a smartphone 4G or 3G it
doesn't really matter I don't want to be
loading all of that information but if I
do it today and I just hide that I'm
still going out and loading all those
libraries and that's a lot of work so
this is one of the things that's
actually really changed I feel in the
last six to eight months maybe a little
bit longer the technologies existed the
libraries existed but they're really
just starting to mature and this is the
whole concept of responsive JavaScript
not necessarily responsive CSS and with
responsive JavaScript I can start to get
into things where as I shrink this down
you'll see that when it hits a certain
spot okay it gets rid of my logo and I
now drop down to just three fields in my
table instead of all of the information
because now I'm on a smartphone I
probably don't need all that information
right there in that first field I'm
really going to switch over and when I
get into my detail page now I'm just
going to give some different information
and I'll cover this in a second as well
as to what we do with that but the idea
is is that if I go back and I look at my
code and I'm going to show two different
ways to do this I'm actually in this
particular case I'm using a small
library called response Jas now there
are there are actually quite a few
different libraries out there that are
starting to show up and doing this I
like response jsb cuz it's just really
lightweight and really easy to use but
it allows me to really quickly set up
the same break points that my CSS media
queries have and this response j/s kind
of sets up a listener behind the scenes
and it knows whenever I resize or
whenever I cross over a certain boundary
it's going to fire an event for me on
the JavaScript side so now I can start
to do different things on my on my
models or on the kind of the model or
I'm using knockout so you know model
view viewmodel MVC most people are used
to but in this particular case I can now
start to do some things on the
javascript side i could go in and hit a
different rest service and actually load
in different data if i wanted to in this
particular case I'm setting up simply
knock out observable called we are small
and you'll see over in the HTML where I
where I have my table I've just set up
some things that say if we're not small
then go ahead and show everything but if
we are then just cut there cut these
things out and only show me ID name and
my last header which is my my delete in
my edit capabilities this you'll see now
if I come back over into my code you'll
see that where I've got all of my table
laying out here and on data section
table and headers you're going to see
that I've got my one row and I only have
the three things in the Dom so the DOM
is only generating those three items
it's not going to generate all five of
them or eight of them or six of them or
whatever the heck it was that I had
before six I guess so now I'm able to
actually modify the Dom so I'm not just
hiding things and and I'm not using that
bandwidth anymore it gets even better
you know this is a demo app and it's a
little tiny thing but you imagine in a
larger app when you're starting to get
into these things you can start cutting
things out and making a lot more savings
on your bandwidth and on your on your
load times on the display so that's one
side that we can do this on the other
side of it is kind of when we get into
this this details side so there's
another library out there and actually a
framework it's more of a UI framework
and it's called foundation anybody ever
heard of foundation okay I love these
guys it's company called ZURB zu RB
foundation is their UI framework it's
very similar to I guess a Twitter
bootstrap or angular UI or any of these
other different types of frameworks that
are out there I just kind of fell in
love with foundation I like what they do
and I like how their product works they
in their 500 release they came out with
a thing called interchange and
interchange is
is basically this responsive JavaScript
but it allows you to start to do some
pretty cool stuff in on the client-side
so you're still inside of your HTML and
you're still just kind of setting up the
the attributes of the different elements
so in this particular case I've got
let's make that a little bit bigger so
in this particular case I've got a div
this is where my map would go okay so
this is where that big that big Google
map was going was going and then when
you saw when I got down into a smaller
one it actually changed up well
interchange allows you to basically take
HTML fragments and as simply as mapping
over to their small medium large and
they also have an extra large which maps
to these breakpoints that response j/s
was using on the index.html page in my
details page I'm saying hey for data -
interchange whenever I hit the small
load up small dot HTML load up the
actual small fragment to go into there
and when I hit medium and large just
load up my medium HTML now I'm also
using requirejs and requirejs is an AMD
asynchronous module it allows you to
load things on load libraries on a lazy
loading scenario so you don't have to
you don't set up all of your script tags
right at the very beginning in your
index.html you actually set it up so
that it only loads the libraries when
they're actually needed and again it
allows you to load the home page of your
page really quickly if you don't have a
whole bunch of libraries being used
there and then when someone clicks on a
details or they click on contact us and
a map comes up or something like that
that's when those other libraries get
loaded so in this particular case if if
I look at small and I look at medium so
medium is set up to require jQuery
knockout and it's also going to load up
all the map maps.google.com api's for me
and then I can start setting up all my
map stuff but on small I don't even
bother doing that all I do is just start
setting up the map address which is
again a knockout observable so I know
what my address is and then I'm doing
some goofy stuff where
somebody who's actually written a real
app before will recognize there is a
it's a kind of a spec that's out there
called intense and it's been around for
a really long time spin around since
2009 but very few of the of the browser
manufacturers have actually started to
collaborate on it so some some things
work some things don't
in Android which is what I'm using I can
actually set a protocol of Geo
and now in my web app sitting on it on a
mobile web if I click on an address it's
going to launch Google Maps app on the
phone so I don't need to show Google
Maps inside my browser anymore I can
actually use the real app that's on the
phone if you're on Safari or you're on
Windows Phone or whatever they call it
these days you use maps as the protocol
M APs and it does the same thing so
there's some pretty cool stuff that you
can do in that regard so I'm actually
loading up libraries a little bit
differently and not loading when I get
when I get really small so we can take a
look at that again in NetBeans I have
this network monitor that I can show how
things load and and where they're at so
let's take a look at let's go back here
let's go really big
let's read flowed the page you can see
in here that it loaded up my main DJ s
which is and it which is my require
stuff and then it loaded in the
libraries that were needed response
foundations so forth and then it did the
the call out to the actual rest service
and one of the cool things is with this
network monitor I can look at that rest
and I can look at the response and I can
see the actual structure of what was
responded back to me from that rest
service which really helps you when you
start to debug things now that loaded
that was just the index.html so I wasn't
doing anything too crazy in there so
let's go ahead I'm going to clear that
again just so it's easier to find it and
let's go ahead and click on all sushi
here again now I'm in the larger space
so it's going to load up it should load
up the map hopefully come on
there it goes and we can kind of watch
all those libraries loading behind the
scenes so in this particular case now it
actually loaded up a sink and then it
started loading up all of these
different libraries that are coming in
from the Google map did it actually show
we'll try it one more time
there it goes so we actually can see
that the map loaded I can look back here
and I can see all the different there's
a lot of the Google map loads of a lot
of libraries in the background it makes
a lot of calls and it's kind of chatty
so we can take a look at what's going on
there now if I resize that down to small
clear it and just refresh it really
quick you notice that we're back to just
loading up the rest calls and never
loading up the libraries at all so this
is what you can do in response and
actually now start to use this
responsive JSO responsive Java Script as
well I did want to show it one other
thing in that it's kind of a feature in
NetBeans that allows you to work a lot
easier between the desktop and what
we've done now with it with the maps or
with the with the desktop browser and
now we're going to go down to a smaller
device and say instead of running in
Chrome which I guess I kind of glossed
over one of the sections in here that I
should probably show really quick when
we're dealing with NetBeans one of the
things because we're we're synchronized
this little bar up here it says in that
beans connector we're actually
synchronized between the comb bar the
Chrome browser and the IDE itself so how
many people have used the chrome
developer tools mmm we all use them and
you go into your CSS and you start
adjusting all the little values for you
know lining everything up just perfect
everything else and then of course if
you've got your code running somewhere
else then you're kind of get all of that
and then it's like okay it looks great
what did I change and you start writing
it down a piece of paper and then you go
back over your IDE or you go back to
your real code you start actually
writing you know making the changes in
the code one of the things
that you'll see as I'm moving in the IDE
back here in the background you'll see
that I'm actually right over the top of
the browser itself and I can make edits
and adjustments on the CSS side so if I
were to pick in this row here is just
really quick I can you can see all the
CSS stuff shows up right in here I can
make adjustments in the IDE and it will
affect the browser I can actually open
the chrome developer tools and make my
adjustments there and we're synchronized
so it will show up it will actually
interact in the IDE itself now so you
can use either tool that you're
comfortable with and they are
synchronized in the code will update
automatically for you and what's really
cool with that is when you make a change
in the chrome developer tools and you
have the diff view open in NetBeans
whenever you save in chrome developer
tools you notice a change in the diff
window in NetBeans because one of the
files in NetBeans has been updated
through your changes in chrome developer
tools it's pretty cool the way they
interact so why I point this out is that
one of the bigger things is trying to do
JavaScript debugging Chrome you know CSS
alignment the the pixel perfect
alignment and so forth on your actual
device well we have the ability to not
only run in Chrome on your desktop but
we can actually run directly in the
device so I have my phone right here
plugged into my computer this is the
exciting demo this is where it's open
meeting up - yeah and I'm using this
really cool little thing called droid at
screen that allows you to see this is my
phone you can see is I it's it's on a
delay but if I change over you'll see
all the apps that I have on my phone and
I'm just praying that my wife doesn't
text me or my kids text me during this
and so now from NetBeans I will just
simply say run and you will see it show
up on my phone if I actually show that
come on there it is
and we're going to see that once it's on
the phone here come on
there it goes so I can kind of scroll
through and also go really slow and
it'll catch up I can and you'll see over
in NetBeans that it's actually loading
up the the Dom just as it as it does on
the other so I can see what's going on
there my network output is still doing
the same thing that it was doing before
I can click on an edit and it brings it
up whoops I stopped showing it so you
can actually just kind of make all your
different changes and so forth and you
can see what's going on now in the
JavaScript side of all of this and then
I'll go back and it will go back good on
the JavaScript side of this if I'm let's
go into the detail JavaScript I can set
a breakpoint in here let's say where we
were testing some of this stuff and see
where I want to go let's just go here I
guess see if that's going to load or not
so now if I'm on my phone and I click on
the all sushi and it rings across you'll
see that it actually hits the breakpoint
and it actually stops on my phone so now
I'm actually debugging directly off my
phone click that button there right so
now it with the with the debugger going
on here we can actually step through and
watch what's going on I can step into
that and it'll go down to my process
data and I can step through and I'm
actually you know stepping through the
live stuff that's actually on the phone
instead of on my desktop so there's a
lot of interactions that you can do in
this regard as well now also when that
finally went through here's the link
that we talked about so by using that
geo instead of actually showing the map
I can now just click on the View address
except I clicked on the button oh yeah
so this is another thing that Garen was
she was trying to
show me so in NetBeans when I clicked on
this it actually synchronizes and it
shows the different things inside and if
I click in the browser Shh look on your
phone you'll see the item selected yeah
and it will actually select in the IDE
so again it's it's kind of like Chrome
developer tools with the inspector you
can actually inspect on two things
directly on your phone and and go back
the other way so fun stuff in that
regard let me turn that off for a second
now if I actually do click on the link
for the phone now you'll see that it's
going to go off and it's going to launch
Google Maps did I mention it's a
two-and-a-half-year-old phone that's
kind of slow you probably notice when it
says Evo at the top it's an old HTC EVO
I haven't convinced my wife I need the
upgrade yet maybe after this she'll be
hungry
come on maps and hasn't shown up on here
yet so it's not the delay in my up there
it goes
so it actually brings up the app so this
is this is kind of where you what I'm
trying to get to I guess is that without
having to go down into the whole
compiling using Cordova and stuff like
that the browsers are starting to get to
a point where you can do certain things
in the browser part of the of the mobile
and actually have it interact with the
other apps that are on your phone the
protocol of tell te l is also another
one that actually is synchronized across
all the different vendors and so you
could put on a phone on a phone number
in here I could put tell and turn that
into a link and if I click on that on
anything Android Android iPhone or
Windows Phone it would bring up your
dial pad so you can interact more and
more and more and of course with html5
the Navigator the the hole location
stuff or sometimes the web's the
webpages will pop up and say hey this
app wants to know your location and you
can interact with that that's all part
of html5 and every device works with
that as well so
it is getting us closer to this HTML
client so we've talked about desktop web
we've talked about mobile web and what
you can do from that browser standpoint
on your phone let's go back to guaran
and we're going to talk about mobile
hybrid so you've seen this client that
jb created and it was deployed to the
browser on the phone now what you're
going to look at now is how to create an
actual native like application from a
JavaScript application and this is a
very interesting thing to do for a
number of different reasons
normally when you create a mobile
application you want to target both
Android and iPhone and it means first
learn everything about Android and then
learn everything about iPhone different
languages different protocols different
communities different problems a lot of
work a simpler approach is to first
create a JavaScript application and
create what is called a hybrid
application and that hybrid application
can be generated via Cordova also known
as PhoneGap you can use this to compile
your native iOS or Android application
and essentially what happens is that a
wrapper a native wrapper is put around
your JavaScript application which you
can then deploy to whichever device you
want so I want to show that so we still
have the same back-end as before and
also the back end at jb use so i'm going
to use a html5 application of the
starting point we call it manufacturer
manufacturer front end
we could create an angular seed
application or whatever we want but we
just create this very simple starting
point even without an index page and as
I said before the nice thing about
standards is the tools enable you to
then generate code quite easily so there
is a there's a plugin not a standard
part of NetBeans a plugin that creates a
knockout front-end on top of restful Web
Services a standard part of NetBeans is
that a backbone front-end is curated so
you can use a generator in NetBeans
which creates a JavaScript file on top
of a restful back end but this
JavaScript values back users backbone
and backbone was kind of very popular
two years ago it's still very popular
but there's other frameworks that have
been coming up and knock out an angular
are two of them and you can take the
source code from NetBeans and change
that source code to to correct whatever
generator you want which is what I've
done and I've created a knockout front
and generator we're going to create a
file called manufacturers GIS it's going
to be based off of the this restful web
service and we want to have knockout
added to our application and we'll have
a file HTML file code index now let's
see and okay so what we have first of
all is in our lips folder where you have
jQuery and knockout we have our
manufacturers j/s and the nice thing
about this a front end it's the
similarity with JB's front-end is that
it deals with this manufacturer database
but it's it it's not a crud up like like
JB's but it's an our app it just does
read nothing else so here we see basic
knockout code which is linked to the
index.html file and in the next HTML
file there's a special attribute which
comes from knockout which is data bind
and so this data bind maps different
terms that we use here to two terms that
we use
our JavaScript file so and the starting
point is that JSON is extracted from a
particular URL and when the code was
generated just generated from an
existing restful resource which has this
URL as an energy point so that is parsed
and this is how it's done in in in
jQuery in general it's a jQuery calls
here and then knockout is used to map
the payload with what we want to display
in the index page so we start by just
running this inside of NetBeans again in
the embedded browser and we see here and
like I said it's not a massively
fantastic front-end but it displays our
data and but the point is we don't want
to do this this would be a first step
but we want to actually have an a native
like so a hybrid application and the way
we do that I'm going to pull up the
files window because some folders and
files will be generated into this
application that you're going to see in
the projects window we're going to
switch and you can see here there's a
Cordova tab and it says it creates
Cordova resources we'll do this
and on the command line Cordova is run
so it's implies you've got Cordova setup
and there's a whole bunch of things you
need to set up to do that
Cordova comes with plugins so if you
want to access the camera on the phone
you can do that there's a generic
abstraction over the camera on the
iPhone and on Android geolocation all
kinds of things the splash screen if you
want to access those I work with those
their api is to do that but what we have
now is a slightly restructured
application and right now we have an
empty platforms folder like you see on
the left here that's what we're going to
do is we're going to build this and
we're going to build it in such a way
that either it's we want to deploy this
to the emulator or to the device and
you've already seen the application
working on the device and I'm a lot more
scared of demos than jb is so i'm not
going to do stuff on the actual device
i'm going to get an emulator and the
emulator that i'm going to use because
oh android emulators by definition suck
except for genymotion so if you've ever
done android development with an mla
so you know it's always slow and painful
but genymotion is a really wonderful
emulator we're going to use that but to
get to the genymotion emulator I need to
change localhost
to the VirtualBox on which it is running
so we can see here that we have 1 &amp;amp; 2 1
6 8 56 1 and now we're going to build
this so take a look at the platform's
folder in the files window when we build
this and I have an output window and
again a Cordova call is done so here and
you see here already there's a folder
called Android and in this Android
folder a whole bunch of things are being
added and in this ant build folder we're
going to actually have our apk file so
generated straight from our JavaScript
application you're going to have a
native application and because here
we've said we want to deploy to Android
if I was running on a Mac I would have
the option of using iOS instead how
bunch of code generation is done here
which you would which would also
generate it if you were using Cordova or
PhoneGap on the command line but here
we're just doing it you know from from
menu items in the IDE and what you also
see here is the SS folder and in the
assets folder here is our actual code so
here you can see our index.html file and
our manufacturers file and I'm just
going to see here you can see exactly
the same code but now it's been
repackaged into a structure for Cordova
so having done all of that we can
actually go to that apk file in the
build and where is it and right click on
it and say if you look right at the
bottom on that list of menu items
if you look right at the bottom you see
deploy via ADB this is Android the
Android bridge call so this is exactly
the same as if you were calling Android
a DB on the command line
except here we're doing it directly
inside the IDE okay you can see it's
been done so success so we switch and
one new application which looks exactly
like all the other native applications
of my emulator is our manufacturer
provider and when we open it up we see
our data and then from here we could
deploy it onto our device and so on but
you can see that the exact skills that
you have as a Java developer are
maintained on the back end and you can
pass off the the front-end work to a
front-end developer and use the emulator
as a device for testing so we've got hit
a lot okay so in that particular case
you know we've gone through all these
different scenarios and we've shown what
we can now what we can do and we managed
to actually do it in 50 minutes which is
what we were trying to do to leave time
for questions I'm sure there's a ton of
questions out there we flew through a
lot of things there's probably enough
here for two you know two three four
hours worth of information to go through
we didn't touch on things such as
connected versus disconnected data the
whole dilemma of HTML and the whole
consistent look and feel across all
these different browsers and so forth
versus the native look and feel so
that's a design idea or concept that
you've got to make a decision when
you're building your app so there's a
lot of things that we didn't cover today
but we wanted at least within these 950
minutes to be able to let you know
what's going on in in this particular
space I think if you asked the exact
same question that we started with at
the beginning of this session and you
say can you take an html5 app and bring
it across this this spectrum from
desktop web all the way down to hybrid
mobile I think it's much much closer I
think you can be much more performant
today and you can do it
there are still a lot of questions as to
whether it's really there or not for my
needs
I think it's there I could actually live
with what I'm doing in this particular
case I'm sure there's some UX guys out
there they're just shaking their heads
going not even close but again hopefully
this helped you out so we'd like to
answer some questions we've got about
nine minutes here to answer questions
before they kick us out and we've got a
book to give away if you have a really
fantastically interesting question
you may be the winner of it so yeah Anja
as you can see on here Oracle Oracle
press actually does have a shameless
shameless plug shameless plug we know
Darren and I along with a fantastic
gentleman by the name of Arun Gupta who
probably a lot of you have heard from
evangelizing Java wrote this little nice
little gem and it really covers exactly
what we talked about today but it
doesn't cover the response of JavaScript
side it's all it really covers
WebSockets server sent events the rest
interfaces it talks about all the JPA
stuff and so forth from the Java side
and it talks all about the libraries
that we did that I use from the client
side from knock out to Java is and all
that kind of spend its main other
feature is that it's very thin yes yes
question right up front
well so we did this session especially
for you men the question is the question
is how long has the the actual direct
connect the what we call netbeans
connector piece been around inside of
net mean so that connecting into the
chrome developer tools and so forth we
introduced it in two years ago in
NetBeans 7.4 and we've improved upon it
over the last two releases so it's it's
quite it's no it's it's built into the
tune it's built into the product no -
yeah all you got to do is say you choose
your deployment type and you say chrome
with netbeans plugin and that's it if
it's not there it'll actually pop up a
little dialog and says here's the CRX
file just to install it and it goes we
provide the CRX file for you yeah yes
other questions
so the question is or the statement is
is that they don't use NetBeans today
for development they use Eclipse and
she's asking if there's a plug-in that
would provide this kind of capability
for Eclipse no I think the plug-in is
code NetBeans yes that's the plugin did
we happen to mention that he's the lead
product manager for NetBeans and I
happen to be the project manager for the
whole project diesel side which is all
the HTML client-side but I mean it means
it's free it's open source you can
download it you can use it together with
eclipse you know really yeah especially
if you use maven based projects on the
back end and you work your way through
maven he'll when your Clips you know
then it's a question of right over here
Oh - Utley he just didn't want to run my
app oh yeah no they're so the question
was can you take all of the the
responsive JavaScript piece that I had
in my you know beautiful fancy app and
and run it in with the Cordova stuff oh
absolutely and and it would have run
exactly that when you in the one thing I
didn't show because my between my tablet
and which is a 10-inch tablet in my
phone which is tiny I didn't have the
device that's of the right size that
actually crossed over a boundary but the
ideal thing is you know if you can get a
device where in portrait it's dropping
into that small space and then you flip
it over to landscape and it's like oh it
gives you all the grand stuff right you
can do that because it's just going to
automatically load and when you drop it
down to it to Cordova all that just
comes with it so definitely yes yes
I can talk about the camera talk about
that so the question is can we talk more
about the the camera using the camera
and if there is any gap between using
Cordova versus doing actual native
programming I will pass that to him well
and I experimented a while ago with with
E with the camera functionality on
Android via Cordova and actually I have
a whole tutorial that describes in
detail but at the end of it you you have
you know on your on your camera on your
Android phone you can via this button
which is created in HTML you can take a
picture and those pictures are added up
together in you know in the view and you
know know native Android is touched here
this is completely JavaScript a complete
JavaScript application and that's
converted down to a hybrid application
via via Cordova the code for it is let's
see if you're not so dizzy you can't
stand up when he's done scrolling but
yeah I'm sorry I'm just trying to once
increase the font of it I'll go for you
next
yeah here it's it's yeah well it's
basically plug-in functionality that
comes with Cordova that you can make use
of if you find this online oh yeah can
you can just use this as he was going
through the steps for the compiling you
know it said he said here's all these
plugins that you can do at Cordova so
Cordova gives api's that you can connect
into the native stuff with JavaScript
that's kind of what it's point is and so
in that particular thing you can do it I
do know that if gaps between Cordova and
in native development itself I would say
that if you want speed and performance
you should create a native application
yeah you know definitely but using
Cordova is a nice in-between stage
especially when you trying to test the
water so you you create this you just
got over to create iOS or Android and
Android app put them both into the
respective app stores and see which one
is more popular
and based on that you actually creates a
native iOS application or a native
Android application so that's really one
reason to to use this question up front
okay so how the question is how hard is
it to maintain a hybrid application
versus a native application I think it
depends on your skill set if you're if
you if you're a native Android developer
you know then that's the way it's really
purely based on your skill set in terms
of you know whether you can create
native Android applications or whether
you're more comfortable with JavaScript
I would also say that because you can go
hybrid and you can compile to both
platforms you're dealing with one code
base you're right that when you make
changes you make changes in the
JavaScript and the HTML and so forth
then you just compile it back down to
the two OSS whereas if you're doing
native Android you're doing native
Android and you have a completely
different code set in Xcode for iOS so
now you're dealing with two different
streams in that inner area and about the
question about the camera there is an
object code navigator value which you
can get out of the camera and then you
can call method get pictures and it's
it's all pretty well defined in the code
of a documentation there's many examples
I don't know if there's a session on
Cordova here this week or not there's
500 sessions this year so in the back
swinging a phone yes I was hoping you
would be here
he's actually doing a session on Cordova
and Java EE perfect since it's a two
hour tutorial tomorrow morning
we're at what session what room and
where mark 55 is the hotel kitty corner
to us yeah so what said what's the title
of that session Java EE 7 and Cordova or
something okay if you look it up if you
look up Cordova in the in the plan
you'll find it and Ryan whoa and is
colleague whoa
right mission okay so it's over at
Mission in the morning so we've got less
than a minute they are going to kick us
out of here thank you very very much
I think the person with the question
about Eclipse and the netbeans plugin is
the winner of the yeah would you like
the way you can have the book</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>