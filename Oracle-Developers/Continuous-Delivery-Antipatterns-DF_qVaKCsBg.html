<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Continuous Delivery Antipatterns | Coder Coacher - Coaching Coders</title><meta content="Continuous Delivery Antipatterns - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Continuous Delivery Antipatterns</b></h2><h5 class="post__date">2015-06-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/DF_qVaKCsBg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to the continuous delivery
anti-patterns session my name is Andre I
i am from crackling poland however i
live in london and now I'm here I thank
you very much for coming who yesterday
attended some sort of a party what I
share your joy yeah Joe is the right
word anyway this session will be about
continuous delivery anti-patterns if you
run LS minus 0 on a full director you
know that there is a result list will
not fit into one screen I will not even
try to mention all of the things that
can go wrong I will only mention some
with some solutions or hinting at some
solutions and if you'd like to know more
well I'll be very happy to talk with you
afterwards my name is well Andrea as i
said i work in ebay in london in a very
lovely place called Richmond which is in
the West I have a Twitter I have an
email i have a blog which is not very
very active and of course a disclaimer
my opinions are my own I'm not speaking
for my company however they were very
kind to send me here a few things that
you might recognize me and all connect
me with is a conference called geek on
software craftsmanship crack oof well
polished our user group crack with
Hadoop user group and well down there
you have some logos of the things I've
done in the past also sometimes i do say
i hate computers i keep working with
them which might be awkward so don't
feel afraid I just it's something I just
say also if you have any questions well
I hope those answers match them or
actually if you have any questions just
wave your hands ask them right away will
either try to respond or will i'll ask
you to well to say that in the end last
intro info is well keep on tweeting i
will really appreciate feedback because
well
it's kind of like like a thank you but
better because of this on twitter if
you're a bit too sleepy or the parties
were too extreme but is tonight it here
the too long didn't read or too long
well fall asleep version is released
more often if somebody tells you that
it's not possible don't listen to them
it is possible it might require some
people navigation but it's definitely
doable the baseline will do my starting
point for for this dog is basically
software most frequent well you at least
in my experience is a people problem
it's very rare that the problems that I
have are actually texted technical and
difficult difficult because they are
technical problems most of the most
often the problems I I deal with are
about people people won't in control
people not having trust people having
issues working with other people people
not talking to people that's that's the
does the base and fixing those problems
allows technology to just be sprinkled
up on me in two places and then it all
works so imagine a situation and one
more thing actually we'll start with a
quote who can recognize this I've heard
agile manifesto I would give you a
t-shirt if I have one to give away but
there are none but yeah this is agile
manifesto it's from 2001 and it already
mentioned continuous delivery which
means this this idea is not really new
it's well that's two thousand one and
probably people have been thinking about
it earlier because well software didn't
happen in 2001 so one important thing
that you always well I always have to
remember that deliveries organization
specific which means that whatever
worked in my scenario might not work for
your company's for your specific set of
requirements you might have legal
requirements that prevent you from from
doing things in a certain way I've never
worked in a bank for example I have no
idea how how institutional our financial
institutions and I try to stay this way
guess why so if you want to do if you
want to optimize your delivery process
the scenario for doing that they do well
do pop I would recommend this well first
of all prioritize problems then fix the
first one and then repeat why this way
why not fix all of them because when you
fix the biggest problem that you that
you have it might turn out that the
problems number two and three actually
disappeared or they stopped being a
problem or something else becomes a
different one so this least well do this
this list of problems is something that
keeps living it's part of your system if
your system changes the problems will
evolve also as people move positions
people move around things will be
different yeah let's start with a story
a long time ago in a galaxy far far away
there was a system there will be no
stardestroyers coming and the system had
developers developers like you like me
like well you know developers they were
from everywhere they were they were in
house they were outside they were on all
of the continents developers doing
things and well of course the
presentation without the cut picture is
a waste of the internet so it had to be
there developers push their code normal
things but that happens all the time
unfortunately sometimes side breaks when
the site breaks it's well you try to fix
it but it might happen that the site
breaks for two days and that is your hot
season so well Black Monday or any other
that's that becomes very business
specific what is the hot season for you
but the decision is obvious well all
hands on board and roll back the first
question that you have to ask you as
well to where and then from where and
this is welded exit what I'm getting at
is well the first problem that happens
unfortunately frequently people have no
idea what is running where versions no
try two deployments know the amount of
machines which machine is trying to run
what no it's just well somebody
aged into a box and run some some
comments and that's that's happening I
don't know if that's the problem for you
I hope not but not having versions is a
well is a problem not going not knowing
what is running where is a problem what
did leads if you try to fix it it's
probably some might somebody might do
something like this so it gets pushed
minus minus force and maybe a random
hash if they know what which one to pick
to pick if you have builds that have
well dependencies if you try to well
immediately realize if a release a fix
and you don't know what you're doing
well there is a chance that you will be
deploying random things as in not the
things that you intended not the things
that actually work because well they're
versions might might have met move down
also will somebody might hack some
something that you take your
dependencies from signatures signing
jars yes that's that's that's all part
part of the solution but the very first
thing to do something that really helps
is if your software can respond to a
either minus minus version or have well
if the software can say what version it
it is in maybe even list the components
it has tell to to p2 to be so that you
know what's running this way if you can
actually ask the runtime which version
are you like you do with Java like you
will do with so many things it helps a
lot because if you deployed you can well
then verified it that the version you
deployed is the version that you have
deployed which helps and that also means
that you can then keep verifying if
somebody runs a rogue deployment which
you didn't expect you'll be able to tell
that a good if you're curious about
which versioning scheme to to to to do
their art well there is a number of them
i would recommend semantic versioning
the link is there there is no need to
talk about it so dunno what is where and
which means that you will probably end
up having a dashboard if you don't have
a dashboard if your ops or if your admin
or if your dev ops don't have something
like that i would recommend having a
look at glue it's it's open source
it's free actually at least it was free
last time I checked it's a nice tool
that solves this problem so that you
don't have to roll your own code because
well just this problem was solved ok so
our problem was the cold is unstable and
I told you that if developers in our
mythical corporation are well there
aren't many teams the code is unstable
sometimes well there are legal
requirements that prevent some people to
do different things or it might be an
outsourced Ruby on Rails application and
what would then how do you actually fix
stick well what do you do with the code
you sure to repo do you do not share it
my approach would be to well sometimes
have multiple repositories it's
perfectly ok some people's as some
organizations prefer having us a single
repo well ideally that's that's that's a
that's a great way the great thing to do
sometimes you can't which is ok hey I've
also had with that we've done a
developer well a deployment solution
that had one lipa for developers that
would actually they would code in there
and they would do releases from there
and then we would have a separate
repository from which we would actually
do physical releases well as in copy the
code because that was a ruby on up with
ruby application that works surprisingly
well yes we you had accidental
complexity but that that works and
that's certainly a solution I can
recommend in it especially for Ruby or
any other scripting languages get flow
if you would like to use it it's awesome
my personal favorite however is to have
well a stable master and do everything
from master because well this way the
code in theory should always work in
theory because well reality wants to
sometimes likes to kick back with with
full force however well our medical
situation and the business people need
and well our site is down and we lost
monies we want answers business starts
to ask question why did this happen how
can we avoid it what what can be done
the conclusion of course is well
releases are equal to risk well they
start with the same letter
obvious what we want to avoid risk which
means we want to avoid releases which
means we'll end up in a very sad
situation a problem well a huge problem
called welded what you could simplify it
and call it fear of releasing when that
happens well stagnation and delays and
artificial things will will kick in you
will get things like quiet periods which
means period in which you are not
supposed to do a release that weekend
maybe but if it happens that you you
cannot do a release on Wednesday because
once we've done every lease on Wednesday
and it failed that doesn't make any
sense but that happens you get really
strains so we'll gather all changes from
two well let's say current iteration
will ship them all together in a bi
weekly cycle you sometimes get our CSU
got you get beta beta versions you'll be
you get gold sometimes it's a problem
sometimes it's not if you're doing a
software for a machine that well for a
rocket that will fly to Mars probably
having an hour sieve having better and
well doing testing a lot of testing up
from this is a good tool seems
reasonable however I work mostly with
software as a service solutions which
means we don't really have RCS we don't
have paid as our system as a whole lives
all the time so then in such situations
having our seas having betas might be a
sign of a problem might be because as I
said business and legal requirements
might might differ if you think that
this is a problem in your organization
well the simple solution is to well
involve business trust has been lost I
when business well started being afraid
a selling point that usually works and
that has worked a few times in my past
as well so i change this tiny little
line of code i it's a very small changes
it's obvious maybe other that coma maybe
change a parenthesis well maybe maybe
just renamed a method it's reasonable to
think that such a small change should be
well should get to production quickly
and business people are usually very
smart they will like the idea of getting
something
the production wealth quickly so if you
approach them and just say this tiny
little change how much time will it take
to get to get prod to do well the full
release process if if you start a
conversation like that it might happen
that they will be interested in actually
seeing why does this tiny little change
why why does it have to go all fruit for
all the hoops sometimes well the hoops
will be will be good but then you might
get their buy-in to actually start
changing things as in changing the
processes changing the infrastructure it
will not happen all at once but you have
to start somewhere let's move on build
environments who here has a pipeline
some sort for building us I have learned
from at least two companies I worked
with the problems with pipeline a very
frequent one is that they get slow
because they are sequential which means
yeah so we click once and then let's say
in a day we'll get test results hey that
actually happens we got integration
tests that returned in a day there are
in my case there was reason it there was
a reason for that we were doing
integration tests with with email
providers and with to test some things
on the on the real internet you have to
wait for certain things to happen and
there are delays and you cannot go
around that however in many many many
cases what you can do is try to well
make the linear pipeline parallel
parallelizing is of course complex
because you have to will rewrite the way
you do tests probably really architect
your system a bit the question is where
do you start which what's the natural
thing to go after the easy answer is
paralyzed all the things yes ideally if
you have infinite amount of time and
infinite developers hidden in somewhere
that's that's that's a great thing to do
however as I as I said in the beginning
pick the further thing that hurts you
the most go from there and then you'll
see what will what to tackle next what
you do
win when you paralyze your your tests
well you get more decoupled design
because you can actually test
independently if your tests were coupled
before you get things that you can
deploy separately your system are well
can do maybe maybe it gains
auto-discovery features maybe it gained
something else it's a really awesome
thing to do when to be able to to to
have also if you're starting a new tile
new system if you start testing in
parallel many many things at once it
will affect the way you design it
because you'll try not to break your
existing test test test infrastructure
and going slow from being fast this is
something that we inherent well deep
inside we feel it's wrong we never
nobody wants to do so dacapo all the way
however with having a pipeline that
isn't that that is parallel there is a
frequent problem that happens especially
I've seen is very very frequently
happening when you're using maven
because all the bills were we'll start
with maven clean compile or something
like that which leads leads us to a
problem the precompiler link is well not
awesome because if you have a low
imaginary pipeline like this it might be
that compile step happens in all of
those places why is it bad well first of
all yes it gives you more coffee or tea
time it gives you time to catch up with
friends and do the office talks however
it means that if you're redoing the
tasks that already have been done well
you're wasting time you're wasting money
or waste wasting data center power well
whatever but that's not the biggest
problem the biggest problem is how do i
replicate production because if you've
read compiled multiple times if the code
i run on my machine is this different
code that runs on production then if
there is a failure somewhere how do i
how can i fix it of course well in java
it's to the reality is quite nice i
don't know if you remember you probably
do remember c times where the flags that
you have to pass to come to the compiler
where treasured like a sacred
artifact because when you did something
if you did something wrong in there the
software would go in a different
direction all of the if depth or of the
all the food all the things connected
well they impacted how the software
behaved and give fixing a bug that was
introduced because somebody did
something bad to the compiler flags I
don't enjoy that a solution is quite
easy you probably know it already do use
a binary repository meet nexus be with
bib bin tray with artifactory well you
probably are using something like that
food us it's awesome because most of
people actually raise their hand I'm
slightly worried that some people didn't
I hope that it's because they are busy
with what we're tweeting or reading
their emails or just well too lazy to
write raise a hand but do use the binary
repository you'll save time use you'll
get a single source of truth because if
you use a binary repository everybody
deploys from the same place everybody
did place deploys the same thing if I
ship the code to all of the machines and
then I compile it there then it means
that why I'm actually running software
that has been built with with different
set of environment flux which might
affect your application of course if you
if you have thats externalized and
ideally well if you'd only do it once
time is saved nerves are saved and it's
it's usually a good thing another
problem that we frequently get ones do
we when we start talking about well how
the devil the deaf infrastructure is
organized you'll get separate teams but
not separate developer teams that's
that's normal you get a team that's
called a release team the people that do
deal with danger and I'm not saying that
having a team that's responsible for
releases is a bad thing in itself that's
the that certain light what I mean it
what I'm after is if there is a released
in that things of fixed of themselves
that they are very independent and maybe
better maybe slightly elevated because
they control well they deal with danger
and if they well if they deal with the
dangerous things they don't want to help
you or they want to minimize
interactions which means that inside the
organization you've got two counts
you've got the people who who feel that
they do the word the developers and the
people who also think that they do the
work because they actually enable it to
be run on production and their goals
start to be or might my start to be well
completely different if you have this
view well the release processes might
become manual because job security
because we know what we're doing because
we are the released in because wits it's
how will we know better which leads to
us versus them well leave me alone and
let me release in 12 1 i'm not going to
fix this tiny pockets that's that's
poorly well puny developers that's
that's a huge problem also when you have
such a thing already in place and you
let's assume you talked to the manager
you actually want to deploy this tiny
thing what you might get is release
process that doesn't really follow the
degrees process that you actually have
you get very curious release processes
you might aside from shipping quell
shipping binaries to it to to your
customer using well at and SFTP you
might actually send them jars over email
because we only need to send a small jar
n is impossible to to to well to
circumvent the process that takes two
weeks and we need to ship this fixed
faster also if you have a released in
that only is responsible for for for
doing releases and they are and then
well they are not nice there is this law
that's called part of Arkansas small
that's where it will expand to take all
of the time available which means that
your release process will will go really
really slow and well too curious
releases release processes they will
lead to unofficial releases so yes we
have we have our we have dashboards we
have well binary repositories and we
have a release process that takes too
long and in the same at the same time we
will have an official releases that will
happen somehow people will SSH into
boxes and nobody will actually know
what's running where so what it will
seem that all is fine but in reality
nobody will know what's running and why
and when and when something fails
covering from Dallas is a nightmare
another interesting problem that's is
connected with with this with teams not
working not talking together is
something I refer to as bankers maybe
not as not that people don't go that far
but the situation I would I've had was
in a new office that we started there
were developers sitting let's say here
in the middle and there were ops people
sitting on the other side of the room
and on a one rainy day we noticed
something really interesting from the
door people would either walk to the
developer space or walk to the op space
they would go to the kitchen but there
was nobody walked between death and ops
nobody because it was raining rococo you
could actually see the floor marks so we
realized we realized that we have a huge
problem in the office and that was a new
office there were only well 30-something
people in there and everybody in fear we
knew each other because everybody was
new and that's that's small and
everybody was enthusiastic what do you
do well solution is well to encourage
interactions you have to break and
integrate those those those silos
somehow how do you go about it well
first thing is if you're an end in a
technical company people will probably
have some common things they are
interested in it may be games it may be
may be children it may be because it
will people who these people are parents
they will like to talk about their
children that's quite frequent thing to
do it might be cars it might be bikes if
you organize a meeting space if you if
your ganized something like that it will
help also what you can do is play
computer games we did play computer
games in the office and that actually
helped a lot because to break any to
break the barriers and to integrate
people you have to do it repeatedly
having a single round of paintball might
be the first to go a nice starter but
you you have to repeat those things to
you have to repeat the activity so that
people keep working together a computer
games are really
soon we realized we have fixed the
problem when after a few weeks of
playing together one of the developers
screamed that's one of the admins or
maybe the other way around what what are
you doing we were playing wolfenstein I
think animator it enemy territory but
the point is that it has to be a team
game and you just make the teams and
then it will all happen or at least in
my case it all happens but almost by
itself it went so bad that sorry it went
so well but people kept paying for
another year after hours they well we
would meet and we'll have have beers and
then people would start interacting and
that allowed the organization that I was
into to stop releasing once every half a
year and when into we went into a weekly
release cycle and I'll required a lot of
work and a lot of talking but when you
have well people talking together when
when people actually well when we trust
each other it's it's much much better
much easier let's move on your software
well has to run somewhere you need to
have well infrastructure need to have
servers you need to have things if life
well there is life beyond stone cut that
you need to take care of unless you're
running in a on a platform that that
takes care of that with infrastructure
well you could say well we use some kind
of a mineral structure as code to meet
my maybe chaff maybe maybe uncibal maybe
puppet we're safe well one problem is
that if you use automated solution
somebody makes a mistake or things will
go down by over by themself that's quite
obvious they say the big thing is well
if you are managing your infrastructure
as code you have to test the call
somehow because people will do mistakes
once with Jeff you can do kind of TDD
infrastructure with a pad you can well
you can try you do things a the what I'm
getting after is what I'm getting at is
you're well admins or ops to generalize
very badly they probably are not
used to TDD as developers are so if
those people well if they for example
pair with with the developer to to us
developers testing continuously our well
testing our code in many ways is
something very natural we do it all the
time because that that's the one of the
tools that you use for writing just like
a compiler in terms of managing
infrastructure the concept is maybe not
new but is sometimes much more much much
more much much much much more difficult
to do if you're doing well if you want
to test your chaff well you have to have
some Ruby knowledge sometimes which
means a developer working with a new
with an absolute will help greatly and
yeah if you're if you don't have
anything like that in in your place and
you're thinking puppet or chef or
unstable or something else well it
doesn't matter actually which one you
choose choose one start there it will
life will improve which also will turn
turn down then to be a problem with
environments builds they unfortunately
because how how how well packages are
done or how apt-get or anything else
works they tend to be slow but to the
general slowness of a bill pipeline you
already know the answer so yes paralyze
the bills you can pair out you can do
very interesting things with with
building well parallelizing building
building of infrastructure of course it
will require cooperation because you
will have to well talk to me talk to vm
z you'll have to talk you to your
infrastructure will provider or whatever
else but it can be done and it's usually
worth it let's move on the internets why
is it the problem well it's not a
problem by itself but hmm let's have a
quiz what do you think those machines
really like eating
batteries yes but if you think the
policies think about there will a real
excavator they really like your fiber
connections they like your power
connections they like to cripple your
data centers they just love it and it's
you probably have experienced an awesome
day in the office when the internet
connection is down or where there is no
power and yeah if the internet goes down
or if somebody changes some services
will reconfigure some well anything in
how your data centers get access to to
to your binaries well the question
becomes who do you need internet to
build the natural answer is well of
course well everything is on up on
public Nathan and we run in the in our
own data centers so well really is that
it's not reasonable sad reality is as as
good as the EDD sites are they sometimes
might go down they might go down they
will go down also somebody might well
somebody might might have one of those
sites will replace an artifact also if
you're paying for the traffic that
you're that you're doing if you keep
getting artifacts of the internet with
you you actually increase bandwidth if
you do it many times over a year this
can be well quite huge costs also puts
unnecessary traffic onto your
infrastructure on to your network you
could avoid it one interesting thing
that you can do try doing this try to
run your build without the internet if
your turkey take your source code on
onto a laptop if that's possible you can
try to run it without Wi-Fi enabled you
will learn different well very
interesting things you have a question
yeah
so yeah as you might have heard well
there is a build system that can well
there is a bill that can run with it
without the internet but there is a test
case that test for the internet
connection to be there so what I'm
getting after is you might if you try to
run to be built without the internet or
if you try to push model of your built
into an application well into a binary
repository you might learn that some of
the binaries that you use have their own
dependencies or they do strange things
once we have this guy once we were
trying to deploy in a very into a very
secure data center it was a well it was
an interesting experience because we
learned that one of the by libraries
actually did an HTTP call to something
like maven repository and try to
download further things inside the
application code that sounds crazy and
we were what but that would happened
that's why if you can now separate well
isolate your your application build you
you might discover flowers like that or
gems or whatever whatever you want and
which it's not an all something because
if it sits on an external server first
of all you have to rely on an external
server you cannot i cannot well you rely
on them being up and you rely on them
not changing the contract that is out
there the libraries out on the Internet
can change you probably remember when
github got hacked imma see I assumed
well to me github people do really an
awesome job but it's all it's all
software it can be it can be broken
people who can hack things if you have
external things outside of your
organization you are automatically rely
on other people not hacking those
external things if they hack your
organization well that might happen as
well bad and it's a bit harder to defend
but by removing external dependencies
you make you software well faster better
build processes become become usually
simpler and in here I'm talking about
building your software and your
infrastructure so having back
repositories for 44 system packages as
well it will save you time it will say
save your nerves it will give you a
single source of truth so you will know
which packages do you actually run
you'll get the very same binary so if
that binary becomes corrupted you know
you can trace the problem if all the
server's go to the Internet and then
they go to a dynamic proxy or a load
balancer and then they get packages from
different places that might go strange
and that will go strange because well
somebody might try to access a package
that that's not available you know the
answer binary repositories proxies
that's that's assault problem the recep
a lot of solutions in the internet let's
go forward runtime upgrades so who you
resume java 5 yeah there are if more
than one hands in the room running
running some service and trial and never
upgrading the runtime seems like a
problem of course your organization
problems might might come here and you
might have other limitations or
requirement but well the frequently
frequent reality is well run times our
software as the same way your software
is and they also have problems with
releases the problem get fixed of course
sometimes new problems get introduced
but you might remember the blue time
when Java had quite a few security
problems those marked in red are java SE
update stuff head sakura security fix
included I think I don't even need to
comment on that and upgrading Java helps
us being on the bleeding edge maybe
that's not the goal but being reasonably
recent helps a lot let's move on desktop
applications you probably remember
Firefox when you i SPECT well I remember
Firefox very well a few years ago when i
try to whenever i try to run it
frequently god well Firefox needs to
update Firefox needs to download the new
version yes I want to use my browser
browser now not in the next three
minutes no and then the plugins and then
that was always a pain if you're doing
desktop applications while doing
something in the background is awesome
doing something that prevents up users
from using your application is bad of
course yeah second yes Java one up for
the phone that's a perfect example so
the 1i I have one on my iPhone updates
itself well it download something every
single time I try to run it it's it
prevents the most basic feature of
whatever well of the application from
from from be executed that's that's bad
let's continue on mobile apps of it so
if you have a mobile lab that has an
webview it's awesome because you're
you're you're doing well webview
probably running on your servers things
are things are easy if you have a native
app and you you issue very quick went
frequent fixes a you users might get
curious why did I download the new
version of the application x yesterday
and today i'm downloading another 60
more megabytes and i keep doing that
every day like the java wanna butts but
bigger your users will be curious they
will try to try not to have the problem
if it gets irritating well there is a
lot of app only apps on the internet
they will try to go for alternatives
sometimes the alternatives are available
sometimes not but people will that's
irritating people don't like doing that
and this wave if you over over to
releasing for for native mobile users
will be well less satisfied and we will
use to use the application much less
changing the backend for the application
of course that works if you would like
to for example well one problem with
with mobile applications and with
desktops is if the application has been
installed out there there is unless you
manage to hold the desktops unless you
know you're in a management environment
is very hard to convince people to
actually do the upgrade
some people will be running this very
old version of something and it's
generally a problem because well you
have to keep an upgrade path for them
probably be if you care about your users
what works you can ask if they want new
features that usually works quite well a
forcing as in requiring requiring an
upgrade that usually breaks from my
experience people will put strange
things into their hosts files people
will disable firewalls people people
will do will go to lengths to actually
disable automatic updates for for
desktops up I'm surprised at how
creative things things can be once I one
thing i found that works it's a bit of a
mind trick but you can promise
performance optimizations everybody
likes performance everybody wants you to
software to run faster so if you promise
performance optimizations in the
software if you promise and number
twenty twenty percent faster people will
probably go for it that's that's that's
an awesome thing awesome mind trick
quite quite simple quite quite cheap I'd
say but but it seems to work let's move
forward deployment failures if you have
frequent deployment failures what do you
do well you have a problem first
that'sthat's but that we know already
and something that you could do is have
a counter how many days did we have
without the / without a problem or a
major production incident in a nuclear
power plant maybe not ideal but in a
well more relaxed environment I've
actually a good thing if you pass a
rubber chicken to somebody who break it
who breaks the build at some point
nobody wants the rubber chicken unless
somebody really really likes rubber
chickens but then well you have to
choose a different a different thing to
pinpoint the culprit if you have what
happens when you have such a counter
well people start try to occur because
nobody wants to be the person who
actually broke the team did the record
it was we managed to go three days and
then we managed to go to four days and
that I don't want to break it i will i
will
we'll look twice at what I'm doing maybe
I'll ask somebody can you actually
review what I'm doing can make me maybe
I'd like to work with me of course that
works if people are working so working
in a single location if you have if you
have multiple teams located in different
places and only you play by those rules
then it's really difficult or probably
impossible to write to run such a
contest internally and then well but
what happens with if they they break
things well that's that's that will not
work there but if you if you don't have
that problem that works so deployments
we talked about tracking them and what
about the when a deployment failure if
fails how do well you do a rollback or
some something went bad what happens
then who do you know that it works with
once we've had a problem with about the
database once and in that particular
case we try we needed to to go to go
back fro fro from the from the backups
and we looked at the backups and they
were surprisingly small it turned out
that the way backups were done they were
actually empty archives so we recovered
nothing because that was empty hey what
I'm getting at is rollbacks backups
they'd have to be tested they have to be
well frequently rerun so that it's not a
huge huge pain to run it because well
everybody knows what to do and also you
need by trying to execute well from a
backup by trying to well the 22 to roll
back you will note that the approach
that you will do the steps that you will
take will actually work and that
everybody knows what to do and things
will be okay same goes for backups not
all so that leads us to a problem a
problem called state applications like
to have stayed if you have if you have a
long-running transaction if you have you
have a Wells some state of a database if
you if you want to execute the backup
and then the
ode has to be able to work with
different versions of the of the of the
database schema for example that becomes
more difficult is there a magic bullet
I'm afraid not the complexity will have
to be there one solution well one old
paper I could recommend about that this
is something called sagas you might have
heard it's quite an old paper but i
think that's that's very relevant it
talks about well long-running
transactions a one more thing i could
recommend this well this book have you
have your Reds refactoring databases
some people have I've heard it I heard a
few yeah and the end yes it's an awesome
book tells Google gives you well shows
how some way so at how data stores can
be refactored if you're looking for a
tool Oh flyway my favorite database
migration tool for for relational
databases i recommend while you give it
a look it is awesome the API is also
very nice and it and it works it will
require you probably to talk to the dbas
but selling them with a with a story I
don't know too many people that are
talking that that can actually deploy to
an empty database and then have the
application running in the current
version immediately and we can do it
repeatedly and consistently it will work
that usually is something that to them
is pretty unheard of unless you're very
lucky and it's also a great way to start
that start a conversation all right well
talking good showing them fly way or DB
deploy is it is a good thing to do
environments as a whole if your
application well your application it
will be a system the problem it some
kind of a problem do you might get into
is well that's some parts of the system
might go down your payment provider
might go down if the payment provider
goes down does it mean that the actual
shop that we're running that the
e-commerce website that we're running
should be should be down probably not
it's awesome if you can tolerate some
partial failure in the system if the
reporting is down that shouldn't bring
the customer facing website probably
unless you're reporting website
how do you go about it and you can build
in switches you can build in switches
that actually in allow the application
to what is running to to disable certain
bits of functionality users I love it
when things just swell you users highly
prefer slide the gradation of service
rather than the application completely
going down because if for example this
only section of all the tiny section of
menus is not there yes that's that's it
that's irritating but I can do other
things at the same time and I don't
leave with a bad impression if the
website is just displaying a 500 well or
a 440 4 or whatever whatever else you
have configured in a little in the load
balancer for for an error condition
users will go away they might not come
back what also helps with doing things
well with building switches that allow
partial failures / partial degradation
is making the application and
environment aware so having the having
having the configuration somehow
available dynamically in inside the
application so the application can say
can say that it's running in deaf and
because of that they did database
service or the quality of services this
and that that allows the code to to
evolve very nicely and we talked about
you mentioned death environment how long
does it take for a new developer to 22
when they start and enjoy join the
organization to make the first comment
is it that day is it a week is it an
hour I've heard of a situation in which
a friend of mine joined a large
corporation and they were sitting in
there in that office for three months at
first he didn't break he only bought
himself a sandwich few days later he
started ringing books then he brought
more books then he brought the computer
and started watching movies and then he
found another job and after three months
of being paid for to the salute and I
think he decided well that's that's not
an awesome place which is probably the
right conclusion but what I'm getting at
if you can automate and make the
developer environment repeatedly quickly
accessible that means the first first
first you save a lot of time
also I from a well at least my
experience it's also maybe if you go to
poop if you can go to a place and see
well you're no this is this is
everything well set up for you or if you
want to do something if you don't want
to run it our way feel free to to change
but if you'd like to use this awesome
script that will set everything up
here's how we do it that to me looks
pretty cool because it saves a lot of
time and also tells you that the
organization is very not sure how it
approaches the development process how
do you go about it well the tools are
there pick any pick the one that you
that you like by the name i would say i
would say hf if you if you haven't had
any experience with that but of just my
personal preference and then after do
you do all of those things i mentioned
you can finally well click release and
well hopefully you'll not release the
kraken here is a very nice crackit
anyway questions yeah yes
so so the question if I heard it
correctly is you have a view your own
database migration tool and it makes
tests go slow what is the slow part well
yeah then then he will take this it
seems like a well quite normal thing
when you receive the database for each
and every single test it will be solved
and the answer unfortunately is probably
it will be so what you can do is well
not start from scratch or maybe have
some shared datastore which will lead
into other problems because ideally
having tests isolated this is frequently
preferred it's there is no there is
unfortunately no no no silver bullet I
could offer you could start not from
scratch I guess or copy the schema but
you can probably talk to talk more in
the corridor I see a hand to your
so the question is feature flags what
are some strategies to do for
implementing them for example one simple
solution is well you can go first first
of all you can have a let's say a
database table with griff configuration
and reload it at the other application
startup that's that sounds like a very
basic thing and it's a very basic in the
problem that you get in such approaches
your application would have to be
restarted if you change anything so
that's not not ideal because reading
that configuration if it's in a database
that takes time you could well use
probably use some form of a cat cash so
to store the value to then to be to have
a shorter cycle time
I yeah so we're property files can be
used but then your application if you're
running you'd have to listen on the file
system if that property file was changed
if you want to if you want to avoid your
application restart you can use some in
memory solution you can externalize the
state to 22 mm cached and then change
things in memcache and always thought to
talk to the members instance there is a
there is a there is a well many ways
there are many ways to do it I think we
could jmx off of courses works as well
it's probably well it depends a bit on
what what would you put it the behavior
and latency requirements that you have
with with changing that those
configuration I don't see any more hands
no I do see a hand
so snapshots reduces yes they tend to
break stuff I assume you're talking
maven release kind of snapshots one
thing that you could try doing is
avoiding them but that's that's that's
very difficult because well Nathan with
all its scribes this is in certain
situation it just works in certain
situations you'll just use it because it
does the job one thing is upgrading the
versions quickly which doesn't which
comes at a price another thing is well
you could cut your software into
separate modules and release those
modules to to to minimize disruptions of
course that comes at the price because
you have to upgrade to deplete well the
thing things poems that depend on that
level that value right library a one
solution that I found to work nicer is
to not if you can if you can well have
it is to have actual API starting to
each other but not not into a form of
well jar dependencies but have run times
and and then talk web services or to cut
that where it hurts of course it might
not be possible and then we're all back
to the maven problem and just trying to
make like making libraries smaller but
it's it depends anything yeah just one
question so we haven't our products port
installed as well as sauce say release
process this little handicapped
sometimes it goes you didn't roll it's
like so the question is how to manage a
pre-release process for a product that's
both as a service and installed on
premises what I would try to link is try
to build and an opto upgrades or an
upgrade feature into the product I don't
know if that's possible so if the
on-premise installation could actually
try to make it as try three treated
approach it a bit like a desktop
application so that you the installed
version would see if there are new
things that
available and then it would just try to
patch itself or I don't know of course
how doable that is in your scenario but
I think what we can talk about it a bit
one and two and three thank you guys
very much I will really appreciate if
you fill in the survey so I know whether
you liked it thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>