<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>CON3249   JavaServer Faces in Action | Coder Coacher - Coaching Coders</title><meta content="CON3249   JavaServer Faces in Action - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>CON3249   JavaServer Faces in Action</b></h2><h5 class="post__date">2015-12-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/wffyKBXs0Wc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I wanted to look at just some things
that are happening in the jsf world you
know and it's not a prediction of what's
going to happen far in the future it's
not a report on applications people
built just some things that are
happening in the you know JSF
specifications so I want to give a quick
summary of both how Java has evolved
from my highly subjective perspective
how Web Apps in Java have evolved from
my highly subjective perspective and
then I want to look at J's have to point
to and summarize the new features and
it's really not that new JSF 2.2 has
been around for a long time but people
are a little bit slow perhaps to migrate
and then I want to pick two of those JSF
2.2 features and that both of which have
been highly touted and try to make the
claim that one of those highlight touted
features is really great and it's as
good as it's been touted and one of
those highly touted features is really
not so great and you know it's a little
bit over over over hyped and then I want
to look at JSF 2.3 summarize the new
features as they are today
JSF 2.3 is obviously not final yet but
probably the features that are in J's
have 2.3 now will not go away maybe some
new ones will show up but it's unlikely
that those features will will go away
and I want to pick two of those features
and say that one of them you know is
kind of people you on at but it's
actually pretty pretty useful and
another one that people bill as a
downside that especially by the time J's
have 2.3 comes out is probably not a
downside and is maybe even a blessing in
disguise and then finish with extremely
subjective part which is why I
personally like that combination of
technologies for for building web apps
and I'll duck for Rotten Tomatoes at the
end here since you know which which
which libraries you use is kind of like
which programming language you use is
very subjective and people have people
have strong opinions okay so um
I started using Java when it was in beta
in the fall of 1996 and I look back at
that and I think how did I ever live
with such a crummy programming language
and you know it sucked and what I forget
is the other languages sucked worse
perhaps the thing you can say about you
know early Java versions is it's like
less the alternatives at the time in
terms of the libraries that were
available in terms of the you know
programming paradigms it's supported in
terms of the execution speed in terms of
you know the product productivity but
you know nobody would would go back to
Java 1.0 - which is the first release
version I used in early 96 I think I
said fall of 96 second ago I'm in 95 and
so the first release of those early 96
and then you know you had a few updates
in between those are all the kind of
early versions of Java that we look back
on now and they seem kind of low-level
bye-bye by today's standards and then
about ten years ago Java 5 came out that
was a pretty important upgrade and it
put lots of things in that we use now
that we would have trouble living
without you know how can you write
reusable code without generic types I
mean you know we all did before that and
you know I guess there were ml
programmers out there that knew about
you know type variables but you know
three of those in the whole world
and printf you know it's kind of a funny
thing because Java bragged for a decade
that they didn't have anything ugly like
printf and then finally they realized
that their alternatives were worse and
they put printf back back into the
language you know at all rods okay the
new for loop is okay better threading
you know that's pretty good so so Java 5
is definitely a major reason to liked it
you know Java 6 oh you know why didn't
we call that Java 5.1 or something
something like that it didn't seem to me
be worth the label of a major number
Java 7 came out you know maybe it's not
so bad you know I shouldn't say bad but
of a major release you know I've had
some good things and you know fork/join
when fork/join came out I really didn't
see why that was prickly so I have
threads already why do I need fork join
can't threads do parallel programming
and as I've used it more I realized okay
that's pretty it's pretty useful and you
know the diamond operate around you know
it saves me a few characters strings and
switch statements and save me a tiny bit
of code but then I find out I try with
resources yeah you say I use that you
know I use it every day so it's time
something's pretty good but then Java 8
I was thrilled with I must say and you
know I I have to confess that in the
Java world when things changed and when
certain large companies whose name began
with o took over Java from other
companies whose names begin with s I was
worried and you know and and and James
Gosling says you know I don't want the
idea of working for Larry Ellison I'm
already rich and famous I don't need any
grief I'm not going there and I think oh
no hang on and Bryan gets the job se
speckly he was pretty well known but you
know it's not James Gosling and then Tim
I you know great amazement and delight
Java 8 was a more important at least
probably than any previous Java version
but certainly since Java 5 and of course
I'm a little bit biased I have a
background in functional programming
before Java existed I was a Lisp
programmer one of the four of those in
the world you know and I I complained in
the very first release of Java
why isn't there multiple inheritance and
why isn't there functional programming
and now we've got functional programming
and we more or less have multiple
inheritance because interfaces now can
have concrete methods in them except for
the instance variables so you more or
less have both functional programming
and multiple inheritance but better late
than never and so Java 8 is probably my
personal favorite release of all the all
the Java versions all right well how
about web apps well I started using
servlets before JSP even existed you
know and that was like old CGI you know
print statements to generate through
HTML APIs bogus
by today's standards anyway very shortly
after JSP came out and
you know I loved it at the time you can
see from my shirt you know I gave a talk
and servlets and JSP here at JavaOne and
in either 2000 or 2001 and I wrote at
the time the best-selling books on
surveillance and JSP and I was loved
with servlets and JSP but I look back on
it now and I say man it sucked
it's so low level I know we didn't how
can you do Ajax that way let me wait
wait
nobody even didn't Ajax then but still
you know there wasn't a real page
template in the library building rich
components was hard your GSP tags but
you didn't have a really component API
so you couldn't hook those tags to the
back-end code and yeah there was the MVC
architecture but it wasn't really all
that great and you know JavaScript
wasn't so integrated and and building
custom components was hard and so most
almost everybody agree that by today's
standards servlets and JSP are just too
low the level you don't build web apps
with servlets and JSP no servlets are
still you know underlying lots of
different frameworks most of them are
circles behind the scenes but you know
building an actual web app is servlets
and JSP is pretty much obsolete and so a
JSF one came out and it was worse than a
yawn it was a boom I was like struts has
been out for years and this is all you
got you know and I okay this all
subjective
take this mine but I was extremely
disappointed with JSF one that it wasn't
any better in my opinion highly
subjective opinion then struts and
struts have been around for years and
then they learn anything and so I was
not thrilled with with JSF wanted to say
the least but when JSF two was in beta
the JSF spec lead at the time Ed Byrne
sent me an email and said Marty I know
you don't really like JSF one but just
try JSF two I think I think you'll like
it we learned lessons from Ruby on Rails
from JBoss seen you know we've got smart
defaults you know convention over
configuration just just just give it a
look please and I was so honored that
even bothered to send me email take a
look and wow this is
I love JSF too you know there's
obviously lots of things that could be
better just like lots of things could be
better than Java but wow it's a it's a
huge improvement and so rather than you
know grudgingly writing applications of
Jays have one and complaining about it
whole away
I was enthusiastically writing
applications in JSF too and almost
everybody's two favorite features are
the Ajax support and building composite
components as a Java API for custom
components with very low level
I'm glad JSF one had that though I want
to go back and say that because I'll
revisit that at the end which is despite
all my complaints about JSF one perhaps
one of the main saving graces is this
idea of a component API because most of
the other frameworks even now you can't
go shopping and say well I want a rich
component framework and you can't go to
the supermarket and say oh okay we got
primefaces here we got rich faces here
we got isis here we've got our cladius
basis here we got open faces here you
know we've got Galileo here and you
can't just grab some rich components and
just drop them in which you can with JSF
and in JSF one ordinary mortals like you
and me had a hard time writing those
components and only got people who
specialized it that's what they did for
a living
wrote them kind of like in the EJB one
so just have to I was a big thrilled yes
have two point one was just a small
update they fixed a few things and you
know improved a few streamlined a few
things but it wasn't meant to be a major
major upgrade JSF 2.2 was pretty pretty
major and I want to look at some
features of that they added some things
I think are very valuable but it didn't
kind of totally change the way you build
JSF applications like JSF - did verses
verses one and two point three as I said
is still in the works and they maybe
they're trying to set our expectations
low but they bill it as a minor upgrade
like two point one we just fix a few
things and streamlined a few things but
a few things they haven't it already are
pretty good
okay and these slides will be online and
you can also get them from my website of
course so calm so if you want to come
back and look at you know kind of the
official references on these things you
can come back and visit that later okay
and I want to stress that you can grab
of course both JSF 2.2 and 2.3 2.2 final
and 2.3 beta and try to play around with
it run some code see what happens
alright so yep 2.2 what what what is new
I say noon in quotes here because you
know JSF 2.2 that's Java EE 7 it's been
out for a pretty long time it's not like
came out this year but the two things
that perhaps are most talked about our
faces flow and html5 support and so
faces flow is the idea that you can
group pages together and the flow the
navigation within that group of pages is
kind of self-contained
and the beans that apply to that group
of pages are kind of self-contained
and then the html5 support is you can
send random attributes through to the
page to support html5 things now there
are a number of other important things I
just picked the two that people often
talk about that the most
stateless views maybe is not as
important as it seemed when it was first
released but people talked about a
talked about it a lot in JSF 2.0 you add
you had view parameters so you had
somewhat support forget but I don't know
how many of you have ever messed around
with view parameters but it was kind of
low low it's a little bit tedious it
wasn't you know once you've had the fact
that form submissions have to be post in
JSF you're a little bit stuck you know
other other things like strats you can
submit if I get or by post and so you
kind of have a head of a little bit of a
clue you work around with view
parameters but you didn't have an action
method
you know with post there's an action
method and then it goes to the page and
you can do stuff and but there's no
equivalent action method for get and
they added that into two JSF to point to
they they fixed up the scientific stuff
but they improved a little bit
streamlined a little bit the control you
have if you're a real heavy-duty Ajax
hacker in ingest JSF they fixed up a
little in in GSF 2.2 and so if you were
you know queueing up here's a quick
question what word in the English
language has the highest number of
consecutive vowels qqing which as you
said so if you're cueing things up you
can control the time out and how kind of
that cue is handled whether it you know
throws away things if it goes past a
time out how long it should wait before
it runs the next thing in the queue and
so forth they wanted to get real
skinning and feigning into JSF 2.2 and
they didn't really get there but they
had something that's kind of a small
step along the way this idea of resource
library contracts where in the resources
folder you can kind of specify a prefix
which you can change and so you can kind
of shift out a whole group of CSS files
and a whole group of image files and a
whole group of properties files all at
once
certainly but better than nothing it's
not quite as good as real skinning and
theming that some frameworks habits it's
pretty good and we already had kind of
this configuration over convention where
we had some kind of default behavior
that if you don't make faces config that
XML and your action method returns a
string and it doesn't match anything
because there is no faces config that
becomes the name of the file that it
goes to but now you also had a way of in
addition to doing in faces config in
addition to using annotations you can
also call Java methods that do your your
configuration that's kind of a trend I
think in a lot of libraries now that you
can explicitly write code that does the
same kind of configuration that you
could have done in the XML file all
right here's the
tentative list of things in JSF 2.3
which they bill is a much more minor
upgrade the stuff you've been asking for
from the very beginning for looping and
data tables are now finally they are and
that's not exactly a ringing endorsement
but you know this is something every day
is have program where as soon as they
get to you I repeat or h : data table or
more likely you're using the extended
data tables from one of the rich
component libraries that you can't loop
down everything you ought to be able to
loop down and you can't even looked at
everything that jst l of all things
which is much older could could loop
down however you can't run JSF 2.3
without Java 8 JSF 2.3 is written in
Java 8 and so it just won't run if your
server doesn't run Java and some people
you know I don't know all your
backgrounds but you know I my main
business is I teach training courses at
companies so some company will bring me
into their company I'll go and train
their developers in JSF or jQuery or
Java 8 or something like that for 4 week
and so many companies I go to are very
slow in upgrading to later
specifications and they say we're using
such-and-such a commercial server and it
doesn't support Java 8 yet or it doesn't
support JSF 2.2 yet and we either have
to pay to upgrade and we don't want to
and you know we're not willing to do it
and companies are amazingly overly
conservative I think in upgrading to the
new to the to the new specs and Java 8
again I'm very biased with a functional
programming background but I think
everybody should have joked on it the
minute it came off the door isn't this
wonderful and they didn't quite jump on
it so fast and so some of the people
from these companies
oh that's bad you know cuz our server
can't run Java it's not certified the
you know the company that I bought it
from will not give us support if we run
it on Java 8 and we're not willing to
just try it and see what happens because
then we have no support contract and you
know thousands of people around the
world you do this for their banking or
their insurer
application other financial services
application okay and then there's a few
more things
they added annotations to inject a lot
more of the underlying JSF data
structures like the application and the
session and and a flow map and cookies
and even HTTP headers you know I I like
that you know remember that I don't know
if you've done this before but you know
it's this long series of static method
calls to get the external context you
know to get a request center and you
know if you want to detect whether
they're running on a cell phone or a
larger device you got to look at the
request headers and look at user agent
and it just wasn't exposed easily it was
exposed but tediously and so they just
added that nice little convenient
feature that you can just inject this in
and as long as your variables all right
right type this passes right in and then
a number of places where were you were
doing stuff already but it didn't
support generic types they now have it
support generic type so I'm gonna look
at the four at the first two okay so
Marty's extremely subjective personal
view on which of these things are great
in which of these things are not so
great so everyone says oh phases flow in
JSF 2.2 is really great and I say yes it
is and everybody says Wow html5 support
in JSF 2.2 that's really great and I say
no not really
yeah doesn't really give you very much
in DSM 2.3 they say and again maybe
they're deliberately trying to lower
your expectations oh these are just
minor little features oh we just you
know did a few small things for free for
you I repeat and UI data and I say all
right you know that's pretty important
I've been clamoring for years and I've
been writing a little code workarounds
for a long time and now it's there
yay and then some people at least some
of the big companies that have been
deploying application than JSF say oh no
we're not going to move it is 2.3
because every gotta Java 8 and our
commercial
server doesn't support then we don't
want to pay and I don't think that's
really quite so intrusive and maybe it's
a blessing in disguise and getting these
legged Lee companies to move to modern
Java Java 8 all right so let me look we
flee summarize how phases flow works
give you a little demo or you can look
at the code I'll summarize only the most
basic part but that I have a few slides
you can download they give some more
give some more details so a flow is just
a group of pages and you can only come
into this group in one place otherwise
how is it different than what you have
you have already and when you're inside
any of the pages inside can be connected
to each other if you make the navigation
right but the navigation strings that
you return are specific to the to the
flow and then you have a place you can
leave it and then your god and will see
you also you can have you can have
nested flows but so that already I think
is a good thing you can kind of just
make it more self-contained and so if
you want to move a piece of your
application to another application it's
easier you've just kind of got a
separate little place where all of pages
that do a particular task are grouped
together and you don't have to worry
about other things interacting with it
so much and then there was this idea of
flow scope beans which i think is a
really good idea so you already had view
scope and you already had session scope
but the problem was view scope is too
small and session scope is too big and
so the problem with session scope is
those beans live around in this live
hang around in the server's memory until
either they do an action that
specifically says to get out of the
session which they don't people don't
usually do so you just hang around and
tell a timeout and so if you've got a
heavily used system with lots of
individuals users a lot of separate
users and you have very much session
data your servers memories getting
bogged down and with the session data so
they added in view
sculpt which was a good thing and view
scope is widely used people use that for
master detail pages all the time and
view scope says okay I'm gonna put it in
the session we're using the session
under under underneath the hood but in
addition we're gonna monitor what pages
the person goes to and if they use JSF
to navigate away from that page
obviously if they just click on the
bookmark there's no way that yes I've
knows that so it's still got to be in
the session but if they use JSF to
navigate away from the page
well actively at the time take those
beans out of memory okay that's a good
thing but those are kind of extremes
session is any page in your entire
application as long as the same user and
view scope is one particular page if
it's the same user flow scope is in
between it's a group of pages and the
beans apply to that group of pages and
but if you use JSF to navigate outside
of that group then at the time actively
proactively the system takes the beans
out of memory throw those away and
there's also a new variable called flow
scope if you if you care ok and again
these slides are gonna be on online from
the conference website you can also get
them from my my website yes sir
okay well try try it okay all right go
ahead just ask me I'll repeat this to
Mike
I think however station scope is a good
thing but I think flow scope is a little
bit better and flow scope is better at
not being fooled by separate tabs and
windows then view scope was so you know
if you're already using conversation
scope you know you're maybe a step in
the right direction so yeah it's more
it's more hydrating so I think that flow
scope is just a better solution you know
I think they were inspired a lot by
conversation scope and they said ah but
we need to make it cleaner a little bit
easier to use a little bit you know more
manageable a little bit more options and
so I think flow scope aims at a lot of
the same things it's conversation scope
it's better so if you're already using
it conversations go fine but if you
weren't already using one of those don't
go to conversation scope now go to view
scope flood scope okay so the idea is I
mentioned already that you can have
these these self-contained sort of
modules where the pages in the beans are
kind of grouped together and you can
move into other applications and shift
from around and they don't interfere
with other other things so so much and
you can envision this kind of like a
method call where there's a place to go
in those parameters that you pass in and
there's a return value and beans inside
just like local variables inside a
method call are not available on the
outside world so you don't have to worry
about conflicts and you can have nesaf I
was just like one method called another
method now the analogy to a method call
I think it's a little bit exaggerated
but you know I think the basic idea the
basic analogy I think holds and so it
uses less server memory
and it's not as easily fooled by
multiple browser tabs or windows nested
flows a flow that calls another flow is
a big advantage because they can be
reused so two flows can call the same
nested flow and they can pass in the
starting information and the nested flow
can return the final information so if
you have you know several different
shopping pages but you have a checkout
page the shopping page is can call the
checkout page in two different shopping
pages could call the same checkout page
and could pass in here are the things
that are in the shopping cart and it
could return confirmation code or
database ID or something something like
that okay so the beans we mentioned
already it's it's bigger than view scope
and smaller than session scope but I
want to emphasize all three view scope
flow scope and session scope are in the
session so the session is the underlying
data structure because if you just click
on a bookmark JSF has no way of knowing
that you left the page but if you use
something in JSF to navigate away from
the page then they'll actively with view
and flow scope take take stuff out this
gentleman here sir what was your name
Kevin Kevin mentioned that they were
using weld well is the way of adding CDI
to Tomcat which is actually what I'm
doing in my demo cuz it launches and
restarts much faster than say GlassFish
and a lot of people were on on Tomcat or
jetty because they're really small and
light and fast maybe not as many huge
applications do but there's a lot of
small applications that like it and
possibly a little bit of a negative is
that flow scope is the first kind of
official part of JSF that doesn't run
without CDI so everything else you can
use at managed bean the JSF annotation
or at named the CDI annotation and if
you're in a full Java EE server you
didn't care but if you're in Tomcat or
jetty you cared and so now you're kind
of being
forced to if you're a tomcat or jetty
user do this weld solution that Kevin
mentioned to get CDI support because the
flow scope annotation is part of CDI not
it's not in Java X dot faces this in
Java X dot CDI all right so the simplest
way is you just have a folder and the
folder is the flow and this is kind of
the implicit navigation just like you
can do implicit navigation already with
a string matching matching a page and
you don't have to configure anything the
only thing you have to have is you have
to have an XML file that's whatever that
folder name is - float XML and that file
can be empty it doesn't even know to
start tagging an end tag that file just
has to exist and then just figure that
out though this must be a flow and then
the the navigation string that matches
the name of the folder means go in and
it means in particular go in to that
particular page right there so the name
of the folder and then the name of the
folder again dot XHTML and that's the
start page automatically without any
configuration and then you can have any
number of random other pages inside but
you can't get to those pages from the
outside if you try to navigate from the
outside as long as you have that XML
file
JSF will block you so you can't get to
anything except the start page from the
outside and then when you return you
just refer to a page on the outside that
has - return on the end and then that's
a page outside of that folder and you're
allowed to then navigate to it so that's
that's the simplest usage where you kind
of have convention over configuration
implicit navigation so let me briefly
show that to you
okay so I've got this little folder I
just made up a random name I called it
it's a little hard to see but I call the
sample flow and inside of it there's two
things I have to have I have to have a
file called the folder name - flow dot
XML so sample flow
- flow dot XML but it's empty you don't
even have to have a legal start an end
tag the file name just has to be there
and then I have a file called sample
flow dot XHTML so that's just folder
name dot XHTML within that folder so
this is the conventional way well you
don't have to do any configuration at
all and then in that file I just wanted
to mention there was a variable called
flow scope it's highly unlikely in real
life that you would attach stuff
directly to the flow scope variable but
if you just have a little message you're
allowed to that's are just one
dimensions that's there but much more
likely is that you're gonna use regular
means named the way you normally named
the beans but we want to verify that if
we named this bean then we designate
that it's flow scope we want to be able
to check to see if it really is flow
scoped if I come back again later even
if I'm the same user is it the same bean
instance or not well what what what one
way to tell is in my confirmation pages
oops I'm using a page sampling here in
my form that's in my confirmation pages
I'm gonna call get pages viewed and get
pages viewed is gonna output and then
increment an instance variable and so if
I navigate around within a flow that
instance variable should get higher and
higher if I'm the same user in other
words I'm in the same browser a
different user on a different browser
should have an entirely separate count
just like in regular session tracking
but if I leave the flow and I come back
that count should be reset so that's one
simple way of tracking if this is really
if the system is actively taking that
object out of the session and my Java
code why do I make it serializable is in
the session okay why do things in the
session need to be serializable so yes
you should make it serializable because
things that the session need to be
serializable but why do things in the
session need to be serializable
okay so so what one reason is when your
server restarts so session data can live
across server restarts
so therefore view and flow data can also
and then clustered servers if you turn
on turn on session sharing so that if
you hit one node in the cluster the
first time the second node in the
cluster the second time that they can
share the information although people
usually use a smart load balancer for
that and not nowadays but so it ought it
ought to be serializable because it's
part of the session so I want to stress
again if you scope and flow scope are
part of the session but the system is
proactive about when it takes things out
all right and I have an instance
variable and I have a getter method that
returned in increments that instance
variable okay and then I have the start
page that we saw and then I also have a
return page and if I look at the
navigation I'm just using static
navigation to make this a little bit
shorter so you know normally you run
some Java code that string that the Java
method returns either matches the name
of a page or matches an entry in faces
configure of XML but instead of running
some Java code that we turned the string
you can just refer to the string
directly that's been in job ever since
in JSF ever since for version one and so
these strings automatically whether I
map them in faces config or not are
considered to be part of the flow there
are other pages within the flow but
because of that that's considered to be
a page outside of the flow even though I
didn't put an e in a folder name or
anything on there in in front all right
and so then if I run it okay I go into
the flow I want to stress that normal
JSF things still work with flows so I'm
here I'm doing required and required
message to make sure that those can't be
it can't be empty
and no I am NOT below see don't I wish
okay so I enter the I enter the I enter
the flow and if I navigate around in the
flow notice that the page count is going
up okay very natural because I'm
incoming the instance variable but if I
leave the flow and then I go back into
the flow
the count is reset so the system
actively when I navigated out of the
flow using JSF at that time it
proactively went and took it out of the
session okay just for your reference I
also throw on this slide which you can
get from the JavaOne conference site or
from my for my website some a quick
summary of information on how to
configure it using XML rather than the
default configuration and how to
configure it in Java as well okay so the
thing that people really touted about
JSF to point to is phases flow and my
answer is yes it's fantastic the next
thing is how it is oh we got html5
support
isn't this great and they said you know
what we do is we declare a new namespace
now most of the demos that came from
Oracle use P as the namespace for
pass-through but obviously they would
those demos are a little disconnected
from your life because most applicant
developers I know use P for primefaces
of course they chase can be anything you
want but - I called it I call the h5
here just invent a namespace and then
you can use that namespace colon and
invent any random attribute you want and
that will get sent through to the
underlying HTML element that that JSF
element turns into with the caveat that
there's a few places in JSF word they
don't tell you what HTML element it
turns into and maybe different
implementations go to different things
but obviously h : input tax turns into a
text field and the main things that
people talk about is oh you know html5
has this placeholder attribute where
they put little grey text in the text
field and as soon as you start typing it
disappears that's different from the
initial value the initial value is like
a real value that would be part of the
submission this is just like a hint a
reminder you know don't put dashes in
your phone number people use this thing
where they put attributes called data -
and then they just make up a name and
then JavaScript can find those
attributes and look at look it up so you
can look up you know information about
you know the units that are being used
and so forth
the thing that people talk about the
most is how html5 has input type equals
date input type equals number and
protectors range input type equals color
you know input type and then have a
pattern for a regular expression where
you can can filter against it you know
let's make use of those in our JSF
application and I say wake me up when
you have something more interesting to
tell me and here's why okay please hold
of course that's a good idea but you
know show me a commercial JSF
application that does not use rich
components okay a few people write their
own because it's very specialized but
most people grab eyes faces and rich
faces or ADF faces or open faces or
prime faces and those libraries have
supported placeholder forever and in
fact they're probably better because
most of them will actually check the
browser support and if it doesn't
support the placeholder attribute
they'll use JavaScript to do the same
thing so it's more portable okay the
date the data thing oops the Dana
dressing okay that's a good idea I don't
think you do that very often but that is
a good idea the rich library don't
really help you with it and so if you
need to do that and you want javascript
to be able to find those attributes this
is a good idea you know jQuery can find
CSS classes more easily than we can find
attributes but the purists make a very
legitimate argument that that's not
where it'll to see us classes are for
and so if you're really storing data it
should be in a day okay fine but that's
not so common and the new input types no
way and I want to show you why no way
but the basic idea is that you don't
know if it's gonna be supported if it is
supported you don't know what its gonna
look like
and even if you know what it looks like
you don't know how to style it with CSS
because html5 says all input type equals
date should give you some way of getting
the date maybe it'll be a pop-up
calendar but even if there's a pop-up
calendar you don't know what HTML built
that pop-up calendar so you don't know
how to style it with CSS so how do you
make it fit your theme your skin
the answer is you you can't so don't try
so let me give it quick example so I
declared the namespace for html5 pass
through attributes and then I use
placeholder look at it fine I saw was a
good idea and I use input type equals
date and then I do the same thing with
primefaces men rich faces a nice facing
the others also have placeholder and I
do the same I use the primefaces date
input component and let's see what
happens
okay so I get placeholder text and it
looks the same and both of them which is
natural cuz the rich libraries use the
native support if it's there and if I
start typing something both the one on
the left on your left and which is html5
native support and the one on your right
which is prime phrases okay work work
work the same way okay now I want to
collect a date so like hmm I swear I
said input type e
did I make a mistake in my code what's
going on here and the answer of course
probably no is Firefox doesn't support
input type equals day it ignores it so
it becomes a regular text field
that's okay well blame that on Firefox
all right you know both both of my kids
are software engineers at Google and
they give me all sorts of grief that I
use Firefox and Firebug for you know
Ajax development instead of Google and
the chrome developer tools and they say
dad you know you're so old-fashioned you
know you know I back when I was a kid I
would say to them we use Firebug it all
right all right so let's try it in a
chrome and I click in there ah and I get
a popup counter oh and it kind of even
looks like the colors and fonts in my
page that's pretty good all right let's
try it in in an explorer right nothing
although I'd be you should try it in
Microsoft edge I suspect still nothing
let me try it in Safari
hmm some sort of support for dates but
totally different-looking not a pop-up
calendar but at least it did something
with input type equals date and then let
me tell an opera I think opera use the
same rendering engine as Chrome so I
should look the same yep okay so we say
you know let's go back to Chrome here so
we'll say well let's just assume that
you know in the future
browsers evolve and they all support
these html5 attributes now you got to
watch out because Safari supports it but
it's supported in a different way but
let's just imagine our wildest dreams
that you know they all supported it
consistently the same way I would argue
I don't care I still don't want it I
want prime faces or rich faces or eyes
faces they all have pop-up counters or
army faces or you know ADF faces or open
faces or Galileo or any of the others
and the reason is you can't style this
now just by a nice coincidence that
pop-up calendar chrome kind of looks
like the other colors and fonts in my
page but let me go change the theme the
skin to that no so it's kind of like
that they try one that's like really
goofy one okay like that the prime faces
pop of color automatically changes to
match the skin the theme I didn't have
to write any code to do that does it
automatically but this one still looks
the same ways it did before and I can't
write my own CSS to style that because
html5 doesn't tell me what that is
I don't know
that's what I particularly like actually
and class X is another one I
particularly like and one of the things
I also like about the themes and
primefaces is you can use jQuery
steamroller to tweak and modify them and
theme rollovers popular pop pop already
so now the bouncers are gonna support it
even if the browser's are supported it
it's not gonna look consistent all right
this one is good every single one of you
who've ever done UI : repeat just
assumed that it supports the same things
that the for loop in Java does or the
jst L at least it supports iterable but
you're sure that's the first thing that
it would support and it doesn't and
people often want to loop down maps now
how you looked at a map is a little bit
odd because you know a map is really
pairs of values not individual values
but jst L which predated jsf
automatically had a way where you could
loop down a map and it would return a
variable and that would automatically
have sub properties dot key and dot
entry and so js2 jsf 2.3 says we will
listen to the masses and do what we
should have done from the very beginning
and yeah hey better late than never but
this is this is a nice feature and
should have had it earlier but still a
nice feature I'm glad they finally have
it now okay so jvm languages or the
result of calling get jvm languages
returns a set a set is a collection
collection implements iterable you
cannot loop down that in JSF 2.2 but you
can ingest F 2.3 so I mean so I just
want to point out that this is this
returns a set so that would be
considered an individual object and it
would loop once and we
the whole set in GSF 2.2 it wouldn't
loop down the individual entries of the
set but and if you run this exact same
code in JSF 2.2 I won't crash they'll
just be one bulleted entry it'll be you
know square brackets all the entries in
the set in one entry and here I should
get the individual entries of the set
and I can loop down a map if I did this
in JSF to point to it would return to
have one bullet which would be the map
object which I don't think has a useful
to string method but now in JSF 2.3 I
can make up a variable it'll take that
variable and automatically give it sub
properties the key and the value and so
I have a little minor translations here
guess what country I most recently
taught training courses in that this
Tagalog which is the language of the
Philippines
okay doesn't seem that big of a deal but
it is a big deal because it should have
been there to begin with and everyone's
been asking for it and now we finally
got it all right and then the onerous
intrusive invasive requirement that we
should actually use a recent java
version and you know my experience is
most commercial applications are not
running their JSF apps on Java eight now
and the reason is twofold one they might
be using a commercial server and the
commercial servers were surprisingly
slow in getting to Java 8 because
remember Java 8 was not part of Java EE
7 so the commercial servers finally got
on Java EE 7 city a with Java EE 7
compliant and then company said yeah
well you I want to have an e 7 but I
want the SE version to be Java 8 they
said wait a second that's not part of
Java EE 7 I did enough work already but
the server vendors and so the commercial
servers you can't just upgrade whenever
you want to you got to pay for it and
many of the companies I go to say we
will not feel an application unless we
have official support from the server
vendor you know there are you know high
stakes commercial bank applications
financial services we will not feel it
unless we have official support and the
vendor said if you run it on Java 8 be
it on your own head maybe it'll just run
but we will not support it they said
we're not gonna do it
and sometimes it's just laziness said
well you know if we upgrade you know
maybe something will go wrong we don't
want to test that a you know if it ain't
broke don't fix it it's running now you
know and I I was surprised I expected
everybody to run and jump and leap on
the Java 8 so fast because I loved it so
much if I love it don't they love it and
partly it's I think that they're not
aware of how useful Java 8 is for
enterprise applications you can deal
with large data sets more easily you can
make your code more reusable and you can
do parallel programming so much more
simply and you can handle most core
goes with parallel programming multiple
cores more more easily so enterprise
applications are exactly that the ones
that benefit from Java but nevertheless
companies for various reasons have been
very slow on and getting to it and
perhaps are complaining a little bit now
obviously if they buy a server that says
it supports Java EE 8 that server must
need support Java 8 but if they're
already running on Tomcat or JBoss or
jetty or commercial server you know the
older version of GlassFish and they want
to upgrade
they can't just replace the JSF 2.2 jar
file with a 2.3 jar file the server has
got to be running in Java 8 you know and
I say well they should be anyhow and so
maybe this is a blessing in disguise it
will get the companies you know to when
they're forced to to realize how useful
Java 8 is a little a little nudge and
you know 2.3 won't be official for a
while so companies have got a time
sometime here so I don't think that this
is really a downside a negative just say
oh no they're forcing us in the Java
you know I hey I'd like to force people
in Java now but you know by the time
this is final I think companies will
finally be waking up to the the beauties
of Java 8 so let me show you a very
simple Java 8
okay so I've got an autocomplete er so
this is you know the thing that Google
homepage has which is a little text
field with a little drop-down box
underneath it I'm using the primefaces
version there's lots of lots of others
primefaces behind the scenes is using
the jQuery version jQuery UI version for
the for the front-end but they've done a
lot of work and hooking up up to the
back end and it's way easier to use in
jQuery UI directly because all you have
to do is write a single method that
takes a string in and returns a list of
strings you don't have to turn into JSON
you don't have to you know parse the
query parameter and you can don't have
to worry about whether it's doing case
sensitive or case insensitive or the
front of the back it's your method you
just write a method string in list out
you do whatever you want so the you know
it's more than just making use of jQuery
UI at the front end it's done a lot of
they've done a lot of service server
code for you and here's how I would have
done that in Java 7 so I have a little
array here which is just the 100 most
popular programming languages in the
world in order according to a site
called tyub comm which I'm actually
pretty skeptical about their methodology
of determining who is the most popular
but you been anyway I took their list of
a hundred most popular languages I split
it into an array I just was too lazy to
type curly brace double quotes comma
curly brace double Coors comma comma
comma double quote so I just put one big
string and I split into an array but
this is just an array but I've got a
return a list of matches and so this is
what I did in Java 7 and you know it's
not bad I just looked down the array I
compared each one if I have a match I
added it to a list I accumulate a list
every journalist nothing wrong with it
but once you are you at least used to
Java 8 I would argue that this is much
easier to understand much easier
maintained and much easier to extend in
in powerful ways so I take the array and
I stream it remember with streams it
doesn't accumulate the whole data
structure in memory like it does with a
list
so if this is coming from a database or
something and it's feeding you one entry
at a time the whole group of entries is
never in memory at one any one time so
it's much more efficient and then I said
filter keep only the things that have
this match at the beginning and caught
them your list
but with the Java eight way I can I can
extend it a little more easily I can say
well you know I really wanted the return
values to all to be an uppercase so I
just say map okay now it's everything's
uppercase and then I said well you know
um this array is really really big
it's a giant data table and I want to do
it in parallel so it'll be faster now of
course you order the entries in the
final list is now indeterminate but it's
really big data set it's gonna be a lot
faster I run in parallel if my servers
got at multiple cores so I say dot
parallel OOP dot you know and I said and
I challenge you take the Java 7 version
and run it in parallel without totally
rewriting the code and I save that I
restart the server
I run it again I run it again they're
now in uppercase and it did the
filtering in parallel okay I hopefully
don't have too much help the benefits of
Java eight you okay I'm running a little
bit late so I just want to make some
closing comments about why I personally
prefer so this is kind of a trend which
is do a simpler server environment
that's more or less just providing JSON
web services and then have the front-end
be pure JavaScript and it just talks
with JSON web service doesn't really
know that it's in Java and you know
there's some benefits of that trend it's
certainly more work but it also gives
you more control and then divorce is
what you've done the front-end for the
backend this certainly a trend in that
regard I was gonna do this live but I'm
running a little late so I'll just show
you the screenshots I took this morning
so if you look at job postings over the
last ten years and you look at JSF
versus spring MVC spring for dependency
injection is wildly popular but spring
MVC is the web engine you know it
certainly has been going up don't think
that JSF usage has been going down this
is in percentage so when the economy is
strong and there's more nursing jobs and
construction jobs and teacher jobs all
the IT jobs look like they're going down
but you know according to this job
posting it looks like they're more or
less tied now so there's about as many
job postings that ask for spring MVC is
JSF so something embassy is certainly
growing and it's it's it's a you know
it's a good environment if you look at
Google searches spring MVC is growing
but it hasn't caught up to JSF I don't
know which is the better predictor and
if you look at which rich component
library is most widely used if you look
at job postings it's so noisy you can't
really determine maybe you know
primefaces is going up a little here
compared to those it's very unclear
looks a little muddled but if you look
at Google searches you see a much
clearer trend which is fine paste is up
rich faces a nice face is down so if
you're gonna pick one they all seem
pretty good to me you might as well pick
one that seems to be growing and and
could and
more popular so my personal favorite
combination is Jays have 2.3 or maybe
2.2 for now with primefaces and Java
that's obviously a subjective opinion
but at least you can say that Java 8
helps them all and that JSF 2.2 is
better than a lot better than 2.1 and
the JSF 2.3 is moderately better than
2.2 all right I went a little longer
than I wanted to but I'll take got five
minutes of questions and I'll take any
more in the hallway sir right so I mean
a menu is just links so you can h :
command link or you can rage : command
button Same Same Same no problem
right if you inside a flow the links to
the outside world don't work anymore
right all the navigation is either
inside or to the return page but of
course if the link is just a hypertext
link you can do it but the problem with
using a normal hypertext link is than
JSF won't know to actively take stuff
out so flows are supposed to have a
defined entry point into defined exit
point if you randomly navigate out of a
flow to other places you have to use a
hypertext link and then you lose the
benefits of it actively taking it out of
the session memory of time
if they close the window it does it does
no and I was still going to time out
because when you close the window the
server isn't notified that you close the
window so it doesn't have way of knowing
it but now it's broken you can't be part
of that flow anymore because flows are
tied not only to the session but also to
the window to the tab but the server is
still going to have to timeout have
whatever the session timeout is and
there's no way to avoid that because
servers never notified when you close
the browser window let me take one more
and then I'll take any more outside
right now uh so a flow the question was
you know you know flow be kind of
separate yes a flow should be separate
and you never get around in the flow and
then you exit the flow to a page on the
outside and then you go back to your an
ordinary navigation like check out while
you're checking out you're not adding
more things to your shopping cart okay
we should break here cuz the next
speaker needs to set up they start in 30
minutes but if you've got other
questions I'll take them outside and
please remember you can get the slides
from either my website or from the
conference website Thanks
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>