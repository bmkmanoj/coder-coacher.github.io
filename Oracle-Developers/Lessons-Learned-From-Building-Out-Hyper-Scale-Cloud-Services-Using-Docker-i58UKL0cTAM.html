<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Lessons Learned From Building Out Hyper Scale Cloud Services Using Docker | Coder Coacher - Coaching Coders</title><meta content="Lessons Learned From Building Out Hyper Scale Cloud Services Using Docker - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Lessons Learned From Building Out Hyper Scale Cloud Services Using Docker</b></h2><h5 class="post__date">2017-07-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/i58UKL0cTAM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so ah in this session we're talking
about lessons learned for building out
hyperscale job services using docker we
could also use a fancy word insane my
prefer vertical you'll see we have a lot
of micro services architectural context
applying a trauma service and we'll talk
about that like how these tools work so
my name is Laurel I'm running the
product management for a micro services
platform that we are building right now
we're in the midst of building it out
and I'm a reason to hire our to order to
perlier and an order was making like a
big deal again I was not and bringing
over people so I came from Microsoft
spend the last two years working on
service fabric which is a micro service
platform as well as an azure container
service and again now I'm responsible
for that because I'm head of product for
micro services I'm not technically deep
so satchel I have to do with me and I
let him introduce himself ah he's
holding me to the truth when I go down
to technical level mathy somebody
all right so from an agenda perspective
that's what we had in mind so I'll give
you some objectives that you know what
is talking about and what we take away
more so that I hope it aligns with your
expectations then I'll talk about the
service use case right why did we have
to need to build that and then I'll talk
about the service design goals and
principles that we applied and this is
where you actually find a lot of
micro-services patterns in concept then
we'll talk about the platform
architecture that you actually have a
picture of what we're talking about and
how its y55 learn this one then we'll
give you a demo and then we get into the
lessons learned does that sound ok ok
cool alright so from an objective
perspective you should they're hoping if
you come inside a building for not too
great plastering and that's one of those
talks that's a service we're really
using internally that's not a sample
application or not something that was
just built for a session that's really a
service that you'll see that's been
powering a bunch of our internal
services will also give you some insight
into what it means to you for like
obviously from our perspective to move
new services into production obviously
some of those things may or may not
apply to your situation because we are
cloud provider we have to do a little
bit more diligence so I'll talk about
the pipeline looks like and how we can
also keep the agility and I know
partnerships of lessons learned
particularly are you get to lose a
consumer or connector
know that how we build another cloud and
should have in a very nice around
potential conflict when you're entering
the space of microservice distributed
computing and things like that okay all
right so the service use things we have
you probably heard that you're building
out the biomedical informatics awesome
how many of you learn about that so
Oracle's late to the game right and we
need to build out a bunch of services
and some of those services are the
students in a nature so you have an
internal service that basically works
like the brain right we need an internal
service or consensus for service
registry discovery and tool
configuration management that our other
services can use so that was the initial
idea how many of you are familiar with
cluster management technologies
coordinators t2s so think about like X
edenian coronaries library where it
keeps the state in it so we needed
something like that in room we were also
asked to hey this sounds like a cool
service keep in mind or design it in a
way that we could potentially release it
for customers so that that being said
permits an internal service we don't
have any plans to release it externally
but even in the area of observable and
configuration management service
registry discovery there is a chance of
the donors even publicly so that was the
driving use case for that service thing
on so as part of that we obviously have
some service design goals it has to be
hypersphere
hyperscale mean it has to scale to
support all of our services with all the
instances they going to provision it's
not just like a scale level of an
enterprise where you say hand
to support 100 instances thousands
without serving music we've signed to be
hybrids grill obviously need to be
highly available because Monica Calipari
services should go down because a lot of
internal services depend on it
flower service had to be very harmful
and resilient it had to act in a certain
way not only if the service fails but
also something happens with the hard
marriage so someone remembered cable
dredge to cable service gone the service
still had to access so those are typical
typical service design goals for really
distributed of billing services then
because we're running it internally we
wanted to be ready for something to get
the most utilization out of hardware
right so we didn't just want to run one
or two instances over servers on a boss
we needed something to have the optimal
power utilization to optimize our
interval cost because running a service
even torn into routine and then d-list
delivery of individuals of the
individual services have to be agile so
as you can imagine the more services we
get the depend on what service the more
feature regress to density so we need to
be able to react to those feature
requests and be able to update
components or services individually to
get it out as fast as possible which is
very similar to what a lot of customers
are facing nowadays right or our
companies were building services because
it's all about time to market and then
important accident is an array that we
didn't take down any of the instances so
the service just had to be functioning
while you're updating it so those where
the service is decidable
those are parameters in that we were
then we said okay great so how are we
going to go about that so we came up
with a bunch of service design print and
as you can tell
with micro-services so you'll see a lot
of things are very similar to
microcircuits actually really a
microservices architect in a sense
so our service design principles really
we head inside to optimize for time to
market okay so that's why I think micro
services architectural approach where
all the services were completely loosely
coupled and by doing that it could
basically push out those services
individually without like having that
bigger bit the services itself are
basically being built by multiple teams
that's not just one team that's building
a service actually one team is building
a service but the overall application
it's being built by multiple services
and those multiple services are being
built by different teams so we wanted to
give them army that they can actually
leave our anymore so yellow design
principle was because we were all read
nice books about micro so is what you
need to do in there folks and practice
we wanted to automate everything
so in our DevOps pipeline really primary
goal is push button lead on and I'll
talk about a little bit later why we're
not all the way to continuous deployment
we only go into continuous delivery so
as part of that what's very important in
an architecture like that and I would
think about we have like all those
individual teams to choose like
technologies of their choice ways we
have to we have to establish some
government because otherwise you end up
with a 357 some ground rules
communicator so each team each Services
team had to do a certain set of units
maybe we can comply with that individual
here to coding standards and as well as
individual code reviews on all
continents by doing that we basically
enforce some governance across lion
coatings done so that if someone looks
at the code or something's going wrong
complete strangers what's also very
important is we have them agree on a
common walk form because remember our
teams of things are really not servers
are continuing attending I mean their
action to your graphically listening the
other team and Broadway team in Santa
Clara we have a team in Boston and so
for all those services to have a common
diagnostic story they need to adhere to
a common local because think about it if
the Boston team like write two types
them in a different format than the
standard narrative you would never be
able to aggregate those logs so so we
have to do some governance there then we
also said only services majority
variable in testable can be promoted
which in our case is the service has to
be packaged inside a container so for us
the unit of employment is a complete
experience as his own chocolate is a lot
of discussions about chars and so on and
so forth
we really are we go on our tests
everyone our union a big one and the
last one is we build four operations
from the get-go so we actually invested
in
dashboard UI gives us status of each
setting an icon state over every service
and then also we optimize or rebuild
diagnostics and monitoring your soul
everything in time developers can go
there and see what the status is or the
stated of the committee
and paths have been successful or not is
that component gets promoted to
production alright so which technology
technology check a stack that we choose
and hey here comes the new Oracle there
is not a lot of Oracle in there I mean
yes we lose ciao well we need reliable
infrastructure we basically use our bare
metal cloud services at the underlying
infrastructure because again paramedics
out services what services are being
built on top of in the users we then
needed an Orchestrator and we went with
a maze of marathon and that was a choice
in time and it's turning out to be very
well it's a proven technology is a good
arbitrator the reason why we will be
moving it to manage container as a
service solution is we are only
responsible we we only want to be
responsible for our services we don't
want to be responsible for operating and
running the orchestrator right
infrastructure later so that's why we're
moving in action later on moving into
our managed container as a service
that's the reason there is no reason for
like disadvantages of mazes Merrillville
interesting acuity and then because we
are both calendars we using nginx very
popular technology for comfortable
silently then technologies design
corporations again as I mentioned we
even dr. as the unit or deployment do
you be the out stack for walking on a
stack or those of you are not familiar
with it is elasticsearch lost
passionately Donna making a gives you a
very nice UI you can drill into your
loss and things like that but we also
needed to have something for monitoring
and so we event with
reviews for Reno's is kind serious
database so it gives us better
capabilities with regards to monitoring
that's why we have those two stacks in
our solution on the Java side you'll of
course we hitting that way without
writing any code we didn't check rs.50
Negi and coherence which is not open
source it gets noted and m4 are the CIT
D tool it's chenkin CI as you can see
it's a very modern on calling things
it's really build around these
technologies all right so who likes
boxes in lines
that's the architectural overview of the
solution so on the right hand side you
see like what's called an operating we
have two modes we have an operator mode
which is basically a control and data
plane think about it someone needs to
set up a user and our terms the server
I'm talking about the mechanism for them
so what's happening here is an operator
comes in their entire page I need to set
up a plastic McLobster is basically the
foundation for any tenant for any
service to you routes to create and xev
instance that's happening on the right
hand side so the request code is
religion X organism and we have some
management API that makes me the
translation from a console or a CLI like
a bat combo or CLI
in tomatoes marathon and say hey I need
a new cluster do I need to upgrade a
cluster that's also an operation so
think about we want to support a 2d
version free right so means that
operator could actually upgraded from
version to version
then has the EDD
cluster itself we have to be process
reward virtue
when I talk about it he served it with
the word fulfillment because of the
factor on coherence so we're using
coherence from end notes for the gate
rain so there they compared with the SPD
nos code for the brain and in the
backend because a four here in back and
notes to store the data reliably on debt
so that's that's a high-level
architecture on the left hand side
because I mentioned before we wanted to
have a multi-tenant approach made and
much energy we can find in many ways for
us because of a an internal service
right now you didn't have to have a
straight separation basis because the
three powers in terms of the Roswell's
were important that the differentiation
is real Minette worthiness and if a
service team aims at the use and the
service TV so when we have on the left
hand side where we make we have another
type of return under which is wholly
dependent which direct the traffic from
any tenant even we have to be gateways
and that's basically receptiveness so
that's that's the high level
so the internal progressing was working
internal services service that you
delivered what's that verb actually make
very yeah that's a comparison think
about you have a distributed system
media service for leaders actually
needed service confirmation and for
service registries covered and we chose
to go with enemies so it ensured other
services on that region and most
important we're thinking about a
component I'm amazing for me make it
available to the public but right now
it's an internship
alright so platform components arm as I
mentioned we are both managers if
anything actually we have a control
thing Gopal and the tenant hotels
through is a slight difference and I'll
talk about it there's a different bit
when you talk about container
perspectives or laboratory and as I
mentioned the tenant 1106 in the middle
between the tenant are MCN and observe
their the management API and here's not
much to say about it basically they just
provide and going towards July and
conference to do operation on the dr.
sockson right and upgrade you toxic
readings of the euro is going to show
you that and then you have to be
services all that I mention is actually
more like a virtual content are they
from a foreign culture with the metadata
leading from the nodes and storage nodes
being exactly what I haven't mentioned
though now if you paid attention there's
a bunch of components
learn which is a page if you have
spoilers microcircuit if you want to
call anyone but we're dealing with data
so that's a very differently we need to
make sure that the data consistent and
result in mistake it's very important so
what you have to do on top of the
orchestrator like now it gets another
confusing so measles marathon is
enormously exciting on top of me for
basically distributes containment on so
what we have to build we had to build a
component that actually helps us setting
up the entire service because the I
dependent we need to be sure that for
example a gateway is there before like
the back and note that a back and node
there so we need to basically provision
in a certain order that fight sauce is
okay because most perpetrators we're not
only give you a computer but why we had
to build an additional component is is
an upgrade scenario right when we
operate we needed a component that
really tells us okay
you're absolutely safe to operate
normally metadata but in a good state
okay so that component and that's not on
the diagram is what we call Orchestrator
right so that's basically about saying
that i mentioned that since between the
management API the needs of marathon is
basically translator and it's
responsible for provisioning the a 2d
service of seen in a particular order
more importantly it's basically there to
manage our life sizes in upgrades in
areas that's one thing you want to keep
in mind when we do data so the operation
area we have that additional component
and what also what it also does is which
is very compelling from a def test
perspective it takes different
environment profiles so if you want to
set up that environment let's say on a
one-load machine just for that test
purposes right your ltd or your coherent
software is probably smaller in size
than what we have in production grade
our Orchestrator actually takes in
infrastructure profiles or environment
profiles
and any provisions the exact same
environment depending on their profiles
which is very even so there was a need
for us to build that what it takes as an
import of the platform manifest and
that's basically a declarative way of
saying wait those are all the components
that make up your internal custody
service right and those components are
basically like docker images version
docker images and having that additional
manifest also of an advantage when it
comes to dev test upgrade and I'll talk
about that and then the last piece is
the platform installer that's really the
thing that are installed it takes the
manifest and then installed these
services on any employer so from a
runtime perspective I think that the
previous picture show that minimizes
let's say you are at attending service
and wine have to be for I leave it in
action green words you're running your
tenancy CN and you make a regret into
the world under investment enemies under
the glue engine egg and any goes through
our the other insufficiency beyblade and
that makes me about the attractive about
the students and that cluster and to the
data so that's basically the wrong time
perspective so this was the high-level
overview of the architecture this kind
of interesting we go to creating
removing okay right alright so now you
have all this great architecture is role
like a stock we need to do CICU and
don't worry hero is going to show you so
you get a nice little item makes
promotion
testing CICE um we actually have
attacking strategy figure out
service level test and service level
tests are basically owned by each
service team for every I repeat who
contributes a component of service to
the overall the D service has a cold
also president may include the unit X
component rest and integration and their
own legal being executed as part of
individual built in you see on TV then
we have platinum campaign those tasks
are owned by a central team so now don't
get confused if you've read about micro
service and say that you will be
essential to you and at the bottom what
that central piece tests you know it's
just defining the testing the internet
pages what it should be because we are
almost component than at some point
someone will be responsible say yes that
all works together the way the poster
right and they're a bunch of tests that
need to be done so we have functional
acceptance test obviously things like
our pinning the APD end points right
already then other tax would be parity
if we operate in this great art is other
services so behaving the our own
community tactically goal actually care
a production here just to make sure it a
service it's been you wrong for a time
on the stress on the load and it's still
behaving correctly then the obviously to
operate tests because operating is very
important as I've pointed out not just
because of the computer coding or the
code really important for us for data
treatment we cooperate that let me ask a
non functional performance and stress
test and then we have one thing that
probably not applicable to most of you
we do the test in there
you guys know about it okay so for those
of you who don't know it because you're
building a distributed system right we
need to make sure and we want to prove
that our show
for example if you think about a picture
as before you have data settings in your
coherence bacchanals
and see how a passion existed so we need
to prove that at any given time the data
is consistent results grew up to the
data and that's what we do about running
a chest and head and prove or we try to
become figure out we have people
diseases and that go for internal
arousing internal text our lavinia
coherence culture that I just mentioned
the relation we go from the backend
content and then the external texts are
going to be coming from a tenant in
there and seeing the values which they
operate to agree that and that's going
to be involved at a certain angle test
when it really poor mania so that every
time are we run is going to participate
so that's one of the manual pieces but
all the tests are in an autonomous part
of our CID movement so it's really
automated right so I think that's key
that you guys that slide might be
misleading yes the other centers have
seen that actually says we need to do
those type of tests to make sure it
works but the entire pipelines on
opportunity before we get into so the
way this is the high level our four
stations of our release pipeline for
component so the first one is really
very fine and what's happening here is
we use the platform in solar that I
mentioned before and we spin up an
environment anywhere so typically what
we do is the slices
meetings basically just one box meant by
that so we spend on an environment there
and we one of almost after them
acceptance has minimal access instead
I'll prepare for me what we also do
what's really important is because our
test our and maybe an energy too
they typically run for a longer period
of time though the developers want to
get the Peapod right away so we actually
split out those tests and be running in
parallel so when you're on heroin test
and right now
each test wrong about ten minutes and
that's a difficult time for developers
to get good feedback and say okay
working on small purchases and using it
so the next stage is we need a
pre-staged and appreciate is it makes me
putting in more like production
environment and testing everything there
the thing is even with the blacks on
ancestry making the one operates and
then we'll so recast and everything
works well together and business visa
pre-staged and everything passed
successfully this can be be consider our
continues degrees in two percent
american comfortable key here is channel
is also mattre mattress can't we all
table components we have a bigger
container dimension but it doesn't
matter if we're you all components
updated and the develop pushes it to
reply
into the pipeline that's in Texas the
end but at some point you can ensure
that that component actually works for
the record and I'm going through the
staging which is basically a brought
live environment to another Rock pedal
excellent on like acceptance test and
upgrade test against Authority and then
in the end we decide whether we have or
we trying to produce a broad production
candidate and this is right at first
automations that actually it goes all
the way up to you think about it
continuously now we have a right as well
we have a new version of our platform
with the new component in there now it's
still up to someone to decide whether
god worthy candidate or not and the
reason why there's a bunch of things
that come in here obviously ring on
stone right and they're their business
decisions that they are great we have a
lot of dependent services so someone
needs to say yes we can operate your new
version for business positions make
available the other role is to be honest
we run a lot of permanent and Lopez as I
mentioned earlier we gave all Adel and
right now to be completely honest we are
not able to automate the validation of
those days for so many so many things
with variables so we still need to have
someone go in there and said yes that's
a good bill that's what we can put in a
production pipeline so that's the reason
why we stopped here and then we
basically put it into another pipeline
and this is the full picture so it's as
simple as that so it have a contract
spencer's diseased go out there
has Bank began GERD like individual
components there with me while bills and
a new assessment that we commissioned
has been happening and then because
Republican manage we turn our profit
author registration and then with
Lachlan testing individuals with sound
all the way in between hypothesis null
model says ethically without your
wedding and all right so I'll talk about
the architecture what that service does
I talked a little bit about the CI CD as
you can see it's a very sophisticated
flow now I think you guys want to see it
and before we get I think you agree so
drew is going to show you how that looks
like for internal teams and what's
happening behind the covers and then
we'll wrap up with lessons learned and
you have a bunch of slides on the do's
and don'ts and things sounds good
alright thanks for it so you guys can
hear me put let me get out of here
okay
so let me start out with saying
something here that in a service bill is
in development and you know behind all
the sausage-making were focused more on
the back end wrecked API and the
services that we need to basically
provide the functionality that's needed
for the end users as well as the
operators we have just started basically
our development on the UI pieces of the
service so what I'm going to show in
terms of the you are is is something
with the still in development it's not
complete we want to have it more richer
for more functionality but you know you
get the picture in terms of what we want
to do so with that you know what I like
that and I show here is listed here so
you know there are two used to to the UI
that would want to present for for for
this service and this is you know this
is a start of something that would like
a user would look at where you know he
has the ability to essentially create an
exit East or and the point with all of
this is that with the user for product
for end user what does he really need he
create my CD story
it's an endpoint he should have some
functionality in place to be able to the
backup and restore a service maybe set
some policies in terms of you know
backing the server the store up at
regular intervals stuff like this 10 is
what you really want to see there is a
whole slew of other functionality that
the operators of the service are going
to see which would be you know stuff
like updating the cluster setting up a
new cluster migrating individual stores
depending on how busy a cluster that we
might want to basically move things
around and then of course be the more
important thing with with the monitoring
of these clusters in terms of you know
how they are performing
and then of course you know the backup
and restore for any kind of eventually
disaster recovery so what you're seeing
here is you know more of the users view
of the service there is another view of
this from trauma from from operator
perspective and there we're really
looking at the cluster be managed in the
backend and as a community saw and you
fired what is talk about it much of this
technology is really turns around when
and for those of you who are not
familiar with Reuters Florence is an
Oracle product it's essentially a
submitted data grid so what we do under
the colors here is that we when we
create with when we essentially put a
cluster into a function the question
itself consists of little pieces of the
backplane or the storage nodes and then
you have these gateways which are which
is in a sense that you know they don't
have any any sort of persistence in them
they are really basically in-memory
caching but they still form of theta
they're part of the same cluster which
is why or which is important and it's
really the gateways which are giving you
the functionality of being really multi
tenant because they are the ones which
are essentially responding to queries
from different tenant systems of the
load balancers so one of the reasons we
chose this architecture was to
essentially do a more dense deployment
so we're able to basically pack as many
users on a cluster and the cases are the
ones we can speak the API for firstly
they told me to
when the protocols associated so that
you know this is the operator view of
the word so let me start out with with
the with the user view of so what is the
user going to do the first thing it
starts out it says okay I'm going to
create a store so you open it up and you
know you basically start out with some
name of the store and you can choose you
know what version of the store you want
like I said you know HPD today comes in
two flavors you've got some food X API
and you've got P dot X so you can decide
which one you want to choose and then
you know this is this is still in
development I mean in the article
barometric cloud there is a notion of a
VC N and you might choose in that VCS
to decide where you want your FDD
services service available whether it
needs to be on certain subnet or not so
that's the choice you're going to make
after that you have other things here in
terms of enabling backup for the store
that you create keep in mind that that
you know as service providers we anyway
do backups for for the entire cluster
factored in you know that's really for a
disaster recovery for the service itself
you as the owner of the store you could
choose to basically you know create a
backup for your own store for different
reasons altogether like if you're using
some applications for micro service
application and you basically chose to
basically decide that now is a good
check point where I want to basically
use the same data for different
environments so you can choose to backup
your X CD store and then create a clone
of that for the other environment that
you want so there are various uses for
that anyway in this example what I'm
just going to do is I'm just going to
clean it some some some store Nia so I
solve it at a store
and we're going to create a store so
this you can see you know all the
different things going on so in the back
end over here what what ends up
happening is and minimize this and
switch over to showing you what's
happening on the marathon for those of
you who are familiar with marathon
you'll be basically seeing something
like this and what happens here is that
this is you know the service itself is
deployed in what we call as the service
weekend and as part of the service there
are certain components which are sort of
pre deployed and we've got the storage
nodes deployed here we've got the
Gateway we've got the the control plane
or the orchestrator and then there are
other parts to the the the platform
which is really about monitoring and
telemetry we are also in the process of
getting some of the Cal staff sack done
so that that title helpers are logging
so that's that's the that's the part
which you know we already had in place
and what what you see over here is the
one that I just created
it's a tenant which you know we created
a test LV store and that is actually
again provisioned by by by marathon in
our control plane so switching that you
will see now that the test has already
been the the store has already been
provisioned and so how do you how do you
use the store now that you've got this
provision you see there's an endpoint
associated with the store that's created
and I'm just going to take the stick so
you can you can basically what you can
do is you can copy this this append
point and this is the endpoint which
which you end up using with your with
your applications which use xcd so for
example I'm not sure if this is very
visible with them
yes Boris is already egging me on and
saying we need to vote difficult ominous
enough quickly try and not show this out
I'm just using a CBC DL which is one of
the tools that XP has or for I'm using a
CDN point so I'm just going to basically
expect something in the FPV store here
we go except you know I just go back and
change this to do a get one on what I
just said
until you get the values that you
actually said so in essence you know as
a user of the service you are going to
get this functionality and you can use
it in your micro services application
and again you know you already heard
there are different ways you use the HDD
you can use it for config service
discovery and whatever helping you so
that I don't know if there's anything
more that I'd like to say beyond that
you know this is a view of the the
operator you know for the cluster we
have all these different options that we
can we can update the cluster we can
migrate service we can view profiles you
know I thought we stopped here so that I
get more time to Morris here to complete
the installation put it back into
presentation linking all right cool ah
looks good oh that's actually working
right so it's it's not something we make
up so let's learn because that's really
what it's about right so for those of
you have been working with material
existence iconic slide like lessons here
and some of them are best practices very
well known so the distributed system the
service perfect right it's not it's a
gift so no matter how you build it no
matter you just the most different
solver your services will take middle be
no power do we need to find wait do you
need to have like retries in place
because sometimes it's a trend in error
like an echo back the service is still
available but these two polling service
in a region what you need to have in
mind or reprieve here you just think it
out now let's say instead of me trying
about one thing okay
so in your services or in a breach
are we try and we try &amp;amp; retry hello does
apply to receive answer by the Dalek so
you need to implement retries you need
to think about like back or policies
exponentially
you know thing the target president's
made circuit breakers does actually like
similar to prevent an application from
trying to retry in the service life in
Japan so and that makes more of the
constant volume of the Reaper and the
only wanted reading podcast so this is
more like a general guidance Netflix has
published and we agree likely history
isn't reason for that type of stuff
another thing what a lot of people in
this existence completely underestimated
is the communication wait everybody
thinking about optimizing your code for
speed rate and things like that but if
you have a lot of services that
communication to have where a lot of
communication going on there so you
should consider like what kind of world
policies I mean its terms you don't
always liked us for coming into a locker
room so so going like that she's here
too me too me too
but for internal you can also think
about more services you have whether you
can switch the protocol actually read
the serialization for me
very important Raven back in my time as
we were like really happens large my
concerns architectures to your
realization NATO sterilization
and you can actually come follow me so a
lot of people are not very long then how
many of you are chocolate Avella pers I
see more away oh one so there's a thing
Rea docker how many of you heard about
dr. Hayden everybody's heard put
everything about okay
holy hell so there's actually a thing
with kvn rate and that's very important
that a lot of people know that that's
wrong day to figure it out it is like
marketers out there right now so you
give a container and memory comes in the
wrong time stream you tell the container
you can only use like 5 minutes the
taping head InDesign containers a lot
but we cater so you need to have
something in place to configure your KVM
to one they call in I was in route I
played to me like an environment
variable when we start it up and say
okay that's the max memory you need to
use but if you're running on an
Orchestrator obviously you already
suspended with the orchestration
management but Americana and the 5 that
is glide to education and air to say how
much CPU uses a memory right so that's
that important stimulus Betania
the same goes for CPU the good news on
the CPU fingers we're fixing up a jz9
that's going to be fixed does the memory
thing will take a little bit longer
because it is very complex to work it so
keep that in mind
yes
slide
so basically what what happens here is
that you know our control claim has a
mechanism to support profile and so
depending on the environment where
you're going in you decide you know what
kind of memory and CPU settings you want
for the particular deployment that you
want to do it so if you're asking you
know who sets that yeah I mean we set it
based on on the environment that we get
it and based on the tests that we run in
flora no person scaling so you have to
decide that and I think the point that
Boris was really making is that Java at
the moment doesn't actually honor the
boundaries that are set forth out there
and you have to do something to make
sure that your your deep sizes are you
don't go over the boundaries otherwise
the container faster than of course the
orange or infrastructure will restart it
but all you'll see is containers
crashing and restarting on photons which
is not something that you want to you
know see
yes exactly
concise um validation and figure out the
localization the same same thing that
the CPU also for example in the CPU
situation is disliked Java prosecutor
typically look for and the number of
CPUs which are there on the hardware in
when you make calls Java essentially
whether you're running in an outer
container or not you give you the CPU of
the running or host which is not what
you're really looking for because you
have to probably a 36 port there you
only want to use one or the course so
you have to make those changes using
certain property in Java so that you
make sure that the appropriate number of
selectors of shares or whatever you are
doing in your job properly cool all of
the news which is fairly related to it
if you run on an orchestra and that's
not just a beautiful marathon and we'll
talk for you actually monitor your
container events so you container may be
up and running but your application
inside may not be running right at that
point so if you have energy than we have
you probably want to implement on the
additional check to an endpoint and see
if the service is really available on
nginx what we learned on if you if you
recall the architecture that we have
when we say hey we have engineer as the
water and so what can happen is that
logged Arun was showing you the
operators console that we create a new
tester right
you have to be Closter so we have new
endpoint so now what we need to do is we
need to reconfigure engineer and the way
it works is our nginx container or base
images are you sorry however
destination which is Bill's at the table
component in your net talk to the
orchestra right and the arbitrator says
hey I we created a new cluster sends the
message down and then if the component
inside of contain our updates the nginx
on generation and recycles the process
for the same here you know no there's
not a good way of figuring out with the
process lack should back up again so we
we have an additional check there that's
what you want to keep in mind containers
that's one thing that I might have
another many locals and infantry you
need to you need to version your
container images don't use the latest
tech rate because the latest text is
something completely different and it
just puts the latest questions so
romantic version you also another thing
you may want to consider when doing
those containers stuff you small base
images a lot of samples out there have
come Mormon container agencies based on
Ubuntu and what other sorry
stuffable the problem you have is the
scheduler sense of a new instance of
convenience or we know that doesn't have
it
I believe to put it down at all takes
time so take a lot of time for your
service to come up you can consider
using base images for multiple purposes
so that's going back to what I said
initially our community
hasn't opened and we only need HDPE so
Ford SUVs to support for the animals
because entity version 3 edges where you
don't need it for organ do we have long
nails which that have everything images
based on the type of growth I'm going to
be spinning often instead of flapping
CITV pipeline automate everything may
not be possible I talked about the
result and why because we have certain
test results concerning to be validated
by humans as well as different decisions
very important they here developers have
a to let them choose what kind of tools
that we'll use in our a we choose our we
can even a greater project is up to them
on what that did is a set of technical
things but against them Braemore
involved in my soul the I ve done the
institutions will again a mental
psychological thing right and that were
sick there are three pipelines employer
from Google as I mentioned before the
only course container images of
containers and component the isolated
sandbox environment for development
debugging and testing I mean that's
always a problem and microservices
environmental resource tablet the
orchestrator in profiles and then one
more important aspect is we are doing an
agile testing pyramid so we move a lot
of testing into unit and integration
tests unless in the end to end but on so
overall our paralyzed testing I
mentioned that before and that's pretty
much it there's one more thing that that
one is very
whole thing of specific to a location
because removing workin traders like
row-major Americans has not really my
Abstract administration nobody could
just use our education but that's more
like for us
so with that I hope the session was
interesting to you guys and got an idea
how we might have sort of the prototype
to market if you're interested more in
the micro services topic in general they
started blockiness here is about micro
services only workers walked up to me
and with that I thank you guys for
coming over each other</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>