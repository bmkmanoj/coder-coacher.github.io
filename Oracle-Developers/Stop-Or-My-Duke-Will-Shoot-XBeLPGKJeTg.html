<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Stop! Or My Duke Will Shoot! | Coder Coacher - Coaching Coders</title><meta content="Stop! Or My Duke Will Shoot! - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Stop! Or My Duke Will Shoot!</b></h2><h5 class="post__date">2015-06-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/XBeLPGKJeTg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to to the truck stop or my dupa
toot I know it's lunchtime the more I
appreciate that you forgot about lunch
and came to my session oh yeah you
brought you brought your lunch good idea
so like many talks and as we have seen
in the keynote with even he notes as
soon as you go into the space of
Internet of Things and do live demos
with equipment that works fine at home
there is some chance of having a
spectacular failure so my we have been
like a 50-50 chance really so I hope
it's going to be spectacular either way
either spectacular success or a
spectacular failure so enjoy it and if
it doesn't work then we just part as
friends is that okay good so stop or my
ipod shoot i'm not sure who knows that
motion picture stop or my mom will shoot
with whether slept sylvester stallone
saw or was it oh yeah yeah exactly so we
will see what that means in terms of
Internet of Things in the way what that
we approached it at canoe my name is
Joker neck I work for canoeing Basel
Switzerland so first depression is how
could be possible why should be shoot
and how could we shoot in with is with
this device here that I brought from
Switzerland in the airplane that was
kind of interesting to see the faces of
the security personnel actually they
took more issue with the Tesla
microcontroller that I had with me
because that was kind of suspicious
whereas the styrofoam rockets were kind
of okay good so we we have these in the
internet of things we have actuators
things that make stuff work motors and
so on but in sensors right but we also
need some way of controlling them
we need an application model application
architecture for how to handle this and
this is where open boyfriend comes in
and I'd like to show this with these
representatives for typical kinds of
things that you may have in the Internet
of Things by the way Internet of Things
is a good name because it is the it lab
was not named internet for things you
know the Internet is not for the things
even though they plays a part in it it
is for you right the internet is for you
it's for people and the things are just
there and we work with them so there's
already there's always a human component
in that story and we will see how that
relates to our proposed application
architecture what is always ever heard
of opened often before I know huh SCOE
yeah yeah a half of the audience thank
you so it's an application architecture
in itself it originated in writing rich
client applications but then we thought
it quite naturally extends into the
Internet of Things because if you have a
user interface with the checkbox in it
and you have from the server side have
to control the checkbox keying on going
on and off or whether you have some
device with an LED on it and you make
the LED going on and off that should
make no difference whatsoever and you're
controlling code you can have that on
the server side exact same code on the
server side involve often you don't even
know how it's going to be visualized you
don't even know whether device or use
interface or what can be user interface
that may be or whether it's a checkbox
or a radio button whatever you don't
know anyway so that kind of led us into
proposing this kind of approach a simple
demo
so should I really show this area spy
not going to this this is the check out
from dwarf opened often it's open source
you fit it on github you'll find it on
github it is Apache to license it comes
with a lot of demos and I on the command
line when you checked it out you can ask
the build system which if it's not
installed will install itself gradall
you a list demos and then input build
itself and give you the list of demos
there is one which is called the push
demo show you that
which opens a javafx view that this kind
of minimal version of an application
that we have written for a container
yard management and it is just passing
around what we call sometimes vehicles
they don't really move like vehicles bet
you can whatever you want to see under
like bacteria or so they just move
around they have a color they have an XY
position they have an angle over here so
and this is like this all above Harrison
is a master view as always a detailed
view and this is a master view and this
is a master view this is the typical
approach that we have an open coffin we
control this from the server side on the
server side you're setting values for
those we the server side knows where the
vehicles are and when the position
changes there is an signal being sent to
the server and the server notifies its
clients that there is a new position
that's the application architecture in
in open bluffing and you can select in
the midst of you let's say the red
vehicle and then you will see it in the
detail view you will also see it
selected in the master view you can as
just as well select over here like to
say the yellow one of the orange one
which will lead to a selection over here
and update of the values over here you
can also in the UI change of value and
it will be immediately visualized for
example I don't change from the orange
one the Y position which is the vertical
position I'll change in 20 and you will
see that vehicle floating up to the very
top until a new value comes from the
server who knows better and then places
begin somewhere else and you will also
see the x value here in that view if
you're very observant I'll do it
multiple times you can check that so
here I put it on 20 20 it will float up
here is a 0 and over there do that
another time
yep 0 &amp;amp; 1 nice 0 goes up there and one
of the benefits of open profit is that
all these views are totally independent
this master view the table and the
mapping master view and the detail view
they are fully independent the master
view knows nothing about the detail view
and vice versa so you can add new views
at any time you can remove them you can
change them without affecting existing
ones and this is done through a
server-side controller which is fully as
much separated as you can do it from the
view not only does do they compile on
different class Panthers they also run
on different machines and you cannot
have a better decoupled than running on
different machines technically so that's
the open dolphin classical question that
we deal with how to construct this kind
of user interface good that was it
now that was kind of one device that was
a desktop running javafx but we can have
many many many devices many many
typically we have many users of the
system and they connect they can also
share information on the server once you
have your application running on the
server which is constitute in enterprise
application that means it is on the
server and if you replace the the user
interface and the human user within with
just the device this is the same as
having many devices being connected to
the server just it's just the same it's
exactly the same it's likely user
interface it even has some physical
redundance of a user interface because
you have the LEDs there LED is blinking
and so on so I actually have one here
this will this one is microcontroller
and so forth tehsil microcontroller
which doesn't even run java it runs java
script and there's an open dolphin
client on that small device here there's
a lots of different sensors and actually
it is available that you can just plug
in and control via JavaScript in just as
if we in the user interface we are just
binding opened orphan values towards
certain Bridget we are just binding
against the available LEDs in controls
and what happening same same story so
here is the the structure of the
architecture controller and view are
separated as much as possible they talk
by having a shared presentation model
let's say whether LED should be
currently be enabled or disabled
checkbox enable/disable whatever is is
modeled in the presentation model opened
often in the middle cares for keeping
both up to date and on the server side
where your application logic is you just
say
these so-and-so values should be true
and hence of uploading cares for
transporting it to the client and
kicking on the client views saying hey
here's a new value you should set that
to true right visualize this as true and
then the view does it just like having
its inclined some during clients this
can also be a device same story so far
clear any questions then just throw into
the shout into the room so with many
when you have many of those many sensors
in many devices really these it's just
so that you have two sessions on the
server side to client service like this
and those are identical you know these
controllers are just two different
instances of the same class the code is
identical and they share information
over an event bus whatever they think is
relevant for the advance they put into
the UN us and this is read from the
controller and then we again put to the
sensor such that we can have multiple
devices not only to the same devices but
by the mix of devices the same
application logic but different
capabilities on the client side some
let's say a user interface client can
display a circle whereas a hardware
device just as good health just has wood
is on the hardware so the hardware
devices things and soft devices is you I
that's it this is the whole structure of
having user interfaces in devices
working together in this architecture is
the very same as if you had javafx and
swing entered a few and so on through
the same sort of information
so here is the only difference if you
have sensors in you eyes is that you
have different client side technologies
right different colors all the blue
stuff is exactly the same including the
model from an application programmers
new point of view everything stays
exactly the same whether you program you
eyes or whether your program devices now
this is pretty cool because you know
when i started going into the iot space
i was kind of intimidated but i know i
have now i enter the totally new world
and i have to care about you know memory
layout and whatever in and what what is
on this device where's now for this with
this application model i can fully
concentrate on the what and here is the
hell what is to be displayed and here's
how how it is displayed and the special
the special details of it of the device
are only in the in the binding to the
model that's it now there are many
different devices of the other piece big
of one is when a popular one is
raspberry pi who has ever done anything
to compress berry pie sump you thank you
yes by this a pretty big machine already
it's small in size but is it is very
capable in France Java so you can at the
Java client and actually we do this with
open too often we have actual clients
there is maybe you see it on the mounted
on the wall there's a Raspberry Pi and
it is visualizing or a corporate data
concerning the occupation of our meeting
rooms and this is actually kadu and and
and when in the meeting room floor which
is you can directly see where's my
meeting and where some room free where
people will not throw me out after 20
minutes right it's that's actually the
more useful use case that's what we do
the the Raspberry Pi runs a Java fly
and which is uses open dolphin to talk
to our server and service at logic then
ask the corporate calendar about the
data that's it the raspberry pi is also
used in other cases here for example
from todd castella he is managing his
chicken farm in Calgary and you need to
be very careful about the temperature in
kerrigan category if you don't want have
frozen chicken so he remakes javafx
visualizations bit all the sense of ring
is done on the on the Raspberry Pi now
the tehsil is it much smaller device
much much more than less capable device
in the rest of your pious it does it
doesn't even have Java on it it runs
JavaScript kind of natively right but
whether you find against Java or
JavaScript makes no difference to to
open too often and I'd like to show you
this simple typical setup for Internet
of Things will open off in such device
and javafx two different clients a UI
client device client working together
with the help of open dolphin and
crossing fingers that should work the
wise say crossing fingers is I need to
connect over the Wi-Fi and actually the
Wi-Fi that we have here the official
Wi-Fi has some kind of filtering and
doesn't allow the kind of signal that
the Tesla sending so I needed to use my
personal hotspot or my smartphone did I
did I mention I'm from Switzerland I pay
the growing costs for you right if for
nothing else give me all the best
feedback that you have only for this and
I need the money it's not so so the
tehsil is running over here then there's
a server running running the server side
of dolphin and here's the client we will
start with the remote chesil client
and see whether we can find anything I
would probably need the volunteer let's
say so here is the control panel which
is javafx this doesn't come with the
device this is what I wrote in an
afternoon but it is connecting to the
device via opened orphan girl super
server and back to the device so in
order to show you the device because you
can hardly see it laying in my on my
front here i will try to the photo booth
there is no camera this is bad eh why is
there no camera I have a camera I'm sure
shall I tell you what I see on the
device so let's do you see light
blinking okay so whoever's kept it will
come here and we will see it in front
okay so i hope the following will work
actually it's the this device will this
module can read ambient light ambient
sound spikes in light and spikes and
sound so the idea would be that first i
have two things in in one control that
is i click on this green LED and here a
green LED should be working i see
nodding heads which is good so the green
leds is is lighting up here because I
controlled it from the server side why
do i I don't I have a camera I have no
idea so and and now it starts reading
values you see ambient sound thank you
so if you make a bit of sound along
oh oh okay so at least some spike of it
yep so I was expecting like 400 people
so would have put up made no sense java
java java java jing jing jing at least
out of three okay and big one and spike
yep so for detecting spikes you can send
you can set a sensitivity level for how
to recognize the spike and this is
currently at ODOT one I can set it
higher or lower and this will actually
directly go to the device in and set it
there and I will turn off the could be
continues reading and only listen for
the spikes just okay
that was it up good enough okay yep
recognize the spike I should actually
put this in the foreground because here
we can see the this pond assaults back
comes and we can see how long it takes
until it is visualized so not too bad
right okay so I can kind of remote
control the whole thing let's let's also
turn on LED reading it will give you the
ambient sound and also ambient light it
is so dark here hmm normally I would
have guessed that I put it then the
closet over it and then you see that
it's much darker I will not work if
there is no light on the beginning so
can I do this from like so mm not bright
enough okay anyway we go with the sound
so this is I mean ambient sound reading
and the it spikes and put the spikes
away yep and then out now it was the
blue and then lose gone so it's kind of
it's almost as if you could see the
chastity bites when you see the control
panel that is the idea okay put that
back over here
now began that we can leave that open
actually good doop doop
and you can have other devices like we
have here and for a segment you see I
may I made a picture before so let's try
and and use the second m second way of
cough controlling this thing and this is
let need to go over here need to start
another view which is the rocket view
which is which goes like so ctrl shift
10 post the same stop running we are
opening a new UI so we have the tehsil
se device the UI ok I'm going to aim at
you're here ok don't be afraid it's only
styrofoam and the idea would have been
if the Wi-Fi would work that you all of
you could collect collaboratively steer
the direction where it's going to shoot
so in the opposite direction on the
opposite side of the room that would
have been the idea so with this hot spot
this will not handle that kind of
throughput you know but we can still do
it but at least one device and this will
be my iPad so need a number of things
here one is this one is that we need to
bring that in the foreground and we need
to go you need to be in the same in the
same Wi-Fi release so and you cannot
because you don't know the the content
then i go into oracle events know the
aiming page go
now we have a third view the third UI
view which is the web on this device and
this will read the device orientation
from this device and put this into
steering commands for that for my local
device that they have my desktop which
happens to be the rocket launcher if
everything works if it can connect I
have the feeling that it cannot do more
than two of them anyway it would have
been such that when you turn the device
like so device orientation is red and
then it turns left and right but if it
doesn't and I don't know why I guess I'm
in the right Wi-Fi let me quickly check
no sorry my fault I wasn't in the red
Wi-Fi we kind of idiot it's kicked me
out and and then it was reconnecting to
the Oracle OpenWorld thingy okay okay we
we get it we will get it start showing
up well if not then like so we what we
did here was exactly the same thing as
if we open the browser in for the aiming
thing DJ s aiming
and this is bound against the device
orientation but device orientation is
not available on the machine itself here
so I'm going to put this over here such
as you can see it are now it's
contestants mouth and shoot now when I
better put this in the foreground
doesn't work anyway good you will see it
like so there's done a traditional
foreigner yeah okay and I put this to
hear you see that thing going over but
the actual device and you I need to put
that actually in the ok I'll try I'll
give it a second try I put the Tesla way
because usually I would have I would
have snipped off my finger to fire the
Rockets that would have been the idea
but the controlling is more important I
have decided at this point so I actually
do this differently in and unconnect the
Tesla such that my hotspot can take
another connection
come on cam piti piti piti piti
for some reason doesn't do it I cannot
see my hot spot here that's the that's
the problem is anybody is somewhere
somebody here with input the smartphone
smartphone an iphone or iphone okay yep
yep yield the main thank you because i
have to connect for that please and i
have to reconnect this one to make that
work this one is over here this one's
there okay if you see the 47 seven
please don't connect so then ok now I'm
neat haha use p.m. yeah okay that was it
need to connect a new one
good
thank you for your patience that is that
is very nice so HTTP colon double slash
a hundred seventy-two dot 2010 dot 2
colon 8080 slash dolphin minus grills /
DJ s / aiming good
okay here we go now we go now now we're
talking okay here it is so the device
orientation of this device will steer
the the rocket launcher so when I put it
more to the right hand side increasing
value goes to the right and when I put
it the other way around like to the left
goes to the left right stop it and you
can now combine this commission to me
you can now combine this with the with a
Tesla is just for a second I need to go
to the other UI and enable the spike
detection of the tehsil okay
am I still there ok this one so if
you're now suddenly cheering like crazy
at the interval plyo
up we ok thank you I guess thank you
that's that's very kind so one thing is
leaking and abuse with it thank you ok
got it that it one point is when it
fires it does a little sound like that
one which produces a sound spike we
should make everything party again it's
like an endless recursion sir and you
see back here you see little bit more of
the sound spikes back here is what
happens on the server side you see the
dolphin server lock things being back
then back and forth and that was pretty
much it so we can talk I shouldn't
should not have done this anyway let's
go back to the presentation so that was
local devices you sometimes have devices
that are just bound to whatever machine
the device itself is not connected but
the machine is connected and it's often
likes like your barcode readers or yep
whatever you have on your machine that's
actually in this is still very common we
have a client that is in what is that
sir cheering room so in the hospital the
the weather if everything wait where you
do the surgery right there are so many
devices you wouldn't believe how basic
they are they do rs232 and so on think
you need to control those as well so yet
here is the general scheme of things how
that how that is working so you may have
sensors and the UI that's this is how we
started and then we had more of those in
this scenery all right you have
desktop clients web or mobile web what
we have seen on on Hendricks iphone boss
mobile web you may have raspberry pi in
the game and even the chesil raspberry
pi stands in for any device that can run
java and i was very happy to hear in the
keynote that there's more and more
devices that will run java but anyway
there will be devices that do not run
java and this one of the examples is
blue tehsil which at least has
javascript and since opened orphan works
with java and javascript equally well
you can have the very same model the
point here is everything that blue is
the exact same logic like the exact same
thing over all devices over all channels
and even though the actually the iphone
the the mobile web forbid that we have
used their didn't even use the open door
fin integration it was just as a
representative of a device that can do
nothing else but sending an HTTP GET and
this is kind of the minimum for IOT
right or at least over some protocol to
the server if it if the device cannot
send anything to the server it's not
internet and otherwise it's not a thing
so it's like the minimum requirement if
that is fulfilled we can happily work
with that we can fully integrate it in
that model
everything is nicely decoupled there's
you can add visualizations remove them
have new sensors actors and so on to
your liking as soon as you add one if
you remove front the other ones stay
unaffected and all the logic is on the
server respectively if you want in the
cloud one central management and you
know all the all the benefits of Java
Enterprise on the server I'm pretty sure
so what is open dolphin adding to the to
the story in this request between we
have unbelievable unbelievably many
different devices that you will see also
here in the in the conference especially
in this room and lots of different
protocols that are proposed and applause
and gives you an architecture how you
can combine those or you can put those
in one picture and have the controller
being totally decoupled from the let's
say they're from all the specifics of
your various visualizations controls
that you have of the client side this is
typically then in a remote fashion over
the presentation month and the
presentation models also give you a very
nice way of testing that means that
since the logic on the server and the
logic does nothing else then managing
the presentation models you can write a
test against the presentation models
let's say please set the LED the green
LED value to true and now I expect that
this and it temperature reading coming
in light reading noise reading right
that's these kind of tests can you can
do on the on the server side actually in
any combines in the combine
yeah this is maybe the the biggest
advantage now it's it's centrally
deployed and even the deployment stories
is awesome that the even more important
is the programming model the programming
model is always the same whether you do
open door open for you I development or
for corporate environment or for Team
applications or for applications that
follow you over your devices that hand
over in all this but even extending to
IOT the programming model is always the
same you read a value you write a value
realism for value changes nothing else
and with this this is really simple
right cannot be Magister Blaine in my
eyes yeah so the I'd say the entrance
level for typical Java developers
especially enterprise of a Java
developers into the IOT is pretty high
because not only do we have to deal with
your application logic also with all the
device specifics and this gives you an
opportunity of dividing the two this is
not much different from when you create
an application and you have somebody who
cares about the UI and the layout and
that is nice from all the logic which is
the usual case with opened often but now
you have it extended to device specifics
versus application logic that's very
easy entry for the application developer
to go there it's a very clean
programming model very clean
applications it is much easier to
maintain the controlling logic in Java
on the server side then device-specific
logic for the device believe me pretty
sure that is the case so on the device
the only concern that you have as
developer is when there's a value change
how how do I manipulate the device so if
there isn't valued change on the green
LED what are the steps that I need to
take to make the green LED lighting up
easy to test good we going to propose a
JSR for open dolphin this is in the
works where canoe is JCP member and
people we will try to heaven it JS r
that's mainly targeted for the UI
development but well once it's there it
can be used for IOT as well if you have
any interest in this would be very
welcome you can follow the open valve
and Twitter handle and any news about it
will be posted there you can approach
this as any time at any time about that
we were busy early as cool lots of
opportunities for asked questions he
rots the the coordinates and if you
liked it please fill out the feedback
forms and if you don't talk to me but it
would be better and then we can go into
questions about this it may be starting
with the remark that open dolphin is
fully open source apache2 license
actually pretty small code base we add
can do we give a wave for free lots of
software working open top work in open
source and two free talks go to Java
user groups we we are very open for
sharing what we consider our knowledge
publications and articles and so on but
every now and then we also have to pay
our bills Sofia we are happy to help you
with a consulting training engineering
that we got and our goal is that you
will write the best possible
applications at your home that's that's
all story you have any questions about
this approach
so
client
website
it looks at what what kind of protocol
do we use the depression for for making
the update so quick actually the I
haven't really shown you how quick these
updates are before I answer the question
I show you the folding because that's
kind of impressive in itself so not
going this way oh yeah I have to
disconnect thank you that is good
because otherwise it would not have
worked I'll show you the the actual of
the open dolphin server part and then
start the server and go back to the web
was it to my console where the demos are
ok that was gone then it then I do this
in the IDE and open the open dolphin
open from desert javafx stem or stop the
client for example phones you which one
is the best shared attributes
quite sure is that any better let it go
to the startup that grills multiple
roots which demo many events demo share
this one so there's a server started on
localhost and it produced it just sits
there as a back-end and I can have like
in this was actually the inspiration was
a train you have a train dashboard and
the train may change its velocity and
then in the various coaches you have you
have a display what's the current speed
so here you can change the speed and
we'll open a second one and maybe a
third 1 in the fourth 1 and itself and
so on you can really add many of those
and it is especially about your question
when it comes to consistent updates
there was a second month let's start a
third one
and then here is first second third area
we have why are you here so one two
three
they're all sharing the same value the
server-side application logic now if I
change I'm of the dashboard I'm in the
driver's seat I change the velocity is
that what's up service started
here
and sometimes when they do this on my
with my touchpad here without my mouse
then I do not touch it correctly I have
that still on this device over here okay
this is a bit too slow why is it so slow
at the moment no idea anyway so actually
opened often is totally agnostic to the
transport protocol if you want to use
open sockets feel free we're actually
the this there's two standard protocols
that combo dolphin dolphin which is
either in memory connection when you're
in client and server memory for
debugging purposes or for testing for
example and there's an HTTP connector
which does standard HTTP standard HTTP
POST and it is so unbelievably fast the
people never actually believe that this
is pure HTTP as soon as we have web
sockets or HTTP to that over--oh speedy
or what have you just plug it in it is
it is total modular you can plug in your
the transport protocol of your liking
that's that's what you can do all that I
hope that adjusts the question anything
else
if not then I say thanks a lot for it
for spending the lunch time with me and
enjoy the conference</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>