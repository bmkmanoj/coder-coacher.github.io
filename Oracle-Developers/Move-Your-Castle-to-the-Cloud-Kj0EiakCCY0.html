<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Move Your Castle to the Cloud | Coder Coacher - Coaching Coders</title><meta content="Move Your Castle to the Cloud - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Move Your Castle to the Cloud</b></h2><h5 class="post__date">2017-07-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Kj0EiakCCY0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well howdy my name is Blaine Carter
I'm Oracle's developer advocate for open
source so a couple things about me
before we get started I love to
experiment with things I like to play
with pretty much anything hardware
software I like to take things apart
sometimes I can get them put back
together sometimes I can't my dad still
gives me grief over the heaters I took
apart when I was a kid but I love to
learn new things by taking things apart
and when I learned something new I like
to share which is why I'm here today I
am a bit obsessed about security and
privacy I don't always do the best job
with security but I try hard and I try
and keep up with the trends so I know
what you know what to watch out for but
I would like to share a little bit about
my journey into the Internet of Things
lots and lots of things when I first
heard about it heard the term Internet
of Things my first thought was well
that's just plain stupid there's so many
things out there that do not need to be
connected to the Internet this is just
problems waiting to happen and then I
thought well what about the home
automation you know ok that'd be kind of
cool to be able to turn my lights on and
off from my phone or check my security
system you know check the status of
different things in my house you know
that could be kind of cool and I do like
to get my entertainment from the
internet I love things like Netflix I
stream my music from different services
I get a lot of my entertainment from the
internet now this is not my house yet I
do like the way that looks so I might
actually build this room when I can get
some time and money of course
but there still are things out there
that I don't think should be connected
to the Internet
my refrigerator does not need to be
connected to the Internet when I first
heard about a connected fridge why I was
thinking well you know this is going to
be nothing but somebody takes a tablet
and duct-tapes it to a fridge door it's
going to have a calendar and a shopping
list I'd rather just have a computer
sitting next to the fridge or a tablet
this is also not my house by the way
but then I saw that commercial of the
guy in the store and he called his wife
up and he says you know do we have
something in the fridge and she says
well you look and so he pulls it up on
his phone and says ah hey we need some
of that now that's a pretty vain cool
actually and so I realized that you know
once again I'm being that guy howdy I'm
Blaine Carter I'm the old man who yells
with the cloud every once in a while I
have to remind myself that just because
I can't think of a cool use for
something doesn't mean somebody else
isn't going to think of you know that
killer app and so I try and stay
open-minded for these things however
last time I looked at refrigerator
costs around fifty seven hundred dollars
and really only feature I liked about it
was the the camera inside that takes a
picture of your food I'm not probably
probably not going to drop that much
money on that so I was looking around
and I saw on YouTube I found this video
of a guy who took a Raspberry Pi and a
webcam and wired it all up inside of his
fridge used the power source inside of
his fridge when you open the door it
takes a picture post it to a website
closes the door he can pull that picture
up on his phone I might do it a little
bit differently I might actually make
the fridge take the picture when you
close the door so you don't have to
worry about camera angle but then you
got lighting anyway lots of
do-it-yourself projects out there you
can get into and I I get a little
overexcited about a lot of this stuff
sometimes a lot of these things are
really cool so what kind of things are
we talking about are some things that I
have I have this thing called an open
garage it looks just like that it's
about this big by the deck cards big
it's built on an Arduino the two little
round things are a distance sensor so
you mount that to the ceiling in your
garage and it tells you the distance to
whatever's below it so if the door is
open it's 80 centimeters in my house if
the doors closed with my wife's cars in
the garage because I don't get to park
inside then it's about 140 centimeters
if her car's out and the doors closed
it's 300 centimeters so I can tell a lot
of stuff just from the distance with
that little unit and it's an open source
unit you can build it yourself or buy a
premade
I kind of like that one I have some so
no speakers in my house like I said I
like to stream my media and I like the
ability to be able to push whatever I'm
listening to to my speakers I have an
ancient stereo system
I say ancient it's about five years old
it does have a network jack in the back
so I can push music to it and I can
control the volume and a few things
that's kind of nice I have a lot of
raspberry PI's once again this Raspberry
Pi there most of my raspberry PI's I
have a thing called Kodi installed Cody
is a home automation or home
entertainment system so for example I
don't have a blue I don't have a DVD
player hooked up to any of my TV's I get
a DVD in the house I rip it I put down
my Nass and then I run it through CODIS
so any of my TV's from my phone I can
control it pull up any of my movies with
all of their information characters all
of that a very nice little project for
Christmas I got a bunch of these they're
called hats for the Raspberry Pi and in
there there's a bunch of weather sensors
so I'm going to put a weather station on
my house so I can tell what the weather
is at my house I don't have to depend on
some service somewhere to tell me what
the weather is
I haven't done that yet but I have the
parts some things that I really want of
course I want to be able to control my
lights my temperature and even my window
blinds from my phone that'd be kind of
cool I want to get this thing called an
open sprinkler it's also made by the
same guy who does the open garage thing
with this I can control all my sprinkler
systems through my network kind of a
nice feature I actually want to wire
that up to the weather sensors that I
was talking about so that if it rains a
certain amount I can run my sprinklers
less if it rains enough then I don't
even run them for a day or more I mean I
live in a desert
I should probably watch my water usage
in this way I can be lazy and not have
to do it
I'd like to hook up my security system
so that I can monitor my security system
for my phone to see if it's on or not
and then I was thinking why not wire
that to my so no speakers because if
somebody goes to get in my house and the
alarm starts flashing in the
or sounding in the the lights are
flashing wouldn't it be a bit more of a
deterrent if in the background
you also hear but big ole barking dog
okay so now I have multiple Sano
speakers so if you set it up so that it
goes off in this room and that volume is
up high and then you adjust the volume
in another room now it sounds like the
dogs moving throughout the house okay
and so you know less likely they're
going to want to come into my house
hearing that dog and I've got a friend
who's got a dog just like that I'll
probably record his dog too to do the
sound but what's kept me from from doing
all of this you know they're you know
obviously I haven't built all this and
it is fun and exciting it can cost a
little bit of money some of these
components just the components
themselves can get expensive I'm not a
big fan of vendor lock-in some of these
systems when you buy them from then on
you can only use their parts and I don't
like that I like to be able to pick and
choose whatever I want so you think well
why not just buy a whole bunch of
individual systems throughout well I'm
sick to death of making accounts I don't
want to have another app I don't want to
have another password my password vault
is huge and growing we're all using
password vaults by the way right you
know security but for me mostly it's not
having enough control over my things
they're my things I want to say what
happens to them
and so what I mean by control for
example a Smart TV a smart TV is simply
a regular TV with a little tiny computer
inside and by the way that's a little
tiny computer that you don't control
fully and you can't upgrade so if you
need to replace the computer part you
buy a new TV with a better computer or
if you want to watch Netflix Netflix you
have to use the app that your TV
supports and if you don't like the way
that app functions buy a new TV or
entertainment wise like I said I have a
dumb TV with a raspberry raspberry pie
on it running Kodi for Netflix I watch
my Netflix on my Amazon fire stick
however I do tend to binge watch and
with the fire stick after about two
hours
it starts to overheat and I used to
unplug it I'll throw it in the freezer
for a few minutes come back and start
the next episode while I went and got a
snack that kind of got me I'm a little
too lazy to even do that
so now I pull up netflix on my phone and
I cast it to my chromecast and I don't
know if it's the shape they're about the
same size but the chromecast I
binge-watched for 16 hours or more and
not had it overheat so the solution
works for me if an item is misbehaving
or if I break it which sometimes I break
my stuff I can just pop it out plug a
new one in or find a different device to
to replace it and I don't have to
replace my whole TV now through some of
these items I have a little more control
over than the others I don't have a lot
of control over what the chromecast is
doing however I have routed my fire
stick and I can load Kodi on the fire
stick and I don't have to use the
Raspberry Pi for that so I can take a
component out but how do we manage all
of these things we start getting all of
these things in the house and like I
said too many accounts start to annoy me
there are some commercial systems out
there such as Vivint Crestron control 4
I've looked a little bit into these and
they can get pricey when you start to
get to the level of playing around with
that I want to do and they also don't
give you the full range of control of
the things that I'd like to do there are
a lot of other systems out there but
most of the other ones I've looked at
our hard core vendor lock-in you buy
what they've got and they tell you what
to do with it and I've already said I
don't much care for that because that
can that can get too problematic for me
what happens if you buy into one of
those systems and it gets discontinued
there was a system out there called the
revolve hub and it was very popular with
the hobby community and then it got
bought out by this big company who
decided they were going to make
something else completely and just
turned off the servers well revolve hub
only works with their servers you can't
point it at your own server and continue
on and so now you
have this brick that I think costs 200
200 bucks and it was the brain of your
system so if anybody actually happens to
have one of those I checked about a
couple weeks ago and they are now there
was enough stink in the community
they're now offering a refund on some of
those devices so if you have one go
check out the website maybe you can get
some money back but it comes down for me
if you can't modify it you don't own it
if somebody else can turn your device
off or somebody else can shut you down
they own it they're just letting you use
it hopefully they're nice when they let
you use it so I think we should I
thought that Jake I think we should all
take back as much control as we can
it's my castle I say what goes on in my
castle so how do we do that well there's
a program out there called openhab
openhab is bender and technology
agnostic open-source automation software
for your home yes I have to read that
because those are lots of words to
memorize I push the wrong button and
Oh
there we go okay so I already saw the
full list but openhab they they are
vendor-neutral meaning they don't make
deals with specific vendors to only work
a certain way everything openhab does
they try very hard to stay vendor
neutral but they do work with a bunch of
technologies out there they work with a
lot of different kinds of hardware
software they have a very robust API so
you don't just have have to have openhab
be your brain and control your things
you can have other things control open
have it works both ways it's a very open
well documented API it has a very
powerful rules engine so those things I
was talking about I wanted to do hooking
my weather sensors to my sprinkler
system and my alarm to the speakers I
say that all right those other things I
was talking about that would be the
rules engine you go in there and you set
up events of when this happens do that
and if this device does this do
something else
it's a very well-documented powerful
rules engine and of course it runs on
the JVM which means you can run it just
about everywhere I'm actually running it
right now on my Raspberry Pi this is a
three I have it running on a two as well
and I have had it running on a one not
quite powerful enough to to do
everything but hey it runs on Java you
can run it practically anywhere did I
mention it's open source you can't get a
whole lot more control over your stuff
than open source it but the open source
you can do anything you want to it
that's a probably the best feature I
believe and it's very easy to extend so
some new thing comes out and you want to
bring it into your house by the time you
get your hands on it somebody in the
community which by the way they have a
very large active community somebody has
probably already written the plugin for
that device if they haven't then you're
very welcome to go out and ride it and
hopefully contribute it back to the
community but it's very easy to write
these these extensions to interface with
other devices so enough bla bla bla
about it how do we install it so just so
you know the when I installed this
about two days ago I actually copy and
pasted the commands from my slides so my
slides are already uploaded and you can
pull them down on all of these commands
I pulled directly from the documentation
so it's very well documented but the
first thing you do by the way I'm using
a raspbian linux version on the
raspberry pi and so the first thing you
do is you have to add the repository key
to your package manager using that
command I won't even try to read that
all out and this is in the documentation
then once you've added the key then you
add the repository to your system
sources list then you don't app an
update just apt-get update like normal
and then you install openhab just using
apt-get install and then it does have a
lot of add-ons these are the different
modules I was talking about for the
different devices so you add the you
install the add-ons and that that's it
your installed and then we just need to
turn it on so to start it up by the way
these commands I took from the section
of the documentation that works with
those types of operating systems there
it does have the commands for other
operating systems in the documentation
but to start it up you just simply do a
system control and start the service now
it does include start stop and restart
and status and so once you start it
check the status and then to make it so
that it auto starts on reboot you up you
do a daemon reload and then enable the
service and with that we're fully
installed and set up for auto start now
the first time you run it it might take
a few minutes for it to do all of its
thing of configuring all of its files
and then it brings up a little screen
that asks you which version of the
interfaces you want to pre install and
one of those options is the demo
interface which is what I've loaded here
and rather than look at this slide for
that let's jump over here so this is the
actual interface TUC talking to the
Raspberry Pi so if you want to hit that
URL and mess with my thing please don't
uninstall any of my modules actually it
won't hurt anything I can
redo it later but let me get the mouse
over there the first you are UI this is
the simple UI if you ever used open have
in the past this is what version 1
mostly looked like it's a very small
clean interface and so we went into the
first floor we go into the child's room
I can turn the there just turn the
lights on and off turn the heater on
tells you what the temperature there's
temperatures by the way this is the demo
app and this is what you get if you
install the demo so those temperatures
will change every now and then they
built that into the demo but so that's
the child's room we can switch over and
look at the office and turn the light on
even open that I talked about automatic
blinds there's an open and closing the
blinds in the office and then the other
rooms are pretty pretty similar to that
now this interface looks really nice on
my phone I like to use this interface on
my phone when I'm hitting it from a
browser or something with a little bit
larger screen I like to use the hab
panel there we go
they have a there's a tool that you can
use to set up your own interface so
somebody has gone through and made a
really nice-looking demonstration panel
for this you can actually take your own
pictures of your own house and use them
as be icons like so but we go into here
and you can see here's the child's room
I had left the light on there
now if your house is anything like my
house my family knows that the light
switches go up they haven't figured out
the other direction and what that does
yet so you know I go grump down the hall
turn on/off the lights whereas with this
like let's go can't quite see it there
this button here all the lights in the
house are off now I do plan to wire this
in for one of my demonstrations
hopefully at night when my my family's
home and just turn the lights on and off
while I'm doing this to see if it'll
make my phone ring but this is just the
demo
but anyway that turns the light off now
back to I had mentioned the rest API so
this particular user interface is the
documentation for the existing REST API
if you want to go in and see the
different options that are available you
can even test some of them out here by
entering in what you want it to do
and using this I'm not going to go a
whole lot into the the REST API just
know that it's probably one of the
better documented api's that i've seen
out there and then the paper UI this is
where you'll do most of your setup and
your kin and your configuration so you
see these things listed here when i
first install this in my house and I
turned it on I came in here it scanned
my network these are actually things
that are in my house that it found on
the network except for it looks like the
Lexmark and the Canon
apparently I'm scanning the network here
so these are printers that are available
in the network here I'm not going to
mess with those but it will when you add
a new thing you click this little button
here and it goes out does a scan and if
it's a standard type deal it will find
it on the network but if we get into the
control here this is the so this is the
really ugly control this is kind of the
other version of what we were looking at
with the child room these are just the
devices that it has found and
configuration system this is where you
would go in to set certain things so
just know that's the control thing and
it will probably be better to show you
slides at this point so all those little
things I flipped on and off I've turned
all the lights on turn the lights off
turn the heaters on by default openhab
is not tracking all of that information
and for me I'm a database guy I like to
control my data I like to keep my data
it might not be useful to me right now
but next week I might want to know how
many times my kid turned his heater on
you know something like that
so rather than just let it evaporate why
don't we set up some persistence
so like I said openhab is Java so we
have the connection will be JDBC now
you'll notice these are the
pre-configured
versions of JDBC that are in this they
come with the system there's not a
default Oracle one there however the
reason I choose JPA instead of JDBC the
big difference there is with all of the
JDBC connections it will go out and
create a table per item so every light
switch every heater gets its own table
and it tracks its history in all of
these different tables whereas the JPA
configuration will make one table called
historic item and track all of the
changes in that table so I kind of
rather have it nice and tight for the
demonstration but the way we get
installed is we go to the configuration
we click on add-ons we click on bindings
and then we click install mine's already
installed that's why it says uninstall
there once you do that yours will look
like this and then we have to tell it to
sit to use the JPA by default so we go
back into I can't even read their
configuration then we click on system
and then we scroll down until we find
the the persistence setting and we set
the default to JPA and with that of
course we click Save
with that openhab is set up to try and
connect using the JPA model through a
JDBC connection so now we have to
configure JDBC the first thing we need
to do is you download your JDBC driver
so I went got mine from Oracle and then
in Linux by the way you're going to see
I'm going to say open have home but in
Linux it splits the home amongst several
different directories so kind of ignore
the stuff before openhab and just
realize that that's the openhab home
split up but you will go into the
openhab home find the runtime directory
the live directory and that's where you
drop your your JDBC driver jar file
after that when I installed JPA it
created this file called the JPA config
and put it in the services directory and
by default all this stuff is commented
out and it has
examples for different systems different
databases JDBC URL I entered here just
the JDBC URL for connecting to my Oracle
database and I do want to point out one
thing here I banged my face into the
screen several times because I couldn't
get it to connect because I was using a
service and not a SID and I always
forget that for a service it slash slash
there and then slash at the end and for
an Oracle where with the SID
you don't have the double slash you have
a colon at the end and so I just point
that out so that you don't suffer like I
did and then of course standard JDBC
tell it which driver and user and
password after that you there's a
directory called persistence in the
openhab home this is where you'll set up
your rules of what you want to persist
and win and what I've done here is I
just copied the default one that was
already in there named it JPA dot
persist so it will know to use that for
JPA you can actually setup JPA JDBC a
few different types of persistence and
it will run them all at the same time in
this case the persistence that I copied
over is telling it just to do certain
things like heaters temperature sensing
it's not going to insert a record every
time somebody flips a light switch you
can fill up a database really fast going
like that so I just copy that over and
I'm not going to go into what all this
means but that's where you would go to
change your default rules and when you
whether you connector JPA JDBC it will
go out and try and create its own tables
so you don't have to create your own
tables however I ran into a little issue
because it wasn't using the sequel the
way I wanted it tried to create the
value column as a ver care to 32k column
which didn't play well with my setup so
I changed that to a club and created the
table myself once I did that connects
right up and it uses that table from
then on and no problems from at that
point now when you have problems there
is where you find the log file took me a
few minutes to locate that I'm not real
big on RTFM
until I have a lot of problems so just
know that when you have a problem
there's the log file they do a really
good job of logging not only just the
errors but other useful information so
check out the log file whether you're
having problems or not now I'd rather
not you notice the URL I was using there
is going to a virtual machine like I
said I like my data I don't want to just
put my data on a virtual machine and
hope that everything goes good I like my
data secure I like my data accessible I
like it backed up so rather than leave
it risky on it on a VM I want to persist
my data to the cloud so I'm going to
connect my openhab to my Oracle Exadata
cloud database which is very secure it's
backed up it's managed by people way
smarter than me I don't have to think
about it that makes it really nice
however with when you have excellent
security takes a little bit more
configuration not much but when you do
need to do a couple things first of all
you need to make sure your job is up to
date hopefully we're all updating all of
our job anyway because you know back to
the whole I'm a little bit security
focused but you have to at least be on
one of those versions of Java to connect
to the exited Express then you need to
download the jce unlimited strength your
diction policy files once again I have
to read that big long thing this is the
VIP file you'll download it has to jar
files in it now I banged my face for
well probably about an hour the first
time I tried to do this because I kept
putting those jar files in my JDK live
security directory they go in the JRE
not the JDK and so once I realize that
wired it up it'll work really well just
remember it goes in the JRE not the JDK
and then once that's done in your you'll
go on to the cloud administration panel
on the web and you need to find this
section here this is client access if
yours already looks like that don't
click it it's already enabled if it
doesn't it will say you enable client
access you click on that
and then you click on download client
credentials and that will pop up this
screen where it's asking you for a
password make up a password strong
password hopefully and enter it in there
twice and hit the download button and
that will download this zip file that
you will extract to some location I put
mine in my home directory under a
directory I just called EE credentials
but remember where you put it and
remember that password because when you
run the Java program at that point you
need to give it set a few of the Java
options so in this file here in the etc'
default openhab two is the name of the
file it's not dot anything just just
openhab two when you first open that up
you'll see extra Java ops equals quote
quote and it you'll put this string in
between those quotes and replace the
directories where you see home PI e
credentials that's where you unzip that
file too so put that information in
there in those three spots and you'll
also see the two passwords that's the
password that you just set once you've
done that go back to your JPA config
where you set the JDBC connection and
change your URL to point to that because
it does give you TNS names file in that
zip file and this is the service that
we're going to connect to and all of
that is documented in Oracle's
documentation and that's where you can
find that it's had I read the
instructions the first time I would have
had putting to bang my face as much as I
did but you know I like to try and break
it first but with that that's really all
it is to get it connected to the cloud
now my data in fact this right now is
writing my data up to the cloud live
while we're talking so what if you have
a special case and you want to do
something a little bit different and you
don't really want to set up a whole new
JDBC call and do some insert data you
just want to do something quick and
simple well you could set up a rest
service and use the integrins the rest
calls to just pump your data somewhere
really quick I'd like to build a set up
a camera out front of my house that
takes a picture of any vehicle
approaching my house and run it through
this open source program called open
Halper automatic license plate reader
which will recognize the license plate
and give me back the license plate the
color the make and the model of the car
which I can then put in a database
rather than do all that through an
insert statement I want to use a rest
service I don't really want to set up a
whole new JavaScript or node program or
Python or Java just for a server to
handle the resting I want something
quick and simple to set up a rest
service so I use Oracle rest data
services or Ords really easy to set up
so let's walk through how to do that
real quick I'm using sequel developer so
I go into sequel developer and I connect
to my database once I've connected I
right-click on that connection I click
on rest data services and enable the
service I can't really read my own text
and I didn't memorize all of the words
but those are the places that you click
and that will enable that schema for
rest services and then at that point I
go out and I create my table and this is
just a quick dirty table that I put
together and I go back in there and I
click on View I click on rest services
and I click on the developer panel which
will open this panel okay at this point
we need to connect to the org server not
to the not to the database schema so you
click on that connection icon there
which will open this window and if you
don't already if you haven't already
done this then you click the plus to
open this window this connection
information is for connecting to your
org server so if you didn't install the
the org server talk to the person who
did and get this information to fill in
here once you do that you notice the by
the way the schema name is at the bottom
that's my openhab demo schema so build
this in hit OK hit OK it will pop up the
password screen this is the password for
your org server not for your schema all
right so once we've done that we are now
we've rest enabled our schema and we
have connected to that schema so then we
go into the developer panel and we
right-click on the module which will pop
up this little window here we click
create module
that'll pop up this screen in here we
put in the name of what we want to call
the module this can be anything you want
I called mine cameras because I'm lazy
however the next one's a little more
important this is actually the name of
the module think of the module it's kind
of a collection of rest ap is I want to
make a collection for all of my cameras
I call mine cameras you notice as I type
that in it fills out this URL here we're
building the URL that we're going to use
to access into our org system from
openhab so that's the URL there and then
of course we want it to be available so
we check on publish and we hit next and
that brings us to the create URI screen
think of this level as being to a
specific thing that you want your REST
API to be addressing so in this case
it's my Alper camera so I call it Alper
because I'm not real creative and you'll
notice that it extended that URL just a
little bit more once you've done that
you click Next and it takes us to the
specify Handler screen now normally if
we are setting up a rest service for
something say employees or departments
or something we would set up a get and a
post and a put in a delete but in this
case I'm just pushing data into my
database so I'm only going to build a
post so we'll select post from the
drop-down list we'll hit next we get the
summary screen we hit finish and it
takes us back out to the panel where we
expand those three layers and click on
the post item at the bottom there and
that will open this PL sequel window
right next to it
and this is just a little tiny bit of
peel sequel at this point this is what's
going to happen when anything posts to
that URL so this can be anything you
write in PL sequel you put in here and
you can make it happen in my case I
simply want to insert a record and so
you'll notice that I have plate and
timestamp as my values and I'm using
bind variables because security we like
to be secure but that's it once you put
that little piece of Peele sequel in
there then you right click back up on
the module you click validate and this
will do a high level validation let's
just make sure that you didn't do
something way stupid like didn't
but in any peel sequel at all or it
doesn't compile it's not going to go
through all the nooks and crannies but
it will give you a high-level validation
once it's good then you right click on
the module again and click on upload and
it will push that service up to your org
server at this point your service is
available you can call that from a rest
testing tool if you want or from openhab
or any other thing where you can make a
post command with a rest call at that
point you're sending data into your
database through rest it's that easy to
set up if I hadn't been blah blah blah
so much takes about two three minutes to
walk through that barring how
complicated you want to make your PL
sequel but with that the orange side of
the house is set up so now we want to go
back into openhab and set it and set up
the call out now I don't have all the
camera stuff here I was just lucky
enough to actually get the PI to connect
to the internet and connect my computer
so we're going to fake it with an
existing light switch in the demo
application so if you go back into
openhab and go into the configuration
we're going to click on bindings I can't
read where I'm at there my screen is too
small let me do this so I can see what
I'm telling you
all right so we click on add-ons then we
click on bindings and then we click on
we find the one called HTTP binding this
is a pre-existing binding that comes
with your with the openhab add-ons and
it's a really small simple rest
interface there are way more complicated
things you can do it is job you can do
anything you want but there are more
complicated ones but this is just a
quick easy one to do so we install the
binding then you go find your openhab
items file so this is an open have two
items config and this is the file that
comes when you when you build the demo
or you install the demo application or
if you're putting things in your house
it will so back to the screen where it
showed all of the pluses were found the
printers and all of that when you
install one of those it'll put an item
in your items file for you but we find
that file and in there we find the light
switch that we want to wire to our
restful service and in this case it's
the switch it's the light on the first
floor of the child ceiling it's in the
groups child and lights that lights
group would let me turn all the lights
off and we're going to add a post call
to it so the little squirrely brackets
there the command inside is we're going
to fire up the HTTP module we're going
to tell it that anytime that light
switch is changed we're going to do a
post and that's the URL that we're going
to post to now it's the same URL that we
were building before and you may notice
I'm doing something here a little not
rest like I'm sending my values in as
URL arguments rather than as a body
which you should do as a body as a post
but the code for the post started taking
up all of my screen space but I did this
also because I wanted to point out that
orange is smart enough to figure it out
as long as I named that plate and
timestamp orange will grab that data out
of here or out of the body and do the
right thing with it it's kind of nice
that it covers from my dumb mistakes but
with that that's all it is at that point
flip the light switch and it's sending a
record to that restful service which is
inserting the data into the table and so
now we've taken our class our Castle
we've made it smart and we've moved it
up to the cloud we've got all of our
data going up to the cloud or historic
data is being persist
- the exudate Express cloud database and
the special cases going through a
Norwich restful service now this stuff
let me get back so I can hopefully I'll
break everything all right so you know
this stuff is a lot of fun you know you
can tell I get excited about this stuff
and I love playing with these things
however there are some risks you should
be aware of out there now keep in mind
that just because you're paranoid it
does not mean that they're not out to
get you what I mean by that well there
are a lot of instances where some of
these devices are getting caught up in a
botnet so you remember that DDoS attack
last October that took down huge
portions of the Internet well that was
in large part due to certain webcam and
a DVR that was manufactured by a certain
company and they were vulnerable and
they all got incorporated into this
botnet and they were used to launch that
attack it wasn't a lot of sleeper
computers it was a webcam and the DVR
that shouldn't have been connected to
the Internet firstly keep in mind
ransomware is not just for computers
anymore
there has been a verified incident of
Smart TVs that got infected and it pops
up this FBI warnings and you've been
naughty you don't get to watch TV until
you send this Bitcoin and you know the
interface for that Smart TV was so
locked down that he couldn't even do and
this was a technical guy that it
happened to he couldn't even do just a
factory reset it didn't the botnet or
the ransomware was deeper than that he
had to get ahold of the company and get
the super secret factory reset that they
don't give you because remember you
don't have control over it all the way
and so he finally got his TV back but
there was also a researcher who proved
that he could put ransomware on a
thermostat I'm not so big a deal unless
it's wintertime and I turn your heater
off and you don't get a turn your heater
back on until you send me Bitcoin or
it's summertime and I turn your heater
all the way on your only option is to
get that thermostat off and put a dumb
thermostat back on
and if it's it you know if I'm the bad
guy doing this I'm going to do that at
probably 10:30 at night so by the time
you figure out what's going on the Home
Depot is closed so you either suffer
through the night or well if you like me
all my old stuff is in boxes in the
garage so and take me ten minutes but
you know if you're if you throw your
stuff away you kind of you know suffer
through the night with whatever they
want you to have a lot of these devices
have mics that are always on smart TVs
are famous for being able to say hey
play me a movie and it plays you the
movie well there was a very major brand
of Smart TV that had that feature and
they were not encrypting the audio going
back to the mothership because remember
small computer inside the TV not enough
to press to process the audio it
reasonably has to go back up to the
mothership to process the audio but it's
not encrypted so if I'm in your network
I can listen to everything that happens
in your living room now you don't care
too much about that but there was also a
doll with the same feature sing me a
song the doll sings a song well
listening in on my child's room that's
just plain creepy they were also not
encrypting the data going back up so you
know be aware of that now of course
you're thinking well for that and the
thermostat and some of these attacks you
have to be in my network you can't get
into my network my network is secure
well do you like tea
there was a teapot that you could send a
signal to and trick it into trying to
connect to a different network so the
same SSID but overpower the one and so
when it tried to connect it did so
sending your credentials in plaintext so
the attacker just has to park outside
your house trick your teapot get your
password and now he's in your network
and you don't even know it or there was
a doorbell that has two screws on the
outside popped those two screws out take
it off push a button get your phone put
it in maintenance mode connect to there
it tries to connect to your phone sends
the credentials in plaintext and so
screw it back on I'm in your network
sounds scary it's really no more scary
than the regular internet but I bring
this up because I want you to be aware
that some of these devices have
vulnerabilities you know I don't want to
scare you off just be aware
and question the things that you bring
into your home you know they're not all
secure if you bring a thing in keep up
on the updates watch for security
notices just know what's in your house
and take as much control as you can the
best way to take control is to try and
get things that are open-source because
with open-source you can go through it
don't just get every little open-source
thing that's run by just somebody try
and get something with the large
community like openhab where there's a
lot of eyeballs on it that's a great way
to take control of your things and maybe
I mentioned that open source or open
have is open source well with that we
can all make it better when you get a
good open source product we can all
contribute and make it better go look at
the github repo there fork it change it
make a pull request now making it better
does not just have to be code you don't
have to be a great coder to help out an
open-source project you can do things
like add some tests you can enhance the
documentation even something as simple
as reading the existing bugs and making
a comment yeah that happened to me that
helps an open-source project there are
many many ways to get involved with open
source and you know I don't know if you
notice but I really like open source
stuff an open source is a great way to
get into some of these devices like the
Raspberry Pi there's a huge open source
community around that and with your data
you know you've got to keep control your
data and so that's why I like using like
the cloud database don't just stick your
data in a VM but mix and match all this
stuff together and with that you can
make you can have a lot of fun and be
safe
so thank you for spending your time with
me if you need to contact me there's my
information and I'd be happy to answer
and answer any questions
yes
all right sure let me now I haven't
integrated with a lot of those there but
let me they push the right button and I
will duplicate up here so four four
systems so going back to the inbox how
I'd mentioned that this is what it found
on there and like I said these are not
my printers this is somebody's printer
who's on the network and available if
you have something in your house
something that doesn't show up on that
list if you go into the add-ons great
now it's going to crash go into add-ons
err one undefined all right well I'll
try and answer it without showing if you
go into the add-ons there is there are
several categories of add-ons one of
those is binding to external systems I
don't remember the order of all the
letters but it's like I tff there's one
Jeff's and the TN and I in there it's a
you know if this then that something
like that but it'll limit it has a
binding to integrate with that service
there are I think that I saw two or
three different types of Alexa bindings
so a lot of these other systems are
pre-built you just have to go and
install the add-on and then do a scan
and it will find it now they you know
there's different there's multiple
add-ons for these services because
they're written by people like me and
you who may have a specific thing in
mind they want it to do so they put
their features in there so they'll have
different feature sets the best thing
you can do is just go in there install
the add-on and see if it does what you
want it to do but more than likely if
it's a major system somebody's written
at least one one add-on for it like the
systems I mentioned the Crestron and the
Vivint and the control for there are a
lot of plugins for some of their devices
that you can get they're a little more
open than some of the others but just
the place you would want to go look is
in that add-ons panel which hey at least
it crashed at the end you know
[Laughter]
well yeah that's where you'd look okay
you'll notice that I am connected to not
secure slash crossed out HTTP okay by
default openhab comes with its own self
signed certificate so even though it's
self signed which is why I'm getting the
not secure in the slash it is encrypted
and so at least I'm encrypted from
whatever I'm telling this to that and
nobody's snooping in if you want you can
just go straight HTTP to that same IP
address but colon 8080 instead of 843
and go that way to add a username and
password if you remember the slide where
I had that chunk of Java options to put
in there's another job option you put in
there that enables the user credentials
and I brainfart the name of the Java
it's a standard Java security thing I
can't remember the name of it but it
uses the job of security for your
credentials and that's already pre-built
and all you have to do to activate that
is going and add in that that line in
the code and that's all in the
documentation openhab is one of the best
documented projects i've played with a
lot of this stuff you know I should have
read the documentation first I just
assume documentation is going to suck so
I don't read it and then I you know
that's what my face is so flat I bang it
into the desk so much and then I go back
and I read them all well that's easy but
that that's in there but you know by
default they have instructions there is
let's encrypt org
if you're running a website and you do
not have AC TPS on your website go to
let's encrypt org you get a free
security certificate you have to refresh
it every six months but you can go there
and get a pre certificate and put HTTPS
on your website everybody should be
encrypting everything there are good
instructions on how to use a let's
encrypt certificate with openhab and
secure it up and then that whole not
secure thing goes away so I highly
recommend that for all of our websites I
run that on my own blog
all righty I will be at the mixer if
anybody actually wants to you know see
anything in more detail hopefully this
will stop not working see what I did
there but let me try a full refresh but
anyway yeah I will be over at the mixer
for a little bit if yeah I probably lost
my Wi-Fi yeah no green light flashy but
anyway thank you very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>