<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>[OUTDATED] Ionic 2: How to Use Google Maps &amp; Geolocation | Coder Coacher - Coaching Coders</title><meta content="[OUTDATED] Ionic 2: How to Use Google Maps &amp; Geolocation - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Joshua-Morony/">Joshua Morony</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>[OUTDATED] Ionic 2: How to Use Google Maps &amp; Geolocation</b></h2><h5 class="post__date">2015-11-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/UZSuHbm5c10" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this tutorial I'm going to show you
how to build a simple map integration
with our Nicktoons so this is using
Google Maps and we're also going to use
the the geolocation plug-in so centers
the map one uses a current location so
you're actually looking at my current
location now more or less but for
anybody on the internet who wants to
hunt me down I'm not going to be here
for much longer anyway so I probably
doesn't matter so you'll be able to have
a look around the map add some markers
which essentially just adds the marker
at wherever the current center of the
screen is okay so let's get into
building it
okay so first we're going to generate a
new ionic 2 application I'm using ionic
start we're going to call this ionic
Maxx going to use the blank simply and
we have to make sure to supply the b2
flag to make sure that it's using ionic
2 rather than ionic 1 I keep in mind
this may change in the future when I 2
is actually fully released there for
more information on that and if you
haven't got anak to setup on your
machine yet check out other links in the
description so run that and I'll be back
in a second okay that's done generating
now so I'm just going to change my
directory no not going to search in
Google ok I'm going to change my
directory to Alec Metz and then I'm
going to run a onic setup as SAS because
we will be using some styling in this
application to make the mat work so we
got to set that up first
okay now SAS is all ready to use now
let's run our mixer to take a look at
our application
and there we go there's our blank iron
it to application so now I'm just going
to open up the project folder and start
poking around in the code okay I've got
the project open now and you can see the
default home component that's up here so
we're just going to rename that to map
and rename both of these files to map as
well so we'll have our mapped or HTML
template and JavaScript file as well
which will define our class okay so we
can leave that as it is but we want to
change the template URL in here to point
to the map folder now and let's also
change this to be called a map page and
we'll also need to change that in
jeaious it's a rather than importing the
home component we want to import the map
page from the map folder okay so in this
feature I'm not going to go over how the
navigation such works so much all this
code here if you want more information
on all that I'd recommend checking out
my last video tutorial which was how to
build a to-do list application in ionic
2 which gives you more of a well-rounded
intro to ionic 2 also make sure to
change this route component to a map
page this sets out our default page and
obviously we want it to be the map page
component so I'll save that and now
we're going to start building our
template for the map so it's going to be
pretty straightforward we're going to
use this ion navbar again as I mentioned
in the last tutorial
essentially this suppliers the
configuration to
the ion nap here so we want to give it a
title of that and we also want to supply
so well one button there's going to be
in the secondary position so that's
going to put up the button on the right
side of the navbar and as I mentioned
before that's just for iOS for different
platforms are the secondary position
will be wherever that is normal for that
platform so add a button with a click
handler called add marker which will
allow us to add a marker to the center
of the screen when we actually create
that function and we'll add another icon
here called icon and and a bit of text
so they know what they're doing okay
we're going to delete this card as well
and we're just going to replace it with
a div that's going to hold our map and
so write some JavaScript soon that will
insert the map into this location so if
i refresh that it looks like we've got
an error or something here answer those
changing the components around before
before I roam ionic serve again we will
close that
there we go
now works so we have a addmarker button
and just a blank page so now we're going
to jump into our class here and we're
going to start start off with we're
going to load Google Maps and insert
that into that Dib area there so we're
going to work on our constructor
function here so we want to keep a
reference to the map because we want to
add markers to it and info windows and
stuff like that so we're going to set it
to null for now and then we're going to
load it in by calling the load map
function and of course we're going to
have to define that here now so create a
new function called load map and we're
going to use the geolocation
plug-in now so if you use this in the
browser it'll still work because there's
a html5 API for geolocation but if
you're running on a device you can also
install the GPS the geolocation plug-in
for more accurate readings so we have to
import geolocation from ionic so they
provide some sort of interfaces to use a
few of the plugins so geolocation is one
of those similar to how ng Cordoba
worked if you're familiar with that in
ionic 1 so we could just use the
geolocation plug-in directly but it
makes it a lot easier for us so we
define some options for the geo location
we set timeout to 2000 and enable high
accuracy to true and now we want to make
a call to geolocation to get the the
current position of the user so du
geolocation
get current position pass in the options
we created
then we'll use a promise which will
return the position that will provide us
with the latitude and longitude of
wherever the user currently is and so we
use that to create a lat
let lung which is a thin Google Maps
users and to define a few things but
we're going to use it to define where
the center of the map should be and so
we'll do you Google Maps lat/long and we
use the coordinates we just got from the
geolocation plug-in to create that
longitude okay and now we're going to
pass that into a map options object here
so we're going to set the center to that
latitude and longitude we're going to
set the zoom level to 15 and we're going
to set the map type ID so Google Maps
dot the map type ID don't road map so
you can also use something like the
satellite as well which will give you
all the satellite imagery on the map and
we also need to run this dot map equals
new Google Maps map then we want to grab
that map give that we created in our
template and so that's where we want to
create this map and we want to pass in
the map options so that will create a
new Google map for us in that div and
before we do that though and a couple
things we need to do actually one is to
actually include the Google Maps
JavaScript SDK
so we're just going to drop that into
index top hit show here and I've got
I've got over here so I can just copy
and paste it and so that will import the
Google Maps JavaScript SDK and you can
also supply an API key in here as well
to allow you to make more calls to the
API and some other things but just for
testing you can leave the API key out
and just add this code in here
so that will allow us to to load the
Google Maps JavaScript account but it's
still not going to work as you can see
there's nothing happening over here
right now and the reason for that is
because we need to add a little bit of
styling to make it display correctly
there so we're going to add some classes
to our apt of s CSS file now and this is
why we set up sass before so you want to
change the scroll to have a height of
100 percent and we're also going to need
to add a width and height to our map
container so I'm going to set both of
those to 100% so if I save that okay
I've already made my first error in this
tutorial misspelled position here to
change that and if I save it again
hopefully it'll work now okay there we
go so now we've got the Google map here
we can drag it around we've got the add
marker button but that doesn't do
anything yet we haven't created that
function you can zoom out zoom in you
can even do Street View if you want it
as well so now we're going to add that
add marker function okay so let's create
a new function in our map KS called add
marker
and we're going to create a new marker
using lit as a let market equal new
Google Maps marker I'm doing for for the
typing today now we're going to set the
map to this dog nap then that's why we
wanted to keep a reference to that
before we use an animation for the
marker so we use the Google Maps
animation drop which will make the
marketer drop in from the top and we'll
set the position of the marker to this
top map get Center so wherever the
center of the map card is on screen
that's what we're going to add the
marker and we'll I'll run that now so
you can see if that's working or not
okay so you can see here I can scroll
around at the marker and the markers get
added to the screen but another common
thing people will want to do with Google
Maps is to add a info windows so
basically we can click on these markers
and get a little pop-up that says
something so let's add some code do that
now so I'll just say let content equal
you set this to be whatever you want I'm
just going to say information of course
in a real application you probably want
to set this dynamically to some value
but that will do for this example and
then we're going to call another
function we're going to create here
called an add info window and we're
going to pass through the marker we just
created and the content we want in the
info window as well so let's create that
add info window function and we're going
to create a new info window here by a
running new Google Maps dot info window
and then we want to pass in the content
to that so that's what's going to get
displayed inside of that info window and
of course we also want a way to actually
and see that info window so we want to
trigger that to open when we click on
that specific marker so we can do Google
Maps event dot add listener we're adding
it to the marker that we passed in we
have this thing for click and when that
happens we want to open this info window
so confirm with it open this dot map and
marker if I run this now hopefully that
will all work ok so I can add a marker
which that's all still working fine I
click on it and no it doesn't work
something's wrong I forgot to pass the
marker and content into the info window
here so we're calling it with micron
content need to add this renders it ok
so now can save that it should work okay
so I can add some markers and then I can
click on it there we go and the
information pops up ok so that's the end
of this tutorial a nice quick simple
implementation of Google Maps the
JavaScript SDK for Google Maps is it's
pretty good you can do some fancy stuff
with it if you if you want to say have
an application where you're going to
have thousands and thousands of markers
you can dynamically load those based on
where the screen is or you can even
cluster markers together I have some
tutorials on doing that in ionic 1 which
I can link to I might update it for
ionic 2 at some point in the future so
it is quite usable on mobile the
JavaScript SDK but there is also a
native Google Maps plugin which you can
use as well that actually uses the
the native Google Maps SDK rather than
the JavaScript SDK so if you've got a
rather complex map application that
might be worth looking into as well and
again maybe I'll do a tutorial on that
in the future thanks for watching make
sure to subscribe if you like the video
and also check out my my website and if
you want to sign up to my email list I
send out a bunch of free content you can
take a look at as well</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>