<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Debugging Ionic Applications When Deployed to an Android Device | Coder Coacher - Coaching Coders</title><meta content="Debugging Ionic Applications When Deployed to an Android Device - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Joshua-Morony/">Joshua Morony</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Debugging Ionic Applications When Deployed to an Android Device</b></h2><h5 class="post__date">2017-05-31</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Y1rD954ZyKA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this video we're going to look at how
to remotely debug and ionic applications
running on an Android device now some
time last week I did a similar video
where I showed you how to do it on an
iOS device and it's pretty much the same
thing with Android as well very similar
anyway but I want to make this video
anyway and I figured also to do a little
bit of debugging as well just to give
you a bit of an example so I have an
application which I've just created for
the sake of this demo here and it just
creates a list and I'm adding two
thousand items to that list and I'm
adding some walk shadows and transforms
and stuff so it's going to look pretty
absurd but basically was trying to do
some stuff that's going to be really bad
for performance so we have something to
work with when were debugging so before
you can actually debug on your Android
device that's connected to your computer
via a USB cable which is what I had set
up right now you need to make sure to
enable a developer options on your
Android device and also make sure that
you enable USB debugging enabling
developer options is different for
different Android devices some devices
have really weird ways of activating
that so just Google your particular
Android model and you'll find some
instructions on how to do that
once you have USB debugging enabled and
you have your Android device connected
to your computer through a USB cable
you'll be able to start doing what we're
about to do now so the first thing we're
going to do is actually get this running
on the device so if we just run ionic
Cordova run Android it's going to build
the application and then launch it on
the device okay so of course you can't
see it right now but I have this running
on my Android device right now and it's
connected to my computer and so now what
I'm going to do is open up the remote
debugging tool so we can play around
with it a bit and so as I mentioned this
is very similar to what we did in the
other video this time rather than using
Safari we're going to be using Chrome so
if you just open up
the debug in any Chrome window on your
computer I just got the ionic box up
here and it's going to inspect it
doesn't matter where you do this from
and if you go to you see down here I
have remote devices tab but if you don't
have that yet should be able to click on
these little dots here I'm going to more
tools and then go to remote devices and
that will launch this tab and so you can
see I've got my blade s6 connected here
that's the Android device I'm using so
if I click on that we can see watch apps
are running on the device so now I've
got that example application that I just
launched
so if I click inspect on this now so I
open up the remote debugging window and
now you can see what I'm actually seeing
on my device in this little preview
window here this preview window isn't it
isn't perfect as I do stuff on the
device it doesn't really reflect here it
sort of in real-time exactly but you can
kind of see what is happening a little
bit through this preview window and so
obviously I've got this really wacky a
list right now that is just tons and
tons of list items that say test and to
get a 20-degree transform on it
I think the shadows are actually being
applied but that doesn't really matter
this this is going to perform really
poorly so we have all the usual
debugging tabs here I talked a lot about
these in the last iOS video and for the
most part it's all the same but I did
figure out a little bit of an example
here of trying to figure out why this
why this application is performing so
poorly why it's so slow and janky I know
why because I've stuffed a list full of
2,000 elements of the transform on it
but if we didn't know that I wanna show
you some steps you might take to try and
figure out what's happening
so obviously has a scroll you might not
be able to tell on the video so much but
it does feel very poorly performing as
certainly doesn't feel smooth as I'm
scrolling so what I could do is come to
this performance tab here and we can
record kind of a snapshot of performing
a certain activity and that's going to
give us a sort of timeline of what is
happening at throughout that process and
that's going to include scripts that are
scripts that are running a paint events
that are occurring on the screen so we
can see these things happening in the
amount of time
take and if it helps identify where
something might be performing poorly so
if I just hit the record button now and
then I'm just going to scroll on my
device and now if I stop that it's going
to generate this data for us we're going
to be able to see the timeline of what's
going on and so this is a basically the
timeline I was just talking about here
so this is the whole period which goes
through about 10 seconds of recording
that I just did so if we want to we can
just sort of take a look at a subsection
of that so there's not so much data and
see what's happening in that space of
time so if we look in this section here
you can see in the input section we have
the various events getting fired
touchstart touchmove you can also see
the the scroll events on the main thread
here we've got the scroll event then an
update layer tree event and this sort of
just repeats over and over again here
perhaps the most why she also you can
see down here the sort of breakdown of
what's happening for you highlight a
period over this amount of time you can
see that spending most of its time
rendering here what I think is perhaps
the most interesting part of all this is
the the frames section up here and so
kind of show us what FPS we're achieving
with this particular scroll we've got
happening here so if you're not really
familiar with the concept of like a
frame if you think of it like a movie
you know movie is really just a bunch of
Steel pictures that displayed really
quickly and if you display them close
enough together you get the illusion of
movement occurring at time animation
movies work and basically the point
we're at a point where we can't really
tell has humans that we're not looking
at a bunch of still images displayed
after one another we're looking at some
fluid moving thing that's around 60
frames per second so if you're
displaying 60 frames per second that
means 60 sort of different images per
second then it's going to look like
fluid movement and we can see in this
debug eki under frames if we take a look
at the F guess we're gaining as we
scroll across we can see here we go 2 6
8 14 13 1
13548 6 so these are really slow frames
per second so as we're sort of scrolling
this list really fast we're not getting
enough frames to actually display that
fluidly so what we could do now is we
could start trying to figure out what's
causing this low FPS and so you could do
this alive and your three here through
the debugger I could come into here and
say well I've got this weird transform
thing going on maybe that's causing some
performance issues there so I could come
into here and find where I've applied
that so I've got the transform there so
I can just turn that off now and you'll
see that take effect on the device so
now it's back to a normal list but we
still have a lot of items in there now
so if I want to do at this point come
back to the performance tab and click
that Clear button and we'll record
another snapshot and we'll see if we've
improved it all so hit the record button
again scrolling on the device and then
I'll get stopped on here okay so we've
got our snapshot again if I highlight
just another section again here and we
take a look at the frames again we can
see we go 6 7 12 6 4 9 6 859 those like
that was a good frame in particular
there but still most of them are pretty
slow and it's certainly going to be
noticeable and janky with this low of an
FPS so as a more drastic move right now
what I'll do is I'll try just dropping
this the amount of items in the list
down so rather than 2000 which is a
pretty absurdly high amount let's just
go back down to 100 and also you will
get rid of that transform as well so
we'll save that and what I'm going to do
now is just redeploy that to the device
and then we'll try again ok so that
application is with the changes has been
redeployed to the device now so if I
open up the inspector again here inspect
that same application and you can see
now we don't have the transform going on
by default it's just a normal list now
and it's a much smaller so it still is a
reasonably large list but it's certainly
not 2,000 anymore so we'll do the same
thing again we'll go to that performance
tab hit wreck
would will scroll a little bit again and
hit stop and another thing I want to
mention here is set of screenshots
little checkbox up here you can actually
tick that and as you're recording you
have a series of screenshots on the
screen which will show you what the
application looks like at certain points
so it's a good way to tell maybe a
application start up you can see at what
point I think first starts displaying on
the screen I don't think it's
particularly useful for this scenario
but it is like that is very useful
okay so let's again take a little slice
so we can see things a bit bigger here
and we'll take a look at what sort of
frames are getting now an X here we have
2380 35 50 170 58:29 60 to 67 so there
are a few frames in there that are still
below that 60 frames per second but the
majority now are around 60 frames per
second at least a bit above or a bit
below that so now this list if we scroll
that is going to perform much more
smoothly and you can see here most of
these frames are green and they were in
the other example too actually and if
you have any really long frames or some
really slow frames down to like say one
frame per second
debug if you actually highlight those as
red so that can be a really quick way to
identify an area where your swing is
seriously going wrong if that's
happening and this is one of those
things that are really sort of one of
the biggest challenges for sort of
hybrid web based applications like this
displaying large lists and getting to
them to scroll fluidly is one really big
challenge which I think I on it gets
tackled really well but for large lists
especially if you're going to include
things like images using a standard list
probably isn't a great idea you might
want to look into the virtual scroll
list of ionic provides that does some
kind of some Dom recycling so rather
than having say a thousand items loaded
into the list at once there's really
only say maybe there's only 10 or 20 and
those elements get recycled as you
scroll through so it makes it much
easier to achieve the highest PS with a
really large list so yeah I mostly just
wanted to show you an example of using
the remote debugger with an Android
application on a on an Android device
and I figured it's been interesting to
actually do something a little bit as
well so I hope this video was useful if
you want to see similar videos let me
know what you'd like to see and yeah
I'll see you in the next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>