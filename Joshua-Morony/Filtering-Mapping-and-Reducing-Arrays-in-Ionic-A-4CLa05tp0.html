<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Filtering, Mapping, and Reducing Arrays in Ionic | Coder Coacher - Coaching Coders</title><meta content="Filtering, Mapping, and Reducing Arrays in Ionic - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Joshua-Morony/">Joshua Morony</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Filtering, Mapping, and Reducing Arrays in Ionic</b></h2><h5 class="post__date">2016-12-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/A-4CLa05tp0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">today we're going to talk about how to
manipulate data in your ionic 2
applications we're going to be talking
about how to filter map and reduce
arrays in ionic 2 this isn't anything
specific to I linked to it's actually
just available in javascript in general
but we'll be using those concepts with
an ionic 2 example so just to cover
those briefly so you have some idea of
what these operations are going to do we
can use a filter function on arrays to
filter out data that we don't want to be
in that array we can use a map function
to change the data in that array and we
can use reduce to perform some operation
in the data in the array so we're going
to start out by studying a new learning
to project and setting up a little bit
of an example that we can have a look at
and play around with so we're just going
to generate a new application with ionic
start and we're going to call this ionic
to data we're just gonna use the blank
template and use the V to flag and so
it's gonna let that generate now ok
that's finished generating so just to
get started we're going to change into
that project we just created by writing
the CD command and then we're going to
serve the project and we'll just take a
look at the blank template that we have
to work with okay so here's the blank
template I'm just going to open up the
emulator or set the iPhone 5 and what
we're gonna do now is jump into the code
and we're going to make make this into a
more interesting example rather than
just using boring data I'm gonna make a
little bit of a fun app that displays
some youtubers and we're going to run
some operations on some static data that
we add to that application so I'm just
going to open up that project now in
sublime okay we've got the project open
now so what I'm going to do is jump into
the home page component here we don't
need to create anything else for this
example I'm just going to set up a bit
of data in here as well as some function
so we're going to make use of
and then just a simple template in here
that's going to display that data and
it's going to have some buttons that we
can click on to perform some different
operations on that data so I'm just
going to go through and code in a bunch
of the boring stuff now and then we'll
walk through how to implement those
functions in just a little bit
okay so that should be pretty good I've
got the template set up here and the
typescript file as well that's what I've
done is I've got two sets of data that
were working from of the original data
and some modified data so in the
original data here I've just set up some
some data for some youtubers including
myself as I've got the name the
subscriber count' an avatar an image for
the image avatar and a channel URL and
then I'm just copying that original data
into this modified data variable because
we're going to be changing this so we
want an original reference to the data
that we can use to reset the modified
data and the reason I'm using this weird
JSON parsing json stringify thing here
is so that we're creating a completely
new copy of that array we're not
creating a reference to it the problem
is if we just created a normal reference
to the array as we perform these
operations on it the original data would
get modified as well which means we
wouldn't be able to reset it anymore and
in the template here we've just got some
buttons and defined at the top which are
going to call for different functions
that we've defined in here so the reset
data function will just reset the
modified data back to the original data
and then these three filter map and
reduced data functions are going to be
what we're working on and then in the
template we just have a list with an
iron on item repeating for every
youtuber that we have listed in our data
and it's just going to display their
avatar here which is just going to be a
placeholder image not the actual avatar
and their name and their subscriber
count' so if we just take a look at what
it looks like
now we can jump over here and show this
pretty standard boring-looking
application here what I might do
actually is make this
is this the danger that color now it
might look a bit cooler yes definitely
cool awesome so we have sign to work
with now now we're gonna get into the
interesting stuff and start making these
buttons do some things to our list of
data here so let's start off by working
on the filter function so we're gonna
make this button here filter this data
route so we don't want the entire list
of youtubers here we only want a subset
of those youtubers so I'm gonna jump
into the code here and we're going to
define what this function does so what
we want to do is do something to the
modified data because that's what are we
are using for the list here we're
looping through everything in the
modified data so what we're going to do
is make use of that filter function
which is available on all the raves and
remember this isn't just for a - this is
just a function that's available on
arrays in JavaScript in general so what
we're going to do is set the modified
data to modify a data filter and this
going to create a filter function now
and what the filter function will do is
it will pass in each item or element
that we have in an array it'll pass it
into this function and then we're going
to run some check on that to see whether
or not we want to include it in our
filtered array so we're going to pass in
a youtuber which will just be an
individual object so there's one one of
these rows here and what we need to do
is return either true or false and so if
we return true that youtuber will be
included in the data if we return false
they won't be and so just to check that
this works I'm just going to save that
take a look at the app again and
hopefully everybody should still be
there and they are now we'll just change
that to false
and it should have no doubt on it of
course the steel actually does have
Daleks I never even click the button so
let me click the button first cool no
data I'll switch back to true and make
sure that works I didn't click the
button for that either cool and
everything stays there so what we need
to do is not just return true or return
false we want to perform some kind of
check and return a true or false value
based on that so what I'm going to do is
filter out any youtubers that have less
than a million subscribers so what we
can do is instead of returning true
returned youtuber dot subscribers which
is this value here and we want that to
be greater than a million so now if
subscribers is greater than a million
it's going to return true it's not it's
going to return false so if I save that
now jump in here again and click the
filter button you can see that I've
disappeared channels disappeared
I think hutch disappeared as well and
just these subscribers we have more than
a million subscribers are left in the
list and I can hit the reset button to
bring everybody back again so that's how
the filter function works you just
perform some check here return true or
false and that will either include or it
won't include that particular element in
the array now we're going to move on to
the map function so it's got a similar
idea here again it's almost going to
look exactly the same as the filter so
let me just create a map function that's
going to just change the data that we
have
so rather than leaving data in or out of
the array we're going to change the data
that we have in the array so we're going
to do this dot modified data equals this
stuff multiplied data dot map and again
it's the same idea we're just going to
pass in the
a single element again and then we're
going to run some kind of function in
here that's going to do what we want so
again with this one rather than
returning true or false we're going to
return the data that we want so if I
return YouTuber that's just going to
return the unmodified value that was
passed in so let's save that and we'll
take a look at our application so if I
click this settings
sorry not Settings button Matt button
now click that nothing happens which is
good that's what we want but now instead
of just returning that value straight
away we're going to make some small
modifications to it first so for example
I could say youtuber name equals
youtuber name it's got to uppercase and
this is going to convert the name up
okay so it grabs this name here and
changes it upper case and then it's
assigning it to new to bird up names
that's going to overwrite that data
there so if I save that now and come
back in here now if I click this button
everybody's name is converted to
uppercase it reset changes it back again
and just to make it a little bit more
interesting will modify another value as
well we could modify the subscribers
count for example so you can - youtuber
don't subscribers equals youtuber dot
subscribers times 10 so this is just
gonna make everybody subscribe account
ten times bigger which would be cool
so right now I have 1,700 subscribers I
click this button my name goes to
uppercase and now have 17,000 if you'd
like to help me out with that you can
subscribe to the channel now that'd be
very cool of you so we'll just hit reset
again set that back to the way it was
before so that's essentially how the
mapping function works rather than
filtering what's in the array we're
changing what's in the array and there's
a lot you can do with that this is just
a really simple example and the final
function we're going to work on is the
reduce function now the reduced function
is a little bit different to the rest of
them we're not really changing the array
we're performing some kind of
calculation operation on the array and
in this case what we're going to do is
we're going to do two different things
we're going to sum up the number of
subscribers that we have for all of our
youtubers and then we're also gonna
figure out who has the most subscribers
out of all these youtubers so it's a
reasonably similar process to the
previous functions but what we're going
to do this time is when there's create a
variable called sum here I'm gonna say
let's sum equal then we do this modified
data don't reduce so far it's pretty
similar to the others this time we're
going to pass in two parameters previous
and current into the our function so if
I was to do return previous plus current
this actually won't work and I'll
explain why in a second but this is the
general idea what will happen is that so
we first get the first two elements and
your a so we get
josh'll Moroney philipdefranco we add
both of those subscriber counts together
and we return that and some that
combined value will be passed in as the
next previous parameter and then we'll
go on to KC will add that subscriber
value to the combined value of these two
and then we return that to the next
iteration of the function and then again
- CaptainSparklez this time the previous
valued will be the sum of all three of
these and then we add on CaptainSparklez
and then that keeps going and going
until we get to the end and at the end
we'll have the sum of all of the
subscribers in the array now the problem
with this is that the first time we run
this order for the first element that
previous value is going to be an object
but on subsequent iterations it is going
to be the sum so it's changing from an
object to a number so what we need to do
is check if we're on the first iteration
and if we are we want to use a slightly
different value so what we can do is say
let previous result equal number dot is
integer previous and then we're gonna
use the ternary operator here so if the
previous parameter here is a integer
we're going to use that but if it's not
then we want to use the value from the
object which would be previous dot
subscribers now I hope I've done a
decent job at explaining that so I'll
try to just quickly go over it again so
on the first time we run this this is
what we're going to get as the previous
value of this whole object so in that
case it's not a number and we can't add
an object to a number so instead of
using the parameter directly means to
grab the subscriber property on the next
iteration what this returns is going to
be a number
so in that case previous will be a
number and we just want to use it
directly instead of trying to access the
subscribers property which we won't be
able to do so now if I was to log that
out once that has completed hopefully we
should be able to see a sum of all of
these subscribers
so I'll just click this button here and
that didn't work
we are concatenate concatenated a bunch
of objects here that's because I forgot
to change these values here so what we
want to do is instead a previous result
rather probe result which is what we've
worked out here and we want to add that
to current dot subscribers because the
current value is what will be always be
passed in as the entire object so we'll
save that again and we'll have another
shot getting close now we've got none
number so let's try and figure out why
this is returning not a number looks
like I have a typo here counts fellow
subscribers and I don't think I've done
it anywhere else let me just see that
looks good yeah I'll save that again and
we'll try it one more time hopefully
okay there we go we finally got the sum
of all the youtubers here which is what
it's that millions 24 million four
hundred ninety five thousand so that
sounds about right
given the subscribers here and now we're
just going to do one more example
because this it is a bit weird and I
kind of want to do a better job at
explaining how this works so we're also
going to do a most so we're gonna see
who has the most subscribers out of that
list which we can pretty easily see is
captainsparklez but we're going to
figure that out just to make sure so
we'll do basically the same thing again
this stop modified data reduce previous
current pass those into the function and
we're going to do a similar thing here
again but rather than adding the values
together we're going to see what the max
is so again this just make sure that
what we're working with is a number and
not an object like it will be in the
first iteration of the function and then
we're going to create a max variable and
we're just going to use a map that max
function to figure out which is bigger
it's a previous result or the current
subscribers which has just been passed
in so this will return or this will be
set to whatever is the largest of those
two numbers and then when you just
return that value so if I save that now
and we'll also just log out most subs
here along with that value and hopefully
if I jump back into the app now click
that button hopefully we see
CaptainSparklez subscriber count there
so click on that and toast over the sum
there and then my million seven hundred
fifty-three thousand which is
captainsparklez count which is exactly
what we wanted and just for a bit of fun
I want to show you that
we can continually modify that data
since we can apply different operations
to it we've got the filter and we've got
the map function I could click on this
for example two proofs everyone
subscribe another let's make him
capitals and I could filter it and I
could boost it again and I could do that
as many times as I want so you can very
easily work with data in a list like
this and this is a pretty silly example
but you could very easily make this
useful say for some kind of shopping
application you could filter based on
price or the product team or tons of
useful things like that and these three
functions for a race especially the
filter and the map functions you can use
quite a bit and they are really useful
to know so I hope that you enjoyed the
tutorial I hope that these explanations
make sense and that you're now able to
hopefully use some of these functions in
your own applications thank you for
watching and I'll see you in the next
one
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>