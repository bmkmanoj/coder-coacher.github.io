<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Loading Remote JSON Data with HTTP in Ionic | Coder Coacher - Coaching Coders</title><meta content="Loading Remote JSON Data with HTTP in Ionic - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Joshua-Morony/">Joshua Morony</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Loading Remote JSON Data with HTTP in Ionic</b></h2><h5 class="post__date">2017-01-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/vuc4dp0qHSc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this tutorial I'm going to show you
how to load some data into your ionic 2
applications using a HTTP request in
this tutorial we're going to load some
JSON data and if you don't already know
what JSON is it stands for JavaScript
object notation and it's what we're
looking at on the screen right now so
it's not specific to JavaScript it's
just a string it's just a data format
but it uses the JavaScript objects
syntax so this is a JSON string that
i've loaded from reddit if you look at
the URL here we're just grabbing a JSON
feed of the gifts subreddit and this is
obviously quite a complicated looking
string but if we just jump into the
editor quickly here if you broke this
down you'd see that it just looks like a
normal sort of JavaScript object it's
got kind there as a property and then
under that we have listing and then we
have this data property here and inside
of that there's an object and then we
have let's go with the children property
here and then think that was an array
and so it's just this basic JavaScript
style object so if you've worked a bit
of JavaScript before you'd be familiar
with this and that's all a JSON string
is now the JSON format is a really
popular format to work with because it's
so easy to pass in applications it's
easy for humans to read and create and
it's also easy for our program to
interpret and create an object that we
can use inside of our application so
we're going to go through two scenarios
in this tutorial we're going to load in
this data directly from this URL so it's
fetching some data from from a remote
server I will also going to store a
local file inside of our
vacation that's also going to be in JSON
format and we're going to load that
locally so the HTTP service can load
data from a URL like this but it can
also just load in and make an HTTP
request locally as well so I've already
got an application generated to use as
an example but what we're going to do is
add in a provider that we're going to
use to fetch this data so if you haven't
got an application you're already
working and feel free to create one and
then run the ionic generate command
which we can use ionic g4 and we're
going to create a provider called just
call it reddit data okay so if I jump
back into my project now just go to this
string here if I jump into the source
folder and go to providers you can see
this reddit data provider that was
created for us and this is really handy
using this generate command because
actually imports the HTTP service from
angular and sets it up in the
constructor by default so if you wanted
to use the HTTP service and some rails
in your application just make sure to
import HTTP from the angular library
there and also inject it into the
constructor you also notice that we have
this second import command here which is
loading st. from the rxjs add library
and this is the the map operator which
is going to allow us to do something
with the observable that the HTTP
service returns but we'll get into that
in just a little bit so what I'm going
to do here is create a function called
get remote data and we're going to make
this function grab our load in that data
from reddit using the HTTP service so to
do this we're going to make use of that
HTTP service we've injected into the
constructor there so we have to do is
this HTTP GET and you can also do post
requests and stuff like that delete and
put as well
if you're interested in doing those but
in this tutorial we're just going to
focus on the get so all we need to do is
supply that URL that we're trying to get
from so I'll just copy and paste in the
reddit URL here and let's just see what
this does just by itself so I'm just
going to log this out so we'll save that
and since we're going to have to
interact with this provider here we're
going to have to set it up properly in
the application as well so I'm just
going to jump into the module file here
and import that reddit data service
and just add it to the providers array
here and I'm going to serve the
application and then we're just going to
jump back into here and we're going to
set that provide up just on the home
page so I'm also going to import that
here
and once it going to check that service
into the constructor so we can use it
and then I'm just going to add the ion
viewdidload hook here which will trigger
as soon as the the viewers loaded and
we're going to trigger that function
we're creating so get remote data
function so we can just do this stock
reddit service get a remote data let's
see what that does
I've got an error there because I did
the path wrong for the import so this is
relative to where the file is so we're
in the home dot ts file here I've gone
up one folder and then to the providers
folder which in this case I've only gone
up to the pages folder there's no
providers folder and then I still need
to go up one more folder to access that
so if I just put in that there and save
it we should be good hopefully now okay
so that's working now the functions
getting cooled and we can see our
function making the HTTP request here
and it's returning this observable and
this isn't what we want well it is but
it's not the final thing that we want
you might expect this just to return the
data but it doesn't it returns an
observable and so if you unfamiliar with
observables I'm not going to describe
them in this tutorial I'll link to
something that you can read about that
but really quickly what it is is a thing
we can subscribe to that's going to emit
data over time so an observable can
essentially say something and if we're
listening we can grab whatever the thing
is that that observable said so in the
case of the HTTP request the thing that
it's saying that we're subscribing to
that we're listening for is going to be
the data so this returns an observable
not the data we want but we can get the
data we want from that observable so we
don't want to log this out what we want
to do instead is subscribe to that
observable so to do that all we need to
do is append a dot subscribe on the end
here
and then we can pass in the data that
observable is going to emit into a
little handler here and so we can just
log that data out like this save that
and we'll see what happens now okay so
now we have this response being logged
out now which looks a little bit more
likely what we want not exactly what we
want clearly but it's looking a little
better so if I expand this out we can
see we have a whole bunch of stuff in
here because I'm headed some HTTP status
codes as they're says 200 which means
that's good it's worked and then we have
the actual data that we're interested in
is buried in this body property here so
if you wanted you could just grab that
out of there but there's a more is a
better way to do that and that's where
that map operator is going to come in
and so this map operator that we're
importing from rxjs we can use with
observables and that's what the rxjs
library provides it that's what allows
us to use observables and a map is an
operator that we can use on that and it
is almost exactly like an map that you
can use on normal JavaScript functions
that's built into JavaScript by default
or rather you can use a map on
JavaScript arrays and again I'm not
going to get into how maps work in this
tutorial again I'll link to something
but essentially the term in terms of an
array you can apply a map function to an
array to change the elements in that
array based on some function and so it's
the same concept here where we can apply
the map operator to an observable and we
can change the response in some way
so before we subscribe to this
observable we're going to add in a map
so we can do dot map and then we just
have to describe how we want to map that
data so we want to take that response
we want to instead return or call that
j-jason function on that response which
is going to convert the response into an
actual json objective data that we can
use so if I save that again and take a
look at what happens you can see now
that we have a much more friendly
looking object so if I expand this out
now this is exactly the data we want we
have that so we have kind and data here
so I've got a kind property of listing
and then a data property which has an
object in it which has an array inside
of it so if we expand this out now we
can see we have that listing value there
and if we expand data we can see all of
that we can see the children array and
we can see a bunch of objects in there
was a more data and then this is the
actual each individual post in the gift
subreddit so now we can start to see
things like the permalink and different
information about that post and down
here we even have the actual URL to the
gif so what is copy and paste into here
we can see what that is hopefully it's
nothing too obscene okay there we go
looks like some Lightning that's pretty
cool ah that's really cool actually
okay let's jump back into this now so
we've covered how to fetch some remote
data using HTTP and this is about all
you'll really ever have to do and it's
always almost always going to be this
exact format you will grab the JSON
string from some URL you map it into a
JSON object subscribe to that and then
do whatever you need to do with that
data inside the handler now also said we
were going to fetch some local data as
well you might have a JSON file you just
want to load that you're just bundling
with your application so we're going to
create another function here called get
local data
and we're just going to copy this
exactly as it is there really isn't any
difference between the two methods we're
going to come back to this in just a
second but first we're going to have to
create a data file for us to use so we
can add that to the assets folder here
and these are the static assets that get
compiled with your application so we're
going to create a new folder and we're
going to call that data and inside of
that we're just going to create a file
called just read it data of Jason and to
save myself from coming up with my own
JSON string here I'm just going to dump
all of this data into this final you can
see actually looks a lot nicer when I
paste it in here because we can see a
little bit of a syntax highlighting
going on so if I save that and then jump
back into the reddit data provider here
all I have to do now is change this to a
local path so if I do assets /data
/resource and save that and then modify
this dead load function to call get
local data instead hopefully we should
see the basically the exact same thing
and we do we've got the same object the
same everything in here except now it's
coming from the local data you can see
it's coming from line 29 here so if
you're jumping here
you can see that that's where it's being
bugged out so it's coming from this
function now not the remote remote data
function so when you first come across
this syntax and observables and things
like subscribing it can be pretty
daunting and confusing but the process
for pulling in some JSON data into your
application is pretty simple okay I hope
you enjoyed this tutorial and I'll see
you in the next one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>