<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>The Role of Unit Tests in Ionic | Coder Coacher - Coaching Coders</title><meta content="The Role of Unit Tests in Ionic - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Joshua-Morony/">Joshua Morony</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>The Role of Unit Tests in Ionic</b></h2><h5 class="post__date">2017-06-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/i0iV_x8NgeE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this video I wanted to talk a little
bit about that's what a unit test looks
like in ionic and why we might want to
create a unit test I've done some and
tutorials and videos and things like
that in the past where I've I've gone
through setting up unit testing and
end-to-end testing how to go about
writing the tests and I've also done a
bit of an introduction video into I
guess some easy ways to get that set up
and get started but I think when
learning about testing initially it can
be a bit confusing you don't really see
I guess the the relevance of it how it
works what what am I supposed to test
what is the benefit of that and I
remember when I first started learning
this stuff I kind of thought well you
know what what do I even test do I just
pick some random things and then write a
little test for that I couldn't really
see the benefit in that because I
thought well okay great so I know this
one little thing works how is that
really going to help me so I guess the
point of this video is to kind of show
you in a in a real-world scenario this
is a sort of real app that I'm working
on using test-driven development
so I want to show you what the unit test
that I'm creating in here look like and
why they're going to be useful to
ensuring that this application works
well ensure the certain level of I guess
code quality so I'm not going to go
through testing setup or even really how
to use the test I really wanted to look
at this from a really high level and to
show you a few tests show you what
they're doing and hopefully try to
communicate why that might be useful and
so all this stuff you see on screen now
this is a lot of just set up for the
test here so all this stuff at the top
is just setting up the test environment
it's getting everything ready again this
is stuff I've covered and it's not what
I want to focus on in this video what I
am interested in is the the test the
unit tests themselves which you're
looking at here it's on the screen now
you see each one of these it statements
here defines a test and then that's
testing something and so the whole
concept of a unit test is that you're
testing these
singular units of code these small
little chunks of code that basically do
just one thing you're testing one thing
and you're testing that it works now
what exactly constitutes a unit test
maybe for a bit of debate I guess if
you're taking a really sort of purist
view of a unit test really is testing in
the really granular level you may be
testing just you know that a element
when passed into a function gets added
to an array I guess I'm taking a little
bit more liberty with testing here I'm
testing more broadly perhaps with the
more is behavior driven development type
approach but I think this is going to
help communicate the concept reasonably
well and without wanting to get derailed
too much I think that is probably an
important thing to keep in mind that
there is less material out there for how
to unit test and I think the best advice
I could probably give is to you know try
and do things the way that you know
you're supposed to but don't let that
paralyze you don't let it stop you from
creating these tests if you're testing
something wrong go with it you'll get
better at it it's kind of like learning
to develop in general your tests in the
beginning will be bad probably as you
write more tests so you get a better
feeling for it and you know how to write
better tests okay so now let's actually
look at what I'm doing with these tests
here so I think I mentioned before that
I was using test-driven development to
create this application and again I've
written some stuff on this if you want
to go read that in a more in-depth level
but basically the idea of a test-driven
development is that your test drive your
development so you write the test before
you write any code now you don't have to
do it that way I think it's a
particularly good way to do it but you
don't have to do that so if we take a
look at the test I've got here the first
one which is something that's actually
just built into this unit testing
template by default and is generally
there in most tests especially in ionic
the first test just tests that the
component is created so that's obviously
a very basic test important also so all
we have here is it's an expect statement
and that just says well this is what we
expect happen we expect that the
opponent is an instance of AD notice
page and then that's true the test of
classic is not it will fail and the next
test I have here is similarly simple I'm
testing that the component has a class
member called title I'm going to have
that expect statement I checked that
title exists on the component and then
if it does exist
this test will pass and so what I would
have done originally here is I wrote
this test without that title being added
to this component yet you can see right
that is the class member so this is
going to pass but originally since I'm
using test-driven development I would
have wrote this test when that wasn't
defined yet I'd run this test it would
fail then I'd go and put that class
member in there run the test again and
it should pass so to run the test as I'm
developing I'd run in my ami command
line here I grow an NPM test and that's
going to run all of my unit tests for me
and so I'm just going to let this
compile and run here but the methane has
changed all these tests should pass last
night they were working at least and so
since you know all my unit tests are
passing as I'm working on this code if
I'm making changes to things I could
innovatively break things you know the
technical term for that happening is
that they're regressions that as you're
adding new features you're breaking old
features and so you might be working on
st. totally different to not even
realize that you're breaking something
that was previously working and now with
that unit tests you may don't find about
out of ages with unit tests you'll see
right away st. will pop up and say one
of your test is failed and here's why so
right now you can see that you know all
the tests are working our component does
have a title class number but let's say
I was you know I was working on this I
was changing some of these cross members
around and then somehow I accidentally
deleted that that's gone missing or
maybe I renamed it or something like
that
so if I save this now unit tests are
going to run again and now that test
that I had that checks to see if the
title class member was defined that's
going to be undefined now and the test
is going to fail okay so you can see
there it says
q 235 of 35 once failed so if I scroll
up now until I find some red text and
some errors you can see here the one
that's a little is ad notice page should
have a title class member and it says
the reason I'm here is that it expected
undefined to be defined so it's
accessing component title and it's
saying we want that to be defined it's
not so the unit test fails so I can just
add that back in there save it and
that's going to solve that test out so
that's obviously a very basic unit test
but we can get more complicated and I'm
not going to get too far in depth into
creating more advanced unit tests here
you can see all the unit tests I have
for this particular component here now
some are more in-depth than others but
the general theme for all of them is
basically the same and there's this
concept in testing of AAA it's a sense
of a range act assert and so first you
arrange your test you set up the testing
environment which involves you know
setting up this using testbed to create
this testing environment and then I move
on to the the act step which is doing
something so in this case I'm setting
the title to be blank and then I trigger
the save notice function so that's it's
getting our program into the state that
we want to test and then once I've done
that I move on to the final part of that
AAA process which is assert which means
you make an assertion as to what should
have happened now we don't use assert in
Jasmine particularly which is the
testing framework that I'm using here
and we have this expect statement which
is our assert and it says we expect that
the save no dysfunction in the notices
provider should not have been called
since we've set a blank title we've
attempted to save the notice that
function should never get triggered
because we don't want to allow that
notice to be safe if there is no title
and so with all of these unit tests in
place for in this component in
particular I can be reasonably confident
Dainius all these unit tests sir
passing and you design the test
reasonably well I can be reasonably
confident that this component is working
obviously it's no guarantee that it is
working just because all your tests are
passing you may have neglected to test
something or you may have written the
test incorrectly but it does provide
more confidence that the code is working
and it's going to allow you to pick up a
lot of bugs and errors that you may have
otherwise missed and you can see over in
the panel on the left here I have my
unit testing file for the ad notice
component but I've got one for every
other component as well and I've got one
here for the the home page for the login
page for the notices page here for both
the the providers that I'm using and so
I can test all these things individually
to make sure that each thing is doing
its job properly now unit testing
everything is tested in isolation so I
can ensure that or at least I can be
reasonably confident that my ad notice
page is working I can be confident that
my notices provider and my data provider
are working as they should be the unit
tests don't provide a unit test don't
guarantee that the system as a whole is
working though you could have individual
units passing tests fine but the program
as a whole could not work and so the
idea when your unit testing is you
intentionally isolate things if you have
a unit test it relies or if you're
testing some functionality that relies
on see the data provider if my ad notice
page makes a request of the data
provider I shouldn't pull that data
provider into that test whether or not
the data provider is currently working
should be irrelevant to me testing the
ad notice page all I'm interested in is
whether the ad notice page works but
then in a real environment where we are
actually using the data provider in the
ad notice page well then that could fail
because there could be some issue with
that integration there so there are
other tests we can run outside of unit
tests like end-to-end tests that could
help us identify problems problems that
our unit tests miss but but by having
our unit test sir we can be sure again
not sure but a reasonably confident that
each individual component is due
what it should be and and if Lane does
go wrong it's going to be very easy to
identify where something is going wrong
the unit test is going to fail and it's
going to say well it failed for exactly
this reason this is what's happening and
you can go and fix that okay so I hope
this video was coherent enough that it
made some sense like this is targeted at
people who are new to testing I wanted
to communicate the value of unit test
and what it looks like in a real
environment rather than you know just a
I guess a a silly example or something
like that if you say it's a huge topic
there's tons to cover so I've tried to I
guess selectively get the main point
across so hopefully that's being useful
I'm going to do another video separately
on end-to-end testing which is a
different type of testing with the same
sort of theme we'll try and cover the
basics what it looks like what it is and
why you might want to use it so that
video will be out soon I hope you
enjoyed this one and I will see you in
the next one
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>