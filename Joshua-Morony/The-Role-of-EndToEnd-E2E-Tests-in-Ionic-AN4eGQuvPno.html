<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>The Role of End-To-End (E2E) Tests in Ionic | Coder Coacher - Coaching Coders</title><meta content="The Role of End-To-End (E2E) Tests in Ionic - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Joshua-Morony/">Joshua Morony</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>The Role of End-To-End (E2E) Tests in Ionic</b></h2><h5 class="post__date">2017-06-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/AN4eGQuvPno" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this video I'm going to talk about
what end-to-end testing is and how much
useful in a real-world project or in an
ionic application so just recently I
released a video on unit testing in
ionic and again that was a very
high-level overview of unit testing
where I looked at this application that
we're looking at on screen now and how
that might be useful in a real-world
situation why might want unit tests and
I guess the general structure of what
unit testing will look like in your
application
now as I did in that video with this
video I'm also not going to cover the
setting up of end-to-end testing I have
some material on that already that I can
link to which goes through setting up
end to end testing running some
end-to-end tests in this video I want to
just show you some end-to-end tests that
I have for a particular application that
I'm working on and again talk through
about what they are in general widely
useful and to show you an example of
what it actually looks like so on screen
now I have my unit test up from the the
last video now I don't want to dive into
unit testing again because I've probably
spent too long rambling on about it but
just to recap really quickly a unit test
tests individual chunks of code and
ensures that those individual chunks of
code work in isolation so we can create
those tests we can run them and then
command-line here is going to tell us if
all of our tests are passing or not if
we break some functionality that used to
work we're going to we're going to know
about it so unlike a unit tests which
testings small chunks of code in
isolation and end-to-end tests will test
your application from end to end so it's
a more if a user centric view of testing
it tests it like a real person it's kind
of like having a robot human test your
application for you it's going to test
how pages link together if certain
things are on-screen when they should be
so I'm like a unit test which is testing
small comes in the code itself and to
end test test the application of the
whole now before I actually show you the
enter
test themselves which you can see up in
the top left here I have a live
end-to-end folder I'm going to run them
so you can see what happens when you do
run your end-to-end testing suite and so
I have this application being served
right now and that's important for this
end-to-end test to work because it is
actually going to access the the
application running so I'm going to
cancel out of my unit test here and then
I'm going to run NPM run e to e and
again this isn't something that's built
into ionic applications by default you
will need to set it up so if you leave
this way to do that just check out my
was a recent video where I talked about
using this github repository which has
unit and end-to-end testing set up by
default so it's sort of the easiest way
you can get up and running so when I run
this command here that's going to
trigger my end-to-end test it uses a
site called karma to run them through
the browser and you can see the browser
pop up there and things are flashing
around and changing the applications
game reloaded modal's are popping up so
this is right now that's testing my
application kind of like a real person
would test it but it's all automated and
so if we look at the output here we can
see which ones are passing and which
ones aren't and so this is a real
application that I'm working on now so
this is currently in progress so the
general flow of how I'm creating this as
I mentioned in the last video I'm using
test-driven development so basically
what I do is I first run end-to-end
tests to test some behavior that I'm
trying to implement so if we take one of
these tests as an example this passing
end-to-end test says that it should
display a list of notices on the page so
that's a functionality that I'm trying
to create so from that I'd write an
end-to-end test which is then going to
of course fail and then in order to get
into n test working I need to start
running some code but to write code I
need to have unit tests to cover that
code so I write a unit test for a
portion of what's going to make that
functionality work for that end-to-end
test then I write that code I repeat
that process with the unit tests I write
a unit test I write some code I write a
unit test I write some code and to the
point where this end-to-end test passes
and then I can move on to the next thing
and so you can see right here I have
some passing end-to-end tests then I've
got this one that is failing here that
says after adding a new noticed and you
notice it should be displayed at the top
of the notices list as so it clearly
isn't a unit test it's not testing some
individual chunk of code it's testing
this functionality that's going to be
relying on a lot of different things so
I have two of the ad and you notice
after launch the page that's adding the
notice and then we have to navigate away
from that page and we have to check to
the list where the notices are displayed
contains that new notice so obviously
that is a reasonably complex operation
and so if we jump into this e to e
folder now I have my various and 2nded
spec files here and so if we take a look
at the notices one you can see the
various and end-to-end tests I have and
what you may notice right away is it
looks very similar to the unit testing
setup so it's a bit simpler because
we're not creating the the testing
environment that we did for the unit
tests we used angular angular testbed to
create a sort of isolated testing
environment for our unit tips whereas
with the end-to-end test it's really
just accessing our application as it is
and then for each of these tests we're
kind of just triggering behavior that a
user would so if we take a look at what
was the one we're interested in so after
adding a new notice it should be
displayed at the top of the notice list
so that's this one here so in this test
what we're saying to do it's also worth
noting I have a before each block here
that says we should run this code before
each test so every time before I start
the test I navigate to the notices page
and then we were on this code so the
first thing I'm doing is getting the add
notice button and clicking it and now
have this separated out that into page
objects I'm not going to get into what
they are in this video too much but
basically I just have the separate files
here to allow me to retrieve the various
components that I need to access as
since we're sort of grabbing references
to things by say CSS attributes I can be
a bit awkward in our test if we then
change the CSS and then our tests fail
because you
we're not getting that a notice button
correctly and so by separating that out
into its own page object here we can
just call get add notice button and then
if we ever need to update that
in the future we can just change it here
and then anything that's using it will
be updated as well but again it's not
really the point of this tutorial i'd
mainly want to get across the point of
an end-to-end test so we get the uh
notice button on the notices page and we
click it and so this is just telling the
thing that's running our tests which is
a protractor so it's telling that to
click that button and then it's telling
the browser to wait for five hundred
milliseconds and then we grab the title
input field now which is the field we're
using to you know to give it title to
the nodes so we're trying to create and
then we call the send keys function to
send that some data so this is literally
like the user typing in some input now
and then we call the we grab the get
Save button we get the Save button with
the get Save button function there and
we click that then we put the browser to
sleep again for another five hundred
milliseconds and then we test add the
thing that we want to test so again it's
the same sort of you know
aaaa concept arrange actor sir it's just
a little bit different to a unit test
so rather than testing the code itself
we're kind of triggering these actions
that a user would so again to recap
click the add notice button wait input
test title into the title field click
the Save button wait and then check that
that notice is now at the top of
Minerva's list so to do that we get the
nodal asylums get first item we get that
first item text and then we expect it to
contain test title because that's the
input we used here so if I run that end
to end test again now hopefully with
that in mind you'll be able to kind of
visualize these test happening as the
browser pops up see if you spot where
it's sending the keys to the modal
just that last test that just happened
that's really going to modal a few times
because we're testing various different
things like we were testing that they
could launch the modal in this one our
testing that they can close the modal
with this one and then we were testing
that they can add the input to the modal
and save it and that it would be added
to notices list so in that last test you
could see that the test title just got
typed into that title field that was in
the modal so by writing these end-to-end
tests we can we can catch things that we
would miss with unit tests so especially
when we're talking about how things work
together as a whole so I haven't got to
debugging why this particular test isn't
working yet so I need to look into now
but already throughout developing this
application and enter us an end-to-end
test has picked up saying that I've
missed with my unit tests now so if I
was just relying on the unit tests alone
there could have been some bugs left
over in there that I missed or at least
went miss for a longer period of time
and again same as the unit test just
because you have end-to-end test doesn't
mean that your program is going to work
under those circumstances this just is
testing a specific set of circumstances
but if you are using a test-driven
development approach where you're you're
kind of first defining the behavior that
you want writing a test for that and
then implementing it if you write your
test that way you know you're going to
be covering going to be covering a lot
of your application you can be
reasonably confident it does what you
want to do as opposed to writing the
test set after the fact our way is
picking and choosing small areas of the
application that you want to test you
might miss some that critical
functionality that is is the core
functionality of what your app should do
in a way of writing into end tests with
a sort of test-driven development or
behavior driven development approach
you're kind of writing your requirements
into the tests and then verifying that
they work ok so again this was just
intended to be a very high-level
overview of an end-to-end test in a real
sort of environment and a real
application is to see what what it looks
like and again how it might be helpful
as I hope this is helped demonstrate
that if you do want more material on
unit tests and end-to-end tests I've got
plenty of articles on my website
I have a couple more videos on this sort
of stuff and as I mentioned in the last
video there's tons of material out there
for testing it's so it's been around for
a long time so let's do some Google
searches read about jasmine and karma
and protractor specifically in the
context of angular would be helpful but
just in general
knowing the general concepts of testing
even if it's completely unrelated to
even JavaScript in general will help you
write good tests and one final note I
want to hit which I also mentioned in
the last video is that testing is
difficult at something that takes a long
time to learn at sign I still have a lot
more to learn about you're not going to
go to write good tests right away as you
test more you won't get better in doing
it you're going to learn better ways to
test things and like just development in
general it's a skill that's learned over
time and you will get better at it but
it's definitely something worth
investing some time to even though it
may seem like a lot of annoying hard
work at the beginning okay so I hope you
enjoyed this video and I'll see you in
the next one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>