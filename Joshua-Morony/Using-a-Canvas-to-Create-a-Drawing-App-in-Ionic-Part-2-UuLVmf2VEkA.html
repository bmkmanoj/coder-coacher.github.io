<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Using a Canvas to Create a Drawing App in Ionic - Part 2 | Coder Coacher - Coaching Coders</title><meta content="Using a Canvas to Create a Drawing App in Ionic - Part 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Joshua-Morony/">Joshua Morony</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Using a Canvas to Create a Drawing App in Ionic - Part 2</b></h2><h5 class="post__date">2017-04-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/UuLVmf2VEkA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this video we're going to continue
building the drawing application we
started in part 1 of this video series
as you can see up on screen now I've got
where we got to in the last video so
this lovely creation on screen here as
you can see I can drag around and create
lines all day if I wanted but what we're
going to do in this video is extend this
a little bit so that we can use
different brush sizes and different
colors as well this is probably going to
be a pretty simplistic implementation I
guess with more of a focus on line maybe
kids could use we're just going to have
some predefined brush sizes that we can
switch between and then just a few
colors rather than having a full color
picker style thing and the ability to
set the brush to any size and I'm also
not going to focus too much on making
this look entirely pretty in this video
don't want to spend too much time
fiddling around on screen with things so
I would I'll probably do is just do some
really crude and basic in this video and
in the sort of follow up blog post that
I usually do I'll tidy things up a bit
and make things look a bit prettier so
let's get started with this so I'm
thinking that I'll do is I'll add some
to was probably a toolbar at the top of
the toolbar at the bottom and we use
that to store our brush sizes and the
color palette so let's jump back into
the component again and what I'm going
to do here is actually yet we'll see
let's see what happens when I throw in
some tool while so I'm not sure how
where they'll sit by default so put one
at the top and one at the bottom and
we'll just see what happens there so
we've got a toolbar at the top so that
guidelines play off the bottom of the
screen I think yes so
what I'm going to do with these is
position them absolutely and I want them
to flow over the top of the canvas
rather than pushing it down so by giving
an absolute position that's going to and
remove it from the normal flow of the
screen as I said it's absolute this is
just a test here top of zero for that
one yeah so now the canvas still takes
up the full screen but the ion toolbar
is sitting on top of it and then for the
bottom one we should be able to do the
same except we'll do a position:absolute
and we'll do bottom zero yeah so now we
have the bar at the bottom and a bar at
the top I don't know how well you be
able to see that on on the video but
it's just a slight gray bar at the top
and at the bottom here so add the styles
for those I'll give this a quick it's a
class of top toolbar I'll make it an ID
and this one can be bottom toolbar and
then in the S CSS file here we'll just
add some styles for those so we add top
toolbar and that will be
position:absolute top top to zero and
then we'll just do the same for the
bottom toolbar V position:absolute and
bottom zero and so this just means
bottom zero means we want to display
zero pixels from the bottom at top of
the arrow means we want to display it
zero pixels from the top so save that
now and we're refresh it to make sure
that that applied correctly also look
like that is and that's looking fine so
what we want to do now is provide a way
for users to switch between brush sizes
and colors so I'm going to come back
into here again and I'm going to have a
bunch of predefined colors so I'm going
to create another remember variable here
called available colors
and I'm just going to pre-fill that with
actually might have sign that in the
constructor just to make things a bit
neater so in here I'll set this stop
available colors to be an array and what
it's going to prove your colors in here
that the other users can use so I'm
going to use arm I'm going to bring up
the flat UI colors site is to grab a few
values so I'm just going to use a few of
the colors here and just throw them into
our array so I'll grab this turquoise
color
a blue and purple and two more will get
a the caret color and we just read this
wrong or what is that
leezar in try to pronounce that okay and
so the available colors I'm also going
to have a current color which will be
what the user is actually currently
using and by default we'll set that to I
should probably set it to a string I
will just set it to the thing that was
the turquoise color so I can get a
default and then so down here where we
set the stroke style we'll just change
that to be whatever the current color is
so if we come back into the app now we
should be able to draw just a single
color but it should be turquoise now
instead of black and there we go so we
have the turquoise color now that we can
use as obviously now we want to provide
a way for the user to switch between
those colors and so what I'm going to do
here is add some buttons to our toolbar
that we add so we'll add iron buttons
and then we're going to create a button
for every color that there is so we do
fun and we'll add an NG for to that and
we'll say let's color all and what
should we call that available colors
select color of available colors and we
want that to have that I on yeah I guess
I give the on button styling and just
for now we'll just um we just use the
text of the color just to make sure this
is all working properly so see what
happens with that and don't know if it's
working what have I done wrong let's try
and find a button in here yes we have
all of our buttons that is tiny now I'm
not sure why they are so small it's a
I'm probably not getting the oh of
course
switching between American and normal
English I guess yeah there we go that's
right all right so yes I'm not I'm not
actually sure how want that to look
right now in terms of how we display the
the button so I'm just going to keep um
just use color so I'm just going to keep
it as the text for now which is going to
be ugly and boring but I don't really
find it I don't like so I'll wait till I
do the blog post and I'll come up with
some kind of pretty way to display these
but right now you just click the add the
hex value of whatever color you want to
use which is obviously terrible for
usability but in quick Celyn so now that
we have that we're just going to add in
a click event binding here and we're
going to trigger a change change color
function and we'll just pass in whatever
color has been selected and then we'll
jump back into here and implement that
function I'll just throw it in
p.m. and then we'll just change this
current color and we'll just set that to
whatever the color that is being passed
in it and so that should allow us to
switch between the various colors so
let's try that now draw just with our
default turquoise color now if I click
this hopefully yeah it changes to orange
to blue and red so why don't let's try
and draw an ionic logo
perfect awesome we go great that looks
so yeah we basically have most of our
drawing application here now we just
need to add the ability to change slices
as well and obviously we could add in
two more colors if we wanted to as well
and as I mentioned before even I'm not
going to do in this video you could add
a more advanced sort of color picker in
so you could change you know you any
color rather than a predefined set of
colors so let's suppose I'm doing those
brush sizes now so we're basically going
to do a similar thing we'll just set it
to three three sizes for now so we have
in the template here now we have this
toolbar with some buttons and we're
going to do the same thing in the bottom
toolbar the rather than looping through
an array of values we're just going to
hard-code there's three different values
here so get rid of that and do change to
change size I will just apply a number
to this so we set it to has five can be
small and then we'll also create a
medium large and extra-large buttons so
I have that 10 20 and 50 so change the
small medium large and extra-large and
then we'll just add those that change
size function in here and we should be
able to just set I don't actually have a
size variable yet so add that in we add
a size any equals it's going to be a
number rather and what if we have to add
10 by default so we'll set it to 10 by
default and instead of using that here
we use this stuff size instead and I'm
going to make that a sheep brush size to
be a little bit more specific
and then in the change size function
we'll just change and this don't first
size to be whatever we pass in from that
event binding so we'll do this dog brush
size equal size and hopefully that
should work okay so we have a small by
default let's try click on actually
that's not ten by default which is which
is actually the the medium size so we
try change this to small and you can see
now we have a thinner brush size and we
go back to medium and then large again
and we should be able to go one more
size extra-large will change the color
as well at extra-large and a big thick
red line so that's really cool that's
basically doing everything we want it to
now our one thing that we haven't done
yet is now we don't really have the
ability to arrays things so if we add in
a white color because it's the same
color as the background of a canvas and
rather than actually rather than um
adding that to the available colors
array I'm going to create a different
button here which is just going to call
the same function and we'll just pass in
white manually to that and so we're just
going to call this arrays so it's going
to the same thing as using any other
color but it's creamy its own button
here so let's check if that works
okay so let's first mess up the screen a
bit get some stuff going on here
different colors and our packet the
arrays button should be able to yeah
just kind of arrays things that I've
drawn and then if I change to a
different brush size I can arrays a
bigger area if you wanted you can also
just have a button that would just draw
a giant white rectangle over the whole
screen and it will get rid of everything
at once and we could even um why don't
we put in like an extra extra large
button as well now we'll change that to
200 even and so it's drawing the screen
again and now if it's like the Rays on
an extra-large we can sort of cover a
big chunk of the screen so it's going to
make it easier to wipe out the whole
screen okay so that is pretty much it
for this tutorial as I mentioned I am
going to do a follow-up blog post for
this like I usually do with these type
of videos because they're not planned
out and make it up as I go along usually
things end up being a bit a little bit
messy and I try and take a few shortcuts
so the video doesn't go too long so I'll
add in things like better buttons for
the colors and same for the brush sizes
here but the general out actually
doesn't look too bad I think it's kind
of a cool simplistic layout with the
toolbars at the top and the bottom the
overall really happy with this and I
hope you enjoyed the tutorial thanks for
watching and I'll see you in the next
one
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>