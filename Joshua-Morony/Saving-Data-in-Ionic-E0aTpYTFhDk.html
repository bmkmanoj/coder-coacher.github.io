<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Saving Data in Ionic | Coder Coacher - Coaching Coders</title><meta content="Saving Data in Ionic - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Joshua-Morony/">Joshua Morony</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Saving Data in Ionic</b></h2><h5 class="post__date">2017-01-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/E0aTpYTFhDk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this tutorial I'm going to show you
how to save data in your ionic 2
applications using ionic 2 storage
service so first I'm going to show you
how to get it set up in your application
I'm going to talk through why we need it
what it does and finally we're also
going to go through how to actually use
it as well so I'm going to start off by
generating a new ionic 2 application so
we're going to an ionic start I'll call
this one ionic 2 save data use the blank
template and the V 2 flag so we'll just
let that generate okay so that's done
generating now I'm just going to change
into it
and we're going to serve it ok so that's
all ready to go now and I've already got
the code open up in my editor here and
so now we're going to set up the storage
service and so the storage is it's kind
of a separate service to most of the
other components and API as we have an
ionic but it is installed by default in
applications now you can see here in the
documentation they have the install
command but this is already in there by
default so we don't need to worry about
that so to allow us to use this storage
service we have to come into our app
module ts file here and we're going to
import it and set it up as a provider so
all we need to do is import storage from
ionic storage and then we can just add
it to the providers array down here and
that's what we need to do everything's
set up now so what the storage class
will allow us to do is store some data
and retrieve some data so it provides
two main methods we have to set and get
as I'll just open up the documentation
here we can take a look at it example so
you can see storage is being used here
and we have storage set so we're sending
the name is Max and
we have storage get and we getting that
name value that was set previously and
then this will return that so this is a
simple key value system here we store
some data on a key and then we retrieve
it using that key so there's some pretty
smart stuff going on behind the scenes
with the storage service so when we're
working with storage and mobile
applications generally we either are
going to be storing data in the
browser's local storage or we'll use a
native SQLite database so there's a few
different flavors of local storage stuff
that's stored in the browser itself but
the problem with that is that it isn't
necessarily stable and it has a memory
limit so browser storage is limited to
five megabytes and it can be cleaned up
by the operating system so if the
operating system is trying to free up
some space on a device it might just
wipe that storage completely so if
you're storing data in your application
that you want to be there permanently at
any point in time it could just
disappear
now this doesn't happen very often but
it does happen and so if you need your
data to be permanent then it's not
really an option the SQLite database on
the other hand is a native database so
it's outside of the browser so this
means when the operating system is
trying to clean up some memory and stuff
and it's trying to delete the browser's
local storage which it sees as junk he
or dad is not going to be deleted if
it's in a native database because SQLite
is native it's a native database it's
not available in the browser and so
instead you need to use a plugin to
access that which we can do and so the
whole point of the storage service that
ionic 2 provides is that it's just going
to automatically use the best storage
that is available so if you are running
your application without that SQLite
plug-in installed it's going to fall
back to browser-based storage if you do
have the SQLite plug-in installed you
have access to that native database then
it's going to use that instead so no
matter how your applications set up we
can just use this simple API here set
and get to set and retrieve those values
if you do want to use the SQLite
database which can I recommend if you
want your data to be permanent if the
data you're storing is temporary it
doesn't really matter then you probably
don't need to worry about it but if it's
data you want to stick around you just
have to make sure to run this command
here and once that's installed the
storage service will know to use that
SQLite database so we'll just run
through a really quick example here with
the application we generated so we've
already set up the storage service now
we're just going to go to the home page
here and we're going to have to import
that storage service here as well and
we're going to have to inject it into
our constructor so what I'm going to do
is create two functions I'm going to do
a set data function and a get data
function I'm going to link these up to
some buttons that we're going to use to
set some data and then retrieve it so
we'll set those up in our template now
so just come in here and create a button
and we'll link that up to the functions
we just created so this one can be the
set data
and I'll just copy that button and we'll
make this one our get Data button
so if I just add some console dot log
statements here we'll check that
everything is hooked up and working
correctly save that we'll take a look in
the browser now and if you look over in
the console here you can actually see
what our next Orage is doing so it's
using a web SQL storage because that's
the best storage that it could find so
that's one that's using me and that's
all handled on it in the backend stuff
with storage itself you don't need to
worry about what it's using now web SQL
is like SQLite but it is still
browser-based storage so you still have
that problem of the data being clear and
the SQLite plug-in so for storage to use
the SQLite native database the
application will need to be running on a
real device that won't work through the
browser okay so if we click on set data
here we can see we're looking at set
data if we click get data
it says get data so that's all hooked up
correctly madisyn now we can use the
storage service to save some data and
retrieve that so first we're going to
set the data in here so we're going to
say this dot storage dot set and we're
going to set this on the we'll just call
up my data key and then the value we're
going to say is just hello and if I come
in here and we'll use the get function
instead say get my data and this is
asynchronous here so we're going to pass
in a handler and we'll just log out that
data once it's retrieved
okay so if I save that now jump back
into the browser again oops it unsign
wrong what did I do
I've actually formatted to get call
completely wrong here and it returns a
promise so what we actually need to do
is get my data then we can create that
Handler so we'll log that out again try
again hopefully it works okay so if it's
set data so data should be set now but
get data and it says hello so if I was
to then change this to will just say
goodbye now
so if I save that it's going to refresh
now so if I click get data first now it
should still log out hello and it does
because that's the value that was stored
and we haven't yet set that new value of
goodbye because we haven't clicked on
set data yet so I click on set data now
and then click it and now it says
goodbye so I can refresh this
application completely click get data
and that value is still there so usually
once you refresh the application all the
variables gone you lose all your data
but if we're using the storage service
here we can store that in a permanent
location or semi-permanent at least and
we can retrieve that data again later so
this is obviously just a very simple
method for storing data there are other
options available you can use things
like CouchDB which is a no SQL document
based storage which is local as well so
again it runs into that same problem of
being able to be white but then pouch DB
also has some connectors week and even
sync it to a remote server you have the
data on the cloud somewhere and you can
sync back and forth between remote data
set and your local data you could of
course just store your data directly on
a server instead and have some API to
pull in the data to your application
there is a more advanced way to use a
SQLite and native plugin so this storage
service just uses it as a simple key
value system but SQLite itself is
essentially a fully fledged SQL based
database so you can do things like
create tables and run queries and stuff
like that so if you'd like you can also
do that within your applications here
you can run queries directly from the
JavaScript so if you have more
complicated data requirements a simple
key value system might not be enough for
you but for a simple data storage
requirements if you just want to store
some arrays of data some simple user
names or values like that the storage
system is really good it's a simple way
to use the best storage that's available
with just a single API ok I hope you
enjoyed this tutorial and I'll see you
in the next one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>