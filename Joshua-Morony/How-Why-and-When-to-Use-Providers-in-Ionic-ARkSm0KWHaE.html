<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How, Why, and When to Use Providers in Ionic | Coder Coacher - Coaching Coders</title><meta content="How, Why, and When to Use Providers in Ionic - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Joshua-Morony/">Joshua Morony</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How, Why, and When to Use Providers in Ionic</b></h2><h5 class="post__date">2017-01-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ARkSm0KWHaE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this tutorial I'm going to talk about
how to use providers or services in
ionic to going to talk about when to go
about creating your own custom providers
a provider can be used to provide some
kind of service to your application it
could be any range of things from
fetching data to performing operations
on data and things like that but it can
be a little bit difficult perhaps when
you're just getting started to figure
out when an appropriate time is to use a
provider or even how you go about
creating them in general so in this
tutorial I'm going to look at it's a
really simple example a really common
scenario of how you might go about
creating something without a provider
and then I'm going to show you why it's
a good idea to create a provider for
that instead so the example I'm going to
use is just going to be a simple list
that displays maybe posts and writer
calls or something so I've created an
application already here I've got that
on screen and what I'm going to do now
is jump into the editor and I don't have
any providers set up yet so I'm just
going to go about coding this without
using a provider and I'm going to show
you what that looks like first so the
first thing we might do if we want to
create a list of posts in our
application here is we're going to need
to have that data accessible somewhere
and we're going to need to loop over
that data and display it in our template
we could of course just hard code the
list into the template but I want to
show you how this works we've done some
dynamic data so I'm going to come here
first and I'm just going to create a new
member variable and we'll just call that
post and just as a default we'll set
that to an empty array okay now what we
want to do is any posts that we have in
this array we want to display that in
our template so we can come to a
template here and we'll just get rid of
this boilerplate code and we'll create a
basic I on the list so we'll create an
eye on item as well for now we'll just
put some static data now to say hello
and then we're going to loop over this
item for each post we have in our poster
right here so we can use the ng for a
structural directive structural
directive here which is going to loop
over that for us and it's going to
create an eye on item for each post we
have so we need to write the letter post
which will create a reference to a
specific post of posts which is the
array that we are looping over so if I
just save that now and we'll jump back
into the browser to see if anything's
happened and all we have now is a blank
screen because we don't have any post so
to simulate a sort of common scenario
I'm not going to define the post
directly in here I'm going to create a
little load method so this way perhaps
we're loading in some data from some
server or anywhere rather than hard
coding into our application so I'm going
to create a load method which is going
to load the post for us and so when that
method is called
we will set a number of posts in that
post array so we'll just to this stop
close this stop posts equals and we'll
just create a new array here rather than
pushing them into it and we'll just
create a few objects here so we'll just
give the post a title and a summary
so we'll just create a few of those and
we'll give them different data so that
we see that they're different so by
default now we're still not going to
have any post loaded but once this load
method is called we will then load that
data into this doc post so then we'll be
able to display it so what we'll do for
now is add an eye on view did load
lifecycle book you and so this triggers
after the view has loaded which is where
we want to do any kind of things want to
do for the setup of our page here
generally it's a good idea to avoid
doing a lot of work in the constructor
so from here we'll just call this built
load so hopefully if we save this now we
should see our posts get displayed in
here and of course it don't so didn't
actually change it here so we see we've
got five items in now but we're not
actually using the data from those items
so how does credit and interpolation
here and so we can access the title to a
post-up title because we gave it a
reference of poster so we can access an
individual post using this format and I
also access the summary so we'll just
output both of those it's not going to
be a pretty format or anything like that
but it should display the data at C and
C wrote the title in the summary is
being displayed there now so that's
pretty the code here is pretty simple
easier to work with and it doesn't
really look like a problem right now but
let's say I have some more methods maybe
we have an add and add item method so
that we can add some kind of item to
this array somehow so this is going to
run some code maybe it launches some
kind of pop-up to enter an item or goes
to a new page it is some sub link but at
some point we need to pass some data
into this function here so it's going to
add that to our post array I'm not going
to actually worry about doing that here
I'll just say some code I do have other
tutorials on how to create a sort of
do style application that covers stuff
like this so I'll link to that if you
want to take a look at a more in-depth
example but for now I'm just focusing on
the idea of why provider is necessary so
we could have that add item function
then if we have an edit item function
maybe we've got a get get item function
that takes in a specific ID so you can
grab maybe just a third post for example
maybe we have some kind of reorder
function which is going to reorder that
list for us it could go on like that so
in the beginning it's quite simple but
then we could have a whole bunch of
stuff that we need to do with this list
data that's just clogging up our
homepage with all these functions and
operations and and potentially those
functions could be quite in-depth you
could have a big complicated function
that's doing some fancy logic that takes
us 80 lines or something like that and
you're just going to have this huge
homepage file and then if you want to
add other things to your homepage maybe
you don't just have a list you have some
other things as well this file is soon
going to become very unmanageable and so
the general sort of idea is that you
don't want to do that kind of logic
stuff in your in your page component
tier like this instead you want to
separate that out into its own provider
or service so that sort of abstracted
away from the page into its own little
module that you can then make use of so
that will have the benefit of cleaning
up this code here we're not going to
have such a complicated file but as well
as it also allows you to then reuse that
code easily in another page the way this
is set up now this is very much tied in
to this page so let's say if I create
another page where I want to display
this posts data I would have to just
recode this all again copy and paste it
over or something like that into the
other page but if I have a separate
provider I can just use that provider in
both pages and access that functionality
so in general try to keep the code you
have in here for your page components to
just be really basic things like hooking
up say if you click functions in here
that call some function I just have
those you know event binding setup with
your template and just a really basic
thing and when you need to do something
more complicated abstract that out into
a provider and then you can interact
with that functionality from there so
this should more more-or-less interface
with things rather than trying to do
things itself so what we're going to do
now is separate this code out
interpretor provider so I'm going to
show you how we could modify this so
that it does the exact same thing but
instead it's going to use a provider so
to create a provider we can just use the
generate command from I ionic the ionic
command-line interface so I'm just going
to stop running this mount with a by
hitting ctrl C and then I'm going to
generate a new provider by running ionic
G provider and we'll just call this post
that's going to generate for us now and
you may have seen it pop in over here
and so this is our post provider and now
before we can use that we need to set it
up in the app at the apps more drill
file so we're going to have to import
that in here
and then we just need to add it to the
providers array okay so now let's take a
look at how we're going to move all this
into at the post file so basically what
I'm going to do is just copy and paste
all the lids cut that out and we're just
going to paste it in here instead we can
get rid of the HTTP method the injection
here because we're not using that I'm
going to make an HTTP request but you
may want to do that wait we just have
the post defined locally here but you
may want to make a HTTP request to load
those from a local JSON file or or from
a server so you may want to keep that
but we're just going to get rid of it so
we don't need it okay I'll just save
that and since we're trying to attach
these posts to a a post member variable
also going to have to add that into our
provider here just like we did in the
home page so we'll do the same thing
we'll just create a member variable
called post and we'll just set it to an
empty array by default and so now this
sort of has the same functionality that
we defined in home page where once the
load method is called it's going to add
those posts into this member variable
here but we still need to get that data
into our home page so as a home page
template here somehow and so to do that
we're going to have to set up the
provider in our home page we don't
actually need this post variable anymore
because we're handling in the provider
now now we can't call this load anymore
because that it doesn't exist in this
file but what we can do instead is we
can import that provider so we just
created
and we're going to have to inject it
into our constructor here as well so
we're just going to name this post
service and now that's going to be
accessible from anywhere within our
class here so we don't want to call the
load method in here anymore
we want to call the load method inside
of the post service so instead we'll
just access that through this dot post
service load so let's see what happens
if we run the code as it is now so I'll
just serve it
okay so I've just got a an arrow here
looks like I've written the wrong path
for the input if we jump back into looks
like the module file a written provider
and sub providers so save that and try
again all right so that's loaded up now
but nothing is happening here and that's
because we still haven't quite finished
what we need to do yet so we've loaded
the post service here so hopefully that
should be hitting this and loading in
that array of objects into the member
variable but the problem is that in a
template we're still referencing the
post variable which we used to have here
that is an exist anymore so what we need
to do instead is reference the post
array in the provider instead and so
since we've injected that here it's
going to be available to our template so
instead we can just do post service got
post and we can keep everything else the
same so save that and take a look and
now you can see that our items have come
back here so if we take a look at our
home page now we have a very very simple
class here we've taken out all of the
the logic for the handling post loading
them we didn't actually do it but also
the logic for adding items and editing
items and doing whatever else we need to
do all of that now lives in this
provider so we don't have to worry about
it messing up our code here we don't
have to scroll through tons of code when
we're making simple changes and we can
now also use this wherever we want so if
I now go and make a some kind of second
page I can just import that provider
inject it into the constructor and then
I will have that data available in the
template of the second page as well and
I can also call whatever functions I
need to call on there so if I had a
button in here to add an item I could
just have a add post function set up as
a quick handler so we would attach that
to say maybe a button we have in the
header here and then I just need to call
this dot post service dot and what did
we call the function we've got add item
so that would probably take in an item
here and so then we would pass that item
through there so it's all had item post
and this function would also accept a
post in some form so now rather than
having a lot of code to handle doing
things here which make a simple call to
the post service and it handles at
forums so I hope that sort of
demonstrates the benefits of using
providers rather than doing things
directly in your page components if you
find yourself writing the code for your
say home page here or any page or
component in your application it's
starting to get a little bit complicated
is starting to do some logic type stuff
in there just think whether it would
make sense to move that functionality
out into a provider instead and if you
do that along the way if you do do it as
you go rather than trying to fix things
once you have a big mess of an
application it's going to be a lot
easier in the long run okay so I hope
you enjoyed this tutorial and I'll see
you in the next one
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>