<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Android App Development Tutorial 42: Making Operators Work | Coder Coacher - Coaching Coders</title><meta content="Android App Development Tutorial 42: Making Operators Work - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/codedamn/">codedamn</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Android App Development Tutorial 42: Making Operators Work</b></h2><h5 class="post__date">2016-07-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/aWoornAaU2Q" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so what is going on everybody my name is
Miho and welcome to your 42nd Android
application development tutorial in
which I'm gonna show you how to add
functionality to these buttons right
there and you might have noticed that we
are missing the period button which
would be useful which would have been
useful to work with floating-point
numbers but I realized that it would
just kind of extend the number of
tutorials but wouldn't do a lot of you
know it wouldn't require a lot of things
from Android because it just requires
some sort of logic or algorithm
implementation but there's nothing sort
of learning Android in that particular
implementation so I'm just gonna leave
that because that would just you know
add to our time and you know it would
just make our code a little bit more
complex
nothing much so you can just try it
yourself if you want to but I'm just
skipping over that so I'm just gonna
implement these one two three four five
buttons and after these five button
implementation you could probably just
implement the square root as well so
what we need to do first is that
actually I have assigned this operation
method right here to all these five
buttons for now excluding the square
root and we have this operation method
right here so what I'm gonna do and this
operation method is that I'm just gonna
get this same thing but then I'm gonna
say string opie is my operation
which would be be dot get text dot two
strength then I again need number but
let's just change variable names so that
you know it doesn't create any sort of
conflicts the last num and we need to
make sure this also long here
then finally what we need is we need to
check for various operations right now
this could be actually a little bit
weird to do in a single function it
could just extend the length so we can
just chop it down into various functions
or for now at least just one function so
again we need to just get a variable
result and what our approach would be is
actually actually I'm just targeting the
small display from this line which we
added in the last tutorial so what our
approach would be is that we would be
adding the number or you know whatever
associated operation into this small
display and then the when the user
finally presses equal to then we will
display the main result into the main
field otherwise we'll just display it in
the top right number plate or whatever
you call that so what I want to do here
is actually say that result equals
calculate and then what to calculate
here well I want to calculate the result
from the result itself because remember
that we would be you know kind of making
sure that the result variable is
up-to-date and then I need the last num
to perform some operations and what
operation I need operation one and
there's a slight problem here is and
that is that right now with OB variable
what we are doing is that we are passing
the current operations so for example if
the user presses equal to then what
would happen is that this opie would
contain an equal to symbol and let me
just show you what would actually happen
instead so let's just create a function
public would calculate and then just say
that it accepts the long result long
last num and then string o P right and
then I'm it's just gonna quickly say
that if Opie equals plus then what I
want to do is return result plus last
num else if and actually this should be
long instead of void else if Opie equals
negative then Britain result
- last num else f o P equals x --m else
if opioids divide divide and otherwise
I'm pretty sure that the equal to button
is pressed so I just want to return the
result so that you know when the equal
to button is pressed again on a
particular number we don't actually just
misbehave we just keep the number right
there so the problem with this button
with this approach right here is that
whenever you are on a calculator screen
like you know just leave that so let us
say if you open like if you write like
five then you press plus right then if
you write three then you press equal to
then for this calculation what happens
is that for the result the o P is equal
to so instead of doing a result plus
last Nam which would be five plus three
it would simply return as result so what
we need to do is actually pass in this
plus instead of this equal to inside o P
so we need to actually store the last
operator used so for that what we can do
is say that it create a string here last
OB and let's set it to equal to just in
case a person in serve doing any
operation just press this equal to so
that our program doesn't crash right so
now instead of this OB I'm gonna pass
last Opie here now we need to set our
small display value as well so let's
just make sure that we don't forget that
so small display dot set text and this
would be string dot value of and this
would be result and then I would just
like to add the current operator as well
so that we could just see what is
happening with our result right so and
one more task that is left is that we
need to create public void here you we
and we need this view V argument for
this call right there by this call so
what I'm gonna do is say display dot set
text as 0 actually not blank so what we
can do is that we can just call in clear
right there and pass and now and it will
just clear whenever there's a operation
tab so now we can just give some space
to user for entering new number right so
yeah so let's just test this out and
actually no not yet because we are not
doing anything when they equal to button
is pressed so what I want to do is say
if Opie equals equal to then what I want
to do is say that display dot set text
is the spring dot value of result and
last num fall back to 0 and result
should fall back to 0 so now we can just
get a fresh clean start and looks pretty
cool now and let's see if this works or
not and right here we are
one plus one plus one plus one equals
three okay so it's kinda like we are not
getting our last result as you know as
the return value because I cleared this
and say one plus one equals it gives me
one instead of two so we are missing a
number and the reason for that could be
actually the reason could be that
actually we are not setting it to zero
because right here on the first go
this value is kind of nothing right so
we need to actually make sure that this
is zero so if I do like one plus one
plus one equals and it gives me again
two actually
let's just try to reinstall the app
maybe it's actually we could just do
right here we can send small displayed
set text as zero so that we just verify
the code was updated or not and say now
one plus one plus one equals it gives me
again - so there's some sort of problem
with our code only okay so we could
probably just debug it so I can say this
is custom tag which we are making use of
so this will be last number and this
would be string dot value of last now
similarly we have this as our result
right and okay so let's just see what
happens now and if I press 1 2 plus we
get last number as 12 and result number
as 0 okay oh ok so actually we should
return last number here instead of
result well that was a lot of a bug okay
so anyways now if I enter 12 plus 12 it
looks fine 24 plus 5 equals 29 perfect
okay so now we have implemented this
thing right and if I do like 5 times 3
plus 5 it gives me 20 because 15 plus 5
is 20
okay now the problem is that what
happens when I try to switch signs
without entering a number like if I do
like five or actually clear this was
five plus and if I do like minus plus
minus pretty cool but the problem arises
with these two if I do multiplication
and if I don't switch with plus you can
see that my digit changes to zero and
the reason is that that this last number
becomes zero when I press o P equals x
then it returns result x 0 that becomes
0 so after pressing that multiplication
whatever I do the result my result is
actually zero so to fix this what we
need to do is actually we need to keep a
track of this thing again if the button
is clicked without pressing any number
or if it is clicked after pressing some
number so we just fix that thing in the
next tutorial because that is all for
this one and if you liked it then don't
forget to subscribe and thank you for
watching I'll see you then in the next
one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>