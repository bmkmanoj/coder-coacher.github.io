<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>ExpressJS Tutorial 25: Create Login App - Part 1 | Coder Coacher - Coaching Coders</title><meta content="ExpressJS Tutorial 25: Create Login App - Part 1 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/codedamn/">codedamn</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>ExpressJS Tutorial 25: Create Login App - Part 1</b></h2><h5 class="post__date">2016-03-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/BnLOTQP5tZk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what is going on guys my name is Miho
and welcome to our 25th node or rather
express again I should say tutorial and
in this tutorial we'll be finally
creating a simple web application which
would just authenticate the
administrators or the moderators of your
website so if you are kind of looking
for a membership based website then you
might want to implement a login feature
and to do that you can make use of
nodejs
using this tutorial so this tutorial is
gonna be a real simple one I'm not going
to go deep into security implementation
and all that stuff but obviously you
need to do that one once you are
deploying your application online so to
begin with after the simple login dot
HTML inside my files directory which
just simply says that it's redirected to
the login page and then method is post
and then these three input values then
we have this script 19 GS which was the
tutorial the 19th one in which we made
use of the post request first time so
without wasting any time and just going
to copy and paste this whole bunch of
code right there and yeah so once you're
done with this we need to include a
bunch of more files so I'm just going to
get rid of this file system for now and
the path one as well and I'm going to
get rid of this one as well and probably
I'm going to get rid of this one as well
so we'll be just making use of this
files and extra HTML or whatever we'll
place there so we're going to get rid of
this one as well and this one as well so
now our app looks kinda neat but we need
a bunch of stuff as well for examples I
need a sessions and require Express
session and these sessions would
actually enable me to make use of
sessions like you had on you have on
Facebook like if you log in on Facebook
and just close the tab or go to some
other page then when you come back to it
you don't have to log in again so that
is because of sessions Facebook stores
some sort of data on your browser and
once you visit the Facebook website
again it the browser sends data back to
server and then Facebook authenticates
you without you know creating any fuss
or requiring you to log in again so
again what I'm going to do is then we
need to install this express session
because it's not as it is available
so let's just say NPM install Express
session make sure you're on the same
directory so we are done with it
little package so the next thing is that
I actually want to create a session so
how do I do that well first of all let's
just create lar what do you call it
let's just say session and this is a
global variable so that we can access it
in our application somewhere so I'm
gonna say when this is post to login
actually so let's just change this go to
login and whenever there's a post
request to login then what I want to do
is that I want to say if request dot
body dot username is equal to admin and
request dot body dot password is equal
to admin then I want to probably create
a session session not ID is equal to let
us say this is
request dot body username now this might
seem a bit weird because we are just
simply assigning session dot ID as
requested body dot user name without any
encryption or something so to do that
first of all let's just make use of a
bit of encryption and to do that we can
make use of app queues then we have
session then we have a lot of stuff here
so we have secret as this secret would
be the you can say a kind of key which
would make use of you know which would
be made use to encrypt this data which
is requested body dot username so this
should be only available to your
webserver only so let's just say this is
some random bunch of stuff so this could
be anything you want but make sure it's
you know not guessing boats otherwise
this could be decoded so the next thing
you can either make use of this one or
you will get a warning or do you just
avoid a warning you can just go ahead
with JSON and have that use body parser
dot URL encoded and code it yep extended
true well both of them means technically
the same thing but that body partial
constructor would be going as deprecated
real soon so you might consider using
this one so again we have this thing
right here set it up correctly and we
are setting a session here then inside
the get okay so finally we need to send
a response so what I'm going to do is
response dot redirect to redirects so
right here will manage our all of our
redirects so I'm going to say apt-get
redirects function requests
once there should be probably inside
that and I'm going to say if there's a
session ID then what I want to do is
response dot redirect to admin otherwise
I'm gonna say response dot n2 are you so
that's pretty much for this application
and let me see if you're missing
anything no doesn't look like so let's
just try to run this I'm gonna say node
Mon Script 25 GS
okay so do we say session is not a
function
oh this should be sessions I guess let
me just run that again okay so we are
good to go
we got a couple of warnings here
undefined resave and say initialize well
you can just get rid of them actually by
making use of this resave outer core for
boolean here and this one as well so so
as you can see the errors are gone the
warnings kind of so again let's just
wait at the login page ok nice your good
name well let's just one just to login
or HTML reload again we are good to go
so this should be lets say ABCD ABCD
login ok so we have got can set headers
after they are sent
AHA post response dot and
this should be commented out I guess
reload ABCD ABCD login cannot read
property ID of undefined okay
session dot I D we are we probably after
 at the Secession is equal to
request not session I guess I missed
upon that so yeah you need this line as
well so again we will need the same line
here as well so that we can just access
the same session again and again and not
create a new one every time so log in
ABCD ABCD hit enter
cannot get admin that's good but why are
we even redirected to admin okay
redirects we are redirected to redirects
that's good enough then we can console
log our session and if I go to login
again and then we have ABCD ABCD login
okay so we have session as cookie this
bot experts now session ID new session
ID then login ABCD ABCD ok so we have a
ID right there right
alright if I kind of change this to
unique ID and what about that
okay login okay so that might be the
case that ID was already registered with
sessions so just made use of some other
variable name right there so again now
since this is a session we are actually
not getting we are actually getting the
same page so fix that we can again make
use of a simple thing if session dot ID
is set then request or response dot
redirect to redirects simple enough and
for post as well and forget as well so
reload okay so we need this one again
reload who are you login all right so to
kill the session what we can make use of
is that if I just create a link here it
stress slash logout kill session and if
I add another part here I don't get
logout function request response now to
kill the session what we can do is I can
see request dot session dot destroy
function and inside this this is the
basically callback function and the
parameter I guess is the error one so if
there's sort of error you can just
console.log it and redirect the user to
response start redirect to login
so let's just take a look at this again
login okay so that looks like we are
just rendering some sort of text only
there so let's just leave that for that
only let's just was it this directly we
can make use of request or to send
actually okay so
this should be unique ID pretty much
based upon that simple I expected token
at unique ID not a worry login admin
admin hit enter we are redirected to
admin simple enough let's go to logout
okay we don't have any sort of content
set there so this is going to wait
forever login ABCD ABCD enter who the F
are you so that's how you pretty much
quit a basic login app with Express and
node and in the real life you would be
making use of not like this line you'll
be actually requesting it from some sort
of database like MongoDB or something
like that so I'm gonna cover that as
well really soon and that might be in
different playlists so for this tutorial
I guess that's pretty much it and in the
next tutorial we'll be covering more on
this application and we'd be enhancing
it out a little bit for some sort of
security features or something like that
so if you like this then don't forget to
subscribe and thank you for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>