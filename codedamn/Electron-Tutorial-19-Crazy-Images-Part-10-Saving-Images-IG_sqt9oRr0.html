<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Electron Tutorial 19: Crazy Images Part 10 - Saving Images | Coder Coacher - Coaching Coders</title><meta content="Electron Tutorial 19: Crazy Images Part 10 - Saving Images - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/codedamn/">codedamn</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Electron Tutorial 19: Crazy Images Part 10 - Saving Images</b></h2><h5 class="post__date">2017-06-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/IG_sqt9oRr0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so what is going on everybody my name is
Mei hole and welcome to your 1911
framework tutorial in which we're going
to finally implement the safe
functionality so saving this image would
be tricky because first of all we are
making use of CSS filters which is not
really modifying the mage right it's
just it is just visible on your web page
with HTML and what the problem is is
that you cannot even export an image to
html5 canvas with all those CSS effects
because if you know that if you can
avoid the image to html5 canvas you can
probably just screenshot it so what I
thought about about fixing this thing or
rather implementing these things was
that we can actually screenshot this
image but the problem is that when we
open the image we actually shrink it a
lot right so this is actually a 720 1280
by 720 image which is thing too I don't
even know the size so if we screenshot
this with electron that kinda would work
but we lose our original resolution so
what I thought was to do something like
this we're going to open another browser
window from our regular process which
would contain only this image with it
with its dimensions and what that would
do is that would run in the background
and we're gonna screenshot that window
instead of this smaller window so that
we get our original resolution image as
well plus the screenshot so we have a
lot of work to do let's get started
let's just move to our save and what I'm
gonna say here is constant browser
window is remote and I'm going to create
another window led to when is the new
browser window
with some properties throwing in here
for an estate spray into Falls we're
going to show the false so that we do
not get any window actually we don't
want to show the user that we are saving
this now we need the width and the
height so that we just only screenshot
the proper screen in sales and we do not
get any transparent pixels and all that
stuff so for that what we need to do is
actually get the dimensions of the image
and four dimensions we're going to make
use of a node module and we're going to
say NPM install image size I'm going to
spaces and just let it install and what
this would allow us to actually get the
size the dimensions of the image right
so again we hop back to our service and
we get to say this dot set image
dimensions is dimensions I'm going to
say image path or for dimensions is an
array and image dimensions let's say and
I'm Leslie this is dimensions is H
dimensions and see the cells get image
dimensions are they gonna return
dimensions so to set the dimensions I'm
going to go again here I'm going to say
image dot set dimensions and dimensions
here okay so now how do we get
dimensions well you get dimensions first
of all we need to get the size of module
which is the image size module and then
since we have the part of the image with
us we can simply space the size of the
image part and it will just
automatically give us the dimensions
which would contain dimensions that
width and dimensions
dot height as the dimensions of the
image right so yeah that's pretty much
all we need to do and yeah looks good so
what we can do now is very much since we
are including this image the risk we can
see image dot or rather let's say four
dimensions this image that get
dimensions we can say dimensions start
with and that mentioned start height and
I'm just going to set it to true for now
so that we can at least see what's
happening and finally I'm going to say
windowed loadurl and this would be less
the state data text/html because we are
just looking for a simple page so I'm
going to add a little bit of style
margin:0 padding:0 so that we do not get
that 8 pixel margin or something like
that which is default margin in browsers
and then finally we can insert our image
IMG SRC and that would be our image
source right can say lettuce RC image
don't get image spot and I can say start
seeing here and I can say style is
filtered and right here I'm gonna write
my styles here as well and I can get
those tiles as let's Kyle's is a image
reference dot style dot filter remember
we set the property using style of
filter so we can get it back as well we
can say styles in here simple enough and
yes so that pretty much launches our
browser window with our image embedded
inside it with both fake dimensions so
let's just hope and see how this looks
like you are
and Alex I just increase the brightness
and save it okay we do not get anything
because we are missing a comma here
right so e1 brightness and crease save
and we get a broken image I can see if
they're okay so it saves me that it is
not allowed to load local resource I
think that can be fixed what we can do
is actually launch this instance of
browser window in the web options where
the web security has false so that it
just allows us to load the local
resources because by default chrome
disables and functionality so that
people can just randomly walk into your
computer and load local files and it's
actually the Preferences in all your
options once a web security with
security is false and that should get us
to what we want and rightness save okay
you can see that we get this big giant
jumbo window with the styles if we see
all those tiles applied right so what we
want now is to actually screenshot this
so we can screenshot this using
something known as a screenshot mode for
electron and there I'm going to show you
that in the next tutorial because I
guess it over eight minutes now so that
is all for this tutorial
and in the next tutorial we're going to
finally screenshot and save this bad boy
on our computers so that's all for this
one and if you liked it then please
don't forget to subscribe and thank you
for watching I'll see you then in
next one really quick</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>