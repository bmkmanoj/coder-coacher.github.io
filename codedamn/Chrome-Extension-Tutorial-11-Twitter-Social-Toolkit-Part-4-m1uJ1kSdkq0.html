<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Chrome Extension Tutorial 11: Twitter Social Toolkit - Part 4 | Coder Coacher - Coaching Coders</title><meta content="Chrome Extension Tutorial 11: Twitter Social Toolkit - Part 4 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/codedamn/">codedamn</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Chrome Extension Tutorial 11: Twitter Social Toolkit - Part 4</b></h2><h5 class="post__date">2015-04-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/m1uJ1kSdkq0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright guys and welcome to our 11th
Google Chrome extension development
tutorial and in this tutorial we'll be
continuing with our series of Twitter
social toolkit extension development so
in the last tutorial we learned about
how to create and get the selected text
of the user with the help of this
context menu
so now let's learn how to differentiate
between different context menus in
Chrome we have selection link image
I guess link image selection and we have
one more
you can grab my thoughts selection link
image and what we have yeah bitch
so we have and we do have many more but
these four are the major ones and the
ones we will be using in this extension
so these four work as follows the
selection world as the name suggests
would appear when a user selects a
certain text and right clicks here so
this one fires on the selection one
which is the current one the link one
fires when a user clicks right clicks on
a link the image one fires when user
right clicks on an image and the page
one fires when the user clicks anywhere
on the page anywhere instead of these
three so one way of setting all of these
information to the four ones would be
like doing four copies of context menus
but this creates kind of a mess so what
we'll do is we'll be using for loop so
to do that first of all let's create
context
list let's set each do selection link
image and page alright and now we need a
for loop for Michael 0 is less than
context context list dot length and just
I plus plus so here we go and down here
we'll declare some variables I want the
title to be social toolkit let's say
only Peter to get and share this and
then we'll do some dynamic stuff let's
create another variable context which
says on text list I'll explain
everything what I'm doing right now
share this context
on your Twitter profile and we want to
have
nothing show we're done
I'll just name it title X because we
already have title down here so we've
got Tyler legs gone text us they've gone
next one and on click my function okay
so what you're doing here is in a for
loop we are basically creating a
variable context and get with this
variable stores each of these values for
per loop so in the first run of this
loop context would have selection title
would be Twitter - wicked share this
selection on your Twitter profile for
every selection the context menu dot
create would inherit or basically grab
all these all this information we have
set in the loop so now in this function
we need something something to have to
differentiate between the selection link
image and page context so we assign ID
down here ID and we'll just set it to
context
now what would happen is this ID would
contain this one of these four
information so when this function is
called we could actually grab this ID
and verify this function is called for
which purpose so let's say switch select
it or just rename to data because we
have now instead of selected takes a lot
of stuff switch select data dot menu
item ID now what it does is the caps
tells the chrome to differentiate this
ID from this so basically it would grab
this ID
that means this ID down here into this
data out menu item ID so every time it
would return a different ID based on the
user what the user is doing actually so
we are switching data dot menu item ID
and for the first case we have selection
if the ID is selection then we want
let's see we want chrome taps create URL
instead we want text here let's break
the stay the next thing we want
selection is link again let's copy this
let's replace text with URL and data
does selection text with link URL now
this gives us the URL of the a href link
again let's break out of select now the
case should be now image so the image
should give us SRC URL IMG SRC if you
remember let's break out of this in case
of page we'd like to grab the title of
the page
but how we'll do that I'll explain that
in the next tutorial but for now let's
just hard code this by my page so we can
see that it's actually working
so here we go and spread this out and I
guess we are ready so let's reload our
extension down here here we go the
selection one first on just let's go to
Google would you keep that thing square
because
okay so let's select this text right
click whoa was the selection text so my
function context list create title eggs
let's see what's wrong with the
background script
okay and got error invalid value for
argument one property context expected
are a but called straight context list
ari
okay sorry this context down here
accepts an array but we actually gave it
a string so you have to put angular
brackets with that now let's see if it's
okay now yeah let's select this text and
right-click we've got this selection and
you notice the title says share this
selection of selection is dynamically
grabbed here context by this list the
selection fires only when the user
selects something a right clicks on it
so here we go text says google code-in
slash off but whatever we selected here
so far so good
now supposingly I want to share this
link now I right click on this link like
a magic our context menu say history the
tool can share this link on your Twitter
profile and here we go we have this URL
right here
cool the next thing we had is an image
here so this is an image this is
basically a background image we need
something yeah my profile photo over to
know maybe this
let's search for an image
I'll just go with this
okay so right-clicking on this we get to
the toolkit share this image on your
Twitter profile so just like this we
copied the URL of this image
automatically into the URL of Twitter so
when you'll share this the image would
automatically pop up in your timeline
and about the page then we get right
click anywhere on this and we get
Twitter - we'll get share this page on
your Twitter profile now to grab the
title of the page could be a bit
time-consuming and explanatory so I have
currently hard-coded this as my page
only and in the next tutorial we'll be
learning about how to enhance this code
and make it a little better so stay
tuned with me and don't forget to
subscribe thank you for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>