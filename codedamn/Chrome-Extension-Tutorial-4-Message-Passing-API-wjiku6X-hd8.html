<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Chrome Extension Tutorial 4: Message Passing API | Coder Coacher - Coaching Coders</title><meta content="Chrome Extension Tutorial 4: Message Passing API - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/codedamn/">codedamn</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Chrome Extension Tutorial 4: Message Passing API</b></h2><h5 class="post__date">2015-04-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/wjiku6X-hd8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello youtube and welcome to your fourth
Google Chrome extension development
tutorial and in this tutorial we'll be
looking at something called message
passing in Google Chrome extensions now
what does message passing do and how it
is useful so first of all message
passing is an API of Google Chrome which
is used to pass messages from one
environment to another or basically from
any script or any page to any another
script in the extension and the same
extension or maybe even different
extensions so why it is useful
supposingly
I run a content scripts indeed this
environment right here and I want to
send the information to about the links
and their values to background script
and then background script creates an
icon right here when we click this icon
it shows a pop-up list with all the link
information and the anchor text and all
like that so with the help of content
scripts we cannot modify this pop-up
content right here
but if we use background script somehow
then we can modify this content right
here but background scripts as you know
run in an isolated environment and do
not have access to the user Dom so what
we can do is we can grab the information
we want from the user Dom using content
scripts and then we can pass this
information to the background script
using message API
so in this tutorial we will be creating
a simple message passing API to do that
first of all in your content script
defining the manifest of JSON right here
go ahead and type Chrome in dot runtime
daaad
send message and in the parentheses
supply the message you want to send
and in the background script we want to
receive this message sent by the content
scripts so what we do is which I roam
dot runtime dot add our listener
basically before this you write on
message chrome the cron time on message
dot adlistener
and then a function
we supply three arguments which is
response sender and scent response you
can name them anything you wish I've
just named them clearly so that it's
easy to understand what is the function
of each now this response argument holds
whatever the response is sent by this
content script right here the sender
holds the information about the tab
which is sending this information to the
background script so we can actually
grab the tab ID and other tab
information from the sender argument and
the sent response function right here is
used to send back the response to the
content scripts currently we do not want
any response back so we are not using
anything to grab the response sent by
the background script okay so let's see
what we want to do with our response
argument let's simply alert this
response argument and see what happens
now let's reload our extension
and let's look at some page
say Google and as you can see we get the
alert box hello world so now what
happens is in the manifesto JSON and we
have the content script matches wild
card as every HTTP page and every HTTP
pH as well and Google right here is an
HTTP page and whenever this match occur
which is obviously it's occur on this
page
the manifesto JSON orders the extension
to execute the script in the context
environment and when this happens this
script sends a message with the help of
chrome runtime dot send message API to
the background script now on receiving
this message this function in the
background scripts become active and
then this function using this function
the argument response is alerted with
this code therefore we get this alert
box right here which we got earlier
okay so to do something more dynamic
what we can do is document dot
okay so now let's reload this extension
and
as you can see we got Google now this is
a kind of dynamic application you want
so what's happening right here is
whichever we page visits this JavaScript
I assume you know JavaScript very well
so I won't be explaining the school what
it does and how it does so this
JavaScript right here grabs the title
the inner text of the title attribute
right here the inner text of this title
attribute right here and then it passes
it as a message to background scripts
and background script and alert this
message so this message would be
obviously different for every page
because every page has different title
for example if I visit interest
so on wizarding Pinterest I'll get a
complete different message with the
title name of Pinterest let it load
and here you go we have got the title as
an alert box of Pinterest
similarly with different pages will get
different alert boxes because this is a
kind of dynamic application which grabs
the title of every page sends it to
background and then alerts it Twitter as
we see okay so
this was all about message passing the
basics of message passing and this
letter is actually not relevant if you
are using longtime connections in
message passing like supposingly if you
create a chat system then you cannot use
actually this message because then
you'll need to write thousands of
commands and loops do pass message so we
have a different API for long-lived
message passing connections but we'll be
mainly using this API to send messages
to background script and other pages
well this tutorial was all about message
passing API and Google Chrome and in the
next tutorial I don't know what we'll be
discussing but that would be pretty
awesome and that's all for now and I'll
see you in the next tutorial then thanks
for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>