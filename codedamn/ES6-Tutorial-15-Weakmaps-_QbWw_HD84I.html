<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>ES6 Tutorial 15: Weakmaps | Coder Coacher - Coaching Coders</title><meta content="ES6 Tutorial 15: Weakmaps - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/codedamn/">codedamn</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>ES6 Tutorial 15: Weakmaps</b></h2><h5 class="post__date">2016-03-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/_QbWw_HD84I" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all right everybody welcome to your 15
es6 tutorial of my name is metal and in
this tutorial we'll be talking about
week maps in es6 now week maps is yet
another implementation a new one in es6
and what is pretty much it just allows
you to bind a key value pair and this is
a week map because there's not a lot of
restriction on what the key would be or
what the value could be so technically
your key could be anything and your
value could be anything like from a
string to a number to an object to a
function whatever you want it to be so
we can actually just learn about them
and implement them in this class to just
you know solve a problem which you will
just see in a moment let's just say you
have a third-party website code which
you are including just after in this
line so what this third-party website
code by chance includes is that let's
just say that website also has some sort
of class like my shape and it includes
like my shape dot let's just say this
one is shape name equals square squ re
so now instead of getting this response
what you'll get is 100 now technically
you wanted the area of a circle but
actually you ended up with the square
now that is because your properties are
not only readable but writable as well
outside your class code so weak maps can
be used to fix that that's one of the
options so what I'm gonna do first is
I'm just gonna wrap up this function in
a variable let's say this where you will
shape itself and I'm gonna keep this
variable as this as a function and I'm
gonna execute this as well and the end
I'm gonna return shaped class now
remember that
this shape is actually a class returned
and this pretty much is any variable you
like so we have created an anonymous
function call and this should probably
will you work absolutely fine just like
before but our problem is still there so
the next thing we need to do is
implement a week map so let's just say
let WM 1 is new week we mapped all right
down here what we can do is we can say W
1 1 dot set and basically we could just
change this to allowed shapes so that it
makes more sense this and then this
thing right here so what happened here
is that you have assigned this as a
value a key value of this and then this
is the value now technically anything
would go like in here like this one as
well or something like this one as well
or something like a function as well so
that is why there's a weak map but I'm
just gonna go with this for now so let's
just get rid of this one let's just say
let shape name there's a new weak map
pretty much again we need shape name
that set this and shape name and
similarly let's just do that quickly
with dimensions dimensions dot set is
this and then dimensions all right now
that's good but we need to retreat that
data as well so to do that we'll make
use of the get method now again to make
use of that we'll need to make some
changes here so instead of now this dot
shape me in shape name you're gonna say
shape name not get
so that's sort of rearrangement a little
bit if you can see like that
now again I'm gonna say dimensions dot
get this and again this it right now
refers to the key value and pretty much
yeah that's it for that this one so I'm
just gonna quickly added that damage
then need to change this one to shape
name and they start aloud shapes to
allowed shapes don't get this all right
looks like we're done no not really
the shape name let's just copy this
thing are we done
yeah looks like so here's the browser
let's reload shape name dot set is not a
function okay so there's a sort of
conflict right here so I'm gonna say
this as my shape name and as well my
dimensions and pretty much that should
work so let's reload now as you can see
that this guy has no power here so no
matter whatever he writes you cannot
actually change this week map because
this is binded to disk keyword and this
keyword obviously the scope refers from
one place to another so pretty much you
have learned about week maps and es6 and
a solution to this problem as well right
now so if you like this tutorial then
don't forget to subscribe and thank you
for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>