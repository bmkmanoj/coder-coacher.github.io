<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>WebSocket Tutorial 9: Simple Chat Application - Part 1 | Coder Coacher - Coaching Coders</title><meta content="WebSocket Tutorial 9: Simple Chat Application - Part 1 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/codedamn/">codedamn</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>WebSocket Tutorial 9: Simple Chat Application - Part 1</b></h2><h5 class="post__date">2016-11-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/bJQQgqxQoxI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so what is going on everybody my name is
May ho and welcome to your ninth
WebSockets tutorial in which what I'm
gonna do is I'm gonna start off with a
WebSocket application which would be
kind of like a group chat right so
people can come in and join your chat
room and then the message that type and
send would be broadcasted to everybody
who's online or who's connected right so
let's just make this school application
and you might who knows couldn't make it
for your school or your college or
anything you know your own application
own chatting application right so yeah
let's just implement this okay so the
basic idea on what this app would work
is that we just start off by connecting
clients and then whatever there's a
message we would broadcast it to
everybody who's online right so that
should be simple to do so what I'm gonna
do in the front end there must not be a
lot of change we could just actually
just make kind of a design or something
like a box your text messages would
appear so we could just move this log a
bit and reload this and inside our
inspector we can just style this like
I'm just doing some random width and
height you might want to actually just
you know make sure that it fits properly
on your device and then I can just give
it a bar of radius this would be our
kind of screen where the messages would
appear so let's just make it 300 for now
right and yeah that should this
I'm just gonna keep it in a single file
right now I'm gonna create a lot of mess
right and then we have let's say divide
e send controls there we go
send controls like you do I can say that
it's weird again I'm just gonna do some
real quick CSS I'm not following best
practices you know there are better ways
to Center this but I'm just gonna do it
kind of hawkish way so margin 30 pixels
photo that right there we go so this
should at least look good on my screen
right so for now if I do something like
node indexed rjs and hit enter reload
this send something it's in we get from
server send right so right now if I just
open some other instance as well we get
all that boring text from server and
nothing is updating here right so let's
just change that a little bit so in my
server what I wanna do is I want to say
that when I receive a message
first of all receive send a message to
console but the next thing I want to do
is I want to broadcast that particular
message to every client which is
connected to you know my server right so
what I'm gonna do is I want to I trade
over all the connected clients and the
place from where I would get those is
this one right so what I'm gonna do is
I'm gonna say
s dot client clients actually and then a
for each loop then we just pass in a
function this would go ahead right I'm
gonna say client don't send the message
right the thing we got from the user
okay so let's just
I guess I'm should probably install node
Mon I'll just do that later on this and
see if this one as well we get okay yeah
I'll just remove that console connected
statement anyways if I send ABC here you
see we get ABC here as well now that's
cool but what the heck is this from
server ABC okay so we can just get rid
of this thing now another thing is that
what happens is that this ABC is
actually coming from server right so
it's not that if you have written your
message hit send and it's appearing here
no it's not so let's just say if your
socket goes offline and if you send your
this message won't appear here so you
know that's not typically what happens
in a chat application because your
messages are immediately you know you
can see them in your chat window or
something
so what we can do is that inside our
index dot HTML we can say that sock dot
on message we can just console.log this
thing and what we have here a log dot
interests here and yeah okay that's fine
but what I want to do actually is that
God sent text I want to move actually
just copy this thing right here and say
you and then something like that so if I
hit reload and make sure I started the
server and send like hello send we get
us undefined because this is not even
dot data this was text reload hello
send you hello where we get hello again
so what I want is that I don't want the
server to send the same message which I
have sent to server to me back again
right so what I can do is I can say that
if client is actually WebSocket which is
my current WebSocket connection right so
you see that s contains the list of all
the you know clients connected but this
WebSocket is particular connection of
that particular client right so if
client is WebSocket then I want to just
continue otherwise this will execute so
save this reload okay yeah we are using
for each loop what we can do is
something like this there we go
reload hello send we get hello and this
guy no because it wasn't connected so if
I send hi now send you see we get hi now
that's pretty cool and yeah so that is
how pretty much you build an application
like if I say hello from the other side
if i had said we get you hello from the
other side here and hello from the other
side here that's cool but we are missing
a lot of details here we don't know
which messages sent by what person so
what we can do is now we can just ask
the people their names before sending
and then we'd store that on the server
for that particular session and we could
even do something interesting like
assigning avatars or you know those
little pictures with the people but that
would be kind of you know way too much
for a simple application so yeah we can
just choose some colors for every user
and yeah so that is all for this
tutorial and in the next tutorial I'm
probably gonna show you how you can set
up some names here so that you can
actually identify which person is
sending what message so that's all for
this one and if you liked it then don't
subscribe and thank you for watching
I'll see you then in the next one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>