<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Chrome Extension Tutorial 20: Rich Tweet Notification - Part 4 | Coder Coacher - Coaching Coders</title><meta content="Chrome Extension Tutorial 20: Rich Tweet Notification - Part 4 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/codedamn/">codedamn</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Chrome Extension Tutorial 20: Rich Tweet Notification - Part 4</b></h2><h5 class="post__date">2015-05-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/2fdRvTlDp94" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's going on guys and welcome back to
your xx Google Chrome extension tutorial
I guess not in this tutorial as well
we'll be continuing what we developed in
the last few tutorials that is our
Twitter notifier extension so I have a
couple of changes to inform you and I
had some silly mistakes from the code
from the last tutorial and let's fix
them out quickly so one thing I need to
do is to replace all these ID with IDs
this is basically an ID is not ID the
next thing this should be I and I just
notice all these things while debugging
my code and this should also be chilly
not I so we are done with the errors and
let's get started now so for testing
purpose I set up another dummy account
and obviously my own account to work
with Twitter and
this is my notification area the
essential let's open the back on the
digital page let's quickly add some code
to work with so we have got if latest ID
is equal to IDs the no update no problem
if latest ID is undefined then we'll see
this later
why litter why not now let's create a
and notification for that and this
actually means that this feeds at first
run browser session that means the
browser is opened by the user just now
so what we'll do is I'll just make it
die basic and title would be return
modifier
and the message should be you may like
to check your Twitter account for latest
updates
maybe notifications an icon should be
same malicious
name the very well first run instead of
options so it looks kind of more than
meaningful all right so now again one
thing we need to do is to set latest IDs
to the IDS 0 so that once this is
running this is R and then the latest ID
is updated to the latest tweet ID and
then we can actually make our function
work so the next thing we need to is
I'll just copy all this code and create
a new function and I'm doing this
because we need to use set interval
which is a kind of loop a time-based
loop which would run every let's say two
seconds for now for debugging purpose
but we'll slow down this on the
production extension let's
okay so
yeah one more thing we need to do here
in the loop is that this should be J is
less than or equal to IDs dot land and
will say that if
latest ID is equal to IDs shape
then what we want to do is
we'd like to
break out of the loop that means we have
encountered with our the message ID we
had saved previously
okay so let's reload this and that was
just my previous work which I was doing
with extension so now let's look at that
again
I did see rows and everything looks good
and now let's console.log some
information
on so
first of all I would like to have the
latest ID then maybe new tweets
let's check this out boot this location
not reload and I guess in the background
or HTML ad still using just on J's on
which I tested my code so let's reload
it again
all right here we begin with the first
notification and the latest tweet is the
idea of latest tweet is this one and the
notification and need to each is a empty
array as expected so let's do some
activities here
I'll just
favorite this tweet from another account
so let's see what happens so now the ID
changed and we got a new
new tweet inserted in the array but I
want this to flash out each time this
code is run so what I'll do is I'll just
change the scope of the new new tweets
from global to the function engine and
this will just reinitialize it every
time doing blank array whenever this
function is called and I'll just call it
and the starting so that we don't have
to wait the first two seconds to run it
let's reload this all right
no activity so far and so forth let's
undo it this and now
okay so we got some tweets because since
this ID was not found
this ID right here
because of on tweeting my tweet
therefore it showed all of the tweets
because the loop ran all over the tweets
so we'll see how I'll fix that but for
now I'll just tweet it again
and now let's see what happens and okay
we got this one and as expected in the
next one we got an empty array so we
want to do something with this with this
thing right here so let's see what we
can do so we have got new tweets
inserted
and
actually you could restrict it to only
the first tweet if you are kind of more
specific but I'll just make it with all
the new tweets because we would be
supplying a longer duration of setting
the wall so there could be like 7 to 8
new tweets per minute or for 2 minutes
or 3 minutes or whatever we will be
setting in for some popular account
alright so what we need to do is the
next is is to get somehow the link the
link to this URL attached to our
notification box showing up the new
tweet so what we can do is let's cop the
score again here and I'll say if new -
it's not Lent is equal to 0 that means
the array is empty and that means there
are no new to it then
nothing else for equals zero
traditional looping iceless and are
equal to new to eat scotland or maybe
this should be just less than and here i
guess
yeah this should also be
just less than so we'll just increment I
every time
and what we want to do is I want to
create my my tweet
title as new notification and the
message as
the message should be new tweets
hi so what we are doing here is we are
simply creating for loop which would
check if the length of the new tweets is
not zero then it would run unless the
all the elements inside the array are
covered and will be displaying the
pop-up of each of those with the help of
prom notifications create API so let's
see how it works
so
let's just not disable this I'll just
and tweet this one let's enable this and
it's really this and when I check out
the background one so we have got our
first notification and I'll just close
this so I've reload this and we have got
our first one notification let's close
this and I'll just do a favorite and
let's see if it works
all right so we got new notification
mayhem favorited your tweet so this kind
of looks more comfortable to the user
and what we can do next is that whenever
user clicks on this then user is
automatically redirected to his Twitter
account this page right here with all
the notifications and if I say in quiz
it to let's say
ten seconds or maybe 20 seconds let's
see and we load this
let's try to do a bunch of things so
I'll just read to it this
favorite this I'll reply to myself
what's up buddy
and we have got a bunch of notifications
ready and 20 seconds are about to get
her work so let's see where we can be
what we call God and the first one is a
blank one
let's check why this was blank
in the background or esteemeth bitch
so
we need some basic information to
console off console.log
there should be new tweets and
console.log
latest ID okay so
obviously I would not like to update
this every 20 seconds now
all right I guess we got something there
two notifications no problem for the
immediate pop-ups
all right so we are getting absolutely
fine here and if I drop it to seven
seconds per notification
so we'll have to wait seven seconds for
the lot efficient let's just do some
activities now after the next
notification
alright i favorited this
and this does not change because in the
notification section will get me whole
favorited your tweets instead of just a
single tweet i'll just reply won't work
with here
or will it let's check this out
if I do
what's up here and tweet it to myself
let's see if there's any change in
modification yes there is but we don't
get any notification right here
and
should be here actually
and the reason is that the title title
right here is black so what we can do is
we can just simply trim out every empty
element in this average so let's get
back to work so we have got our new new
to its array ready by this loop so what
I can do is I'll just create another if
statement if messages I messages chi is
equal to it's not equal to this then
only add this element otherwise don't
so let's reload this and this should
possibly fix our problem by now
let's just drop it to 20 seconds again
reload
and it's time to work
so let's get back the first notification
so I guess we have to miss our first set
in the wall OOP okay so we now have 20
seconds in hand let's do some stuff
let's retweet this
and let's favorite this
let's see
all right so we have got me whole
favorited your tweets as a notification
and right here as well and right here so
I've got Mabel favorited your tweet and
not this one because in the retweet we
don't have any header all right so that
are maybe third or fourth part of this
tutorial
and I like to end it here and in the
next part
finally we would be ending up with this
extension and we would be fixing some of
the minor errors as well so stay tuned
with me don't forget to subscribe thank
you for watching I'll see you that</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>