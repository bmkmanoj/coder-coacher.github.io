<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>NodeJS + MySQL Database Connection Tutorial | Coder Coacher - Coaching Coders</title><meta content="NodeJS + MySQL Database Connection Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/codedamn/">codedamn</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>NodeJS + MySQL Database Connection Tutorial</b></h2><h5 class="post__date">2016-03-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/hGZX_SA7lYg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what is going on guys my name is Mei
hole and welcome to this tutorial in
which I'm going to show you how to set
up and start working with no chairs and
MySQL and you might also make you some
expressed framework so MySQL as you know
that it is a database and you can make
use of it to store data like login
information of people the credit card
information if you are having our
e-commerce website and all that good
stuff so the problem is that how do you
communicate between your front or your
back-end and your database so because if
you don't if you can't contact your
back-end with your database then there's
pretty much no use of this so this
tutorial would be on how to do no gs+
MySQL working together and yeah so
that's pretty much it that's what's the
aim for the story --all and let's get
started with this so I have this package
JSON file and as you might know that
this package the JSON file contains all
of that information which is required
for your application to work like
dependencies Wars your name and all that
stuff for example I'll just restricted
that to three details right now but
there's a lot of keys you can add here
then the next thing is that you should
have no GS install and if you haven't
installed it yet then go to this node
JSTOR our website and depending on your
operating system this would show you an
Joyce for a latest stable release with
latest features or the recommended
release you can go with either one of
them then once you are done with that
what you have to do is actually when you
are when you install this you will get
something as node package manager so
this would allow you to install other
packages so open the containing folder
hold shift and right click go to this
command window here or the git bash if
you want to either one is fine then
right here make sure in the same
directory where you are working so I am
in node.js plus databases slash mask you
do a npm install c'mon now this NPM
install would look for a package.json
file and would accordingly download or
fetch the packages which are unavailable
to your computer and which are actually
required so just wait a minute or two
depending upon your speed of internet
and it would be done so as you can see
all the packages are downloaded Express
and MySQL
I can just get rid of that for now and
say this node module you can see that we
got a bit of strange thing right here
because of sublime let me just give a
man up to this yeah so just restarted
the sublime and it's good to go so we
are done with the MySQL and Express now
what we need to do is write some code
write some code actually so right here
let's just say this is my script Jes and
for this what I'm gonna do is I'm gonna
see the Attic or Express is require
Express and if you have no idea what is
going on then I would recommend you to
go to my node.js tutorials first because
I guess I won't be covering node working
here very much so the next thing is need
we need is my SQL is require my SQL and
once you are done with this now we have
put the modules the node the Express and
the MySQL so now you would like to
connect to your MySQL database and to do
that let's say or connect is MySQL dot
connection this is an inbuilt method and
all of those properties would go in here
and make sure you make use of this
create connect and my
SQL the same name which you are just
importing that module into so the host
is for now it isn't be localhost and the
username would be the default one is I
guess root and the password is black but
for your web application you might want
to set a custom username and a custom
password obviously then a database
should be here but we don't have any
sort of database for now so let's just
leave it to let's say sample DB and yeah
so we are pretty much done with the
connect one and for the connection we
can say that connect dot connect and to
avoid confusion we can just make this
connection actually because there's a
sort of same name of method so there's a
callback function that when it's
connected then what should happen so
this is a callback and I guess the
parameter is the error so if if there's
a sort of error then you can just make
use of the double boolean console log
error else console log connected so that
would just make sure that we are
connected or not to our database and
finally we need to just upload listen
this was a poor Express I guess you have
to create a out variable as well our app
is Express there we go and then finally
I wanted to listen on one three three
seven boat and before that let's just
create a route as well which will just
work on this and don't forget to pass
the parameters request and response
then I'm gonna say a lot of stuff here
about MySQL but since we don't have any
database right now create it so that
kinda you know it would be just waste to
write but I would just show you the
syntax how you write like for example if
you want to query something from your
database so what you have to do is that
connection or connect what we are your
connection so connection dot query and
here would be your SQL query for example
like select or select star from database
the base where this is equal to that you
know you get the idea at least so if you
know SQL then this should this part
should be easy for you so for example if
we create a database which will create
real soon then we'll pass in a query
like select star from what would be our
database sample DB and I'm not giving
any condition for now and for the
function what we can do is first one is
the error which is error in the query
then we have rows and the fields so if I
just or let me just hide this taskbar
sidebar sorry so we get a better view of
the code so once you are done with this
now this is again a callback function
whenever this query is done this
function would fire and then what you
can do is that if there's an error then
console.log error in the query else
parse with your rows fields whatever you
want so or we can just show it
console.log as successful query as well
all right hmm so if I hop back into
tunnel clear this console and pretty
much so now once we are done with code
we need to actually start the MySQL
server and for this I'm making use of
this amp so we have my skill on this and
you might make use of some other one as
well or you can just only download my
skill so only if you don't require all
of that PHP and Apache stuff so we are
running on port 3306 and if I just go to
my local host and pH PHP myadmin okay so
okay so I guess I'm not running the bash
here we go and for now I want to create
a new database with the name what we
have the name a sample DB so let's just
create this database a table
okay so for a table aim will do select
star from no this should be a table and
let's say this is my sample table number
of columns should be let's just keep it
two to go
let's just make the first one as the
auto increment one all right the name is
ID the second one is the name let's just
name it text or yeah pretty much that's
it so let's just save this okay so we
have now finally created a table and if
I can just insert a bit of numbers right
there so if I do like
goddamn calm as the - where is go button
here we go
so if I browse this whoa ignore unknown
tables data still tied table diving down
okay so let's just not pay attention to
them so I've created a simple table and
again if we go to the terminal if I do
like node square J s it enter we get
connected simple enough and for app dot
lesson I need to go to localhost one
three three seven and we get successful
query so that's how you pretty much do
connect with the MySQL and node so again
we can do like console.log success and
then I can do console log rows so if I
do something like this and I kill the
server node scrape the GS we are
connected to server now we need to visit
from the browser we get the ID one ID
283 ID for Ismail mo and code the memo
and call that so this data was inserted
a couple of times I guess instead of
just one time so we have finally
retrieved the data and yeah so that's
how you pretty much work with this so
again you can just parse down this data
the rows and the columns want so if I
can do some
like rows zero again just reset the
server obviously you would like to
install a some sort of you know
something like node Mon we have for Mac
there's a gulp or grunt which would just
automatically take care of your updating
of your things right there then again
you can have extracted the name out of
this so if I can just peel it clear this
out and write something to extract me
you can do like rule 0 dot name and then
again run the server load script is
connected
reload we get mail Mohan as it messes so
again you can just do ab get and right
here you can say response or since this
is a synchronous function I think before
you can say response dot send hello and
then rose 0.9 so if I just reload this
one more time hit enter hello male Mohan
so that's how you pretty much extract
data from MySQL and the nodejs using
Express and one thing you can also do is
that since this is for now we are just
making one connection at a time but in
reality what would happen is that
hundreds and thousands of queries would
be done at a time so this code might
slow down at your server because it's
just taking one request at a time so
instead of this what you can do is you
can just pull the connections in MySQL
and by pooling what I mean is that you
can actually just you know
limit the number of connections and once
the the number of connections is reached
so for example there are 200 people
right now browsing your web site and 100
people click on login and your web
server is capable of handling like only
50 requests per second then you can just
pull it 250 requests per second and just
pull the 50 other requests for the
request when those 50 which were first
honored are completed so in this way
your goal might look a bit slow but your
server won't crash at least so to do
that what you have to do is like MySQL
create pool and right here you can make
use of connection limit as let's just
say you want to have only 50 connections
per second or you just want your server
to handle only 50 SQL queries at a time
so that's what you have to do in this
collection limit and then right here
I'll just make a bit of code change so
I'm gonna say that connection dot get
connection function and then what I'm
gonna do we can actually just pass in
the error and the temporary Connect
connect variable now this temporary
Connect variable would be used instead
of the connection variable to do all of
the query stuff because since we have
pulled it so we are just making use of
this temporary connect so what I'm going
to do is like if error is there then
console.log and let's just say error and
the query and yeah actually I forgot to
tell you that you can actually release
the connection once you don't know no
longer needed so you can just reduce the
stress on the server and to do that you
can just make use of the connection
don't release
since we are working on the pool version
so we are making use of the stamp
connect so I'm going to make use of the
stamp connect instead of this connection
because it contains all of the
connections for now so I want the only
connection to you know I'm just release
which is either throwing error or it's
completed at the server so again
else what I want to do is that
console.log connected and then I want to
do a query again simple like that which
we did previously query select star from
and what was the table name or is it
where is it where is it where is it my
sample table my sample table and yeah
that's pretty much it I'm not supplying
any sort of condition again we have the
same error Rose fields and if I do like
again we can just release the connection
please because once the query is
complete either it is successful or it
is not so we no longer need the
connection so if again there's a sort of
error then console.log error in the
query else what I want to do is console
or we can just send this to the browser
itself so send rose and you might want
to just actually JSON that so that you
know you can just send another JSON
response instead of an object so all
right now let me just take a look if we
are missing something doesn't look like
actually so let's try this out so here's
my terminal just cancel this program
note script connection dot connect is
function oh ok so we don't need this I
guess yeah so again no script alright so
looks like we have to visit the browser
reload and as you can see we got the
JSON response for now inside the
terminal as well we are got connected
and yes one response as well so that's
how you pretty much do connect MySQL and
node with each other with the help of
the code I have shown you and I'll leave
this code in as a link in the
description so if you want it then you
can just copy it down and if you like
this tutorial then don't forget to
subscribe and thank you for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>