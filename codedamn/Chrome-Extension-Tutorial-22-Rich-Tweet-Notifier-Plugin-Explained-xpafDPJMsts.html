<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Chrome Extension Tutorial 22: Rich Tweet Notifier Plugin Explained | Coder Coacher - Coaching Coders</title><meta content="Chrome Extension Tutorial 22: Rich Tweet Notifier Plugin Explained - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/codedamn/">codedamn</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Chrome Extension Tutorial 22: Rich Tweet Notifier Plugin Explained</b></h2><h5 class="post__date">2015-05-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/xpafDPJMsts" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all right everybody welcome back to your
22nd Google Chrome extension development
tutorial and i made this tutorial to
summarize and cover up whatever we have
done so far in this Twitter rich Twitter
notifier extension so let's start from
the very basic we did so first of all to
create this extension what we did is we
gathered some information some necessary
information required to make this
extension for example we need the user
to be logged in to side manually every
time for this plug-in to work then we
need the
we need to launch in Jack's request to
the notifications of Twitter we need to
grab the data we need to filter out all
the data and just get the headers and
required stuff and finally what we need
to do is we need to display a rich
notification if there's any update or
notification in the account so to start
with we created a function engine which
we are calling on the regular basis of
20 seconds every 20 seconds this
function would fire up again and this is
located in background page so that it
does not require any user interactivity
and it would just run itself again and
again and we have specified the page as
background on HTML and background on
HTML has got these two files ready for
us and the jQuery want to work with
check right here so here what we are
doing is first of all we are grabbing
the all the HTML with a get request in
the jacks and get would simply ask for
the HTML contents and we are grabbing
the data as the asynchronous request and
we are getting the HTML data in data
then
we are creating a new variable with a
dollar sign that doesn't actually mean
any jquery stuff but dollar you can
actually name variables in javascript
with dollar sign as well starting a
dollar sign asshole so data is HTML data
dot fine stream items ID and the stream
items ID let me open my Twitter account
so that would make much more sense
and if you look here then the stream
items ID right here in the view source
are that's in the open this in the
inspect element itself
so here we have our dog tree and this
stream items ID is nothing but a ordered
list of all of your Twitter
notifications which are loaded by
default on this URL so we are getting
stream items ID what EQ is 0 means that
get only the first instance of this run
because Twitter is using this same ID
two times so we have to use eq 0 for
that otherwise jquery would return the
object of this as two elements two
objects sorry and then we are doing data
dot fine activity truncated tweet that
you move on here what we are doing is
simply we are just removing unnecessary
data we have in the data variable then
we are appending data to the body and
actually we don't need it now on the
production plugin so now we are
initiating a loop for I equals 0 is less
than data but find the tweets length dot
l i dot stream if you see here then each
Li has got stream item as class and we
are using stream item here so we are
actually just looping over to the number
of tweets available and then we are
assigning each of them an ID and we are
grabbing each of them
a message of that particular thing so
then we are having latest ID as a
variable declared on the top and it
might look like that this latest ID
would always be undefined obviously
because we are not defining it anywhere
here so on the first run we are
comparing if latest ID is equal to ID 0
which is the first element of the ID we
have assigned do the first tweet and
obviously this would not this would Rita
this condition is false on the first run
so it put on the first run it would
automatically go to else--if else--if
latest ID is undefined and yes that's
true then we are just wearing a first
run and we are doing tight basic title
Twitter notifier and you could actually
create a similar one like the context
message and the buttons I'll just copy
and paste here and to do not fire we
have got open notification that's it and
we can also copy this on button clicked
so on button clicked notifications
instead of a
here we can create let me see
alright so on this modifier whenever
this is clicked this notifications would
be opened and then we have got chrome
notifications create first one which
would just send the instructions to
chrome to create this notification box
then we are assigning latest ID with the
ID 0 which we grabbed here so else if
latest array is not equal to ID 0 now
this is something different from
undefined that means that latest idea is
already defined but it's not equal to ID
0 so in this case what we infer conclude
from this is that there is some new
activity on users account for that we
already have our old IDs latest ID and
with that we can loop over again and
again unless we encounter this ID so we
are can I in this loop finding finding
all the new notifications happened for
the user in 20,000 milli seconds and
twenty thousand milliseconds because
this is our set interval loop so now we
are saying if latest ID is encountered
then break out of the code else if
message j is not equal to empty then
append the street and we are just using
this if conditional because in some of
the notifications like this one we don't
have any header for example in this we
have God may whole film to your tweets
as the header but in this one we don't
have any hitter so in most of the cases
you would get in hitter but some would
have no header attached to them so there
is no point in sending a blank
notification to the user so again we are
applying the latest ID ID 0 so that we
can keep our extension updated now in
new tweets we are appending all the new
tweets which happen over and over again
with the user now we are down here
saying if new to its dot length is equal
to 0 that means there was no activity
then do nothing else if it has got some
new tweets then launch a loop create
some variable create a button show the
message which is inside the new tweets
title icon self-explanatory code then
create your tweet then console.log this
is just the debugging purpose and we can
still remove it
alright so let's reload our extension
for one final time let's see how it
works so I reloaded this and on the
first one we get this right here so you
may like to check your Twitter account
for latest notifications all right let's
check this out and yeah it opens our
link here and eventually i forgot my
dummy account password so i won't be
able to show you in working but if you
go back to my last tutorial i'm showing
a lot of examples of this working
extension so i hope you understood how
this extension is finally working the
core of the file is this background or
cheers file and nothing else here all of
this is just what do you say it's just a
skeleton tight but this is the magical
thing happening so that's it for this
tutorial and i'll see you then don't
forget to subscribe and thanks for
watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>