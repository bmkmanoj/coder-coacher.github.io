<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Chrome App Tutorial 28: desktopCapture API - Part 2 | Coder Coacher - Coaching Coders</title><meta content="Chrome App Tutorial 28: desktopCapture API - Part 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/codedamn/">codedamn</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Chrome App Tutorial 28: desktopCapture API - Part 2</b></h2><h5 class="post__date">2015-06-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/2YdgnSt0uXY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what is going on everybody and welcome
to your 28 google chrome extension
development tutorial in which will be
continuing with our screen recorder
which i decided to go in the last
tutorial now there's a thing I missed
which I should probably have tell you in
the starting of the series the
difference between an extension and an
application in Google Chrome now for
this series I guess I should be saying
the starting line as welcome everybody
to your 28 google chrome app development
tutorial now i'll just give you a quick
introduction to what is the major
differences between an app and an
extension but i promised you guys that
i'll be explaining that more precisely
and accurately in my future tutorial
just after this series okay so a quick
difference between an application and an
extension is nothing but an extension
ganna just gets and sits in your browser
in your google chrome browser and just
add some functionality to the chrome
extension itself so i guess in whatever
the past we have developed extensions
like twitter social tool kit and my this
extension dead lockers what it do is i
just select some text right click and i
used to get a select here the option to
share this text on the twitters so that
kind of increase the functionality of
the browser to do some more things it
could not before but an application is
kinda has more power than an extension
because an application acts like a link
between a browser and the operating
system itself so since google chrome is
a software installed on your computer
an application can hardness more of the
power of google chrome and thus has
access to more of the APS but that
doesn't necessarily mean that extensions
are useless in some cases you would like
to use extensions but in some cases you
could not use extensions because of
permissions issues so in this example
which we were doing the desktop capture
API we cannot use the extension module
because extensions simply doesn't the
google chrome doesn't allow extensions
to access the screen of the user to
record the screen unless you use some
html5 canvas to do that so let's get
started and first of all I'd like to
show you guys a little change I brought
in my manifesto JSON fine and I'll just
zoom that a little bit of that helps so
manifest version 2 is mandatory name
should be whatever you like to keep
description as it is then version is
just the version of your application and
this app this app might sound something
new to you guys but this is nothing new
in the extension what we need what we
used to do is like this
right but in an application we have to
just add another kind of object into our
manifesto JSON inside we can include the
background and scripts now this
background strip which we have
background Oh cheers right now as blank
script we would be inserting some of the
calls and a PS which will be using to
launch our screen recorder and that's it
pretty much for the manifest and the
permissions as you all know we need
extra capture permission from the google
chrome to use the plugin all right so
what is this advert geus now this AB de
geus and this indexed or HTML would be
linked together and what would be this
index dot HTML is doing I'll just show
you in a minute so first of all inside
our background which is okay so here's
my extension page and i have already
configured it to load inside the browser
you see this is the same extension this
is the name and here it is version 1
okay so now if you see this is an
application and this is an extension so
you see that in an extension I get
details and options options I can
obviously add here as well because I
don't have any options page right here
in the manifest but if you see then the
in the app section I have got one more
link as launch now this launch think
this launch only comes with applications
because you kind of never really
launched an extension you only launched
some applications because extensions are
just sitting in your browser but
applications provide a rich interface to
the user so if you see
any of these extensions don't have a
launch link in them except which are
applications and I'll just show you one
application right now
okay so I guess I don't have any of the
application right here which has got a
launched link by default embedded inside
it so anyways we could actually move
this launch link as well and i'll show
you that how to do that but for now we
need this link because i don't have any
icon in the toolbar to launch my
application okay so now let's just
navigate to background ojs and let's
just do some stuff whenever this launch
link is clicked so what we can do is we
can add an event listener to the click
of this launch link and then we can do
whatever we like okay so let's get
started so in the background of GS we
already have access to the chrome abs so
just type chrome dot app now instead of
extension I wrote app because now we are
working with a chrome application
and now just type dot runtime which is
at the runtime of this application on
launched and I guess this should be a
small T all launched dot add listener
now we just supply inside a function
which would be called now what this is
doing this this line right here is
saying chrome the browser application
which is the current application run
time at the runtime on launch this all
launched event is fired whenever this
launch link is clicked right here so
whenever this is click what we want to
do is we want to run this function right
here and we do have access to all chrome
AP as inside this function as well so
let's look at some of them now the best
way I could describe this is to just
console.log a little message link
clicked
and let's reload this and just check the
inspector views of the background page
of the application I got console radio
here let's click on the launch icon now
you see that I got four calls to the
link click because I clicked this launch
icon four times spect click it another
time then you see that it changes to
five that means i clicked it again so
that's kind of working so let's make
some more interesting things right here
instead of just gone so logging it debug
message now let's say I want to create a
window pop up so what i can do is i'll
just type chrome app dot window dot
create now this is yet another API call
which I'm doing right here Chrome
application now make sure to keep a
habit whenever we are calling an
application you see right here we would
not be using extension right here
anymore but instead we would be using
app and if you don't understand any
difference between extension and
applications right now there's no need
to worry because I don't want you guys
to be overwhelmed with the information i
will be telling you so just consider
this right here just like a normal
extension with some extended api support
and i'll be explaining you guys the
difference between an application and an
extension way soon so anyways now once
we have access to this API
this will accept two arguments a first
one would be the file you want to launch
now this is important now what this will
do is let's say if I type my file dot
HTML now this API would look in the same
folder for any file which is my file or
HTML now since there is no file right
here this function would fail so the
reason I created index dot HTML is that
to call this chrome that ab dot window
right here so now you know that whenever
this link would be clicked this file
would be launched inside the browser so
let's see if I type here hello inside
the bowl tags I'll reload this extension
and click on launch okay so let's see
what went wrong
oh you see it was a little bit of delay
but the application launched so you see
whenever I will click on this launch
this launch right here it will give me
an application which is gathered just
displaying a Hello now if you see then
this is not this doesn't look like a
regular Google Chrome page because the
icons different the context menu is
different it says reload apps simulate
browser restart inspect element and
inspect background page so this kinda is
a app interface of google chrome and we
would be manipulating this page to
display our screen recorder very soon so
the next thing i have is i told you that
we got two arguments right here the
first one being the file name to launch
and the second one being the options
when this this file is created as a
pop-up now this the second one is just
not checked which
I guess we just need bounce right here
and bounce is a kind of English word
which just means boundaries and
boundaries by boundaries we mean that a
specific width and height of the
container should be there so if I say
the width of the page should be
somewhere like 500 pixels and the height
should be 500 as well and don't specify
the word pixel it will just pick up the
pixel itself so now what would happen is
that this would launch this index dot
HTML page with the width and the height
of 500 pixels so if I go to the browser
and reload the extension click on launch
again so you see that this this window
right here is 500 pixel x 500 pixel
and if i go to console and type window
window dot inner width then it gives me
500 and window dot out through with
would give me oh sorry this should be
inner height would give me 500 as well
now outer if you go to my javascript
tutorials have explained their outer
would give you the boundaries as well so
we don't want the boundaries i just am
just concerned with the content area
which is 500 x 500 ok so that was just a
confirmation check whether the options
are working right or not so that's
pretty much it with starting with our
dexter capture app and i'll be
explaining more and doing more code to
this application and we would be
completing this extension or sorry the
application way soon so till then stay
tuned with me don't forget to subscribe
and thank you for watching I'll see you
then</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>