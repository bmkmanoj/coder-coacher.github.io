<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>AngularJS + MySQL Login App - Part 1 | Coder Coacher - Coaching Coders</title><meta content="AngularJS + MySQL Login App - Part 1 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/codedamn/">codedamn</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>AngularJS + MySQL Login App - Part 1</b></h2><h5 class="post__date">2017-06-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/hk8xkMoPHSk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so what is going on guys my name is Mei
hole and welcome to your tutorial for
angularjs and MySQL connection where I'm
going to show you a real quick way to
create an angularjs login app with MySQL
as the database so let's get started so
first of all we'll need a basic HTML
template and we can just say this is a
login page or login app rather and since
we are going to make use of angular so
I'm just going to include angularjs and
I'm just going to download that in a
minute
and we also need the angular route
touches to add routing and then finally
we are going to need our own script
where we can scrape the file and we just
need div ng view so that our they works
properly and we can just give it an ID
of let's display main content as well
now first things first let us let's
first of all see what else we need so
what I want you is to go to node.js org
and download this recommended release
whatever it is for you and install it on
your computer if you haven't done it yet
now the reason is that because node
gives you something known as node
package manager which would allow us to
actually download a light server where
we can pretty much host our app and use
the app the log in as a user how a user
would see because you're going to
implement this application on a server
so file protocol might restrict you on a
lot of things especially if you're a Jax
calling and doing all that good stuff so
once you have done that just go to your
folder where you have located your files
and hold shift and right click and say
open command window here and right here
just do NPM in it it will just create a
package JSON file for us so I'm going to
say this angularjs MySQL tutorial it n
true version 1 everything's good for
also we can say coat them and yes it is
okay right now once you have done that
what else I want you to do is do NPM
install light server right and hit enter
now what this would do is pretty much
allow us to run this app on localhost so
that we can make use of HTTP protocol
instead of file protocol so while it's
downloading we can go to Pakistan chaser
and then create a script dev which face
light server and very much it would just
start our server for hot reloading as
well so yeah the next thing we need is
scripted Cheers
and we need to get angular as well so
here we have our code angular Dutchess
and we can go to 1.6.4 angular router
and angular itself I'm gonna save this
as the nothing script but rather angular
process and then finally we're gonna
save the main file as angular dutchess
right so we have access to both of them
now and if we take a look you will see
that it's still doing some so some stuff
so let's just wait okay so looks like it
has done installing our light server so
what we can do is pretty much go to our
sprint dodgiest
and first of all let's just define ng
app main in here and they one app is
equal to angular dot modules made and
for the dependencies we need egg and
reroute for now we can say app config
function which is a route provider and
what we are going to do is they route
provider dot when it is on home page I
want the template you are
to be less today's component and
home.html
and controller is a home controller
right and otherwise let's pretty much so
a 404 just like that so yep and what we
can do is create after controller is a
home controller function which gets in
scope and we can say that for now we
just need to create a new folder
component and inside components let's
just create a new file which is formed
on HTML and we can say divide a div ID
with the space button and we can say
button ng click go to login and we can
just a login we can just just create
another button for now I'm not sure if
you're going to implement that let's see
if you get time we can say register and
register right so now if we see then we
can define scope dot to go to login and
a function and we can simply say
location dot pad is login and for scope
dot register with a function on again
location that pad is just register
register right there and again this
register will just throw a 404 right
here but doesn't matter for now but for
the login what we can say is when this
is login what I want is template URL to
be components login dot HTML and the
controller should be login
solar and then we can just create login
controller here login controller
function scope and yep so for the login
template let's just create that let's
say login dot HTML and I'm just going to
create a real quick form so I'm going to
say this is login form and I can say
this is a light go this class input we
can say with the label or rather let's
just go where the input type text' name
um let's just leave name for now we can
say just the place holder is the user
name and for other one we can say input
type text placeholder password and this
should be password right and we can
finally say this last input and we will
say button ng click login and we can say
login just like that so 9 script we can
create scope dot lodging is a function
and what it does is that it gets us the
username and the password
so our username is scope don't username
and one password is scope dot password
and we're going to get this username and
password by making use of ng model here
so that we can just bind to this input
field whenever it changes model is
password there we go lower case and yep
so now we need to perform an HTTP
request to the server to verify if the
information entered by the user was
correct or not
now to do that I'm going to make use of
PHP and to make use of PHP I'm going to
make use of stamp
right so I have them right here so if I
can start them at both 80 and MySQL as
well some people call my sequel I don't
really know if it's my sequel so anyways
so we have a passion module running on
port 80 or rather just the HTTP so we
can access PHP now and let's just create
a script in PHP and there I have created
one in htdocs' folder of my Sam
directory where the bash module running
and my sequel running as well so you can
see that I can just open localhost
angularjs - killing server dot PHP and I
can pretty much say echo echo looks and
reload this you can see that it says me
works so that's fine right so now before
that let us first of all fire off our
light server so I'm going to say NPM run
dip now remember we added this dev
script inside package JSON so you can
see that it fires our server and now
it's listening for any changes at will
so it's kind of a hot reloading so I can
go to login and location is not defined
let's just see what's happening for this
we need location as well and now if I go
to login you can see we get username and
password and I can infer anything
nothing happens and that's good because
we haven't caught it yet so now next
thing is that we need HTTP service so
that we can perform a post request so
I'm going to stay HTTP and then I'm
going to say URL is localhost angularjs
MySQL that's where the script file is
right and then servers HP method would
be post and the headers would define our
content type content type which would be
I can just go with URL encoded form so I
can say
application/x-www-form-urlencoded
form URL encoded and then finally what
data we need to pass them is the pretty
much like username is equal to username
and password equal to password right and
then when this is successful I want the
function to return me something response
and I'm just going to console log
response dot data to see what we have
got and yeah that's pretty much it for
this function so on the server we can
say very much like print our post you
see what we are getting
so our server is running and if I write
something and hit login we get some
errors no access control a lower edge
and we can just allow it for a while now
this is happening because our server is
running on localhost both 80 but on our
application is running on post 300 3000
rather so it kind of is different so it
would not happen if you are running the
script on a one single site right so we
can just add for now start like that and
just go back and do something like
anything hit login we you see that we
get this response from the server so yep
and from the server what we can say is
we can give the response of say content
type application cheers well right and
then we can find out their response is
an array so we can say if is that post
and and it's that post username what I
want to do is if
hardcoded for now instead of connecting
to database username is equal to admin
and then post password is equal to admin
what I want to do is very much stay
response status is the log in and
respond user is admin right and yep
otherwise response or rather there
should be this one right else response
status is third simple as that and we
can just get rid of this and say JSON
encode response and just echo it out on
the screen right so now if you take a
look in the application
I write anything get login we get set up
as error and for right admin admin here
and hit login we get status logged in
and user ID net effect so now if we go
back to our script file and say that if
response dot theta dot theta is equal to
log n that's what we have I guess yes
then what I want to do is very much
change the location does start to
dashboard - both right
otherwise what I want to say is alert
invalid login simple as that
and then we can discrete another route
here and we can stay this dashboard with
the face template URL is the components
dashboard dot HTML and the controller
would be less to say dashboard
controller right so we can just go ahead
and create this controller as well I've
got controller dashboard controllers
function and there we go right so yep
and we can create - food HTML and we can
just say welcome user name or user let's
just give it to user and we can say that
here scope doc user is now work now we
need to share some data so I'm going to
create a service here which would be
pretty much like app dot service or
let's say user at a functioning over
here which would pretty much contain all
the details like who our user name and
we can say this dot Ted user set name is
equal to function name username is equal
to name
and we can say this dot get name is
another function which is returned
that's the name and we can say you are
logged in as pulse and we can body must
say that this dot set this that logged
in or let's just not make it a little
confusing so let us say use a log and
for the function which very much that
log n is equal to two
we can a this dot is user logged in is
another function which is returns logged
in right so now we can get this service
inside our login control now we can say
before sending the location we can say
user dot logged in logged user dot set
name is response dot theta dot name at
what I guess will be not user right
doctor with it spawns don't you need a
dot user right so okay now we can get
the service again inside our dashboard
controller and we can scope as well so
we can say scope user dot get name and
that should do right and let's just take
a look what we have
so I do admin admin here and login we
get location is not defined I guess
did not include that admin admin login
we get welcome but it's not showing of
the name right so what we are missing
here is the I guess we need to return
the username instead of name right so if
we try it one more time admin admin
login we see we get admin and we are now
able to share data across the
controllers with the the service right
alright so the code looks good but if we
take a look that which you could just
pretty much go to dashboard
automatically and it will not stop you
right even if you're not authentic
so how do we go about that or we can do
something like going into route provider
we can inside of here we can say that
check is the property's kind of the
function so I'm going to get a location
and our service which is user and I'm
going to say that if user dot is user
logged in or we can just rename it I
don't know it's okay right
not logged in rather so I'm going to say
locations outside is a home or we can
just send to the 404 whatever you want
so now if we take a look then
and it's actually because this list
inside resolves and then inside resolve
we want to check whether this is a thing
or not so we can say something like this
right and we can say in C you get 404 if
I go to dashboard we get four for
automatically redirected to that so we
can just go to like login that kind of
is more intuitive so if I go to
dashboard and I'm not logged in I get to
login but if I'm logged in I login I get
to dashboard and I can just pretty much
stay in there and I guess if I log in
dashboard I can oh actually i reloaded
the app so it just recreated my service
right there right so if I am pretty much
like dashboard inside that's what I
cannot go into the dashboard directly
but if I'm inside like dashboard with
the angular way I can just pretty much
navigate around here and there if you
provide some links for the user to
navigate right so you can just create a
session based login system here as well
and we can
Stewart right now with PHP so what we
can do where the server dot PHP is
pretty much say let's just say sessions
starting here and we can say that
response user unique ID we can just md5
the unique ID anything like that so this
would be our session ID and we can
pretty much store it on the server as
well with user unique ID as this thing
right here right so that we can operate
on that later on so again we can very
much inside our service we can create
two methods set ID and gate ID we can
create another word ID is equal to
nothing or just like that and we can say
ID user ID as user ID and then for
getting ID we can just return the ID
right so this would be helpful in
determining what which sort of user is
using our application on the front end
okay so now let's just bring into
picture how we can make use of MySQL or
my sequel so I'm going to go to
localhost / PHP myadmin
and they create a new database let's
take this like this site create and for
the table I can say this is users and
number of columns I guess would be ID
username and password so let's just keep
it two three four now we can say this is
ID and let me just make it a little
bigger we can say this is int and we can
just make it auto increment
and just go ahead and use the name
variable characters let's say we
restrict to 200 and passwords 200 plus
word and yep so just hit save and we
have our table ready with us so now we
can make use of PHP or rather we can
just insert some data from here only so
we can say this as a admin password
admin 1 2 3 and hit go so we have our
first user inserted right there with
admin and admin 1 2 3 so what we can do
is inside server dot PHP so to connect
to PHP to MySQL what we can do is the
inside our script we can say this
connection is my still I connect and
localhost here then the username is rude
and password is blank for this database
I guess then we're going to build our
query as a select star from users and
actually we need to connect it to the
database first so what it was test site
test site and the users where we have
the structure as a username and password
your username is equal to the post
username which is username and password
password is equal to password right now
I know this is prone to SQL injections
but we are not gonna take a look at that
right now because security is actually a
but for now let's just assume that our
users are not hackers right so I'm going
to stay result my July query connection
and then query I'm going to say if my
July num rows or result is greater than
zero that pretty much means that our
response was successful and I'm going to
move this thing right here else I'm
going to say this thing and pretty much
you're going to get rid of all of this
and I'm just going to see at the top
that if is stead post username or just
post rather just die or rather if it's
not set so right here you can see I'm
fully trusting my users that the user
won't provide any malicious input but
this is obviously not the case so
password is the post password and since
we do not trust our users I'm going to
say my sqli real escape string and this
one and it actually means the connection
of checked as well so connection and
password now this is a safe way to
access this thing right and yep so looks
all cool and let's see if we can get it
to work so if you take a look now and
say admin admin one two three hit login
you can see that we got the status
logged in user admin and user unique ID
as this thing pretty smoothly right so
now if I go to reload this application
again and
I go to something like I don't know
let's just say admin or one two three
hit login it saves me invalid login and
on the server side we got the response
data zero so that is how pretty much we
can do to make a very basic application
and work what else we can do is pretty
much store this unique ID which we are
getting out of session and then create
actually we do not really not need we do
not have any need for this user unique
ID for now but this would be useful if
you have like something like welcome
user then see account status and then
delete your account and all that stuff
where you would actually query with
database one on one every time so what
you want to do in that case is pretty
much store this this response we are
getting here in local storage in browser
or as cookies and then send them
accordingly to the server whenever you
want to you know make a change to the
database so for example a dummy query
might look like user name is this and
password is this and you would say user
hash is the your hash which is generated
by the server and send to you and on the
server what you would do is the inside
post you would say a if poster hash
matches session hash or session user
unique ID whatever we have that means
that the action is trusted and we can
simply pretty much say like MySQL a
query and then query would look like
something like update table name and all
that stuff or whatever the user wants
right so pretty much this logic and I'm
suggesting this logic just in case if
you want to add an extra layer or
obviously this is the bare minimum layer
of security that you are actually
trusting that not somebody else is
suspending the username
and the modifying wants to modify the
record of the user in the MySQL table so
that is how pretty much you implement a
very basic login form with the angularjs
and MySQL so that's all for this one and
if you liked it then please don't forget
to subscribe and thank you for watching
I'll see you then in the next one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>