<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Messenger Chatbot Tutorial 9: Sender Actions | Coder Coacher - Coaching Coders</title><meta content="Messenger Chatbot Tutorial 9: Sender Actions - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/codedamn/">codedamn</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Messenger Chatbot Tutorial 9: Sender Actions</b></h2><h5 class="post__date">2017-03-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/6Rh_CGeRUXc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so what's going on everybody my name is
meadow and welcome to your ninth chatbot
tutorial I guess in the last tutorial I
told you that that was the ninth one
that was a mistake that was the 8th one
so this is your ninth tutorial for
chatbot development and in this tutorial
what we are going to look at is
something known as sender actions and
what these sender actions are they are
essentially what you would actually see
when you're talking to a normal account
or a normal human right when they are
typing you know you get those three dots
right there
somewhere right here right so I was just
playing around testing if it was working
or not so let's just quickly see how you
can set that up and Facebook provides
you with these three sender actions
which is Mark scene typing on and typing
off you wouldn't actually I don't know
it really depends on your chat board
want to set it as mark scene because you
know it pretty much means that your chat
board is not gonna reply right so
anyways you can just set that as well
well for this typing one and typing off
what you can do is that you can just
send a request to Facebook to set the
action of your chat board to typing on
whenever you receive a request and like
if you are fetching data from some other
website or you know even your script
execution takes some time so in that
case the user can just see that your
board is trying to type something right
so that kind of looks good so it's
pretty simple to do you just have to cop
this thing right and we don't need this
one because we already have that set up
in our script right and what you have to
do is we left it here so I'm just gonna
hard code the messages right now I'm not
gonna make use of regular expressions or
anything like that or you know any sort
of matching so and yeah obviously we
don't need
any sort of you know message as well for
now because actually I was testing it
with my test to message but we do not
need it because as I said we would just
send it every time if you know we
receive a message or something so right
here we know that if the message is not
an echo then die now what happens is
that I actually want to send it if it's
not and I go right so we can do
something like this
so just glue it inside another else
block bring it down and do something
like this so here we can paste something
like response or let us say sender
action which sponsors this thing right
and again will dis replace it with the
user ID and we can just leave it to
timing on and yeah one more thing that
you do not need to send the typing off
to turn it off if you just end up typing
on and then send your message again
which eventually be wood then it will
automatically turn it off otherwise as
the Facebook say is that it would
automatically turn it off after 20
seconds if there's no response from your
side from your script right so here we
have this action response and then
finally what we are going to do is we're
going to say send raw response and
sender action response right so first of
all we are executing the script all that
stuff we are getting some information
and obviously we do not
randomly want to send that typing action
to the user only if the messaging error
message field is it's not an echo and
it's actually set right right here so
that's pretty much it let's just test it
out here we have let's just say we can
do any message or anything any message
right so you see that we get that these
three dots now the thing is that it will
keep appearing for 20 seconds because
our script is configured to only reply
to this test right
so that is why and obviously we are not
sending diving off as well so it will
just keep it there so just let it stop
itself and then we'll send the test
message right so you can see that after
20 seconds is automatically stopped so
if I'll send test you see I get that and
I get my message as well and that free
loader icon or whatever you want to call
that gets automatically to see
disappeared right so that's really
helpful if you have like if your if your
script is fetching some response from an
HTTP API which takes some time so it
kind of gives an impression that your
board is not and or you know kind of is
working right and again you can make use
of this mark scene option if you want to
do and that's pretty much how you do
that so that is all for this tutorial
and if you liked it then don't forget
subscribe and thank you for watching
I'll see you them in the next one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>