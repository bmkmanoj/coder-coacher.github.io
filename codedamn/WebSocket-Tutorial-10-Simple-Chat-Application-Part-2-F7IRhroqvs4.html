<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>WebSocket Tutorial 10: Simple Chat Application - Part 2 | Coder Coacher - Coaching Coders</title><meta content="WebSocket Tutorial 10: Simple Chat Application - Part 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/codedamn/">codedamn</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>WebSocket Tutorial 10: Simple Chat Application - Part 2</b></h2><h5 class="post__date">2016-11-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/F7IRhroqvs4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so what is going on everybody my name is
May ho and welcome to your second pad
for simple chat application on a
WebSocket
and in this tutorial what I'm gonna do
is I'm gonna show you how to add get
names in front of your chat labels Chad
you know messages so that you can just
recognize which guys send what message
right so moving on to indexed or chase
what I need to do is I need to just
change this message to something so that
we can actually you know transfer just
more than a string so we can make use of
JSON here and we can just stringify it
whenever we want to send data so what I
can do is on the front end I can say
that first of all let's just ask the
user for the name so I'm gonna say I'm
just going to keep it real simple you
can just make it fancy with CSS or
whatever you want to implement but I'm
just going basic so I'm gonna say you
our name is prompt and then what is your
name and now we have our name right so
what I can do is right here sock dot on
open I can say sock dot sent and then
Jason string D string E Phi what I wanna
send is that this type of the message is
let's just say this is name and the data
is actually named right and similarly
let's just implement the same thing here
on the button click so instead of
sockets and data what I'm gonna do is
start our descent json stringify
again
then here we have type as a message and
data as text right and here we go
so on the NX dot yes what I'm gonna do
is say that message is actually json dot
ours message and then if message dot
type is name then what I'm gonna do now
please pay close attention here what I'm
gonna do is that I want to store this
name with the current session somehow
right so we have a lot of ways to do
that but I'm just going with a very
simple approach what I'm gonna do is I'm
gonna attach a property a new property
on this WebSocket right so what it does
is essentially it allows me to access
the same name again right here with this
client right because client is
essentially another WebSocket for some
other person connected on the server
right so I can say WebSocket dot person
name and the since we don't know how
many or what sort of methods and
properties are linked with this thing
right there I don't want to override any
sort of default variable or method or
whatever so just make sure you make use
of something that is not like need to be
you know default method so WS dot name
would be message dot theta right so we
have got a data into this thing right
there and again right here what I can
say is gs1 dot stringify and i can send
in like type as message and data as
client
or actually what I'm gonna we don't need
this for now let's just say this is
named as client dot person name and the
data is actually we are just getting it
from a love message dot data right and
obviously I would just want to return
this thing right here I don't want to
make this code run if the user has just
only send his name so yeah that's all
for this I guess they should probably
work so let's just see if oh yeah
we just need to implement this on
message as well so what we can do is we
can say chaser chaser and dot parse
event dot data right and then I can say
json dot name plus a column last json
dot data if i name the data yep and
there we go right so yeah that should be
it and let's just try to run this so if
I reload this what's your name fella
it's may hold hit enter okay
reload may hope it enter looks cool now
if I just connect this one as well let's
just say this is some John
it enter right so we have two
connections on board
I send hello from John and we get hello
from a hole actually hello from John I
get me hole here and the reason is that
because I will need this client a person
name I need W a start person name right
here because on the broadcast what I
want to do is I want to tell which guys
sent the message I don't want to send
the name of that same person which is
receiving that message right so that's a
little stupid right maybe it is shown at
us right so if I send hello from Sean so
you send hello from John and hey Johnson
just hello hey John what's up man
it's send John God hey John what's up
man and hey cool buddy
you send Johnson hey I'm good buddy and
you can just do this all day long as
long as you like so the thing is that
other people can join you as well
so let's just say this is some hacker or
something so send me
and details or I am shutting down this
chat system and the hacker sent this to
both John and Miho right so that is how
pretty much you create a basic char
application with WebSockets right and
with node obviously so what do more you
can do is that you can just you know
make these things as different colors if
you want to you just randomize them on
the server and send them something like
right there when the you know the client
sends the name on the person means just
send it as a response in which you can
just ride you're gonna add an additional
feel here with like type again with a
message or instruction and then on the
client side you can just send that
particular color with CSS and you know
you can just do all that fun right so
that is how pretty much you create basic
chat application with the WebSockets and
that is all for this one and if you
liked it then don't forget to subscribe
and thank you for watching I'll see you
then in the next one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>