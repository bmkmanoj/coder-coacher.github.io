<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Angular 4 + PHP: Sending data to backend - Part 3 | Coder Coacher - Coaching Coders</title><meta content="Angular 4 + PHP: Sending data to backend - Part 3 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/codedamn/">codedamn</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Angular 4 + PHP: Sending data to backend - Part 3</b></h2><h5 class="post__date">2017-06-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/h6JyFWq3Zhs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so what is going on YouTube my name is
Mei hole and welcome to your third
tutorial for the mini web series which
would be covering angular 2 or with PHP
so let's get started and before actually
hopping on to the PHP that is the
backend let's just make some more
enhancements or rather what we call as
the production of code right here into
angular itself so that we are actually
ready to send a file to the server
before we actually write the server code
so what I'm going to do is inside our
file upload a list of spring this down a
little bit so that it's more readable
and we're going to bring this down as
well like that and now what I'm going to
do is I'm going to listen for some
changes and I'm going to say click not
really quick bus change and I'm going to
say that this is something like upload
file and then I'm gonna pass in the
event so inside our file uploader
component what we're going to do is
create a profile as of the method and
this would be even let's say let element
is even dot target which should be
presumably our element so let's just
console.log this element for now and
let's just take a look in the browser we
have got so let's try to browse for a
file and let's just say I go with this
Android and in the console we get the
element the reference to our element
which is fine now what I'm going to do
is getting the files the actual file
which the user has uploaded so first of
all let's just check if the element dot
v dot length is greater than 0 that only
means that the user has selected
something what I want to do is create
another form data which would be the
data which would be actually be
passing to the PHP to process and I'm
going to append the file to this form
data and we can append this by element
dot files and 0th file and we can
actually just console.log the element
dot files
0 here as well but I think we would just
simply get an object which wouldn't be a
lot readable so let's just take a look
what we get so if you upload this file
right here we get this file object and
we get all the details the relevant
details with it ok so now what we want
to do is actually send this file the
file which user has selected on the back
end right and we can just get rid of
this ng on in it for now we do not
really need that ok so now how do we
actually send this file well we'll need
to make use of the HTTP module rather
first by going to add module and right
here saying HTTP modules now what this
would do is that this would provide us
with the HTTP service which would allow
us to post our data from the angular 2
code to this server and you can do a lot
of other things as well listen to the
callbacks or add some promises
observables and all that stuff but we're
just going to keep it simple this way
we're just going to post our image as
the raw data to the server and get the
response back and see what the response
is from the server so it saves us cannot
find out actually we need to import that
so just can put HTTP 1 tools and it in
angular HTTP
there you go and you should have this
HTTP module with you now
so now we need to add a dependency
injection so I'm going to say fry rate
HTTP and we're going to stay with the
HTTP HTTP right there I will just unfold
this and fold HTTP from angular HTTP
right and actually you need to have this
module ready because HTTP module is what
brings this HTTP right here okay so now
then that we have the HTTP module ready
so now let's dispose this image we have
got to the server so this would be this
stud HT d dot post and disposed as is as
the helper space that the first one
would be a string of URL or URL of
string and the second one would be body
so I'm going to say this is localhost
and since we do not have a server
running yet so it would probably just
get us 404 or not really 404 but I don't
know what happens it's not really 200
okay but neither 404 so whatever it
would just throw us some errors so it
will be like scrub dot PHP we just
create that file later on and the data
would be obviously our form data which
we just created now we need to actually
subscribe to some events so that it is
useful for us to know when the request
is done and what the data is so going to
say that this data and we can just do it
ES 6 way and I'm just going to fake off
the log got some data from back-end data
and we are going to subscribe for an
error as well and that would be
something like another function and this
is by the way this is all es6 function
notation going on
so that if you're thinking that what is
this what this side arrow means or this
arrow
technically well this is something like
doing function data and then doing that
stuff right so this is just a fancy way
to write functions in a nutshell ever
and then the arrow right there okay so
now if you take a look
upload some files select any image and
we see that we get an error which is 404
right so yeah
it throws 404 or actually is my server
running I don't know
yeah actually it was running so that's
why it's throw the 404 let's just try
now with the server love and yeah it's
just phase connection refused but what's
the header code for that okay that's
done all right so yeah we still get the
error which is perfectly valid for this
code so yeah that's all pretty much we
would need to do on our front end for
now and the next thing we need is to
actually process this file we are
sending on the back end and I'm going to
show you that how we can do that in the
next video so that is all for this one
and if you like this then please don't
forget to subscribe and thank you for
watching I'll see you then in the next
one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>