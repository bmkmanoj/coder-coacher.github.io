<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Chrome Extension Tutorial 19: Rich Tweet Notification - Part 3 | Coder Coacher - Coaching Coders</title><meta content="Chrome Extension Tutorial 19: Rich Tweet Notification - Part 3 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/codedamn/">codedamn</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Chrome Extension Tutorial 19: Rich Tweet Notification - Part 3</b></h2><h5 class="post__date">2015-05-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/a-kxvv8PW3k" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's going on everybody welcome back
to your tutorial in which we'll be
continuing with Twitter extension which
I have been doing from past three
tutorials or maybe two but let's get
started so we are left was is that we
actually trimmed a little bit of data
from Twitter and
we were just left with the header stream
activity header which included time step
and some links
and
that's pretty much it so what we need to
do is we need to get
only the text of this inside this so as
to get a simplified message so let's
just do it so what I'll do is
we can run a loop and an array which
would store all of these messages and
let's see what we can do it with it
so I'll square it for loop here as less
than data find
and what we need to find
we need to find the Li obviously because
the number of L is the number of
notifications you have currently so I
will just go over there and I'll just do
a plus plus and we'll just create an
array right here so Alice two messages I
equals and what it should equal is
is
where are you
activity hello and we could just make it
to activity header to save a little door
manipulation this dot find
are not this actually it should be data
dot find
I guess we should give it the same you
know I'm a little bit confused
so let's just keep it same with allied
extreme item not find Li dot stream item
but the difference is EQ now eq i gives
us the ayat or the annette li we are
working with so now we can just move
down a bit in the down tree and
and I want to find
what I want to find is
this thing right here
yeah so I want to find this what we
could pick
maybe this one this class
give and I just want to return its text
so at the end I'll just console.log
messages so let's just see what happens
okay we got a blank array
all right
oh no actually we need that symbol
because we are actually using that so
let's see what's happening
okay this should be left
it's really odd now
okay so we have got now the messages and
I guess these denote new lines so let's
just stream out
this all the stuff
and instead of just creating a new
function
what we can do is just use some regular
expressions
okay I don't know what I pressed yeah
it's back to normal
I like to have a global flag on it now
obviously not in quotes I guess I put it
by mistake should be replaced by a
nothing and this should be trimmed out
by default our script so let's just
check it out now
let's reload this
okay we have got some problems
let me see
or we can just do a new line replace
can't we
yeah so looks much cool now
okay
so we have got a bunch of
empty elements between as well but that
should be no worry we'll manage that
later so we have got the messages as
individual elements in the array and we
could actually get some more information
if you see so we have got all these
titles right here these titles and we
need something else and those are IDs
these data item IDs so let's just see
how we can retrieve them so we were
working with this Li context as a loop
and we could actually make them IDs as
ever as well so IDs I would equal to
this this thing right here
having the attribute
firstly the EQ and the attribute to be
data item ID
all right so now we have associated
every idx with a message eggs so ID 1
stands for message once ID ID 2 stands
for message to ID and so on so let's
just console.log both of these
separately
let's just reload this
all right so we have got
the length
as 19
and the length
as 19 both are same so there should be
no problem in equating them with a
similar variable
now we can do as latest
i D
and set this latest ID to the iris zero
now this tweet is having a latest ID so
now let's say let's just remove these
two let's say if latest ID or we can't
just set it right now let's say if our
latest ID is equal to is zero that means
there's no update to the tweet else if
else if if latest ID is undefined what
I'll just
triple check it that means a program ran
for the first time so we should handle
this some different way and see if the
latest ID is equal to is not equal to ID
zero and you see that as specified this
is not equal to condition after the
undefined because this would validate if
I specify this condition underneath this
one so if latest ID is not equal to our
current ID that means this has been some
update with the messages so what we can
do is we can create some new tweets
as an array again and we can say for
let's just create some containers for
some conditions to be put on let's say
for
J equals zero
latest ID is not equal to ID J and J
should be incremented over the time so
now I will also specify if base
condition or let's just leave it now so
we are running this loop unless we
encounter the latest ID and we'll just
append the new it new to its
with the messages so what's happening
here is we are running a latest ID loop
which would run unless we encounter the
ID which is the old ID one and else if
we could actually specify the latest IDs
equal to ID zero there's no update if
latest ID is undefined
we'll see this later and if this thing
is happening then we've got our new
tweets in an array and we'll just latest
ID updated to
the ID 0 so I guess we are partially
done our code is 40% completed this
extension and that's it for this
tutorial because there's a lot of coding
in this and it needs some time for you
to understand and if you don't
understand what I'm doing in this
tutorial then don't worry because at the
last of this extension I will explain
this whole coding again so if I missed
anything which you didn't understood in
this video and don't worry I'll be
explaining all of this extension code
again so that's it for this tutorial and
I'll see you then in the next one
continuing with the same extension and
then see you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>