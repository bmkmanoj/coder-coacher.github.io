<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Angular 6 Tutorial 17: Routing Protection (Login App Part 3) | Coder Coacher - Coaching Coders</title><meta content="Angular 6 Tutorial 17: Routing Protection (Login App Part 3) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/codedamn/">codedamn</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Angular 6 Tutorial 17: Routing Protection (Login App Part 3)</b></h2><h5 class="post__date">2018-03-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/k3_6a7anWBQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so what's going on YouTube my name is
Miro and welcome to your 17 angular 6
tutorial in which you're gonna learn
about route protection in angular and
this would be our path tree for a login
application as well so let's get started
alright so what we have for our
protection is something wrong as well
gods in angular 6 so in angular
basically so what are our gods do is
that whenever user tries to access or
out a specific route these route guards
would first of all check whether the
user made certain criteria to actually
see that particular route if it does
then they allow if it does not then they
restrict stop redirect show error or
whatever you want to do so basically you
can think of it a user as a person which
is walking through a gate now this gate
once we add our out card has a God on it
so the god would verify everything from
the user who's walking in and if the
guard is happy then the god would open
the doors and the user can access the
other side that is the route in our case
and if it does not then the god can
pretty much beat the user up or redirect
him anywhere so yeah all right so what
we have here is that there are four type
of gods that you can use and that are
can activate can activate child can
deactivate and resolve so what can
activate do is that it would check
whether the user is eligible to actually
see around so in this case what happens
is that when you specify a god inside
can activate Hrothgar what would happen
is that angular will know that component
would check whether the user can see
that route or not for example depending
upon a variable is true or false if it
is true then the angle angular would
proceed further and show the route to
the user
if it is false then you can pretty much
handle what happens can activate child
is different from can activate in the
sense that let us say you are protecting
you can protect actually just slash
admin that would be kind of hard for me
to write like this but let's just see if
I can figure this out
slash ad right but disconnecting a child
would protect admin
okay so
Electro's admin and anything which is
here so don't mind my great writing so
what can activate do is that if you
specify this on admin then it will
protect all the child routes as well
whereas can activate specifically
protects only one vote can deactivate is
actually used for let's say if you if
you know that one route can be used
again by the user really quick so you do
not want to deactivate that routes
components pretty much you can but don't
fall some can deactivate to keep that
route working then resolve is basically
used to resolve some data before the
user actually sees through out so you
can pretty much use it to get some data
from the API server and then can load
what it does is that can activate
actually loads the module and then
checks loads the component and then
checks if the user was eligible can load
would lazy check it first so can load
will not open the doors first with food
and query would do inquiry from the user
if the user is eligible to see that
particular out and do then it will allow
the user to actually see the route but
can activate on the other hand would
pretty much just load the component and
then check if true then component is
already ready for user to see if false
then just go to hell or whatever okay so
here we are so let's see this in action
so right here what we need to do is
create a god alright so what we're gonna
do is create an art card so I'm gonna
say ng Chan Great God and odd so we're
just writing odd because odd the god
thing would automatically be appended to
that you can see that we get two files
created or card RTS and/or cat spec we
are interested in this odd card or TS
and I can see that we have pretty much a
boilerplate kind of thing set up for us
and you can see that we are returning
true here which means that whenever I
add this god this particular god do any
route then that grout will always be
accessible so what I can do is just go
to my half module here and we can just
import this card so I'm gonna say import
Auto card from auto dot card like here
and then what we're gonna do is pretty
much right here we're gonna say that
there can it activate for example if I
just write it at admin can activate that
tea wait and then I'm going to specify
this hot card right here alright so now
if we take a look here in the browser
what we have so if you take a look in
the browser and if I go to like slash
add one here
okay we get an error
objective and that is because we have
not injected this inside our
for why toaster
let's reload and go to admin here
and you can see that we can pretty much
access it straight away now let's just
try out and return false from this time
who is it
or that service odds God
I'm exhausted so if I return Falls from
here and now if we take a look in the
browser you can see that we were not
able to go to this admin drop right here
it simply just doesn't work
all right so what we can do right here
is that we can pretty much create a
constructor I'm going to see private
Arad service but service is
or let's just name it odd transport
service so this we can just get it and
put it just like this so now what we can
see is returned this dot dot dot is blue
object something like that and now
inside our odd service
right here what I'm going to do squirt a
kit method and what this does is that it
acts as a property name it acts as a
property name but
it is a function but it acts as a
property name right so I'm not accessing
it like this
I'm just accessing it like another
property but we can before returning the
value of the property we can do some
calculation and manipulate it so that
would be cool right so what I can do I
can say something like something like
let's say if I have something like
private logged in or actually we do not
really need that get properly right so
because we can just set it just like or
we can just make it public instead of
private because we're gonna make use of
this inside our login component if data
that success is true then what I want is
redirect the person to
the admin URL we can just do that from
our router thing so to do that what
you're going to do is to say this dot
router dot navigate and then we're just
going to specify admin here now we just
need to enchant the router thing as well
and what we can do is you can just
import router from angular router itself
you do not need something like that
so that should be good and then what we
have is okay so we have some warnings
they're not really errors so what we can
do really quick is just go to our we're
set
service file app dot
or service and what we can do is create
an interface here and let's just name it
my data for the time being success in
the boolean and message is a string
which we are using right now so we can
just specify this thing and we should be
good to go here
there we are so the warnings gone and we
are navigating to admin once that
happens and once that happens what I
also want is I just want to say that
this dot
what we have auth dot log set logged in
that's true
something like that so then we can go to
our part dot service file and create a
function here set logged in and the
value the boolean you don't need to
specify that but anyways so now we can
make it private I'm going to say this
dot log and status is value something
like that and then what we can do is get
logged and is logged L
so we actually needed that anyways so
just kind of return they start without
them status just like that all right
with that being done what we have is
this thing in place and
yep so let's just take a look in the
browser and see how this looks like so
now if I go to admin directly
you can see that it doesn't work but now
if I go to login and log in via admin
admin its summit you can see that it
works just fine now obviously angular is
not pretty much storing everything so
this is not a reliable solution you
might just want to use cookie based
authentication anyway with the servers
so that was a quick tutorial on how to
protect routes with your angular code
only obviously this is insecure as hell
as well because you know you're just
doing all the route protection on
front-end and anyone with enough
debugging skills would be able to get
all the hidden content you have because
that is anyway rendered on your system
only so what we can do instead one more
thing is that you can actually specify
multiple routes here so if one route
fails then other routes won't be checked
but if one route returns true then other
ones will be checked so it's kind of can
activate this kind of condition like
Orkut returns true and and some other
other route God returns true and and
something something something like so if
one fails one returns false in this
chain the expression for the won't be
evaluated but otherwise every route
guard would be fired right so this is
how basically you would use can activate
in your application to pretty much
restrict access to routes and in the
next tool we're gonna actually see how
to make it really useful as a production
app because it's just usually that
you're just protecting a route which is
anywhere visible on the front end when
you deploy this code in the production
so till then I'll see you then in the
next video and one more thing if you
like this video then don't forget to
subscribe and press the bell icon to
receive instant notifications</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>