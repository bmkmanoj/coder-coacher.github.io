<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>GOTO 2016 • Busy Developer's Guide to MeteorJS • Ted Neward | Coder Coacher - Coaching Coders</title><meta content="GOTO 2016 • Busy Developer's Guide to MeteorJS • Ted Neward - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GOTO-Conferences/">GOTO Conferences</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>GOTO 2016 • Busy Developer's Guide to MeteorJS • Ted Neward</b></h2><h5 class="post__date">2016-11-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/uMSY-vWB23w" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright so by virtue of getting started
that's me nobody cares moving on the
purpose of this particular presentation
is essentially to give you guys kind of
a beginner's look of meteor j/s so the
first question is going to be how many
people have looked at or played with
meteor before okay if your hand is up
you may be bored I'm warning you now so
that you have an opportunity to go catch
something I don't know post agile or
whatever this that I will be the first
to admit that I am NOT the world's
biggest meteor expert I discovered it
probably about two years ago when they
were still very much in flux in beta and
I've been kind of keeping an eye on them
ever since I find it an interesting tool
I have not used it to as the British say
I've not used it in anger I've not
shipped anything with it I have built a
couple of prototype type things for
myself so I have a little bit of
knowledge of what I'm talking about but
like i said i'm not i'm certainly don't
work for me to you or i'm not an expert
so choose wisely um the idea essentially
is that meteor is an all JavaScript
stack it's one of the first products
really try to embrace the idea
wholeheartedly that we have javascript
in the database AKA among go we have
javascript on the server AKA node and we
have javascript on the client sorry i
wander around this stationary microphone
is not going to work so we have a level
e or mike i can use that but well okay
you can anchor me to the podium and we
can see how well that works do you have
a ball and chain yeah so because I do
like 2.2 stuff occasionally so i'll do
my best but I'm not gonna make any
promises um so like I said we're trying
to essentially embrace the idea of
JavaScript and tie
early across all three common tears the
database the server and the client now
in the beginning meteor was they sort of
had their own front end style framework
ish thing and then of more recent
they've all they've actually embraced
both angular and react so in some
respects you can decide which of these
three you care to use what their own
thing which they call blaze you can use
angular or you can use react right I
have some experience with angular I've
played around with me yours blaise I've
spent a little bit of time with react
but for the most part if you're familiar
with any of those three frameworks you
kind of won't understand how stuff works
the key thing to understand about meteor
is the fact that it embraces the idea
that this is all one stack okay we are
very much in sort of the anti I don't
want to say anti rest space but we're
very much stepping away from the idea of
the client and the server as two
separate components meteor very much
wants to give you a development
experience that says that this is
entirely unified that you don't see
extremely visible places where one goes
from the other we still want to
demarcate between the two there going to
be a number of places where meteor will
say this is what's running on the client
this is what's running on the server we
never want to lose sight of that but at
the same time we want to work from
within one source base that is really
the heart and soul of what this thing is
trying to do um develop in one language
can you guess which language that would
be actually me or does have some the
documentation does talk a little bit
about using some of the alternative
JavaScript languages AKA CoffeeScript
they haven't really gotten on board the
typescript bandwagon yet that may be
coming in a future release but for the
moment they're saying look you're you're
doing JavaScript or you're doing
CoffeeScript and that's all you really
want to do now I have to be a little bit
careful here because by JavaScript they
mean javascript HTML see
ss so you do you don't quite get away
from the HTML in the CSS world but for
the most part you know the intent here
is very much a developer focus tool it's
about writing code it's about creating
components that sort of thing one of the
things that they also embrace is what
they call data on the wire they do not
want to ship presentation information
back and forth they want to ship data
back and forth which is actually a very
rusty and kind of principle when you
stop and think about it um well actually
I should stop Roy fielding would not
consider that rest because he actually
said you ship the presentation as a part
of it this is why it's always
distributed hypermedia but in the
bastardized form of rest that most of us
end up using AKA api is using HTTP and
javascript and json and so forth it's
very much in that spirit as a matter of
fact we talk about media or we'll get to
this a little bit later one of the
things that they do is they actually
take your HTML templates as they call
them and they compile them if you will
into javascript and then you import
those from within your code so they are
very much of the mindset that says the
only thing that's traveling on the wire
back and forth is data between the
client and the server embrace the
ecosystem where javascript that means we
love node that means we love n p.m. that
means we love JSON etc this is actually
relatively recent in some of the earlier
forms of meteor prior to its one point o
release their up to 1.3 now in Prior
forms they said we are our own ecosystem
and as a matter of fact the only way you
could start using media or realistically
was to deploy to their cloud they had
meteor app com and so you could create
very Heroku like you could create my app
meteor app com and deploy stuff there
and you used their command line tool to
do it etcetera etc lots of people
wanting to use meteor basically said no
that doesn't really work for me I kind
of want to deploy it where I want to
deploy it a que hora coup or OpenStack
or any of these other node friendly
cloud platforms
or I want to deploy it to my own data
center so as a part of the 1 point 0
release media or embraced the idea that
yes you want to deploy it to any NPM
compatible environment and as a result
they've also embraced the idea of the
larger NPM ecosystem they have created
their own ecosystem their own me do
specific space which they call
atmosphere by the way brace for all of
the meteorological puns just like Java
had javabeans and you know dotnet has to
do dot everything in this space it's all
about cosmos and planets and weather and
all that consists of so their ecosystem
is called atmosphere which is not a
replacement for NPM it's a supplement to
it we'll see a little bit of that later
the last point full stack reactivity
this is one of the more subtle points of
meteor they are trying to be fully
reactive in the spirit of the reactive
manifesto it's not actually something
they trumpet really loudly in terms of
their marketing documentation but it
does show up in terms of how they manage
data and so forth back and forth in
terms of the buzzword bingo pure
JavaScript live page updates data
synchronization latency compensation hot
code pushes this is all the stuff that's
found you know and essentially some of
the marketing pages on the meteor
website we do see a hot code pushes so
as you make updates to the meteor code
if the meteor application the meteor
server is running it will automatically
refresh the browser that's pretty
typical in the JavaScript development
environment space running in a
privileged environment they are very
sensitive to the notion of security and
one of the things that traditionally has
tripped up some of these full stack
experiences is the idea that well I mean
code could run on either the client or
the server who cares it's all just one
environment well no there's a lot of
stuff I don't want present on the client
anywhere because anybody can just fire
up the the chrome debugging tools or
whatnot and have a look at what's being
stored in memory etc so they've actually
taken that very seriously when you
deploy
a meteor app when you first create one
by default it is insecure as a matter of
fact the package that does all of that
is called exactly that insecure and so
if you decide that you want to take
greater control over what we gets pushed
to the client and whatnot you literally
do a meteor remove insecure you remove
the insecure package from your code and
then you have to specify what will get
shipped in what won't etc etc all right
from a outside the meteor bubble
perspective it's a classic mean stack
it's Mongo its express its Mongo in the
database it's expressed on the server it
can be any of angular reactor blaze as I
said on the client but it's it's a
pretty classic JavaScript stack so in
that sense they're not really
reinventing anything all that strongly
getting meteor installed is pretty
straightforward if you're on a Mac or
Linux you just run a shell script off
the internet that can't be harmful right
just I mean it's over HTTPS that makes
it safe right it's even better when they
suggest doing this with sudo which is
what they did in some of the earlier
versions yes you do just this random
script over the Internet trust us we'll
all be okay I don't particularly agree
with this style of installing software
but it does seem to be becoming one of
the more prevalent prevalent ways of
doing things and to be fair I actually
looked at the shell script at one point
and it's not you know it's not doing
anything harmful it's actually just
pulling stuff from their server to your
machine and then putting stuff in a
place where you would imagine it however
if you are a paranoid software developer
which you should all be by the way then
I would strongly suggest taking a look
at the shell script before you install
just to make sure that it's not doing
anything harmful fortunately in later
versions they've removed the need to do
a pseudo style requirement so now it's
just installing under like user local
bin which is typically pretty safe and
it's not
access to anything sensitive et cetera
all it's really doing is it's dropping a
command-line tool called meteor onto
your machine and making it available off
the path so once you've run the script
and you've installed meteor the next
step is just to verify that it's there
meteor dash dash version pretty typical
thing and as of currently let's see hang
on I want to so oops let me fling this
guy over here so if I do like so that's
the current version that's installed on
my box right now which is as of two
months ago okay now if you have
particular applications installed the
meteor tool itself doesn't require
updating but if you do a meteor update
this will actually look to see what what
what what's installed currently right
looking at your application what version
of meteor is currently installed and
it'll update it accordingly right if you
do it outside of a meteor application it
says hey this is already installed right
run meteor update inside of a particular
project to update it to one two three to
four this is for the most part going to
be your vector into the meteor universe
is the meteor command-line tool okay
again this is very similar for a lot of
JavaScript style packages and so forth
everything kind of runs through here in
many cases for example if you want to
access the if you want to get out the
Mongo database there's a meteor command
that will all you do it if you do a
little spelunking you can actually
figure out where the meteor server is
running because meteor will launch it
where it's running what port it's on and
then you can use standard Mongo tools to
get at that if you so desire so they're
really not trying to hide anything from
you they're just trying to create sort
of a nice umbrella over a variety of
different tools and create sort of a
unified experience for being able to get
at it all right so and of course if
you're on Windows you download an MSI or
in this case it's an eggsy and run it
because hey you're just running an
executable you download it from the
internet how harmful can that be
right fortunately again windows will of
course do the prompt to you are you
really sure you want to do this which we
all of course just click through and say
yes how hard can you know how damaging
can it really be and this is why Windows
is insecure same story though once you
get Windows once you get this on your
box you have a meteor command-line tool
you can do all the same stuff so from
after the installation everything from
that point is pretty much unified across
both platforms or all three platforms
depending on how you want to count now
meteor has a number of different
examples and as a matter of fact the the
the the meteor documentation will it
kind of lies to you in some respects if
you do a meteor create and it will say
down here that there is an option here
to create you know to use some example
templates right and so you think all
right cool let me go get oops meteor
create me go get a list of all of the
examples that meteor will let me install
just right straight from you because
that's like one of the easiest things to
do is grab one of the example apps and
start poking around with that oh wow
there's like eight of them it's pretty
cool so let me do this meteor create
example to do's to which it responds
yeah go get clone it I'm not a huge fan
of this particular style of user
interface yeah we're going to give you
this thing as soon as you get clone it
these are all as you can see simple to
do is because the to-do list is the
universal hello world of all JavaScript
applications ever right so that's why
they have like five of them and then
there's a local market a leaderboard and
then the clock the clock is actually
literally just a clock it's a
demonstration that says look you can
still do all of that fun client side
JavaScript e stuff in this case they're
bringing their creating an SVG that will
move the hands every second there's no
data exchange there's nothing really
meteor about it it's just demonstrating
that you have access to all the
capabilities of the browser okay they
also have let me
I don't a donk they also have a fairly
decent um oops that's there we go so
they have a fairly decent website here
we come back to through to the site here
alright so again install direct install
link telling you to basically run the
script or download the eggsy and then
the tutorial here and the tutorials
actually there's some fairly nice ones
so that's interesting little offset
there and as you can see there are three
different versions of the to-do app
whether you want to do blaze or you want
to do angular or you want to do react
and then there's also some additional
applications that people have created
and contributed just to kind of give you
an idea of how you might build different
kinds of things for the most part the
the site here is pretty nice in terms of
documentation in terms of the guides and
so forth they've broken the
documentation set up here into tutorials
guides and api docs and of course you
have the classic forums right stack
stack overflow also has a lot of media
related questions etc so a lot of this
stuff is pretty easily accessible to you
as a developer assuming you have some
background in javascript and in
particular assuming you have some
background in xmas script 2015 the so
called ekman script 6 release how many
of you are really really familiar with
ECMO script 6 okay good then I guessed
correctly let's creating an application
pretty straightforward meteor creon
hello this will create a particular
directory structure on your machine
there will be a client directory in a
survey directory does anybody really
question what those are for wouldn't
think so there's also going to be an
imports directory where meteor is
actually going to figure out which of
this code should go to the client which
if it should go to the server there's
some pretty strong conventions around
this directory structure so if you're
going to play with meteor follow their
lead because otherwise you're probably
going to screw something up
there's some very specific rules for
example on the order in which some of
these files are evaluated the order in
which some of these HTML files are
transformed into JavaScript the order in
which they are Auto imported all of that
stuff is documented pretty nicely in the
guides but for the most part just follow
their lead in terms of how they want you
to structure things because otherwise
you may accidentally be creating more
problems for yourself than you really
intend so if I create a hello
application this is what my main HTML
looks like this is the scaffolded thing
and we see something that's not too
unfamiliar right we see a title we see
standard HTML stuff you've got the
double curly brackets which is the
universal symbol for something magical
it's going to happen here right and then
you can see some links down here across
the bottom to the standard it's pretty
standard scaffolded application 101 the
code well you know those imports don't
look like anything you've ever seen in
JavaScript before unless you've been
studying ECMO script six we'll talk
about that in a little bit but you can
see a non created event you can see some
helpers you can see some events on the
surface of it yes this you know this is
not rocket science this is not trying to
program in haskell or anything like that
this is in fact pretty JavaScript II and
we do see a reference to a reactive VAR
which will do pretty much what you would
expect as you increment this value it
will buy it will publish the fact that
its value has changed to anyone who is
interested so anything that's basically
bound to that such as down here counter
return template instance counter get
every time that gets updated it's going
to be notified etc it said all the
reactive goodness that you expect out of
the reactive manifesto world okay now if
you do create the application of course
you're not going to be able to get
anywhere until you actually create this
until you actually pull down all the
dependencies so let me actually do where
did my there it is so let's see where am
I go to am
so meteor create hello and you can tell
it's doing something because we're
alternating between a forward slash a
backslash and a hyphen that's progress
bar in command line speak right so now
again there's my package structure and
the standard package dot JSON which
looks pretty familiar to anyone who has
ever done anything in the NPM JavaScript
world again they're trying to build off
of this existing ecosystem they're not
trying to reinvent the wheel right
excuse me so then it becomes an NPM
install and at this point we go fetch
most of the internet right and there's a
whole bunch of stuff that got installed
here actually that's not too bad was
longer before okay and then if I just
fire up meteor here what it's actually
going to do is it's going to fire up
several different processes in the
background when it's going to start up
and a node Express server running on
port 3000 if I'm not mistaken it should
tell those and the second is it's going
to fire up MongoDB okay so at this point
I will have a working application you
can also see it's doing some work to the
code it's minifying it it's collecting
it's doing all of the standard things
you would want a JavaScript application
to be doing so in addition to this being
your principal administrative command
line tool meteor also becomes your build
tool and depending upon what packages
you have installed it's also your deploy
tool they're really funneling everything
through this one application so if I
come over here to Z browser and I say
new town because I don't have enough
yeah there we go look I can click the
button and it increments a counter and
you've never seen this before ever it's
an amazing demo yes thank you
thank you I i live to impress alright so
we already did all this etc now because
I sort of made the perhaps unwarranted
but as it turns out correct assumption
that a lot of people have not spent some
time with JavaScript 6 and media really
embraces this in a big big way so if
you're not familiar with xmas crypt sex
it's going to trip you up in a number of
places trying to do meteor with xmas
crypt 5 is already deprecated right if
you're trying to do it using traditional
i mean for example they fully embrace
the ECMO script six module system that's
what you saw earlier with the imports so
i'm going to take about 10 minutes and
try to whip through the hoops whip
through the Atmos crypt six stuff
there's a number of different features
that xmas crypt six offers some of which
we care about some of which we don't so
this is just kind of a list and then
we'll drill into it directly if by the
way you want to experiment with xmas six
and you don't necessarily want to buy
into meteor there are a couple of xmas
crypt six transp eilers which are
available that you can use for any
javascript style application tracer is
one Babel is one and then of course mr.
gammas favorite typescript all of these
are very very close to xmas crypt six
although nothing is completely
specification correct yet some of them
are very close some of them are closer
than others but these three are all
pretty close so for the most part if
it's an xmas crypt feature these guys
have it all right so syntactic changes
we now have binary and octal literals
everything is now unicode based so that
if you really wanted variable names and
klingon you can have those two template
strings this is actually kind of an
important feature because it allows us
to do string interpolation first of all
right we get this a notice it's kind of
hard to see I'm stepping away from the
mic
standard character string and a back
ticked string this is going to be hard
to see and this is going to be hard to
remember so be prepared for a number of
like wide isn't this working stare at
the code at eleven o'clock p.m. trying
for hours to figure out until somebody
else comes by and says dude why do you
have a regular tick there it's supposed
to be a backtick at which point you
throw yourself out the nearest window
right so don't do that keep that in mind
Latin cons one of the things that xmas
script has kind of come to embrace is
the idea that declaring variables is a
good thing and more important declaring
the difference between mutable and
immutable variables is important so we
have let indicating i am declaring a
variable for use and then we have const
indicating that this should never change
okay i would strongly advise getting
into the habit of using these two if as
you start using akma six because in some
cases there is word that the
interpreters who are seeking to get
faster they will actually be able to
optimize some of your JavaScript code
more efficiently if they know it's a
Const as opposed to just a regular
variable that can be modified default
rest and spread parameters you will see
this a fair mountain side of meteor code
so here for example we see default
parameters index a is set to zero and
index B is listing this is pretty
straightforward rest parameters means
anything after the first one here can
just be a zero or more number of
arguments we already do some of this
stuff in JavaScript but now they've
formalized it as part of the language so
items here will effectively become an
array similar to what arguments is in
classic JavaScript and then the spread
parameter is actually kind of twisted
because it's the opposite it goes in the
opposite direction of rest parameters so
here actually what I can do is if I have
dot numbers you notice that's at the
point of call rather than at the
function declaration dr thought numbers
that array will effectively be picked
apart and each member
of the array will be satisfying one of
those parameters up there an ad so
numbers bracket zero will get passed for
X and numbers bracket one will get
passed for Y and anything remaining in
numbers will just be ignored as it would
for any JavaScript application there's
also a little bit of function shorthand
right we can also use arrows for
function bodies we have a this that
actually makes sense which is good there
are a few semantics that are different
some of this meteor doesn't really take
advantage of for example symbols they're
interesting but meteor doesn't really
use it the structuring assignment this
in depending upon which package you're
using meteor may or may not take
advantage of this and again if you've
been experimenting with some of the
other languages running on the JVM or on
the clr some of these features you will
already be familiar with if you're not
well the slides are here if you want to
go back and look at them there's also
lots of material these days and what's
in xmas crypt sex i would suggest you
take a look at it iterators and for of
so we can actually create our own custom
iterators at this point what some of the
functional languages will call streams
all right so here I want to create an
iterator of an array which already
exists in language but this would show
how you might do it there are also
generators how many people are here how
many people have seen c-sharp yield
return show of hands just a couple same
basic ideas yield return from c-sharp to
the idea is that this will generate
values and yield them each time notice
the function star that is not a typo
that is the actual syntax indicating
that this function is yielding up a
generator rather than just a traditional
return value under the hood the
interpreter has to keep track of where
we are in that sequence of four items
this is effectively the same thing as
creating an array of values and then
handing an iterator back to those values
which will get picked one at a time if
you're familiar with Java streams this
is going to be something you will see as
well and of course you cannot talk about
streams and iterators without doing an
example in Fibonacci so there you go is
everybody suitably impressed
excellent then we will move on this is
not really a language thing but the idea
is that ekman script interpreters are
going to be more sensitive to tail call
recursion optimization which is a good
thing now one thing we will see a lot of
in media or is this notion of classes
now this is not classes in the
traditional c-sharp C++ Java sense these
are not strongly typed classes these are
classes that still maintain their
prototype based relationship okay so in
this particular case when I say that
class monster extends character what I'm
saying is that there is an object in the
world called monster which serves as a
prototype for other objects like this
and the monster prototype has a
prototypical relationship to the
character prototype which has a
prototypical relationship to etc etc etc
we are not getting away from prototype
based inheritance so everything that you
read in Doug Crockford good parts write
JavaScript the good parts everything
still holds this is really just
syntactic sugar on top of that mechanism
so that now I can say new monster as
opposed to having to build a constructor
function myself which will set up those
relationships the prototype
relationships and it will have these
fields name and health and so forth
because I've specified them in this case
notice I have two properties I'm sorry
one property with the getter and setter
I've got a second read only property is
alive I've got a method called attack
it's designed to read a little bit more
like classical languages okay meteor
will take advantage of this in a lot of
places you will see people creating
classes inside of meteor code enhanced
object literals not so much but there is
one interesting feature that akma script
six will support that meteor does not at
least as far as I know does not take
real huge advantage of and I don't know
that anybody is taking huge advantage of
it but down here across the bottom here
I have what's called a computed property
name in other words the
aim of this property will be evaluated
at the time that this object is defined
and noticed that I'm actually as a part
of evaluating the name I'm using an
arrow a function literal to yield the
value 42 so this now becomes prop
underscore 42 is the name of the
property which of course holds the value
of 42 why anyone would really want to
compute the name of the property at
runtime I really have yet to see
somebody described I really just don't
know why this feature is here it strikes
me as one of those it's cool and we can
do it so why not but but it's there
makes for a great interview question by
the way next time you really want to
like you know make one of your
JavaScript interviewees cry so you know
just just that what will this evaluate
to and again lock the windows because
otherwise well anyway proxies again this
is not really something that meteor uses
above the hood if they use it below the
surface I'm not sure I can't I haven't
found it but this is the ultimate
decorator right again in Erich gamma you
know in honor of him this is the Gang of
Four decorator pattern that xmas crypt
is now standardized there are a couple
of libraries library features that akma
scripts standardizes so for example we
have a standardized map and set type we
have a standardized week map and week
set type alright so a set of course
cannot contain duplicates maps of course
are just key value pairs this is all
pretty straightforward stuff right so
here we see a set there's only two items
in that set one element hello one
element goodbye and a meteor code will
make use of these libraries throughout
the throughout the library however more
often than not at the surface level
where you're writing you will prefer the
reactive types because if you're going
to store data you want to actually
typically bind that to something that
will want to consume that data so there
you'll use the media reactive VAR which
is not a standardized part of xmas x
promises me
you're actually interestingly enough one
of the best reasons to use it is that
meteor actually tries to hide a lot of
the asynchrony away from you which is
really kind of nice meteor code doesn't
like march across the screen the way
traditional node and angular code will
so the promises stuff is kind of buried
under the hood where you don't really
need to worry about it the module system
it's kind of a it's kind of a big deal
from the standpoint that in some
respects they are simply standardizing
what we've been doing by convention over
the years but they are using some
language syntax to do so so for example
meteor has more or less deprecated the
use of require and instead favors import
now require is still accessible to you
because there are a few occasions where
meteor can't quite do exactly the right
thing and so you can still call out to
require and it will go do the
traditional node thing of go find that
file pull it in and evaluate it which
can then yield an object back etc etc so
it's still accessible to you but meteor
in several places in the documentation
says you really don't want to use
require you really want to prefer the
ECMO script import syntax instead so
here I have a module profile right that
exports three different values so these
will be exported values from this
particular module right exported
properties if you want to use the
terminology exactly correctly and then
down below you can see that I import
those three by name from that file now
most of the time in meteor you will be
importing from somewhere inside of the
meteor packages so most of them will say
import bracket some name from meteor /
package name okay just like
traditionally it was require package
name here it's import acts from package
name all right honestly once you get
used to the syntax it really reads
exactly the same way as a require
statement does the nice thing is simply
I can get multiple values out of one
import statement as opposed to having to
get an object and then explicitly go to
that object to get those values
okay so everybody's totally up to speed
on xmas script six right we're all good
y'all so the best part about this
session normally you go to a session and
you can only put one new thing on your
resume now you can put to you are now an
ECMO script six expert and a meteor rock
star ninja because it's not I mean you
can't just be a rock star or a ninja you
have to be about right alright so back
to media this is that there's of course
a tutorial on the meteor website for
building a to-do app and so basically I
figured one of the best things to do
would be to simply walk through and show
what we're doing in each one of those
steps this is I strongly encourage you
to after this session at some point when
you're back home if you're interested in
studying meteor go and do the tutorial
by hand so that you can go through and
get experience with using meteor and
kind of understand kind of how that that
that space works but and hang on a
second my yeah there we go powerpoint
kind of decided to hide my clock from me
alright cool so so if you want to create
a to-do app right first thing you do is
meteor create two dues that creates that
file structure etc the second thing that
they'll have you do is created imports
subdirectory again this is not just
convenience this is not just something
that you know the guy writing the
tutorial thought would be helpful meteor
actually keys off of anything in the
imports subdirectory and we'll make it
explicitly available to both client and
server there are a couple other
directories that they key off of for
example anything in a public directory
will be considered to be a public static
asset that wants to be referenceable
from the client anything in the private
directory will be considered to be a
server-side asset that should never be
delivered to the client so for example
if you need particular configuration
files if you need particular passwords
in order for example to access remote
web services from the server
those should always go in the private
directory whereas anything like your
robots.txt and your fav icon dot ICO and
all those other client-side goodies
those should all go in the public
directory client and server are
specifically where client and server
code go respectively and the imports
directory is effectively where the stuff
that's shared across both will end up
okay now the second thing is we're going
to want to create a body a component for
lack of a better term and I hesitate to
use that word because components
particularly if you were in this track
earlier today you heard you know react
and many of these other MVC frameworks
are moving to more of a component with
an uppercase C style we're hearing about
web components becoming sort of an
internet standard etc meteor doesn't
really go that far meteor likes the idea
of components but their components with
a lowercase C the idea is we're not
trying to necessarily create reusable
binary things that you can you know
share across a variety of different
applications they do talk about how to
do that to a lesser degree but it's
relatively informal this year is really
more of an organizational to them a
component is really more domain related
so here I want to create a body
component that has some HTML and some
JavaScript for the main page of the
application and potentially for other
other parts of the app if we so desire
the first cut of this of course is to
basically just list using an unordered
list all of the to do's that are
currently inside of the list which right
now by the way will be empty because we
have no data and you notice first of all
it's all standard HTML stuff but you see
the squiggly brackets you see the
handlebars they actually don't use
handlebars they use space spars I
believe is what they call it again
meteorological asked it can't be handle
it has to be space so it's similar the
syntax is deliberately designed to be
similar to other templating languages
that use this format so here you see hat
you see curly bracket curly bracket hash
each okay anybody want to take a flying
guess with the
does yeah you got it it's a for each and
it will loop across what is presumably a
collection of tasks and then you see
bracket bracket angle bracket task well
that's going to load the task template
which we haven't written yet oh no wait
I take it back it's right down there at
the bottom notice we've defined a
template for tasks that will list the
text now what is text text will be a
property a JavaScript property on the
task object that we got out of the tasks
collection there's no rocket science
here the body j/s code here we see to
import statements first of all we pull
out the template from meteor templating
this is because we want to define the
body as a template so specifically we
say template body and then notice
helpers here and then notice very
carefully we actually have a curly
bracket and a curly bracket inside of
the parentheses what we are defining
here's we're actually defining an object
using object literal syntax that will
have one member on it called tasks which
will in turn be an array of predefined
tasks so that now we have some data
notice that we import the HTML though
this is because as I said earlier what
meteors going to do is it's going to
take the HTML and it's going to
transpile it that is the proper term by
the way when you're doing source to
source it's not compile it's transpile
impress your friends and neighbors when
you transpile the HTML to JavaScript you
can then import it into here and then
reference it directly from within the
code make sense cool step one done and
this just basically says everything that
I set out loud in case you forget like
you know next week when you're looking
at these slides let's see what else
today oh yes inside of client we want to
define a main dot J's file which for the
moment is really straightforward just go
grab the body okay client will have a
main server will have a main this will
be where you will put
server related activities specifically
and here we see main HTML this is just
basically with a header limbs okay it's
pretty straightforward stuff now of
course it wouldn't really be a to-do
list manager if we didn't have some form
of persistent storage and again for
meteor this is Mongo so now this is
where you really start to get a sense of
how meteor is different from a lot of
the other platforms you may have worked
with first of all we just go ahead and
grab Mongo we import it out of meteor /
Mongo and then I define a collection
inside of Mungo called tasks now look at
at the top of the box import / AP I /
tasks j/s this tells you that this
definition is going to be accessible on
both the client and the server this is
how we're going to be able to have this
collection available to both places
because yeah I mean the server wants to
be able to reference tasks for various
server related activities bartley
because it needs to push it on into the
database but the client also needs to
have access to it because it wants to
display it and from inside of the body
here notice that now instead of having
that predefined array of tasks I just do
tasks dot find which remember we just
defined tasks notice the Const once it's
defined it will never change but this is
sort of in the traditional c++ style of
const what tasks points-2 will not
change but the contents inside of tasks
obviously can so we have now effectively
received what is a Mongo collection on
the client so that now I can just do
tasks dot find again from traditional
Mongo terminology find with an empty
object means find all of the objects in
this collection the end meteor
collections are realistically just Mongo
collections and as a matter of fact if
you are a little uncomfortable with the
extraordinarily dynamic nature of
JavaScript and meteor meteor actually
does support the idea of putting a
schema AKA mongoose j s style on top of
your Mongo collections if you so desire
they don't show you how to do it in
these tutorials but it is in the
documentation they have a package and so
you can define to dues as having text in
complete created completed you can have
all of that defined so that any attempt
to put data that shouldn't be on there
will be flagged and it will create a
validation error okay and there's no
data because we haven't actually created
any data this is where as a developer if
you want to just see that it all works
you can connect to the Mongo database by
doing meteor Mongo and what effectively
it will do is it will fire up the
command line Mongo and give you the
opportunity to do some command line
Mongo shell activity to create a task
into the tasks collection if you so
desire make sense now one question is
how do i add tasks from the user
interface ok well if you were going to
hazard a guess there's probably going to
be a form involved and you're probably
going to submit something and meteors
probably going to make magic happen yeah
ok you got it right so again we put in
an input field here again the rest of
this looks basically as it did before I
just type some stuff in and when you hit
return that's going to be an implicit
submit that's kind of the way data entry
fields are supposed to work so we need
to define an event and in here again
imports you I body j/s template body dot
events and again notice what I'm
defining here is an object literal that
uses CSS selector style syntax to
specify the event and the actual entity
in this particular case because notice i
say submit dot new task right you see
the CSS selector on the form here new
task so this is how it's going to tie
these two together right the submit is
the actual javascript style event that i
want to catch and notice i get the event
as a parameter and so at this point
prevent default handling you know
another
it's browser please don't go ahead and
try to reload the page because browsers
always try to be helpful and do that but
then I grabbed the event I grabbed the
text out of that text box and then tasks
dot insert text and then the time it was
created and voila we now have data now I
realized I'm going through this fairly
quickly but if you're a developer and
you're paranoid right your first thought
is what's that no no no no no not which
day no because that's always going to
grab the current time on the client
machine because this is all executing on
the client the server is not the client
which then begs the question where's the
database that's correct you could what's
that I think you're missing a bigger
issue which is how does the client get
directly at the database it's magic it's
real magic it's exactly right what's
actually happening here is that meteor
is believe it or not you have to dig a
while through their documentation before
you discover this they're actually
running a package on the client side
called mini mungo they're actually
running a lightweight Mongo database
inside the browser and so initially when
you're doing this you're doing it inside
of the client and then they actually
have set up a published subscribe style
protocol what they call DDP dynamic data
protocol and DDP will go back and forth
between the client and server to update
the server system with this data now you
are experiencing one of two reactions a
that's cool be holy really that's
what they're doing depending upon your
reaction will basically determine
whether you ever touch meteor after
this talk and that's the symbol for
almost done I have 10 more minutes ten
more minutes don't be harshing my mellow
dude all right so whether or not this is
a good thing or a bad thing this is
certainly you know that's debatable
that's going to be something that you're
going to have to discuss with your
colleagues and with your boss etc this
is how meteor works okay now questions
of well how do I intercept DDP how do I
you know somehow try to get ahold of
that how do I expose DDP myself the
basic answer is you kind of don't that's
not the point of this tool the point of
this tool is to create an environment
that looks like a full stack because you
want to treat it as a monolithic full
stack okay if that is not your goal then
you probably want to keep going and look
at something else okay and that's you
know the meteor guys are pretty much
going to agree with that they've said as
much in a couple of public settings so
again we define a helper here to say
good let's grab the newest tasks since
now we have the dates that they were
created so we can always see the newest
tasks first right again that's straight
Mongo 101 up there passing in a field
saying I want to sort the created at
field in a reverse order and if I want
to update this you can pretty much guess
what this is going to look like so now
if you've completed we want to have a
checkbox so notice we're going to say
okay the double handle bars the if that
does exactly what you think it does so
if this task is checked in other words
if the checked property is on this task
if it's defined as true remember if it's
not to find that's considered falsi and
therefore this wouldn't appear right
then we'll have a button in that the X
here is simply the completed right
that's just the basically indicate that
i want to delete this hence button class
delete input checkbox then there's the
text from earlier this is all pretty
much HTML 101 with exception the fact
that we're we're getting the data comes
from the double angle bracket
a meteor object and then inside of
imports you I task jas you can see again
events we're defining a click toggle
checked so that now we can update
whether this is checked flipping it back
or fourth and again tasks dot update
that is a MongoDB call so this will go
initially to the client-side mini Mongo
and then ultimately get updated in the
server side Mongo but again you as the
developer I don't care it all just looks
like one beautiful happy cloud ish world
okay and I think I already did that
right TAS dot HTML is the task template
I've now broken it out into its own file
broken it out into its own jas file
that's just to keep these things from
getting too big now if I want to
actually filter in other words I want
checked items to be removed from the
view I can set up a reactive dictionary
and notice in this case I put it in this
dot state I don't actually want this to
be on the server side database this is
kind of a client side cash and so a
reactive dictionary is a basically a key
value pair that has some reactivity to
it so that now if this has in fact been
checked I want to hide it so I add it as
a hide completed and then I check that
value periodically instance that state
get if this task has been hidden then I
don't want to display it I don't want to
see completed items again this is
reactive so as it updates it will
automatically update the user interface
as well the top more here you can see
we're referencing an incomplete count
which we get going back to the tasks
this is all pretty much the same story
oh but now I only want to allow tasks to
be seen by particular users right I mean
a global task list things that everybody
who has today that's going to get really
unwieldy very quickly right 7 billion
people on the planet all of them are
using this app for tasks
yeah you know and if I say that loudly
enough somebody will give me seed money
just you know because that's just the
way the startup world works right meteor
this is where we start tapping into
atmosphere meteor has this ecosystem of
projects which are accessible to you so
in this particular case I add the
accounts UI and accounts password
packages in order to be able to
reference those these are meteor
specific packages so that now in my
startup i can say i want to config to
say i want to have password sign up
fields and the user name only is a
well-known constant from that particular
package documentation boom and then here
down below you notice the very bottom i
have reference to a template called
login buttons and that's the only
reference I really have to user
interface management whatsoever in terms
of a user interface this will pop up the
dialog box you have an account do you
want to create an account it manages all
of that for you as long as you like the
particular look and feel that they're
using for that it's beautiful it's
amazing right if you don't like it well
then you can either go in and reference
those templates and change it because
again all of this is open source right
from within the body here now I can get
a hold of the user ID and the user
object which will give me the username
right again this is just inserting it
into the database so now my tasks will
be associated with the individual that
created them and notice I import meteor
from meteor / meteor the meteor object
is where we get ahold of some common
sense objects such as the currently
authenticated user if you're using the
meteor accounts package okay if current
user is a boolean flag indicating
whether or not there is a user and
authenticated and the rest of it is
pretty much user interface I want to
hide it if it's not your task and I want
to show it to you if you if it is etc
etc etc and I stopped there there's
about four more steps in the traditional
meteor to do's tutorial but it's really
more of the same as you can see the
intent here is one code base which
meteor will then
partition and separate into client-side
and server-side giving you the
opportunity to do things on either side
of this divide as you so desire but the
intent is very much it's one app it's
one code base it's one environment so
program it that way and you either like
that or you don't and if you don't well
then you just wasted 45 minutes of your
life that you'll never get back but I
gave you an opportunity to bail so it's
not my fault questions one question
right now meteor does not talk about any
other databases other than Mongo and the
biggest problem for them is it would
have to be a database that exposes
itself in sort of a JSON style because
again we assume these collections are
collections of JavaScript objects so at
that point you'd either have to like if
you wanted to try to integrate an Oracle
or a sequel server you'd have to
masquerade the table as if it were a
collection of JavaScript objects but you
saw exactly how much schema definition
we did in this tutorial which is to say
none at all so you would have to have a
relational database table that consisted
of a flexible number of columns all of
which were nullable all of which could
store anything which at that point why
are you using a relational database this
is just it's it's in that sense meteor
is very very opinionated I could see
them embracing Couchbase CouchDB I could
see them embracing rethink DB if the
relational vendors embrace JSON and sort
of a flexible collections model on top
of there which the sequel server team
has talked about to some degree if
you're a Microsoft fan as your document
DB would fit well here as well and so I
could see the meteor guys going after
those databases but unless the
relational guys make their database look
like a collection of JSON documents I
don't think you're going to see them
inside a meteor any time soon so again
if you like JSON databases this works if
you don't yet another reason to hate
being here for the last hour any other
questions going once going twice cueing
the track chair</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>