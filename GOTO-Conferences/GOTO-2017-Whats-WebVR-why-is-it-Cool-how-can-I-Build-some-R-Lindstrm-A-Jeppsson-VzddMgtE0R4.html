<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>GOTO 2017 • What's WebVR, why is it Cool &amp; how can I Build some? • R. Lindström &amp; A. Jeppsson | Coder Coacher - Coaching Coders</title><meta content="GOTO 2017 • What's WebVR, why is it Cool &amp; how can I Build some? • R. Lindström &amp; A. Jeppsson - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GOTO-Conferences/">GOTO Conferences</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>GOTO 2017 • What's WebVR, why is it Cool &amp; how can I Build some? • R. Lindström &amp; A. Jeppsson</b></h2><h5 class="post__date">2017-06-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/VzddMgtE0R4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">yeah I'm recording and I'm on day s and
as you said we're from Planet and we're
a music meet tech company and today
we're going to talk about that VR and I
think it's cool and we're going to show
show you our recent that VR experiment
called sonic umbrella and talk a bit
about what we learned from doing that
but a first little quick introduction to
who we are yes planet started about ten
years ago as a traditional music
production company mainly making music
for film after a few years we progressed
into doing interactive audio and then
mainly for the web and we did a lot we
still do a lot of interactive web
experiences and we built our own sound
framework based on Web Audio API
it's called clung and as you see here
today our heart is somewhere between
music and tech and we do a lot of
different type of projects installations
VR web games etcetera but we're still a
music company and all MPs that planet
has a background as musician but with a
big technical interest and we like to
try new things and to give you a idea of
stuff with being involved in we're going
to really quickly show three projects
throwing paper airplanes with your phone
creating a giant music sequencer from a
building and making a painter robot
dance to our music
yeah it's really really quick
introduction to Janet but today we're
here to talk about VR and rev ers who
for those who don't know it's a new
browser API that makes it possible to
develop and experience VR in your
browser basically you click a link and
you get thrown into VR that's the goal
and it's meant to make we are more
accessible no matter what device you're
using and what do you what do you need
to experience that VR Andres you should
not wreck it
first of all you need a headset and
there's a wide range of headsets some
which you connect your PC to like the
HTC vive and oculus rift and PlayStation
VR did you connect your PlayStation and
the one on the bottoms are you you just
put your phone in like Samsung gear
Google daydreamin Google cardboard and
this of course differ a bit in price
from roughly nine thousand kronor for
the HTC vive to maybe thirty chromophore
and cardboard and and the quality of the
experience varies accordingly yeah and
they could I know you have tried a lot
of this headset which one is your
favorite funny you should ask my my
definitely favorite is the HTC vive
because it provides something called
room scale which means you can move
around in the virtual space physically
attracts your how you walk in how you
move your arms but I also like the gear
and daydream mostly for its portability
and you're now also not stuck with
cables going back to your computer and
you can bring it on on a flight if you
want to yes
the other thing you need is a browser
that supports web they are and as you
can see here all major browsers are
working on supporting it and maybe
except Safari we don't know that but
the Google Firefox and Microsoft are
implementing it in their browsers and
Samsung and oculus are building their
own VR browsers called the Samsung
internet and Carmen
growing a new Internet yes and yeah the
latest chrome for android supports web
we are for daydream and cardboard and to
use vive and the rift you need to run
chromium or Firefox nightly
and yeah other devices can be supported
by using something called web they are
polyfill which we'll talk more about
later yeah since we love the web and
also new technology we were really eager
to try that we are out so we we started
to make these small experiments gave it
one or one to three days just see what
we can do and just yeah to learn from
and see the potential and the first one
we did something called constellations
which was we took data from all these
stars the data consisted of the name how
far away from Earth it was and the
position of it and we mapped it out in
3d then we loved the user to make their
own constellations by gazing looking at
the Stars and connecting them and this
also was turned into a music sequence
here here yes another lab with it we
called bouncy bits and here we wanted to
explore poly rhythms in a fun in this
way so you're surrounded by balls and
you you can lift them up by gazing at
them and drop them and the height
dictates the rhythm and you can also
switch sound by looking at the door it's
like a shortcut to stay right music and
yes ok so we were one of the 12 lucky
two studios to be asked to
do an experiment for the Google that VR
experiment calm and it's that's a site
that's made by Google to promote that VR
and much in the same matter as chrome
experimented with html5 but for VR then
and so all products are open sourced and
users can submit their own from now I
think and yeah Google is really pushing
web VR and making it accessible in
chrome and everything and they made a
really great film explaining why this
site should exist and I think they could
sell it better than us so we're gonna VR
should be accessible to everyone because
it has the potential to let everyone
explore play and create an amazing new
ways but right now VR is pretty
complicated to make awesome VR stuff
developers might have to learn a new
language and then spend a bunch more
time to make that stuff work on multiple
headsets and then when we want to play
with their awesome VR stuff we've got to
have the right headset VR should be
easier so developers can make something
quickly and share it with everyone no
matter what device they're on kind of
like how easy it is to share stuff on
the web but with VR well that's the idea
behind Web VR it's VR on the web for
everyone here's how it works
say you're in a browser like Chrome and
you come across a web VR experience you
just tap the link put on a headset and
boom you're in VR developers can build
web VR things the same way they build
web things with JavaScript and since it
all works in a browser it's easy to make
it work for all kinds of VR devices
whether it's someone using their phone
their computer or their entire room
developers are already building and
sharing awesome stuff with web we are
we've started showcasing their work on a
site called webview our experiments it
gives you a glimpse into the kind of
stuff that's possible you can play
simple games see the world in a new way
explore interactive stories play with a
friend or lots of friends
each experiment comes with open-source
code to help others make new experiments
and developers can submit what they make
all of this is an effort to make VR more
accessible so anyone can build and
everyone can play with awesome VR stuff
so come and start playing at web be our
experiments calm yes so so our
experiment is called sonic umbrella and
it's an it's an experiment an audio
experiment where you get to experience
how it can sound when bunch of weird
objects is raining on you and you have
your umbrella that you can open and
close and that affects the sound and
yeah that is to recreate the magic of
standing it under an umbrella and here
rain hitting the canvas but since it's
VR we had to exaggerate a bit so we
couldn't just just have normal raindrops
we had to drop just ramps dog toys
fruits ping-pong balls and stuff that
sounds funny when dropped yeah I mean we
also wanted to take something of a first
approach to this since we have a root in
audio on music and we wanted to explore
and showcase spatial audio and VR and
what it can do with for that so audio
first that meant scaling back any
graphical graphic or visual effects to
leave route more room for audio and
already also had to like where it's
going to live on the web so it has to
work on an old phone as well as a new
gaming PC so we wanted to when it came
to interaction and stuff we wanted to
keep that as very simple so we didn't
have to worry too much about different
all the different input methods yes and
we're going to show you a short film so
you can see more what it is but you
should really check this out with a
headset
headphones for the full experience but
here is it good day welcome to Sonic
umbrella you see this umbrella we need
to get it tested and ready for VR press
spacebar to open it a lone pressure
pushing from the east bringing fleeting
fruit showers of apples bananas grapes
to the West bringing blustery showers of
rubber ducks later in the afternoon
already under those cloudy skies
bringing sleet's
with a chance of chance drums
okay that's it another successfully
executed and logged simulation completed
we thank you for your participation but
I know yeah that's yeah but as I said
you should really check it out with
headphones yeah it makes more sense and
this picture here is just to show you
how serious were with with audio this is
our music producer kawaii is dropping
eggs on an umbrella and recording the
sound and we spent some time figuring
out which things would sound fun rock
being falling on the ground and we tried
the egg sounds really funny but because
it sounds different when it hits the
umbrella on the ground we try to meet it
was it didn't work well so the cams work
better in total we have like seven sets
of stuff falling yeah so we get how do
you build a web they are site yeah well
to start with you don't want to work
directly in that geo so you want to
choose a WebGL or a 3d framework and
this is pretty much why this is like
regular cube or a very simple cube in
the WebGL code and this is using a
framework in this case three so there's
a lot of code that hides for you so
there are quite a lot of frameworks out
there to choose between to give an
example Oh a few of three a frame rack
VR Babylon Jas yeah and a whole lot more
and we chose to work with three because
we had a previous experience with it and
they were also very quick to put out
examples in valve ER which we could
learn from and try out and one of those
examples
yes yeah this is one of the first
example we saw in web they are it's made
by mr. dope and it's like a light
version of tilt brush but directly in
the browser
and you can sculpt with your vibe
controllers what do you think it looked
like it looks like anyone yeah exactly
what we thought this one so we clone is
ripple and added some special sound to
it and yeah what's our like first
experience with having special sound and
whether they're pretty great one yeah
and now code yes finally so back to
three I don't know how many are familiar
with three here okay so if you already
know how to make a basic 3d scene this
this is the bare minimum to create this
if you already know that the step to
making this into a awesome VR cube is
not that complicated it we have have it
down to four steps here the first step
is to add something all the VR control
which is a free plugin and that
basically takes the rotation from the
viewer did viewers had or device and
translates the the rotation of the
camera to follow that so that's the
first thing you need you need to be able
to track the head the other step is
sorry this other step is something
called the VR effect which you basically
replace three normal render with a
stereoscopic one and so that's three
lines sub codes we had to replace what
was previously rendered and I always
forget this to requestanimationframe
need to be a special one that VR
requires a much more high-performance
rendering path so you can't use the
regular requestanimationframe on window
you have to use a special one and effect
provides you with a I think it's even
polyfills so depending on what browser
you use if you have the more effective
one available it's going to choose that
I'll always use the normal one so that's
something you have to change too and the
fourth and final
one is when prompting the user to to
enter VR you need to do that what I or
you need to enter VR with a user event
you need to have it go in there with a
click or a touch event and three has a
great little utility to do for doing
that a couple of whites so that's it
that's how you turn a normal free scene
into a vr1 and it's super easy yeah but
you makes it it sounds so easy we had
some challenges in developing sonic
umbrella we're going to bring up two of
them first one is the user interaction
and web video has to support all
different kinds of devices with
different kinds of input like the
cardboard has touch input and the
daydream and vibe and oculus have
different type of controllers and there
are cardboard without but without
interaction buttons and then we can use
gaze interaction which is that you're
interacting with something by looking at
it and you can't really know which kind
of input I use your has you can for
example have a card without an
interaction button or rift without a
controller connected so that led to a
lot of cases to handle in our code even
though we only have one interaction that
is opening and closing an umbrella and
and also because we had that voice over
that speaks out every instruction we had
to make a lot of different recordings
for that and logic to handle and looking
back it would have maybe saved us a lot
of trouble simplifying the instructions
bit yeah another thing to consider is
obviously performance and going back to
what I said earlier that if it's on the
web it has to work on like as many as
the devices as possible I have to give
some sort of minimum
experience and this quite challenging
when it comes to a spatial audio 3d
graphics and head tracking and what more
yeah have it running and running and you
want to run it smoothly you want to aim
for at least 60 frames per second
anything less than that is going to
really affect your the experience of
viewing this in VR because it's you have
a screen this close it's going to drop
in frames and stuff is going to be very
noticeable
you would really preferably aim for
above 90 frame per 4 frames per seconds
to to be really good but uh that's
probably not feasible and iPhone 5 yeah
another annoying thing with the
developing an audio focused web they are
experience is that the the first thing
you notice that the performance is
dropping is when the audio starts to
crackle I mean you don't really notice
if a frame drops but as soon as the
audio starts to crackle you notice it
and we couldn't accept this since it was
going to showcase audio so we had really
really had to optimize it to to make the
audio yes I'm good and an obvious thing
with this too is if you're targeting
that many devices you also want to test
on that many devices and testing things
in VRS is quite time-consuming to if you
have to put on your VR headset every
time you want to test the new
performance and see what works in
different on different devices yeah yeah
and the solutions but it's for pretty
user interaction and we had to make some
assumptions and start with whoops we
only had one what room we had one to
start with
yeah to stop it we assumed that if
you're on vibe or daydream you have a
gamepad in your hand for daydrian you
- press your controller to enter VR so
in that case we knew that you had a
controller and for the rest we assumed
you didn't have anything except gaze
control until you started using it and
as you said we only had one interaction
toggle day umbrella and that allows us
to to simplify it so all buttons did the
same thing with worse
opening and closing the umbrella and the
we later find out found a library called
Rage is that takes care of detecting
which input is available and also
interacting with objects with kind of
laser pointer and that might have said
some work if we have used that is done
what about performance well when it came
to performance as much as we could we
try to do a graceful degradation we we
had to do some simplifications from
developing sake so we did divided the
performance targets into three three
different groups pretty much which means
each group had a number of objects that
could fall how many audio sources that
could be played at once and how they
were played out and then we chose one of
those depending on the on the device and
physics we kept very very simple
basically if an object was below the
ground
it was colliding with the ground and
when it came to the umbrella we really
only carried about having having physics
on it when the umbrella was up otherwise
the objects would fall through and we
didn't want that and that was basically
a sphere Collider a very simple one and
we could cheat quite a lot because you
had an umbrella so you didn't really see
the coalition you heard it and you felt
it so we could cheat quite a lot there
we could have we could have done more we
discussed early on if we should use a
level of detail thing where we render
more details the closer things are very
common in game
engines but we opted for a sort of a low
poly look instead which also said say
say does a lot of pollen count so we
didn't really feel like that was
necessary we we could have had a framed
counting system where we could
dynamically adapt the performance
settings depending on the frame rate so
if it every talk without below 60 we can
start dropping stuff and really even
remove things if we needed you know
there would be a thing I would consider
if I redid it now yes and as we said web
they are polyfill it's a like a polyfill
that gives an alternative experience for
unsupported browsers and devices and it
was fall backs to a first-person view or
360 experience where you can control
with your mouse and keyboard on desktop
and on mobile aids uses device
orientation so you can like pan around
with your mobile and explain its it that
way and that is really useful when
developing because you don't have to
constantly check put on your headset and
shake you can just debug it in in your
normal browser a bit of worrying though
it's easy to get too lazy with that so
so you goes three days before you try it
interviewer and then you realized it
doesn't work it something doesn't work
so it's good to always check yes hi yeah
some statistics for sonic umbrella comm
since it launched in middle of April
roughly a month ago we have had 13,000
unique visitors interesting enough 10%
of these actually went to the site with
uh any kind of VR device so not a whole
lot and 0.5 of these entered with a high
end oculus device on a PC or oculus or a
wide device and also one blackberry user
no idea how that went
but it is interesting to notice that we
made something as awesome as possible
for VR and 90% of our visitors doesn't
experience that the experience that is a
360 video or 360 experience we showed in
the video and I don't know we discussed
this right up until launch if we should
even provide a 360 fallback or on your
phone if you don't have a cardboard you
can still view it in a sort of magic
window and part of us I mean we wanted
you to really experience this fully and
it trust me it's a lot more a lot better
in in VR and it's worth putting on your
headset but it's kind of hard to make
people do that I don't sometimes yeah it
could be that people don't have headsets
or otherwise people are just lazy and
don't want to put on them yeah we know
because it happens that way also just it
happens if you give them an easy option
the chances are they're going to take
the easy option and the sub turn on the
thing you really think is great yes so
what's next
since the headline for this event is
post JavaScript we should round up this
talk with looking at what's next and as
we said before we had the problem with
how to interact with our umbrella on
different devices so that's something we
hope will be standardized in the future
how to interact with objects in they are
how to surf the web in VR yeah I think
surfing the web is in VR is an important
point I think the transition between
different experience right now as I said
you have to have a user pusher push a
button to enter VR so you can't really
transition from one one webpage
experience to another in VR you always
have to constantly take it off I think
once we get rid of that once we can surf
the web even even see regular web pages
in the
our and just stay in the yard that's
going to do a lot for for a seamless
experience and I mean for now worth
saying is it's it's a great way to
augment
a web experience especially if it's
targeted to phones where you give the
user an option to just jump in VR if
it's if it's a video or an image where
you just can click to add it add
something to the experience but there's
also a whole lot to say about the
storytelling in VR I there's a lot to
explore there when it comes to what kind
of stories to tell in VR and I think a
lot of what you see today is very cool
tech demos probably targeted mostly to
developers it is interesting to see what
will happen in the future with like real
engaging storytelling me and see what
format works that can engage users and
make them come back and and increase the
number from 10 percent to a little more
2020 yeah and Josh carpenter who is one
of the guys working with web VR at
Google
he he predicts that the web we're to
scale and spread needs to be even
simpler to create and therefore he
suggests that the developers should be
able to create the experiments
experiences just by using HTML and CSS
and he lists some new building blocks
like 360 backgrounds a 3d positioning of
Dom elements native 360 video elements
and the element for adding 3d models
right in HTML HTML so maybe in the
future we can create the like wicket
already can with a frame but create
video experiences just by using HTML CSS
and CSS yeah to sum up web we are is
cool it's easy to get started with
especially if you're familiar with three
its access
accessible its open for anyone
cross-platform and you don't have to
download anything just click it's easy
to share since it's just a link you can
share it on any social media easy to
update you don't need to wait for an app
store to push your changes yeah that's
all for us we here some links if you
want to check out the sonic umbrella and
we have there some card words there you
can check it out later yeah thank you oh
you don't want to know I mean we're
mentioning with this is we jumped on
right when it was so new so a lot of our
griefs were in Mike browsers didn't work
as they were supposed to testing also
just just figuring out where the fault
was like if something didn't work was
hard to know if it was your fault it was
it was the browser if it was three yeah
so I actually had a method for that
which was to go into the VR dot info
which had that's there the official that
we are website and I looked at there are
examples and if it worked there I moved
on to testing it in three examples and
if we work there I know we screwed up
otherwise I could just blame the browser
yeah yeah it's it's probably one of the
projects we have work the longest time
with and when we did this presentation a
while back ago is we had as an argument
for web PR that is so fast to develop
with but yeah we remove that now from
from our list of features but yeah
pretty saw it's good be fast but as it
is now it's so not much that you need to
tweak for different devices but again
it's it's very early and that's just
kind of what you have to expect when you
jump on something this early yeah it's
going to be a lot of everything is going
to be a lot easier in just a couple of
months
next crumbling yeah I'm wondering having
really real simple question how did you
made an umbrella I mean is that
something that you imported from someone
a matter of some tree that treaty person
made it for you and then you import it
and with three made the movement and
everything yeah yeah yeah
it was made in blender lucky for us our
bosses really enjoys doing 3d stuff so
he did it for us and it's basically the
model at two or three different states
and we morph between them so it's a more
funimation so someone asked about the
umbrella in one of the eggs in actual
terminal velocity when they reached
because they should be well artistic
license no I guess huh yes
you know the formulas it or at least I
think where they are compared to is and
they do like well I'm like if you would
take this the scene I had and compared
honestly now no I don't have any numbers
on that
I mean you gain a lot from the VR API
and they really try to to put everything
on the on the lower level so so I mean
there are quite a lot of performance
gain and using it but but no I can tell
you if it's a big difference
okay let's give under the SMB have
another round of applause</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>