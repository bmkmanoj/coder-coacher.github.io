<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>GOTO 2013 • Interview with Martin Thompson | Coder Coacher - Coaching Coders</title><meta content="GOTO 2013 • Interview with Martin Thompson - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GOTO-Conferences/">GOTO Conferences</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>GOTO 2013 • Interview with Martin Thompson</b></h2><h5 class="post__date">2013-06-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/0fUWuMqYn18" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi my name is Ryan cyl bojan and i'm
here with martin Thompson hi Martin
how're you doing I'm good thanks I got
another thing compass so you were
recently recognized as a distinguished
speaker with go to congratulations on my
thank you is his surprise when did you
start speaking at try for conferences it
was early in 2010 remember in the
discussion in the Jim Weber back over
there falling either working in l max
then we counted locked away building
experience having fun time on metal gym
for their so talking about some things
that we were doing intensive you got to
come talk all these competences but some
of what you were doing and so when we
came along spring 2010 went to go to
London and dinner first talk which is
kind of interesting an intimidating
coming right about the down though I've
given an excellent ugh so we get out
there kind of shine not really sure what
to do but it was a fun thing today
that's what and how many different
cultures have you spoken out since then
I'll i think many know i probably
getting on four five six a year for the
last three years except instead of
getting to see a loss to the world it's
interesting to do that and what
motivated you to to do those talks to
begin with like what was the background
why why get involved in common speaking
then we'll haven't funded a small
start-up recruitment dissolves are
really interesting challenge and near
small doing the money to have big
salaries you don't have a big name
that's dancer i can get people in what
we thought would be really cool was that
explain some of what we're doing we
gotta get some great problems so if
that's all been really interested
computer science issues let's get out
and talk a bit about this and if we did
it will actually see maybe people come
along and approached us we weren't sure
who's going to work right weld or not
and we were really surprised it was very
successful as it means
recruiting people and come in to us that
was kind of combination of conference
speaking blog in open source doing some
journalists interviews trying to get the
word out about what we were doing the
dead lacks so one of the things that
lmax released was disrupter and that was
made open source and how did you find
that work from a community perspective
did you get good feedback from that
contributions how was the whole process
like there eunos fascinating there is
something we developed internally with
discovered lots of issues with
performance of cubes and locking and we
started some discussions with some
people externally we were very good in
this area and others we were
collaborating with those who discovered
doing it in the open was very comfy for
us also get an interesting feedback
decided animal that's just good the
whole hog and sources and this prize was
the mother feedback we got really helped
improve the product we can find that we
had a certain number of heads kisses
internally but nowhere near as much as
one of the whole community start backing
on until and the thing that came out of
that was the surprise with not only
needed to find lots of quality issues
that improve the product and Haley
but usability API design i've been used
in interesting cases an instant feedback
we had was like there's a way as you can
prove this do different things sometimes
it becomes just even a question that
someone to the set or we would like to
do something in this sort of where and
in looking into that it's a problem
Macek discovered to be refining the
design back an interesting side effects
in that we really improve things like
performance and usability and then they
come back in to our own stoppers we
integrate those changes I think when you
do stuff in the open the quality that
can come on is very surprised it think
there's something when you just develop
internally in-house you just kind of
focus just on their thing at hand you
know ten degree visitor we find and any
one of the same way as you do when you
do it in the open you're collaborating
with people and taking my food bag one
of the beliefs that I've developed is
that using something open source you
immediately have a lot of benefits over
anything at all that you develop
internally so something that you develop
internally only ever has you as a
customer you're probably going to
reinvent a bunch of things that are
already in existence and anything that
has been viewed by even one more group
team person has extra peer reviews or
anything you have done eternally which
do you find that's the case or do you
think that there are some things that
it's better to keep them internal
because it sometimes seems that there's
a tension between you want to develop
something internal accustomed to your
needs but also you want to use something
that solid proven bedded etc I think it
is more effort to do something
externally because you have to drag the
community also people put
effort into doing things like I find a
lot of the work i did instructor i do
know a long time because just look at
their job to do so you end up doing a
lot of thought but what becomes kind of
interesting this how other people look
at the code and they think about it in
other wires and it's very easy even the
cider company that you have multiple
people with a problem do you tend to
have groupthink way of doing things and
everybody kind of stood almost
continuously end up with the same type
of thinking and serious approach you
break that when you bring in external
thinking and things that you're it it's
not to the one person's blind to see the
whole thing can go blind to a way of
doing something that just taking an
outside view and you just turn that or
anything even a simple question that do
the four-year-old child thing why when
you've done that there you go I see me
to rethink about that and he starts when
you revisit that's really interesting
you cannot simply improve things I guess
as long as you can get past the answer
of why just because why just yet God sir
well you have to have a good answer for
just because because if you're just
doing it for no good reason I guess
looking rid reevaluating those kinds of
assumptions can be really good speaking
of things that are often overlooked one
of the things that you have a strong
interest in is mechanical sympathy
what's mechanical simply a mechanical
sympathy it's the term literally stolen
Jackie's do with the reason
so platform the 13 times world champion
he had a view that the best drivers are
people who work in harmony with their
car yet to understand it well enough to
get the best out of it that doesn't mean
you know how to build the car is meaning
you know I distribute your boxer engine
but if you've got a good idea for how it
works how it functions you can get the
back starving well today we seem to have
gone so far the stack so many layers of
abstraction you see them lost would
survive I've had a kind of interesting
that we say we do computer science but
how many people these days actually
understand how a computer actually works
and then people actually apply
scientific method there's a lot of
folklore and there's a lot of opinion
that people approach things and they
don't measure they don't ask they just
act on things they can believe in with
our annual basis for what's behind it
and what I'm finding more and more is
than that I think it's unfortunate how
we recruiting and boring people in this
industry is people tend to go to frame
works because frameworks look good on
CBS or resumes and the kind of takes to
learn some of these frameworks is quite
substantial whereas it's not really the
best use of our time is that optimal for
how we can improve yourself there's an
opportunity cost to this apartment it
can be just as easy to understand or CPU
works as it can be to find a safe
example how a container works and you
will find that we've got these hugely
complicated containers and we don't need
a fraction of the features and so we
bring in all of that extra code the time
to learn it the complexity comes with it
the fact that the pits bedbugs wished up
without in our code and yet we couldn't
spending that time on the thing
more control over own destiny I think
something's gone very odd in our
industry were we just seem to gather all
of these technologies together blood the
next to focus on solving problem and
understanding the stack that's already
occurs so it almost becomes like
architectures game of bingo you want to
put together bunch of names and get why
in our box or an excerpt yeah it's
become almost the joke in industry that
when people turn up on our project the
first thing they're doing is like
they're installing me from the
downloading confident in it next thing
they're installed it's praying hi
Camille whatever and having a good deal
what the problem is they're about to
solve yet other funds incomes there's so
much code on some projects in someone's
framework that is actually easier to
just go to the customer fund that one
needs to be built and the rebuild from
scratch is faster than understanding the
current code that sir but that's not a
good place to be it does seems being in
common and how we're now approaching
software I then there were I think had
to write so I'll group had to solve
business problems well it's not the
first thing we're going off and doing is
finding out what is the problem we're
solving for some and user I got her with
a great description that just here
yesterday at the conferences that people
going by a quarter-inch drill they don't
actually want a quarter-inch drill
normal quarter inch hole that's what we
should be going I just like what's the
problem we're solving then have a good
kit bag of solutions are techniques to
deliver to that solution so I think
there's an impression that in the age of
the JVM and other virtual machines that
maybe you don't need to care as much
about what the CPU is doing how did
focusing on the cpu and what is doing
help you out at all max what kinds of
benefits were able to get as a result
for example most people are not a word
the reason most of the software runs
only because of cattiness is it's a nut
kicking network trips which can be a
massive cost like if you're making 40
calls across a network to be a single
pass that's obviously going to be
expensive we have speed of light issues
just in doing that but we're even
working within the same machine the
biggest problem we face as a catalyst
that most people aren't aware that on a
modern ax eb6 processor a single
consciousness is Julia more lost
opportunity to evacuate 500 CPU
instructions that is really significant
and so exit the processing instructions
we keep hearing that CPUs are getting
faster that's something we must learn to
cope with but getting as your cpu's this
then we'll sue the time Idol we don't
have an issue with them being faster we
initially feeding them and how we feed
them is an algorithm problem uh nadira
like a problem so if we have issues with
using many of the elms that are going to
darius not at the end is the problem
it's the algorithms and how we access
memory the ability to access memory is
really important for how it happens our
hardware friends then their design
memory subsystem didn't know there's a
lot of latency commun memories they work
at West hiding that I want to do is the
tech tree disick Beth's first at their
tech is that its temporal and that
things that you've use recently you'll
use again recently so we're catching
things are pulling forward and at least
recently used scenario that's kind of
useful they also put that on the
spiritual side of things some things
that are close together can to be used
together against the fields within a
class if you're using one field you're
likely to use another field again a very
soon then this was really interested in
design that you've got appliances are
structures that are very coherent in
their design their cohesive and how your
gut the data behavior together you tend
to get
Katniss's new designing code and you've
seen a lot of feature will be and you
see one classes corner when you've taken
something from another class it's
typically cash missing because it's not
there is not together so that's the
second that the third bag the take on is
that our code has certain patterns of
access and this pattern is can possibly
be predictable so for example my little
walk through an array of memory they can
spot that Potter if you're walking
through the air and they can prefix the
memory into you as you actually get to
it and the patterns don't even have to
be just step one at a time it can be
quite large asteroids or loops and so
you keep walking across structures or
objects or something that are all
together than a rare not become
sufficient interesting job doesn't have
the ability to layered and progressive
objects or resonance structures we only
have our references and the references
are then off to objects that could
anywhere all of our heat I'm completely
unpredictable now we can spend a lot of
time arguing about things like invoke
dynamic alarm buzzing all of these are
the things while I do we not have a rest
of structures why doing a means to
actually lay out member in a sensible
fashion it really simple its output the
string we have a pointer to an object
that object internally has a character
rare it's not actually embedded in the
object is a pointer off to a character
array we're pointer choosing all the
time where does string if we had the red
in co-located with Dettol semantics for
describing string itself we're a lot
less likely to catch miss remember that
ability that we could be losing 500 CPU
cycles it is actually a three gigahertz
processor with the ability to retire for
instructions per second that's the worst
case scenario missing
100 instructions for one cache miss what
are these things not more front and
center so we're saying we don't need to
understand this stuff we didn't need to
understand some of this it's not that we
need to understand and maxim went to
detail the complexity that is in some of
our frameworks is much greater and
complexity just knowing how basic memory
works and how you serve patterns of
active this is not overly complex we did
have to get any responsibility for
learning these things these days it's
been a cultural thing so with Java as an
example which what things can you do to
improve your cash miss ratio well you
give an example of the string where
there is something which is a class
which has data fields but yet is not a
cohesive entity which is spread about
the heat how do you profile your code
and how you refactor your code to take
advantage of these capabilities so if
you do have performance problem you
wanna kind of start an approach it top
time you see language done and the best
ways to start with a standard language
profiler heb cheerful but cabbage a
visual vm didn't stop and the fine leg
which methods are spending majority time
you'll probably find in those cases it
will be one of three basic things that
you take yourself you're making calls to
your devious and we finally spending all
of your time coin into jdbc driver the
other thing that's quite often the case
is the party data at the front end
coming back in and we're seeing to be
obsessed these days with parsing and xml
matias in and all sorts of tax protocols
we use tax protocols we said we can read
them when we're developing them at
someone off exercise we so we can read
those things we have computers reading
the rest of the time i like to think of
it as a bit differently but I'm didn't
achieve by me for a cult what's more
efficient
20 pars and if we need to parse them we
were at two you must think they look at
the waist CPU cycles and the energy will
be staying around the world in data
centers because we have been efficient
code you can almost be cheeky and said
don't be a tool right at all the really
good stuff it's just the carpet disable
you must use XML even wasn't would still
and all the name spacing is that becomes
about issues bandwidth costs to go in
further one of the things I find quite
often is login code it's something to
profile code I've seen one case whereby
even garden cosec if debug enabled his
big bother me but was called over and
over it was six percent the total time
for cpu was actually just calling his
debug enabled not even going inside of
there was so much of this code and all
of that code cyclomatic complexity it
makes methods more complicated makes
them harder to in line makes it harder
to branch credit this is office of this
kind of crazy we should have much better
log in from Simon thing logging is a
really interesting thing is it should be
first class concept I like to think of
it do you keep a journal as you go
because you need that for later analysis
will do that let's do it right if your
dinner for debugging purposes that's
kind of crazy it's like when you learn
to use a debugger correctly I think we
are beyond the era of printf as a means
of debugging debuggers have greatly
improved there are some great remote
debuggers that can't have far more
control unlike the idea open around
developing so he take the Red Wing
refactor model so i'm going to write
some code i'm gonna run my tests for
that they're going to go read i'm going
to write this
the target code for it it's going to go
great and then I can refactor and clean
up quite often people don't actually
refactor as an Erica including some
interesting comments on yesterday how
agile projects don't seem to produce
cute designs people talk a good story we
factory never actually do it I think
there's also two other steps in between
number needs to help them to get goon
become professional as engineers I like
to walk through code in a debugger so it
becomes I I think I do all day every day
because you can think about it we have
the debug code a lot when it goes live
in university room learn to use a
debugger we don't learn to use a profile
to learn these some of the tools of our
trade you should be doing this day and
day out getting incredibly comfortable
with it so step through that code that
you just written in a debugger that
builds a nice strong mental model of how
something works you've got the starter
code think they are my paths as you walk
through that that will teach a loss to
animal he rates that's the code and then
walk through the debugger and it builds
of that strong mental model and this are
seeing well I didn't go down that path
in the past kind of interesting why do I
have passed case in place with that I
think goes a little bit further with
profiles the same thing so after we've
written these not tests and with walk
through the deep open there comfortably
else a little profiler we start to get
an idea of the costs of things we've
become were that some things are more
costly than others becomes a natural
thing it's a bit like the structural
engineer
the world is what is the torsional
strength of steel what is the
compression strength of concrete we
start to know these things we can build
interesting things that steel and work
sort of beyond what an individual can do
another building little garden chance of
them we repaired as professional
engineers to build quite complex
software if we approach that in ways
that it is not as professionals or their
engineering discipline so learning those
things through the profiler we can build
up about me neither understanding of the
costs rules no more time spend again
this is another thing that we
unfortunate or mental models because
statistics shows us that we built
software were only spending twenty to
thirty percent of the time actually
doing the initial build and use leases
of seventeen eighty percent of the time
is amendments debugging an older future
life that code getting us the clean
getting a cupboard getting profiling
debugging while going on over there are
tests greatly reduces that aren't going
cost it's also one for reasons why doing
stuff in an open source environment the
collaborative greatly reduces that cost
longer term skills up people by getting
the feedback externally and we start to
actually what we do I think it's
interesting if I was an architect I'm
going to come along my portfolio as an
engineer I'll come on my portfolio will
then be the degree for another job we
come along and software we can't show
what we've done before we can't talk
about we play this again we can't work
out what people are capable off without
any illustration of previous portfolio
it authors when we still are so immature
as like it's all like sciences any
subject and needs to add science to the
name and not really a science physics
chemistry biology math they don't need
to have science put on the end of it the
duties because we don't actually do it
most people today couldn't even tell me
what the scientific method is who
studied computer science so going back
to the memory layout with
java question discussion there's
something new was added and called byte
buffer in recent version generally with
java 7 it's been around longer early
excellent so so this this part of the
API it's it allows you to essentially
mettlach within JVM you take a chunk of
data and you can do anything at all that
you want with it in as I understand the
basically rasa byte array for all
intents purposes so how it is it worth
the effort to do that to basically
control your own data structure in order
to be able to manage things like CPU
interactions and cashing in etc yeah
it's a kind of interesting question this
tues two types of like offer inside the
JDM there's a normal eight byte buffer
which is effectively just over outfits
you can also have all the times you get
as blogs or reza shorts or is it any
sorts of primitives that are in there
there's also directed by buffer which is
off heap it's not actually a rare backed
it's effectively memory that's been
marked outside of the heap but we can
then use it and it doesn't move that's
very interesting for a number of things
particularly if we're gonna be doing io
sewn on what i can do is i can take one
of those direct byte buffers i can get
right into it and whenever I then do an
i/o operation I don't have to copy it be
another buffer especially that can avoid
copies that are Colonel transitions
where this is quite often you'll see a
lot of high-frequency trading and high
performance applications as people will
use those buffers to lay out exactly how
they want to let in light so that we
don't get the cache misses you're
typically they're not structures of the
state do not got object pointers to
other objects or its clubs plot
structures but this a lot can you
represent with
if you look at a basic java object
you've got a header which is two extra
words and you usually get interaction
from its construction to get to that i
can effectively layout or grants or
structures without errors to have a very
compact by doing them within a bite
offer or the major actor not direct i
can work directly on that very
predictable patterns of access and get a
lot of performance i can also avoid any
garbage collection overhead because this
is nice listen i freed from the garbage
collector so I'm not getting pauses and
okay you're going to be limited to two
gigabytes at a time we disliked an
interesting things not going to memory
mapped something's like doing probably
large structures we want to start
writing that two disks go to network
it's very fast and efficient for doing
on certain of additional copies we can
take advantage of things like transfer
to its own channels can take my coffers
with the channels you can call transfer
to on the likes of linux thought I see
map desann file so i can just take a
larger thud stream lead directly to a
socket as a single operating system call
it doesn't call me it through a user
space you make these things very fast
people go further than that and actually
use on CF am I using on see if I can
allocate memory directly just like I
wouldn't see or I can miniclip on these
byte buffers that makes it very
interesting for doing things like IPC
it's not on top of the ability to
directly access it I can also take a
factor some very modern in semantics i
can get things like
cows instructions and build up a
non-blocking algorithm so I can
communicate between different processes
using remembering our files this is
where faster than anything you'll get
the sockets you can go into the many
tens of millions of messages a second
string between processes with our name
garbage collection without of the
overhead of Colonel transitions for
making these calls all use of space the
user space in the high frequency trading
space and other high-performance there's
a lot of these techniques can do stop</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>