<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>GOTO 2015 • When Devops Meets Security • Michael Brunton-Spall | Coder Coacher - Coaching Coders</title><meta content="GOTO 2015 • When Devops Meets Security • Michael Brunton-Spall - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GOTO-Conferences/">GOTO Conferences</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>GOTO 2015 • When Devops Meets Security • Michael Brunton-Spall</b></h2><h5 class="post__date">2015-10-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/jbvqfVp5TOI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I'm going to talk a bit about when
DevOps meets security so for those who
haven't seen me before
I'm Michael Brunton's Paul please
remember to rate the talk gives me
feedback I'm going to warn you now I
tend to speak quite fast I apologize in
advance anybody who's seen me before
will know how fast I normally speak and
those who've seen me before and don't
quite recognize me I've chopped my hair
off I have long hair for the last ten
years and this is a new look for me so
I'm here from the government and I'm
told that this is probably the second
most terrifying statement in the world
I'm from the government I'm here to help
the only thing that is more terrifying
than this statement is this one which is
I'm from security and I'm here to help
I'm not from security I work for the
government digital service how many of
you have heard of GDS or the government
digital service I'm very pleased with
that that's that's over half of you
those who you haven't the government
digital service was set up as part of
the Cabinet Office it means I kind of
work for the Queen in a certain weird
way I don't get to say what her opinion
is on the InfoSec or stuff like that cos
she doesn't tell me but I get to go out
and represent the Cabinet Office around
government the government digital
service itself was set up to try and
take the government's IT systems which I
think most English people would refer to
as crap most of the time that's what our
minister said when he set it up like we
have some of the world's worst IT
systems the GDS was set up to try and
bring in clever people from across the
civil service and from commercial
organizations to help build government
systems that were simpler clearer and
faster we started that by building gov
UK which is the the front end the
government is how people get access to
apply for driving license apply for
benefits find out you know whether
they're due maternity pay find out how
to rate a go to court if they want to
get small claims court and get some
money back all those kind of things one
of the things that that is quite common
across government is government does a
whole bunch of very different things but
most people who have to engage with
government don't do it willingly they
don't do it at a time when they want to
and they often not doing something
that's much fun if you want to visit
a loved one who's in prison going
through that process government making
that process hard makes your life hard
and it's already a hard enough time for
you the other thing is that government
has quite a tradition with security so
when you bring in a bunch of I used to
say long haired hippies which is funny
when I had long hair when you read a
bunch of long-haired hippies who are
going to come and do this DevOps thing
and start building systems that iterate
fast that build fast the security people
kind of point in laughs and gov UK
managed to run rings around some of them
by by coming in quite early and saying
we're gonna build this this website and
we're going to build it in the next
eight months and they basically said
yeah we'll come back in about a year's
time when you've finished you know
charting out your your architecture and
we'll give you some advice at that point
within about four months we had
something live and on the web and we
were iterating on it continuously within
eight months we were able to launch
AlphaDog of and and show it and some of
those people didn't get a chance to
interact fast enough because we could
move faster than their inertia could
enable them to interfere with what we
were doing and that was that was really
really important but it means that we
missed out on certain things
we very much divorced ourselves from the
security community into a government in
many ways because a lot of them didn't
want to engage with us they thought that
we were crazy this stuff we were talking
about we deploy six times a day the the
I've been in worked in departments where
they deploy twice a year and they think
that's fast
they're quite pleased with the fact they
deploy twice a year not once a year
because that's what they used to deploy
once a year now they can do it twice a
year we deploy six times a day they
there is so beyond their comprehension
that it makes a big difference so one of
the things I'm going to show you this is
when we start engaging in the security
teams this is what we found the state of
information security in 2015 what is it
that security people start talking about
and it all harkens back to around about
1999 British Standard 77 99 was a
standard set up by the UK government too
it got all of the security people who
are working across information security
and said if we take everything that you
all do and we standardize it then
everyone will do security really really
well and what happened was the rest of
the world kind of looked at it took
notice and they turned it into the
international standard 27001 which is
the security standard that people tend
to get hit over the head with it is a
very very thick book of about a million
diff
security practices that you are you
should do for every information security
system and most people treat it like a
checklist it includes special word like
approval to operate in order to actually
run your service you have to get
approval somewhere you have to get
accreditation for services that you want
to run that's proof that what you said
you were going to build and what you
built is actually the same thing and the
security team when they reviewed your
original designs can now see what it is
in a world where we change our system
six times a day accreditation becomes a
very tricky concept for us to go to but
I'm gonna guess most of you have never
had to go through an accreditation
process is that right anyone here have
to accredit your software on a regular
basis couple financial tech VMware
people work with government that kind of
stuff I would imagine quite a few of you
have seen certification at various
points and in particular one kind of
certification that comes up time and
time again in information security and
in software PCI who here's had to go
through a PCI compliance process who
have enjoyed that process keep your hand
up no one never
nobody ever enjoys that process what is
that why why do people not enjoy that
process the traditional model looks a
little bit like this I come up with an
idea I take it to the security team or
the certification team who can do a risk
analysis of exactly what my idea will
will be that's a gate I'm not allowed to
progress any further until the security
team have given their okay we then go to
design phase
somebody will design the system and we
have a design review is my architecture
acceptable am I going to build it on the
right kind of tools are the suppliers
acceptable again another gate we're
gonna then go to a coding phase people
will code it if there's a change in
requirements we probably have to go back
a step we do the design we go back
through it we're going to code it we're
going to run it in tests after we've had
a code review we go through the the
wonderful penetration tests those
massively valuable gates that we get
before a load to put in production and
then once we've done that how do we do
it with changes in government we do what
changes with ITIL everybody loves ITIL
my favorite part this is is I've decided
I want to prioritize a change we should
over here I've done a change evaluation
that change evaluation is assessed by a
change assessment board so I have to
wait for the board to me in some
government organizations that board may
meet monthly that's quite helpful
so if I've missed it by a day I've gotta
wait 28 days
for the change advisory board comes in
once the change advisory board has said
yes that is a sensible change we have to
go to change scheduling and build
authorization I have to get
authorization to schedule my change if I
get authorization to schedule the change
I then have to actually get
authorization to deploy the change
that's set for shuttling the change and
then finally I have to post implement
and close the change before doing the
actual deployment in product into
production when we go meet government
departments and say we deploy six times
a day they think that we do that six
times a day and let me let you in on a
little secret we don't really do that
sixth time today
but we kind of do because it turns out a
change at sea a be a change
authorization board is actually very
similar to github pull request somebody
in the team has looked at that change
and said yes that's appropriate the
scheduling process actually when I asked
the operations team can i press the
deploy button and they say wait hang on
we're in the middle of an incident don't
press it yet that's actually that same
process these principles that ITIL kind
of come up with they're not actually
that bad it's just that I've yet to see
an implementation of them that doesn't
make me want to stab myself in the face
it's so rare that you find this and when
we go to government departments we do
honestly find these situations the
government departments talked about
earlier where they deploy twice a year
it turns out they deploy six times a
year for a variety of reasons I'll come
back to but to do the deploy there if I
have a deploy scheduled in March they
have a test period of three months for
that software you'll have no changes in
that software for the three months prior
to the deploy in March so it's the
software that was written by December so
for the six months prior to December I'm
writing the code but I'm not allowed to
change the design prior to that six
months so I have to go back to around
about June the year before which is the
cutoff point for getting my change in
next March so if I want to change
something in production I have to know
some in the region of 15 months in
advance what I want to change in
production when we did a very quick
analysis of that process of how they do
that process what we discovered was
about 95 percent of the changes in the
previous release didn't follow that
process they were sponsored through it
by an executive who said that's okay
you can go through and you can go in in
the lake process because it doesn't work
and they knew it didn't work and a lot
of them tried to blame security for it
agile changes everything when we go out
and say you should be doing you should
be following an agile methodology the
agile methodology if you possibly can it
should have a capital A but when we tell
people they should be doing everything
we're telling them I only do what's
needed right now in a world where you
have to plan your changes 15 months in
advance
that's quite a weird concept we're
saying release it release it really
early get it out in front of people
we're saying do a Minimum Viable Product
iterate on that process and we're saying
focus on flow focus on cycle time focus
not on how many things did I get into
production with that release but focus
on moving very very small changes
through the system as fast as possible
and getting cycle time from end to end I
met with a government department a week
ago who told me they're doing agile and
I was like oh that's really good like
what are you doing around agile we'll be
working in two weeks Sprint's I'm like
great what like what did you release
this week that we didn't release
anything like you didn't release
anything so what are you doing in your
spirits they're like oh we're in the six
one sixth one of the design sprints in
two months time we moved from the design
sprints into the implementation sprint
so we've got nine months of those cute
and then we have a release and I had to
break to them quite gently that this was
not what most of us would call agile but
they explained they have daily stand-ups
they do two-week iterations they have
story cards they have post-its they must
be doing agile and Dan said earlier he
was talking about you know the the world
of that old design processes is like
your parents generation of IT I live
that everyday in many many ways it's not
gone it's just moved into government
which is something that terrifies me
because government's building these
systems it's building a system that
manages your student loans
it's paying out benefits every day it's
managing your tax returns it's ensuring
that you're legally allowed to drive a
car and those systems are hard to change
and that shouldn't be the case we know
that people's lives change that we want
to change the way government interacts
with people and that's a that's a real
thing so it's all become a security
nightmare from Security's perspective
what do we do how do we fix about that I
think that's a brave new world
and it's something I go around talking
to security teams about security has to
be an enable it can no longer think of
itself as the department that says no it
can no longer be the person who says you
have to get approval from me for
everything that you do they have to be
an organization like Shannon said who
are building tools who are building
systems and ways to enable the
organization's the development teams and
the product teams to actually do what
they want to do and do it in a good
secure way we did a review of agile
projects across government we went
across a whole bunch of agile projects
and we did some review how are you doing
security inside your agile project
because it's a tricky subject and there
weren't many experts about it so we
wanted to know we know there are a large
number of projects out there that are
doing agile that are inside government
inside this accredited environment how
are you interacting with them the
biggest consistent finding that we found
there was absolutely no consistency in
how they're doing it every single
project had a different approach for
doing it and that's not necessarily a
bad thing because it is new and every
one of those projects were trying
different things and we're connecting
the projects together we're enabling
them to try all different things try
hypothesis for how security should work
some projects we're doing an agile
system not releasing and doing sign-off
every three months or doing some process
others we have one project where the
project was literally signed off to go
into production in a chat in the pub in
the evening with with one of the senior
executives they took the executive to
the pub they gave him some beers and
they went by the way can we put that in
production he said yes and it turns out
when we dug into that because that one
worried me a little bit we dug into it
and we discovered the system itself was
was a front-end system that would allow
you to input some information and it
would produce an email at the back that
went to an existing service that managed
the the these bookings which meant there
was no security implications for it
because it created exactly the same
system as you could interact it if you
just emailed the the case management
team anyway and the person they took to
the pub they explained this - they said
we don't think this I up to any risk to
the ER to the product can we put it live
and person went yeah of course you can
why would you need to ask and they
explained they've been told by the
security department that their system
had to be fully penetration tested shown
every security implementation all those
details in order to go live which is not
sensible so most of the teams don't know
how to do this and we're trying to feel
our way
so what do we do we decided to start
talking to the people and realizing the
checklists and rules aren't working for
them that's how the UK government got
into this mess but what does work is
principles what does work is telling
people good practices good ways that
they can start working things and things
to keep in mind so we published fake
principles there's a horrendous URL
there that you can go and have a look at
I refuse to say the C word that's in the
middle of it but and it's about
information risk management more than
security but it's really important the
key thing is they looked at it and said
very much like the agile manifesto they
have values of enabling the business
over governance and process which is to
say governance and process has a place
but not if it doesn't if it prevents you
from enabling the business informed
decisions should be made by competent
people those kind of things
now eight principles came down to accept
uncertainty you are never going to get
it right you are never going to build
the perfect secure piece of software a
lot of people in security think you can
but you can't so people have to accept
that uncertainty accept that a certain
point you're saying I've done everything
I think I can do and we're going to do
more but let's see what we can do the
second is security needs to be part of
the team and by that we don't mean
embedded in the team but we need mean
that the security people need to be part
of the understanding of the team's
mission that is to deliver value they
need to understand that in some cases we
embed security people in the team in
other cases we have a security team who
advise a number of projects and I'm
trying to be enabled us but security has
to be part the team and someone in the
team needs to be able to say I'm wearing
the security hat I'm making those I'm
having those thoughts I'm having
conversations from security to make sure
it happens
organizations teams need to understand
the risks again I went to go talk to a
government department I talked to the
the the development team and I'm like so
what version of OpenSSL you running are
you've ambled heartbleed the the
development team and the operations
people sat there we don't know what do
you mean you don't know well the version
of OpenSSL that we that we run in
production that's classified and none of
us have the clearance to know
a kid you know and you're still going
why is that classified the security team
did an audit of all the versions I've
ever sell they found some vulnerable
versions and they're worried if they
told us we might know how to exploit it
so they classified the finding so we
don't know I was like okay so you go to
obscure him why did you do that we don't
the information to get out and you have
to gently explain to them you are aware
that the attackers know the only people
you're preventing to know this
information are the good people but
that's not the way that security mindset
has come from a lot of these people used
to work in the military they used to
work in the intelligence community they
used to compartmentalization of
information they used to not sharing and
teaching them that teams who are enabled
who are informed and capable of doing
that stuff is incredibly important it's
something that we have to do we have to
be able to trust decision-making in
teams I've never met a developer or an
Operations person in an agile team who
just willy-nilly makes decisions and
says it'll be really funny if I
downgrade OpenSSL to find out we've
onboard heartbleed they don't do that
actually
well they don't admit it to me when I'm
around but you have to trust the
decision-making there the other thing is
security is part of everything you can
think security is about firewall but
it's not it's about the design of your
entire service it's about everything
that you do the other one is that user
experience is really important so
security is actually really important
security that degrades the user
experience we've got research now that
shows that if you make people put really
complex passwords and have password
rules in they write the passwords in
insecure places like Google Docs or like
on post-its or post-its aren't as
actually as insecure as putting them on
line somewhere the number people who
actually store them in a draft email or
put them in a Google Doc that's shared
with the entire organization with their
long complex password and that's how
some of these hacks work is people do
that and that's because the security
team said to improve security we'll add
these complex rules the user experience
matters if you want a secure system it
has to be easier to use in a secure
manner than it is to use in an insecure
manner teams should be able to audit
their decisions this is a really easy
one for good agile development team you
can look at the git commit log and find
out who did what and when when the
merges were done who did the merge and
who signed it off and which ones went
into reduction we have all of this stuff
and actually when we show what we do in
in agile teams to security people
they're often astonished because they
wish they had that level of information
understanding about their traditional
systems they think they have it now with
the change management database but they
don't like their change advisory board
records what happened but it turns out
to never really be accurate about what
happened whereas now get history and our
automatic deployment system does know
that and then understand the big picture
of impact security is more than just the
individual service you're doing if I in
my service display the first six digits
of your credit card as a form
verification but one of your services
displays the last six digits together
our services probably give you enough
information to get somebody's credit
card that's not a good thing that's why
PCI says you should only ever tokenize
down to the last four so we're
consistent about it understanding that
really matters what does that mean
there's a bunch of practices that we've
been doing we're working with different
projects trying to help them do some of
this we've tried a bunch of different
things these are the things that are
working so far so imagine you're
starting around new project the first
thing to do pick a security model that
is appropriate to your project it really
matters that if you are building nuclear
control systems
you probably don't use an agile thing
where you release you know every couple
of hours without any controls whatsoever
that's not an appropriate security model
on the other hand if what I'm building
is is public information about what
might what the next bank holiday is it
probably doesn't need the level of
control that the nuclear control system
has there there are scales there so
choosing a model that's appropriate not
just having one that's willy-nilly when
you start the project one of the key
things that a lot of people miss is
sharing with the team
what is the threats that threat model
thing having something in your github
repository something that tells the team
what do I care about who is likely to
attack the system is it gonna be
insiders what can I get out of it some
government systems allow you to get
money out we know that criminal gangs
and people who like to Deford systems
target those ones in particular so we
know what kinds of things they might do
we can understand the facts there other
systems don't have that threat we've
been able to do some things in
government we can standardize some of
that so we have a standard threat model
that says most government services are
always of interest to people who want to
get that the you know the general hacker
community who just want to do it for the
fun there
she they want to ddos us they want to be
able to compromise it in order to put
some HTML up they're not after anything
else that's a standard effect for us
there are other standard effects that we
know organized criminal gangs and
certain things they work on on
government systems so we can say to most
services here's a fairly standard threat
model now customize it now take what you
know about your service and your vision
and say oh yeah I can think about that
and tell the whole team because a
developer who makes a decision should I
write this code should I take ten more
minutes over this code it matters if
they understand what the threats are to
the service educate those
decision-makers to the risks they're
taking can you take out ten million
pounds a billion pounds five hundred
pounds from the service without any
other checks what are the risks that
you're taking and ensure that you're
making appropriate decisions and then
those risk decisions have to be made in
the team by the team your product owner
you whoever it is whatever you're doing
with your doing water scrum fall or
Kanban or something in unpronounceable
Welsh it doesn't matter what agile
methodology apologies anyone who's a man
it doesn't matter what methodology
you're using somebody in the team should
be making those risk decisions somebody
in the team should be understanding
every story I play probably adds risk to
the system or mitigates risk in the
system and then you think what do I do
about it when I have that card and it
says I want to store bank details and
that adds a bunch of risk that someone's
going to come along and try to get those
bank details what do I do about that and
we start going back to this ISO 27001
kind of language this is where security
people understand some of this work they
talk about what we do about risks is we
avoid risks so we can say let's not play
the story it's not that important
actually storing people's make details
aren't that important we could transfer
the risk we could say why would we store
people's bank details let's just buy in
stripe or PayPal or some other person
who can store it for us and they can own
the risk of maintaining that database we
can just go easy for us we have an API
key we can say yeah you want to accept
that risk we think we can do it that's
absolutely fine
and in fact we're not worried we'll just
play the story as is or we can say maybe
we mitigate the risk in some way maybe
we do some actions we add extra work to
that story to encrypt the database to
store only tokenized information to
separate out it and the thing that we
see quite a lot is people choosing it's
people choosing to temporarily accept
the real
people saying I'm gonna accept the risk
for now because I don't think anyone's
going to find it in the next month but
we'll add three stories to the backlog
for the next two iterations that will
add extra controls as they go by and
that's that's a really important
decision to be able to make a lot of
people who do security in traditional
worlds can't do that at all that's an
impossible move from any of them if I've
got to leave it there for a year and a
half I know that people that you know
many people find and discover these
things faster than that
but they may not move faster than a week
or two and that's where it matters how
much I know my threats
how fast are these people move how much
information telogen so they do what kind
of gathering are they doing on my system
how high profile is my system is it live
or people talking about it
what sort controls can we use
information security people talk about a
set of them.i we generally divide them
into two active countermeasures things
that deter people things that detect
what they're doing and things that
prevent them from doing it firewalls
alerting systems stuff like that and
those warnings as little warnings you
get on a shell when you log in and it
says you've just logged into a
government system and the CIA are going
to chase you down those actually work
quite well in many cases reactive
countermeasures things that correct
respond or recover from an intrusion
things that say I've been detected
because I know something's going on on
the machine I'll just burn the Machine
and start a new one up because that's
that's a recovery mechanism we can have
those traditional security people
understand this that's all stuff they
should be able to hear you have to do
but there's more that a lot of them
don't these are the ones I think are
really key that you'll hear some more of
later anti personas those are you doing
agile who does personas for your agile
projects hands up if you do personas so
you know who your normal users are who
are the people are going to attack you
we have personas for fraudsters that say
things like how much money are they
willing to spend how much time are they
willing to spend where are they going to
go anti personas help us solidify
certain things around stories around the
kind of misuse people might do so we can
write misuse you misuse cases like anti
use cases as a criminal for da I want to
change somebody's bank detail so I get
paid the amount rather than they do
those misuse cases are really valuable
for explaining to the business what
could happen but also you can start
thinking about interesting things you
can do with them once you started
working out what they are development
teams tend to spot these events
I don't like doing that by hand every
time I've got sort of set of tools in my
back pocket that I can start using
attack trees or another one that I want
to use I'm getting over quite quickly
but they're in the slides it's a way of
saying how would somebody attack the
system you start identifying what things
enable each level and then you can
choose something quite high up and say
if we complain this or make this the
less attractive option people won't like
I categorize all of that it lets me
prioritize security decisions red
teaming you've heard a bit about that as
well agile team should be red teaming
you should be doing game days you should
be doing all those kind of things
automated penetration testing there's no
reason every time I commit to my
codebase that I shouldn't be able to run
a set of very basic penetration tests
that confirm the same way my unit tests
do that I haven't done something stupid
because I know I've been a developer for
10 12 years I know the kind of code I
write having automated tests gives me
the crutch for ensuring that I'm not
doing stupid things I've done enough of
this for long enough that writing an SQL
injection floor is something that you
never do on purpose but when you're
writing that code at last one you want
to get in the last Dorian for the
administration so you go to the pub
that's when it tends to slip in having
something that will find it and let you
know really helps and every one of those
are things that should be in my opinion
automated they should be things that you
can continually automate so that DevOps
speed when you get that cycle time your
stair going I know I didn't break the
misuse case because it still doesn't
pass I can write automated tests for
doing that they should be integrated to
the team when it breaks the team
understands what broke and how to do it
and they have to be repeatable in the
same way that we've grown up around
Quality Assurance and how that stuff
works we have to make sure we have these
repeatable tests that everyone
understands that the team can own that
allow you to say as a team we're
building more secure software we're
doing this a lot better that is
basically everything I'm going to say
you should find out a lot more about how
to do some of the stuff later on thank
you very much
don't forget to rate the session
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>