<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>GOTO 2015 • Whispered Secrets • Eleanor McHugh | Coder Coacher - Coaching Coders</title><meta content="GOTO 2015 • Whispered Secrets • Eleanor McHugh - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GOTO-Conferences/">GOTO Conferences</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>GOTO 2015 • Whispered Secrets • Eleanor McHugh</b></h2><h5 class="post__date">2016-01-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/jjV1v3t1ick" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is an odd sort of talk because
people go to conferences to learn a
little bit about doing security or a
little bit about how to write code
nobody ever really talks about anything
actually meaningful about why you should
really do security it's not about
stopping hackers stealing stuff it's
about the fact that people are entitled
to private lives we don't talk about
that privity is not very high on our
list of requirements and this talk is
sort of it I'm going to have to
occasionally poke it I don't like poke
oh cuz I can opt you to poke dear yes I
could do with something and as you've
turned up all you have to do is poke
that every time it looks like i'm not
talking about what's on a slide my
glamorous assistant is an expert in
copyright in protect your databases it's
a fascinating some of the schools you
can find in London okay um look I would
probably just it clearly didn't even
happen so I gave this talk a couple of
weeks back in it's mostly its current
form at a go conference so later there's
a lot of go code if people don't want to
go through a lot of go code and
accidentally learn go in the process
that's fine we'll skip that five minutes
so please sort of yeah okay I'm also
writing a book on go and if you want to
learn how to do all of the crypto that I
will discuss later the free chapter for
the book which is just about hello world
has all that crypto and except how to
generate H max which is like three lines
of code so you can go and download it
and do all of this stuff fault line
without ever having to pay me any money
which i think is the best deal you're
ever going to get from a book with
crypto in yeah so we all have secrets
I mean we don't really think about the
fact we will have secrets most of the
time we don't think about secrets at all
most of the time we think about all the
stuff we're doing that then three weeks
later we think oh god I wish nobody knew
that and this is a natural part of life
and in fact the secrets that we have or
what actually makes the the general
day-to-day ability to sit in an office
next to other people and work with them
happen yeah so some secrets are really
awful I've played certain very popular
card game in certain circles that will
help you figure out how to dominate the
entire planet by building your own
Illuminati network there could be such a
conspiracy have no way of telling
infidelity we've had a lot of that in
the news recently criminality which s
you know a fair proportion of the UK
economy is untaxed unregulated none
known because it's criminal it's a gross
business and it's substantial why you
cannot buy international standard so
yeah we all have secrets that are much
less interesting than that things that
aren't going to ruin us probably mostly
most of the time if somebody gets my
bank account numbers they certainly can
probably pull off a good scam and get
money out of my bank account but I don't
keep much money in any one bank account
you're protected up to 60,000 pounds by
the state against certain kinds of bank
account failure anyway embarrassing
incidents so yeah I don't reconcile my
facebook with anything because of all
the dodgy photos of me from like 20
years ago though on facebook where I'm
completely off my head sexual
preferences of course is one of those
those things that actually we all have
them except for the people who actually
have no sex your interest at all and
they're just as keen for people not to
know that because Society has a big
problem about that so yeah so secrecy
because it is the grist of society
should really be absolute if I have a
secret unless I want to give it to you
should not be able to get it our tech
therefore must be able to make sure that
it can protect all that lovely
pronounced
off that's the basis of what we care
about secrecy this also means our tech
also has to be able to protect stuff we
don't want to protect criminality
conspiracies infidelity and the thing
that nobody ever talks about in crypto
talks and that nobody ever talks about
in privity talks or anywhere else it's
actually all of our stuff exists within
a framework of laws we all live in
jurisdictions with Lord that actually
make very specific statements about what
secrets can and can't be kept private
from the state now here in the UK the
vast majority of Secrets you'll ever
have you can keep private the state just
reserves the right every now and then to
use a court order to get it your bank
account records because it thinks you've
been involved in money laundering or
things like this if you go to Saudi
Arabia they take the view that
absolutely everything about your life is
their property whenever they feel like
it between the two there's a spectrum
between what you could call liberty and
tyranny when we write software present
if we do do security we actually go
complete to Liberty and don't get me
wrong I'm a libertarian I'm fine with
that personally but the trouble is it
means that sometimes kourt's come along
to your company like if your Apple and
you've got an iPhone that the state of
California wants to get data out of and
it turns up with the subpoena and you
have to turn up in court and say I can't
get the data out and the court doesn't
say well you physically can't get the
data out that's fine no the court says
oh well that's contempt of court please
get the data at least physically
impossible well that doesn't matter so
when you're building a system to protect
secrecy you also have to build a system
that does have ways of breaking through
it now this isn't something
cryptographers like to talk about but is
still part of the game so secrecy is not
the same as privacy privacy is a
slightly lower standard privacy is all
that stuff that's banal being protected
while at the same time allowing law
enforcement when really necessary to get
at the stuff they must be able to get
and this talk is really about where to
partly about where to draw that line
party about how to actually do both and
then there's a truckload of code that's
really insane and a checklist of things
that you can actually do when writing
software that nobody will ever do which
would actually give you a complete black
box that would do if you're really going
to take the libertarian stance on
secrecy but to at least dream would do
it so well nobody will ever crack it
quantum computers included so 50 okay so
privacy is not absolute so then privity
is also privacy also doesn't exist in a
vacuum I have things that I might share
with you between us a private ie we are
not sharing them with anybody in a wider
circle for that to actually work there's
an implied contract between us a trust
relationship we each accurate thanking
acting as anchors in this relationship
I'm taking you to be trustworthy you're
taking me to be trustworthy and that of
course is a contract and contracts
between open lawyers get broken a lot a
lot I mean that's what courts are for
that's what lawyers make their living
off of broken contracts so we've got we
put simple very good broken contractor
easily actually Madison now there's a
very strong contract involved in Ashley
Madison we won't let anybody know that
you're cheating scumbag give us some
money Bianca carphone warehouse managed
to get beautifully compromised and
compromise certain mobile phone networks
as a result of getting compromised and
then of course we have the Office of
Personnel Management and still nobody
knows what the full impact of that leak
is because that's four million federal
employees not just federal work history
their life history and the life
histories of all their significant
others and of a whole pile of people in
their social circles who were looked
into as a result of looking into their
significant others all data floating
around quite happily if you want to go
and buy it somebody will charge you some
money and give you it and that's very
dangerous stuff to lose you can't get a
life back once you
lost in that said you can't put the
genie back in the bottle so today's
topic therefore is also applied paranoia
because all security is applied paranoia
and we've got a lovely definition is
going to come up with genuine paranoia
okay this is how well this is how the
dictionary believes paranoia works it's
a mental condition so a psychiatrist
will make some money out of helping you
not actually ever get over it and it
sort of you know we know areas of life
where paranoia is rife I'm probably
quite justified such as politics yep and
we have quite good reasons to paranoid
ourselves we live in a world where
random people claiming to be political
actors but actually mostly in it ideas
for the lulz will quite happily
bitch-slap systems because they feel
like it we live in a world where a
certain generation at a certain age read
entirely the wrong materials if you
think that knowledge is a bad thing and
many of them believe they have skills
beyond what they have and then of course
we have old-timers who actually make a
very good living out of the skills that
these people think they have and these
people are famous in the press for
having you don't ever meet these people
but banks pay the money in suitcases to
explain how they did what they did I'm
getting nods from the person in the room
who's seen the transactions right next
slide so but also setting aside criminal
and lulz hackers we have the famous UFO
building out in Cheltenham which
literally has a duplicate of all
internet traffic between the United
States and Europe because they've got a
beam splitter down in Cornwall where
they literally just take the entire
fiber optic cable and make a copy of it
they can't read it but they're storing
it storage is a lot cheaper these days
and it used to it we have their friends
electric at the National Security Agency
that you can't really differentiate the
two of them there so in each other's
pockets it's yeah it's a single
jet-setting community but also
we have commercial entities who
supposedly are doing good things for
their customers lenovo sailfish how many
people would ever expect to find a
man-in-the-middle attack sat in the bios
of their laptop you know hi yeah well
you set up your SSL tunnel by the way
we're going to swap some root
certificates around and do some dodgy
stuff them you're advertising is going
to be so tailored to you I mean that is
the whole point of sale fish good
advertising I was having a conversation
rather drunkenly last night with
somebody and I forgotten what the actual
bit of Linux involved is but somebody's
actually taken a similar sort of concept
and moved it down into the Linux kernel
so that you can inject device drivers at
runtime into kernel space and I'm
thinking to myself I can inject a device
driver into kernel space where just that
I can man in the middle of kernel and
what mask causes that we also have the
fact that we live in a world where most
people want to build freemium businesses
actually forget about states states
aren't a threat forget about numpties
who want to advertise they're not the
threat these are the people who are the
problem and these people probably aren't
that many of the people in this room
today but the last time I gave this talk
to about 200 people and eighty percent
of them were working in companies whose
business model with freemium it was all
about the data collection it was all
about repackaging and reselling the data
or from the users and in little bits
that doesn't look so bad but if you know
anything about traffic analysis it's
very easy given three or four sites a
source data to build a very accurate
profile of a human being don't have to
know who they are to know who they are
so so therefore I would actually suggest
the paranoia in our world whether your
developer or not is actually an
incredibly sensible and reasoned
reaction to what we should be doing when
we build a network systems now I used to
have a cup I used to have a picture of
an aardvark are down here and I've taken
it out
because it's kind of unfair to rip on
our dark because you have to print your
own so it's not really the Indian
government's fault that that's a dodgy
piece of paper it's the fault of whoever
decides to print their art hop on it but
we deal a lot of the time with states in
places where we know they have control
we go to airport we do the whole
security theater liminal space praying
to the plane God think we get on board
the plane and put our shoes back on most
here in the UK especially most civilized
in quotes countries now have CCTV all
over the place we've got four million
all of these cameras last time I looked
up the statistics here in the England
they're actually useless because the
resolution on the photography is far too
low to ever catch a criminal most of
English law actually works on the basis
that if your face can't be caught it
doesn't count it's not useful evidence
for an automated response which also
means don't ever bother paying dry
driving fines for speeding through
cameras unless they've got your face
behind the thing you have to literally
fill in the piece of paper which is a
confession to say it was you if you
don't feel that in your not guilty
nobody is people make that mistake all
the time and down here of course we have
a whole selection of very useful stuff
our travel documents travel documents
travel yes none of those is an identical
yes identity document at the back the
important one you'll notice has no
biometric features no identifying data
beyond a name it you can go along to any
registrar's office and find one of these
for dead person and be that person that
is the most common form of identity
fraud in UK however all of that stuff
which governments think is being useful
we have to trust they have tanks and
guns and bombers I did admit it I don't
expect a stealth bomber to come over my
maisonette in Edmonton green anytime
soon for anything I've done but I mean
in principle it could perhaps I could
get stealth sheeting for the roof that
keep me busy for a few weeks however
there's another version of reality where
it's not government's who have all the
power that's the one that we build so
for those who don't know what this is
this is a
not particularly this was devised by a
very famous liberal radical in a 19th
century called Jeremy Bentham a few of
these were built the idea was at every
prisoner was kept seek separate every
prisoner was monitored 24 7 the person
in the middle could see everything was
going on they had to take them out of
service because about eighty to ninety
percent of prisoners went criminally
insane they couldn't cope with the
isolation and the constant being watched
that tells us something about a world in
which people are becoming more isolated
and constantly watched I had to include
a dog but because I mean after all a
doubt you demons of damn stupidity
customer data is an asset that you can
sell and I have sat in enough meetings
where people have said this with a
straight face I've always I always
assumed that you know it would be
trolling but no people mean it and then
of course if you've watched the matrix
you know exactly what is inside boxes
every single bit of data to can
reconstruct the state at any single
point in time so we are privileged more
so than governments people don't
understand that and what they stick in
our systems they think is
inconsequential but actually no it isn't
it's not at all inconsequential because
we're slowing real world secrets a lot
at the time that have a financial value
or bearing on a person's actual life in
a way that what the government keeps
doesn't and on top of that we have all
of this identifying metadata you know
this is the staff to all of those big
NSA programs or obsessed with getting
because you have this stuff you know so
much more I mean the metadata analysis
is what actually broke the Nazi war
machine not being over to decrypt Enigma
codes because you could map the entire
German operation across Europe from
nineteen forty onwards was fully mapped
in real time because you got all the
metadata you know what's going where
doesn't matter what they're saying and
figure that out somebody on the ground
pair of binoculars on that make sense
from three weeks ago suddenly the key
opened everything so
now the trouble is though if we're going
to build systems that going to do trust
and we're going to say privacy seriously
we also have to ask who do we trust so
when we put technology in when you put
insecurity into your systems effectively
you've got these damn great big bars did
you build them very rarely so that means
you've now got to trust the people who
did build them people other people have
to make sure that the people who've done
these things have really done them and I
know that an awful lot of people in the
agile community really hate being told
no you can't deploy we're doing a
security audit but honestly a lot of
code should never be let in the real
world if it's not how to secure it to
your tip it's just the way things are
yeah so so there are three basic things
that we have to attack firstly dev
practices I'm not going to tell much
about that I've got a couple of slides
that are going to come up with some
pretty pictures that will not make any
sense to anybody because i'm too
hungover to remember the detail really
but then i'm going to talk about
architecture now that might actually
seem like it should be the more
difficult thing with a hangover to talk
about but I do crypto tunnels on
autopilot so that's not a problem and
then finally we do a little bit about
operational rules but not very much
because I'm not really working with
opposite present I'm mostly interested
in getting people to realize they can
build lockable unlockable black boxes
without it all going wrong I do hope my
foot my voice doesn't sound as rough as
it does from the inside so pivotal in
depth practices we all have pipelines
like this in what we do we get some
requirements coming from somebody I do
hope everybody says no a lot it's the
best way to deal with with bad ideas is
just to say no that gets split across
some code teams who go off i don't care
how they're doing their development
there hopefully iterating but how the
hell they manage that i right it doesn't
really matter there's some automated
testing that goes on and if they're
sensible they've got a QA before they
really push to
I've but if they haven't probably be
automated testing results in some kind
of deployment and there's a lot wrong
with that model if you're storing
personal information there's nothing
here to safeguard that you're not
leaking any other so it's actually quite
easy to fix for one thing if you do if
you're iterating anyway you already
probably building prototypes as part of
what you're doing and you can actually
security test them as you're building
them internally that's not the sign off
that's not going to live but that's
allowing you as devs to make sure you've
covered all the stuff you think you'll
cover banging through automated testing
and QA and then you get some nice
gentleman for around about 750 pounds a
day who knows owasp tools properly to
sit there and just run all of them
against you and say fine you're
protected against most of these attacks
if you have sense probably you also
there and there a running penetration
test and a shannon mentioned yesterday
you need red teams and blue teams I like
the terminology I've not run into it
before in the ISP well we used to refer
to them as alpha and Tiger teams because
it's sort of like yeah hard we're sort
of dropping these Marine Special Forces
in your code sort of thing so
architecting architecting prophecy is
much more interesting to be honest
because fixing process is one of those
things that it takes months and you just
do it and when you end up with the
process nobody can quite remember why
they went the way they did but it works
so as a basic before anything else I
would assume everybody already knows
that when they're doing secure stuff
they should encrypt all their transport
if it's going over a network it should
be encrypted unless it's something
that's absolutely not useful you know
like marketing pages and stuff like that
if you're relying on https to do this as
part of doing web architectural whatever
that's fine as long as you make sure
that you are always up to date and you
do follow all the CVS and you're not
relying on open SSL to actually be good
slightly trolling because I mean been
Lori and a couple of other members of
the openssl team do live here in London
do work for Google and actually are very
good at what they do but of course open
SSL is just a behemoth it's the size of
it that makes it difficult to really be
certain it's doing what it's supposed to
be doing public private keys I mean
basically I know walk you look you
roughly through what HTTPS does there's
a cert hopefully sat up at the server
side so that I can be certain when I
talk to the server that it is reports to
be there's probably some DNS SEC to make
sure that when I look up the server I
can actually be CERN it's at least in
the right domain tree DNS SEC isn't
actually a very good solution to is this
the correct server but it is a good
solution to has this server been
tampered with recently because it takes
a long time to propagate so it's not
that it's not the area you would want to
do a cache poisoning attack on a DNS
secretary just because you've got good
work but anyway so you establish secure
channels by giving a public key and
getting a public key and then you can
talk over that now this is you know if
you're using HTTPS you're going to use
hybrid crypto which is going to get a
lot of mention through here basically
you're not going to use our essay for
doing all comms because I always say is
a lousy heavyweight big key mechanism
and you're going to use AES or some
other symmetric cipher because it's
cheap and that's all well and good
there's a very nice trick the ssh
clients do which is they actually pin
the IP addresses for particular certs so
if the IP address changes all the search
changes you have to re-authenticate that
as being valued place you want to talk
to and this is something that most of us
should be doing in all the network code
that we write just especially in turn
especially more anything else internal
code if
building a Microsoft architecture and
your components aren't talking over
secure channels with all the cert
spitting down somebody's going to get
into your network and then they are
going to have fun and you're not going
to realize they're having fun because
all the traffic's encryption so change
keys very frequently especially
symmetric keys it's very cheap to do
because they're very small they're very
cheap to generate if you've got a hater
semi that's kicking out 320,000 bites
the second of genuinely random data
stream and you're taking 16 or 32 bytes
of that to use that's an awful lot of
connections you can be feeding per
second with a fresh key and whilst I'm
not going to talk much about one-time
pads because for one thing none of us
actually really do do one-time pads even
though we talk a lot about using
one-time pads in a lot of systems
because there's this key constraints
that everybody always forgets you have
to bind a distinct key to a distinct
message and if the message ever gets
used again you have to use the encrypted
version that was included with only that
key to get the full protection of
shannon's one-time pads I mean I Chuck's
one-time pads around like confetti but I
sort of tend to lower this restriction
because this actually is very very easy
to attack with traffic analysis oddly
next like so we're going to walk through
some go code you see got to be quick by
the end of it you'll know we'll go I can
do I've got a full go lightning talk
it's three minutes 40 seconds of full
speed and it teaches the entirety of go
in that time and I just managed to avoid
getting kicked off stage at a ruby
conference by getting it in under four
minutes so welcome to a very simple go
program anybody yeah basically there's a
version of this talk I normally give
shows the encrypted and on encrypted
ways of doing stuff but you know what
you shouldn't do the unencrypted right
no point I agree with Google and their
whole move to this whole new web of
everything encrypted I just don't like
their way of doing it but anyway so
looks like
the main thing that's important here is
there's a HTTP library it works by
taking a closure that will print out
something that basically saw some stuff
in a buffer and then gets dumped out and
I think there's another slide after this
that shows that yep the next bit and
this is literally all you have to do in
a go program to have a perfectly
reasonable clean room implementation of
TLS I think 1.3 now just running and
serving content that's it I can show how
to do it slightly less coding Ruby just
but unfortunately stuck on openssl so go
is an incredibly light language in which
to do crypto which is why all this code
is in crypto and not in this crypto as
you can go rather than see and stuff
like that um I cannot really a fan of
web services to be honest you present
stuff to the outside world and people
like web interfaces and that's fine but
when you're actually building stuff
internally and you want to have control
over your crypto environment you're much
better off to actually while you own
stuff over TCP because you haven't got
all that Lahti interpretation of
translating strings backwards and horse
and all that and it's a lot less garbage
on the wire and binary protocol is tend
to be that bit much more difficult to
apply plaintext attacks against just
because text based protocols 10 type
very clear text did everybody knows
public knowledge so it is yet again very
simple to set up TLS a server that's
over TCP it's all baked into standard
library so yeah yes we've got a
cryptographically secure random number
generator because everybody has these
days and the pack of code is pretty much
the simple the same Chuck around closure
do some stuff so you can listen that's
basically yeah and you need to be able
to configure TLS which again taking care
of whips up
I think attired slightly more bizarre
yeah I thought it was best to entry
client and server version it's ever so
slightly more bizarre because actually
probably most the time most people if
you're working on the public internet
shouldn't verify certs because the vast
majority of search you're likely to
actually deal with I'm probably
self-signed and therefore probably don't
verify I'm not active if it if you ask
it to verify a search that can't verify
you get a panic most people don't write
the handling for coping mechanic so but
there's not a lot to it and it sort of
as I said I'm going to flip through this
stuff quickly I just really wanted to
show that there's coverage from one in
straight the way down and it goes a very
easy language to put code together for
doing this stuff UDP I've apologized for
calling this a server but the trouble is
that effectively every UDP system
consists of two entities each of which
is a client and the server in different
contexts and I know we tend that that's
not how we normally think of you two
people it's hot nearly always falls out
when you write the damn code so here our
purpose is to basically just have to UDP
things talk to each other using stuff
encrypted with a yes if you're not using
AES use it I don't think it needs more
of a big up than that it's like it's
cheap the cost between doing public key
crypto and doing symmetric cryptos
orders of magnitude difference so as
long as you're not relying on symmetric
crypto to have one key lasting for a
long period of time and it's incredibly
cheap to swap some / communication
because they're so small you can
actually build very very fast crypto
architectures by just relying on aes to
do all of the internal crypto and
managing your key role over properly
where is a lot of people think the first
thing they should do to secure their
infrastructure get themselves a nice big
sur from one of the dodgy companies and
then pin everything down and do RSA all
over the
place which isn't all the way of doing
it in this code that's this is probably
this is the second deepest chunk of code
on the entire thing basically it just
shows you the simplicity of doing EVP
encrypt something and I apologize for
the function called quantize I couldn't
think of any other good name to describe
not having obviously spot able block
padding which is really what that's
about so yeah I think this to just skip
through them I'm not really excited by
them this morning that's good so yeah
yeah Oh God God I did go mad yeah
obviously if you're going to lie to
serve you can imagine client it's nice
to have client code so I think you just
there's not really much to this I mean
is the one has to do some hacking up to
send over the wire the other has to do
some unpacking but just to flip through
them yet who's ever sort of using public
public encryption on a UDP packet
because I mean the point of
public-private keepers is they're quite
big I mean that this I wish HSN
manufacturer to get their heads out of
their asses on this and give us the
capacity to store more than than 2k Keys
normally but I fortunate government
standards tend to like 2k keys but you
know I mean you want do are we saying
you want a reasonable degree of security
for cakey is quite nice and their modern
hardware it's not that before but you
don't normally think of UDP packets is
more than 512 bytes which of course they
can be if you really want them to be um
so this is basically just an example to
show that you can do as I say very very
easily over things so flip through again
at all of this is in a ghost standard
libraries saying the plant that stick to
it
the point is to make sure it crypto
combined with public private crypto
gives you hypocritical free the
advantage of hybrid cryptography is
people are looking at the wrapper you've
got something locked down with a very
big set of public/private key pairs and
some certs and you can make a lot of
promises with the other party about what
the envelope looks like but assuming
that somebody cracks the envelope they
just entered your land what goes through
these tunnels what have you put in the
envelope and the great thing with AES is
I don't have to be symmetric in the keys
we think of it as symmetric crypto
because both sides need to have the key
to encrypt and decrypt but if I'm
talking two days down a tunnel I don't
have to use the same keys from each side
as the encryption keys I can swap keys
over so as an out-of-band channel and
they can I have two completely separate
crypto tunnels that you've got a
compromise both of them to understand
the full communication I can roll over
the keys anytime I like on either half
of the tunnel I can put more tunnels
through there's nothing to say that I've
only got one one set of tunnel I can
have dozens of tunnels going through
this so by having hybrid cryptography
you open up the ability to do
infrastructures and architectures you
could never do if you're just relying on
one method of encryption the downside is
of course don't stick more RSA through
RSA decreases the entropy of the RSA I
made it easier to crack and the same
with a que es through aes don't stick
another tunnel inside one it with the
same crypto method so that's kind of
yeah there's another site is though
because being able to say well I can
real complicated crypto architect this
isn't the same as being able to say I
can be sure that what I get is what was
intended to be sent because you've got
to know when somebody's actually broken
a key and the easiest way to know
somebody's broken the key is to also add
a signature now there's lots of
standards for digital signatures that
various context page max I have the
advantage that they are incredibly cheap
to calculate I built something for HSBC
a few years back
in Ruby secure single sign-on system
with a black box database and I signed
everything that page max I had a huge
match all over the place and yeah
fractions of a milli second of a micro
second even on the server that was
running on was spent with actually
generating the signatures for the
messages the cost was actually the
public private keys to set everything up
and then after that everything else was
incredibly cheap so the great thing
about then combining crypto and
signature is you move back out of tech
these move you back into trust Trust is
a place where you can start getting into
identity about knowing who you're
dealing with and also trust is an area
where you can anonymize because if two
sides trust each other they could
minimize how much they have to share
they only have to share enough for the
trust so oh yeah I stuck in a couple of
examples of page max and go so just flip
through these basically they're things
that have to go with it ah I promised I
was never hiding anymore to the free
chapter of my book because 60 pages for
free and it's all crypto does seem a bit
mad and then I realized I'd not putting
the examples of doing age max in so now
I've got to put another page in with the
cage Matt code so yeah I mean the main
thing is oh actually this is all for go
to read as well because I mean it's just
a lot going going on but the basic trick
is I sign something we've agreed a key
that's used for the signing separately
you can then check I've signed er you
sign the content I sign the content i
want to send not the encrypted version
and I put the signature with the
encrypted version and it flies down the
network and you take the signature and
you do the decrypt and then you run the
same key for the H Mac and then you say
they match or they don't a lot of people
make the mistake of doing the other way
around signing the encrypted thing yeah
that doesn't actually tell you if the
content in the encrypted thing you
receive is the content you wanted so
it's a very
I've got a friend Tony arcieri in the
Ruby community who's got an excellent
blog post on the subject of people doing
their signing the one way around so so
if we're going to encrypt all transports
and we've now got the technology to
basically stick crypto wherever we want
we might spread also encrypt all
passwords the first thing on my list is
very contentious because actually
probably if you pick the wrong Unicode
encoding accepting Unicode is a great
way of not expanding the symbol space
but actually putting a lot of plaintext
attacks around zeros in so you want to
run length encoding for Unicode not 32
bit unicode but you should never receive
a password from anybody you should have
the the client that's talking to you
actually create a hash of the password
you should give them a key that unique
to that that you stole off and we stay
with them for however long the password
last and you should only ever receive
the hash because many people use the
same password on many different sites
and there's nothing wrong with that you
don't have to use a different password
on every different site if every site
doesn't take the password but take
something that's generated that you need
a key to generate if you're going to
generate hashes or would you take max
not very expensive also salt things and
hash again you just expanded the number
of state spaces that somebody has to
look through to find the answer and in
fact one of the easiest things you can
do if you've got a tow pin it just needs
to be immutable and usable again as
identity is that basically you can just
stick hashing in wherever you feel like
and you can do many many thousands of
rounds of it because the what most
people are going to do is they're going
to try and break a square table these
are going to try rainbow table attacks
and if they've got to build this size
rainbow table that's quite difficult you
need a big server but if they now have
to take that to the power of 10,000
they're not doing a rainbow table attack
and 10,000 rounds of hashing is
incredibly cheap it's in the order of
Milly's daddy's in the order of
milliseconds rather than microseconds
but it's still cheap
um yeah a lot of people are very
obsessed with two factor authentication
at present I've written this in the
context of two factors that's what most
people are going to do but actually you
should require multi-factor
authentication if somebody has more than
two devices registered with you don't
always send a confirmation signals to
the same device send it to the other
device make them carry more than one
device you know um that isn't
necessarily as ominous as it sounds
because effectively in a device you can
have option number virtual devices
buried and then you combine where it
goes and how you get a bit confirmation
code should always be sent out to band
and yet okay so sending by an SMS is out
of band they shouldn't be six digit
numbers they certainly should be six
digit numbers that seem to have a high
predictability and often you get the
same code back over the course of a week
as a certain length we've been observing
us a six digit number is prone to the
exactly the same kind of class where the
tax that would expect anywhere else
through somebody's in a position to
actually do the system that's going to
be receiving it is going to be
generating over time they will figure
out what about in sequence is because
it's not learned hardware security
module behind it it's not like genuine
commander a lot of people would have
used secure Amanda which is a
veteran festive menu software basically
the other dead don't get the
confirmation code back have your
software in the time turn it into an H
map and send back that hmm i'll make it
go to akiba like each other awake keys
each time it does it you've got another
green service you gchat or whatever i
mean this is this is truly or 19 leg
19th century spy stuff yeah we've both
both little property over dick I'm only
going to use the word positions swing on
page for now you know if it's actually
how to how to communicate and how people
knowing who a while we're so the long
time ago it's just we don't tend to do
in a digital world we expect to find
clip algorithms little fix-it world but
the great thing about confirmation
photos multi-factor authentication it
every device you will enter code file
you now have another secure channel
secure Channel today because they can be
used by both artistic eavesdrop on what
the other channel is supposed to be
doing so we haven't asked for something
you didn't we've done for a time where
effectively we use a secure channel
itself to share secret and it means that
you connect child and log into a website
and you're with an identity is possessed
in your mobile phone or their mobile
phone but either way your mobile phone
is up at the back title and you can
press log out and if you want no way for
a child to stop it because the child's
meeting the band of communication to
stop it which is an incredibly powerful
teaching perhaps beyond to monitor
what's going on on your
religion connections from another one of
your privilege connections and cure we
don't tend to think enough about me not
to kill what's going on encrypt all your
story channel physic this is a bit of
personal bunk bed which is once you
start doing searching encrypted data
bases is competing because you can think
of so many weird schemes that mean any
what takes the databases or they have is
a big commander part of noise and if
they had a quantum computer they still
just have a big pile of noise this is a
place where at one time has come very
proudly because suddenly you could you
can go down to mental level field level
and the granularity of how you own crude
stuff and honestly if somebody gives you
two terabytes of data average field
length 70 to 120 fights every single
field encrypted with a different key and
I have access to the keys to unlock it
um do you think it is going to take them
to brute force about database and find
out about more than one degree use it
but it's not going to take you very long
to generate the data the crypto try to
put the data in there that secured is no
slower than the Kryptonian already just
doing to get to the boxes to talk to
each other so you do have to act with
your key index as you go and effective
to chuck away the index you need to
decide what data goes in can be found
in the future because all you're
actually ever going to store if you want
to service in state is a hvac over
clearly you can want to run against a
field which is fine I look up for the
data of our people tops well if I
populated the fear the database so that
people called Thomas will have a
dramatic research on you can find them
ever to can't see anything about in fact
you new European Thomas's that's still
traffic analysis you can still do things
about but on the other hand if I didn't
actually index it tall on Thomas I
principal music before name there now
the only record that they're ever going
to get back we'll be able to person
who's ever the name is Thomas so most
people most data doesn't work that way
most data actually forces fragmentation
down to more and more keys to the cut so
you have to be very specific in the
clear if you want to make these
functions but it works very well also
simple biggest annoyance for me when
digging in the backyard depths which I
am one so this applies to me as well
nobody ever splits roles you know the
number of code bases I've seen by
somebody's property nalo library for
different bowls your admins can have and
users could happen they haven't divided
their actual effect is when you're
biting complex application to your
talking database like this effective
item operating
readers and writers and nobody spits up
so you put these components that connect
my god we done like an update everything
and really what different components
their dignity proportions about that
have to prove they're trustworthy by
talking over a secured link where they
don't get again with certificates at
some point tablet which there is way of
doing it did apply them because they are
happy but anyway they work the other
thing to bear in mind is anything you
visualize data store you can also
visualize as a result any tricky would
use to secure a network you can use to
secure a data store conversely very
humid you with a battery cursor to
secure a data store you can translate
into securing a network architecture
then the two things are effectively
equivalent when you look within just in
terms of proof photons we're going to be
very creeped on operational be honest
devops yeah they're lovely people but
they can upset the new given place in
the requirements like inject the encrypt
the encrypted jar file into the job at
one time and then delete it from a
doctor container and then delete the
document a family but it wasn't like
this it took that obviously asked to do
that two and a half weeks to get
daughter to do it after what you said I
still be mad but it works I said thank
god you're now crypto specialist you can
go off and you can inject one use by
increasing two things so
it's very thick operation is to make
sure you have got trust a good now
setting up the search authority staff is
unpleasant and to some extent it is
unpleasant because if you're doing it by
own ssl that moment was to public but
there are a lot of especially in this
city there are a lot of very good
experts in doing service behold the
banking world runs out of London and one
wonders I'll tell if you all there PKR
that I'll become probably constructed so
finding help with this amanda is very
easy the advantage of working the
FinTech capital is FinTech uses security
you can find it be very expensive to
hyphen T so yet again once you know you
should be using load god save more
focusing even I have exactly what the
minimum spec surface you can explode and
where is get more operators to actually
accept but they work here they don't
work there the idea you've got one
opportunity is going to bind everything
that you've got is an insanity
especially but Mike reserves
architectural anyway because you're
going to have a lot of different
components that you need specialists
you're familiar with works of valium in
the system and then I Celyn
compartmentalize it seems off but
silence I know that we will each side of
it because if it's in a way again but
sizes existing security large the
Intelligence Committee by the reason
getting across decider is difficult
everything on the other side is a
foreign country effectively audits how
many people here you're coding it how
many people know no agile team do you
like tutorials um I have nothing against
agility and iterative development all of
my work I do using prototypes but it is
very beneficial from time to time to say
thus far and no further and absolutely
no purpose not just you read the whole
code base you read it to make sure that
you have an uneven stupid before you
have me to somebody who's job is just to
read it and rip it to shreds it takes
about two or three days on say on a
15,000 like 20,000 my code base must be
most web system to almost be effectively
and I once you've got a component that's
actually being audited it doesn't need
auditing again to change it so the great
thing about Mike reserves architect
assist you can effectively we pull out
the auditing across everything that
we're doing but that thing once it's
locked down that has to be an immutable
deployment about doing an immutable
deployment is one of those things that
old school old school see sorta like
DevOps I've discovered a bit more
problematic they just rush out and
they're not entertain us around
to really want to say distance though
you should actually be keeping track
paperwork if you've got regulatory
products but at least digital evidence
of everything your security herbs
shouldn't just be being monitored by
machines there should keep some what you
go through these routinely and who tries
to do abusive things based on everybody
who works in observation should expect
that yeah from time to time to how to
explain where they are why they are what
they're doing because otherwise you'll
never people brought me into your data
center if you have a data center or in
the case of if you were cameras when you
align it and reserved to not let
somebody into a data center which should
be there what was that service ft on the
day but one way they must have used a
forklift truck devoted as far as Horace
faculty Awards will say somebody just
basically went into a secure data center
with a forklift truck and came back out
with sitting on hundred kilos of server
very embarrassing for the company
concern never deployed about pinnacle
security audit in fact if possible get
yourself stupid horrible unpleasant
certification around ISO 27001 it
doesn't actually define to be secure but
it does apply to at least prove why
you're not and to at least address what
you should do to get from there an
occasion improve your
in progress because all the
certification is really about making
sure you are trying to make throw roses
are really about you happiness that you
drive oh you can again security audits
are best done by third parties perfectly
with an appt attacker mentality if
you're not coming using good pen testing
house they look well worth it when you
do is a new architecture get me through
a black ops thank you from the Aqua full
architecture now that mean you're white
box will be more to knowing everything
about what you've designed then ever
come in and spend a week doing it having
watched your ops team and how they work
you will be amazed with you I go it will
never again make you want to let dev
with a piece of supposedly secure code
my server or it's a very skilled ops run
it because you're suddenly thick are
yeah well then I'm different too much on
trust on Antigua if you want to learn
more about doing man staffed with crypto
some of which is related to this and
some of which are just related to
perverse uses of the ds3 I have a whole
pile of stuff I've done over the last
nine years that's how you benefit this
is literally the last time I'm ever
doing a talking which there is code
which is why the Cobra sitting there
basically I just watches it completely
set I'm probably after this year i love
doing
more talks on privacy just because if I
Marshall erratic do work in privity
doing talking in producing but all of
this stuff is free it's the thought of
like my prom nice last 10 years of
research and it sir it doesn't matter
how much you think you already know on
the subject you will find something in
there you didn't know you movie and I
have been asked to make sure that people
do I keep needing to do this myself but
the feedback doesn't even matter that
much to me because I mean the thing I
looking for takeaway Venus is there's
something you can download off
SlideShare the next few days that if you
want to play around with crypto and go
you can and if you like that there's a
book you can get a 33 16 32 chunk off to
actually go and do a lot of different
experiments of all your understanding as
you go so anyway thank you very much
that mr.</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>