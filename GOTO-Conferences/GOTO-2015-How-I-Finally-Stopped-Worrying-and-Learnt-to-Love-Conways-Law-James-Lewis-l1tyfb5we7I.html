<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>GOTO 2015 • How I Finally Stopped Worrying and Learnt to Love Conway’s Law • James Lewis | Coder Coacher - Coaching Coders</title><meta content="GOTO 2015 • How I Finally Stopped Worrying and Learnt to Love Conway’s Law • James Lewis - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GOTO-Conferences/">GOTO Conferences</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>GOTO 2015 • How I Finally Stopped Worrying and Learnt to Love Conway’s Law • James Lewis</b></h2><h5 class="post__date">2015-07-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/l1tyfb5we7I" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so I thought I'd play bingo with this
talk I've been at quite a few
conferences recently and the three
things that come up in conference bingo
at the moment are micro services docker
and Conway's law so I thought I'd get it
in straight away with a house at the
back someone was chatting indeed I
thought I'd get it in straight away with
a definition so this is the definition
of Conway's law organisations which
design systems are constrained to
produce designs which are copies of the
communication structure of those
organisations so I think it was Eric
Raymond who came up with another
definition if you ask for groups to
write a compiler you get a full past
compiler now seeing as this is goto this
is a go-to conference and you know for
example we've got a keynote from NASA
this evening I thought I just quickly
asked is Melvin Conway actually in the
room that's quite good because I could
probably get into trouble for what I'm
gonna do next um so I've got this image
in my head of Melvin Conway I've never
met him I don't know what he looks like
but this is what I kind of think he
looks like right yeah that's kind of
sitting on the bar for me laughing at us
all because back in 1968 he derived this
in this empirical law Conway's law and
it didn't it wasn't for quite a while
before this was sort of taken seriously
by by either academics or I guess
industry industry sources so some years
later this is what the Harvard Business
Review in conjunction with MIT said it's
a big wall of text the important things
are that tightly coupled organizations
even if not an explicit managerial
choice design naturally becomes more
tightly coupled so if you've got a
tightly coupled organization even if
it's by accident not by design your
systems will become tightly coupled this
is essentially the follow-on research to
MIT and Harvard Business Review did
about Conway's law
Harrison loosely coupled organizations
architecture that evolves is more
modular now I've been talking probably
the last five three four five years
about building modular orders yeah
building modular architecture so this
clearly is something that's kind of
quite interesting to me and it seems to
fit quite nicely with microservices and
the rest of this talk is really us
exploring why that might be some
examples their real-world examples from
my experiences and there's another
real-world example that isn't directly
from my experience which you'll see but
first I think I should probably
introduce myself so I work for a company
called thought works this is the the the
big spaghetti monster which is kind of
how I think of thought which we've got
tentacles everywhere a lot of the
conferences
Rebecca Parsons or our CTO is speaking
afterwards and I work for Phil works in
the capacity of I guess while I'm a
software developer I'm a software
engineer kind of a principal engineer
and I guess a kind of coding architect
so I spend seventy percent of my time on
projects writing code so hopefully I'm
talking from experience not from because
it's not because I'm a highly paid
consultant because I'm certainly not
well I'm a consultant yeah let's put it
that way um and I guess it was beginning
of not this year last year I sort of got
together with Martin Fowler and we wrote
a paper on micro services we haven't had
a look at this
hint hint you can go to Martin sites and
look it up it's quite long I warned you
about 8,000 words it'll take a little
while but in that which describes the
characteristics as we saw them of this
new thing called micro services and it's
I want to be quite clear about that we
were describing the characteristics
rather than defining them what we were
doing was looking at lots of teams in
lots of countries both inside the works
and outside lots of different
organizations and describing the things
that we were seeing that we're making
them successful so people like Netflix
people like Amazon and people like The
Guardian in the UK
since there's been a lot more so people
like SoundCloud Groupon and so on and we
were trying to look at all the different
characteristics that made them
successful and describe them
because the promise I guess is this
right we should be able to build
architectures that are cheap to replace
another quick to scale and that
withstand failure and to quote Adrienne
Cockroft we should be able from that
fulminated Netflix we should these
architectures should enable us to go as
fast as possible in order to deliver
customer value business value value to
our customers this is great I use the
word should in this deliberately I say
should because and in fact I'm gonna
give you a preview martin fowler's about
to release another paper on when and
when when you should and shouldn't maybe
build micro-services because there are
quite a few people running into trouble
with with microservices and
architectures and these are the sorts of
things that I hear at most right which
causes most problems for people the
first thing is how on earth if you've
got this distributed system how did you
end to end testing of this distributed
system you get into this kind of
combinatorial problem which I'll show in
a minute in terms of in terms of testing
the next thing is this idea of
independent deployment all right how do
you actually deploy all these individual
things on their own and if you can't do
that if you're having to deploy in
lockstep
that's really gonna limit your ability
to get software out the door fast and
that's the aim all right and then the
last thing the third thing is service
versioning and evolution so this is how
we maintain how we manage services over
a period of time there's a rule of thumb
that one of my colleagues in Australia
and botcher uses he said we should you
know this should be big news sorry I'll
rephrase micro services should be small
enough that you can replace them within
two weeks
that doesn't mean you
every time you want to make a change you
rewrite them again alright so there has
to be some discussion there has to be
some way of us evolving these things
maybe versioning these things over time
so these are the sort of top three
I've got testing in that doesn't have
Patrick Lynn skis in the room this is
his major bugbear so I put testing in
hopefully he'll agree with me but
actually the thing I'm most worried
about it's kind of related it's not
though explicitly testing deployment or
versioning the thing I'm most worried
about and the thing I see most
organizations wouldn't struggle with is
the impact of organizational design on
their architectures of organizational
design on their way they're building
their systems and so I'm gonna give you
an example
I guess maybe to get us all onto the
same page and then I'll go through some
some case studies from other companies
so you know typical company my colleague
Ian can't write he's got this great idea
that there's only about 20 or so
problems that organizations have not all
of them have all 20 most of them have
between five and twelve all right this
is what you know organizationally
companies often look like big especially
IT firms look like so you've got
functional silos testing maybe some
architects in their ivory tower you've
got some development teams you've got
operations project management office and
so on
and there's an interesting thing you can
do because it's been visualization of
how these these functional silos
communicate and this is using stuff you
can you can draw something called a
chord diagram a chord visualization so
effectively what you do is you you get
this graph of how these how these
different silos are communicating and
you can draw cords between the different
silos and you get this horrendous kind
of ball of spaghetti kind of thing now
this is fairly typical for a lot of a
lot of processes in a lot of big
companies all right so maybe
requirements start with sales and
marketing they get passed over to
to the ARC architects to design a
solution that's then passed over to
development development works on it
maybe passes it back to the architects
it didn't quite work out they say no
you're wrong just do what we told you
it'll be fine
developers saying no we weren't
accepting cetera all right so this this
is the kind of process the kind of flow
that goes on this is a real one
again it's there for it's there Phyllis
tration purposes but you've got the
rolls down one side and all the
different handoffs and things that
happen across these different silos and
I kind of see it is a bit like this
right it's a bit like such snakes and
ladders you know you start off with some
requirements it'll go into one
particular group maybe the architects
hopefully it'll go straight into
development and then into testing but
most of the time you're gonna hit a
snake and you're going to end up back at
the bottom and there's a great book I
should point out contractually obliged
practically working for Thor works that
talks in detail about this called lean
enterprises fairly fairly new jess
humbles second he's co-author along with
joanna Lenski and barrier reilly which
talks very much which explains how to
maybe refer your organization's away
from this because why is this a problem
why are all these communication pathways
that go between this aisle is a problem
well essentially each of these cords
represents delay right represents a
delay in your in your process in your
ability to get work done as quickly as
possible there's a great quote from
Peter Drucker there is nothing so
useless as doing efficiently that which
should not be done at all and actually
this talk is about maybe how we can
restructure this so that we don't have
to do some of that work that perhaps
shouldn't be done at all so here's my
first example it's a case study this is
a real organization I spent some time
with some time ago now but it's it's
it's still very valid so they had
development teams and they were split
between big project teams in London big
project teams in India and when we say
big I mean
fairly large they were sort of 200 or so
people in India 100 or so people in
London so pretty big teams and what they
were building in these two locations
were quite distinct in India they were
building the sort of retail part of a
system that they were creating I should
point out this was it was basically an
e-commerce site selling tickets for
things could be concerts could be
whatever so they're building this retail
site that's selling selling tickets
essentially and over in London you've
got fulfillment right where fulfilment
is the ability to get those tickets to
people communicating with lots of other
organizations lots of integration points
in order to do that so they have these
two very distinct kind of capabilities
and quite nicely in this case they have
this big bus in the middle now clean
from full works I'm not a huge fan
it's canon to rail against enterprise
service bus --is they had a they had a
message bus in the middle and
essentially how these two groups of
developers had these two systems they
created communicated was by passing his
big messages across but between them so
when they'd been a sale a message would
go off onto the bus and will be pulled
off on the other side by by fulfillments
and then fulfilment would happen so
tickets would be sent out invoices would
be done etc which is all good we've got
this kind of nice decoupling but between
the two sides of these of this system
right so thumbs up I mentioned the word
capability so a capability I'm going to
define is a combination of people
processes and systems that provides
value to customers in - in lorry
external it's the what of what your
business does not the how so it's the
what what does your business do well it
fulfils stuff it sells things maybe it
prices things that these sorts of things
and in this case they have these two
capabilities separated by this bus and
on the either side
this bus they had these giant teams
right 200 or so 100 or so and the way
they managed managed these teams was
according to the kind of traditional
functional silo kind of model so they
had developers testers project
management office so these these bigger
teams were separated out into
short-lived
project teams so they get a group of
developers who come together to fulfill
some requirements and then they move on
and they'd sort of wander around the
codebase touching parts of the codebase
kind of all over the place until they
got back to normal and all of these
different projects were going on all at
the same time all crawling over
different parts of these code bases on
both sides and what ended up happening
some years into development so it was a
Greenfield initially and then maybe
three four years later if they had this
really tightly coupled system either
side of the message bus
so they'd ended up building some web
services it was a dotnet stack that is
really really really tightly coupled
services they were kind of early bands
and I'll come on to some other some of
the other effects in a minute and this
is kind of this is hair hair hair
alright this is this is Conway appearing
and just laughing at them a little bit
because what's happening is with these
short live teams right there's there's
no actual sort of ownership of any of
the of these services that they were
building and over time as developers
were touching one bit of code another
bit of code these things were bleeding
together and naturally becoming kind of
one system even though it was a
distributed system they were also using
scrum erful essentially as a as a method
for delivery so they were running in
iterations and then you know maybe
they'd have six weeks three two week
iterations and then they'd have six
weeks of testing of different types and
because these things were really tightly
coupled because these these services
were really tightly coupled they all
needed to be tested together right so
end-to-end testing basically happened
after three iterations and there was
this
huge fan in of services where they'd run
lots of end-to-end tests and regression
tests and they'd also have to be
deployed together so they've been six
weeks and then six weeks of testing and
then the whole thing would go out and
this is what we've sort of come to know
as a distributed monolith people have
heard that before I mean the whole point
of building these these systems composed
of micro services is that these things
should be decoupled you should be able
to test them and deploy them
independently and this you know this is
not really as fast as possible this is
effectively a recipe for a nervous
breakdown and in fact their developers
and architects and Ops people spent most
of the time stressing about about about
these things so that's maybe an example
of you know some good stuff so some
capability they've split into
capabilities Conway law is acting's
they've got these messages passing
between component between these
capabilities but within the capabilities
because they were using a particular
organizational design functional silos
name is in scrum aful they ended up with
this really tightly coupled big ball of
mud essentially what might good look
like as I say most of these examples are
from my personal experience the next one
isn't don't know if anyone recognizes
this in the room one person would you
like to shout out because we can all
laugh at you if you get a problem when
it's yeah well nearly it's a virus it's
actually the Ebola virus it's a electron
microscope image of the Ebola virus and
virus this is the bit that didn't happen
to me I've never caught a bola
fortunately but this woman did she was a
nurse who was seconded to the British
Armed Forces and was in Africa when the
international response was mobilized my
name is Pauline Catholic Lee and she was
flown home back to the UK back to London
and she was treated at the Royal Free
Hospital which is I guess in London it's
that kind of it's the spare it's
actually the UK's specialist hot
for infectious diseases and this is the
team that treated her this is from a
newspaper The Evening Standard in London
you ran a story about this team it's
quite a lot of I was about 33 I think of
them more so fortunately she survived in
fact they treated three of our patients
in the role free they had 100 percent
success rate
extremely obviously fortunate for those
three individuals but it really struck
me it's kind of what what is it about
this this hospital that's that's that's
that's that's causing this because if
you think about hospital I mean go back
to the definite definition of
capabilities
I mean hospitals have lots of these
different capabilities right they have
life facilities they have lab lab
services they have things like you know
physio they have pharmacies all these
different capabilities and again if you
plot that on kind of a chord diagram
you'd think you'd get all this trying to
see wasteful communication home overhead
as these as these capabilities the
clinical staff are communicating with
with the porters and communicating with
the pharmacy and so on and that's not
ideal in a clique in in in in the world
of clinical care this is something
called the OODA loop Mike Nygaard has
talked quite a lot about this in its
talk on maneuverable building
maneuverable architectures so the OODA
loop was invented by a u.s. aviator
military aviator his name was Colonel
John Boyd and he came up with this idea
as a mechanism for training pilots and
it was adopted by the US Air Force it
was adopted by the US Army in fact it's
pretty much taken as a as a given that
this is how you go about how you go
about deciding on the best course of
action and not only that in because of
where it came from kind of I guess
overwhelming your quote enemy so he was
a fighter pilot his idea was in order to
be a successful fighter pilot to because
it be successful in dogfights you went
through this decision-making process
observe orient decide and act and the
idea is that you want to be able to go
through this process faster than your
enemy in the case of a fighter pilot but
this is broadly
pickable two organizations at different
levels two teams two departments and two
organizations in general it's a great
quote which is this approach favors
agility overall power it's all about
agility and you can see there's feedback
loops in it so the idea is you
continually execute this you dilute the
observe orient decide act and in the
case of clinical care all right
where people are desperately desperately
sick they need those doctors those
positions need to be need to be going
around this little loop super super fast
and they need to remove all the overhead
associated with delay so this and again
you won't be able to see this but this
is the team there's a lot of them the
interesting thing about the team that
was caring for them the ones in bold are
the clinicians there's about twelve
clinicians involved out of 33 or so
compared with about 21 or exactly 21
non-clinician so these are people from
other capabilities right so pharmacy
physio facilities finances up here all
right the porters are up here and this
is a quote from the guy who was leading
the infectious diseases unit at the time
he's a doctor Michael Jacobs he's a
consultant
if you imagine all the functions the
hospital has to have not only the
doctors and nurses etc they all have to
be involved and so this is what the
hospital does in the case of infectious
disease where they really need to get
around this this decision-making loop as
quickly as possible they've got all
these different capabilities actually
what they do is they bring these
disparate capabilities together they
have representatives from each
department each capability in one place
so they have physiotherapists they have
pharmacists and so on essentially what
they do is he creates these
cross-functional teams we're familiar
with that from software development they
have a single purpose and they're
focused entirely on in their case
patient outcomes and it's about
organizational design why is this
important well this is from our study we
did in the door that was done in
Australia on one of our projects this
about the length of time it takes to get
requirements into production if they
have to cross team boundaries or not
right so that this is the cords but
going between different teams in a
functional silo or crossing crossing
service boundaries essentially it says
that cards that leave the team they have
a wait time of 8 days and they cycle in
23 days whereas if you can do all your
work within a team the wait time
essentially is zero and the cycle time
is about two days which is vastly
superior and this is this is why the
collisions want to be all in one place
in one capability with infectious
diseases essentially it's a line of
business within within the hospital I
mean this is not only true for hospitals
right this is true for things like
trauma sorry for infectious disease
trauma teams do the same thing so my
sister is a trauma nurse and what
happens when they when a trauma case
comes in is they kind of swarm so they
get people from lots of different
departments all in one place this is
true for Formula One teams so this is
racing and this is this is racing all
the team is completely cross-functional
the drivers are a part of it yes they
drive on the day but actually during
race day during testing it's a
completely cross-functional team and
actually from the military this idea of
reinforced battle groups which came from
partly from John Boyd Colonel John Boyd
is also based on this idea of kind of
cross-functional lines of business well
I have another one this is a software
existence proof so going back to our
general you know siloed organization
this is an example of an organization of
a company I was out for another or I
don't know when this was probably five
years ago I started and I haven't been
there for about a year and a half but
what they ended up doing was was
replacing the kind of architects project
management office and so on with
cross-functional teams organized around
these lines of business right lightly
infectious diseases unit in in the roll
free it was an insurance company and
they started I actually started off with
a with a monolith so they started off
with it's a dotnet project so they had
big web app they had a big database lot
store procedures and they wanted to
refactor this tools something was a bit
more decoupled and they did that partly
by reorganizing their teams around the
lines of business they wanted to extract
parts of the application area and what
they ended up doing is extracting the
bit sad that were the lines of business
as I say so the home insurance fit came
out and you know the pet insurance bit
the motor insurance bit all in two
separate separate capabilities separate
lines of business rather so we ended up
looking like this we had home merger and
life and then they had some
cross-cutting stuff right so they had
things like my account they had like
data where has these kinds of things
that were kind of cross-cutting across
cross-cutting groups across these lines
of business and they organized these
teams cross-functional teams around the
lines of business and common ways law
kind of reinforced that Conway's law
reinforced these team boundaries to
provide kind of decoupling between them
much more difficult to couple these
capabilities together when you've got
long live teams around so this is you
know one thing we can do in order to to
help take advantage of the idea that our
architecture will look like our
organizational design we can make our
organizational design look like the
architecture we want and then naturally
over time our architects will evolve to
it so this is all good
all right big big thumbs up but we still
have a lot of these these cords here we
still have a lot of communication
pathways a lot of work that's doing
outside of these these lines of business
out to other parts of the organization
so in this case we've got lots of lines
between things like that here the lines
of business teams and operations they
had a separate Operations Group and also
to test things like sales and marketing
and again we've got mr. Conway kind of
right this is this is another example of
Conway's law of mr. Conway laughing at
us
then they played
something that's pretty cool I thought
they played the J's humble card bang all
right in order to kind of again minimize
the overhead of handing work off between
teams they went DevOps hooray anyone got
that on the bingo card all good
notice yeah three exclamation marks with
DevOps I had a great quote once which is
any use of more than one exclamation
mark is a sure result of a deranged and
damaged mind that's me
well it wasn't really DevOps they'd
implement the implemented kind of
continuous delivery so they pulled
pulled the operations team into their
lines of business teams I was the first
thing they did so they ended up sort of
looking sort of a bit like a bit more
like this you know these lines of
business teams are a little bit bigger
but suddenly the communication pathways
between these teams disappear so they're
making their process much more effective
they're reducing lots lots and lots of
waste as they go big thumbs up and the
knowledge thing about this right we were
talking earlier about testing
independently we were talking about
being able to deploy independently
because of the way they were organized
like this they were able to do all these
things they were able to deploy
independently they're able to test
independently these these applications
were completely decoupled from one
another which is great but you know can
we actually take this one step further
because we've still got some of these
lines and actually yes there are there
are a lot of existence proofs that exist
of companies that take this another step
further all right so don't just have
these these cross-functional teams with
maybe product owners and developers and
testers and QA sorry and analysts in in
in in one team organized in a particular
way they actually bring in more of the
business of bringing sales and marketing
and potentially finance into these teams
as well the idea being that we want to
be able to make all decisions or maybe
99% of decisions about the work we're
doing within within a small group trying
to completely avoid this handoff of work
across between different
aiming to really streamline streamline
the way we get work done reducing waste
and minimizing cycle time so I mentioned
this phrase lines of business we have
this is an example of one organization
in Australia that's gone down this route
they have these they have distinct lines
of business and these are completely
cross-functional across the business as
well so they have everything they need
within within that team they have sales
support they have marketing support
within that team and this is this kind
of defined outer ring of sort of a line
of business it might be a kind of
infectious diseases in the case of a
hospital within that they decompose the
whole line of business into potentially
different value streams so if they've
got their own analytics they'll say okay
we'll have a different value stream for
analytics yeah you know we'll have one
in each of our lines of business and yes
there's maybe some duplication but
across them there might be multiple
analytics teams of all oh sorry value
streams essentially but what they gain
is this massive increase in throughput
and reduction in cycle time because
they're not having to hand off work to
another department which will take lots
of time which take lots of time and then
they decompose that further into into
teams and in this in that case each team
owns one or more services there are
other examples of this yeah the folk at
netflix some people are here from
Netflix but the folks folk at metrics
are very are on on the record about how
they organize and it's very very similar
each team will own one or more services
there have some guidelines as well for
size say team size is sort of team sizes
around 10 to 20 so you know the
individual teams are made up of almost
like XP size teams so between 10 and 20
people and they'll have multiple of
these teams within a value stream say
depending on how big it is but they try
and keep those value streams down to
about 160 to 200 people and this is an
interesting number 160 to 200 so 160 was
the original was Dunbar's number 165 I
think it was this is the number of
connections social connections that we
can
in our heads at any one particular point
apparently there's been further research
done since he did the original research
and I think that's maybe increased the
number a little to I think it was around
200 so what we're saying is you want to
want to keep the sort of medium
groupings of people to about 160 to 200
people and then as you grow up you want
to proceed in multiples about it's not
interesting a bit of research I was
doing it's from this book managing the
flow of Technology this was first
printed in 1977 and this was reprinted I
think 1984 and 86 and all that it's some
some bits are out of date now but it's
also got some interesting research
relevant to this idea of small teams
co-located cross-functional because what
it says in I'm reproducing this took the
ages to make this graph I could have
taken a photo but I thought this was
nicer what it says is that so in the
book there is a lot of rete that they do
a lot of research about different
research and development departments and
how people working within the research
and development departments interact
with each other over time and what they
found in the about work so were they
talking about about work rather than
just you know the shooting the breeze
and what they found was there's a direct
effect that there's a huge effect that
distance has on the amount of
communication people have so this is
this is the actual results and what they
found is this is on the bottom the scale
is out 0 to 100 meters and on the y-axis
we've got the probability of weekly
interaction and they found that very
quickly if you fit the curve weekly
interaction decreases asymptotically to
zero essentially and in fact at you know
for 20 odd meters if you're 20 odd
meters away from someone
you're really vanishingly unlikely to
have weekly interaction with them now
this is really important you think back
to the things like you know the hospital
you think back to our ability to you
know to interact together as groups can
in software out the door
having serendipitous conversations with
each other over here and our colleagues
say oh I was just hacking on that
particular piece of code and I it's a
bit messy isn't it and then someone
being able to say oh yeah I kind of
wrote that that's um this it's like that
for a reason distance is really
important in sort of you know in um the
distance apart people are is really
important there's a really important
factor in how often we have that sort of
serendipitous conversation so yeah the
idea is that what we should do is
collocate as much as possible we should
set people who are doing the same things
in terms of this line of business or the
teams of the services together as much
as we possibly can obviously you know
these days we've got things like hit
chat and slack and all these and
videoconferencing and all these
different mechanisms for for improving
these this you know the amount of
communication we have but the
serendipitous conversations the ones you
just sort of over here that by accident
you won't have even on those things so
fine how does this help with testing
deployment versioning and so on and what
I've basically been saying is that we
want to organize our art we want to we
want to structure the organizational
design we want to have an organizational
design that's around lines of business
valley streams and then small teams how
does that impact on testing and
deployment of micro services it's a good
question so I'd like to introduce you to
something I've been thinking about
recently called the micro Service
stability onion which is directly
related to these sort of organizational
structures these nested organizational
structures because one of them I
mentioned earlier that we've got things
like testing we've got deployment and
testing often becomes really really
difficult deployment often becomes a
kind of lockstep procedure now there are
a number of things that people often
took they often sort of talk about with
micro services and say oh yes but that's
a solve problem because you can do
things like use semantic versioning
consumer-driven contracts you know I can
do all these things we can use
I don't know all these yeah yeah
semantic versioning consumer-driven
contracts and I looked down here
things like tolerant readers the pattern
to manage the complexity of decoupling
services from one another um which is
fine but implementing things like
consumer different contracts
implementing semantic versioning
actually costs money right yeah you
actually have to expend effort to do
these things unlike anything we want to
expend effort at the point where it's
going to be most valuable and we don't
want to expend that effort at the point
where we're not going to get any value
from it so the micro-service stability
under newses this what kind of is
related to this concept how teams are
structured how organizations are
designed to kind of help make some of
those decisions because and this is a
boundary of a line of business where
were either talking outside our
organization or we're talking between
big chunks of our organization we want
to sort of optimize our maximum
stability essentially right and if
you're building the Google the Google
map API you don't want to be changing
that very frequently so at that point
you definitely want to be thinking about
having stuff like semantic versioning so
semantic versioning being all free some
very stable versioning semantic
versioning being where you have a
structure that everyone agrees that
you're going to use where major C have
no kin major minor point versions major
versions are a major version bump
indicates they're backwards incompatible
change whereas minor and patch indicate
backwards compatible changes these sorts
of things you definitely want to expend
effort at implementing at the boundary
of your organization but would you
necessarily want to do that internally
as you so shrink as you get into more
layers of the onion so what about
between different value streams would
you want to implement semantic
versioning then quite possibly because
even though the rate of change is
probably slower there's still going to
be some tune but also you might want to
spend the time
implementing for example contract
testing there's tools now so there's one
called pact there's another one called
pact oath which is a bit of a nightmare
in terms of in terms of the fact that
they call the same thing essentially but
you can you know which allow you to
quite easily implement contract based
testing so you can implement
consumer-driven contracts and at this
point it's probably worth actually
starting to do that implementing
consumer-driven contracts also at this
point because each side of these areas
you've got control over kind of client
and producers you might want to think
about mandating things like torrent
reader so late binding to requests and
Serato responses and what about entity
so between teams within a value stream
we're again you know this the rate of
change is going to be higher the closer
you get so at that point you might maybe
be thinking about contract testing you
might be definitely thinking about
things like tolerant reader and then
intra team welcome you talking about
torrent reader and we're talking about
things like conversational change so
this is I've made that up
because as a conversation I had with
Adrian Cockroft where he basically said
his experience at Netflix was that API
changes within a team that versus
outside a team or that impacted outside
a team had a ratio of about I think it
was ten to one so ten changes internally
this is one change that cross team
boundaries is that kind of
conversational change people are sitting
together people can have serendipitous
conversations yeah maybe you don't need
so much ceremony around around change
maybe you don't need so much ceremony
around things like versioning so I'm
coming up to the end some thoughts to
finish this is this idea essentially
I've been talking about which is the
inverse Conway maneuver described by my
colleague Evan butcher has designed the
organization you want the architecture
will follow possibly kicking and
screaming you can watch out for signals
from Conway's law things like you know
if you're constantly having to order
work across different capabilities
you've got you know portfolio management
a nightmare if it constantly having to
split stories that cross team boundaries
that's maybe another signal if you're
having to move people around to follow
up with the work is another signal
certainly deploying in lockstep and
definitely this idea where you fan in
have to end-to-end test fan in lots of
different services and test them all at
once and as I say to restate it becomes
much easier to test and deploy
independently with Conway's law helping
so I started this with the thing I'm
most worried about is not versioning
deployment or testing it's actually
organizational design and that's why I
finally learned to love sorry
finally learn to stop worrying and love
Conway's law thank you very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>