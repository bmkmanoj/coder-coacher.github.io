<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>GOTO 2017 • Microservices Without Servers • Glynn Bird | Coder Coacher - Coaching Coders</title><meta content="GOTO 2017 • Microservices Without Servers • Glynn Bird - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GOTO-Conferences/">GOTO Conferences</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>GOTO 2017 • Microservices Without Servers • Glynn Bird</b></h2><h5 class="post__date">2017-09-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/znCBbrYeUA4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">yeah okay cool
so we're talking about micro services
without servers and need to get the
micro services better by the way I'm
doing bad I'm from IBM I'm a developer
advocate if somebody could post a
picture of me on Twitter at some point
during the it would prove to my
employees that I'm here and not
entertaining myself around Amsterdam so
you know something like this but um so
talk about micro services we just need
to get Microsoft's out the way first so
hopefully you know what mic services is
it's a means of instead of building huge
monolithic systems that have to be
deployed where everything's in one piece
you can create smaller individual
composable systems and deploy them
separately and the event is say you're
building something like Instagram where
you've got registration a posting to a
social media platform you've got image
resizing you've got notifications all
sorts of features each of those could be
a micro service and then if you're doing
lots of image resizing you could scale
the image resizing service separately to
the registration service so I'm not
going to go too far into what Microsoft
is is and its pros and cons but the
twist we're putting on it today is to do
it without servers in quotes because
servers are killing your productivity
now at the end of this presentation you
will all rush for the for the door and
you will all be going home and setting
fire to your servers that's what I
confidently predict this is me back in
2005 a long time ago with the stack of
servers old servers these are services I
was decommissioning from an old system
and I was very proud of myself so you
can see from my big smiley face I was
very happy to be getting rid of these
old troublesome service because they
caused me a lot of pain I was a lead
developer at this point with a team of
developers and I was responsible for the
uptime of this kit
and it was causing me problems that was
failures hard disk failures Network
failures software failures all of which
was my responsibility and I'm really a
developer I'm not a system and
administrator so but it was my
responsibility to get it right
and let's just take a minute to chase
the path of this application over time
if you bear with me so this is I'm
removing some old kit but I'm replacing
you with more kit so I'm just buying
some more service and putting them back
in to replace those ones because the way
it was done so this is me 2005 in the
server room which was a bit in the same
building as my office it was just
another room right you would this is
sort of unthinkable these days for most
companies and when I came when a server
would last for three years and then it
would fall out of warranty so then you
would have to go back to the financial
people and say look we've got this
service out warranties that it's old can
we replace him yeah how much is it gonna
cost it's gonna cost $50,000 can you
give me $50,000 and that'll last you for
another three years maybe and then we'll
come back and we'll talk again by 2008 I
bought some more service these were the
ones that replaced that pile with that
we're now obsolete so I was put buying
some more service but in this case I was
wasn't putting them in my own data sent
in my own server room we'd moved into a
data center and the data center people
are very kind
they provide power from multiple sources
that provide heat removal services which
is great they provide network
connectivity from multiple sources which
I couldn't do from my my server room so
all sorts of good stuff I get from a
data center a few years later I was no
longer buying service I don't know I
wasn't even buying any service from
torille Dell I don't know what they did
but I was renting service from the data
center itself I was saying look I'm
gonna need 15 service please and I'll
pay you per month and that meant that I
didn't have to go to the finance person
say can I have 50,000 like you know I
could say it's gonna cost you however
much per month and if I needed to scale
it it's much easier in the old days I
would have to go back to the finance
person say can i order a server and then
six weeks later it would be replaced and
so on you get the
and this should be a familiar path to
anyone working in IT in the last 10-15
years if we take it one step further I
no longer even rent physical servers I
rent servers but they're not actually
one-to-one with physical equipment I'm
renting virtual servers which is a
subset of a physical server so things
have got let's just trace what's
happening here it is that there's no
capital expenditure the monthly costs
are getting smaller the unit of
scalability is getting smaller so I
don't have to buy a physical server I
don't have to buy physical I'd have to
buy rent a physical server I just have
to rent a a virtual server it's getting
smaller and smaller and smaller and
let's look at my responsibilities in
that time I'm responsible for 100%
uptime this is the real pain especially
if you were a small outfit so I was a
one-person with perhaps three or four
people this application had to run 24
hours a day I haven't got 24/7
operations I haven't got a control
center where we've got people on shifts
to make sure this stuff works yeah I
still have to do a hundred percent
uptime and it's these little blips it
may work for a whole you know six months
and then their little blip and that cost
money costs the company traffic it costs
the company actual hard cash if there
were a sales organization and you know
time off meant no sales bad scale this
is the other thing that kept me awake at
night so this is what happens if the
company does a deal with another company
and brings in twice as much traffic can
my system scale not just in terms of can
I add twice as much hardware to it
will it work will the database
underneath it still work and the company
continuously did deals and made the
traffic bigger and bigger and bigger and
this was a thing that worried me and
sometimes traffic is seasonal you know
sometimes you get a lot traffic at
weekdays in our particular use case
we've got a lot of traffic in the
weekday nothing very much of the weekend
we got a lot
fake in holiday season not so much
altitude other times so very seasonal
traffic so we had to scale flexibly this
is a familiar problem from from many
web-based applications and from my
personal point of view I wanted to do
less ops and more development I was a
developer I liked solving computing
problems I wanted to build better
websites better apps better api's I
didn't really want to deal with
operating system patching load balancing
networking hard-disk solid state disks
whatever not really my core interest I
just want to write code
so although the cloud has made has
brought me benefits it made it cheaper
for me to build stuff and scale it all
of those things in that if you go back
to that chart over time all of these
servers whether they're physical whether
they're physical and somebody else's
data center whether they're rented or
owned by me or whether their virtual
they are still servers there's still a
full stack server all the way from the
networking layer to the operating system
to the stack of code that you need to
have say the node.js the java virtual
machine or whatever plus your code on
the top of it and all of this needs to
be maintained plus all of the networking
plus all of the queuing plus all of the
traffic management is all of your
responsibility whether it's virtual or
physical or whatever it's still a full
stack and the cloud didn't fix that side
of it the unit of scalability got
smaller it became easier to spin things
up and dispose of things but it didn't
really solve it for me you just
transferred it into a different level of
abstraction what would have been
convenient for me was to have computing
to be more like your utility so if I
switch a light on in my house I don't
have to really worry about cabling
substations transformers turbines fuel
and so on I just turn the light on and
if I want twice as much like to turn two
lights on and if I want it to be dark I
switch it off and the bill I pay
is directly proportional to the amount
of electricity I use why can't computing
be like that well it kind of be zero if
I use in zero computing and go up in cup
in tiny increments like a dimmer switch
just paying for more the more light you
get them all the more you pay it turns
out that although virtual machines make
it more efficient for a data center to
split up a physical machine it's
certainly not optimal this is from a
study from Google I believe and they
looked at the optimum the the youth
utilization of virtual service on a
physical server and they reckoned that
they were running at around 20 to 40
percent and you probably don't want them
running in 100% or running hot all the
time with all the fans blaring but
twenties or forties is a little bit poor
and that of course means that there's a
lot of space in datacenters being used
up there's a lot of heat being wasted or
electricity being wasted and also of
course that bill is then passed on to
you the customer so there's huge savings
to be made if he can fill out that
utilization better and that saving
should get passed on to you the customer
so Along Came Amazon to rescue us so
this is a few years ago and this is the
launch of AWS lamda and there this is a
brand new product and it wasn't actually
the first of its type to the market but
what they're bringing to you is a means
of you give us the code that you want to
run on an event and we will run that as
many times as the event arrives so we
will handle the queuing and the scale
and the networking and the whole
software stack all you have to prize the
little bit of code at the top of the
tree which is the BI right I'm the
developer I want to write the code this
is quite appealing and they will provide
the scaling and it scales from zero to
however much scale you need this is
quite an appealing thing it runs code in
response to events
it manages the resources I don't have to
think about anything I don't have to
have think about an operating system
ever again I don't have to patch a
security thing ever again I just have my
code my funk my piece of life function
why is this different
it's called functions as a service and
it reduces the the point of scalability
down to the smallest piece of code that
you can so imagine you've got an API and
you've got various endpoints in your API
maybe you have one function that deals
with one particular API endpoint that is
one function and you give that to your
functions as a service provider and you
say run that whenever this API call
rides call that function whenever this
API call arrives call that function you
have perhaps one function for each one
really really simple and then they deal
with the scaling the whole stack scaling
from zero to n this is the important bit
if I if my application receives no
traffic whatsoever I don't pay for
anything I may have said call this
function whenever this event arrives if
the event doesn't arrive I don't pay for
anything so if you're building if you're
a small company and you're developing a
mobile application say there's a
reasonable chance that your mobile
application isn't going to end up in the
top ten of the iPhone App Store right so
there's a lot of applications out there
that don't make it but a lot of money
spent on it and there's probably a lot
of fixed infrastructure sitting there
waiting for the events to arrive there's
databases sitting there waiting for the
events to arrive there's web servers and
all sorts of middleware sitting there
waiting and nothing happens if you build
with this with this sort of functions as
a service if no traffic arrives you
don't pay any money so you've just
wasted your own time it's completely
pay-as-you-go and it's slightly better
than that - because there's usually a
pretty generous free tier so not only
are you paying from zero to nothing that
you don't pay anything until it goes
above a sort of a million functions per
month something like that
so and that's pretty generous - you can
certainly test in that free tier without
incurring any
expense and with I've done a few in the
previous talk when they were talking
about continuous integration if you
wanted to say spin up a parallel service
to test your stuff with that's virtually
free because you're just messing about
in in the free tier so I know somebody
said I'm saving 80% from my bill it
depends on what your load is so this
person who presumably had lots of fixed
servers sitting there doing not very
much it's relatively efficient if your
servers are busy to have fixed service
to do it right but if your cert if your
traffic is peaky you know lots of trucks
traffic the weekend and not very much in
the weekday then you've got lots of
service sitting there doing nothing so
in this particular case this person was
able to say maybe senso hurrah
if this just platform-as-a-service
there's anyone heard
platform-as-a-service
there's a thing just for just to level
everyone off a platform is a bit like
this except it's a slightly app-based
level so say I create an OGS based web
server I provide the full nodejs source
code with all the libraries and say look
this is an Express app and it's gonna
listen on port 80 or something and then
I say to my platform as-a-service run 15
of these and it deals with the the node
es layer and it deals with the operating
system layer and all the networking and
that sort of stuff but I'm still writing
an application that has to be running
24/7 so it's just like a web server say
in this particular instance and that's
fine platformers are service but the
unit of scalability is a full map right
so if I can have one of them or I could
have three of them or a 15 of them I
have to scale per instance where it's
functions as a service you're really
saying I don't know when these events
are gonna arrive and it doesn't really
matter you you sort it out whether it's
zero or a million of them you work it
out
and that's quite cool so if you were
doing it on platform as a service you
might say look I can't just have one
server running because it might fail so
I'm probably gonna have at least three
and your initial cost it's gonna be say
three servers but the
so functions as a service can help you
there because there are lower fixed
costs so lambda said the started the
trend if you this is Google what do you
call it
trends so and yet it's going up it's
really increasing with popularity and
then if you trace alongside that the
word server list it didn't really appear
before then and services the sort of
buzzword that that is easier to say than
functions as a service right so server
list was caught on perhaps a little bit
later than that but that's time to pick
up as well and it's because lambda
doesn't have a hundred percent market
share in this there's more than one
service platform there are lots of them
in fact
so there are offerings for the major
cloud providers provide a functions
service or a service platform there's
one from IBM there's one from Microsoft
one for Google
Amazon's of course so they're aligned to
their particular cloud platform so if
you're dealing with an Amazon based
system then it might make sense to use
the Amazon service platform
similarly with their all the other
clouds but then you've got these other
service providers which are aligned to
event-driven things so Twilio is a-- is
it's a telephony provider they deal with
text messages and telephone calls very
event-driven stuff so they've got their
own service platform so you can say look
whenever a text message arrives call
this function and decide what to do with
it
there's a company called I and I oh it's
not very clear on there they deal with
queues they have a queue and then you
can say look when something arrives on
the queue run this service functioning
it's the queue and I'll just throw data
into the queue you work it out so these
these them platforms are either aligned
to a particular cloud because you want
all your stuff to be in one provider or
they're aligned to other products or
other event-driven things and I suspect
if we looked in a couple of years time
this might be a bigger set of providers
here because it's a really convenient
way to program if you're interested in
service specifically there are
conferences this isn't just the only one
there are several conferences this month
actually in London they sell out really
quickly it's kind of a real buzzword
thing and you might want to be on the
bandwagon sooner rather than later but
it kind of depends on what some
application you've got you know if you
want to do your monthly payroll for
instance you probably don't want to
serve the system doing it for reasons
we'll come to you
and this is the way this is where I
burst the bubble for you
here people because I'm sorry to tell
you that when I say serval is there are
still servers somewhere in some data
center somewhere the what it really
means is there are a server it's not a
server that you can SSH into that you
can patch that you can change the
configuration of someone else is
managing this infrastructure for you so
you don't have to of course there are
still servers you but you don't really
don't literally don't have to understand
how it works
to be able to run it you can just say
here's my function you run it I don't
even know how it works
it's off in some cloud somewhere with
all of the other things higher than
platform-as-a-service you need to know
about the operating system you need to
know something about the cloud
infrastructure and the security policies
and that how the blow bouncing works and
then so on you're not really with this
we're not with service so that's the
background let's have a look at the code
because I don't want to take you through
line by line there's not actually that
many lines that's that's the point I
just want you to get give you a feel for
what service code looks like to do I'm
going to talk about in the context of
IBM open risk and open whisk is a one of
those cloud-based service platforms and
it's the only one that's open source so
with others you're locking yourself into
one provider and this one you're not
because there are many vendors offering
open wisk
as a service platforms or you can rate
yourself
it's part of the Apache foundation it's
now called Apache open with which is
great and a patchy incubator project so
the code is literally they're ready to
be contributed to which is great it's
not totally magic that you couldn't work
out how it worked if you wanted to it's
actually described quite well in the in
the readme there it tells you that about
the technology stack and what's going on
hint there's some docker involved
it's open source there's a code can you
see it it's beautiful and yeah and if
you want to install it yourself this is
it you actually just clone the
repository change directory I know it's
terrible you have to change directory
and then you type vagrant up and a
virtual server will appear which will
run open wisk on your machine so it's
really really simple to get started
you probably don't want to put that into
production but it's a great way for
developing on a plane for instance where
you're going okay where's my service
where's my cloud now you know so here's
an action oh yeah this is opening
whisking the web so it has a web-based
UI so you if you don't want to do the
command line thing I'm a command line
person I like doing command line things
because I can reproduce my actions
programmatically so I can say look I
want this action this action this action
I want to deploy them with this script
and if it works then do something else
if you want to while you're getting
started though it's quite nice to have
some syntax checking and some follow
some guidelines and see what's going on
so if there's a web base you are you
just say great new action you drop your
code in press deploy and there goes a
pretty straightforward and then you can
attach it to events to feed that code
with incoming events that's the idea so
and you can use a mix of the web-based
UI or the coined lines up to you so I
you know I'm generally coding in nodejs
these days but if that's not your thing
then you can write these actions in Java
or Swift or Python and if any of those
aren't your thinks there's a load of
programming languages out there then you
can build your action you know your
function if you like
into a docker container and just hand
over the the ID of the docker container
and say hey whenever an event arrives
here's the docker container user on you
you scale it from there so you can
compile down in C or whatever pick your
programming language and that's pretty
cool
so what does what does the code look
like that's what you'll so I'm going to
correct this isn't the code so we're
going to create a single open Wisc
action an action is the open list of
terminology for a function that is run
on demand when an event arises so
basically it's a function it's it's
called functions as a service so it
shouldn't be a surprise to you that
there's a function involved
it's called main and it's gets some
parameters the parameters are usually
the runtime things that change they
could contain your comprise a
configuration you know how your database
credentials for instance some
environment variables that sort of thing
which is which are common to each action
plus the runtime stuff that varies you
know here's the event this is what the
person posted this is the common they
made on your own Instagram this is the
the registration is the password that
they want of something and whatever I
returned from my function is what's get
gets passed back it's not really very
hard at all it really couldn't be
simpler if it's synchronous stuff when
this is JavaScript so it can get a bit
fruity you just do some logic and return
some data if it's asynchronous you can
return a promise it'll return late if
you like Java and you know people do
then you can do it in Java too and it's
it's the same thing but it's wrapped in
some Java stuff there's a main function
you get some arguments and you return in
this case a JSON object which is the
reply back so if this is an API call for
instance you know the parameters come in
is args and the JSON you return with is
response it's really very simple because
you're not having to deal with creating
a web server and all of the network
infrastructure you don't have a lot of
scaffolding so your code gets ripped
apart and you get right down to the bit
the logic that happens when the event
arrives
so all of this scaffolding stuff gets
put out the way and you end up with just
the logic so how do you build these
things up well we've got events coming
in let's say we're building a RESTful
API you know post / something something
something or something / something so
you define what your endpoints are for
your a endpoint for your API and you can
say look this API call it will call this
nodejs action and whatever it replies
will be the response if you want to do
something a bit more complicated what
you can do you're going to make that you
can make the function more complicated
that's fine or you can get a sequence of
actions to run so you can say run first
action that might do some a bit of
checking and then pass the results from
that into the second one which might
write something to a database a and then
the third one might send an email or
something so that you can get a sequence
of actions going where the output of one
is the input that another and that way
you can reuse actions say your send
email action could get used in various
workflows when you don't have to
duplicate the code or you can share the
load between different programming teams
so it doesn't have to be all three
nodejs ones it could be and no JSON
going into a Java one going into a
Python one if you really want to make
things interesting but the actions are
independent of each other as well is the
point so what can trigger change
it's an event-driven platform so the
change could be somebody commits
something to github or comments on a
post on github or merges something to
master it could be the changes feed from
a database so Cloudant is supported out
of the box that's in no sequel database
so whenever somebody modifies a record
or document in Cloudant call this action
do something with it the top right logo
is Apache Kafka which is a mean to speak
streaming
holding bay for debt for moving data so
you can sail it whenever some data
arrives on this Apache Kafka topic
run this open with connection however
much traffic arrives then we've got push
notifications and we've got time time is
a great one so if you're writing a cron
for instance you want to say look at 12
o'clock every day I want to query the
database and send an email to my
supervisor with its the stats for today
if you do it normally you'd have to have
a computer running 24/7 and then run a
cron that says 12 o'clock run this
script you can just say look run this
sir blur script at 12 o'clock and you
only pay for the execution of it and you
can have as many of these running app as
you like pretty cool and of course an
action can call can create other actions
so you can say look that maybe this time
based one says pull something from a
database and says all 50 things have
happened all right spin up 50 more
actions that are each going to deal with
each one individually so you can scale
out in the sort of fan out from there so
what are the good use cases for you well
I'll go through a good a couple of use
cases and then we'll talk about the
downsides later
so chatbots are one of these cases so if
you were to say so this is a hotel I
didn't stay here last night this is a
pretend hotel and it looks very nice but
they're a small outfit and they don't
they don't have somebody there to answer
the phone 24/7 so they have a website of
course but what if someone's got a
question what if somebody wants to make
the booking what somebody who's got a
query that they can't find the
information well they have a little chat
thing in the bottom right hand side
sometimes that powered by humans which
is fine in this case we're going to
power it by a bot so somebody clicks on
the thing and it sends a message to our
server it says hey can you help me so
you can see that okay so I click hello
and I say hello and the concierge says
hello how can I help you and says I'm
looking to make a booking on Saturday
please and and the concierge says well
what time on this date would you like to
make you get the idea so each of these
so this is a JavaScript on the client
side it's making a call to the service
some server-side script and expecting a
response which it's rendering they're
not very hard to do but I don't know how
much traffic this thing's gonna get do I
want a server sitting there permanently
do I need three servers to sit there I'm
gonna need to deal with this traffic Oh
obviously I'm gonna use open risk or
server this platform otherwise this
wouldn't be good they talk about service
so I've got a JavaScript widget I'm
using open the risk really as a proxy
between the JavaScript side and some
other API service at the backend whose
credentials I can't put in the front end
because they're private so they're
encapsulated in the functions as a
service thing and when he says hello it
gets passed to Watson Watson works out
what that means and sends that message
back and so on pretty straightforward an
open whisk isn't really doing very much
there it's performing the job of a proxy
but I could add to it so I could say I
could you know what happened last night
how many questions did the the the
service answer well I don't know I
wasn't saving it and well you can save
it you can just add to your action say
let's save it to a database and then we
can say well how many people are making
bookings how many people what are the
bookings otherwise you've lost them and
you know how many people are asking for
have you got a Facebook page you only
need to make our Facebook link more
prominent and you know you can start
feeding back in and making your service
better so if you start with the server
scene you can still add to it it doesn't
have to be really tiny tiny things in
the UK we have a an elected government
of sorts and we have if you want to
petition the government they they
provide a website to do it and if you
can get a hundred thousand signatures on
any particular issue then they promise
to debate it in Parliament which is
pretty cool so you know some one day
someone will say I want free ice cream
for everyone and it gets 2,000
signatures and sometimes it gets really
popular like somebody says stop Donald
Trump from making a state visit 1.8
million signatures which arrived in
about two days so you know it's a very
peaky traffic so it's a classic web
application that you don't know how much
traffic is going to get how many servers
I'm at do I need and if I scale it I
have to scale by server
or you know some sort of auto-scaling
profile obviously you're gonna use
service right so this is how it works
and I want you to make this completely
service I wanted no servers that I
looked after involved in this whatsoever
so I was building it the equivalent of
this I'm not I'm not the person that
built the UK government's petition
system this is just a demo so um so
first of all how can I serve my webpage
well github pages anyone use github
pages some people will have so if you if
you've got to get hub repository and you
switch the day gh-pages branch and put
some HTML in there then it will serve it
out there's a free web server
you know the CSS and the JavaScript and
the HTML so you can create a nice static
website for nothing you can point a
domain name to it as well so I could
call it you know UK petitions com
pointed to that github repository and
I've got free hosting effectively this
is great and a call controlled by itself
some source code controlled and to get
and everything so that's my server a
static web hosting but of course this is
a form and it collects some data so I've
got to deal with that well that's handle
by open risk so whenever somebody
submits the form open whiskey's got two
jobs right to a database send the person
an email so that there's that they can't
cheat so you send an email with a
complicated token in it and so you click
on the link otherwise it's not counted
so how do we build that well sorry when
they click on the link another webpage
is rendered another Cosme token risk and
we mark it as complete basically that's
the just going around the loop and this
is how it's built is to open risk
actions paired to two API calls when you
submit the petition it verifies you've
made the right sort of things you fill
the forms in it looks like an email
address that sort of stuff just some
sanity check and then we write the data
at the database and the second action to
it the output of one becomes the input
of the other so it writes to a database
and then we use a third party emailing
system missus SendGrid
which not affiliated to me in any way
but they were so free trial 10,000
emails per
in the first month and then pays ego so
effectively I've got free web hosting
I've got free service computing and I've
got free database storage so cloud one's
got a free tier as well and I've got
free email bulk sending so I can run
this one for nothing probably and then
the same similarly on the way back if
that if the signature is correct then we
mark the thing as complete otherwise you
don't hurrah
completely servile as platform in other
words it's not my I'm not gonna get
buzzed at 23 in the morning when it
doesn't work somebody else will which is
what the way I want it so you can go
back to your data center of choice and
set fire to your servers because you
don't need them anymore
you can switch all of your applications
to service obviously that's not really
true right we not all not all
applications are suitable for switching
to service the ones which are are things
which are inherently event-driven things
that receive the outputs of web forms
the things that respond to notifications
the things that that are peaky in
traffic things where you you're unsure
whether you're going to get in zero or
lots or something in between
so event-driven small applications oh by
the way don't set fire to things it's
very dangerous and you could hurt
yourself that's illegal legally binding
warning I'm not responsible for you
setting fire to things sorry about that
so what are the limits here if if it's
not suitable for big long-running things
what are the limits well it's designed
for small short running jobs that would
consume small amounts of memory so
typically the default is something like
a node.js application with 256 Meg of
memory which is tiny right it's like a
Raspberry Pi with
where the execution is less than a
minute and you're the docket image would
be killed after a minute if it's still
running so it's designed to just deal
with you know
kitten event to deal with it perhaps
store it in a database and then die it's
not designed for something that's gonna
run and run for hours now and you pay
per gigabyte of memory you use and for
every tenth of a second of computing
time you use multiply that by the other
one you and then the building comes in
and then there's a generous sort of free
tier where you're saying you know as
long as you use less than a million
requests at this level so that's how
that's how your that's the computing
limit
another thing to bear in mind is that
when you're offloading most of your
stack to somebody else your you need to
see what's going on because you still
your responsibility to default find
things so you want to be really good at
monitoring you want to be really good at
debugging you'll restore everything
wherever possible because if something
goes wrong where has it gone wrong the
machine that it was running on is no
longer there anymore it's gone
that's so it didn't exist it stopped
being as soon as you returned it gets
switched off so but testing is an
interesting one testing becomes really
simple here it's just like unit testing
you've got a function with an input and
an output and you can try all the inputs
you can try all the outputs you can use
traditional unit testing frameworks and
you can deploy it to a parallel you know
service framework and to test it in in
real life too if you want you can test
it unit tests on your machine and you
can test it in situ on the on a live
open Wisc platform or equivalent so
there's no excuse for testing just
because the code is small in fact it
makes your job easier it's just the the
whole system interaction I would also
say before you get to frameworks it
there's another thing that you might
want to bear in mind here which is if
your application is connecting to a
database if it's a permanently running
application when it starts up it
connects to the database and it keeps
that connection going and that
connection is relatively expensive it's
got to say do a DNS lookup it's got to
make the connection it's got to do
authentication and then it keeps that
connection open with these sort of
service things they don't so thanks
of connection her thing is done every
time so it's probably gonna put extra
load on whatever's at the back end it's
that and that extra piece of time it's
going to take to connect the database or
whatever is expensive to you because
you're paying for the compute so just
worth bearing in mind if you into
frameworks impact sometimes people don't
like to write just the code they want to
write it in the framework of something
else and with good reason in this case
because the well the Amazon one is
relatively complicated there's a lot of
scaffolding you have to go through
before you deploy it to lambda and this
serverless
platform this framework hides a lot of
that complication for you so you just
have your code it wraps it in the
scaffolding and then it sends it to but
it also works with other the Microsoft
and the open risk one and others so you
can write your code once and it will
convert it into whatever form is needed
for for the other clouds servers
platforms which makes you a little less
locked-in so that's pretty cool if you
want further details of this they're an
open way slack there's open twister org
it's actually project that's me and so
on the slides are on back URL at the top
if you're interested otherwise I would
ask you for questions thank you very
much
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>