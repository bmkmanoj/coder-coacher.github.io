<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>GOTO 2015 • 'Bootiful' Applications with Spring Boot • Josh Long | Coder Coacher - Coaching Coders</title><meta content="GOTO 2015 • 'Bootiful' Applications with Spring Boot • Josh Long - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GOTO-Conferences/">GOTO Conferences</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>GOTO 2015 • 'Bootiful' Applications with Spring Boot • Josh Long</b></h2><h5 class="post__date">2015-07-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/0bBzjB8tWKg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">right so my name is Josh and you can
tell is it it says of this josh and and
if you have questions you leave this
room with more questions when you
entered when you entered if you have
feedback you know I would love to have
it by email or alternately oh thank you
sir my water and local cars alternately
join us and eat and this is I'm told of
thing there's a something called a power
of knowledge yes so join me in that if
you like after this and i'll be doing a
Q&amp;amp;A for an hour all right courtesy of
pearson and so on right so email Twitter
on is 2015 out of norms better I know Oh
Chicago why where's where's the hand yes
2015 folks come on get out of Twitter's
so I mean I don't have a different for
the spring team and pitiless as this
explained I need leading a computer bugs
too many fine spring projects how many
beautiful spring okay good it's a thing
then round on me lead author on 15
different books now and lead the
presenter or co-presenter on three
different Pearson my lesson videos
latest innovation which has just been
released I think today okay so that's
that's now timing appropriate as opposed
to just all the time so it was
completely irrelevant and I'm not going
to do
so again twitter email if you have
questions tounisi to judge me I'm here
for you I will demo give you her demo we
have an amazing office in the park if we
used to last year it's big enough and
the reason I remember where it is is
because its name brand consultancy
coffee which is my favorite coffee to
roll so if you like good coffee great
code they might be hiring we don't care
about building a platform for modern
applications in modern brutal it's a
huge part that immersive building
applications at work well in the cloud
right today's applications don't live in
the same place they used to live so why
do we build applications to the same way
we used to build them it was a home to
lots of great open source stuff I may be
heard of the passion tomcat ok ok spring
of course but rabbinic you it's used by
some small mom-and-pop shops like the
Lincoln post how many perverted Redis
distributed data structure server used
by some small mom-and-pop shops or
Twitter or captions on combating open
source platform of the services used by
again some very small on top hi ventures
like IBM HP for their lives where you
know just a holistic approach to
alligator moment one thing that we want
to do is to build it to help you can
build applications for these new
environment sees me platicas quickly as
possible so we can set our minds just to
making manage pages pleasant as possible
and as quick as possible a huge part of
that is until spring woods we would easy
spring boot in 2013 and when GA last
year there are a lot of different ways
to start with spring boot of my favorite
way
their ways well it says its startup
spring the aisle it's a little bit of
code generation hello don't freak out
okay this is the last we see of
coordination through the entire top it's
just a regular pro forma form here you
got a normal man in your green bits you
guys hoop artifact name description
packaging the type of project you like
to be able to be a amazing of a greater
project a jar or a bar now this is an
important inflection point in your
journey okay this is very very important
that we take time and acknowledge the
magnitude of the choice here if you are
to some fluka physics stuff in 2001 then
this is the right choice that what you
want but since you're not in online
liquid stuff in 2001 but are instead in
2015 here today at me let's choose jar
okay again turn to the other one choose
this if you're in today choose that this
goes along with my philosophy of make ja
na moi okay fair game for we'll talk
about this more and more as we go on but
keep that night so jar again 2015 choose
draw a job version Lynette 61 @ 7 18 how
many of you were my show
one not six again you're among friends
this is just between us and camera it's
ok ill try it comes in college one dot
six here we go okay one at 7i 0 1 s good
okay no judging I'm just going to put
this out there but that is usually in
the updates kind of life just security
updates at that he right now just
leaving that there take it for what you
will what I ate come to be using the
awesomesauce one day okay majority the
interesting majority choose the booklet
language of choice in this case I'm
going to sign up for the doors this job
so I'll choose java makes that easy and
then you Julius greatest version screen
you another two solicitors to state 1
and then you get to a shopping here you
choose the type of workloads you like
support with your application I'd like
to build a web application this is a use
in case kind of talks are you jpa but
again if I were sort of sort that may be
good life decisions I think they can or
perform Joyce about the specific data
and I'm a supporter of the technology we
use I'm going to sort of Jerry you so
he's timely great I want to export my
day exit code to rest i'll choose that
for our demo we've embedded memory
database h2 so I'll choose each to but
again choose what are you like this is
always can be named after all I'm going
to integrate with operations or two feet
beds here if we have another talk to
give me all about this column right here
this is all about this is the future
we'll talk about that later but that's
the more interesting column so here we
go hit generate wait for my wife rinette
to do it at each to do so the select
the relief right so I have never give
this demo before take that here yellow
okay goodbye to that goodbye to this
demo hoping something you're my GV of
choice how many of you my job and leave
your clips clips okay we're Bible
screening tool suite which the Eclipse
distribution that we make you know
release maintain what about you
intelligent intelligent okay what about
mittens that one guy is here pika he
followed me out it's a little weird no
oh so I'm gonna give you a quick tour
the Builder fact here we've got our
normal maven build here some of the
usual pro forma stuff you don't you care
about but eat that don't eat that
otherwise this corresponds more less to
what we specified in the wizard there at
starbucks with a also what we have here
is spring booster actuators time Leif
web data rest jkjk these are all these
all just correspond to a checkbox each
one of them and they are open in
dependencies how many of you ever used
for example the spring or our module
spring ahead you no harm into the family
room since forever in a day anyway okay
well that is the jar that is shipped
inside the spring framework to support
day access the fairs or on technologies
like JD a1 and JP to like having three
4mm a 4mm a you know stop thank you for
this before do you remember Jay do okay
I give away bugs open-source bugs here
we go shouldn't eat them so that one
module supports all the different data
access technologies it would be then
insane if you were to bring it to bring
hi Pandora and in charge of the driving
GTA 1 and 2 h's wait happy 32 24 hour on
a particular instances so instead we
need gold to content is option which is
great because it gives you the
flexibility to use the right technology
for your application in the matter one
application we do a very good job
maintaining a backwards can have with a
curve like in another but for the for
the inspired drink it started today
presented represent extra configuration
so instead the spring Hooper took a
different tack and said let's provide an
opinionated starter consider in turn a
debate and bring it all everything and
he confronted with jda for them so this
is no ringing JK went to the Sebring and
I'm a treatment of Korra divergence
Irving and swings transactions before
Jesus or this or support all that stuff
every box okay i need a muck around with
other versions either that is because
i'm using this parent dependency here
now again we have people on the springs
people have given up their hair for you
this is their burden we have level set
all these common ecosystem projects and
all the spring projects when you want to
use springing me see and spring that I'm
engaged
reactions bringing whatever all the
interest in common with regarding
libraries there although the set so you
can just import them and use it not
everybody trying to make things I have
to provide with different ranges of
versions we do that unless the spring
projects but for common ecosystem
products like you know me and the common
cbcp and h2 and whatever we don't import
these dependencies directly what we do
all right what we do is a instead when
you put them in an intimate intersection
and then therefore you don't have to
have a good acosta instead to bring them
on your fast country bringing where
these stars on that this is a very
boring main ee project here we go public
static void main I've got a static
directory in attendance referee both
empty about an empty application of
properties file and in my test directory
I have an immediate test so the
cogeneration didn't be biased at all you
could rip this plan were you some kind
but i'm a lazy sort of guy we are
timeline year so i used the generator so
today we're going to build an
application that has some sort of
nonsense we trivial domain law how many
of your Logan table oh it's a way of
making reservations at a restaurant it
is if you go to your home find the
restaurant see if you're open if you
throw it
reserved and you specify how many and
win and that is a very much passion is
calling himself a year at five so we're
going to do something like that we say
class reservation and then you say
identity okay so some dope again
nonsense to be truthful to me but we're
gonna have to focus too much on this
okay so reservation name it's going to
be a primary key great and it's an ID
now we're going to job ok so here we go
we go again some more okay but I'll
showing you to string that'd be nice
lovely great so I have an entity with
two fields and a lot of other stuff
sorry using another perhaps move to
language or lombok you can have to worry
about but we have a beginning so the one
I want to actually read write this data
talking to my back in datastore so I
used to get any of the repository now
which I thought repositories most of us
think of the tedious boilerplate code
becomes associated with we might end up
taking deleting data from a backhand
data's don't like for example a sequel
based database that's not the kind of
code that you're going to go home and
get excited about anything to get
deported because you
find my ID today you know nobody's gonna
be there's no past no match there's no
it's none of it you can't go off your
wife who say this I would find a method
for finding an entity by IDs she is not
care so why about it in the first place
this is something you can let them see
you so I'm going to say a reservation
repository extends JP repository
remember we chose tom maximo we chose
spring poop starter data JP have you
chosen mono or elastic search or
whatever we could use something else ok
so that's why we're using Jake gave up a
story here I'm going to build up a story
for it with entities the type
reservation with primary keys of type of
law and then this event that this
interface is going to provide you know
primer methods I find a lot of I not
given sorting edition of aging edition
at Central and even better I convention
we can provide five methods are wrong so
reservation find by reservation name
okay spring RN and that might man seems
will generate query with something like
slept all from reservation is where
reservation underscoring eagles are okay
you can of course override this isn't
yet query annotations are like but that
does bind you to the underlying language
using mama will get a decent career of
using side craving cql query treating
you for ju go psychic we review
the right thing for the right approach
to God okay now I want to actually use
this repository watching the crates of
data is where the rubber meets the
perverted rodents okay maybe this is a
java configuration class having been
used up configuration okay java
configuration is a way of describing
java objects using char John now you can
use XML tonight it turns out that for
all this work stuff is actually really
quite good so what we've done is leave
it is very very simple to create these
pink definitions inside a java
configuration class this is the actually
meditation so it's a java configuration
class and it turns on components in so
we'll find all the beans are a table
spring stereotype meditations in the
current package of a believe it and it
turns out acne auto-configuration that's
the magic so this annotation taken
together to turn the lamas renewed I
just between you and me I you know I'm
not really a big fan of name okay I said
I think you could've done better I think
something more like I want to go home
early a little bit more proven by the
way business do fine so command line
right okay this is a beam you tell
visits attentive n the type of the Venus
de manometer for one of the clear
dependencies I can declare the beer at
the arguments in spring
for me and then the return values is
there actually backed by the context
right so I'm going to find a mate of 10
canal enter a command line matter is an
interface as one job when spring starts
up it calls the record you know
screaming blue cause remember than past
any public static void main string on
your way so this is a great place to
watching that Alice sort of integration
of that posting kind of logic okay here
we're going to say return new
commandment murder and again it's a call
back your face if you have another bring
implement this interface any being that
has at her face will get called property
because it is the interface with just
one abstract method right in terms of
jolly Karma's right what abstract method
it's ideally suited for manners right
which is a nice feature if I can go
ahead and draw all this noise get rid of
all this and there we go of course this
is being coerced ultimately into an
object recommend under I don't even need
specify the parameter prototype is
that's there and as I'm only got one
parameter I don't need me to specify the
the parentheses so my commandment matter
looks like this now and now I don't say
it raises list okay I'll say it's good
for each name repository to save new
reservation in and then I'll say posit
or a dot find my reservation a note for
Julie again and I'll say for everyone
that comes back remember this is a list
of reservation so for every one that
comes back into reservation that
everyone that comes back I'll call for
each and then all I'll say for every
reservation our print out via the
objects of course if you're following
you know that this is sort of a waste
right already doing here is I'm creating
lambda then passes its argument to
another function or method in this case
so much better tips it is method
references which is another features are
late provided this by that much more
concise and need not only needing to
mediate variables I'll get rid of that
all this and they're right so I'm saying
for every record that comes back that
match that that predicate print out the
results similarly or print out all the
record to come back you should do this
in production references bad bad manners
you're going so I'm going to run this
this is going to talk to a date if you
remember we have h2 on the class
aperture embedded in memory database and
so what if almost absolutely specific
configuration it's going to create a
data source for us that talks to each do
first of all of course we have our
results of course we go I mean we knew
that was going to happen
many states now of course that's it much
more importantly out look at this now
this is some very very good mascara we
have on the spring team to people who
are PhDs who concern themselves with
paralyzed starstuff the celestial bodies
and edit there are nuclear physics
physicists you know what you know that
old that only thing where your party
somebody says oh we'll have a lawyer
that's mrs. mobile rocket science these
guys to actually say it's really nice so
it makes me very happy to keep you to no
end imagine at one point one of them got
it get an issue saying on it we need to
ask you over and look at that into them
it didn't now you can disable to ask
your work you can change it in place of
a Noah tasty but I will do that you
couldn't do a better job experience that
out there right now and it's very very
well done I think you'll agree so again
you can change it but show you there is
a useless completely utterly useless
feature instead of being told you run
dialog now that makes me sad oh hi
matter why is that there I didn't buy
that that's not supposed to be here but
uh but it is so I'm not going to check
that because I think good decisions
Goodman so whenever we have a little DX
Roger correction talking to the vacuum
datastore they say that any application
of sufficient complexity eventually sent
email well I posit that in today's day
and age navigation of sufficient
a sprout to rescue you guys so I'm going
to bring back the women bits here and
all the little rest controller here okay
so going down class reservation rest
controller and I'm going to do something
that you should never ever do tonight
when you're home by itself and nobody's
looking I'm gonna use field injection
again you should prefer centers
constructors every time we do field
injection a unit test off every time so
don't do so at the quest having like so
reservations collection that's okay it's
just going to be a controller that
returns all the data that it is all
about practical but anybody can you here
we go run okay so we're off locals
reservation there's the data I'm a
pretty printing plugin that is you know
pretty printing all the stuff here but
again if you inspect the output beauty
is just straight Jason nothing fancy
about that I confess I just did that to
impress you
see that is very easy to build a REST
API but if I'm honest this is actually
much more efficient than the preferred
way which is to stand just let the
repository do the work for you so in
order to do that I'm going to bring back
spring boots start with the arrest this
is going to where I can actually map a
repository which of course is concerned
with the state transitions of your
business day from creating being updated
eating and to map them to HTTP verbs
that's what rescued after all that I
don't wish to diverse to the state
transitions transitions of your business
entities creation cleaning continued
leaving so i'll say at rest repository
okay and I'll go down here say app
Graham like that java 8 interest a
feature where at runtime with reflection
form a class I can discover the name of
the variable name parameter method or
type but for interfaces that features
too lacking so you need to tell the
runtime some other way that you want to
name is parameter that's what I'm doing
here when they hit run go
and we visit refresh in theater
basically the same thing as before I've
got the same results about the same
records but for every resource that I
didn't return I bet links metadata about
the results this is an indentation of
design data holly west hypertext as the
engine of application state it's this
idea that every rest response should
have within that response information
enough for a time to be able to further
mini plane that response for the
resource right so if you look at an HTML
page and link rel text CSS as a source
equals food and CSS that is an example
of metadata literature to the client in
case the browser to be able to further
process the responses you can I HTML
right we see it old-timer it's very
natural that we would have the same
thing for a business dinner in order for
a client the browser to navigate this
collection of data it can go 24 / and I
can see that there's a few options here
for example reservations good go to
reservations now I well I've got four
records I've got reservations for such
one deeply just as I did before or I can
go to the search in point right so the
song though that fiber method i created
is now have those well so i can do
search fiber reservation a Christian re
part n equals 2
and I get directed back all that just
sort of girls right so it's very good to
give you support you can you send
another post and put some details about
this all just works out of the box it's
a great way to get what you want open
running very quickly now that's a REST
API or talking to a back in the
datastore this would be much of a demo
without actually some sort of MVC
controller thinking so let's do that
let's say at controller class
reservation MVC controller again don't
do this at home reservation repository
at request mapping reservation then I
choose you know a strawman URL here just
so that we could we understand the
visual collision between the string that
I'm going to take care the method they
get to vote and in order to make that
point but ended clear and choose a URL
that nobody ever write line or even
without the right now use in production
on purpose something that is just so
completely crazy that defies belief
that's reservations at HP so there's our
other page s model zayas PVC is just
ignore my hash map into a chicken stuff
model buying objects PT reference from
the view template remember that template
in this case is unique something
reservations and that stream get plugged
into physical of view is over which
olanra prices are
this case prefixing it this source mean
resources templates like that and then
suffix again with dot HTML okay we want
to add one attribute to our models so
i'm going to say reservations is going
to be equal to all the reservations okay
we need a view after all so i'm going to
go back to our build here and reinstate
tightly now time leaf is a natural
templating frame it's a way of doing
HTML markup and it can preview correctly
in your browser or your designer tools
and we have the experience for you for
you we hand on a JSP page to the
designer and then he or she gives you
the finger and your bag of flaming pcs
you're not talking about that as i
recommend you know well it does if you
ever wondered why they look at you like
a eight you understand they're really
doing it really so don't use JSP it's
not only make sense instead we're going
to use something else you can use
whatever you like it is tiny but if you
want to use new paucity of free marker
or mustache or struck again if it
doesn't work but there's a lot of
options and indeed starters here so you
can stay speaking good starter Oh GUI
server pages there's that one freemarker
yeah you better live on train so choose
its Mike just just down to JSP I mean
there are literally things on the side
their name server side generators you
know AJ's be alone ok we need to tell it
so here we go reservations by HTML and
I'm going to cheat again lots of time
cat desktop participation teeny copy it
paste so this is my I am a designer page
for every reservation are the
reservations model on commitments we're
going to put in this controller here
it's got a print of this body HTML then
did reference the reservation in Yankee
and wrong so here we go how we doing for
time
so thank you that so I'm going to go to
reservations for / resignation top KGB
better you can see we've got the data
into that I'm a big deal that it doesn't
work it and you know if I can do this in
a circle k night so we have now a
working rest api right rate with a deep
thinker able to navigate a million prior
knowledge the rest topology room to look
at all those pre information to PHP
please their remit all sorts of things
come to vacuum datastore to final object
all that for very little code and is
this related story that i would be happy
because at least is productive but this
isn't in the story and the reason this
isn't yet astoria because if you've ever
read mike and i are amazing classic talk
release it by the way how many have
recommended reading put that on Oprah's
Book Club it's great you've gotta be all
the all the book of saves in the midst
of absolute capacity planning are
perfect they're still great you know
other than together seven just as it is
or something right so definitely get
that book where did your game is that
kind of book if he or she will be wiser
for attention okay it's going the punch
line and then focus that code complete
is not the same as production writing
right though you may finish your
application you may feel like you're
done you're not actually going to you
can go to production we all talk about
agile but how many of us actually do
edge I'm just a pretty
suggest that annual for one last time we
saw something we really we can tankers
complete about the idea that no one's
gonna win you know doesn't have nothing
but how it is absolute production after
the first iteration that's the village
and the reason we sometimes forget stuff
off because when i get to the coop when
have fun build interesting things the
business operations innovation in
security and evelyn exactly right and
again I understand but if you're trying
to move to this amount of service
architecture trying to move to the cloud
you need to be able to operationalize
absolutely right and Julie this case
means faster marketing lab so a huge
part is invading the production systems
so to support these use cases revisit
our palm here I'm going to bring in the
spring starter remote shell and the
spinny-move starter actually
sadness okay Bravo's in you're going to
restart on occasion you kick some water
boiling those other waters so now my
room is my happy hit refresh I'm willing
to be first but Miss fasten my little
fingers will let me here we go but our
reservations can enter refresh refresh
refresh refresh but of course are
sublime refresh refresh refresh refresh
number two should very good great how do
you be able to water thank you good
stuff so theory I'm not to the lots of
requesting me I can actually understand
how many persons made by going to for
touch metrics this is a new endpoint
that was registered by adding the
actuator bits to the classpath this
shows me for example how many memories
at how much memory I've got how many
processors I've got the data sources how
many requests I've made so for example
says that I've made 10 requests for four
slash reservations with status code 200
it says that I've made 12 requests for
45 servations 4 / one or two or three
with status code 200 I made 20 requests
to reservations at PHP again with status
code 200 if i go to trace i can get an
even deeper perspective on what's
happening there i can see all the
requests that were made into the
application and at which contexts and
the headers that were sent and received
if i go to beans i can get a view of all
the different beans that have been wired
up for me on behalf of you know for us
by spring and their dependencies so for
example i can see that my reservations
MVC controller is a class whose class
file lives at this location that has one
dependency reservation repository etc so
if you were to take all this JSON data
and then dump it into neo4j you'd get a
very interesting topology graph if you
go to env you'll see the system
properties as well as the system
environment you know the shells and all
that stuff if you go to dump you'll get
a stack trace if you go to what else do
I have Oh mappings one of the one of my
favorites this will show you all the
spring MVC endpoints that I've been
exported for you
by spring MVC and by your code and i'll
show you the controllers that are
handling it and they required HTTP verbs
to be able to access those requests
those paths over so for example the
mappings endpoint only supports HTTP GET
it doesn't support post for example all
of this stuff is just one view on the
same kind of information that is
available otherwise right so you can
actually get at it from jconsole for
example was it jmx in general anybody
here use jmx anybody okay it's a thing
its operations people love it so mbeans
there you go endpoint and then I can say
well show me my health my health and
point I'm i forgot to mention there's a
health endpoint here so voila there you
go so it's showing me a limited subset
of the health information here the rest
of it is considered sensitive you can
unmask it of course but by default it's
not available from the rest in point
however you can see it inside of jmx so
you can see that we have so much disk
space we have a database with a
connection pool whose validation query
returns one and hello equals one we have
you know this basic information here if
we were to use Redis or solar RabbitMQ
or MongoDB we'd have appropriate health
checks there as well and you can of
course override all of this right this
is one way to get it get out the data my
absolute favorite way to see all this
information is to use the remote shell
which we added as well this is based on
crash d the shell the open source
project and you can write custom plugins
and so on it requires authentication if
you're using spring security which is
dead simple to set up it'll talk to any
identity provider that spring security
you can talk to including active
directory pamco barrows all off open ID
whatever right ldap but absent that
it'll give us a default user and a
default password in this case our
password is whatever this is here here
we go SSH minus p 2000 user at 127 001
LOL oh paste good good ascii art work
this is very comforting when you're in a
production crisis trying to tree
something it's very very calming I think
you'll find help ask for help good you
can do things like analyze the
properties you can say okay well what
about the endpoints well great in point
list and point invoke health and point
and point okay there's that information
there the metrics are there as well
except I'm my hands are off and it's
still refreshing the numbers live so
this is actually a live view of the
memory of the of the application my
absolute favorite view is dashboard this
is Java top at the very top there live
as well right and then on the bottom
right you have the memory and again if
you're using Java 18 meta space is the
new perm gen otherwise in one dot six or
one of seven you'll get permanent so
again all this is just different ways to
look at the same information if you have
the drop wizard metrics library in the
classpath then you can configure a
reporter and then anything that drop
wizard metrics can talk to like for
example graphite for visualizations of
date requests over time you can talk to
from this mech actuator framework which
is what's under under painting all of
this right so we have a few different
exposures for all of these different
metrics and gauges and so on but you can
extend them by using the drop wizard
metrics library now it's worth noting
that you can customize all of this right
so so far i have used the defaults and
i've added more as i've added more code
I've got more features as added more
types I got more features but I can
override things again this is spring
spring is about dependency injection at
the end of the day and dependency
injection is a great way to plug in your
implementation where appropriate right
so let's define a beam of type health
indicator to override the default health
indicator that we get and i'll call it
go to health indicator okay and a health
indicator has one job it is to return a
health object when asked you can inject
this anywhere you want to meet up ate
the state in your component code for
example something goes wrong you call
health dot okay
ok you can call health indicator and set
the state or whatever but I'm going to
just do something simple like health dot
status nope health dot status instead of
being out of service or up or down or
whatever i'll say status I hard Chicago
dot build voila and of course this is a
natural candidate for lambda so goodbye
it all this goodbye to all that goodbye
to all this ok much better and I want
also i also want to change how this
application is running i had all those
rest endpoints exported on the route the
same route as the rest of application i
can change that through the judicious
use of properties right environment
variables Dashti are given to properties
this could be an application of
properties file an application at yamo
it can be in the jar or external to the
jar either way the effect is the same so
i'm going to say server look at that
that's cool right auto completion for
the properties that's in IntelliJ now
it's in netbeans attend sts serve it up
port equals 80 80 or no 8000 i'll say
that management the management endpoints
the metrics and all that that's going to
be prefixed with for such admin so i can
secure it if i want can say management
dot port equals nine thousand right and
then i'm going to rerun the application
and what this is going to do is going
Taylor both the beans that I've got in
play as well as the way that the
existing beans are wired up as well you
know how they're configured so if i go
here this won't work naturally so 8080
gone but 8004 / reservations that'll
work localhost 9004 / admin for Tosh
beans that works as well right so again
I can change these things very naturally
fer go to my J console endpoint here
open this up connect in secure
connections and be nice go go go health
and point
operations get data and you can see that
go to status out of Chicago gets plugged
in as well right so I'm able to override
and modify every part of the stack as I
please right this is a very natural way
to build applications we're using a jar
here remember we talked about right make
jar not war very important jars are
particularly easy to operationalize and
deploy so if you look at my code here
made him clean install oh can you guys
hear that oh it was awesome Oh feel
better hope you enjoyed that as much
decided so c target to have a minus jar
demo this is the jar right I can run
this whole thing just using that not to
be a just but I could even send this to
Grandpa and he could run it right like
if you have the bid is run applets you
can win job- jar that's that's the point
so it's a fairly big jar because i'm
using a all of hibernate right so 39
Meg's that includes everything I need to
run this application if I want to
overall I can run it like this i can
just say job- to our demo blah blah blah
it'll start up and complete with pretty
printed two color codes and all that
stuff but i can override things what as
well remember this is very important you
can move this to different environments
so if i wanted to for example say export
server underscore port equals you know
8010 i could do that or i could you java
minus jar demo and then do dash D server
port etc 8020 etc etc so you can
override the defaults very very
naturally by these properties the
benefit of this is that you can take
these kinds of jars move them to
production very easily again I think a
lot of us use things like tom cat
because it's the consistent image we
know right we know how to operationalize
it you can no matter what you're
building throw it inside of a tomcat and
deploy yeah how we doing
oh good that's okay this is using embed
Tom get by the way but you can use
embedded jetty or undertow which is the
wildfly it's the embedded web server
from the application server formerly
known as jboss right I got that right
it's a long name it's like the they need
a symbol map you know just that so um
you can do whatever you like we don't
care again pivotal is the we have the
lead developers in tomcat right so I
gain nothing by scaring you away from
using or deploying Tomcat but the point
is if you're trying to build an
application and you're you know you have
things that you need to configure in the
container I see a lot of different
people using tomcat configuration and
they check it into their source code
that smells to me that seems like your
your application configuration and the
application server configuration are
part and parcel the same thing and if
you're doing that then really shouldn't
they be the same thing right that's I
don't see anybody deploying multiple
applications to a single application
server instead it's one application per
tomcat and I configure it checking it
checking it and manage it and then run
it and there they belong to each other
and you can't separate them to right so
why should they be different okay
imagine if the prevailing protocol to do
juror today was with ftp instead of http
what if we are all building ftp based
services for some sick reason would we
be so happy deploying our working Java
code into an ftp server every day would
you go home and tell your kids that you
deployed things into an ftp server would
you be happy with that probably not
right it's sick right there's something
wrong with us we have this thing where
we deploy code into an HTTP server but
that's not really important if you need
HTTP great use HTTP treat it like a
library it's just one more way to expose
your data if you don't great right so
that extra bit of indirection doesn't
help you at all it certainly doesn't
make operations operation lives easier
if we're working in a cloud platform
processes rule they are Queen right
they're not they don't your clouds don't
think about Tomcats and web spheres and
rub objects they think about processes
they kill them startups Gotham scale
them etc
the more you can do to make it so that
that process is light as possible the
better alright so again java jar for the
win now last bit before we get into
questions all of this is happening
thanks to the magic of sling called auto
configuration that's that spring boot
application Jarrah we looked at the
annotation we looked at earlier every
every jar and spring boot that has
something meaningful in terms of code
contribute to spring that factories text
file you can do the same thing in your
jars so spring that factories org spring
framework boot auto configure enable
auto configuration equals and then you
see a comma delimited list of Java
configuration classes these handle all
manner of things jdbc JTA so you know
liquid-based male mobile MongoDB axis
hypermedia integration jackson jpa you
know whatever everything that we've
looked at and then a lot more is all
accounted for in a few of these jars and
these java configuration classes are
you'll be happy to know not all loaded
at runtime because they would need by
definition all the types required to
support them we design these
configuration classes like this we put
it's just a regular Java configuration
class and then we add spring boots
conditional on class annotations and we
say if the type for rabbit template is
on the class path which in this case
it's clearly not great then load the
bean definitions that are in side this
configuration class if not abort don't
bother right so again we don't get we
don't pay for the cost of having to
configure RabbitMQ if we don't have the
types for rep mq on the classpath
similarly we can say here for this beam
definition we say define the bean called
amqp admin but do so only if there's no
property called spring that RabbitMQ
that dynamic that is specified to false
and do so only if the user in this case
has a not defined a beam of type amqp
admin right so we can provide useful
defaults but back off in the case of
something to override it right so this
happens all over the framework and you
can do the same thing create a jar
define an auto configuration for
something that's interesting for your
organization maybe security which is
something that teams have to get correct
across all the projects you know
integrate with the same back-end ldap
stack or whatever or logging or auditing
or sarbanes-oxley compliance whatever
put it in an auto configuration add a
little spring that factories text file
in the mid empty rectory and then all
your spring boot base
projects will pick it up automatically
and the developer with on a specific
module can override the pieces they're
dynamic a just as we've done here so you
saw as i added spring boot starter
actuator I got actuator endpoints as I
added spring boots start away by God
tomcat managed as a bean instead of
spring and it ran my application for me
right this is all based on this dynamic
model that you see here so you can use
the same mechanism there are a lot of
companies that are using spring boot
very heavily in be here here here of
netflix netflix okay they're using it
not all of them but a lot of them
ticketmaster ticketmaster they sell
ticket to know 40 year old business they
have a 50 million dollars an hour
business all going through spring boot
based services their entire
organizations now based on spring boot
so again a lot of different you know use
cases for this stuff the goal here is to
make it as simple as possible to build
up services and stand them up and get
them into production what you really
care about eventually is getting a lot
of different services right that's the
sort of natural next step that's what we
talked about we talked about
microservices a lot of different
services working together that makes it
easy to scale out spring boot i would
say is a very very simple way to get
something up and running but when it
comes to managing complexity inherit and
having lots of these services running
around in production then you need more
right and for that i hope you'll
consider something called spring cloud
which is a set of it's a codification of
all these common design patterns for
distributed systems including
integration a lot of a lot of the great
netflix also says stack and things like
do keeper and console and so on what
else anything else to mention i guess
that's it so with that I'll take
questions I want to say thank you guys
for having me I hope this revolt your
time would you think yes no boot maybe
okay</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>