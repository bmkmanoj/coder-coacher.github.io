<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>GOTO 2016 • Kotlin - Ready for Production • Hadi Hariri | Coder Coacher - Coaching Coders</title><meta content="GOTO 2016 • Kotlin - Ready for Production • Hadi Hariri - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GOTO-Conferences/">GOTO Conferences</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>GOTO 2016 • Kotlin - Ready for Production • Hadi Hariri</b></h2><h5 class="post__date">2016-10-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/R0J_Jl7bKY8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">thank you very much for coming here to
sleep and to see Courtland how many of
you have used Kotlin or no Kotlin a
little bit in the past okay
Android developers here right she saw a
couple of Android tracks there's a
couple of talks on Kotlin covering
Android as well so you might want to go
to that I'm not an Android person so I
have very little knowledge of Android
okay so um to give you a little bit of
backgrounds on Cortland where it started
and where we're going this this talk is
mostly going to be coding but we've got
a few slides just to just to give you
some background so it started in 2010 by
JetBrains which is where I work and we
were at the time Jeb rains has been
around for 16 years and we do different
types of tools mostly we do I DES and
then we do team where tools and we do
some dotnet stuff and all of the IDs and
the team wear tools which is the server
side stuff is built in Java we make IDs
for pretty much any language that's out
there but most of the code is actually
in Java
so even we've just created a c-sharp IDE
which is running on the JVM although
that is written in cotton and we were
looking for language because we wanted
something that was a little bit more
concise expressive toolable
interoperable and overall pragmatic now
being more concise than Java isn't
setting the bar high because Java was a
pretty much as as overloaded as it gets
in terms of words and at the time there
was basically two languages that were
potential candidates one of them was
Scala and the other one was salon Scala
we didn't choose for certain reasons
primarily at the time and remember we're
talking about 2010
performance was an issue tooling was a
very big issue to give you some
perspective if there's about 35 people
on the IntelliJ IDEA team there's about
11 people on the Scala plugin right so
gives you an idea of how hard it is to
to tool Scala the other option we had
was salon which was fitting very nicely
the problem was at at some point our
interest somewhat diverged with salon so
that's when we decided to start
arlynn and one of our focus was
interoperability and tools right we make
tools so we wanted to make sure that the
language that we create that we want to
use ourselves for ourselves our idea was
to stop writing Java but at the same
time whatever we picked we didn't throw
16 years or at the time 10 years of code
in the bin right
we're not the startup that couldn't just
throw everything away and write the next
best thing in nodejs or sorry in go so
what we needed is a language that could
interoperate with everything that we had
in a smooth way and that's why we kind
of came up with Kotlin from day one it
was developed under Apache to OSS and
it's been on github ever since the
current state were released in February
2016 and that's because we wanted to
have a long period of dogfooding because
it's very hard to create a language in
the 1.0 you got a kind of more or less
assume that you're getting things right
so there was a long period of testing
troweling out making sure we're not
messing things up and there was there
were quite a few changes along the way
decisions that were made initially
around the language were later revoked
or changed or what gone in a different
direction right now there's about 20
plus developers I think around 22 people
at JetBrains working on it there's over
a hundred committees at jetbrains
and it's used in over 10 products now
right so our goal with Kotlin wasn't to
create a language onto which we can then
bootstrap some consulting or training
our goal with Kotlin was to create a
language that we can use ourselves and
our commitment to this language and its
future is in the tools so our bread and
butter which is our tools is now being
written in Cortland IntelliJ has parts
written in Cortland some of our newer
tools are entirely written in Kotlin
some of the new tools and services that
we offer will be written in collin and
as i mentioned a c-sharp ID which we're
creating is actually written in Kotlin
as well and I don't like to name drop
but only if it's suits my purpose then I
will name drop but people normally ask
like what companies and these are more
or less companies that we are aware of
that are using comm Kotlin that you
might recognize there's way more than
these out there but the ones that
look good on a slide sheet of these no
disrespect to every other company that's
using column by the way and also if
you're not familiar how many of you
familiar with Gradle right that's took a
lot of work that animated gif Gradle
recently announced that they're
providing Kotlin support so in addition
to groovy they're now going to provide
you with the ability to create Gradle
scripts using Kotlin how many of you use
Gradle okay and now they recommend that
plugins are written in Kotlin so that
happened earlier this year as well we
can use it anywhere colin is not an
application that is not a language
specifically around android we don't
make mobile applications we make tools
so we created a language for ourselves
initially for any kind of tool that we
make but its purpose is industrial so
any kind of application you can use it
cable that is compatible with java 6 and
the small runtime and performance wise
it's fine in terms of compilation in
terms of runtime it's the same because
it's byte code it just translates into
byte code a lot of adoption has been
getting around android so a lot of
Android developers are using it gaben is
also similar to Java c-sharp JavaScript
groovy Scala and every other language
there under the Sun it allows you a
quick ramp up time right so this is not
a departure of saying I'm going from
Java to closure I'm going from Java to
Haskell this is something that you are
familiar with and you'll be able to get
ramped up in no time and if you've ever
watched Rick hickeys talk of a simple
made easy he says that easy is something
that you're familiar with in his words
these would Kotlin would be easy
although we like to think it's quite
simple as well and also given that
interoperability is primary is a big
factor for us it allows gradual adoption
and we'll see so you can actually start
to create Kotlin classes in your code or
start to create Kotlin functions and
interrupt between Java and Kotlin easily
and you don't have to limit this to
tests which is sometimes where we try
and pick up a new language right by
seeing if we can write tests around it
how can you use it we've tried
to make cotton as open and as free as
possible obviously our long-term
interest is that we continue to thrive
as a tooling company and that people use
cotton and consequently by IntelliJ IDEA
but it is completely open so you can use
it from a command line from maven Gradle
cobalt which is a flavour of Gradle on
using Kotlin and if you're still using
ant IntelliJ IDEA both the Community
Edition as well as the Ultimate Edition
Android studio Eclipse and the only one
missing from here is NetBeans any
NetBeans developers ok well now you've
got NetBeans - we started the plugin for
NetBeans so we actually create the
plug-ins for IntelliJ IDEA Android
studio Eclipse and NetBeans ok you can
tell where the features are going to go
first right but as I said like it's it's
command line so you can actually open it
up in the command line and write code in
vim and then where you go or Emacs ok so
let's see some code right any questions
no brilliant actually I can't ask I
can't you don't even have mics so even
if you do speak loudly
but please do interrupt me if you have
any questions so I'm going to create a
new application here and you can see
that I can select Kotlin now normally I
don't do this I normally use Gradle
Grails my default build system but for
for demos this this works really nicely
and we'll just create a new app here you
have and Colleen comes with a small
runtime it's very small it's like 900
kilobytes we try and keep it small and
it keeps the standard library in there
which provides a bunch of additional
functionality which we'll see such as
your filter map flatmap all of these
things and you can ship that with your
with your you know you can jar it you
can zip it you can do whatever you want
with it hit OK and now I've got my
Colleen application I can come here and
I can say create a Kotlin class and I'll
call this go to go to see pH so I can
name it anything I want and then I can
spit out main and main is basically the
entry point
an application right so it's kind of
like in the Java world it would be the
equivalent of public static void in a
static class public static void main and
I can say print line hello Copenhagen
and right-click or hit run okay and that
will compile run it's got incremental
compilation so the first time obviously
it's a little bit slow after that it
becomes faster okay and there you can
see
hello Copenhagen okay and that's as far
as I go in terms of my live coding
ability
um goes so you can actually like I can
select this code and then create a
message and then set a breakpoint as
well and then I can debug and then I see
you know my breakpoint I've got the
debugger and everything okay a couple of
things obviously I didn't mention but
Kotlin is a statically typed language it
compiles down to Java and to to the JVM
and to JavaScript what we're going to
see primarily in this session is
targeting Java but pretty much all of
the constructs and anything you see can
also target JavaScript why do we do
JavaScript because every language Under
the Sun again does JavaScript if you're
not you don't get into the hipster
community so we had to do JavaScript and
there's some very good use cases for
combining Java and JavaScript in a
single project okay
so let me just just to show you how this
works I'm going to go and create a Java
class so I'll call this for instance
customer Java and I'll do for instance
private int ID private string name and
then create the getters and setters okay
now I'll come back to my go to
Copenhagen and what I'll do is I'll say
Val a customer Java equals customer Java
right so you see that I can compile this
and it all works okay complete in two
on notice one thing already that there
is no new keyword in Kotlin so you don't
have to mess around with you
contrary to javascript we don't use
conventions to indicate what a
constructor is so you don't have to you
know make this lower you can make it low
case but we do follow the Java kind of
conventions in terms of naming etc and
then now watch here if I do customer
Java I see I get the ID but the
completion also offers me get ID and set
ID right because in Java we're
accustomed to get ID and set ID get to
read set to write encoding we don't have
getters and setters as such we just have
properties so if you're using Java from
Kotlin you kind of follow the calling
conventions in how you access objects
functions etc and if you're using
calling from Java you follow the Java
conventions so I could actually write
for instance get ID and that works right
and then let's go ahead and introduce
this as an I variable and you can see
that the the IDE is kind of saying to me
use property access right so it does
allow me to write it but I can just use
the convention that the way that you're
meant to use it in Kotlin okay now if I
create a call in class here notice one
other thing that here I have a main
function with no classes right so in
calling you have the ability to have
top-level functions which we'll see
later on so you don't have to put
everything into a into a helper class
that is static with static functions
right and then your colleague puts their
functions in an auxiliary class that
then you wonder where the functions are
are they in the helper class or in the
auxiliary class you don't have that
issue with Kotlin in calling you can
just put functions in any file and then
you can figure out where they are right
kind of like JavaScript instead of
searching for classes you can search for
files but the point is that we cut down
on boilerplate code by not having you
need to create that classes on just to
contain some functions in them by
default by the way Cortland uses the
package default but you
and say whatever howdy-hi really CPH for
instance okay you don't have to follow
the naming conventions of you don't have
to follow like kind of the death by a
thousand folders in the terms of having
everything in that same package but you
we kind of do it out of convention also
you can have more than one class in a
single file in column so let me go ahead
now if you can look at if you see this
right this is basically 89 s of code for
two properties okay so let me go ahead
and create this now in Kotlin so I can
say customer Kotlin and I'll create a
class and Colleen doesn't have fields
everything is a property right so I
could just say Val ID equals int and
then a val name equals string okay
ignore that for now actually let me just
create this as far that way we won't
have that issue okay this is just saying
it's not initialized but forget it for
now
so here the convention that we follow in
Collin is the name colon and the type so
if you use two Pascal it's the same
concept var means mutable Val means
immutable or read-only right by calling
we don't enforce immune immutability but
we kind of recommend it and you'll see
that we've got interfaces over Java
collections that have mutable versions
and immutable versions but I don't want
to do it like this what I can do in fact
is just declare my properties on the
same line as a class I can say Val ID
well var because let's let's do this Ron
Val ID int and then var name string okay
in fact I don't need this
open and close either so that's
basically what I've just created in Java
pretty much except I've got one
additional thing which is I've also
added a constructor right so this means
that when I initialize my customer in
Kotlin I have to pass in two properties
the ID and the name but in terms of
lines of code it's exactly the same as
this well it's not exactly same it's
exactly the same basic functionality
except here this is mutable I've made it
immutable so this would not have it
setter okay if we want to make it a
setter we would do that right so
essentially I've reduced all of that
boilerplate code to something less now
you fair enough you say that the ID
generates it for me yes we didn't think
of that when we're doing this and
putting ourselves out of business
but um you know it's pointless that code
is pointless and the problem is it's
pointless not because the IDE can
generate it for you so it's not causing
you issues it's that you don't know if
the code that you have in six months
down the line whether it was generated
by the ID or it has some custom things
it's just more code that is in your
codebase now I can come back here if I
know how to use an IDE and I can create
some other things for instance to string
right and I can create equals and a hash
code right okay so now I've got two
string equals and hashcode and now we're
at 48 lines of code right okay remove
the white spaces whatever let's go back
to my customer and call it in and do the
same thing there okay so that now gives
me a class with two string get hash code
equals and it also gives me something
else which is copy so if I come here I
can say val customer Kotlin equals
customer Kotlin and then i have to pass
a number and a name that's call me this
by the way notice that we also don't
have semicolons so you can use
semicolons if you do have a video
however you do have to have flame wars
on hacker news about whether you should
or shouldn't use semicolons so I have
customer second Kotlin and I can do
customer Kotlin copy and that will copy
that data class for me and I can
override values so I can override for
example just the ID if I do a print line
of customer Kotlin we'll see what that
gets me
so you can see that I get a nicely
formatted output of what the two string
would be in cotton okay and all of that
is basically by just adding this
modifier which is data okay if I need to
I can actually have you know I can
override the two string I can override
the equals I can override anything I
want but out of the box that's what it
ships with right now this is good
because basically this code is just
typical Java beans that you're creating
over and over again and in calling you
can simply reduce that to a single line
of code any questions so far yes the
question is how deep the copy goes so in
essence if I have for example a list of
copies if it's going to do a deep copy
I believe no it doesn't it just does the
top lip yes another question I will get
to that in a moment the question is how
does inheritance with constructors work
so this is what you've seen right now is
basically a primary constructor what you
can in fact do you can give default
values as well two primary constructors
so I can say for instance this is 0 and
this is empty right and that means that
right now I can now create an instance
of custom in Kotlin without specifying
any input parameters okay
initially we actually just left it at
that
but then there were people that you know
said no I actually want to have the
ability to have secondary constructors
etc and we'll see how you can do that
and then reference the primary
constructor etc okay one other thing
that we also have incontinent is objects
so I can actually say for example object
global and pi equals 314 right now
notice a couple of things this is
basically how you implement a singleton
in Kotlin right because we have the same
concepts as javascript javascript is a
language it just actually only has
objects it doesn't have classes and then
typescript came along
we have classes and we have objects so
you can just implement a single turn by
just declaring it as an object and
there's use cases apart from obviously
just creating Singleton's notice again
here that colin is very big in type
inference right so I don't need to be
explicit here I don't need to say that
this is double right
I can just say pi equals as long as I
initialize it it will figure it out
there are cases for instance if I do I
don't know Val a long value and I want
this to be long if I put 10 it will
think it's an integer but we have
certain characters that you can use to
indicate what this is in this case it
would be along right and this is a
global object which is fine to use
because it's read-only so I can say
global PI and then just print line this
out and away you go
okay anywhere where that PAC that object
is declared in the package it's
accessible right now functions as you
can see we've basically created a
function and you can create any other
function so for example hello world just
takes a message and then I could just
write for example print line right
by default Cortland uses of by default
if you don't specify return type it's
void which in Colin is represented as
unit it's exactly the same as void
except it's an object so you can query
on it you can say oh is this an actual
unit right and by default the
implementation of to string is telling
you that it's a calling unit if I want
to specify return type then I just
specify a return type so for example fun
add numbers X int Y int then int return
X plus y right that's the return type
now in cases where Kotlin can actually
infer the return type you don't need to
be explicit either because I could put
this all on a single line by just simply
doing something like that
so I don't need to open braces close
braces when my function is basically
returning an expression I can just put
it on a single line obviously I can be
explicit about the return type as well
but it's not needed okay so when you're
writing call in use valve are don't
really do the whole you know this is a
string and let me initialize it as a
string and then put some value now if
you're doing Java most of you here are
Java or C sharp or there's a mix or Java
C sharp
okay JavaScript and actually enjoy it so
if you're doing
Java you know that Java 9 I think is
going to come up with the whole var
right and now there's debates endless
debates going on in the community that
this is going to decrease readability
blah blah blah blah blah blah if you
rewind eight years ago we had those same
debates in c-sharp and nothing happened
everyone continued to write C sharp
everyone's using var everything is okay
there has been an increase in people
adopting JavaScript and I don't know if
that is it has any correlation if it is
then they did do some damage but
otherwise nothing really has gone bad
okay so what else do we have so with the
functions also just like constructors I
can have default parameters right and I
can have secondary parameters as well
secondary message and then I can you
know use that and then if I want to
invoke hello world you can see that I
just have the timing of type parameter
info and I have the first message and I
can even change the order so I can say
for example secondary message equals
value message equals another right so
you have name parameters which means you
can change a position of the parameters
you have default parameters or optional
parameters and then you can also have an
unlimited number of parameters so
unlimited strings sorry for arc strings
strings right and then I could just
write unlimited one unlimited to
unlimited three okay
again imagine I knew how to type so
that's it in terms of functions right
it's really really really simple and if
you do do JavaScript you see that there
is somewhat of a resemblance here and
JavaScript right except instead of
function we just write fun we also have
the concept of triples sorry tuples
except we're limiting it to two values
right so if you want to return sorry to
two or three if you want to return two
values you could do pair of string
string or int for instance if you want
to return three values you can do
triples if you want to return more
values user data class we initially had
tuples we removed it because if I one of
our goals is that conciseness and also
readability and expressiveness once you
start to return seven values from a
tuple you've lost track okay but you can
do certain things so for instance if I
were to call unlimited let me just
remove the parameter here so that we
focus on the time if I say for instance
on Val unlimited equals unlimited now
this I cannot do return value first
second third right and the problem there
is that you kind of lose again the
meaning so you can actually do
deconstruction of value so I can do for
instance Val name email and ID equals
unlimited right and then access access
the values directly okay so you can do
that with pairs and triples in fact you
can do that with data classes as well so
if I were to take my data class that I
have up upstairs here right which I have
an ID and a name I could do pretty much
the same I could
to the ID and the name and then do
customer Kotlin one something right so
you can deconstruct values as well which
gives you that kind of more
expressiveness right so here again if I
have for instance a list of elements or
a list of numbers and here's how you can
declare a list of numbers from 1 to 100
which is really nice it's like Haskell
and I can do for number in list of
numbers and then do whatever I want with
the number and if I'm returning a list
of pairs for instance I could do the
same thing list of pairs equals list
sorry list off and then I can do pair
Madrid Spain right now you can even do
this in a little bit more concise a more
expressive way which I'll then explain
to you how it works but if I could
actually write for example Paris to
France right so I'm creating pairs and
I'm or a mapping here what I'm doing on
mapping Paris to France Madrid to Spain
and notice that I don't have to pass in
the pair of the string of string right
it compiler infers all that so I can do
this in the for loop as well and just do
for example city country in list of
pairs
and then access each of these as well
and to get rid of that potential issue
that you have intel in terms of should I
use valve or will it decrease or
increase my readability you don't name
your variables list of pairs you name
them country and city okay there's your
reasonably t-back okay any questions yes
yes okay so the question is why did you
do this if there's if there's Scala
basically right okay how much time do
you have knob jockey the main reason is
or I would say look first and foremost
if you are happy with Scala you don't
need Kotlin first and foremost one of
the ways that I put it is whereas with
scarlet scala allows you to do basically
anything like you can take any symbol
and override it overload it you can do
pretty much anything with Scala with
Cortland you can't we're purposely
restricting the language we're purposely
restricting what you can and cannot do
that gives us better possibilities to
tool it that gives us better
possibilities in terms of performance
that's the reason so whereas with Scala
you might have for instance in your
company I do believe that Twitter for
instance has this if I'm mistaken please
correct me they have a style guide of
what you should or shouldn't do in Scala
we're trying to get rid of that style
guide and say the compiler is telling
you what you can and cannot do so that's
basically the best answer I could give
you another question value assertion
you mean kind of like
contracts based up if there is some not
out not inviting Colin itself now okay
so let's move on I'm sure you're tired
of me typing so I'm just going to switch
over to some code that I have prepared
right you should have said no we
actually are tired of you typing you're
doing a great job just continue doing it
don't worry don't worry okay now you
know how I can navigate my tree um so
what else do we have so again I'm going
to show you some things in terms of
focusing on readability and
expressiveness right it's a bunch of
different language features but with a
focus of why we did it so here you can
see that for instance I have
conditionals and and if expand it can be
used as a statement or as an expression
so here I'm using if as a expression
meaning that like if the input is
greater than 100 print line something
and 30 the last line of if block is the
actual return value and I could in fact
return here a string and that works
right because now result is going to be
evaluated to any any is the top-level
object in Kotlin right so I could return
different different types from an if
expression you can also use if as a
statement if you're using if as an
expression then every branch obviously
needs to have some value the reason for
this is that again you avoid those
intermediate variable assignments etc
you can just have the expression return
a value the same thing goes for when and
we'll see that a little bit later on
casting now this is one thing that is
different to Kotlin and some people
aren't happy a lot of other people are
happy so you tell me if you're happy you
aren't happy
by default Kotlin classes are final
meaning that you cannot inherit from
them who's happy
who's unhappy who doesn't give no right
so if I want to inherit from a class
iced prefix it with open okay
now the open allows me to then implement
inherit from that class so here I have a
class employee that inherits from person
right here I have another class which is
contractor that also inherits from
person now what is the main difference
between a contractor or an employee well
to begin with you don't get vacations
what you do you just pay for them
yourself so here I have a function that
is taking a person and it says if person
is employee person vacation days less
than 20 can you tell me what's missing
they're costing because the compiler in
far is it and I see you see that it does
a smart cast to the actual type okay so
it's not a big
oh wow but it is a big oh I just saved
myself some typing again and again you
can say well IntelliJ IDEA or my
favorite IDE generates that for me yes
but it adds a lot of clutter to the code
which is what we're trying to remove as
well now who loves nulls it's always one
person
here is null here is Java code okay and
by the way this is um if you're not
familiar with it this is font ligatures
and IntelliJ IDEA so that's basically
the same as me writing this okay if
there's no other reason for you to
upgrade to IntelliJ IDEA that should be
it
that and you can put backgrounds
transparent okay never mind
right um well holy yes okay so here I
have a valid a customer that's taking in
a Java customer because it is a Java
class and I have if customers not null
if customer get for first name is not
null if customer get first name starts
with a names are not allowed to begin
with a I live in Spain this is kind of
the business rules that we have in Spain
don't ask why and you can see that I
have several levels of nulls because I'm
checking continuously about notes right
in column we don't have nulls by default
when you declare a variable it cannot be
no you can create a nullable variable
but by default it's not null so if I
come to customer service here this is a
customer in Java but if I write customer
in Kotlin right you can see that
something changes here this will never
be no it cannot be known so I don't need
to do null checks if I want to create or
declare something that's not able I add
the question mark after it that means
that this is now can be nullable if I do
that you can see that the IDE says to me
that only spoil the compiler only safe
which is the Elvis operator or null null
assertions are allowed on a nullable
type which means essentially that I
would have to now do something like if
customer is not is not now then
access customer first name right but
instead of rising that code you can just
use this right which is kind of
equivalent to the optional so to speak
and you can start to concatenate these
the other option is the double hash bang
which says I don't care I know it's now
I want to get a null reference exception
because I missed those things so go
ahead and invoke it why would you use
that there are some very rare cases in
which you would use this okay now what
happens I talked about interoperability
what happens if I do this notice what
happens as soon as I change right
it goes from cursive to non cursive now
that's indicating to me a couple of
things but here custom and Java can be
null so essentially this code can throw
a null reference exception right now
initially when we did this with Kotlin
we said anything that comes from Java
can be null therefore anything that
comes with Java has going to have a
question mark and therefore you're going
to have to use a question mark
everywhere and we saw code bases with a
lot of question marks and it looked ugly
then we decided that okay we can make an
annotation library which can annotate
and infer when the cases are not or not
null and then tell you that certain
certain cases that question mark is not
required it didn't work out too well
either so then we did what any good
consultant to do and say it depends
right and we leave it in your hands if
you believe that the object that you're
getting can be null add a question mark
if you don't you do know that you're
going to potentially face a null
reference exception so here codling
gives you the ability of any type that's
coming from Java that you can declare
explicitly as nullable or not nullable
and that also means that for instance if
you take an interface in Java and you
implement that interface in Kotlin it
can use the type parameters for example
the types that are being passed into the
methods that you're overriding or
implementing it can
and define them as nullable or you can
remove them and say they're not nullable
it's basically leaving it in your hands
in terms of when it makes sense to use
it and when it's not okay so we've seen
functions now no language could respect
itself if it wasn't functional
especially nowadays right and here
Kotlin is also functional now functional
by functional language I mean any
language that allows you to basically
treat functions as primitive objects
right there is a school of thought that
believes that the only functional
language in the world is Haskell and
everything else tries to be Haskell in
the context of can I use functions as
primitive building blocks and therefore
that is a functional language then yes
func Kotlin is a functional language and
here is how i declare a higher-order
function which is a function that takes
a function or returns a function so here
I have a function that takes another
function as parameter which is int takes
two parameters of type int in and
returns an int okay and then print line
function two and three I'm invoking it
here I have a function declaration my
sum X Y int return X plus y which we've
seen if I want to call higher-order with
that function I can use it I can
reference it by name using colon colon
now in JavaScript that would be just
using the function name here you have to
use colon colon and you can do the same
for instances of classes I can also use
lambdas I have lambdas in column right
and you see that I don't have to be
explicit about the types right it also
again infers it it knows that it's it
nigra quire's a lambda that takes two
integers and returns an integer so no
need to be explicit now we go one step
further with the lambdas and do
something similar to groovy so I can
declare this lambda notice how it's
actually the IDE didn't insert the
brackets for me and that is because we
follow the same convention as groovy
that if the last function to another
function is a function the last
parameter to a function is a function
then you can
pass that outside of the brackets in
this case I only have a single parameter
so I can just pass it outside of the
brackets then I can do this multi-line
right I know that doesn't look like a
function anymore does it
it looks more kind of like a keyword
kind of thing right it's like high order
could potentially be something that I
could add to the language so why would I
do that because it demos very well here
is the using statement in c-sharp that
you don't have in Kotlin okay so here I
have in c-sharp you have basically it's
kind of similar to try with resources I
can take a disposable object you call
using and then make sure that after my
using block it frees that object and
equivalent in Java would be closable so
here I'm taking a close I'm declaring a
function that takes it closable and then
an action that takes no parameters and
returns unit and then I'm going to
invoke the action and then finally close
it right close that object so that means
that now I could do something like this
using my object let's say whatever that
closing object is do something with the
object and know that once I'm through
with it it will be closed for me so I'm
kind of like adding micro micro is a big
word nowadays micro DSL is - my language
kind of extending it a little bit with
some functionality okay and we'll see
some more examples of this for instance
if we go to let with apply you can see a
few more these are part of the standard
library so with file file if it's far
what is missing here what's missing here
is the actual object onto which I am
calling those methods and properties and
function parameters properties and
member functions right members that's
what's missing here I don't need to
because this with function over here is
returning that object for me so I can
access it inside my lambda expression
this is part of the standard library and
I'll show you how that's implemented in
a little
minute in a bit because this is called
the lambda with receiver which will see
what that is another thing that we do
with similar to grew to groovy is if the
lambda has a single parameter you don't
need to be explicit about it you can
just use it right
so refer to it as it now we have a bunch
of things inside the standard library so
here for instance I have a data class
album data class track then list of
albums Dark Side of the Moon with its
tracks okay
this time the library provides me with
out-of-the-box functionality such as
filter sorted flat map map all of these
things that you could think of to when
you're kind of chaining results from
collections etc there's also a lot of
functionality that's added in terms of
strings so you have like for example in
start substring before etc now the next
thing if you look at each of these you
can see that what it actually is it uses
this syntax of the type this is how you
define define a generic type in coddling
you prefix it with T and then type which
is going to be generic there's a dot and
there's a filter what exactly is that
that's function extensions right not if
you're familiar with c-sharp you know
that you will have extension methods in
c-sharp which basically you create a
static class and then a static method
inside that static class with a
parameter this and that allows you to
effectively extend that class with new
functionality without having to inherit
from it we have the same thing in
calling their extension functions and a
lot of the things that you see in call
in a lot of the standard library are
merely just extension function on
existing Kotlin and Java types so here
what I'm doing is I'm extending the
string class with a mess with a function
called hello okay since I don't have
the the need to create this top-level
class you know a static class and then a
static method I could just declare that
extension function in a file and
whatever that package is whatever that
package is imported that extension
function can be used so I've just added
hello to the string class I can access
the instance of the class that I am
extending so I can do that with this my
extension functions can also take
parameters and you can also have
extension properties not only functions
and now I could do things like this is
me hello this is Hardy welcome right any
string class any string now has my new
extension functions and then you can do
funny things like for instance fun
string should equal right and then you
put value string and this returns for
instance a boolean and then you say
return value equals this right so then I
could do something like you know this
should equal this right but cotton also
allows you to use in fix notation when
action has a single parameter or an
extension function has a single
parameter a member function or extension
function so I could use in fix now and
then I could do this should equal this
right again one of our goals was the
ability to create the s l's and
nice-looking things and we'll see more
examples of this okay
if you have any questions just shout i'm
just so another thing that we kind of
built in Kotlin delegation kind of
first-class support for delegation here
i have a typical repository pattern and
the repository pattern sorry yeah a
repository which is the wrong
implementation of every repository out
there in the world but we've all done it
like this which is get by aidid every
time the t get all the returns a list
this little highlighting here is that
this is saying that this could be a
contravariant so in column we have
support for covariance and
contravariance now i have a controller
that is passing in as parameter that
repository now in a typical scenario
what you would do is you could create
this as a property and then do something
like repository get all right injecting
that dependency in here this isn't a
property i can't access repository
because it's not it's just the parameter
to the image to the constructor you can
access it in a constructor block so here
i can access repository but not in the
class itself but i've added this line
here which says repository customer by
repository which is basically telling me
that this functionality of the
repository is delegated to the
repository class that's being passed in
effectively what that translates in to
that i have access to the methods of
this interface without having to have a
private property to prefix it and use
that so i can just do get by ID and just
access any parameter that's passed in
anything that is delegated you can have
more than one delegate now the question
might arise that if I have five
delegates how do I know which method
belongs to to which parameter that's
being passed in in response to which I
would say invest in a good IDE or better
yet don't don't pass in
five parameters right if you if your
class is you know if you're injecting
more than a couple of dependencies that
is a strongly typed strongly bound class
you know is its strong it's a tightly
bound it's tightly coupled right because
that class has to be aware of too many
things that are going on is
orchestrating too many things so there's
probably a level of abstraction or
something else missing there right the
solution isn't passing in a collection
or just I'm pre fixing it it's just
redesigning it a little bit now if you
are familiar with a Java you know that
Java has streams
everything that I've shown you up up to
now has basically been eager evaluation
so you know when I do a filter is going
to list through all of the elements it's
going to evaluate everything but we also
have lazy evaluation and it initially in
Kotlin you would say as stream but then
java came along with stream and then we
had to rename it so we called it as
sequence and this allows you to take any
collection and do a lazy evaluation if
you can't do that on a collection you
also have the generate sequence function
as part of the standard library which
allows you to basically create sequences
with a little bit more complex code last
but not least how many of you are
familiar with Haskell or algebraic data
types okay so our implementation of
algebraic data types is algebraic data
types basically is a type that could be
a multiple type so for example boolean
can be a true or can be a false right so
the way we do it in Colin is we use the
sealed modifier right so I say sealed
class and that basically means that here
I have a class page result and it has a
sub class success in a sub class error
as soon as I add sealed to it it means
that there is never ever going to be any
other classes inherits that which means
that I could then do some exhaustive our
you know checks on something so
here I'm saying that page result will
either be successful error I mean then
why would I want to do this because
again it leads to a little bit nicer
code so here I have for instance a
function get page that returns a page
result and I say if the operation is
successful return a type success if it
is an error return a type error instead
of having a single return type that then
I have to check for a flag if if is
error if it is error then I have to know
by looking at the docs which value which
return values are actually containing
the error message which ones are only in
case of successful I can now have a type
return one of multiple types what this
you could do this obviously without the
sealed but what the sealed is doing is
guaranteeing you the the inheritance is
closed with just those classes that are
sub classing it this is called in 1.0 in
1.1 you can actually put this outside of
the class so you don't need to have
those classes inside the class which
means that you don't have to reference
them as page result that success you can
just reference them as success the only
limitation is that any class that
inherits from your sealed class has to
be in the same file ok
any questions yes yes similar to
discriminated unions yes well as I said
in 1 point 1 you can now get rid of the
prefix with the page result so that
minimizes it somewhat right and the
other thing is here is one issue which
if this is a sealed class and if I add
for example a class another here right
which inherits from page result what
would you expect that when to do would
you expect this when to give you a
warning that is non exhaustive it does
not and it does not on on enums or on
this and we had it doing it on enums and
we got a lot of complaints so one of the
things that we're looking back looking
at is outside of the whole concept of
sealed is potentially and this is just
something an idea please don't quote me
on this is he says that he's he knows
that it's being recorded is adding
sealed keyword to win so essentially
saying that this when is also sealed
okay
right so let me just finish off with a
couple of slides some other things that
people are doing well we're doing anchor
is the open source library which if
you're doing Android development allows
you to write descriptive layouts without
having to use XML just basically static
typed language Android extensions is the
the compiler comes with a plug-in
ability so you can actually change some
things and what we do with Android
extensions is if you're familiar with
Android development a lot of times you
have to do fine by view our ID text view
and then cast it with this plug-in what
you allow you to do is actually
reference the type and one thing that
we're also about to release soon is if
your do anyone does spring
so spring one of the issues that spring
developers have with Kotlin is that they
have to decorate everything with open
we're going to be releasing a plugin and
when I say plugin I don't only mean for
IDE but I mean for any build tool maven
grater let cetera which you can annotate
certain classes that say that if they
have this annotation by default they're
open which makes it again more concise
when you're writing spring spring boot
the good fans and the spring boot
already has support for Colin so you
could generate your templates using
Cortland cobalt as I already mentioned
is a flavor of Gradle using Kotlin to
define builds spec is a library a lot of
testing framework that I've written
which is kind of similar to Jasmine maka
if you're familiar with JavaScript those
frameworks and the roadmap co-routines
we're basically implementing a generic
co-routine so in terms of a synchronous
programming we are not going to say
we're going to go with the c-sharp
approach of a sync of weight or we're
going to go with a not reactive
extensions and approach or anything like
that we've implemented co-routines
which then we provide a series of
out-of-the-box functionality as part of
the standard library
which the compiler then transforms into
state machines right so you can use a
single weight or you can use yield or
you can use anything you want and not be
bound to a specific type data class
hierarchies type aliases deconstructing
lambdas bound method references
delegated properties local and Java 8 9
which we still are committed to
providing Java 6 support but if you're
targeting Java 8 or 9 we will improve in
terms of code optimization and certain
functionality that is provided as part
of the standard library and JavaScript
support and also we are now started on
native so there will be caught lint to
native it's kind of early stages right
now but we've already got something in
the work works next steps if you are
interested calling Lang or try calling
Lang org which is an in-browser kind of
IDE which allows you to try a series of
cones without having to download or
install anything if you want to download
you can do that they're also available
on github books there's are actually I
think another one in the works right now
calling for Android developers and
by my colleagues which is now finished
in terms of text and it should be
published soon but it's in the early
access program
I've just finished 9 hours of this is my
self-promotion forgive me I've finished
just nine hours of Kotlin O'Reilly
course which should be available
sometime in November on safari and
community very active community on slack
is just now this snapshot was taken 4364
members already and we've got forums
Twitter or though so if you start with
it come to the call in slack because you
will get help there as well as on our
forums so to summarize we try to create
a very pragmatic language that is has a
very easy learning curve it
interoperates with Java so it provides a
low risk adoption you don't have to
limit it to tests you can just mix and
match classes in fact if you use
IntelliJ you can take a Java class and
through a keyboard action convert it to
Kotlin code it's not the most of the
Ematic coddling code but it does give
you a starting point and obviously this
is subjective but coming from c-sharp
having stayed away from java I do find
it enjoyable and this is kind of
something like when people say to me you
know why should I use IntelliJ over
eclipse I'm like try it if it suits you
if you find it better for you for your
needs
then great if not don't and our
commitment to Collin is that it's here
to stay because we're using it in our
products right so the business model
around Kotlin is JetBrains tooling it is
not consulting or anything like that and
I'll just finish off with this research
Colin last night and then spending the
morning looking at mountains of
boilerplate Java in Android studio I see
what they did why they did it yeah
that's pretty much sums up why we did it
thank you
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>