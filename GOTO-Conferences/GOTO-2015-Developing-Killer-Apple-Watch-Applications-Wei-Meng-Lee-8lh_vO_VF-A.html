<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>GOTO 2015 • Developing Killer Apple Watch Applications • Wei Meng Lee | Coder Coacher - Coaching Coders</title><meta content="GOTO 2015 • Developing Killer Apple Watch Applications • Wei Meng Lee - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GOTO-Conferences/">GOTO Conferences</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>GOTO 2015 • Developing Killer Apple Watch Applications • Wei Meng Lee</b></h2><h5 class="post__date">2015-10-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/8lh_vO_VF-A" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">(bright music)
(applause)
- Hey, thank you!
Can all those in the back hear me?
Okay, good.
So, thank you very much
for coming for my session.
So, for the next 50 minutes
I'm going to talk to you
about developing killer
Apple Watch applications.
So, just have a show of hands:
How many of you have a Apple Watch?
On your...?
Wow!
(laughing)
And who has got a 10k, the 18k watch?
(laughing)
I wanna talk to you.
Okay, so how many of you
have actually started
writing apps for your Apple Watch?
And I guess you have already updated
to watchOS 2.0?
Yes?
Okay, if you've not done
that, please do that.
It has got a lot of wonderful features.
So that's the topic of my talk.
So as usual, please go to the app
and give us your feedback.
So a little bit about myself:
I'm focused on mobile training,
so I do a lot of iOS and Android training,
and I'm also into wearables training,
like Android Wear, as far as Apple Watch.
I have actually written a book called
Learning WatchKit Programming.
And the really sad thing about that
was by the time the book
was released in the market,
it was already outdated.
So the reason being,
in June Apple announced
a new version of the watchOS,
which is watchOS 2.0,
and the first book on the left
was based on WatchKit 1.1, 1.X.
So my editor said, &quot;Hey, nevermind,
&quot;Let's update this book to second edition.&quot;
So the one on the right
would cover watchOS 2.0
and that is going to be available
end of this year, December.
I just submitted my manuscript last night
so if everything goes
on without any problems,
you should be able to see the book.
And all the demos that I'm
going to talk about today
can be found on this book.
So you know what to do, right?
(laughing)
Anyway, all the demos for this session
I've already posted on my website,
so I'm going to give you the link
and you can actually go and download
all the source code.
You just need Xcode 7.
You don't need to have an Apple Watch
but since I think most of
you have an Apple Watch
you can actually deploy
that onto your Apple Watch.
Okay so the agenda that we want to cover
for the next 50 minutes.
So I'm going to get you started
with Apple Watch development.
I think some of you are
already familiar with that,
so just bear with me for awhile
while I get the rest up to speed,
and then we can talk about some of the new
cool features in the latest
version of the watchOS.
And we'll talk about the new stuff
available in the watchOS 2.0.
There are complications.
The WatchKit Connectivity Framework.
And you can download all
the demos from this website.
So if you want to copy
down, you can copy down,
or you can download the
slides for this session
and then everything's there.
Okay?
So let's talk a little
bit about smart watches.
Now, I know that most of
you are Apple Watch users.
How many of you are
actually Pebble watch users?
How many of you have Pebble watch?
Are you serious?
(laughing)
Okay, how about Android Wear?
Okay, one.
Come on, don't be shy.
Okay, only one.
Okay, I shall not ask the big question.
So I think all the rest
are Apple Watch users.
Now, I always get this question:
So people always ask
who will be the winner
of this race for the wearable?
This device that's gonna be,
that you're gonna wear on the wrist.
Well, I'm not going to ask you
because since you are in this session,
your answer will be Apple Watch.
My thinking is, whoever controls
the smart phone platforms
controls the smart watch platform.
It's quite obvious.
Because if you talk about
smart watches today,
the smart watch is still
very much dependent
on your mobile phones.
So whatever mobile phones you have,
chances are you are buying the device,
the watch that comes
from the same platform
as the phones that you have.
So if you look at the chart here,
on the right you have Apple Watch
and behind Apple Watch
you have the iOS platform,
which is one of the number one
in terms of market penetration.
And then followed by
the one in the middle,
you have the Android Wear,
which is supported by Android,
which is from Google.
And on the left hand side
you have your Pebble.
Now, Pebble is in a very
dangerous position now.
Why?
Because they don't have a
platform to support them.
So in order for your Pebble
watch to make any sense,
you have to rely on either
the iPhone or the Android.
And if you've read the news lately,
that when Pebble submitted the
updated applications for iOS,
Apple took a long time to approve.
So they are at the mercy
of either Google or Apple.
So I think from this chart it is quite
obvious in the long run
which are the winners
in the wearable space.
But anyway, since we are
talking about Apple Watch,
we should focus on Apple Watch today.
Now, for developing on the Apple Watch,
you need Xcode 7 and you should
already be familiar with iOS development.
So how many iOS developers
are there in this room?
I think almost...
Okay, who doesn't develop on iOS?
Okay, okay.
So this is a good group
for me to convince.
So hopefully after this
session you can rush out
to buy a Apple Watch.
Now in terms of language,
you can use either the new Swift language,
or if you have a very
high threshold for pain,
you can use Objective-C.
(laughing)
So my suggestion to you
is if you are starting
out on iOS development,
I think Swift is a good
language to get started, okay?
So those people who
actually laugh at that,
you can ask them how much
pain they are going through
learning Objective-C.
Is that right?
Okay, maybe wrong group.
So maybe you guys eat
Objective-C for breakfast?
Okay, a little bit about the
Apple Watch specifications.
So it runs on a custom chip from Apple.
So Apple designed their own
chip for the Apple Watch
and it has got many sensors.
So it has got a heart rate
sensor on the back of the watch,
which you can use to
measure your heartbeat,
and it has got accelerometer.
It allows you to measure whether you are
walking enough, exercising enough,
or it is time to stand up.
It has got WiFi so that if your watch
is out of range from your phone,
it can connect to
well-known WiFi networks,
and it can actually
connect to the internet
and communicate with the
web services directly.
It also has got Bluetooth low energy,
but in terms of programmability
of Bluetooth low energy it is limited
to communications between
the Watch and the phone.
So we'll talk more about
that as we go along.
And it's charged wirelessly
using a magnetic charger,
so a typical charge can
last you for about a day.
So if you're not updated, your watchOS 2.0
typically then will last you for about
eight, nine hours on average.
But if you update to watchOS 2.0,
the battery's lifespan is able to last you
for about 14 to 15 hours,
which is pretty impressive, okay?
So it's time to upgrade.
Now, in terms of interacting
with the Apple Watch,
there are a few ways in which you can
interact with the Apple Watch.
And the first is your Digital Crown.
So Digital Crown is the little knob
by the side of the watch,
which allows you to turn
and you can use it to scroll
through a list of items.
You can zoom in and out of images.
And it also acts as a Home button,
so when you press that,
it actually returns you
back to the Home screen.
You can also use Force
Touch on the Apple Watch.
So Force Touch is getting
very common nowadays.
If you have a iPhone 6S or 6S+
you know what is Force Touch.
So, it first started
out on the Apple Watch,
and by pressing hard on the screen
you can actually initiate
what is called a Force Touch.
It is very similar to a
right-click on the desktop.
And it has got this Taptic Engine,
which provides haptic feedback.
So when you scroll through a list,
when you reach the top of the list,
it will give you a
little sort of vibration
to tell you that, &quot;Hey, you have actually
&quot;reached the top of the list.&quot;
And when you have messages coming in,
you have notifications coming in,
there are different types of feedback,
kind of vibrations,
that allows you to distinguish
between one notification from another.
Okay?
Now in watchOS 2.0, you can
programmatically access the Taptic Engine,
which means that if you want
to, in your application,
you want to have certain
kinds of vibration,
you can actually
programmatically activate that.
So that's something cool in watchOS 2.0.
Now in terms of Apple Watch sizes,
good news.
At this moment there are only two sizes,
at least to the developers.
Do you know what I mean?
So there are two sizes.
The first size is the 38mm
and the other, bigger size is the 42mm.
And I say good news:
No AutoLayout!
Those of you who have
done iOS programming,
you know AutoLayout is a pain in the back.
Yes?
So no AutoLayout...
yet.
Okay?
So don't ever go and talk to Apple
and say that you want a
different size of watch
because if you want different
sizes of the Apple Watch,
one day they will implement
AutoLayout on your Apple
Watch and your nightmare
will move from your mobile
platform to your watch.
Okay?
So who actually enjoys AutoLayout?
(laughing)
Let's continue.
So I really suspect you
guys write Objective-C code.
(laughing)
Let's talk a little bit about
the WatchKit app architecture.
At this moment, your
Apple Watch application
is still reliant on your
iPhone for connectivity.
So on the left, you have
your containing iOS app,
and on the right you have your Watch app.
And in the Watch app,
you have two components:
First, you have the WatchKit app.
You have the WatchKit app.
And in the next slide,
I'm going to elaborate on
what are the things that
you have in a WatchKit app.
Now, besides the WatchKit app,
you also have the WatchKit extension.
So this is the place where
you have all your Swift files,
your code.
And in the WatchKit app,
this is where you have your storyboard.
So good news is your
knowledge in storyboard
is very much applicable when
you develop Apple Watch apps.
Let's elaborate on the
previous slide in more details.
So if you take a look at the diagram here,
this is for watchOS 2.
So on the left is your iPhone
and you have your iOS app
that accompanies your Apple Watch app.
And on the right, you
have your Apple Watch app,
and in the blue box, you have what we call
your WatchKit app.
And you have your storyboard,
as well as your resources.
That is where you place all your UI
and where you place all your resources,
like your image files,
HTML files, for example.
And you have your logic,
which is encapsulated
in the yellow box here,
known as the WatchKit extension.
The WatchKit extension is
where you write your code,
be it Swift, or in your case, Objective-C.
The reason for highlighting
this particular slide
is because in the previous
version of watchOS,
which is watchOS 1.X,
this WatchKit extension is
actually on this side here.
So that means that whatever
things you interact with,
your Apple Watch gets
executed on the iPhone.
So in the first version of Apple Watch,
you've got this problem:
You run a app on the Watch,
you tap a button,
it has got to make a
connection to the phone.
The phone executes,
get the results, send it
back over to this guy.
So the major complaint about
first generation Apple Watch
is that the performance
is really sluggish.
It's really slow.
So in 2.0, they actually move
this onto the Apple Watch.
And at the bottom layer here,
the WatchKit framework
basically communicates
between these two devices
using Bluetooth low energy.
You don't have to get your hands dirty
with Bluetooth low energy.
Everything is done transparently for you.
So this is how your Apple Watch interacts
with your containing iOS app.
When it comes to deploying
your applications,
you deploy your iOS bundle.
So this is your iOS bundle.
You have your iOS app,
you have your WatchKit app,
as well as your WatchKit extension.
So you deploy this as a single unit.
So that means that today,
if you want to develop
any applications for the Apple Watch,
you must first of all have an iPhone app.
So the user would have
to go the App Store,
download their app, install
that onto your iPhone.
Only then could the watch app be
installed onto your Apple Watch.
Okay?
Now what are the different types
of Apple Watch applications
that we can develop?
First of all, we can develop native apps.
So I'm gonna show you a demo
of a native app in a moment.
So in watchOS 2.0, in your native apps,
you can actually access the accelerometer.
You can access the Taptic Engine.
You can play video files.
You can do voice input.
You can do text input.
Okay?
So this is what you can
do with native apps.
You can also write complications.
We will talk about complications later on
but for now, what are complications?
Complications are basically apps
that supply the data to be
displayed on the watch faces.
So later on, I have a set of slides
talking just about complications.
So we will come to that in a moment.
We will talk about notifications.
You can also develop notifications.
Now, by default in your Apple Watch app,
you don't have to do anything
to support notifications.
Whenever your iPhone
receives a notification,
it will automatically be
sent to your Apple Watch
if your iPhone is in a sleep state.
But if you are using your iPhone
when a notification comes in,
your notification will go
straight to your iPhone.
So by default, you don't
have to do anything.
But, if as an application developer
you want to beautify your
notification messages,
you can also write applications
that support notifications.
You can also write what we call glances.
So glances are basically information
that show the state of your application
and the users can
actually take their watch,
swipe from the bottom of the screen,
swipe to see the latest
state of your application.
So if you want, you can
also write applications
that support glances.
So later on I'll show you
a demo of what is a glance.
Okay, so for the benefit
of those who are new
to Apple Watch development,
I'm going to run through a
&quot;Hello, World!&quot; application
and then will move on to
talk about complications
as well as watch connectivity framework.
Now, for Xcode 7, you
can straightaway select
Application under the watchOS category.
And in this case, select Application,
select iOS App with WatchKit app,
and give it a name.
So HelloAppleWatch.
Fill in the rest of the stuff.
What language do you want?
(laughing)
Say again?
- [Audience] Objective-C!
- [Wei-Meng] Objective-C?
Very good, Swift.
(laughing)
Now, if you look at the bottom here,
you can actually support notifications,
and that is to say if you have your
Apple Watch application written,
and when a notification
comes in, you can actually
format the notifications nicely,
so that you can display in
the manner that you want.
For now, we are not
really interested in that,
we're going to uncheck every one of them.
Uncheck this.
And then click Next.
And we're going to save
it onto our hard drive.
Now, if you look at the left hand side,
this is your usual suspects:
your AppDelegate,
your ViewController,
your Main.storyboard.
So this is your containing iOS app,
so nothing really interesting to see here.
Now if you'll look at this side here,
you have your WatchKit.App,
you have your WatchKit.Extension.
Remember the slide that
I showed you just now?
Under the WatchKit.App, you
have your Interface.storyboard.
You could click on this.
You'll see something very familiar.
You'll see your good friend here,
your InterfaceController.
Now in a iOS app, we call
this the ViewController
but in the case of the Apple Watch,
they just want to be different.
They just cannot call it ViewController.
They call this InterfaceController.
And if you want to populate
this with some views,
or some controls,
you can go to the object library here
and you can drag and drop a button
and you can drag and drop a label.
So let me just stretch it up a little bit.
And if you want to have
more than one screen,
you can always drag and
drop interface controller
and then you can create your sideways.
So, simple stuff.
So, let's keep it to one
interface controller.
And if you look at your extension,
your extension has got an InterfaceController.swift.
This is very much like a
ViewController.swift.
And like I mentioned earlier on,
your WatchKit extension contains code,
as well as your resources.
So let's go in and write some simple code.
So let's go to the Show
Assistant Editor button.
So let's split the screen.
And let's create an outlet for this label.
So control drag.
Let's call it label,
LBL, just for simplicity.
And for the button,
for the button we want
to create an action,
so control, click, and create an action,
and we want to say that this is a button.
Click.
So we have an action here.
So very much like the old iOS programming,
for those of you who are
already familiar with.
And if you want to display
something in the label
when you click on the button,
you can simply do
a self.lbl.setText.
And you'll say, &quot;Hello!&quot;
Okay?
So now, when you're done,
if you look at the top here,
you've got two schemes available.
The first is for your iPhone app.
The second one is for your iPhone app
plus your Apple Watch app.
So I'm going to select the second one,
and I'm gonna run this.
And your simulator should appear.
So let me just hide this a little bit.
Okay.
Okay, so this is your first
Apple Watch application.
So when you click on this button,
you should see a &quot;Hello!&quot; there.
Easy?
Are you impressed?
(laughing)
Okay, you don't look very impressed.
Okay, now let's take this time
to actually navigate this
Apple Watch simulator.
So if I want to simulate
going to the Home screen,
that means I want to
press the Digital Crown.
So you can do a command + shift hitch.
So you go to the, what we call &quot;watch face&quot;.
So there are different types
of watch faces available.
So on the simulator,
you can actually simulate
different types of,
switch between different
types of watch faces.
So you can simulate a force touch,
so that you can actually
customize the watch face.
So to simulate that, command + shift + 2.
When I click on that, that will simulate a
force touch.
And after that, if I want
to simulate a normal touch,
command + shift + 1.
So I can switch between the
different types of watch faces.
So at this moment, I just
want to get you acquainted
with some of the watch faces.
You can have utility.
You have modular.
You have simple.
Motion.
Time lapse.
Astronomy.
Color.
Photo album.
So on and so forth.
And for example,
if you decide to select
this particular watch face,
you can select this guy,
and then it will show you the current time
and have some animations to show you
where is the location of the sun.
So if you use your Digital Crown,
you can actually turn this
and then look at animation.
So this is pretty cool.
Okay?
You can do this all day.
(laughing)
So, but anyway.
Okay?
Okay, let's switch to another watch face.
So my favorite is this one.
So now, this watch face has
got a lot of information.
So of course, this is a watch,
so of course you have the time:
4:14.
And besides the time, you have
what we call &quot;complications&quot;.
If you look at the other information
that are being displayed,
this are what we call complications.
Okay?
So let me go back to the slide
and then we'll come back
to this in a moment.
Okay, let's talk about complications.
So what are complications?
The name sounds really complicated.
So now, by definition, a complication
is basically a function on a timepiece
that does more than just tell the time.
If you look at this image here,
how many complications are there?
I think it's pretty obvious
if you look at the highlight in yellow.
How many are there?
One, two, three, four, right?
So this is--
What is this?
What kind of data is this?
- [Audience] Flight information.
- Flight information!
What about this?
Date.
What about this?
I have no idea.
What about this?
This one looks familiar, right?
Volkswagen.
Probably it basically tells
you about the diesel emission.
(laughing)
Okay, I'm joking.
Anyway, now we have already looked
at the various watch faces.
Now, let's say I want to
change the complications
that are being displayed
on this watch face.
What do I do?
So I basically do a force touch,
click on this guy,
and I select Customize
and I can actually customize
the look and feel of this
particular watch face.
I can change the color,
and if I swipe it to the right,
I will be able to display and to change
the different types of complication data.
So at this moment, I have selected
this particular complication
and what I can do is that
I can use my Digital Crown.
I can scroll
and I can change to different
types of applications.
So by default it has got sunrise, sunset.
It has got weather.
It has got the stopwatch.
So on and so forth.
So what we're gong to do later on
is that we are going to
write our own application
to pump data to display
onto the watch face.
Okay?
So there are different
types of watch faces.
So if you select this guy here,
you can change this to display moon face,
display the stopwatch, so on and so forth.
So this is how you customize
your complications.
Now, what is important
to you as a developer?
Think about the types of
data that you want to display
on the user's watch face, okay?
So, think about that.
What are the things that
you can actually display?
Now, before we talk about that,
there are some watch faces
that do not support complications.
They are Motion, X-Large,
TimeLapse, Astronomy,
Photo Album, Photo, and Solar.
They don't support complications.
Now the next feature that you have
is what we call Time Travel.
Time Travel.
Now, look at this example here.
These two diagrams.
I have the weather complication here,
it displays the current weather.
And if I turn my Digital Crown,
I will be able to display
the weather forecast
four hours from now.
Okay?
Now, if I turn it back
the other direction,
I may display the weather data
that is past the current time
but most of the time you
are not interested in that.
You are only--
For weather forecasts,
you are only interested
in the future.
You don't care about what's the weather
two hours ago, right?
So this is what we call Time Travel.
But there are a lot of cases
where you would want to display data
that has already been--
It's over.
As well as events that are upcoming.
Okay?
So later on I'll show you one example.
So Time Travel is something
new in watchOS 2.0.
And the interesting thing
is that as a developer,
you can actually write applications
to support Time Travel.
And it lets you turn back
time or fast forward.
And some examples:
Weather forecasts, so
that you can actually
display the weather forecast
for the next two days
if you want to.
Stock prices.
(laughing)
That will be interesting.
If you can display the stock prices
of a particular stock two hours from now
you would have a killer app
and that's the end of
today's presentation.
(laughing)
You don't have the talk further.
Okay?
But too bad you can't do that.
But if somebody can
actually write an algorithm
to display the stock prices
of a particular stock
in the future,
give me a call.
Okay?
Now again, there are some watch faces
not compatible with Time Travel.
Here are they on the left hand side.
And on the right hand side there are some
watch faces that have got
their own Time Travel.
You cannot program them,
but it's already built in,
like Astronomy.
So I'm not too sure whether
you have seen the demo on that.
If you switch over to the...
Okay, this is cool.
So if you look at this,
so you can actually spin the Earth.
Not really spin the Earth,
but you get what I mean.
Okay, so you look at the time,
you can change the time,
and you can see where the sun is shining.
Okay, now let's move on.
Now, so as a developer, how do you
actually support
complications in your app?
You make use of this framework
known as the ClockKit Framework.
And you simply need to implement
the CLKComplicationDataSource protocol.
So those of you who are familiar
with the iOS development,
again it's the usual protocol
delegate design pattern.
So you just need to acquaint
yourself with this protocol.
So you just need to implement
this particular protocol,
the methods inside this protocol.
So let me just do a quick one.
So you implement the following methods,
getSupportedTimeTravelDirections.
So you want to indicate whether you want
the user to be able to
fast forward or rewind.
You can specify that programmatically.
And what is the earliest start time
that you want to display data?
So when you rewind,
what is the earliest date
that you want to display?
And when you fast forward,
what is the latest date
that you want to display?
And whether you want
your data to be displayed
even in the watch is locked,
such as when he remove
his watch from his wrist.
And you want to display your current data.
And you also want to...
What other datas that you
want to display for rewinding?
So when you rewind to the previous time,
what are the data, what are the entries,
you want to display?
What are the data to
display for future events?
And how often do you update the data?
And what do you actually display
when the user selects your complication?
So I'm gonna show you a
quick demo after this.
So before we look at the demos,
these are the places where you can
actually place your complication data.
So, for example, in the current version,
Apple supports five main types
of complications placement.
The first is the Modular Small,
which is on the left hand side,
and then you have the Modular Large.
You have the Utilitarian Small and Large,
as well as Circular Small.
Now, the different placements here
basically means that you can display
different types of data.
For example, you can
display a ring if you want,
or you can display two rows of text.
So I have a slide to
show you some examples.
So in terms of the templates,
these are the various templates
that you can use to display
your complication data
on different parts of the watch face.
And this is one example.
So, for example, if you selected
ComplicationTemplateModularSmallColumnsText,
so this is what you get.
So in this case, you can display your data
in two rows and two columns.
So inside this particular
placement template,
you have four text fields
for you to display your data.
But if you think that
this is not what you want,
you can select another
template, for example called the
ModularSmallRingImage,
where you can display an image,
and at the same time
you can display a ring.
And a ring can either be
closed-style or open-style.
So for example you want to
display the rating of an item,
so you can use this to represent
one full circle, 1.0.
If you want to represent 0.75,
you might have a three-quarter ring.
So you can have open-style
or closed-style.
So they have one whole bunch
of different templates available.
You can refer to the documentation.
They have one whole list of diagrams
showing what types of
placements you can have.
So I'm gonna show you one demo.
So I am going to imagine
that I am a movie operator.
So my company plays movies,
so that I operate the cinema.
So if you want to watch
a particular movie,
you can add my company's data
onto your watch face,
and when you are thinking
of watching a movie,
you can actually turn your Digital Crown
and say, &quot;Okay, 5:00 today,
what movie is showing?&quot;
And then you can turn.
&quot;7:00,
&quot;What's the next movie?&quot;
And if you want, you can always rewind,
and say, &quot;Okay, 1:00.
&quot;What was the movie that was
being played at the time?&quot;
A very simple simulation here.
I have an array of structures
and these structures
represent the movie name,
the movie running time,
how many minutes,
when it is going to play,
and what is the rating.
So to keep things simple,
this diagram basically summarizes
the movies that are playing in the future
and those movies that
have already been played
for the past few hours.
So this is the current time,
and when I'm writing my application
I'm gonna say that in the next few minutes
I'm gonna play this movie called
&quot;Secondhand Lions&quot;,
and then two hours later I'm gonna play
&quot;The Dark Knight&quot;, so on and so forth.
And when I run the demo,
you can see that as you scroll
through the Digital Crown,
you'll be able to see
all these different movies
displayed on your watch face.
Okay, so let's do a quick one.
So let's load this project.
Okay, so movies...
Okay.
Okay.
Okay, let's run it.
Okay, now first things first,
I've got to change my watch face
to one that supports complication.
So I'm going to go back to my Modular.
Select this guy.
Customize it.
Change this to my complication.
So I'm going to run through that.
And this will be my complication.
So by default, I display the current time,
I display the text Movie Name,
Running Time.
So once I have selected that,
I am also going to select another place
where I can display another complication
from my application.
Now, in this application,
I'm going to support
two different placements.
One is the Modular Large
and one is in the Modular Small.
So if I run through this,
I'll be able to see this thing called
Movies WatchKit App.
And in this case, I display a circle,
followed by the R for rating,
what is the rating of this movie.
Once I'm done with that, select this guy.
So this is the current
movie that is playing.
If you look at the diagram
that you saw earlier on...
So the current time is this movie.
And I am going to scroll through this.
I'm going to use my Digital Crown.
Scroll through this.
And as you, oops...
As you rewind, you'll be seeing the movies
that have played previously.
And if you go forward,
you will see the movies
that are going to play
in the next few hours.
Okay?
And also notice that at the bottom,
as you scroll,
the rating will change
together with the movie name
that is going to be played.
So if you change this, you will see that
sometimes nine, sometimes eight,
so that depends on the
movie that is going to play.
Okay?
So that is complication data.
So let's move on.
The next important thing
that you can develop is
using this thing called the
WatchKit Connectivity Framework.
Now, a quick recall:
If you look at the diagram
that you have seen earlier on,
your iPhone application is on the iPhone
and your Apple Watch application
is on the Apple Watch.
But a lot of times you want
to communicate with your Apple Watch.
How do you actually do that?
Now in version 1.0, things are very simple,
because this guy is here
and you can directly call this iOS app.
We don't major problem.
But in 2.0, you have a problem.
Both are on different islands.
So how do you solve that?
You make use of this framework
known as the WatchKit--
the Watch Connectivity Framework.
So the Watch Connectivity Framework
supports two types of communication:
background communication
as well as live communication.
Now for background communications,
you have three different modes:
application context,
user info,
file transfer.
For the interactive messaging,
you have send message.
So what are all these
different methods doing?
Let me show you.
So first thing,
let's talk about background transfer.
And it has got this mode
known as application context.
Now look at this diagram.
It is communicating from the
phone to the Apple Watch.
Now for simplicity,
I'm showing you this is one direction,
but the reverse is also true.
You can also communicate
from the Apple Watch to the iPhone.
So let's imagine that I'm trying to send
three dictionaries: A, B, C.
So since this is a background transfer,
when I send a data,
the first dictionary over to this side,
this Apple Watch application
need not be running.
So if this application's not running,
it will buffer this dictionary A.
And then at the same time,
I send B.
When I send B, since
the A is still waiting,
B will override A.
And if I send C,
C will come here, look at B, override B.
So in this case, your Apple Watch
will always receive
the latest dictionaries
sent by your iPhone.
So this what we call application context.
Now what are the use cases?
So this is very useful for
updating your application state.
So for example,
you are writing a weather application.
You want to display the latest
whether onto the glances.
So in this case, the
user is only interested
in the most recent weather information.
So in the case you can use the
application context method.
Next one, background transfers.
If you look at this diagram,
it is pretty obvious.
So when I send A, B, C,
A, B, C will all be queued up here,
so it will not collapse.
So when the Apple Watch application
comes to the foreground,
it will receive the data in the order
that it was sent from the iPhone.
So this is user info.
So what's the use case for this?
Useful for games where
changes on one device
must be synchronized on the other device.
Okay?
Where you cannot afford
to lose a single piece of information.
Third one, file transfer,
and that is when you want to transfer data
other than dictionary.
You want to transfer images, for example.
So in this case, you send your image
together with an optional dictionary.
You send over.
It is queued up and buffered,
and when the application
comes to the foreground,
it is pushed to the application.
So the three past methods
are all based on background transfer.
The last one, talk about use--
Sorry, the use case for this
particular file transfer
is when you want to send images
between devices.
Just ignore this diagram,
it looks really scary.
Okay, now the last one:
interactive communications.
In this diagram, my iPhone
wants to send a message to my Apple Watch,
and at the same time,
once I have sent the
data to the Apple Watch,
I want a reply from the Apple Watch
and the Apple Watch would
be able to give me a reply.
Okay?
Likewise, on the Apple Watch, I can also
send a request to the iPhone,
get the iPhone to process it,
return me the data that I want,
pass it back to me.
So this mode is more exciting.
Why?
These are the two
scenarios that can happen:
When the Apple Watch sends
a message to the iPhone,
and if your iPhone app
is in the background,
or it is not even executing,
it will automatically execute your app,
your iPhone app, in the background.
And you can actually do a
lot of interesting things,
like home automation, stuff like this.
But, when the reverse happens,
if the iPhone sends a
message to the Watch,
and the Watch app is not running,
the communication will just fail.
Okay?
So in this case, you
see that the Apple Watch
has got higher priority.
So what are the things
that you can develop?
For example, you can
use your Watch and say,
&quot;Hey, Siri?&quot;
And then you can say,
&quot;Launch my app.&quot;
And when they launch your app,
your app will be in the foreground.
You touch a button and
lock my garage door.
So the command would be sent to the Watch
through your phone,
and your phone would connect to your
home automation network
and you can unlock your garage door.
So this are the things
that you can think of.
Okay?
So this one of the use cases.
Show you--
Now, I'm not even going
to show you this demo
because when I connect this to my PC,
you're not able to see the volume control
but I have written a very simple example
where you can actually
deploy this application
onto your phone, as well
as your Apple Watch,
and you can control your
volume on your Apple Watch.
So if you click on the +,
the volume here will increase.
Okay?
So if you want to download the source code
it's available in the link earlier on.
You can download and have fun.
I have one demo that
I want to show to you.
I hope I have time.
Do I have time?
- [Man] Three minutes.
- [Presenter] Three minutes?
Okay, so, communications.
Okay.
So I'm gonna show you that--
I'm going to send some data
from my watch to my phone
and I'm going to show
you the different methods
that you can have so you
can see for yourself.
Now, I'm going to show you
the application context.
Remember, if I send three dictionaries,
what would be received on the target?
If I send three dictionaries,
only the last dictionary
would be received, right?
So let me show you this.
If I click this Application
Context three times,
one, two, three,
and then I launch my application,
it will display this once.
Okay?
Now, let me prove to you
that I'm not lying to you.
If I click on this, you will get a data.
If I click on this, you will get a data.
Okay?
So let's...
Oops, let me just...
Let me just queue this--
Okay, this app is queued.
Okay, that's good.
So, the second method, user info.
So if I click this two
times or three times,
the three dictionaries would be buffered
and delivered to this guy.
So one, two, three.
Not too sure whether I clicked
two times or three times
but I'm going to launch this.
Three times.
Okay?
Now, so let's queue this guy
and I'm gonna do a file transfer.
So I'm going to send a dictionary
together with a image over to this guy.
So I click once File Transfer.
If I click on the communications app,
I will get the image
that was being sent over.
Okay?
And the last one,
I can click on the Send Message.
If I click Send--
What I did was I actually
print this out in the upper
window to prove to you that
when I send a message over to the phone,
the phone actually
replies me with some data.
And if I were to launch this app,
bring this up,
you'll be able to see the data
that was sent over to that phone.
Okay?
So because this is a 50-minute session,
it's really quite
difficult to see everything
in full details but
hopefully that gives you
a good flavor of how to communicate
between your Watch app and your iOS app.
Okay?
And the sample code for this one is again
available for download.
So download this,
use this as a template,
you'll be able to send data
between the two devices.
Okay?
So I think I have one final slide.
Okay, so what are some of the suggestions
to develop your killer Watch apps?
First thing first, I know you
have a lot of mobile apps,
but don't cram all the
UI in the mobile apps
onto the watch, okay?
Because that's not going to work.
So think of the watch
as an extension of your phone
and use it to enhance the experience
of your mobile app.
So home automation, like
I mentioned earlier,
is a very good candidate
for your Apple Watch.
So things like, you can
actually unlock your garage door
very easily using Siri,
and then you can press the button,
talk to your phone,
your phone activates your
home automation project.
So on and so forth.
Okay?
Okay, so I think I am almost at the end.
So, questions?
- [Man] I don't think, actually,
there's enough time for
questions right now.
- Okay.
- But I'm sure that probably you'll
answer questions up here
afterwards or something but--
- Sure.
- Time's up, so thank
you very much Wei-Meng.
- Thank you.
- And please give him a hand.
(applause)
- Thank you.</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>