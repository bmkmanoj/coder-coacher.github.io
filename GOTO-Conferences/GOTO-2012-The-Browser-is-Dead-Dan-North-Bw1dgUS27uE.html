<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>GOTO 2012 • The Browser is Dead • Dan North | Coder Coacher - Coaching Coders</title><meta content="GOTO 2012 • The Browser is Dead • Dan North - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GOTO-Conferences/">GOTO Conferences</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>GOTO 2012 • The Browser is Dead • Dan North</b></h2><h5 class="post__date">2013-03-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Bw1dgUS27uE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is a experience report this is this
is a personal reflection all views are
expressed on my own all historical
references are entirely made up
particularly anything involving dates
what else okay I'm very excited about
web development okay that's the too long
didn't read version if you need to get a
coffee you can go now because that's the
whole talk all right I'm very excited
about web development and I'm a bit of
trepidation with this talk because this
talk involves showing you stuff showing
you things in browsers and that kind of
thing which I usually do in talks so
what I've done is I've installed a very
expensive device called a Scott
Hanselman and he's sitting in the front
row if anything goes wrong apparently I
just I just squeal and it's
voice-activated
like a scotch grab it jogger and the
only comes rushing out and rescues me so
I'm feeling a lot I'm feeling okay I've
got a good feeling about the rest of
this and so okay I have 50 minutes to do
a one-hour talk that in the run-through
was about three hours so I'll start the
talk was going to be cool well is called
the browser is dead but that's only
because this title slides really small
it's actually the browser is dead long
live the browser so okay who's doing
enterprise development enterprise app
stuff so you're doing web things but
you're doing them you're not doing them
for millions of people you're doing them
for tens of people or possibly hundreds
of people but those tens or hundreds of
people eat in the same canteen as you
okay and they know your email address
and they know your manager all right so
that kind of world not millions of
people who's doing that enterprise-e
enterprises right you lot you're my
audience okay there will be no all right
here's how you scale this for a million
people and here's how you I don't do
that I'm not in that world I've been in
the world of enterprise development for
about money
yes a 20 years delivering systems to
internal stakeholders so they're a small
captive group of people and I work with
them so here's the thing um over I since
the since the interwebs started or run
lot since the interwebs started
since the world wide web started and
it's very important to make a
distinction there the Internet has been
around for a long time the world wide
web much more recently we had the
browser Wars we had lots of different
gangs being different browsers trading
different browsers and they had their
own gang language and their own gang
dialects and they spoke to each other in
special ways so Tim berners-lee
unwittingly unwittingly founded the
first gang I'm fairly sure he didn't
realize the scale that the World Wide
Web was going to get to he wrote a her
own app called
world wide web because he's an academic
and they tend to be quite literal about
naming things it was 1990 not at
basically between 1990 and 93 nothing
happens because like 20 academics are
using this thing but then Groupon NCSA
produces a browser called mosaic a
mosaics like it it's a graphical browser
you can click through things and you can
you know the Internet's linked up or the
World Wide Web is linked up you get next
to the following year Netscape produces
navigator which is based on mosaic
because like Tron turn it into a
commercial product but they they they
there's a there's a weird story here
that they started off saying it's going
to be free because all Internet software
should be free and then it had like a
big asterisk on it
asterisk not free like that so but
anyway the following year Microsoft
noticed that the world wide web was
happening and they went whole we should
have an opinion about that and out came
internet explorer so that happened and
then the following year opera produced
opera I'm just putting that there for
completeness really because both the
opera guys live in Scandinavia so what
by opera guys I mean users of opera and
then so there's a lovely quote by jamie
zawinski solinsky's law every program
attempts to expand until it can read
mail ok happy max you know happened to
netscape navigator it grew and grew and
grew how do i add value to my to my
browser do i make it a better browser no
I put an email client in there everyone
wants one of those so Netscape
communicator happened then nothing
happens then time passes ok and then
2004
motor than the new Mozilla Foundation
releases a thing called Firefox Firefox
originally called Firebird being a
reference to a phoenix rising from the
ashes of let's get navigator like let's
just pull the browser out the thing that
we thought was cool and and redo that
there's a big gap here and then again a
few years after that Google produced
chrome keep an eye on that date that's
quite an important date and so Google
produces chrome so these are gig gangs
this is like laying out that the turf
we're going to have the wall so what is
the tech look like well the tech looks
like this for about the first bunch of
time all you had was HTTP HTML and then
cookies came along a couple years into
that we need some kind of client-side
state because HTTP is stateless request
response forget request response to
forget so a cookie is SSL that's
interesting data point that means people
are starting to use the web for things
that they want to be secure
okay that's handy that might mean that
business is happening on it and then
JavaScript came along in that time as
well which was a way of doing stuff in
the browser you'll notice that my slides
tend to be a tiny bit more Spartan than
Scott's slides otherwise I have an
animated gif in here doing cool
JavaScript stuff so you have to imagine
that 1996 the browser gets Java applets
flash and XML 1996 was a bad year for
the browser
yes that's it thank you that's a
horrible thing to have happen to anybody
so now I'm 1987 HTML for happens CSS
happens this is interesting people are
starting to take the browser now
seriously the same well stuffs coming
down to your browser we should be
separating content from styling and you
know the web designers have you're
saying this for about five years and
those been listening because their web
designers but see but this is important
I like the fact that CSS exists says we
can talk about style independent of
content all that's cool
all 1999 I acts for the Dutch Oh Ajax or
one else XML HTTP request do you know
where XML HTTP request came from
Microsoft even more so Microsoft Outlook
Outlook did a good thing
whew okay so the Outlook Web App in fact
the Outlook Web App team that you're
trying to use Outlook in the browser and
they realized that stuff message stuff
was going backwards and forwards um and
the message stuff going backwards and
forward causing a page reload each time
is just really sucky so they came up
with this idea of an asynchronous HTTP
request that you could fire off from
JavaScript in it when you get an XML
payload back and then basically for the
next half a dozen years we had graphics
we had a few attempts of different kinds
of graphics this is my graphic scare
face ok I'm not that guy so let's carry
on so now 2008 to now everything else
everything else it's interesting in the
browser happened in the last 4 years
ok remember that date 2008 Google comes
out with a browser start shaking things
up a bit
so you've got to D and 3d graphics
transformations and WebGL and css3 and
this is still my graphic scare face ok
however this is what I'm sorry to get
excited client-side storage I can put
proper stuff I can have state that isn't
just a cookie I can like I've got a key
value store on there on the client-side
that's pretty cool
traditionally it's I asked my browser to
do something it sends a request the
request comes back that's how the that's
how the mental model of the web has
worked we now have this idea of server
sent event
so WebSockets which is very very high
density full duplex IO so for each TCP
packet there are two bytes of overhead
it's incredibly efficient event source
which is a much simpler model but it's
and it's like your asynchronous style so
they like at home your broadband is very
very slow up and very fast down because
that's where most of the stuff comes you
don't emit video that often event source
is the same model it has given that
you're mostly pulling stuff down it's
like it's the natural extension of like
long polling so here's your tech and
then ACMA script which is like
JavaScript all grown up and proper Dom
manipulation and those kind of things so
all of these have happened in our in the
last four years and so okay so where was
I what were I've been doing in that time
so I my background is C in UNIX and C++
and in Perl
sadly then Enterprise Java for a bunch
of time so 1987 I went to college I was
there for four years and I was on
pyramid OSX which was the proper OSX
okay that's the real one then what you
kids are on it was it was an early UNIX
I had things like elm for sending email
I had telnet and FTP for moving stuff
around and logging into things so this
is the internet the internet is still
sending data around it just wasn't
sending later on as HTTP so the internet
is decades older than the web and then
for about I know a couple years then I
was on Usenet I was on Kampf legacy and
company X questions and comp UNIX
wizards and learning learning learning
about stuff so so these are these are
news groups Usenet is like the precursor
to stack overflow but with crappy
graphics and the way you gain karma is
by answering loads of questions really
helpful in people getting to know who
you are it's crazy but it seems to work
so in 1992 I remember this vividly the
first time I saw the web so I saw the
labels around my friend Phil Davis his
house and Phil Davis is a UNIX GUI dude
and and he said Dan you've got to see
this thing it's the World Wide Web but I
said what's that Phil this is looking of
a screen of text and some things are
underlined he says that text is coming
from a university from like a college
site I said okay
says now that I click on here and now
that's coming from a different college
site I was like huh that's nice he said
no no you don't understand I was like
oops yeah so I missed that one oh I wish
I could talk to me in 1992 997 was the
first time I saw Enterprise Java and
this guy at work I was working at a ISP
at the time and I moved in called
stuffin and Java just come out an
enterprise Java came along and this guy
was raving about it so I was got JDBC
and genuine in there and I was like man
and you know just saying I was right um
so so missed one got one um so here's
some stuff I'm not so this talk is is
some rules I've learnt and a little bit
of code showing some of that stuff so
what's the browser for okay so my model
of a browser up to mid zeros okay
how do you what's the right word
collective noun for the first ten years
of the tooth out I don't know naughties
so browser is rendering j2e servlet
output that's what it's for at work and
at home it's for displaying brochure
websites blink marquee tag tag okay
magenta I mean suddenly some stuff
happened and this again is my personal
recollection of this stuff other things
were going on these are the things that
I remember really landed for me I was
using a single Street map at the time
which was like it was like little
snippets at the eh-2-zed of London like
basically like a street map and you'd
put in a postcode or whatever and it
will show you a little bit of the street
and it looked just like the eh-2-zed map
but on your browser it's kind of cool
and then Google Maps happened and I was
like hang on this is a drag II drag and
I don't know I don't know if you
remember the first time you clicked on
Google Maps and drag the mouse off the
edge of the browser and the thing kept
going
how does it know it can't see any more
if your Google Maps looking out of the
browser the mouse has gone okay
so I just thought that was magic and so
I'm using a hotmail and the a webmail
client and then Google Mail comes along
and just blows everyone else away and
you can see what's happening during this
time is they're driving the technology
forward so Google gears which is proper
client side storage occurred because
Google Maps is Google managed your
mailbox and they needed to put your
mailbox somewhere yeah so they came up
with this technology Google Docs this is
not a family Google thing I've come to
this and that Google Apps disrupts
Microsoft Office everyone's using
Microsoft Office apart from the seven
people who are trying to use OpenOffice
for ethical reasons and hating it
okay I was one of them I I still I love
it as an idea I just wish they would
take all of the features out and make it
work and and what I think it is this
they're not a search company they're an
ad company for an ad company they've got
a really smart tech um but okay
so here's what I learned the first rule
the first thing I learned is everything
is asynchronous our mental model of a
browser is based on a mental model of a
green screen or certainly as developers
so on a green screen I type something in
it goes off to the mainframe the
mainframe does some stuff and I get a
response and I get output on my console
I type something into my URL or I click
on something in the browser a request
goes off a response comes back and it
gets rendered okay but that isn't what
happens and as long as we model it like
that we're going to fail we're going to
miss the point of it so everything's
asynchronous
when you send a request off what happens
if some stuff comes back as soon as the
browser can figure out what the other
things are it's going to need it sends
off a bunch of other simultaneous
requests and says hey I'm going to leave
that picture and leave that favor icon
little thing in the corner I'm gonna
need this this this isn't this and they
will come back all kind of scattergun
different you know not in the sequence I
asked for them and I wait so I've got
them all back but I render your page and
if I'm clever I can be doing some
pre-emptive rendering and space this
really clever stuff going on in browsers
okay so everything is asynchronous and
so that means any kind of request
response model is just selfish
programming so think of it in terms of a
bar okay cuz
we had a beer related talk this morning
it was quite fun I do not put off
talking about bottle necks using beer
bottles so here's what happens is in a
British I think if you guys well you've
got a nearly British pub just down the
road here and you go in there and I love
that they act like a British pub which
is you have to go up to the counter you
wait and then eventually so what would
you like oh I'd like some beers please
and they go from the get the beers one
at a time then the next beer then the
next beer and then eventually your beers
arrive and then you hand them some money
and now you can go off okay go to an
American bar and this happens you go in
with your buddies and you sit down you
start your evening a beer fairy comes
over would you like some beers yes I
would like these five beers away goes
the beer fairy we carry on we're not
blocking okay we're just carry on
talking some time later the bits they
might even come out of sequence they
might bring three of them and then two
of them in a bit okay and the three who
book who have their beers do they wait
for the other two they're halfway
through they're polling oh I love none
of these um so request/response is just
self of programming it kind of has the
meta message you can wait for me because
I'm important okay you've asked me to do
this thing you block there and I'll come
back to you when I'm good and ready okay
so the corollary to that is that modal
dialogues are rude anything that pops up
says I know that the most important
thing you need to be looking at right
now is this so I can put it in your face
okay and the second curling is the
surprise modal dogs dialogues or even
reader Oh Oh luckily luckily that's
that's only fake because how irritating
is that yeah that was at a conference
last week in Cambridge and that happened
in the middle of a talk and it happened
in the middle of a talk by a UX designer
which I thought was desperately ironic
and really unfortunate and then the
Machine rebooted thanks for knowing
what's the most important thing for this
machine to be doing right now for me
that's great I'll just stand here walk
around for a bit right was how the next
ten minutes went um so okay so here's a
lot of Sarah have this is one of the
people reasons people like node people
like node and these single event loop
models because you're not allowed to be
rude in that way okay the culture is
don't be rude is giving a callback or
you know respond to an event plus and
then if you come across the acronym in
Swan it's from the early days of the
Ruby community
it stands for Matz is nice so we are
nice okay it's about some apps is a guy
who invented Ruby and he's a nice guy so
that's why the Ruby community is nice
I'm extending it to rinse one which is
Ryan is nice so we are nice and Ryan
tells the guy that invented node but
anyway if you just assume you're not the
most important thing and you're going to
get somewhere right I need to speed up
some tons of stuff talking about so I
want to look at that response the thing
that came back so ever sends it to me
because you're asked for it I say yeah I
have this thing yes you can
or maybe just cuz it likes you yeah I
think you should have this thing but
it's no use unless you can see it okay
so the browser is going to render it for
you so what does it look like it looks
like this except this is not a page this
is not a page what this is is a big
string okay with lots of angle brackets
in they get streamed over the wire into
your browser and once your browser gets
all of the string and there's all the
psyche as I'll I can turn it into a page
remember it for you okay so what we're
really doing is we're templating because
this thing here is a little app I'm
going to write and it's a coffee shop oh
sorry it's not a coffee shop it's a
venue guide so I'm in our horse and I
want a venue guide I want to know what
good coffee shops are around here so
what do I do
I I'm going to make a little app that is
going to have lists of these coffee
there's anyone in here at the moment so
you can see this URL is going to be a
list of things this Li here this
probably isn't in the template on the
server this was probably dropped in by
some templating language okay so that's
that's what we did
I want to briefly talk about templating
so in j2ee again this is my experience
of this with son with JSP boo hiss and
then velocity came along to make it all
better
ray and velocity became turing-complete
and had macros and all sorts of crazy
stuff boo hiss and then have string
template which was simple and basically
all these things compiled into a
function that emits HTML that's what
they do then Ruby on Rails came along
raus had ELB and mustache and partials
and things and they can planet to a
function that emits HTML okay great
but luckily Django has the Django
template system which there's two things
it says that the placing guys are doing
the same thing and that the Django guys
aren't very creative about naming things
and the Django templating system guess
what that does a positive function it
makes a CML okay so what we do is over
the years none of the years we try and
get better at doing server-side
rendering of HTML templates okay I think
we're solving the wrong problem okay um
we're doing the template and data
combining thing to emit HTML on the
server because that's where we assume
the grunt power is that's what we assume
all the information is because we forget
that what we have is a full pretty much
operating system in the browser
separation of concerns 101 right how
again do this so here's the second thing
I've learned and there's made web
development very different for me over
the last few years the DOM is the
template I can do stuff in at the Dom
okay let's have an example this is the
point at which I put the the the
Hanselman device on standby okay right
and I see if this works
so that's the first thing I want to do
and that's the second thing how we did
oh hey you can see me look at this right
git checkout x1 say I've done all my
little steps rest apps okay so all right
oh my god I've got by the way just to
show you how easy this is
I'm handicapping myself by using Windows
alright
I'm using a DOS prompt I'm using notepad
plus plus I'm using no fancy IDs tools
come online trickery anything okay
that's how easy is to get started with
this stuff so I have an index.html let's
say start index.html oh there look
that's my app and we can view source on
that app and and we can see that's it
this is my this is my guide okay so this
is what we're going to have now let's
assume this bit here because it can you
see my mouse yeah is that working raw so
this thing here is the bit I want to
template right so this is for every
single one of these I want to put a
list item in here so what do I do well
I'm IIIi am NOT Scott I will not stand
here on taxes for you I'm a cheap okay I
do this that's how fast I can type
because now I can go like this
Oh still looks the same but what I have
here now is this list item here this Li
is just a placeholder because down here
I have a new section and the section has
a special inline start and I don't
usually use inline styles but this is an
exception where I say I do not ever ever
ever want this section to appear so the
display is - style is none and that's
important rides anything else and it
slide here I dump little fragments of
HTML okay now by the time the DOM is
loaded that exists as an object in
memory in the in the browser's memory so
what I can do is I can have a little
function here called add summary item
that I give it an item an item has a URL
and has a description and what this
thing is going to do is it's going to
use a little bit of jQuery magic here
it's going to say find the container
find the finder ul that contains this
thing then find that item template find
that Li that was just floating around in
that hidden section down there okay now
what I'm going to do and this is all
jQuery okay this all Pixies do this for
me I'm going to clone that item I now
have two copies of it one of them
floating around not attached to anything
okay that one that I've just cloned I'm
going to pop that on the end of the
container what that does is it gives me
a new list item okay and then now that
new item I'm just going to drop some
valleys into I'm going to find the thing
that's got a class of URL and drop an
HOF in I'm going to find the thing
that's called a class description I'm
going to drop some text in that's it
okay so let's see if this works down
here now hahaha thank you Microsoft
thingy viewer you can go down there
thank you Scott for some excellent
teaching last night okay this is my
browser okay and in my browser I can
type add oh right I've got like I've got
an idea here I've got a repple I've got
a thing that has autocomplete okay
inside
Rome inside Firefox modern browsers have
talling in them it's really exciting so
I'm gonna add a summary item let's just
zoom back out again see yourselves going
on okay here's Bob's cafe ad summary
item and I'm going to say URL is Martin
Fowler comm he's just opened a coffee
shop and description is Martin's coffee
shop okay BAM oh look how exciting is
that
now you'll notice none of this is going
on on a server anywhere this is all
inside the browser yeah I'm deliver I'm
manipulating the to the and for those of
you who already do this Matt right for
me I was like whoa what hang on so I can
start doing this outside in style
development that I love to do without I
don't even need to be anywhere yet on a
browser okay so it's not I'm like I'm
pretty excited by that let me just see
where I'm going next okay so right let's
leave that for a minute and let's go
back to our world of Dan and and
PowerPoint and I'll go back right
there's an example so here's the thing
jQuery knows about Dom's
so you don't have to okay everything
about finding stuff in the DOM is just
CSS selectors you don't need to learn a
new thing if you know how to do the the
hash blah for an ID or a doc blah for a
class you can find stuff okay and jQuery
lets you iterate over those things they
lets you group things as you do all kind
of clever it moves it around and what
you're doing now is you're manipulating
an object graph you're not sticking
strings in other strings okay this is a
really powerful thing to have in your
back pocket so the observation I have
and this is the one you can take nothing
else away from this tool learn
JavaScript okay absolutely learn
JavaScript there are people who knock
JavaScript they're a nasty dirty dark
corners of JavaScript don't use them
okay do it enough CoffeeScript
- no what good javascript looks like
then stop doing CoffeeScript that was my
experience III wrote letter CoffeeScript
then I decaffeinated it all I turned it
all back into regular JavaScript so so
where does that leave the server then so
now I've got my but also something else
to bear in mind from the browser
perspective is if that stuff's if the
page furniture if the outline if the
template is coming now from the server
and I'm going to populate it with data
once I've got that once HTTP kicks in
and says are 302 I don't need to send
you all of that stuff every time you
refresh this page I can tell you that if
you've already got it hasn't changed so
now I just send you the data so you're
making more performant things by doing
less how cool is that so where does that
leave the server serving data it's not
serving streams of strings with angle
brackets in it's just putting the stuff
in there yeah so that meant a new
generation of app servers came along
Sinatra was the first one I saw it in
Ruby said you know all this stuff that
rails does what if all you did what if
all you did as a web container was you
get a URL and you send stuff back and
the stuff that goes back is mostly Jason
it's mostly just data over the wire you
know or static content what if it was
just that and so this tiny little thing
called Sinatra came along and was that
flask is a similar thing in Python it's
a really small fits in your head web
container okay Joe warns recently wrote
a Java serve Java web server who in
their right mind into in 2012 would be
writing a new java web server surely
that sort of solve problem ya know
because every single java web server out
there is a servlet container is
massively complicated at ax to people
because that's what you want you want
HTTP n stuff back okay and the stuff
back might be XML might've might be JSON
like these and whatever it is a static
content but that's mostly what you want
the servlet thing that's a that's of
vestigial appendix okay and then Express
and connect in the node.js well these
are like these small little stacks that
just do this stuff really well that's
where the server is so that's my next
rule and it sounds really obvious but
it's incredibly liberating ok the server
serves data that's all it does what does
that mean that means it can do it really
really well it doesn't need to also be
the thing that does templating and
merging things together and also the
thing that does caching and also the
thing that does oh right it can just be
a server of data which makes it a much
simpler thing to reason about it's
serving data not serving object ok
certainly not transfer objects transfer
object is an oxymoron there is no such
thing as a transfer object you transfer
data you transfer representations of
things let's have an example invoking
Hansel man ok right so what happens next
next is to show you what's happened
there is I wrote a web server to serve
up mike it might my app and here's my
very complicated web server ok I was
going to pop it open in the editor but I
just realized it probably not worth it
and that's what it does and it's even
got a logging line in it that it doesn't
need that
that's just so we can see what's going
on now I'm doing this in JavaScript you
can do this at home in Python and Ruby
it doesn't matter because all you've got
to do at that end is serve data it
doesn't need to be clever there's a
lovely little tool called always-always
and what always does is it starts a bit
of JavaScript and then every time it
sees a file change that it depends on it
restarts it some abusing it so what does
this mean that means now my browser
which is currently on file barbar if I
go to localhost 8080 offices so exciting
oh it's the same thing whoo ok now this
is good and let's see what the sources
of this okay so this is still the same
page this is still a page with some
static stuff in it and a function that
if I was in the the the Chrome's repple
I'd be able to add things to it right
let's make it serve data let's make the
server serve data how do we do that
guess what we cheat right so now now we
are going to look at the code because
you can see how much more complicated
this has got now it does all of that ok
so let me talk you through this app get
slash summaries guess what that's about
that says when someone does a get on
slash summaries you should do this
function what is this function D well
let's see rez is the response so we're
probably setting a header and we're
probably ending and we're probably
sending some stringify JSON of a data
structure one of the things that I've
noticed with this style of programming
is and again this isn't about node or
JavaScript particular like what in
Python as well is the code I look at on
the server side now is about solving the
problem there's almost no code on the
server side that's about all the
plumbing and infrastructure and wiring
and all that nonsense has gone away
because the server just serves data
that's all it's doing and again it's
like it it's so obvious that it's I know
it hit me like a facepalm but so now it
does this and they're not let's also
have a look in while we're hitless have
a look in the oh I've move things into
static now so we can serve them up there
we go
let's have a look at my index.html come
on there we go so I'm index.html I've
added a couple of functions here I've
added a function here called set
summaries which you give it a list of
summaries and guess what it does it
finds the UL and it empties it and then
iterates over the summaries and it drops
each one in so I get a list of summaries
and it will replace the summaries in
there with lists of summaries and this
magic here this dollar function from
jQuery what this does is it says once
the page is loaded once we've got all
the Dom they're ready to monkey with run
this function and this function says
dollar dot get jason says make it make
get requests on /url
on slash summaries and assume the thing
coming back is jason and unpack the
jason and turn it into objects and hand
it to me dollar get jason talk about
power to weight blimey right and then
once you've got it by the way
all set summaries with it yeah so now
it's gonna so this page is going to load
it's going to go off the server's can
deliver let's see what happens so 500 so
now I've got this late well let's take a
look again let's you source alright
let's see what's going on in here oh
hang on where's my Cafe cafe and cafe
blow it's not in there right this thing
here this thing here is the current live
Dom right this thing here is just the
stuff that loaded you see how they're
completely not the same thing one of
them is the source of the page but it's
the instruction to the browser of how to
assemble the page initially and give you
a Dom the other one is a live rendering
of a Dom so how do we see that thing
well we see that thing down here and
again this go like this we see this
thing down here now here I can and again
this isn't this isn't unique to Chrome
Firefox does this as well there's reason
I'm not mentioning into Explorer so now
in my summary ah right here's my two
summary items and there's one of them
and there's the other one okay so this
is live
okay which is kind of cool so now I can
oh and also have to go over this it
highlights the bit I'm on so that
there's there's tons of tooling in the
browser that makes this really nice and
easy for me hooray I think that was all
I wanted to say about that oh okay so
that there was one other thing which is
if you look at this page now this page
which just fits on the screen is almost
all JavaScript and hardly any actual
HTML yeah so what I'm gonna do is
refactor that because Martin's here and
that's what we do oops that's irritating
and it's good there we go right so git
checkout x5 okay and then back into here
right so now I've pulled this summary
out to a summary is what I tend to do is
all the stuff that actually interacts
with things I still leave in the page
because then you see that page and you
can see what's going to happen with it
as soon as you've loaded it but all the
functions that do things they're often
they're off in little source files okay
and we can look in summary DOJ's is the
same
it's just how the guy so that's the only
change there but now you can start to
see how this app is going to evolve the
app is going to evolve such that the
template the outline all that stuff is
going to be in HTML it's going to be
clean it clean well marked up
semantically rich HTML html5 gives you
things like sections and and useful
words rather than as div div derivative
any client-side behavior is going to end
up javascript files in my instance any
server-side behaviors also going to be
little JavaScript files if I discover
that the stuff that's coming over the
wire I'm doing loads of JavaScript
manipulation before I give it to the Dom
maybe I could just move that straight
back to the server and have it do that
before it sends it me I can make that I
can defer that decision if I've got the
same technology on both sides so that's
a nice thing so let's go back to here
yeah right
so 7/8 it not data right less of an
example so jason javascript object
notation know it's JavaScript structured
data notation which doesn't roll off the
tongue as well okay but it isn't object
get over objects you're sending data
around um okay so how are we doing it
still looks a bit 1999 let me show you
my accounts there for now so it looks a
bit 1999 so remember I said I was
rubbish at design right I'm gonna show
you initially how rubbish I am at design
and so back to here and just to really
rub salt into this oops so it's really
rub salt into this so this is already my
fairly ugly web page okay I'm going to
add a form an add a little form that
allows you to add to create a new venue
summary okay so I'm going to do that for
doing checking others oh this and I
reload this page how sexy is that how do
you like them square borders and stupid
things and stuff and whatever okay this
is this is how almost all of my web apps
have ever looked I'm not that guy okay
luckily some very very smart people at
Twitter are that guy and they open
sourced a thing called bootstrap that's
not the only one of its kind again but
it's the one I find by far
easiest and what they have is designers
and what designers do it's not about
gradient fills and curve but what they
understand is balance so they understand
which fonts look good together
they understand what proportion of small
small should be compared to a standard
size font they understand how to line
things up in a way that makes sense to
the eye because that's a whole nother
domain that I'm not I don't have an
expertise in so I fake it and what I'm
going to do is this view source on here
okay so I want you to look at this and
remember it okay
actually I don't that's right and but
now I'm going to do a one local one line
change
okay watch that do you see that that one
line change here okay that's the line
line five I added a single style sheet
now whoa I mean it's still not great but
whoa okay now so this the only markup on
here is so this is where as h1 small
I've just said it's small and bootstrap
I said ah I know what small means small
means I'm going to make it a smaller
font I'm going to keep the same width
and there's a conversation about kerning
we can have and I'm going to gray it
slightly but I'm gonna gray at the right
amount so it looks like wow I don't even
know how to start processing that what I
do know is that I write the word small
and that happens okay and I'm down with
that
there but there's lots of subtle stuff
as well so so that this label is for an
arat now let's hit lovely blue glow hmm
only that again hmm okay it's gorgeous
and that blue complements that blue I've
done nothing on this about coloring on
this at all it turns out that this blue
is in the same part of the eye range
that looks sympathetic with this blue
and the mouse over blue the slightly
darker blue again is all part of the
same palette so they've come up with a
palette of colors that work together
okay
yeah I don't even know how to tell you
how cool that is
and and also you can this all up for
grabs so we're you don't want a whole
bunch of sites all look exactly the same
and what you can do is they give you the
hooks so this isn't written in CSS this
is written in a
super set of CSS called les which is
kind of it's structured it allows you to
do hierarchical stuff and it has
variables and really simple extensions
to CSS that make it more usable and what
bootstrap has done or Twitter's done
very cleverly the bootstrap is they've
given you the hooks at the top so
typically just variables and values that
you can change that mean that you can
create a still completely self
consistent different color scheme or
different styling or different layout so
and this is so remember all I did was
this one line change now when I'm
designing apps like this I typically
have the jquery api open in one browser
tab I have bootstrap open in one or two
other Brooke book tabs I typically have
underscore which is a lovely functional
programming e-type library for
JavaScript so I have a bunch of things
open and after you've been using this
for about five minutes there's a bunch
of little things that you pick up so I'm
just going to show you with lit and when
I was putting this together it took me
less than 10 minutes to make it go from
here to what you're about to see which
is eight and again before I do that I'll
just show you this the source what
happened here so what did I do but my
form this that the label the the label
in the input are still here
but what I've done is I've wrapped I've
wrapped the label and the input in a div
called control group so now bootstrap
knows that these two things are related
they're part of the same control and
I've told it that this one is the
control label and I've told it that this
one is the oh I didn't tell you that one
what's the other thing
but basically control go be in control
label you need it also has this concept
of a well now a well is it's just an
area that's kind of slightly recessed
this it's not obviously two screens flat
but it looks like it's slightly recessed
they haven't quite got that working it
and but so these are the kind of things
I did and what it turned out looking
like after about five minutes is that
and I'm like that looks pretty
respectable but there's lots of subtle
things going on there that are pretty
respectable so not only do I still have
my lovely blue glow but you'll notice
that these are lined up these guys here
are right justified okay so that may
give you a nice line in the eye here
there's our like an indenting from here
there's a button of
margin here and a margin on the left and
then in this inner well would you just
see because there's a tiny visual cue
with the line
yeah it's not a big solid line but it's
not not there um has the same indent and
the same and the same drop just the
whole thing is put together really
aesthetically nicely and you get this
for not quite free but for really really
close to free and so these sort of
things allow me to move forward and I
guess this is probably the theme of the
whole thing is I've never felt so
empowered right to just write apps and
just go and I feel like I'm in control
of the whole stack there's not stuff
that escapes me whereas I know using it
just rich desktop clients there's so
much stuff I've been using I used swing
in anger for many years there's a ton of
stuff I don't know about swing okay I
speak to dotnet guys who have a similar
experience with c-sharp um okay that's
all I wanted to show you with that so
back to ya right so bootstrap knows
about stylings so you don't have to so
um there's a theme here right and the
theme is rule 4 which is someone's
already solved it whatever it is yeah
you're about to try and do with web apps
you enterprise folks right other people
have already solved it which is
fantastic because it means you can focus
on the problems you're trying to solve
and it means a little bit of googling a
little bit of Stack Overflow and a
little bit of maleness and all the
answers are there and also it has to be
said for open source the docs to these
things I'm describe it I'll spectacular
I mean really really like tutorials I
mean just the official Doc's are like
they're do tutorials and API reference
and all that stuff is really rich and
then there's tons of blog posts and
stuff getting started so someone already
solved the Dom right jQuery jQuery
solves the Dom it means like it means I
can control it sizzle is the subset of
that John Rzeznik pulled out the subset
of that which is the the CSS selector
part so if all I want to do is grab bits
of Dom and do stuff with them in
JavaScript and I don't need any jQuery
for anything else I
just use sizzle which is tiny Zepto is a
similar thing so it's jQuery flavored
but it's much smaller and it's designed
for mobile devices I didn't even talk
about like data binding data binding is
again spectacularly easy there's lots of
models for this
there's knockout which is more
traditional data binding you tagged each
of the things that you want to be data
bound into some JavaScript code and
there's callbacks and that kind of stuff
backbone is a bit more inside out so you
start with the data and essentially sort
of bind outwards from that which is
great if you're going to be putting an
app on multiple different platforms
because the your view model if you like
them the model of the stuff in the in
the client side is the same on all the
devices the rendering of it
remember the template is different
because we're templating well the
template and one is going to be add on
the template another is going to be a
different thing on a mobile device a
angular message angular goes one step
further angular says imagine the Dom was
the the it one given the Dom is the
interface it's a bit crappy it's a bit
missing of certain affordances that
would make it a really good event source
for instance so what we're going to do
is you have your you load your page you
have some angular code and angular
effectively pre processes your Dom into
an another Dom which has all these
things hanging off it and that's what
gets rendered I haven't fit it in my
head yet but I think it's quite clever
JavaScript okay so everyone bashes on
JavaScript oh it doesn't do this it
doesn't do that it's different in all
the different okay that's true until you
use something like underscore if I use
something i underscore all of my
anything that's sequency so so Maps as a
sequence of key value pairs or lists is
just a sequence of elements I can use
all of the functional affordances unlike
I've got map I've got reduce I've got
inject I've got all of those things so
so and zip and all these things are just
built in to underscore so it gives me a
uniformity so I don't need to worry
and again enterprise software okay I'm
not designing for people running ie7 or
whatever we just simply say we're using
Chrome using Firefox world test for
those and and if you're not using those
then then you can't use our apps and
that actually works pretty well in
enterprise as long as people see what
they're getting they go oh watch if that
means that we can get this stuff this
much faster
much better quality yes sure we'll have
that and we found really I find it's
been very easy to get the adoption for
that what else CSS
we've got bootstrap but that's you know
it's one of many the skeleton is again
Scott was telling me about 960 grid so
nice texture grids name came from comes
from the idea that if you model a screen
that's 960 pixels wide then it's much
it's really easy to think in terms of
like quarters or fifths or or sixths or
whatever it divided 960 divides by loads
of stuff so it means you can have
sixteenths of a page and they all look
the same so it's a good grid size to use
and bootstrap took that idea and they
said okay we'll have a 960 grid but
we'll make it really easy to do chunks
of it
so things I didn't talk about and I'm
nearly out of time these are things I
knew I wasn't going to get to talk about
so I thought I've mentioned anyway I
didn't talk about URLs in history so
there's a lovely model in html5 in
modern browsers where when you change
the hash you get an event fired okay so
the hash is purely client side so I can
as I'm clicking around and changing page
state I can be updating the hash okay
and that means I can take that link mail
it to someone they can click on the link
the page can load it can look at what
it's hash value is they can go are you
need to be over here with all these
things so each change in page state is
still trackable and the great thing with
the history API is I can move back and
forwards through those hash changes and
you can do other stuff as well so now
think about this think about if in your
code you fire out has change you change
the location to say oh I want to change
this hash value that itself of fire has
change event which causes a cascade of
stuff so you can make your page update
itself from within itself there's really
cool event source and sync stuff you can
do until the browser was an ID I
mentioned I mentioned just to really
briefly about some of the things you can
do with Chrome and Firefox they are
staggeringly powerful I can look at CSS
live in the page I can change the SS
values and see what happens if I change
margin sizes and colors and all that
kind of stuff it's a it's not just a
rendering engine anymore okay
the community I kind of mentioned
I've never seen more friendly people
okay everywhere I go in the html5 world
whether it's the you know the v8 guys
doing the Hulk or C++ micro tuning or
the nodejs guys or you know folks like
Leo Viru and also the CSS army out there
who who they don't want to show you how
clever they are they want you to design
great websites how about the Hat they're
on your side and I mentioned the game if
you have JavaScript front and back-end
then you can move stuff around but this
is a really powerful model it's really
proud of a programming model so so what
do I learn what do I learn so the first
thing I guess the DOM is a template okay
use it like a template learn to use it
like a template suddenly loads of things
become possible everything is an event
okay everything's asynchronous
everything's an event you receive a
venturi process event in math Martin
Fowler who's sitting at the front here
was was talking about the idea of event
sources and event sinks that's about
million years ago you know we're just
catching up right everything is an event
source and everything is an event sink
and if you model your world in that way
then you've got things like replay and
rollback and all these kind of things
you almost get for free and it turns out
that the JavaScript single event loop
world lends itself really well to that
kind of model you can work truly outside
in you saw how far into this thing I got
without even needing a server yet
without even needing to serve the page
from a server yet right you can get a
long way just by tinkering in in the
browser and the thing I like it pays to
be late to the party because I come
along and everyone's done everything how
do I solve this hard problem typed
ah okay I just copy that thing into
there and they use this thing and it all
works that's great thank you um so
that's it go code Web Apps
thank you I've got a minute for
questions no it's Coffee time
get your coffee thanks</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>