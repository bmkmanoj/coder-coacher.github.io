<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>GOTO 2015 • 50,000 Lines Of Code to Brew a Coffee • Martin Comfort &amp; Michael Fait | Coder Coacher - Coaching Coders</title><meta content="GOTO 2015 • 50,000 Lines Of Code to Brew a Coffee • Martin Comfort &amp; Michael Fait - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GOTO-Conferences/">GOTO Conferences</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>GOTO 2015 • 50,000 Lines Of Code to Brew a Coffee • Martin Comfort &amp; Michael Fait</b></h2><h5 class="post__date">2016-02-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/sjmOlhehKnk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">ladies and gentlemen welcome to our talk
fifty thousand lire lines of code for
cup of coffee we're both very happy to
be here we're very proud to present your
project and we're really happy that you
choose out of all the possible
presentation hours so we'll try to
entertain you for the next half an hour
so we talk about fifty thousand lines of
code it was a very interesting
innovative project and first of all we
want to show you why do we choose the
title obviously as a reference to Julian
20,000 Leagues Under the Sea and if you
know the book it was a great struggle it
was an epic struggle under the sea
20,000 miles and that's also how we feel
in the project way to overcome all kind
of different difficulties challenges and
everything we'll talk about it in a
minute and so that's like what we did it
and also because she went with such a
technological innovator and so it's
reference to him 20,000 Leagues Under
the Sea more important but if you see
this like striking disco princey between
like a cup of coffee and fifty thousand
lines of code fifty thousand lines of
code it's not massive it's not huge but
it's still a substantial amount of code
and on the other hand you have a cup of
coffee that seems to be like such an
anachronistic thing you know cup of
coffee of like water you have beans you
have steam you have energy and that's it
and on the other hand you have fifty
thousand lines of code that seems to be
a little bit over the top on the other
hand we talk so much about IOT about IOT
devices IT thinks they will come up
projects they will come up and so all of
these projects all of those devices
intend to make our life more valuable in
this specific case we have a coffee they
will be more individualized it will be
more up to your taste it will be exactly
if the milliliters of what you want to
actually twink in this specific mood and
in comparison to that if fifty thousand
lines of code is basically nothing
so this is where we are few thousand
lines of code will show to you lessons
learned challenges that we overcame
overcame challenge that we're still
struggling with and also without like
going too far and without like spoiling
anything with like two important things
here first of all I OT is kind of like
hot right now and it's interesting right
now it will be old in a commodity in no
time you know if you look back to like a
few years back about ABS a few more
years back about websites they were hip
they were great at the time today
they're just like commodity so I OT will
be commodity and if I talk to us
developers you will have like a tons of
IT projects in the future and it would
just be like one thing just as the other
ones and therefore also like how much is
new if I like right there it's like new
IOT all new coffee machine all you know
i'm not sure you will find that there's
a lot of stuff that you already know i
mean it's it's about coding it's about
testing its what integration and then
there's a little part in there for the
little knew about all the challenges
that we like faced and Michael will
start or their product introduction so
the client came to us and said we want
to start a project with you um there's
this machine and it's a coffee machine
and it's a really amazing coffee machine
it's it's a pure black liquid joy coming
out and it can do cold drinks it can do
hot drinks and you can you can adjust
everything you want and it does really
really nice frothing but but that's not
it because there are many machines like
that the machine will be connected so
you're not tied to the to the crappy
displace on the machine and and and the
buttons that are on there no you will
have an app and you can configure your
your drink your recipe exactly the way
you want it so you can take your
favorite mark and adjust the drink sighs
so it's perfectly filled you have the
exact amount of a frothing you want and
the exact amount of milk you want and so
you can have it always with you and if
you have your recipes on your phone you
can also go to a friend's house that has
the same coffee machine or to a shop or
you buy the
cap shorts and you don't have to
configure it again right you just get
out your phone you press a button and
you have exactly the coffee you want
sounds interesting and the machine will
be connected to other services right so
the machine will talk to services in the
background at the airport talk to the
services in the background and so if you
if you want to change your phone well
all your data is already in the back-end
service and you just can you know login
again and you have all your stuff there
if you want more capsules if you need a
cleaning set right you just press a
button on the machine or on the app and
you will get your cleaning set my
colleague Matt henschel he spends quite
quite a bit of his time thinking about
smart ecosystems and connected devices
and he came up with this with those
layers how you can structure and think
about connected devices and the
ecosystems around that and this layers
apply to our project as well so you
start with a product and the product has
certain core functionalities in this
case it brews coffee and then you put
some some more logic into it you make it
a smart product which is usually in the
firmware so you write a bit piece of
code and you put it onto that and all of
a sudden this dumb thing this product
became a smart product the next step is
you connect it you connect it with
devices this this machine does not
usually talk to this cami nap this can
be the internet but all of a sudden your
whole ecosystem is already connected
product and for us the last step was to
have those services in the background
and then you call it a product system
and this is where at least our project
ends if you ask met he will draw another
circle around it and he will say the
next step would be a multi-layered
ecosystem which in this case what mean
there's not only a coffee machine
talking to the internet and talking to a
nap there's a fridge and an oven and
they are connected on all different
layers so they talk directly to each
other but also to the layers
on top so now a case let's be a bit more
specific well we had this machine
honestly we did not build the hardware
we are not good at that of thought works
not yet I don't know so there was a
hardware company that actually built the
bits and pieces for that and this was
the company actually that also built the
firmware on top of it so this is
probably written in some dialect of C we
did not write that either but obviously
we were talking to them constantly in
working very closely with them so hours
apart actually began where things get
connected so we build an iOS app we've
been an Android app obviously if you
have a connected coffee machine you need
a watch app and we built the backend
services at the website and the shop
behind that for this talk I want to make
it a bit more simpler because otherwise
i would get lost in details all the time
so this top we want to focus on those
three components the machine the app
whatever platform that is and the back
end just to visualize a few of the
examples and we after we understood what
the project was about everyone was
really excited about it because it's
like yeah this sounds cool this we want
to build this right so we were like ok
just give us two or three prototypes of
the machine and then we can start right
away then the client was like a fun fact
there is no machine you know the project
will go on for a few months and a year
so at some point you might receive a
prototype but we don't really know when
and we don't really know what this thing
then we'll actually do so we started
basically well with the empty editor and
an empty IDE and the goal to brew coffee
and there was there was basically our
first challenge prototyping because if
michael says there was a fun fact to
have no machine but there was actually
the reality for us and it's actually a
weird challenges first of all if you
don't have a test device you cannot test
I mean obviously but also we are
software developers we're just not used
to having like any hardware struggles
normally the hard work that we need for
our product that we can just buy we can
like half we can like a choir we can I
don't know it's not like really big
problem so in this specific case we did
not have a prototype and it really
became like a an interesting part and so
it's interesting if you if you look
first of all on like how we normally
develop software then to compare to like
in this case with the hardware
development even in big projects or
especially big project we might have
like in the beginning of a klick dummy
that is not really working software we
use and just like click on it the
customer gets like a certain impression
you can make like certain certain
whatever app app app front and stuff but
at the end it's just like a little thing
and from then you basically have hard
working software from the beginning
however you want to call it if it's like
the alpha or the better is with the
release or whatever you always work with
working software this is what we do when
our incremental approach so in whichever
direction you want to go you add some
more you add some more it's like better
better better nice a nice a nicer but
you could also interrupt the project any
point of time and you have like some
kind of a product so this is how we do
it and we can actually pull this off in
in a small amount of time I mean
whatever you want to call it is like
weeks is days is it ours but like
working software is something that we
get frequently and like really easily
used to it's very different when you
talk about hardware development and then
we come to to our different prototypes
the first step is also some kind of a
dummy it's not a click dummy in this
specific case it's a little bit blurry
as I see from here but it's it's a
styrofoam it's a styrofoam machine there
was like the first idea that we had
there was the customer gave us this is a
block of styrofoam there's no
functionality nothing inside except for
styrofoam so what we did we like pin
some displays on top of it we hit this
one guy at the customers actually made
sounds to this I don't exactly why what
he made like this is a button hmm
so all kind of these things you like he
like we're like with we circled some
buttons on top but it was like very you
know very premature and we couldn't do
much with it nevertheless and there was
like showed in like the different
prototypes of ocho wait now it always
served are you certain purpose so very
very first idea our 3d styrofoam coffee
machine we started developing and we
quickly realized that we needed like
some kind of a counterpart and obviously
there was no coffee machine as the
counterpart so developed it that fake
service the the thing that you actually
see there that is actually the the
prototype of the display as it was
supposed to look like so we felt almost
like making the UI we could have make it
in any kind of way making the UI in this
way it almost looked like it's having
like a piece of the machine you know at
least the display so what we were able
to do this is like when we like send
some information from our kind of like
fake amp to the fake service then we got
like a fake response and we felt like at
least like there was like some kind of
connection in it there is like our
second wave prototype and we quickly
realized that this is just not enough
because you can only only go so far and
we came into like deeper functionality
and not a big surprise we came to
connections because it's all about
connected devices so we developed that
thing it's it's a BeagleBone it's a
bigger bone it was called our fake
machine also like something's called our
emulator and what we were able to do
with this was not only to get responses
but also to have like a Wi-Fi connection
to establish a Wi-Fi connection to look
like a different scenarios with the
Wi-Fi connection and so this was for
like a long time there was the closest
that we have to a coffee machine and it
doesn't resemble very much to the coffee
machine but it was very dear to our
hearts before before and we like evolve
you from prototype to prototype we got
this and that already looks very much
like a coffee machine as you all would
agree it already has all the buttons
it's a little bit blurry I don't exactly
why it has a way that the display the
display that you just saw before the
display also we like or in there
in the one version like stuck onto the
styrofoam it has the different buttons
and what you actually could do you could
basically do everything I mean that at
least what we what do you assume to do
because for us you don't need the coffee
machine of the coffee machine but we
kind of like just need it like the the
interaction electronics part all around
so we had this thing and it turned out
that a lot of stuff that we develop did
not work with this real coffee machine
with the real hardware with the real
life or module but we were really happy
about it because once you had integrated
with the box we thought like so now if
the real machine comes and I can show
you the machine not because it's not out
and therefore I just have to hide it
under this blanket that is actually the
real machine and when we got it the
first the very first machine it turned
out there will be more problems now
there was laying interaction with like
heat and with all kinds of like
different fields that occurred so it
turns out that like every step when we
tested we try to have like a prototype
there was as close as possible to what
we just needed that point of time but it
was never enough and it turned out that
the next evolution step was like we can
only had to start from scratch but still
you know this is the coffee machine and
we were able to integrate it by the way
that is the coffee machine that we made
the first coffee with and it was really
interesting experience it is very
emotional I so probably can't imagine
and it turned out that it made out of
like clear crystal clear yummy water it
made like kind of like a stinky dirty
kind of a liquid but that's on the side
you know the coffee at the end we were
really nice if you look those two
scenarios that are just like portrayed
to each other in in there in the in the
top of the software in the in the bottom
of the the hardware you see that it's
like different first of all in times of
time scale because as I said before you
can pull off a software or change in
software bug fix or next release in I
don't want to say no time but like
sometimes in hours or in weeks or like
maybe in months whereas in the hardware
the development from the dummy until the
first function prototype took at least a
year and a half
and that is also interesting for us
because it means for us that the
software has to follow the hardware if
at the end where the function prototype
they did not work as we specified
errores we had anticipated they would
work there is no way that there was a
change to the hard walls being made all
the changes had to be made to the
software what's interesting is that if
you look at this you have like the
software the fakes offer part is really
small the real hardware stuff is also
really small so basically in the tire
middle part of the project to like the
vast majority of the project like cut
off like a few weeks in the beginning
kind of like two months he at the end
was always done with like a real
software against prototype they were not
real and there was an interesting
combination that cost us all kinds of
probable well we'll get back to this but
it was also really interesting it was
especially interesting when it comes to
testing because we had to be really
innovative with testing and Michael will
talk about that let's talk about testing
in this project I'm assuming everyone in
this room does automatic testing every
day all the time and we're basically
used to it it gives us a safety net and
we always aim for this pyramid tons of
unit tests in the bottom to you know
check all the corner cases and the bits
and pieces a few integration test to see
if Saul the small components work
together and some end-to-end tests on
the very top to make sure everything is
tied together smoothly and plump
together and for us well for each
individual component of the system you
can do this right so do a test pyramid
for back-end services this is business
as usual for us we have all the tools we
know everything we know how this works
for the app to be honest there might be
people that have more knowledge around
this than me but this was already bit
tricky right UI testing for iOS back
then in the way where there was no UI
framework that was already tedious um
and for the machine well first of all we
did not really build a farmer for that
but we could not test it at all but even
if you do all the testing pyramids for
all the components how it
you make sure that they actually work
nicely together and so the first problem
we had how do we test the integration
with something that doesn't exist so we
said together like okay there's no
machine and we want to test something
and we want to build new features and
this is just not there but to be honest
this this happens in real life too right
sometimes you have a upstream service it
does not exist usually what we do is
contract testing them for this and we
kind of applied a version to that as
well so we started off with well the
situation is I want to have a new
feature let's say on my app and this
feature is not supported because there's
no machine so what we then did is we
wrote a test against well nothing for it
for now but so we made a red test that
is just assuming this feature is working
I can send a recipe to the machine or I
can configure some stuff for the machine
and then we took the the fake service or
later on the fake machine and we
implemented this feature on that side so
you have a contract test that is now
green because some fake system does what
the test is testing and guess what so
far at this stage you are not building
any software right now that's production
code you just wrote two components to
set up like a harness for what you're
expecting later on so then we could use
this feature with our fake service and
we could start developing the real
production code for for the app and at
some point where we then got the box or
the real prototype of the machine we
could run all the contract tests against
what we just got and we got a new
firmware version we could then rerun all
the tests and guess what it was never
green the first time around never ever
but at least even though the iteration
cycle for us was very long until we
received something new we could at least
give feedback right away and we could
you know put our finger into one test
and say here we expected something else
the machine is not behaving the way we
expecting it and we could start a
discussion
and at the end time we received an
update for the firmware and then we
could really use this feature together
with a prototype so there's a lot of
indirection this lot of work you do up
front there's lots of test code that is
not production code but at least you can
get around with it the downside to this
approach is that we ended up using
corner cases on a very high level on the
integration level between one component
of the system and another one so we were
checking http statuses on that level and
we were you know all the as I said
corner cases and this is something you
would usually test on the layer down
hopefully on the unit test level so we
ended up as lots of tests like that but
at least it was one approach how do you
fake physical user interaction so one
rule with this machine was it will only
spit out coffee if you push a button
because you have to make sure that
there's a cup on another machine you
don't want to play around with your
phone and flood your kitchen at the same
time and then we wrote test for that I
thought how can we make a user push a
button once we have the real machine and
we actually thought about buying a lego
mindstorm set and just you know have a
robot finger pushing the button but then
it turned out that the button was not a
push button but was a jog dial and so we
throw this out or we then did is we just
assumed in the test that we could do it
so when we wrote a test set up some
stuff and then the action user presses
the brew button and then we assert some
other things and the implementation of
this call was well it was an interface
and we had two different implementation
of that interface one was a fake one we
would use with our services with a fake
machine and fake service and this would
then look like this um you would just
call you l hahaha machine fake actions
click brew then you get 200 back
and this was our automatic way of faking
that somebody pressed the boo button how
does this look like when there's the
real machine at first it sounded stupid
but we just showed a message go over to
the machine and click the blue button or
later on where there were more
sophisticated tests go to the machine
read what's on the display and type in
what you see on the display and
obviously well we didn't then fully
automatic automate all the tests but we
moved on from a set of automated tests
to what we then coined as guided manual
tests and when we got a new firmware
version and we would run all the tests
then this person could start the things
wait for the pop-up see what's what what
the part of pop-up asks you to do go to
the machine do it and come back this
sounds very tedious and to some point it
was but on the other hand we would
always run the same set of tests we ran
before against the fake machine against
the real machine and so except for this
little thing this little user
interaction the tests were the same so
ninety percent same test if you've got
better ideas for this please come to us
after the tour because this was the best
we ended up with setting up scenarios
for end-to-end tests so we had all the
three components and I don't know how
what your experience is but if you have
two components and you have to set the
upstream system up for for a certain
scenario you want to test this can
easily be care become quite tedious
already for us we had then an extra
thing a third thing so if you wanted to
test end-to-end one part in the app you
have to set up the backend system to a
certain situation you have to set up
your fake machine to a certain situation
so you can run an end-to-end test that
actually integrates all the components
and honestly we horribly failed on that
it became so complex and so hard to
write so we were just in the in the end
we were just splitting the unit user
journeys
right so so we just said okay let's look
at the whole flow let's look from from
an analysis side and then cut it so that
we can test the whole user journey maybe
with two or three tests but each test
should just involve the two components
and yeah you can now argue well this is
not an end-to-end test right it's not a
hundred percent coverage or whatever but
on the other hand testing is about
giving you enough confidence right and
the effort you have to put into that and
on the other hand the confidence you get
from this this was our balance and it
made the test at least doable so those
three meses contract tests fake guided
user interaction and those partial user
journeys gave us the opportunity to at
least handle the complexity of the
situation until be honest on the next
project I would try those same things
again and come up with more stuff but
even more interesting or like that the
core is I don't know if you got this
entire party we're talking about IOT
about connected devices so obviously
making connections is like really at the
key of our of our project so what we
actually did is we imagined like our our
setup here is Michael described away and
it said like okay now since all the
things are connected now imagine like
what kind of features we can do what
I've kind of settings we can do whether
the recipes were like the different
coffees what how can we connect it to
Facebook how we can we like share as a
piece how we can transfer them
throughout the world and whatever and we
came up with like something that was
like more complicated than we actually
thought just like to give you like a
tiny little bit of impression like just
imagine it's like a person like one of
you comes like I just imagine like you
all you're like so curious right now you
will buy this machine you go to the
machine you want to brew coffee the
coffee machine things like well I first
have to clean so sends a message back to
the backend says like back-end I need
please tell the app that I need like a
cleaning so message to the app please
make a display machine has to be cleaned
so then the information goes to the same
guy again clicks on the leg please clean
the machine information to the machine
and then back so maybe there was a
little
fast maybe it's not like one hundred
percent accurate but it shows how
complicated these user flows are even if
you just like press the button please
make a coffee for me and there was
definitely really a challenge for us to
see like to cross all these boundaries
and to make like the tests and the
testings and the integration in the
orchestration of all the different
things and I can tell you it works
different with all the different
prototypes that we had even more
interesting but was that we focused on
let's say we select ok everything is
connected and at one point we realized
well first of all we have to get these
things connected and it seems to be such
a logical step but we summer-like did
not really think about it because you
were like so excited about the connected
devices then we started thinking about
like connection of devices because you
can't just buy this machine you can just
buy it you can unwrap it you can connect
it to your outlet you have a machine
sitting at home and you can use it as
you can use any other coffee machine you
can put in your capsule you can whatever
put in your milk you can choose your one
of the recipes that are predetermined
preset up on the confusion you can just
make a coffee as with any other cutting
machine and that's fine and it's like
accepted and there's like no punishment
or anything for this you could also use
your app you can download you can use
your phone you can download the app you
can use basically your your phone s s as
a remote control you can make your
individual recipes you can carry them
around you can make your your your
coffee at home or give the full set up
the full beauty of this entire device
with the back end with the integration
to all kinds of other devices so and
just to see or just like to illustrate
how complicated is to make the setup is
once you connect the machine to the
outlet you you buy it you unwrap it you
put it on your counter space you
connected to the outlet it works as a
hotspot so then you can disconnect your
phone from your wife I can connect it to
the Machine hotspot you can then
transfer the credentials of the wafer
that you've just connected with with
from the phone to your coffee machine
the coffee machine can then disconnect
can then switch from hotspot mode into
wife and one can connect to the Wi-Fi
and then the phone can also it's a long
process and it was really interesting to
figure log all too likely all the differ
process so in retrospect we say just to
get the machines connected took us about
half of our work and it really sounds a
lot and there is a lot because what we
actually wanted to do was focusing on
functional requirements from the
customers but actually what we did was
to a large degree just to get things
connected and then also to make sure
that it works for all the three
different scenarios it should always
work if I just have like the app
connected to the phone or in any other
connection even more what is if all of a
sudden one of those is offline and then
you have like let's say if the machine
is connected to the back end but not to
the apt emphasis we're now switched over
like disconnected or you send a pull
request and it goes to the back end but
not at the back end is I'm going to
connect to the machine again next corner
case and you've like always like those
three things and you can see and what
point you have to buffer which
information in which order they are sent
to the bacon once the network is back on
what if the back end is on but not the
machine is on which direction is what is
if you have contradiction information
that are both both buffered but now I
have to be sent in like different orders
it was a total mess it was it was
interesting but it was also total mess
and our lessons learned from this is
don't underestimate that you have to get
things connected because it's all about
connected devices and if you cannot
connect those devices you know it just
have an ordinary boring coffee machine
let's talk about security so how do I
approach security in my team honestly
well first with education you go here to
a conference and you see the security
and privacy track we write automated
tests so at least the things we are
thinking about a working the way
expected we configure and provision our
service automatically so nobody forgets
to turn on the IP table service again so
but but is no matter that I don't know
but every if I would ask not every
person in this room do you feel that
your application your building is secure
I sure ninety-five percent will say mm
yeah kind of I don't know but on the
other hand we're developing things every
day and we're releasing them and we are
deploying them so it seems that in
general we are okay pushing stuff out
into the wild so we okay developing
software and we all have our jobs so
it's not as bad right however on this
project we were not comfortable at all
because we were like this this machine
and somebody has this machine in the
kitchen and they have all the time in
the world and they have a screwdriver
and they can just open it right and read
out the memory and just you know
reverse-engineer what is on the machine
so for every single feature we discussed
there were endless discussions around
this and most of them like is that we
said it like but what if somebody does
this in that or do you know that you can
do this and that so it seems like we we
went on to discussions again and again
and again and this got a bit out of hand
so we did something called threat
modeling workshop and if you followed
you just spoke about it right the talk
was earlier so sorry I can relate to
that but it's it's basically a guided
facilitated discussions around different
topics of security and Microsoft pushed
out a card game that's called the
elevation of privilege
that helps you to do this it basically
just ask different questions around that
and we did a couple of sessions with
this and there were many outcomes but i
want to show one right now it was we
came up with security scenarios and we
came up with three scenarios and we made
somewhat rules for this in error so
first scenario was you break your own
machine you take the screwdriver you
open it you try to do stuff you look at
the API you try to miss configure it and
all of it certainly doesn't look off you
anymore well we said we don't care if
somebody does this to his or her machine
we just don't care and it made the
discussion already easier right because
there were certain scenarios we don't
care on the other hand this meant every
single point of data that is on the
machine is not secure and everything
that comes from the machine to the other
components is not secure but then this
already shorten the discussion also is
there way how somebody can now we just
assume somebody can and will change the
data on this second scenario you break
somebody else's machine you're on the
same Wi-Fi and I don't know you miss
configure their favorite drink you try
to brew five liters of coffee I don't
know right you said the water hardness
wrong this was something we definitely
want to avoid because it's annoying for
the users if somebody you know comes on
to your Wi-Fi in place around with it or
think about if the machine is in a
library or in shop right and somebody
does annoying stuff too that so every
time we had a feature that falls into
this scenario we like okay let's try to
make it hard one of the rules we came up
with as soon as you do something really
serious to the machine for example
setting configuration or setting the
password you have to physically press a
button button if somebody is in front of
your machine he can just drop the
machine as well if you want to be really
right last scenario you break all the
machines so and this what's this
disaster case where I just imagine that
because the machine gets updates over
the Internet over the air and somebody
takes over our server and puts a
malformed firmware onto the server and
all the machines download it or what do
you actually we quite like the idea of
building the first coffee machine botnet
in the world but on the other hand it
could also be that all of a sudden in
Germany there are fifty thousand bricks
in the kitchen and every single user has
to take the machine to a shop and you
know it needs to get repaired so this
was the disaster scenario so all the
discussion all the effort all the
knowledge we had we put into that one
because we really try to avoid this so
for example in this case for the
software update we use a synchronous
encryption and signatures so we can be
very sure not entirely that this
software update actually is the right
one for the machine has already pointed
out a bit this was not solving the
security discussions at all but it's
shortened it because we could always
rely on something oh look this is
scenario two right we need to avoid this
oh look this is another one we don't
care we just assume it's unsecured and
well I'm not the expert in all this but
at least this make me feel a lot more
comfortable security and all the other
topics that we just talked about a very
important topics I believe strongly this
is the most important making technology
invisible and it's really interesting
because we talk about connected devices
and we say connectionist key it's all
what connection IOT is connected device
connects is key at the same time we
don't want to bath about the
connectivity we don't want to care about
connection we just assume yes this
coffee machine is a high-tech device but
we also want to want to make sure that
it just like works so we had a very
interesting moment or an incidence in
the project just imagine this is like
our projects like sales on the sea and
it's really calm
it's almost like really safe we went
through all the struggle with the user
flows we had like our legs little storms
but then we're like on the cleaner see
we just like finish the the Wi-Fi setup
flow we're really happy we're really
excited we're like going into use that
his full of excitement we just saw the
language exists can like make a make a
check mark on the user test for the
Wi-Fi setup phone everything is just
perfect and what came was kind of like a
waterfall moment because it did not work
out as we had predicted nobody almost
nobody who tested our Wi-Fi said the
flow did not succeed in connecting the
devices that means nobody was able to
establish the connection the connection
we talked about all of the time all the
complicated user flows all the basis of
our entire project the heart of our
entire project digits network people
just didn't good and those who are not I
don't know like like totally tick I
don't know like people from they would
never touch the cell phone anything
those are kind of like young tech-savvy
people and they were not able to make a
connection what a disaster what I mean
what like whatever horrible thing and so
what we can like we failed in this and
we also save the project so I can
reassure everything is fine but it also
showed us that it's like such a
different thing developing for exactly
for this for this kind of device because
we have to make sure that the basics
that the basic functionality has to be
without like really thinking about it we
have to make sure that we save the
project for all different users and I
made these users especially like and
like blend to show like that is like old
in new people or text every builders are
like nerds and hipsters and yuckies and
whatever and they all have to be able to
make these connections because if you
cannot make a connection with this
nothing is working and it was
interesting for us because we had to
rethink our entire approach especially
altered to you I to your ex to make sure
this is a different device if we don't
we may not not able to establish this
disconnection we won't succeed in this
entire thing and we also know that
somebody else will do because if we
don't make a good interface there more
than enough examples in
world somebody else will and they will
succeed and they will sell the machines
and will still sit there with our
machines they learning uncollectible
this is one website there's actually
many website how to connect your
wireless device to your network and I
don't know how motivated you are if you
buy new device to like go through a
marathon of like annoying you tube
videos with all kind of people and to
scroll and to look into whatever you
know talk to people look on forums like
get all these like nonsense that is like
out in the world get into your brain
just to figure out how to connect your
device I mean how many machines would
you buy from a certain company if you
know that it would end up like being in
a total nightmare i have to say i'm not
i'm totally impatient with the kind of
stuff i would not even like a look one
video if that doesn't work i would not
buy it if i read on whatever on the
reference on amazon that there's problem
with the connectivity I didn't buy it
and this is just like for myself a
coffee machine is a different different
item then let's say an iPad or a
computer or whatever like a program that
you buy for your work coffee machine is
something that everybody has to buy as
we said before it's an anachronistic
thing it's a coffee everybody wants to
make a coffee everybody wants to if they
buy a machine they wanted it makes
coffee easy unproblematic like without
anything to this so i basically i always
imagined i have to give it to my dad I
have to give it to my grandma and they
still have to make it work and there was
really like a different thing so we took
out of this we hate to we work a lot we
worked a lot but we also saw how
important it is to make it really easy
for everybody to use therefore making
technology invisible although it is a
high-tech machine that is at the core
when we talked about product hyping and
testing and all the stuff that we've
talked about it if we're not able to
make a connection we can scrape all of
that we don't even have to stand here we
don't even have to give this talk but
luckily luckily for all of us also
luckily for you we fix it and everything
works
this is already wrapping up so the title
of this type of fifty thousand lines of
code for a cup of coffee and this is how
we spend them right we build prototypes
to fake the hardware we tested a lot of
things so everything works smoothly
together we try to get this stupid thing
connected we try to avoid the security
disasters at least and we wrote lots of
code to hide their technology about it
and those are the five points the next
time I'm going to have a new project
that somebody has a you know I connect
the device in it I will definitely look
at those things again and first and plan
ahead and i'm sure i will save a lot of
time on this so hopefully just watch
this slide and the next project comes
pull this slide again and discuss those
things early while we were working on
this project we were coding and coding
for a week and after week you step back
a bit and you look like what what did i
do this week when you then look at the
time you spend on features that are
actually user-facing compared to the
time you spend for all the rest just to
make everything work that was quite
frustrating honestly I know other
projects are like that as well but for
me the ratio was way worse than it used
to be in other projects so if somebody
asked me now how does IOT or connected
devices change the way we work as a
developer imma say not that much right
because all the things you learn you
still can apply them to that they will
become more complex that we become
longer they become more tedious but just
because you can't autumn automate all
the tests one hundred percent don't
throw the the methods you do out of the
window just push real hard to apply them
at least a bit and at the end then well
these pictures from when we brewed the
first coffee right and not only the team
but almost the entire office gathered
around the machine and look at the
different phases there's excitement this
this anger this skepticism Hammond on
the very very left right he's praying
he's playing like
this thing explode so at the end it was
really fun because we finally met bill
something tangible something that builds
you know smells like coffee so with all
the complexity and all the T dienes it
was really fun thank you so we have time
for some questions what are your
questions and I'm going to walk around
with Mike about the connectivity module
and he's asking if it's reviews it
before other IT projects very good
question because there are things like
it was called before spark I oh I guess
so it's little device you can buy for a
couple of dollars that magically just
connects to it to back-end services so
all this stuff all the effort we had to
put into getting this you can buy stuff
however all the methods you can think
about a WPS near-field or things like
spark was not really working for us
because we wanted this this mode where
you just plug in the machine and it's
not going to write so there are other
things and you have to verify all the
message there are if you start a project
for us we had to go the tedious path and
I would assume I can't reuse much of it
for the next one you talked about the
guided manual testing did you have any
problems with the testers becoming bored
and maybe just don't follow the
instructions really thoroughly and how
did you cope with that so we had a test
down on our team and he was really into
that right and honestly we did not
receive and update that often so we are
talking about every other week so I
guess you have to do it every day you
won't do it and then probably you need
to find other layers of testing and
maybe have very little on top of those
another question are through the app how
do you fix the password provisioning
problem password provisioning problem
I'm not really sure about this but well
at some point you have to give the
machine your password right and because
it needs to connect with the Wi-Fi and
so we just did secure connections to
send the password to the Wi-Fi and yes
it's stored then on the machine because
it has to know it if somebody reads out
the memory he or she knows the password
on the other end this person is in your
Wi-Fi with the screwdriver in front of
the machine and opens it so we made sure
that the connection when we sent the
password is secure don't know if that
answers but maybe this person who asked
the question can come to me later I
guess that's it then we forgot one
crucial part we we should have had like
a first slide and last life on the
conference so we totally forgot that we
mess it up on the last light they would
have been like please fill in the voting
or something like this please vote on
some tool we also forgot that so please
now as an oral oral motivation for you
please do this but since we forgot in
the slides thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>