<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>GOTO 2015 • How Much Magic Is In Angular2? • Rody Haddad | Coder Coacher - Coaching Coders</title><meta content="GOTO 2015 • How Much Magic Is In Angular2? • Rody Haddad - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GOTO-Conferences/">GOTO Conferences</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>GOTO 2015 • How Much Magic Is In Angular2? • Rody Haddad</b></h2><h5 class="post__date">2015-09-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/35MVP22NOrQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so hi everyone my name is roderick and
i'm a member of the angular core team
and i actually wanted to start the
presentation with something a bit
special try to wake you up a bit so
wanted to show you well actually when I
when Carmen invited me to this talk she
told me don't hesitate to do crazy stuff
so one thing I want to show you is one
of my hobbies which is being a magician
so I'm not a professional but it's still
pretty entertaining especially since we
say that angular is a superhero it's
it's relevant right so I broke this
sorry all right so I'll try another one
hold on i have a a deck of cards with me
so sir do you mind just telling me stop
whenever you'd like alright so let's
look at the card so your card is the 9
of spades this is interesting because if
you look at the angular Taio website and
look at the doctype you'll find that
your card is right there
so that brings me to my topic which is
angular 2 so if if you've haven't heard
about angular 2 it's the next version of
angular and its website is angular taio
so we change from angularjs to angularjs
dot org to angular taio so this is where
you'll find other researchers resources
for angular 2 all right so currently
angular 2 is in Developer Preview so I
want to preview preview it to you
developers and for that I have a demo so
it's an application that's written in
angular 2 so what the application does
is we just have the neighborhoods in
Amsterdam and you can report the amount
of tourists on a trip that you see in a
given neighborhood and it propagates to
the other browser so if you're wondering
what i mean by tourists on a trip
doesn't have to necessarily be a good
trip it could be a bad trip since we're
in amsterdam so this out is this
application has a couple of components
of interesting stuff in it like where we
have we're managing collection we have
components in it we have integration
with forums sockets so for this
presentation I say let's build it let's
build it together so it won't be live
coding it will be recorded live coding
so I hopefully I can't mess up so it's
because it's recorded so will first
start by building it in angular 2 and
typescript which is the language that
angular 2 is written in and we'll talk
about that a bit more and then for
learning purposes we're going to convert
it to acma strip 5 so still angular 2
but the neck mustard 5 so you can see
the difference and then we'll go a bit
more crazy and convert it to angular 1
during this talk so if if you're
wondering what typescript is it's just a
superset of es6 which is the next
version of JavaScript and it just has
types and annotation added to it
honestly we could do a whole talk on es6
it's very exciting but this is the
angularjs track and if we did that when
you people would start dancing of
excitement which is great except i'll be
included so that's not good for the talk
and also if you think that echamos if
six is something in the future that is
not here yet well my friends we are
getting to that future if you look at
the browser support Firefox already has
sixty-six percent of the Essex features
chrome 45 percent and the edge version
of IE which will come in Windows 10 also
has sixty-three percent behind some
flags alright so let's start with
building our appt the the same app that
I just demoed so first we need the code
base of angular 2 and to find that we
can go on code angularjs org you will
find all the builds of angular 2 so and
we'd want the two point zero point zero
alpha so if you click on that you'll see
that will be ended and a folder that has
all the builds will be using the dev one
that will give us better error messages
and that's would will be written in xmas
trip six modules and when we're going to
convert it to a concert five we're going
to use the sfx version that puts things
in the global scope alright so let's
start coding first alright so we'll have
our script tag that includes angular 2
and since I said we're in a comic strip
six modules we're going to have to
include systems a/s which is a library
that loads all types of modules so
common JSA and D and so on including
equitable six so we'll be using that and
since this is an actual demo and I don't
want to hide the ugly parts we also has
a dependency on tracer on the trace for
runtime because part of the angular 2
code base is still compiled with stray
sir it's not all converted to that
script yet so but that will be removed
in the near future and right and since
we want we want this to look good will
actually also include bootstrap with a
theme for it to look like Google
material design so after that we also
need socket i/o because we'll be using
sockets and sock that I was kind of the
best solution and now when it comes to
typescript we also need to include the
definition files of our vendor libraries
so since we're including just the jas
built which is the
result of the typescript compilation we
and we want typescript to do type
checking so will include the definition
files which just tells the types of
compiler that this class has these
properties and so on so what this will
make is a folder called typings well
you'll find all the Taipings and a file
that references all of them so in our
app will just referring this file and
then the compiler knows how to do is
type checking and so on last thing for
typescript is we also need to give some
parameters yeah we've got some for some
configuration for our texted compiler
just selling it to compile 2s 5s for
example instead of es6 and we can start
developing our first angular component
so a component is just a class and I
can't step 6 class will be calling it
tour stripping app it will reference
that definition file that we mentioned
so after that we can import things from
the angular 2 module like component and
the view annotation and also a bootstrap
function to bootstrap our app we're
going to have to annotate our class to
tell angular that this is a component
and we will give it a selector so a CSS
selector that when angular will find an
element that matches the selector it
will instantiate this component and also
we tell that we tell that this component
has a view with a template URL so that
template will be injected in the Dom
whenever angular will find this
component in the HTML so so now in our
index of HTML we can reference our our
component and import our module because
we're in ECMO strip six will be using
systems yes and finally before we can
actually open it in our browser real
bootstrap the component using the
bootstrap function giving it just the
component function well class run our
typescript compiler using much mode so
it keeps compiling run our HTTP server
and then we can open our browser and see
it's working so we have it on port 8080
so we got the basic angular to set up
with the typescript compiler so now we
can start developing our app so just
final thing the types of compiler will
output to JS file but obviously we'll be
working with the stat sheet file you see
it's right next to the theater side to
the type script file in the
configuration you can change it to
another directory but for this will just
keep it simple like that so now starting
to think about our app we like actually
engineering our app we have this model
called neighborhood and and this model
will have a name and the trippin tourist
amount like the amount of tourists that
are tripping in that neighborhood and to
manage that model will have a service
that will call neighborhood handler
because we're great with names and so
these are just a comic strip six classes
so I have a service folder with a
neighborhood handler folder and my
hidden neighborhood model so it's again
it's just a class that we're exporting
that has two properties which are the
title and the amount and also we'll just
have a constructor that takes these two
parameters and put them on the class so
notice that everything here related to
typing is typescript specific but the
class the constructor the default
parameter all our xmas honor all ECMO
strip six so that's pretty neat we also
have a method set TT amount just as the
helper that parsefloat the value in case
it was given as a string so we're we
know we're always working with numbers
and thinking about this right now we
could have had a satyr property instead
of a method I guess I'm peer reviewing
myself right here but for now that that
will do and then for our service it's
also just a class that will import the
neighborhood model using ECMO sip six
modules and since our service is
basically managing a collection of
neighborhoods it will have a
neighborhood array on it so the
collection is just an airy and now in
our components we can import our
neighborhood handler and start using it
so we need to tell angular to make
angular 2 aware of the service so for
that we use the app injector which so
that the actual dependency injection
could happen in our constructor so now
the service will be created in the
context of this component and we want
our component to have a reference to
this collection of neighborhoods so
we'll just assign it from the service so
now we can go to our HTML file change
the template from works to an actual
nice header and start iterating over the
neighborhood collection that's in on our
component using energy for similar to
ng-repeat just a slightly different
syntax and also will want to output our
neighborhood name and amount just for
testing purposes for now and since we
also need to make angular aware that
we're going to use is this energy for
directive so you'll notice that in and
in angular 2 there's no global registry
of things like services and directive
and directives you need to tell angular
explicitly that you're going to use
these directives and services and it's a
bit more declarative and helps with big
applications so now before we can open
this in our browser will notice that our
collection of neighborhood is actually
empty so let's fill it up and to do that
I'm going to use a similar design to the
Eric that push method that's built in in
JavaScript so if you look at the syntax
push actually can take multiple elements
and they'll all be appended to the array
some people don't know this so like if
you have multiple elements you don't
have to call push multiple times you can
call it once with multiple arguments so
we do something similar in our app so on
our service will have a method called
push neighborhood that takes the names
of the neighborhood and that will create
the neighborhood object so notice that
here every neighborhood name is a
different argument to the function so
just to show off Aikman's tip 6
feature's when we implement this in our
service we can use rest parameters so if
you're not familiar with what rest
parameters are imagine you have a
function that takes a parameter a B and
then arrest parameter that parameter
will collect all the arguments given to
the function
burnt in the burnt defined so in our
case we just have one rest parameter and
it so it will take all the arguments and
put them in an Eric and then we'll map
that to our neighborhood object using
fat arrow functions which return the
last statement that was in the function
and also they persist the this from the
outside context then to push it to our
area will actually use push with the
spread operator so what the spread
operator does is it given an array
that's passed to a function it will
actually expand it so that becomes
multiple arguments to that function so
here it's as if we're passing multiple
arguments to the push function and we're
doing that instead of concatenating
because concatenate in construction new
array and we don't want that we just
want to modify our existing airy so
that's some pretty neat echemus tip 6
features so now if we go on our browser
and refresh we can see that we can see
the names and the amount at least I can
see them I don't know if you can so yeah
again looking at this code I don't know
if like this is the next version of java
script you know imports classes typing
this type script but constructor and so
much neat features in my opinion so now
let's get back to thinking about our app
so we want to report the amount of
people in each neighborhood so we're
going to create a component called
people count so that it will look a bit
like this and how we want to invoke it
is using an element called people count
with the title and an amount so let's
start creating our component well first
full college in our app template so we
have the title and the amount and
they'll be equivalent to the
neighborhood name and the amount will be
the TT amount in the neighborhood since
we want this we want there to be binding
between this expression and the property
on the component will actually have to
put it in bracket notation so what this
means that this tells angular that the
the value is an anger expression that
should be evaluated and bonded to the
component so otherwise it's it's just a
HTML attribute so then we can have our
our component which has two properties
title and amount
and it can we'll have to import the
component and the view to specify it to
angular that this is a component and
what its view is so the component will
have a selector called people count if
you will have a template that is just
adjacent to the component that's right
so next thing you actually need to tell
angular that this component takes two
properties which are title and amount so
then angular will do the binding between
the HTML and the property on this class
and looking at this there might be
confusion with title maybe some people
who think it's in native HTML attribute
so let's just prefix it with the vendor
prefix and we'll call it TT so here
we're saying to setting angular that we
want title to be called title on the
component but we wanted TT title in the
HTML so now there's no confusion that
this goes to the people count component
so then we can go in our HTML start
echoing these through properties and I
just wanted to stop to let you know that
an angular 2 if you do mistakes and
expressions you'll actually get an error
it will it will throw an error while an
angular 1 it was forgiving and if you
did a typo it with just output and
defined in angular 2 it's a lot more
robust if you are so that's just output
title amount and an input range just for
aesthetics so now we can open our
browser and refresh and it doesn't
output the people counts and that's
because we didn't tell angular 2 that
our app components will use the people
count component so just like ng4 we'll
put it in our directives in the upper
view and finally we can refresh and see
that it is actually working but there's
no binding yet to the forum so next
thing we're going to have to do is
integrate with the input range and then
angular 2 forms are a lot more robust
because you have to define them in your
component B car before you can use them
in your template well angular one you
used just ng model and it just bind it
to anything you want in angular 2 you
actually need to define the form
elements and what we call them are
actually controls and
so you have to institute them in your
component and they can't live a lonely
actually need to be in a control group
you can think of a control group just
like a forum it's just that it's built
with nesting in mind so you can nest
control groups have validation for all
of them and to construct our control
group we're going to need a form builder
that will just use dependency injection
to have it and will create a group a
control group with a control Carl called
amount and then we have to tell angular
that we want that too to instantiate
this form builder in the context of this
component and we can go to our HTML and
bind our forms to the control group that
we created as well as the control object
for the input finally we tell angular
that we're going to use these new
directives these new directives in our
people camp component so form directives
just a collection of all the directives
related to forms so we just imported and
tell her that we're going to use it oh
also since now you realize that our
amount property is not connected to our
amount control in any way we actually
need to listen tell angular to tell us
when the amount property changes from
the outside world so that we can update
our control and we'll use that will do
that using the unchanged life cycle so
there's on unit on change on destroyed
in our case we'll just using unchanged
and whenever the amount priority change
we're updating our control again that's
for when the outside world changes it
then we can go in a browser and refresh
and see that the binding actually
happens changing the input does change
the value of the amount control that's
great so if you've watched any of our
talks on agata to you'll find that we
are talking we have an angular 2 there's
one way data binding so what that means
is that in it while in angular 1 if you
had a component which is a directive and
you you had for example an isolated
scope you'd usually have a two-way data
binding with the equal sign in this in
the school property and that would mean
that whenever that it changed it from
the outside it will propagate through
the directive but whenever it changes in
the directive it will also propagate to
the outside and that's makes it that in
huge apps it's a lot hard
a reason about who's doing the change
and when so in angular 2 we opted more
for one-way data binding so the from the
parent could tell the child could bind
something to as a child but not the
other way around if if something needs
to propagate from down to up it needs to
happen via an event so to demonstrate
this well demonstrate what I mean I'm
just going to output the neighborhood
amount and show you that in the browser
if we update it you'll see that it
doesn't update the model view doesn't
update just the value of in the
component that update so it's not
propagating so again to do that to
propagate we're going to have an event
that will call TT amount change event
and notice that we're using parentheses
for the attribute here to say that this
is an event and for now all it will do
is update the model directly to
implement this event will actually need
to tell angular that we have this event
again it's a lot more declarative and
this event is just an event emitter that
we're going to input from the angular 2
module and instantiate it then in our to
actually a fire an event on this event
emitter we will say that on click off
this button will call a method that
report amount that will implement right
now notice again that we're using
parentheses for click so this will tell
angular to just do the Advent listener
on the button element so then we can
implement our method and our method will
do is create an event object and fire
the event emitter the event emitter has
similar interface to iterators so dot
next with an event object and the
expression in the HTML will get invoked
so now we can open our browser refresh
and see that it is Ashley propagating so
it's propagating to our model from our
component that's pretty awesome so again
always if you look at this these
annotations you can see that that are a
lot more explicit there are a lot more
declarative so that that's something new
and angular 2 well an angular 1 you have
to look at a directives code code to
realize what it's doing here we can use
this to generate API Docs this is
helping IDEs help you you it also
allows angular to optimize your code and
if another human reads this he can they
can directly realize that this component
has these properties these events and so
on so next thing in our app for it to
get to where our demo was was is
implementing the thing that will take
care of our socket and we'll call it a
socket handler because we're great with
names and so again this is just a
service that is a class that we're
exporting and it has a property called
socket that will respect an interface
that's defined in our typing's in our
definition files so this socket will
just be a socket i/o socket that it's
connected to port 98 98 that I have
running in the background and this
service will have two methods the first
one is update neighborhood that will
actually take a change from the
application and propagate it to other to
two other apps to other people running
the app and to do that we will use a
data structure where the name of the
neighborhood is the key and the value is
the amount so notice the notice that
here I'm using dynamic the computed
property names in object literals if
you're unsure what that is when you'll
switch to act master 5 you'll see the
equivalent and also will have a method
to so that when other people update it
for our app will have a listener of that
another service will provide and that
listener will be called with a
neighborhood name and the amount so the
data structure is similar to the one
above so we're going to iterate over the
keys which are the name of the
neighborhoods and call the listener yep
so then in our neighborhood handler we
can inject the socket handler so that we
can for example listen for when there's
changes to update the neighborhood
models so just injected and usually this
is enough for the injection to happen
but with the current type should
converge enough the current version of
the typescript compiler that I'm using
we also have to add the small annotation
so this won't be necessary in the next
version of typescript the next release
so we'll just annotate this parameter to
say that we want to inject the socket
and ER and this is just between services
not from
two-component then we can use our socket
handler and listen to when there's a
change that happens and when there is a
change that happened we want to filter
through the collection of neighborhoods
that we have we're going to filter via
name so using the filter method on an
array now here i see that type is
telling me there's an error with
neighborhood and when we look into it we
can see that there's a type mismatch
that filter returns an array while we're
expecting a neighborhood object so this
is a place where type checking is useful
so just take the first result of the
filter array make sure that it exists
and update the model so now going back
to data propagation if you remember in
our event on our people count component
we were directly updating the
neighborhood like with a setter function
but that's not great because now if you
want to tell our socket handler to prop
to send that data to other people
opening the app the neighborhood the
neighborhood model needs to tell that to
the socket and that's not good design so
instead what we're going to do is make
that this event tells the app component
about the change that will tell the
neighborhood handler about the change
and then that will update the model and
the socket handler so again it's all
about data propagation and who's owning
the data so here we'll just update the
event expression to call an update
neighborhood function and all that this
function will do on our component is
call the neighborhood handler and not
fight about the change so we need a
reference to our neighborhood hand
neighborhood handler that'll just call
the update neighborhood on a function on
it that we're going to implement just
right now so what i will do is first
tell the socket about the change so that
then it could send an event telling
other sockets about it and then it will
also update the model so now if we open
our in our browser right we didn't tell
angular about the socket handler service
so we're going to do that by
or do you get in our component app and
well we can put it in the app injector
just like neighborhood ender but
conceptually the socket handler is not
on the component level it's on the
bootstrap level because we just want one
socket handler per page so we'll just
put it as a secondary for the bootstrap
function and then again we can refresh
and open another window opening the same
app and you can see that the data gets
propagated between the two so we got to
our initial demo that we showed in the
presentation and also if you want it to
be real time we just have to listen to
the input event on the input which is in
html5 and you can see that it propagates
real time to the other browser so yeah
that's pretty neat now let's convert
this to at mastered 5 so how many of you
think this will be hard just one okay
it's so it's going to be easy and you're
you're right actually we'll just have to
change our tab script files to jas first
change the class to a function and put
our methods on the prototype so if you
weren't sure what prototypes were before
I think now you see the equivalent if
you come from a world where there's
classes we're going to also have to
remove any typing information and for
the default parameter we're just going
to use the or operator which isn't
100-percent equivalent but it does a job
and then we'll go to our socket change
it from TS UJS change the class to a
function and put the methods on the
prototype remove any typing information
and now we also have fat arif oh we have
we have the dynamically computed
property name so if you're wondering
with that that was in a concept six
that's the equivalent neck master five
and it just looks better in a concept
six so and then there's the fat error
function that will convert them to long
form functions so a lot more characters
so we already converted two of our files
let's convert our neighborhood handler
so there's no imports in episode 5 you
just have to include this the files
yourself or use something like yjs so
change the function to a class remove
any typing information then here we have
this annotation that is inject so if
you're wondering what's the equivalent
in ECMO strip 5 let's a parameter it's a
property called parameters on the
function that will contain the parameter
the injection information then we can
add the methods to our prototype here we
continue changing our error functions to
actual long-form functions and here we
have we're using this neighborhood but
in atmosphere 5 you lose this when you
create a new function but in error
functions that's not the case so the
usual trick is to do bar that equal this
angular yeah so then we will continue
changing long-term function to a normal
function and add a return statement
because you don't need that in our
functions but you do in the long form
functions but now not thing you don't we
don't have to use var that equaled this
we can actually just reference the
neighborhood collection and use it like
that it looks a bit better now if you're
wondering about the equivalent of spread
upper of the Resta Resta parameter that
we can use the area prototype that
sliced call hack to get all the
arguments as an array then too we can
change the error function and to have
spread operator that we're using on push
we can use that apply instead so again
this is these are a lot of syntactic
sugar that exists in excess of six and
remove typing information and we're done
with our neighborhood hadler there's
still the two components left first one
is people count so let's remove let's
change it from tjs and remove and change
the class to a function remove the
typing information add the methods to
the prototype
remove the imports and now the
annotations are a property called
annotations on the function and they
become under the angular namespace or
the angular object and we have
annotation appended to them and we
everything that we were importing from
the angular 2 module is now under the
angular object and for dependency
injection for our constructor again
we'll use the parameters that will tell
angular what to inject on the
constructor and I believe we're done
here yeah so then we can go to our app
component changes from tjs remove
imports change the class to a function
change this to prototype and then we
have the annotations it's like before
change it to the annotation property and
add the information for dependency
injection and we're done converting RL
are all our type script to echo step 5
we just have 0 except for the bootstrap
file for the bootstrap function in an
angular in es5 we actually need to
listen to when the dog gets loaded
that's not the case in es6 because we're
loading it via system j s which will
take care of that but that's not the
case in es5 so go to our index change
the angular version to the SFX so that
puts everything on the global scope
instead of things to import from the
module we also have to upend our script
tags because we're not using any foul
odor and remove system that import so
now we can open knit in our browser and
see that it is working whew right so now
let's do something even crazier and
let's convert this to angular 1 so first
things first we're going to change our
angular version to 1.4 so 1.41 just got
released two days ago but I didn't
rerecord everything in a day we also
need to change since our app
it's gonna define our module we just put
it on top so it will just define it with
angular module which doesn't exist in
angular 2 but a negative one will have
our own module system so our components
is just a directive with its name being
the selector but camel cased and it also
has a restrict to being used only as
elements it also has a template URL
which is the same as our view annotation
so we also have a link function that
will link in our case the neighborhood
handler a collection for example to the
scope so that's all the information that
we can capture that we're in our
annotations so again in angular 1 like
directives and services are in a global
registry which is in the case in anger
too so things like the app injector and
the directives are a we can't put that
there's no equivalent in any other one
so then there's this function that used
to be on our component that we're going
to put on our scope for convenience and
yeah we got rid of that those two
there's still the push neighborhood
which we could put on our directive but
I feel it should be in a run block you
might disagree we can argue about that
in person you'll just in dec the service
and lastly in this file there is a
bootstrap which in angular 1 is
different so we actually give it the
module name yeah that's it for this file
we're going to go to our neighborhood
handler which is easier to convert to
angular 1 we'll have our module and it's
a service obviously with the
neighborhood handler function the only
other difference here is that we are
using the neighborhood model which we
don't want it to be global so we'll
inject it in our service reference it
right there let's put this in an
immediately invoking function expression
so we don't pollute the global scope in
in touch trip that's not the case
because every the things you define in a
module don't go to the global scope so
we're done with the neighborhood handler
the santander is actually even easier
also a service that we register with
angular 1 and we're done here we can go
to our model just indentation no to our
model this could be a factory that
returns the model so very simple let's
wrap it in a wifey that we have
pronounced it anyway and well this
doesn't have to be factory we can
actually change it to a value it's not
common but still works and finally we're
done with our service folder we just
have our people count so that's again an
angular module which is directive that's
in this case called people come that's
restricted restricted to an element and
has the same template URL as a view
annotation and let's let's have it have
a serrated scope because that's very
easy to do so notice that here in
angular 1 we don't have the choice but
to use two-way data binding unless we
want to set it up ourselves so that
would mean that if when like amount
changes in the directive it will
propagate to the parent but we don't
want that because then it as the app
groves it's harder to know what's
changing who's changing what so we're
gonna stick to our event and use this
best practice so we'll have our link
function and actually we're done with
all the information that is in the
annotations except for the life cycle
which isn't there is no equivalent in
angular 1 so we have to mentally compute
that the equivalent is actually to watch
the amount property and update the
control so let's give that in mind and
remove our orientations for now so in
angular 1 there's no equivalent to
controls your it's all the free for all
so for enough for our case we'll just
put it as a primitive and again the life
cycle will watch instead which doesn't
exist in angular 2 and we'll watch the
amount property and update our control
because otherwise if we were relying on
our amount property we'd be updating
their parent data which isn't something
we want so lastly we'll put our remote
amount report
mount method ooh sorry yeah we put our
reporter Matt method and the event
syntax is slightly different it's not an
iterator it's just a function that you
call and we're done with this so we just
converted out our JavaScript from
angular 2 to angular 1 the only thing
that's left is our HTML so in angular 1
there is no energy for model instead of
energy control its energy model and also
there's no generic click event you have
to actually need to use a wrapper in
this case ng-click and in our app
template there's no energy for its
ng-repeat with a slightly different
index and also there's no brackets to
say that there's a binding so we have to
remove that as you can see we're
actually losing information with angular
1 because now looking at this it's not
obvious what's a binding what's an event
you actually have to go to the directive
code to understand it finally here yeah
that's it we can go to our browser and
refresh and see that it is working
except that there's a problem with the
sync between the component amount and
the the model amount and that's because
when we're changing it we're getting an
event from the socket and in angular 1
we have to tell angular to do like scope
that apply to tell it to do the dirty
checking that doesn't exist in angular 2
because we used onda GS so that happens
automatically for you but for angular 1
our socket handler needs to tell angular
to get back and the angular context if
you will so let's inject a root scope
because it's a service and do scope that
apply the famous scope that apply and so
now it should be working so we just had
our app in angular 2 and typescript then
we convert it to a cluster 5 then we
convert it to angular 1 and I guess you
use all the difference so we're done
coding finally so what did we learn was
all of this well first that then angular
2 we use echamos tip 6 modules we
to have our own model module system so
we integrate very well with the with the
language and finally the language give
does this stuff instead of having to
rely on requirejs or or browse if I so
again we're using ECMO step 6 and
typescript and if you're worried about
the additions of subscripts like types
and annotations there are the proposals
for Ahmed ship 7 to have these features
so it's definitely all the way and also
an angular 2 we have this this idea of
components that allow for a lot more
isolation so you can you can simulate it
in angular 1 like we did but you can
also not simulate it and then you it's
hard to maintain along the road so also
it's a lot more declarative so in
angular 1 there's no information in the
template for example about the bindings
and the events in angular 2 there is and
finally if I a tip if you're so for now
if you want to implement something you
should implement in angular 1 if you're
building a production app but if you
want to build it in a way that that will
be also easily converted to angular 2 I
suggest you look into the controller as
syntax which allows allows you to take
your controller and expose it to your
scope so you actually so in angular 2 we
didn't mention the scope at all that was
just behind the scenes in angular 1 you
do unless you use the controller as
syntax also that prevents stuff like you
get the dot notation which is the best
practice in angular 1 just by using a
troller ass so before parting before
leaving I just want to give you some
resources for angular 2 if you wanna
explore some more we there's some pretty
good blog posts on Victor's blog which
he's a part of the angular team also
ionic has a little series introduction
to angular 2 thought gram which path
Pascal is one of the people behind also
has information I have blog post on it
also I found this blog of this post from
angular tips on why angular 2 rocks and
though it also goes into a lot more
details and finally I feel I should
mention the angular / angular repository
which is where angular 2 is being
developed so
I i feel it's unrelated to tell people
to just go to a pro story and read the
test and read the code base yeah that's
how you learn a lot about the framework
also if you have any issues you can open
it there and finally if you want to see
the app you want to download it to run
it and so on and see so I have the
different versions in different branches
so it's on under my personal github or a
user names already have that / tourists
on a trip and yeah if you want to avoid
this doc we're told you can do it on a
mobile app and we're done so I try to go
through this fast to have time for
questions does anybody have any
questions about the angular 2 even
angular 1 anything I should yes well I
don't know if you need a mic
presentation yep is
bye so you need to make angular aware of
your service somehow so you can you can
do that in the app injector or in the
bootstrap function but then to inject it
in your function or your constructor yes
you have to use annotations with the
parameters but I'm not surprised if
people do helper method helper functions
like libraries that help you do that
also the next talk is about dependency
injection so maybe they have more
information on it but honestly like you
were you were doing something similar
with angular 1 so you were if you're
even either letting it parse your
function or make putting it in an area
so it's not all that different so so in
angular 2 the thing is it works a lot
more on types so as long as you have a
handle on for example a the people count
component yes you can have in another
file defined that the people count needs
this this stuff to be injected in it
though I would say that's harder to
maintain along the road because I mean
whenever you want to change the
dependencies you also have to go another
file instead of having its beacon
consolidated in one file
at the end of the day is JavaScript it's
very flexible so you can do crazy stuff
with it angular orientation we're all
student life these are not aware i would
say so what's great was angular 2 is it
integrates very well with the language
so you just when you inject something
you just give it any random function and
in this by default it will instantiate
the function with new but you can have
your own recipe so you can say that this
jquery function is actually nothing more
than the value so just like an aguilar
one we had that value in with the new
dependency injection system you have
things like bind jquery to jquery and
that will just bind it as a value and i
think that in the next stock you'll see
more about this any other questions yes
somewhat annotations are allowable apart
from the components of any other
language please there's also a directive
annotation so while components are a
component in an application a directive
is something that changes an existing
element like ng4 is a directive and also
anybody could create their own
annotation it's actually just a function
that is put on the on another function
I'm not sure of any other annotations
that we're using other than also inject
component view yeah that's that's pretty
much it i believe any other questions
yes
the factory
right
personally I don't know um so I'm a
contractor working remotely for the team
so I I actually was a time those time
zone difference the team meeting are
like at midnight so I don't participate
in all of them but so it's in it's in
Developer Preview for a reason and I'm
not sure if inside Google somebody's
already starting to use it though I
wouldn't be surprised if they did I know
in angular and the team we asked we've
did we've done a hackathon where we just
build apps with angular 2 and just put
are all issues that we didn't like about
the framework that we want to fix you
can you can well angular universities
happen get in a couple of days at San
Francisco you'll probably hurt here some
more news and I go to them so just keep
an eye on Twitter or anything else
carnival so a person
and
yeah that's probably she she's the one
working on it so yes used to work on
yeah there's angular material I don't
know if any other component libraries
that are developed by the team but I
wouldn't be surprised was angular 2 to
have a whole ecosystem about it because
it's it's a lot more isolated there's a
lot more better standards if you well so
yeah for angular 1 I don't think there's
any except that google it except angular
material but that's it thank you
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>