<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>GOTO 2014 • Swift: New Paradigms for iOS Development • Marc Prud'hommeaux | Coder Coacher - Coaching Coders</title><meta content="GOTO 2014 • Swift: New Paradigms for iOS Development • Marc Prud'hommeaux - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GOTO-Conferences/">GOTO Conferences</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>GOTO 2014 • Swift: New Paradigms for iOS Development • Marc Prud'hommeaux</b></h2><h5 class="post__date">2014-12-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/hHxAMZONnmk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay let's get started hello everyone
good morning hope everyone enjoyed that
amazing keynote earlier my name is Mark
perdomo and i'm an independent iOS
developer I've been developing for iOS
since since the app store first opened
back in 2008 and before that I've been
programming objective-c for very long
time for that it was Java and I've been
writing code for about 30 years so I've
gotten around so today I'm going to talk
about Swift has you probably have heard
Swift as a new programming language
developed at Apple it's designed to
eventually slowly replace objective-c
and and was released back in June for
the first beta and only a week and a
half ago was it finally released to the
general public where you don't need to
be an apple developer in order to start
in order to start using it so it's
available for free for anyone to
download from from the mac app store and
this is going to be an overview of the
language so we're gonna start with some
Swift a look at some FP and then we're
going to do some tweet and some hof and
then we're going to bork and hope ur
ones following along and then i'm going
to leave a little bit of time for
questions i like to leave a fair amount
of padding for questions so if you do
have questions during the talk i do
encourage you to please enter them into
the go to app on your iOS device or on
your android and then at the end will i
rotate them all together and hopefully
we can we can cover quite a few of them
all right so flash bowl who hears a
programmer who hear programs computers
every one of you who here is an
objective-c programmer Wow probably
about half who here is a c-sharp
programmer about half and Java C++ C
Haskell yeah I like the diminishing the
diminishing returns okay that's a that's
pretty much expected so let's start out
with a tweet and now I'm pretty old if
in programming computers for a while and
admit I don't really understand what
this what this tweet stuff is but you
know somehow was totally different from
the twerk because that requires a
snapchat
it's all very confusing me but I thought
you know I'm learning new things I'll
jump in and I'll try to learn about this
this tweet and it seems pretty popular
here because it appears that everyone
going along and their bicycle at 40
miles an hour is doing it with their
head down without wearing a helmet so it
seems to be all the rage in this in this
town in this country so to the mold and
you know kind of added touch it right
this interview active see so the half of
you that speak objective-c recognize
this and the other half you probably
don't need to understand what the
ceiling because you will probably never
write it but you've got you know you've
got your normal interface and you've got
your implementation they go in different
files and you need to keep those files
in sync yourself there's very little
help and you've got you've got some
ampersands and you've got some square
brackets and it's basically a little a
little model of how you might do a tweet
so you have this tweet interface and it
holds username in a body and then down
there you have a tweeter service and the
tweeter service will tweet your tweet
and it's got a singleton and here's a
little demo of how you use it so that's
objective-c can congratulations to all
the people who have never learned it
before now you know all you need to know
and it's a it's kind of meh it's um the
language has evolved over a quarter of a
century very very slowly and has sort of
gotten out of touch with some of the
trends in modern languages so here is
that same that same code in Swift I hope
you all got that now you all know Swift
so this is not a complete introduction
to the Swift language we're not going to
get bogged two down into syntax and
details and how exactly you do things
this is more talk on how Swift can
change some of the ways that you decide
to compose and write your apps or your
you know your software your services so
to start out let's think about what is
the same in Swift as an objective-c
Swift has classes just like objective-c
is not breaking out of the
object-oriented paradigm be considered a
multi-paradigm language has methods on
those classes it has protocols which you
know see a c-sharp and other people
prefer to its interfaces as extensions
which are
which don't have a good analogy another
language has a you know what they call
functions as methods on on on classes
has a little bit of automatic memory
management it doesn't have full garbage
collection but it does have the same
sort of advances in memory management
using what's called automatic reference
counting and then it has closures which
an objection see we're known as blocks
so all this none of this stuff is new
it's all basically a one-to-one
translation from the existing
objective-c toolset that you all that
half of you know and probably a little
less love so here are some small
additions that Swift brings to
objective-c you have these new things
called structures structures are like
classes but they're different they're
value types we can discuss the
implications of that in a little bit and
you have namespaces finally you don't
have to be like cavemen and prefix or
classes with a couple of uppercase
letters that you hope will remain unique
throughout history and not conflict with
anything else and you have you have
constants you have a mutable constants
which helps for some working with some
immutable data structure programming you
have operator overloading there was a
few of you from C++ I'm sure half of you
hate it and have you loved it and then
you have interoperability with Objective
C so if does run in the same runtime as
objective c so it's not running on a
virtual machine or and you know some
sort of emulation layer it is running
the same process space as your existing
apps which allows you to once a
seamlessly but does allow you to
interoperate with your existing with
your existing iOS code so you can
incremental e adopt Swift over time and
then there's the big additions there the
things that basically don't exist at all
in Objective C or in you know some other
languages and these are the things that
that it really brings to the table in
terms of how you can start start
thinking differently about how you write
your right your software so it has
enumerations and enumerations are not
just regular enumerations they're very
powerful you know the kind of methods on
them and they kind of associated objects
which coupled with a very sophisticated
pattern matching specification allows
you to do some some very interesting
things you have optional Swift is very
heavily very heavily leans towards
trying to
encourage you to not have nulls in your
code anymore those of you who have ever
experienced a nullpointerexception I
don't know if anyone has I've had a lot
of no pointer exceptions and they're
rarely fun or expected and one way
around that is to let have no non null
ability and so it really encourages that
and forces you to explicitly declare
your properties is being gullible has
generics all you see sharp programmers
know and love it and it's a it's a great
addition to the language it really
allows you to to really tighten up your
code and really know what's going on no
more do you have a NS array where
hopefully it pulls all strings but maybe
there are some instant there and that's
fun has automatic type inference again C
sharp people are familiar with this has
a lot of built-in support for mutability
along the lines of structs has two poles
which are sort of like struct a light
we'll look at those for a second and it
has first-class functions and
first-class functions are other thing
I'm going to concentrate on today
because for class functions are the
thing that allows you to to really adopt
some of the more functional paradigms in
your development so I breezed over this
but let's look really quickly at this
bit of swift code that is the equivalent
of the objective-c service that that I
wrote before that that writes the tweet
so you have this struck that's a tweet
for now you can think of a struct as a
class this one's just holding some data
this one holds a username and a body for
the tweet that VAR means that can be
changed the let means it's mutable left
you create it then you've got my tweeter
service so don't you used to tweet the
tweet you've got a function that takes a
parameter called tweet and that is a
type tweet and then there's some magic
that happens in that implantation and
then there's a singleton here you know
you can get your single tweeter service
and then here's a little example of how
you might do it you'll create your
tweeter service you'll get the shared
service and make your message and you
send out your tweet and I'm pretty cool
so you'll notice a few more things or no
semicolons you know prefixing the
strings with ampersands there's the
ascii arrows or denoting return types
generally speaking type follows name
unlike say in Java where the name where
the type always precedes the name
and yeah I mean you can probably figure
out basically all this stuff by glancing
at it you know as I say you can pack the
language in in almost no time so let's
think about our our tweeter service and
let's think about you know let's think
about how we might improve on it and one
of the things we notice is that there's
no way to get any indication of whether
the tweet succeeded or failed because I
guess these go out over the internet and
then sometimes things can go wrong with
that it's not completely robust so we
need to figure out how to do it so we've
got this function this function returns
void because it has no feedback and so
you know I'm I'm you know it's a cs101
student and i decided i'll just have a
return of boolean i'll have it say oh
okay it a you know will return true if
the tweet succeeded in the pre failed
and then you've got that running in your
on your main thread on your app and they
click the tweet button and the whole
thing hangs and you have to start
thinking you know there's maybe a little
more complexity to this problem you you
typically don't want to use you know
synchronous methods when you're working
with things that might be slow and
unpredictable like network traffic so
you know we think a little bit about you
know how might we go about doing this
and you know c-sharp you probably use
some of the nicest a sync services and
objectives see you would have used the
delicate Pat bad old days and delegate
pattern is basically you've got this
protocol which is like an interface and
that is various callbacks along the
protocol that that will be invoked as as
various things happen right now we just
have one that is a you know returns
whether or not the tweet was successful
and then on the service you design a
delegate to it and then you tweet it out
and then that delegate would get called
back and you'd know whether was a
whether it worked or not and then you
can decide what do you want to do with
the user do you want to you know let
them know if it a you know if they want
to retry it or if they want to give up
or something and you can do exactly the
same thing and Swift and you're going to
adopt these patterns in any language you
can have a you know a set of delegate
methods a callback set that wound up
getting called so you know you can you
can do all that but you know meet in
recent years all of the mainstream
languages have been getting functional
features attached to them
in you know in Java is lambdas in
objective-c it's a it's a blocks in C
sharps closures but they're all
basically the same they're all a
deferred block of code execution and
they're very useful for specially things
like asynchronous services but also in
the breaking up your code into modular
chunks and this is functional
programming essentially functional
programming is a style of programming
it's not a set of strict requirements
there are functional languages that have
a set of strict requirements that very
little bit depending on which academic
academic person you're talking to but
one of the major prerequisites of a
functional programming language is that
functions are first class objects first
class objects means that they are on par
with your in store on par with your
strings or in part with your own custom
classes they can be passed around they
can be they can be you know manipulated
they can return other functions and
things like that so as I said it's a
style so you know you wouldn't say swept
to the functional programming language
but you would say it allows then almost
encourages you to adopt a functional
style for how you do things so let's do
a very simple thing that probably many
of you would have immediately you know
thought to do which is that lets our
tweeter service instead accept a block a
closure that will be invoked once the
once the tweet is complete so in this
case the syntax for a closure is that
it's a function that accepts a single
parameter a boolean type and then in
this case or turns void so CI so here's
an example of how how this might be used
you've got your tweeter service and now
you've got your new boolean to void
function parameter for the tweet and
then you've got this done function and
that's a variable just like any other
variable and that's of type this is just
a single type parameter boolean returns
void and then here we're signing the
variable is something success in your
naming that parameter and I believe in
c-sharp you use 0 equals a arrow which
is better syntax but they chose in and
then and then we do you know something
here you know successful and failed and
then we send out the tweet
so you can you know shorten this is a
lot of there's a lot of mechanisms for
compacting some of the things you do
they have a lot of useful shorthand here
you're doing the same thing you're
attaching it in line into the into the
invocation of the service and then here
your EV even more compact if your last
parameter of a function is itself a
closure then you don't you can declare
it out of line almost as if we're a flow
control statement so a in addition you
don't have to name your parameters you
can just use this dollar zero which is
the first parameter type inference lets
you know what that that's going to be a
boolean and then here we just use a
Turner recent ex so this is basically
doing the same thing you're sending out
a tweet and you just print out whether
or not them whether or not it succeeds
or fails and this is a higher-order
function however function is merely a
function that takes other functions same
you know in good intraductal c function
that except to block that's hired or
function if you have a c-sharp method
that accepts a closure then that's a
higher-order function so the functional
style of programming is about composing
functions and transforming structures in
order to accomplish a task let's think
of some of the very popular higher-order
functions that people often talk about
especially in the functional world and
these are map filter and reduce that
everyone everyone knows and loves in the
functional world it's not very it's not
yet very commonly used in in at least
the world of objective-c development and
these are we sound a little bit a
highfalutin and abstract at first but
all they really they're extremely simple
you could write each of these function
implementations in you know it doesn't
are less lines of code at least see map
in the filter one all map does it takes
a bunch of stuff and it turns it into an
equivalent number of a bunch of other
stuff so it takes ten stuffs in terms of
ten other stuffs filter takes a bunch of
stuffs like ten stuffs and it turns it
into 10 or less stuffs but are the same
kind and then reduce sort of compacts
down all the stuffs into a single thing
in some custom
customizable way so that's a little bit
abstract so let's think about a
application I mean we've written this
really robust Twitter service this uh
you know model layer and this API layer
so actually I'm learning a lot about how
Twitter works and what you can do with
it so I think it might actually write an
app it'll via you know here twitter is a
great platform for third-party
developers to develop for so i'm going
to i'm going to write my own twitter
client and i'm going to and i'm going to
ship it on the app store and it will be
it will be pretty great so i'm going to
be location a specific i'm going to
target the danish audience so I've got
my group of beta testers and I've got
one of the more famous stains out there
on the internet name is Hamlet and and
take out my app and he's a you know
writing to paraphrase with some of his
more famous things he's sending out
tweet tweet tweets and then you know if
it works maybe he'll be and maybe if it
doesn't work maybe says not to be but
but that's the question for another day
so oh you know he's able to he's able to
do this a lot you know all day every day
tweet out a bunch of other stuff and he
wants to expand that beta tech to a
little to no to some of his friends so
we can get a second line of fate of
testing so we go to his very good friend
Polonius and Polonius is not known for
being very succinct in his words and you
know here he's sending out trying to
send out a tweet direct message to his
son Laertes who's about to depart for
France and he's got a lot of great
advice that you probably heard about
like neither a borrower nor a lender be
and and I don't see why this won't work
but you know I'm fairly new to Twitter
and then this happens so it turns out
that Twitter limits you do 140
characters for messages that you send
out on the internet which is which is
kind of nuts to me because I thought the
internet was getting faster and that's
lower and things like that but you know
it's a that's the process we have to
work was so now I'm thinking that maybe
I'll do some cool i'll do some locale
specific compression of tweets and send
them out send them out to two
reduced size than they were originally
composed so I don't actually know a
Danish but Americans are known far and
wide for having a great ability to learn
and start speaking other languages and I
do know a little bit of Swedish because
when I was growing up we had a great
series of educational programs of a
gentleman who would teach both the
Swedish language and Swedish cooking he
was a fantastic fantastic resource are
there any Swedes in the audience right
now I'm told on wikipedia that squeeze
get tired of people Americans
approaching them about the Swedish Chef
but it's a very beloved character in our
in our society so you know one of the
main things that you learn from the
Swedish Chef is that most words in
Swedish are actually a single word are
just Bork he says bork bork bork when he
starts the process he says bork bork
bork at the end when something goes
wrong and and so that gave me an idea it
seems like he could probably reduce
everything down to work now I'm not dumb
I know Swedish is an entirely different
language and Danish so you know I did a
little bit of research and I discovered
this is a pretty close translation
equivalent so we've got pork so armed
with that a degree that I spent like
half of my research and development
budget on coming up with us so it's a
it's pretty good and thinking I might
get a patent so let's look at some some
higher order functions with working so
we've got our our tweet body and the
tweet body is blown uses long message
and we want to we want to translate this
using our new translation algorithm so
the first thing we want to do is we want
to split it up into words and we do a
fairly naive splitting of it where we
say there's a built-in function and
Swift called a split and it takes a
bunch of stuff doesn't every string
doesn't have to be you know any
particular type it just takes a thing
and then you have a closure callback
that accepts the individual components
of the thing
then returns whether or not that should
be considered a separator so we're going
to we're going to use this to segment up
the body into individual individual
words more succinctly you can just say
dollar 0 is equal to quote quote because
using type inference it will it will
know what the type is so that's pretty
pretty cool so far we've got a bunch of
words pretty advanced NLP stuff right
there and now we want to reduce it down
a little bit because in my research I
discovered that usually longer words are
important ones and you can just sort of
drop off the shorter ones because rarely
are they there the the ends and the does
and things like that so we're going to
filter it down filter again is reducing
a list of stuff into a list of the same
kind of less stuff equal or less stuff
so here we are saying filter and you
pass in a parameter word and the count
elements is basically in the terms of
string is saying how long is that string
and a word greater than 7 characters
we're going to we're going to check out
and so this big words array is going to
be the filtered out list of words that
that has seven or less characters now
here's the here's the amazing part we're
gonna we're going to perform the
translation right here and we're going
to do that by saying map and what map
does it takes a list of a bunch of stuff
and it turns it into a list of a bunch
of other stuff of the same kind this is
where say like Google my you know query
you know some sort of dictionary and use
like context-sensitive translation of
words and things like that but they
haven't done the kind of research that I
did where I've learned that every word
is actually Bork so I'm going to map all
these big words into Borg and the last
thing is the the function that people
sometimes have a little bit more
difficulty with which is reduced in this
case reduced is going to just be
combining everything back into a single
string for me but reduce essentially all
it does is it takes a list of stuff and
it turns it into a single thing it did
reduces it down so in my reduction here
in the is kind of small but um it is
taking two string
and it's just appending them together
you can get more succinct by saying the
combined function takes dollar 0 plus
dollar one you get even more compact
because in swift functions operators are
functions and so in the case of a
operator that accepts you know one type
on the left and one type of the right
you can just swap that into a closure
that accepts those two types of
parameters so what we do next is we
compose the function as a series of
operations so the first thing we do is
we bring it all together we split it up
into words we filter it down if we
filter out all the large words we
translate everything into bork and when
we turn it back into a single string and
then in this particular case we are able
to were able to send out a tweet in the
acceptable number of characters we have
125 characters and Polonius is able to
send some very very helpful advice to
lay our T's on his on the eve of his
trip to France and that's that's what it
looks like and I'm sure lay RT is going
to be able to understand that and and be
able to make great use of all that
wisdom that his father is sending out so
I'm what I mean everyone here knows you
could do exactly the same in any other
in any other language the not doing any
magic that you couldn't do anywhere else
so for example in Objective C here's how
you might perform the same operation you
go through you know for individual steps
you've got a lot of looping you have a
little bit of branching you go through
and you break up the word and things
like that so you could do it in a simple
objective c you can make that a little
more succinct if you're using some of
the conveniences that cocoa programmers
learn like there's a built-in mechanism
for splitting up strings based on a
separator there's a you know you can
pass a block to a filter and you can you
can reduce it down so you can do this in
Objective C or any other language but
big difference is you can make this very
succinct and you know with a little bit
of experience extremely readable you can
glance over it and say okay what is this
thing doing
the other thing that this is doing is
that there is no alteration in state
anywhere here you're not changing any
underlying data structures that usually
came into you're not creating you're not
directly creating any individual arrays
and then modifying them and subtracting
from them and and having to having to
mess around with state when you avoid
having to create and manipulate state
you make your code much much simpler you
wind up writing a lot less code and with
less code less really is more when you
have less code you have fewer bugs you
have fewer you have fewer maintenance
issues it's easier to understand is a
lot it's just a lot more succinct so
when you're looking into adopting
functional programming styles one of the
things you want to do is you want to
think about how can i write less code
how can i how can I stop looping how can
I stop branching how can I reduce my
state manipulation that goes on within
my program and you'll find with a map
and reduce and filter you can actually
eliminate almost every loop that goes on
in your code you can really you can
really a dropout just a ton of
boilerplate that you might be that you
might be having written over the over
the years so in general these sorts of
paradigms have been working into all the
modern languages especially some of the
more experimental languages they run on
the JVM like Scala c-sharp is is doing
amazing things with with you know
closures and things like that everyone
is getting hybrid functional features
worked into their object oriented
languages and Swift is certainly not
unique in that regard but there's a it
is a bit unique in that is one of the
first new languages designed for like
industrial app development that has
these concepts built in sort of baked in
from the very beginning and that allows
you to more fluently adopt some of these
styles as you go along
so I should say that I'm not a paid
Swift evangelist I'm just personal
enthusiast whose happy not have to to
write objective-c very much anymore if
at all and there are a few you know
there are a few rough edges it is brand
new and there are bugs there especially
bugs with some of the IDE integration
with the executed and things like that
so that that can make it a little bit
cumbersome to get up and running with at
the very beginning bridging as I
mentioned before it does run in the same
process space as objective-c and the
other Coco libraries and that is a
fairly heroic achievement on their part
but a lot of these libraries have been
developed over the past quarter century
they go way back to the era of you know
next step and you know all the all the
objects prefixed with NS sets from the
next step days back in the 80s and that
is old and tried and true code that's
gotten pretty bulletproof over the years
but it is not idiomatically similar to
Swift you you will know you may have
noticed in some of that of judges see
code that you have very long method
names weird script errors on the side of
terse method names so some parts of that
bridging can be a little bit cumbersome
to work with there's no more dynamic
dispatch one of the things that
objective-c people often like about the
language that it's extremely objective
is extremely dynamic um you pass
messages to objects rather than you know
invoking method and you can you make
heavy use of duck typing and so you can
have a a type of an object and you can
just sort of pass a message that you
don't necessarily know if it will
receive or not and maybe that can proxy
that method somewhere else it allows for
a lot of power but it also allows for
low changer and it's a it's a tradeoff
swift swift really has lost almost all
of that you can't do many of these
things as with a err on the side of
getting to be having more strong typing
and less kind of cowboy coding with with
some of the stuff that you can do in in
objective-c and the major
are coming right now in my view is that
there's just no built-in error handling
there's no exception handling there's
not even really a documented best
practices for how you should handle
errors and that makes a that makes
dealing with error conditions a lot more
cumbersome especially in terms of you
know when you have to interact with
maybe someone else's with libraries and
more and more will be coming out you
need to think about how are you going to
bridge your mechanism for error handling
with their mechanism I personally
predict that you know that that will
will change over time but as of now
version 1 point 0 released a couple
weeks ago there's no built-in solid
error handling so that's kind of a
that's kind of a shortcoming of Swift
right now so with that those are what I
deem the shortcomings language and I'd
like to get to any questions that people
might have in the audience either are
there any questions entered in through
the app okay Swift I would answer pretty
clearly there are pros and cons right
now there's a ton like if you get a look
at stack overflow or something there's
perhaps 10 million answers about
objective-c and there's maybe 10 answers
about Swift so there is a lot of much
larger body of you know existent
objective-c wisdom and source code and
example code and things like that out
there but I don't think that that
outweighs the that outweighs the
benefits of learning so first off it's
going to be a lot easier to learn if you
know already know C sharp or something
Swift will be I mean you'll be up and
running in a day it's it's not a complex
thing the complex part of building an
app isn't this a language it's all the
user is you know the the frameworks that
you work with the platform provides
Android has this whole you know massive
set of things and you know net has its
all you know all of his components and
how would the frameworks work and like
that and iOS has its own own own whole
world of user interface components and
mechanisms for
you know finding your location things
like that those are the difficult parts
of learning and they're going to be the
exact same learning curve either in
swift or objective c so i personally
think that you know apple apple said
this is the future of helping software
for for iOS devices and for the mac and
and I think that basically means you
should you should err on the side of
Swift okay so the question was is it
possible to write an iOS app entirely in
Swift one and two how about the
backwards compatibility one yes it is
you can you know if you open up Xcode
and you create or new a new project the
template will say what is your default
language and you can say Swift and every
single line of code in your app can be
can be written in Swift I've written
apps like that a couple and and yeah
what you know one thing I want to point
out though is you know mentioned
interoperability with Objective C you
can also in your project mix and match
Objective C so you can have some of you
have to see classes and you have some
Swift class if you want which is really
nice if you want to start migrating an
existing project so maybe you already
have a project with a hunter or so
objective-c classes you can just drop in
a single Swift class and you can and you
can start working with that there are
you know there are nuances of the bridge
there's some you know Swift constructs
that do not map exactly to objective-c
you know I mentioned that there were
structs structure things that cannot be
there Swift only so the bridge back to
objective-c can't understand your code
if it's using structs but if you use if
use classes and you subclass from from
nsobject which is the sort of root class
and your objective c then you can then
you can have sort of seamless
interoperability between the two the
other part of the question is what about
backwards compatibility the so sore what
runs you know natively on iOS 8 it does
run on iOS 7 i'm not sure if i or 7 or 7
dot one but the mechanism by which it
does that is that when you're building
and you're saying i want to be able to
run on
a 7 or higher it actually bundles some
of the Swift libraries right into your
apps your apps binary and so it loads
that up at runtime and it's able to
execute it sort of along the lines of
how some of the you know other other
frameworks that allow for cross-platform
development bundle in you know all that
all the libraries that it needs so it'll
increase the app size by a little bit
but aside from that it should be pretty
seamless is there another question
there's one from the audience right
right so when I said it doesn't have
dynamic dispatching I was not complete
it does have dynamic dispatching but
that is it's a bird from the from the
language so the way that it works when
you're bridging with Objective C is that
as i mentioned objective c you have you
know method on a class and those wind up
getting called essentially by name using
a dispatch table rather than like a V
table that you would have and in C++ or
a lot of other languages it's profession
you subclass from nsobject swift sort of
goes into dynamic dispatch mode where
any function that you declare on your
class will be dispatched by name so that
the objective c so the adjacency code
will will call into that so
theoretically there might be a little
bit of a memory and performance overhead
to it I've not observed any any
difference in behavior but but yeah it
does sort of go into dynamic dispatch
mode when when you are subclassing
objective-c a little bit in objective-c
world when you're working with with
stuff but mostly it's obscured from you
and similarly you know objective-c
libraries very frequently do require
some degree of dynamic dispatch from the
client code for example you have action
target patterns where you are specifying
selectors for what happens like when you
tap a button the only mechanism by which
you can declare those is a string in
Swift which is kind of a bummer but but
yeah that uses that same that same
selector selector
kizim does that does that answer your
question very good yes yeah you you you
so yeah you then have dispatch is
occurring when you're inheriting from
nsobject but you don't have any of the
you know patterns that people use were
like you have an ID there's no
equivalent of an ID where you can just
sort of pass any message to it or
something like that which which people
are using a lot when they're getting
things in and out of containers that are
using making heavy use of duck typing
like NS array and stuff so so yeah I I
was perhaps incomplete when I said
there's no dynamic dispatching there is
but it's not it's not quite the part of
the language that uh that that is
promoted are there yes like there for
what um no so the if you're familiar
sorry the question was is there any for
mocking and test frameworks the testing
support right now is basically a slim
port of the existing Xcode testing
frameworks which are not especially
sophisticated if you've ever used them
they're basically if you ever use j unit
is essentially a continuation of j unit
so mocking is not something that is part
of the language or of the developer
support however one of the you know
there are a lot of sort of burgeoning
Swift projects open source projects out
there and i know a couple of them are
are concentrated concentrating on
adopting some of these more popular
test-driven frameworks that you see like
in nodejs and scala and things like that
in Swift and some of swift's the ability
to overload operators gives you the
ability to create some degree of
domain-specific languages dsl's and one
of the popular applications is that is
making customizable testing frameworks
and i know there are a couple projects
out there that that i can look up for
you a few if you contact me afterwards
others question there
you
right so the the basic question yeah so
the basic question was in objective-c
you know as I mentioned there's this ID
this ID type which is is like a general
object type that kind of kind of can be
treated as anything but you have to be
careful because if you send a
unrecognized selector to it your whole
Apple crash unless you unless you handle
that and so the the questioner was
asking how do you work with those sorts
of objects when you're bridging to
objective-c so objective-c doesn't have
generics so you know you have an NS
array their their core list object and
that doesn't have any mechanism of
expressing the type you just have a
bunch of ID's in a similar for
nsdictionary some people might refer to
as a map or a hash they just have you
know Kizer die DS conforming to at least
copying and values or IDs and very
frequently when you're calling into
cocoa code you get back in NS array and
the translation into Swift is that you
haven't NS array of type any object
which is there a protocol that is
basically doesn't declare anything just
says it could be any object it's not
that nice to deal with it usually you
just that the quick way is to just cast
it and hope that there wasn't any
miscast you can run like filter on it
like i was showing before you can say
you know filter things out based on
whether or not it is you're positive
that it is of the type that you expect
but it is one of the sort of kludgy
areas of interacting with things you
basically have to do a little bit of
extra work to cast things now some of
the some of the bridging API is that
they've written they they have narrowed
down the types that it returns and so I
think in those sort of shims that they
have that do the bridging sometimes you
get back like an array of strings but
most of them are just a array of any
object though it's not great I expect
that that will you know over coming
years that will be addressed a little
better as a you know work out
the kinks in the bridge Oh there any
other questions from the audience okay
yep it's not good right now it's there's
something called mirror and as you might
expect mirrors how you reflect on things
and you get a little bit of information
out of mirror you can get some type
information and stuff but reflection
support right now is fairly weak and
that may be intentional because the
language does try to guide you much more
into you know a statically typed you
know strong strongly type static you
know direction rather than a you know
let's reflect on this thing and and get
back you know figure out what to do
based on what types the types hold but
it's it's a little bit it's a little bit
weak but yeah I mean you can you know if
you get edit in any object you can query
what kind of class it is and then you
can change your behavior based on that
decide how to cast so the question is
isn't mature enough for production code
yes I'm writing all my new apps I'm
working on and writing purely in Swift
time is extremely robust runtime you
know as I mentioned is running on the
objective-c runtime and that's sort of
old and tried and true with this own new
set of class libraries you know the
rough areas are really with development
right now but runtime I find to be
basically is bulletproof as you know as
the rest of if you're developing an
objective c jo I I'm personally very
happy with it so far at the end there
yeah so the question is what about unit
testing sort of going back to back to
the question there before there's not
any really great built-in support for
unit testing xcode itself has a testing
framework that has you know some sort of
nice reporting stuff like that but it's
not doesn't match the sophistication
that you have right now in other
languages with respect to the unit
testing libraries and the you know sort
of new patterns that you can you can
apply to it
there are a few good you know it's very
new there's a bi yo there's a load web
magazine called obj CIO which ironically
their last issue was all about Swift
that's a very good sort of overview and
introduction you know there are few
github projects out there but i think
the the really did the really definitive
resource are the WWDC this year in 2014
apple gave you know a number of talks on
swift and they gave three really great
talks you know beginning swift
intermediate swift and advanced swift
and you can watch all of those for free
on their website and they're highly
recommended they basically you know go
over you the language from first
principles regardless of whether or not
you're you know familiar with Objective
C and and they cover it really well and
they have a few examples in their
website they're posting more and more
over time but but yeah that that's a
good resource oh and apples a Apple
published book available both in the web
on their on their developer page as well
as in iBooks called the Swift program
language and that's basically the entire
manual for the programming language a
little more manually reading but but
very useful as a reference any more
questions at all ok I have about five
more minutes so I am going to do a very
quick demo of one of the great features
of Swift that that was introduced as a
great learning resource and it's called
the playground you probably expect you
probably heard of it and so so the
playground is a special mode in Xcode
which is apples apples ID and it's a
really fantastic resource for initially
learning the language it's essentially a
little scratch pad where you can just
kind of type and it is executed as you
as you
type it if i want to write my first
swift program i can type 1 + 2 and the 3
and then that's a that's a pretty cool
pretty cool thing to do and you can do
let s equals string and then you can see
on the right hand side that is a string
and you can see that s 2 equals s plus
another and you can see that you unlike
objective c you have a nation
automatically in four strings which is
really nice and you can write classes
and functions and things like that so i
can do like a struct this is how i
actually wrote the framework for my
tweet tweet app so i can say you have a
struct us a tweet and you can say you
have a VAR says username it's a string
and you have a body and that's another
string and then you can construct the
tweet oops lowercase tweet where we've
got Hamlet and the body is words words
words worlds worlds worlds so this is a
fantastic research for beta resource for
basically picking up the language and
just sort of playing around with it
without having to muck around with
making a whole new project and a whole
you know at learning about Xcode project
management you can you know experiment
with you know let's strings equals s
comma s two and you have a couple of a
couple of strings and you can do strings
that map and you pass in you know say a
word in this is our little translation
thing that we wrote and as you type you
know things on the right-hand side start
to go grey until the compiler kind of
catches up with the with what you're
doing although in this case I think I
may have may have overcome the compiler
oops string and then yes okay typo you
can see our messages so you know in
terms of learning the languages of
fantastic resource for for just getting
up and running and experimenting with
syntax is seeing how some of the type
inference works and things like that so
if you just download xcode for free from
the mac app store you can just
immediately get started by doing a doing
new new new playground and it will it
will it will do that for you so with
that unless there are any other any
other questions ok yeah ok yeah yeah I
can do that I have three more minutes so
I can show an optional tip see the
optional type is as I mentioned they so
you like to encourage you to use
non-optional types so I have our stir
I'll call it a string even though it
knows it from type inference so now I
can you know variable so I can change it
to bar where you can change it to bass I
can change it to anything but I can't
change it to nil nil in objective-c is
null in every other modern language and
that's because that's because string by
default every every type is a non is a
non-optional type then the mechanism for
making optional is I believe it's the
same in a c-sharp is you tack on a
question mark and that indicates that
that is a nullable type the in the you
know what that's doing in the backhand
is that is actually making it a optional
it's a there's a type called optional
and that accepts a generic parameter and
that's actually a enumeration make sure
that's actually true yes it was an
enumeration and within a new friend you
I mentioned you can have enumerations
with associated types so you can switch
on an enumeration and you can say case
let's leave it some let X X or none
which is no so in this case I signed it
to nil and the enumeration said ok it's
not it's a
none type but if I commented out these
stringy equals nil you have is is a some
type so that's a lot of sort of overhead
to have just for optional type so they
have all this short handing where you
can just say okay i'd say string ? and
rather than having to switch on the
string you can do this if let i'll say s
equals scr print Lin s because if I just
try to do this you get an error saying
oops sorry printing the string well
print Lin is is not a good one but let's
say a string plus equals x so I'm going
to get an error because i'm working on a
terrible error that is a problem with
xcode but but you have an error because
it's saying spring ? is not identical to
I don't know why thanks I wanted to be a
bit integer but um but what is saying is
that I don't really know how to operate
on this optional type because you
haven't guaranteed that it actually
exists so if I say you know if I try to
pour any operation on it I need to I
need to make sure you know you know
let's look let us store 2 equals star
plus X so here it's a yeah I've not
guaranteed that it is a optional and
there's a couple different ways to deal
with it you do this if let syntax which
basically says okay with in this block s
is guaranteed to be non-optional your
set your doing what's called unwrapping
the optional you can also shadow the
same parameter which is sometimes nice
if you if you want to sorry chatter the
same variable name which is nice if you
want to if you want to just nest your
blocks of code in there that's unwrapped
another mechanism to do that is called
using an implicitly unwrapped optional
which is very dangerous and so that's
indicated by a ! so if i say you know
let s 2 equals string plus x i get an
error but then it says maybe you wanted
to maybe wanted to unwrap that optional
and say I really know that this exists
so you know continue going and this is
actually used a lot in the brain
to objective-c because ecstasy they may
have a use of being allowed to return
nil very often methods return nil when
when you know something failed or
something and and so you a lot of the
objective-c bridging api's have
implicitly rat unwrapped optionals but
the downside is that if it is no your
computer crashes with a well you know
you're not your computer the execution
crashes in off in a weird place so
that's that's some of the danger and
using implicitly optionals so that's
sort of the three minute introduction to
how optionals work with the with Swift
but but with that i believe i am out of
time 1110 so if anyone has any other
questions i'm around you know all day
feel free to approach me you can them
you can email me at em w p1 or sorry at
a market empathic calm and any up but
you can't follow me on twitter because i
don't know how to use it so thank you
all very much your time and one more
thing please do rate this session using
your your go-to app because it really
helps the conference out and it really
helps me out to know you know what if
people got everything out of it they
could have gotten out of it so thank you
again</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>