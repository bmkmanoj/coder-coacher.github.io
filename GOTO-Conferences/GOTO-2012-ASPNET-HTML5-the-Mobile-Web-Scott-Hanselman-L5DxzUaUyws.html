<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>GOTO 2012 • ASP.NET, HTML5 &amp; the Mobile Web • Scott Hanselman | Coder Coacher - Coaching Coders</title><meta content="GOTO 2012 • ASP.NET, HTML5 &amp; the Mobile Web • Scott Hanselman - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GOTO-Conferences/">GOTO Conferences</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>GOTO 2012 • ASP.NET, HTML5 &amp; the Mobile Web • Scott Hanselman</b></h2><h5 class="post__date">2012-12-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/L5DxzUaUyws" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi everybody thank you for coming here
today and I will do my very best not to
waste your time so this talk is about
asp.net and mobile I talked a little bit
about asp.net MVC and show some code
samples it's not specific necessarily to
asp.net I talk more about Mobile's so if
you're not into asp.net that's okay
my name is Scott Hanselman and I would
work on the azure and asp.net teams
I actually I work in Portland Oregon
which is not in Seattle Seattle is where
Microsoft is I live about four hours
south safely outside the Redmond reality
distortion field actually it work from
my home which has been pretty cool so we
all agree that mobile is a big deal it's
huge sometimes people don't realize
though how big and how fast mobile is
getting and I'll talk a little bit about
that there are in fact a billion mobile
subscriptions and that's a stupid large
amount a billion means effectively one
for every seven people on the planet
that's interesting but you might say
well that's only one out of seven but
what's really more interesting about
that is that there are a number of
people by which they are only using
their mobile device to get on the web
this is really interesting because in
emerging economies people are have
skipped things that the Western world
didn't have to skip so you know we had
some Wars and we built some railroads
and we had Wars and we built sewer and
water and things like that but there are
some countries in the world where people
have no running water in their house
they have no electricity but they have a
mobile phone
they actually have never had copper
wires running to their houses I have
relatives in my in my family who have
never had a landline because a landline
would be expensive they have a mobile
phone they don't have a computer and
they don't have internet at their house
but they do have a mobile phone mobile
only web users are becoming a huge deal
there are at least a quarter of the
people in the US that do not use
computers and instead you only
use their mobile device and by mobile
device I mean you know small phone big
phone small tablet fat tablet anything
from four to ten inches you know that
you can fit in your pocket if you have a
really big pocket but in places like
Egypt in emerging countries and you know
a third world I don't like that word but
you know places that have bypassed some
development and have jumped over like
India and Egypt they don't have
computers they have Pocket
supercomputers so you have to ask
yourself what happens when a potential
person who might be doing business with
you visits your website with their
mobile device what does that look like
and keep in mind also that a third of
China is like all of Europe and all of
the US and all they all combined so it's
a lot of people and there is nothing
worse than the feeling of visiting
someone's website on a mobile device and
having it be crappy I mean I think we've
all had that experience where we visited
somewhere and saw I'm never going back
there's basically two things that you
can do to make me hate you have a have
no no mobile site at all no mobile
experience or I'm going somewhere to a
specific link and you stop me and say
download our crappy application and I
say no no thanks I really really just
want to kind of go where I was going I
was in the middle of an HTTP GET if you
wouldn't if you wouldn't mind
IIIi don't want to be redirected to the
App Store okay fine I won't bother you
again
check don't bother me again and where do
I end up I end up on the home page of
their crappy mobile site even though I
asked for a deep link isn't it great the
innovation that we've seen that after
the iPhone in in in in mobile phone
design I think that it's fantastic that
the amount of innovation is
extraordinary truly okay so what can we
do as people who own websites who run
websites who design websites well
there's basically this is my belief this
is three official things that you can do
and these are totally valid first do
nothing this is a business decision you
could make
I'm gonna do nothing and I'm gonna hope
that mobile browsers get better because
if you maybe have a really slow
development process maybe you like to
tell yourself that you're scrum but
you're really scrum or fall we're doing
waterfall but if we do it very scrummy
and you know the project for the mobile
site will be done in 18 months well 18
months from now we'll all have like
eight processor seven-inch Android
phones and those will probably have
really good browsers so do-nothing
mobile browsers will get better that
could be the answer I could change the
client-side code I could actually change
the HTML and use things like adaptive
design or responsive design to change my
site without having to rewrite my site
that is one of anything you do changing
the client-side to adapt
there's lots of room if you want to have
like all this extra space here by the
way if you want to have a seat on the
floor I'm more than happy to enjoy guys
who are standing on the stairs or you
could target mobile directly you could
actually change the server detect the
mobile device and then do something
about it there so these are the things
you can do nothing change the client
change the server this is what happens
if you do nothing so this is Phil hack
as a friend of mine who went out works
for github this is his blog on a mobile
simulator so what's the very first thing
that you're gonna do when you visit a
site like that other than blow into a
rage and start yelling and you're gonna
go like that exactly you're gonna tap
you're gonna tap tap and you're gonna
zoom in like that right and I don't have
a touchscreen although I do sometimes
just move my face forward which makes me
feel like I've got like a surface which
is cool so you're gonna tap tap well
that changes the viewport I don't care
about this crap I want to see this part
here so I could set they what's called a
viewport tag
it's a meta tag that you said in your
HTML this is the least possible amount
of work that you could do you could go
to your existing website right now
probably an ad of you will see I didn't
even do it for my slide there there you
go you could just set the viewport tag
and then have
the tap tap be implied you're not
actually changing the site you're not
changing the flow of the site you're
just zooming in for them initially small
thing one line of code but I appreciate
that line of code and I appreciate
people who do it because it it's it's
it's saying that if they at least
recognize that mobile devices show up
now I switched my website over to a
mobile-friendly design when the number
of people that were hitting my site
reached 10% and some people say well
that's really small number only 10% of
your people are mobile it's like well
that means that one in ten people are
having a crappy experience on my website
do you really want one out of every ten
visitors to hate being on your website
so that was a threshold that I felt for
me was a reasonable amount of time and
the reason a lot of people rather that I
I would respect their decision if that
many opera users showed up I would
probably make my sign my site more
friendly to opera users but the two guys
that use opera that visit my site have
had no trouble at all with my site and I
really like both both of them they're
very nice gentleman sorry you can't come
up into this area of Europe and not pick
on opera I love opera though so this is
Phil's site with the viewport set right
so just zoomed in a little bit and
that's nice so what you can do though is
fix it on the client you can optimize it
for the current device and it requires
less duplication of effort I want to
show you some techniques with css3 that
you can do to make this happen
there's a big problem though depends on
how big of a problem it is when you do
use some of the techniques I'm going to
show you which is you're gonna change
the flow of the site so that it will
look great on mobile but it doesn't
actually recognize yet that you're on a
mobile device it thinks about screen
size that's the primary thing that css3
and media queries allow you to do it
says here's the CSS I want you to use
for a tablet and here's the CSS I want
you to use for a phone but that's less
interesting from the fact that I'm on
the edge network here if you guys
remember that I'm living in 1993 and I
have an iPhone
or but I'm on 1993 bandwidth and we've
got LTE and things like that so if I
visit my blog I'm gonna get this lovely
mobile site with these 1 megabyte PNG
screenshots that are completely not
respecting the fact that I'm on a mobile
data plan overseas so not only is it
inefficient usage of bandwidth but it
doesn't even consider that there's
differences in the mobile and the
desktop this is an example of a really
crappy design that I saw when I gave
this talk in Russia this is just a
basically a massive site that Scrolls
down forever but it's it assumes you're
on a 1280 system doesn't even assume
1,024 so you end up kind of zooming
around like you're like you're like a
little magnifying glass as you wander
around on their site it's just awful but
given that it's columns of text it would
really lend itself to a mobile redesign
I hired a designer to work on my site
which by the way I mean seriously love
your designers give them hugs because if
you're a programmer who thinks you can
design you probably can't the and one of
the funny things is that I designed my
first web site and I thought it was
great and I was patting myself on the
back and and then I had a designer I
paid them like actual money and this is
another important thing pay your
designers actual money
don't ever say oh well you'll get lots
of exposure and I'll put a link to you
at the bottom they don't like that so I
you know I saved up and gave him an
actual sack of money I was a burlap sack
of cash and he denied and then after he
designed it all these people came out
and like your site sucked before it was
like that for like six years and you
never said anything well I didn't want
to say anything because because I knew
that you had done that you know but the
second I had an actual person who knew
what they were doing design it they're
like oh man it's so much better I would
always visit your website and I would
throw up in my mouth it's like really
thanks thank you ok so I'm running at a
thousand 24 ok so in order to simulate a
larger screen I have zoomed out ok so
don't worry about that the fact that you
can't see that that's not representative
of my site I have zoomed out to pretend
we are on a large screen
now if you notice up here at the top
there are some menus okay and then
there's this right-hand rail this is
where I sell out and I have like ads and
stuff now if I start resizing this see
how things pop there's a breakpoint at a
thousand twenty four right there and my
face disappears in the whole right rail
disappears now I'm gonna make this
normal-sized there's normal size okay so
this is the design at the normal size
what's the orange menus as they get
squished where did they go
well they turned into a drop-down using
an HTML tag that no one ever used is
called opt group one of the most useful
HTML tag but no one ever uses it like
find an HTML person at work and test
them and see if they know how to use opt
group without looking it up what I did
is I took those that UL that unordered
list it was menu item item item and menu
title and item item and then I just took
the ones that were that top menu and
turned it into an option group so those
are actually unclick Abal see these are
clickable and those aren't and I do that
dynamically that way I didn't have to
rewrite that all the time if I change my
menu it automatically does that what's
cool about this is that if you go and
visit this on an iPhone or on an Android
phone or on a Windows Phone I'm using a
native control it seems like a small
thing but why would you want to use a
native control people are always doing
owner draw custom CSS for a drop-down
menu well there's a perfectly good
drop-down menu that already works why
not use that I really think that when
you do mobile designs you should
consider the fact that they've optimized
things like that so I'm just gonna visit
that real quick on this on this phone
here and we'll see this will probably
cost me about forty five dollars to do
this demo right now
thank thank you AT&amp;amp;T and if I click on
the drop down
I get the little Apple drop-down right
there and it looks like it on Android
and it looks like it wouldn't supposed
to look like on a Windows Phone I like
that I'm a big fan of native controls I
could have done an owner draw I'll give
you an example of what an owner draw
site looks like we took the asp.net
website which is like our our portal for
asp.net developers and this is where our
forums and stuff are and we've got this
menu at the top and when I make it
really small hits a breakpoint and it
becomes responsive this is called
responsive or adaptive design you see
this right here if I click on that we
get this drop down that's when I say
owner draw totally custom divs and stuff
we did it that way and I didn't have a
lot of feedback but I personally am NOT
a fan of that native controls give
people a much more friendly experience
in Android people feel like you care
about them more not that you shouldn't
I'm just saying so the media query is
really really easy and if you know CSS
this is another example where you can go
and pull something like this off in a
day this is really great one of the
themes that is going to go throughout
all of my talks and especially this one
is that these techniques are so simple
that you could tell there your boss that
it would take a week and you could just
say I you know I really need to work
from home and you could go home for like
a week and you only have to write like
that little bit of code and then you can
come back and go home and it was so hard
so hard here was just saying well I'm
gonna have a media query here for the
screen and when things are at the max
width of a thousand 24 and you can set
it any way that you want use the CSS
that's inside of that block it's
cascading style sheets and in this case
we're cascading based on size so the
simplest possible thing you could do
right now is say display call a none and
apply that to your right hand rail and
just make it disappear I'm not saying
that that's the ideal design and we
should all do that but I'm just saying
like just to prove the point you could
show your boss like book it disappears
it makes and they call that's great go
we'll make it even better there's a
really great website for inspiration
that's called media queries
it's one of these ones where they took
over someone's top-level domain so in
this case it was Spain so it's not media
queries calm it's media query es because
that's the cool thing to do like Flickr
in the short code for Flickr like FL I
see a dot K are they registered in Korea
whatever I think it's kind of weird
media queries is a website and this is
an inspirational website it is literally
just a list of cool websites that change
based on their size and this is kind of
the standard way for a designer to
express to you what an what your media
query would look like they have these
breakpoints desktop narrow tablet and
then phone and some of them are really
really interesting you can see like in
this example we've got a huge categories
menu they completely change the layout
of the books from being left to right to
being top to bottom categories menu get
squished the books end up in a row and
then here categories turns into a
drop-down on a phone and there are
dozens and dozens of really really cool
ones somewhere they'll change the flow
somewhere they'll change menus some of
the entire site changes based entirely
on media queries here's one where they
actually don't show a picture of this
friendly guy because it's gonna use up
too much too much bandwidth and you look
for a an IDE that has really good
support for CSS this is some of the
support that we've got for CSS in visual
studio where a little movie didn't play
no did it play once and then stop this
is what happens you go and you make a
fancy slide with a movie the plays in
the background and it just doesn't even
do anything that's just sad nope forget
you PowerPoint you suck
I'm gonna make me actually do the work
do-do-do-do-do so now I'm gonna say
media tab that was what that movie was
for to express to you that amazing
snippet nothing that powerful
yeah a PowerPoint now there are a lot of
really cool existing templates that you
can apply now the hardcore designer will
go and do this stuff themselves but if
you're insisting on doing something
yourself one of the websites that I
recommend it's called get skeleton and
they have a mobile boilerplate that's
for responsive designs what they do is
they set up this grid layout it's like a
960 grid and you just take your divs and
apply them and then they'll
automatically handle the responsive
design for you automatically resizing
your stuff so for websites like my like
my podcast where I actually haven't got
a designer to look at it yet I just use
skeleton and it automatically resizes so
that's oh that's an easy way to do
things on the client you want to adapt
with those changing screen sizes now if
you were a business that had a product
catalog you're gonna have some issues
with your images and your images are
going to be big and they're gonna get
downloaded but they're still not going
to they're still gonna cost the person a
lot of bandwidth so for example this
this screenshot here is a big PNG and if
I resize at a breakpoint right about
there you see how it I changed the
wrapping in the CSS so I dropped all the
text down and then as I get smaller you
see how that squishes so this works
really nicely but have I really changed
the size of that image there's specific
CSS to resize that I even have specific
CSS to do resizing of YouTube which is
one of the things that people very
rarely do it's a little attention to
detail trick you can actually apply CSS
and reach into the iframe and resize the
person's YouTube and I've got examples
of how to do that on my blog
but what what would have been the ideal
thing to do this is just a blog no one
no one reads this what if it were a like
the IKEA catalog or something and people
were hitting this like millions and
millions of times a day and I've got
these giant graphics that represent a
product what I should do is I should
sniff on the server side what the size
of the screen is I should have a
database that says oh it's a Nokia
whatever and it has a screen that's this
big and I should send them specifics of
a certain size of graphic for big images
that would be really important you also
want to make sure that you think about
things like retina displays this image
here was done as a Retina display so
I've actually got two versions of that
logo and I use CSS not just to look at
the size of the screen but also the
pixel density is Bo Wiener you've all
probably done this before with a newer
iPhone you visit a site and then you see
that the graphics look a little Jaggi
because they're taking a graphic that's
a hundred by a hundred and they're
making it go 400 by 400 and it looks
Jaggi you can actually detect that in
CSS and then apply high-resolution
graphics to it which is another thing to
be thinking about those little bits of
Polish are going to become more and more
important because we can see with the
iPhone there's different sizes of screen
there's different densities of screen
and now we're going to have 7-inch and
10-inch and all this stuff screen
density screen sizes needs to become
something that you think about but at
some point you reach the limit of what
you can do by just rearranging CSS
there's only so much you can do with
clever design maybe you're doing a a
polling application or a data entry
application and you really want it to
look like a mobile app at some point
your website now wants to become a web
application perhaps you're going to use
something like PhoneGap and you're going
to try to make an app and put it in the
store and you want it to look like
something well you can fix it on the
server and you can send back custom
mobile views and jQuery Mobile is a
popular example it's the example that
I'll use but also things like kendo UI
are in Sencha there's lots of different
ones the point is if you haven't played
with mobile style sheets or mobile
frameworks don't make your own that
seems really so
to say that because I feel bad that I
even need to say that but it is amazing
how many people who are doing something
like a product catalog for IKEA but
insist on writing their own mobile
framework when that's not even what
their business is there are super super
smart people who have solved these
problems and are constantly trying to
solve these problems yeah so I would
seriously encourage you not to write
your own mobile framework use someone
else's I don't care if it's jQuery
Mobile pick someone else's especially
when it comes to things like those those
graphics sizes I had given you the
example a moment ago about sniffing the
browser and then sending back a resized
graphic that would use less bandwidth
soon there there's a lot of talk about
the HTML spec and changing it either in
HTML or in css3 so that you could
somehow detect and know what the
bandwidth is and have a low source tag
I'm not sure if anyone here is old
enough to remember that that was one of
the great the great tags of the early
90s you say image source whatever and
then remember this one
it's a shame we actually stopped using
that tag and this is now when we finally
need that tag low source would give you
the low res version because this is back
when gifts would come in one line at a
time so you would send like a black and
white you know dotted version and that
would come in low source and then later
on you'd bring back the color one that's
officially in the spec and no one
supports it for any reason and now we're
trying to figure out how to do things
with them with low bandwidth situations
it's kind of a shame so if you fix it on
the server you get the maximum amount of
flexibility you can send people custom
views that are specifically organized
for their devices unfortunately though
it can be a little bit repetitive
because if you're doing things in either
rails or in MVC you might end up with
multiple sets of views so you might have
product views mobile and product views
tablet and product views for the desktop
also device detection is difficult if
you do it in the general sense if you're
trying to hit you know iPhone and
Android then you can get 90% of people
but if you're really serious about doing
device detention detection then you need
to get a company and buy their database
a company that I like out of England is
called 51 degrees
and they sell a device database and they
have all the details about like and if
it really matters and you want to hit
everyone like does this device support
mp3s or transparent PNG s and exactly
how how wide is the screen all the
little details about that device so
let's take a let's take a website that
sucks and make it suck less I don't even
know if that's needed I forgot about
that well go ahead and comment that out
cuz that looks scary alright so this is
a silly little conference website do to
do to do you and it's a desktop version
of the site and I've got like you know
browse by date browse by speaker and I
can click on a speaker and then see a
table that shows the things that that
speaker is talking about and then I can
click on the tag and then see the
sessions by tags so it's kind of a cube
of data this is real common in anything
whether it be a product catalog or a
speaker list I can go by person by
category by date by room and spin this
cube around now if I were gonna take
this though and put it into a mobile
device this is a thing called the
electric plumb mobile studio electric
plumb con these guys are awesome and
they have an iPhone simulator for the PC
that uses a custom version of chromium
to simulate an iPhone and it also
supports things like geolocation and
stuff you can see that this site sucks
pretty badly and there's no amount of
pinching that's gonna save me here this
just sucks
I mean it's usable but it's embarrassing
right so if that's a lousy experience
but what are some things that we could
potentially do with that well in this
case I'm going to use asp.net MVC and
I've brought in a thing called jQuery
Mobile
MVC it's a it's a package we use a thing
called new get it's like gems for dotnet
and we bring in jQuery Mobile and it
drops in this new layout so this layout
that I've got here is called layout
mobile this is like a master page here's
my main page for my desktop site and it
brings in jQuery
here's the exact same thing except it's
layout dot mobile so the only thing
that's changed is the file name there's
no config files or anything and we've
got a mobile CSS bundle there this is
the bundle of all the different CSS and
all the different JavaScript that we
need to make this look nice and also got
jQuery Mobile over here so here's my
jQuery and and where's my oops now I've
just broken oh that was a horrible thing
what have I done I've just drugged
something from one place to the other
well we'll see if this works there's no
undo when you make a mistake that badly
oh that's this is gonna be fun for all
for all of us oh sweet sweet merciful
lord what has happened you think I
dragged packages into models did I
really yeah Wow
let's just all pause for a second and
panic shall we okay how will Scott
handle this done tada Wow
that would imply I was using source
control
which would have required thought and
thoughtfulness on my part no my source
control consists of these zip files sir
but I respect that you you you think
that highly of me that I would have
source control this is where the whole
thing goes horribly horribly wrong okay
so that's something okay dad I'm
freaking out
yeah okay I'm just gonna move a little
slower and this is probably gonna be
just a train wreck go ahead and push
stop on the video that we're recording
now because there's no way that this is
gonna go well for anyone and then he
fell over oh I could totally could tie
me like I'm diabetic oh no I feel sick I
could totally use that can I get some
juice please I think that would probably
be rude to do that all right
you think so all right duh okay so this
here is the same thing except with a
slightly different layout let's go ahead
and make sure we prove what exactly just
happened here I'm gonna add some text
just to prove the point
okay now that does not appear over here
okay
so what we've done is we've got a
totally different layout that is
happening except the body is being
rendered with the existing stuff that
makes sense
so just by virtue of the fact that it's
mobile the layout has changed except the
center part there still comes from the
same place in this case it's coming from
index this is some text refresh and
refresh
so I have a mobile layout but I have the
same partial view that's happening
inside and that might be okay that might
be acceptable but it might also be
slightly cheesy if I brought in some
some navigation like this oops that's
not navigation bring in some navigation
because I'm not gonna spend too much
time typing because I think you believe
me that I can type well with this
performance you probably don't believe
that I can type but still let's just
assume for a second that I've been
coasting on charm for the last 20 years
of my career and well I kind of have but
yeah and he can he can barely type and
I'm so I dropped that menu in and it
kind of it it basically looks crappy on
both devices so you know achievement but
what I could do is I could apply these
little data - annotations and this is a
thing that is unique to jQuery Mobile I
kind of like it some layout systems have
CSS classes that you should remember so
you would say div class equals something
mobile e and you would get a mobile
experience what these guys do is they
say well this is going to have the role
of a ListView
so this unordered list has the role of
being a ListView and just by virtue of
that fact they will detect that and they
will show something different but I
don't really want that it's for my
desktop so what I'm going to do instead
is I'm going to take that away I'm gonna
go over here and I'm going to bring in a
custom mobile view that way I'll use
jQuery Mobile in one place and not on
the other so here I am totally the
desktop okay
and then I've got index mobile and that
index top Mobile is actually index dot
some magic string I'll show more about
that in a second so here I've got I am
totally the desktop and over here we've
got an actually halfway decent looking
man
and you notice how it inherited that
style just by virtue of the fact that it
had that data - in fact I can change
that theme
they're called themes by going into the
layout and it says your data theme a you
can go and download different themes and
change the look and feel of it now in
this case it still looks like jQuery
Mobile but you can theme that however
you want your designer can create a
jQuery Mobile theme if you go to the
roll X site at M Rolex com that whole
site is actually jQuery Mobile but it
doesn't look like jQuery Mobile it
totally looks like the Rolex brand
so unfortunately jQuery Mobile has has
become so popular that people will just
use the default theme and then you just
you go to the site you go yeah that's
jQuery Mobile
it's like Java default buttons or like
back in the day Borland had like the
little green checkbox on there okay
button and you know you wrote that in
Borland he so you should put a little
work into your theme and try to make it
match so use the things that are good
about it but then change the look and
feel so it matches what you're trying to
accomplish so here just by virtue of the
fact that it's called dot mobile it's
picking up that stuff now I can go into
that home page and start moving myself
around but I really want to switch back
into desktop view because I might want
to be able to do the debugging on a
desktop machine or see desktop on mobile
so I've got this view switcher I can
click on that view switcher and now I've
got desktop on mobile because sometimes
you want to be able to do that but here
I am now on the desktop and I have no
way to get back right so why is that
well this this view switcher is a
partial view and these are real common
on sites like this I want to make sure
that that exists on the main layout as
well so that when I'm on the desktop
I've got a way to switch back so I'm
going to drop that into the desktop and
come back over here and now I say
displaying desktop and I could switch
back and forth and that mobile view is
just super simple all it's doing here is
it saying
if it's a mobile device can you switch
back and forth between mobile view and
it just sets a little cookie but this is
an interesting line here if it's a
mobile device so what does that mean to
my application here here I'm in desktop
mode and I can see a view switcher but
over here on the desktop browser I can't
maybe I want to debug that so I'm just
gonna comment that out so I don't care
whether it's a mobile device or not I
want to make that work for anything so
now I can do the debugging of my mobile
site using my chrome tools or whatever I
want and then later I could switch that
back and forth so that's kind of nice so
we switch back to mobile view and then
we'll go and look at something like a
list of speakers so here we are again
with a mobile layout except it inherited
that desktop speaker view the list of
speakers is pretty basic we go look at
speakers all it's doing is it's saying
for each speaker it's not anything
particularly fancy but I could take that
all speakers and make that mobile as
well and all I'm gonna do to make it
mobile in fact is just add this data row
list view so it's actually identical to
before and hit f5 and now I've got an
attractive looking site so at this point
your boss is starting to become
suspicious that maybe you're spending
too much time working from home and
you're doing all the easy stuff so he's
gonna give you something really
complicated and he might say this is
great good job with the mobile site but
I really want type-ahead search ability
you know so I can start typing and have
it filter the site and all that kind of
stuff this is where you say wow oh yeah
I'm gonna have to probably re architect
some Java Jason Internet XML
you just got to make the make him
confused all right and then you go in
and you go like this but but when you do
that you have to leave for like three
days and don't ever let him see the
source code and if your boss is like my
boss and he reads the check in mail then
you're screwed this what this only works
if he's like a suit you know or if she
she doesn't code so that's all and
that's all client-side that you get that
you get that for free that data filter
which is pretty nice so at that point
then I could click over to something
like this there's my sessions and I
could go through each of these and
update them and in all these cases I'm
just adding these little list views and
this is a kind of a contrite example but
it actually works pretty well here's a
little more complicated example where
let's look at dates so if I back out of
here and we'll go back to we got speaker
I got tags nice lists these are take
query Mobile is really good for little
little data cubes like this and then if
we hit date right and that kind of looks
crappy I could just make that a list of
dates but it would be nicer to put a
little bit more thought into it and use
some of the features of the the
framework and every framework is
different but one of the things that I
like about jQuery Mobile is this list
divider so all I've done here is said
it's a data roll ListView for each date
and then each time I see the day change
I'll insert a list divider just insert a
divider and that way it doesn't look so
so sloppy so instead of like this it
looks like that and then again you can
experiment with your themes let's go
back to a theme and see if there's one
that works for you and then you can
again you can go and download themes
there you go so that's a nice looking
theme
so now I can move around and see I've
got here and this is an example where a
table made sense on the desktop I'm not
a I'm not a CSS type person but if it's
a table you should probably be allowed
to use the table tag because sometimes
this the CSS designer guys are like hey
man you know how to use a div they talk
like that the CSS guys don't use the
table every time you use a table you
kills a kitten man and I'm like even for
tabular data yeah man it's the tables
are bad well tables are kind of useful
on the desktop but okay that's cool
we'll come up with another solution then
so here we've got a table of sessions
here what we can do is we can have
tabular style data by using some basic
semantic tags and this is what's nice
about really good mobile sites mobile
frameworks rather is that notice if
there's nothing fancy here it's just Li
an anchor h3p and strong no fancy stuff
going on HTML really is is secondary it
provides only basic structure what's
nice about this is a couple things we're
using the semantic tags like h3 strong
means something but and also notice this
href is wrapping the entire thing so
that whole thing is going to become an
anchor and if we come back over here
let's find a more a more interesting
slot with more stuff going on that's
lunch that's not interesting that's not
interesting there you go so I've taken
that table and really changed it it's
not a table anymore it's a list and
we've got the h3 is the title of the
session and then the strong is the
speaker and we can move around a little
bit cleaner and anytime you add an H an
href you get this this familiar moving
forward metaphor so we so far we've got
date we've got speaker and then it looks
crappy here
well let's go ahead and we'll switch
that one as well that's the main session
and notice how I'm not even having to
recompile to do this kind of stuff
because I'm actually using the same
back-end controllers I wanted to make
sure that the information that was sent
to the view that viewmodel was shared
between desktops now in some instances
when you're making mobile sites not
everything's going to fit on one page
like that and you might have to have a
custom back-end controller that's going
to split things up particularly in
situations where you have like a wizard
or you're gonna pick some date or fill
out a large form but for the most part
for basic sites and for data entry sites
like this or data cube visiting sites
you can do this with one back-end logic
and then just different views so in this
case I've not only come up with a page
that uses the existing model but I've
added links to move around so I can keep
moving forward I can keep going through
tags and I can keep going through
speakers so I've put together a a mobile
site with minimal amount of effort but
this isn't offline though I couldn't put
this in PhoneGap or put this in the
store because it requires you know a
connection to the internet which I might
not necessarily want especially a my
FATA if I'm at a conference like this
where I don't have internet all the time
so let's see we can do the holes that
the whole thing again except on a single
page so what we're going to do here is
rather than a whole bunch of views like
that and a lot of navigation we're going
to use knockout knockout is this kind of
lovely model view viewmodel client sized
bind client site binder so that index
page actually contains all other views
on one page so instead of navigating
from view to view every view exists on
the same page at the same time I've
taken list by date and list by speaker
and all that stuff and I'm inserting
them there and then just hiding them so
they're always on the page but you can't
see them the convention I'm using is an
underscore in front of stuff that are
partials so there's the one that we saw
before this
is all speakers except rather than at
using server-side code it's using
client-side code with knockout so data -
bind is knockout and data - role is
jQuery so we're saying we're going to
bind to each speaker and remember that
we have this cube of data we have a list
of sessions we have speakers and tags
and dates and we want to be able to kind
of query our way around this data set
how do we get that data set onto the
client and then how do we move around it
well the data set and the controller has
changed so now instead of doing all of
those queries and all of that wear this
and wear that on the server we're just
taking the entire data set and we're
turning it as Jason I talked a little
bit about this in the keynote if your
data sets not that big it's only a
couple thousand records send it all over
send it all over why the heck not so
that's going to be sent all the way over
there and then I can do things like for
each speaker where the data binding is
occurring in JavaScript on the client
side using knockout okay but the best
part is this we just apply those
bindings they all happen at one time we
do the get on line 14 when we go and say
get all that data but what if you're
offline what if you're offline how is
that gonna work
well html5 lets you have a cache
manifest the cache manifest is different
from the HTTP caching that you're
familiar with it's literally a manifest
a Bill of Lading a list of all the
things that you would really wish that
the browser kept local so here's a list
of all that stuff that we want local
including on line 23 their home / all
data the JSON itself so if we're offline
it will use the cached Jason okay that
manifest gets downloaded it works in
Chrome and it works in I think it works
in the iPhone so then the navigation
gets hooked up as click events and all
that does is change the view on the
model and you're going to see the hashes
occur in the browser so here's the exact
same thing and we'll use
and watch this URL here see how we're
moving around we've actually never left
that homepage we only downloaded the one
page we downloaded the one data set and
we get to move around that cube and then
I could pull the cable and keep moving
around because I'm using the html5 cache
manifest so that's kind of a really cool
technique that one could use to put
together a data application that's
mobile and also offline also you can get
query you can get themes like I talked
about in jQuery Mobile that look nothing
at all like like jQuery Mobile this is a
really weird one this actually is a
Windows Phone 7 theme for jQuery Mobile
so what you could potentially do is if
you have an application or maybe
applications and them in the marketplace
that are for multiple devices you have
an Android app you have a Windows Phone
app you have an iPhone app but part of
that application is online the about
page of the feedback page rather than
that feeling like they've left the phone
and gone somewhere else it could look
like the phone that they're on so you
could write a jQuery Mobile page that
would do the kinds of things you wanted
whether it be surveys or data entry or
whatever and then if they have a Windows
Phone you drop in the theme and it's all
CSS and it looks like the phone that
they're on so rather than looking like
jQuery Mobile it looks like an iPhone or
an Android phone or a Windows Phone and
it makes your application more dry
you're not repeating yourself because
you're just swapping out themes based on
the kind of phone that you have which is
pretty sweet so of course the approach
that you choose is all dependent on the
type of app that you're building and are
there any web forms people in the room
no okay well I don't want to show that
demo there's one guy you call me later
dude so a lot of people are saying well
I don't want to be able to do I want to
build you all the same stuff except I
need to be able to do it on on web form
so you can do mobile and web forms -
that's called asp.net friendly URLs and
it's up on on NuGet right now
I'll just show you very very briefly
what that looks like so here your people
are used to seeing dot aspx in the URL
and if they would rather not see that so
we'll just say slash foo and it
automatically picks it up so if you have
a food out aspx it just becomes foo if
you have a foo or in a bar it becomes
foo bar whatever in this case here I can
go somewhere like this foo slash bar
slash 34 and that's actually the food is
px page and then I can just pull the
friendly URL segments out so web forms
developers can do this kind of stuff and
then I can add a mobile view switcher so
not only do I get friendly URLs but by
virtue of that fact I can switch over to
mobile the URL is the same but now I'm
using a mobile view and it all uses that
same convention foo and food op mobile
now I've used this dot mobile as an
example a number of times but it's
really important to point out that
mobile doesn't mean anything it's just
some token I can go down in here and
change the display mode here I could say
I want a new display mode wp7 and I want
that used anytime the user agent has
Windows Phone so if I wanted an iPhone
specific thing I would just say oops I
would just say do iPhone iPhone and then
I would go and have indexed I phone and
layout dot iPhone then what gets you
thinking about the idea of these display
modes they don't even have to be
specific to mobile
you could have gold silver and platinum
you could have tablet it doesn't have to
be mobile it could be based on the user
because the context condition in this
case I'm just saying user agent I could
look at cookies I could look at language
I could switch any way that I wanted to
if I were doing stuff in Arabic I could
have index dot right-to-left dot CS HTML
and use the display mode to switch in
that as well I could have two custom
things for blind people if I detect a
screen reader it's not mobile specific
but it's all server-side
so these are some of the thinking that
we've got right now around mobile and if
you go up to my blog and click on posts
by category I've got a whole mobile
section where I talk about this stuff
examples of how to take existing sites
move them over and thank you very much
for your time on your attention
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>