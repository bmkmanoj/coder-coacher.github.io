<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>GOTO 2015 • Xamarin Forms: Native iOS, Android &amp; WP Apps from one C# Codebase • Mike James | Coder Coacher - Coaching Coders</title><meta content="GOTO 2015 • Xamarin Forms: Native iOS, Android &amp; WP Apps from one C# Codebase • Mike James - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GOTO-Conferences/">GOTO Conferences</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>GOTO 2015 • Xamarin Forms: Native iOS, Android &amp; WP Apps from one C# Codebase • Mike James</b></h2><h5 class="post__date">2016-02-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/sX2tO9JKJSs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">and we built architectural lighting
control systems and these were built
with cute or cutie so it's all embedded
c++ and you can see these products being
used on installations such as the London
Eye and almost all of the bridges along
with 10 power bridges on earth and I say
that because the lighting on Tower
Bridge is actually hideous I think it
was a French chapter that designed it
and it's just horrible but all of the
other bridges along the Thames a run by
Ferris and if you go there with your
your phone you look for a Wi-Fi you will
find a ferris why it isn't encrypted if
you can work out the IP address or the
controller you can start playing around
with the lights on all of the bridges so
that's pretty exciting but anyway so
I've always been a cross platform
developer and when i worked at farrell's
they said to me we need a mobile apps
the guys at the London Eye they want to
be able to control the lights in the
evening from their iPads because the
moment they had to go in and sign into a
dusty old pc and pull up a web interface
they've all got these tablets and phones
and like oh we can make that happen and
I was given the task you know had to be
cross-platform had to be mobile and the
lighting controllers had a built-in web
server so i developed a web interface
using jquery mobile and we threw it on
the internal web server and it kind of
works but it worked but it was horrible
to use the the guys at the london i
didn't like using it he said it looks ok
but it doesn't feel okay because it was
just a website masquerading as a nap and
i'm not a big fan of JavaScript I much
prefer to work in a statically typed
language and I feel most most at home
and visual students at home and visual
studio so I was looking one friday i
spent a week debugging jquery mobile and
i was looking
a cross-platform native solution and I
grew up programming up in net so I typed
into google c sharp iOS xamarin came
back and i pulled out my credit card and
i bought a license to it and over 48
hours i hacked together an iOS app which
is one hundred percent a tip I'd never
built a native iOS app before i was
using UI tableview controller does using
you i buttoned all of the API is whether
you get to see into it guys are using of
course there you go it can't get much
higher but it's going to flap I'm going
to put it on my t-shirt instead perfect
that's close it will get without me
swallowing it yeah so where was I dude I
built this mobile app over the course of
48 hours and bike come monday i had a
hundred percent native app but I was
actually reusing eighty percent of the
code because most of the code was just
calling into this restful service you
know what are the lights currently doing
I want them to go and do something else
and the UI was a very thin layer on top
of that my boss was blown away by this
because what first he said we can't use
it you built an objective c em i'll buy
her one moment Simon this is still cross
platform it's all built in c-sharp and
he was blown away and I was top boy for
probably about a week and then I hand in
my resignation and join xamarin so hmm
but there are a few ways to architect on
mobile apps today so I just very briefly
want to cover those we call this a
siloed approach so you're going to write
your app once in objective-c your Swift
you're then going to say right I won't
hit Android as well because I can't
ignore Android it's such a big platform
so you go ahead and reemployment your
entire app in Java and then you ship it
into the google play store and it's huge
success and then you might want to
consider going to windows it has anyone
here written a Windows Phone app kinda
is it in the app store
if it was I could have given you a free
license disaster yeah so windows phone
isn't you know the most popular for us
developers but actually it's one of the
easiest platforms to develop for which
is why I think you'll be interested to
learn about down reforms it takes a lot
of the approaches of Windows Phone
development and brings them to iOS and
Android so the problem with this
approach is that it's very expensive and
time-consuming you're reinventing the
wheel for every platform the code
effectively does the same thing but
you've had to write it three different
times I've seen lots of companies fall
into this approach by accident someone
said to them we need to go mobile so we
download xcode and they start proof of
concept and you know maybe the marketing
team sees it and they like release it
and all of a sudden they've gotten
objective-c code base that they need to
look after than like okay that's a
success let's try Android you download
Android studio or IntelliJ you write
proof of concept and all of a sudden
it's in the store again and then if by
some miracle someone says windows phone
you probably already got visual studio
installed via this is a pretty expensive
and slow way to build a mobile
application today the other alternative
is the holy grail of software this is
the idea that we can write once and run
anywhere and it is very prevalent with
cute so we would write our desktop app
once and we would run it for Windows Mac
and even lillist but it never it never
quite looks right I never quite feels
right we developed primarily on windows
and all of our Mac users complained
constantly that the app looked horrible
and the way the Q implements mobile
strategy is they use qml now qml is you
know they're rendering everything from
scratch so it's their version of what a
button should look like on a mobile
their version of what tables you should
look like it's not a native control the
other the other approach is that you go
a hybrid and you go with html5 and CSS
and again I've my experience of this is
that you deliver pretty substandard
product
most end-users if they won't come out
and say I don't like library because
most of them don't know what hybrid is
but when you look at app store reviews
the hybrid apps tense for much lower
than native apps facebook historically
went out and we implemented their
timeline control of the hybrid control
and they took a five star app down to
two stars in one release a mark
zuckerberg has said the biggest mistake
in facebook's history was betting too
much on html5 now to me is a lowly
developer I think if the likes of
Facebook can't do hybrid and html5
correctly for mobile what chance do I
have because they've got infinitely more
resources than I do so this this
approach works really well I will give
it some some pros this approach works
really well if you've got a pixel
perfect gy that you want to put across
every single platform you've got a
design team that doesn't care about
platform dimensions maybe you're
building a game or it's very customized
UI that's full-on with your branding
then this approach is going to get you
very far very quickly so 110 go down
that route but if you need to build
something that conforms to the platform
that is using the platform controls then
this approach is going to be very
difficult for you so the xamarin
approach this is a traditional xamarin
approach we're saying you should still
be able to share a whole load of your
code now it with the traditional
approach we're saying 75% code reuse is
about right and that's just bottom half
here this is a shared a project this is
your seat rifle f sharp it's anything
that's touching the base class library
it's all the networking tool the data
persistence all the boring bits of your
app the user never seen then we're going
to go ahead and reemployment I do I for
each platform will be targeting using
the native UI toolkit so for iOS we're
going to use storyboards but Android
we're going to use android XML and then
for Windows Phone we're going to use
zamel so that top 25% is a high
% native so the user gets a hundred
percent native application but you're
still sharing a whole boatload of code
accompany the platforms you get a bug in
your code nine times out of ten you can
fix it in the shared logic and you get
that bug fix for three across in three
platforms now we should talk about
performance that's probably a key thing
that you're worried about there's two
sides performance site with xamarin
we've got the iOS what we have to do
ahead of time compilation Apple is very
strict on this you can't get on the
device so we compile your C sharp to an
arm assembly before we deploy it to the
device so in visual studio and you hit
bill we go to il just like the WPF or a
winforms application we ship the il over
to a Mac now this is really important so
you may be using visual studio on a PC
but you're going to need a mac somewhere
on the network and the reason for that
is we're using the Mac toolchain to
build the app so we need a mac with
Xcode installed we're going to feed the
IL which we've tweaked to a byte code
that the l MDM compiler will accept and
the l nvm compiler is the same compiler
that swift or objective c @ j story so
we get the same performance
optimizations as an app built with
apple's languages of choice so there's
no performance loss through using c
sharp on iOS in fact one of the early
google employees who owns of racing
racing car team he did very well out of
that job he did some benchmarking and
when you compare straight c sharp
running on iOS to objective-c he sees
and this isn't earth who doesn't work
for us we couldn't possibly pay him
enough money to come work for us he sees
at the co-op version form slightly
better so it's very marginal your users
will never notice a difference but c
sharp lesson objective c CTR tends to be
faster he shot versus swift swift seems
to be faster at the moment but as I say
it's so marginal the speed increases
that your users will never notice the
diff
runs on Android things are slightly
different we can get so we do so we're
just going to link and ship over the
il-2 the device and we're going to run
it in our run side so we install our run
time next to delve it and then and then
hour runtime communicates in to delve it
so that we have we can communicate
straight into native java objects and
get objects back so when you're when
you're doing a debug build for android
we have a shared runtime on the device
because you own that device it's a debug
build you know you're probably not going
to ship a debug build to too many people
and so all of your apps on device can
use that shared one time when we build a
release build for Android we're going to
bundle in the mono run time we're going
to strip out all the bits are not using
so the same with iOS by the time your
app is running on the device the
overhead of using mono is about to megs
so it's not a huge amount of overhead to
be able to share all of this code
Android performance wise again we tend
to be for actually better performance
using C sharp if you go to github for
such as a Marine you'll see that we used
a converter from Java to see chart when
we re implemented a whole host of
Android like a huge amounts of Android
in c-sharp and the performance increases
were sometimes you know two or three
times faster in the Java equivalent so
you can go and see the benchmarks you
can go and build Android in c-sharp if
you want it's all on github you can see
the performance increase so the key
things take away from this side is
there's no permits hit through using
examine the rap isn't going to run any
slower than the native version so just
like when Microsoft give you some new
API is it built on top of the base class
library which is things like system
system iOS it's not linked all the
namespaces that we've been using for
years you know you get some new api's
you just add these to your existing
knowledge of the namespaces and in turn
the classes we've done exactly the same
for iOS they've got this base class
library which we're going to
we use across every single platform and
then we get a one-to-one mapping into
the platform api so anything in
objective-c your swiss developer can do
I can do in c-sharp in visual studio and
we did exactly the same for Android so
we've just created a one-to-one mapping
to every single API now the reason I'm
telling you this is because when we talk
about customization within xamarin forms
you jump down into this level which is a
one-to-one mapping to the platform api's
when you want to build custom controls
exam reforms you're going to build them
using the API is it's still all C sharp
it's going to be using the api's of that
platform so you'll be using a uiview
you'd be adding well you put probably be
using CA left layers in order to do your
custom drawing in the UID and then you
would consume that from zaman forms so
what is that were informs was an reforms
is an abstraction above entry platforms
we've got that one to one mapping and we
found that all three platforms had very
similar controls which in turn had
similar properties and similar event
going to put a map view for example
pretty safe to say that all mobile
operating systems will have some form of
map view but the API in order to
instantiate them very different the
properties that they have are very
different we can't just copy and paste
c-sharp from iOS over to Android and
have a map view rendered using that
traditional approach so we fall
we thought there's got to be a better
way and so what we've done is we've
abstracted away the differences of the
platform from you so examining forms i
would say i want to map view and I
wanted to spray it on the screen and
it's going to say well I'm on iOS so I
need to win start to get an Apple map
view I'm on Android so let's give it a
Google map then i'm on windows so let's
go for bing maps but as a developer all
you've said is hey I want to show a map
view and these are the places of
interest that I'm looking for in one
common API so there are some
considerations with xamarin forms it's
not it's not great for new kinds of apps
you're probably wondering what kind of
apps cannot could I not build with this
if your app is highly customized so your
millions of custom controls your design
team has at very precise do I look that
they want to achieve you're probably
going to end up doing more work with
down reforms to get that customization
because this is you know the high level
of abstraction because you've got access
to those 12 18 mappings of the API you
can one hundred percent customize on
reforms to your heart's content but it's
going to be a bit more work than if you
just run with traditional brutes so you
need to think about how much
customization your app is going to have
because I'm reforms were saying you know
99 percent code reuse so traditional
we're saying 75% code reuse but if
you're doing lots of customizations your
code reuse with enzyme reforms drops
down to about 75% so you need to weigh
up or kind of app you're going to be
building so this is great for
data-driven apps so if you're building
the next kind of Dropbox client or it
forms over data you've got some stuff
that you want to fill in and then push
back to the server kind of utility apps
this is fantastic for that and we also
support map so you could build like a
clone of city maps 2go with offline
mapping support but you're not going to
be building the next Facebook with damn
reforms you killed but it's going to be
more work for you
so as I said before this is seventy-five
percent of your app and then
historically would do twenty-five
percent for each platform well now we're
saying 99.9 st. code reuse across all
three platforms and I'd love to say it's
you know a hundred percent code reuse
but when we analyze the solution as a
whole it's always going to come out of
99.9 percent because we've got a couple
of lines of code for each type and civic
project that you need to that platform
just see it forms initialize now we'll
write that code for you do you look have
to worry about it told you I can be at
handling cross-platform the solution as
a whole will always come out as I
exactly I've set the best case so then
report allows you to quickly and easily
build these native you eyes and because
it's a native UI you get an amazing
behavior of that control not you need to
make some act forms with that
traditional approach as I said you can
dig down into the lower API if you need
to if you want to do some custom stuff
for that platform there's nothing
stopping you you can use a vtec speech
synthesizer from genre forms if you
wanted you would just create an
interface within your portable class
library by text to speech and you would
implement that for each platform project
using the native api's so you didn't
plement it once for Android then again
for iOS and then again for windows phone
and then in your share code you just
call the interface and say I want to do
text-to-speech please and it's going to
look within the platform projects to see
if it's been implemented and then call
that version so what's included you get
40 pages layouts and controls and you
can build these in C sharp F sharp or
zamel do you have any down more
developers in the room no one perfect so
the demo I'll show you will be in
c-sharp because it's sam'l we subscribe
to the mvvm approach is anyone used mvvm
so for those of you who didn't raise
your hand it's like NBC but with movies
and lens and less sees you've got that
down you've left it
it allows you to do two-way data binding
which feels like magic is a developer it
gets rid of so much boilerplate code it
it's a delight if you've not looked into
mvvm i highly recommend you go and have
a look even if you're using swifter
objective c you will find someone has
built an mvvm framework for you and it
feels like magic and we have a
consistent navigation and animation API
as well as a dependency service the
dependency service is a bit that allows
you to get down to the platform code
that you need to so when you want to dig
down into the platform specific code use
dependency service to do that we've also
shipped a very simple messaging center
of the messaging center allows objects
that have no idea about each other no
references to each other to communicate
so I'm building a beer app to track how
many beers I drink with in my search
fade I can check in a beer I can use the
messaging center to linger and tell my
beer library view that I've added a beer
so that you can go and refresh that
formula somatically they don't have to
know anything about each other so it
allows you to go very decoupled code to
avoid spaghetti code so it's very nice I
was looking at the source code for
xamarin forms just last week it turns
out it is just one very small class very
simple to implement but it's very nice
so what do we get included we get some
pages so we get content master-detail
navigation tab din carousel because this
is an abstraction api things like tabs
on iOS they live at the bottom on
Android deliver at the top on window
turn it to pivot but it's developer
using xamarin forms we don't have to
worry about that we just say hey I want
to show some tabs on this device please
and the OS because it's a native control
will deal with laying that out for us
but naturally we have some layout
options Oh too fast
we'll go back here apologies so most of
the time you're going to be doing your
work in a stack and a scrollview so I
tend to throw most of my stuff in the
stack view and then if the stat for your
super long are going to put the stack
view in a scrollview the reason I do
that is because this is a managed layout
it's going to deal with different device
sizes for me it's going to do a lot of
heavy lifting of how to resize
everything an absolute layout and have
to do way more work on the layouts and
when I'm building down reforms apps it
tends to be proof of concepts and demos
or rather than fully fledged apps I like
the one to our mappings myself but
horses for courses so let's have a look
at the controls and these are the
controls that we've mapped across all of
the platforms these are common and we
found api's that make sense that are
common now you may be thinking that I
failed to finish the animation or imap
or designer of that gap at the end is
actually where you can add your own so
because you've got that access to the
one-to-one mappings of the API so you
can build custom controls and add it in
you can go to New get and you can add
custom controls so there's a library on
you get can't record it's cool but if
you tighten down reforms you will find
it and that adds a whole host and this
is completely open source a whole host
of new controls that have been mapped
across all the platforms and then you
can go by controls as well so the likes
of infragistics have made some really
nice dashboard controls which I think
are about a thousand dollars again one
hundred percent cross-platform you write
your dashboard once and you get it for
iOS Android and Windows Phone which you
know if you're building an employee at
that's fantastic because you can do a
bring your own device and still hit all
devices but from one code base so love
it so i'm going to show you just that
the default what we get rosamma informs
when you create a new solution then i'll
explain about the layout system and then
i'll show you
proper app and we'll build something a
bit more exciting so pull up visual
studio we'll share the screen
I just need to resize this there we go
so as I mentioned before you need a mac
somewhere on the network when I'm doing
my demos I like to do it on the mac i
always use visual studio but it's much
easier to connect to the mac side of
things on the device when a conference
when i'm at home this is my go-to device
my surface is my go-to development
device because I control the network so
I know that everything's just going to
work a network here everything is
isolated to have my mac talk to my pc
would be a nightmare so i just throw it
all on one computer and it works
perfectly so you do need the match for
the iOS side of things because of the
using the tool chain you don't need to
have the map on your desk what a lot of
people do is they buy a bottom of the
range mac mini Oh throw it in their
bottom drawer they sometimes stick a
microsoft sticker over the apple one
they never look at it again and it just
sits there building the iOS versions
constantly now if you are a map
developer we have got our own IDE it's a
marine studio it runs in OS 10 it's very
much laser focused on mobile so if
you're using IntelliJ or Xcode and you
want to go mobile without switching to
PC we've got you covered as well so when
you create azam reforms project on
Windows you're going to get four
projects you're going to get a portable
class library which is where your app is
going to live and that's going to have
just by default this app class which
inherits from application an application
has got property which is main page
within our main page we can set a
navigation controller or we can set just
a Content page and in this case we're
creating new content page and then we
add some contents to it the iOS and
Android app will references so if
anyone's built in android app you'll see
that this is that kind of one-to-one
mapping so you can see we've got
activities it is just it's almost like
someone's uppercase Java
but it's not this is actually C sharp
these are the two lines of code in order
to get down reforms initialized on on
Android and then if we go into iOS
actually we're going to be in the app
delegate we got the finished launching
method which we've overdone and then we
get xamarin forms initialized here now I
added a couple of lines or one line here
in order to get salary insights added if
you don't know what that meant insights
is it's our crashing analytics reporting
tool it's entirely free so anytime this
app crashes it the stack trace is sent
to me automatically so it's just a nuget
package and as you can see it's one line
of code and that's ready to go now so
it's a no brainer for me to add yeah go
for it so I assume a lot of this stuff
is actually boiled bike okay a lot of
what you've been showing so far away
just boilerplate code is created when
you pray for everything you've seen so
far apart from that one line there is
boilerplate ok I'm going to just close
that yeah all I did was I went to New
get and I grab the package just because
I wanted to make sure that i had the
package ready to go rather than you know
showing you how to fetch and you get
package but we still may do that in the
main portable class library because i
don't think i've added it there so let's
just in fact make sure of that so we
don't want to do that one manage can you
get package will do xamarin insights
there we go and we'll install that and
this is built by team in London as I say
it's one hundred percent free so there's
no reason not to use it so we'll set
this to start up and you'll see we've
got options for our iOS simulators if I
plugged my device in I'll be able to
deploy directly to my device so there's
no limitation there and we'll just hit
build and hopefully the iOS simulator
will start running this app sorry it's
also you've got visual studio running
inside via Matthew yep Ryan I simulator
is logically sitting outside how are the
two communicating you know others you
got VMware virtual network that's bad
too is that what it's doing yeah so it's
using your network and we actually
tunnel into the mac so you sign into
your mac account from the pc and mac has
all your your build tools installed and
once you've signed in once we remember
your credentials so that any time you
open visual studio we go and look for
the mac for you so that you don't have
to manually sit there and connect it
will just connect for you yeah and if
you've got the the phone plugged in the
phone will need to be plugged into the
mac in order to deploy to it so you may
want to you know keep from that with a
cable running out of it and also deploy
and we are thinking about doing USB
tunneling so that you can plug in your
iphone into your pc we tunnel the USB
connection from the map back to you but
there's no confirmed date is probably
going to be cycle 7 as a minimum which
is probably going to be january at the
earliest so but you can see here we've
got the app running on an iphone it's
not particularly exciting this it really
is just a hello world but we can run it
on Android as well so set this as our
startup now I'm hosting the android
emulator on the Mac as well and you may
be asking why have I done that the
reason is I don't want to run a virtual
machine within a virtual machine there
becomes a point where it becomes just
mad so I thought you know I'll run my
virtual machine
in my post OS and i will use adb to
connect to the android emulator on the
map so all I did was I went to the
command line i typed in adb connect if
we come in here and do adb devices you
can see it's found my emulator that's at
here so I can hit deploy and hopefully
it will just deploy for us at the first
install with any xamarin android project
normally takes a little longer than iOS
because it's installing that shared
runtime let's have a look at the code
blast it's doing that just so you can
get an idea for you know
it's pretty self-explanatory how this
works and actually we can do this in
zamel as well so using C sharp because
you drive c sharp developers rather than
down more developers but if you want to
use them all we've got you covered yeah
and there we go there's the Android
version as well so it's the same code
running across two devices I would show
you the windows phone version but again
REM in a vm just not going to be good
but rest assured just works for Windows
Phone and we're also looking to support
at uwp apps as well so you'll be able to
go from you know xbox all the way to
that surfaced wherever you want to run
if windows runs it will be able to run
it with a Marin forms so it's pretty
exciting
so with them reforms each page so you
saw we recreate the new content page
each content page is allowed exactly one
visual element and you're probably
thinking that sounds pretty limiting
because you know that only means one
control and if you've got for example
just a list you want to page so it can
work quite well but if you've got list
views and buttons and sliders and other
controls you're going to need to do
something so what you're going to do is
you're going to put your controls within
our layout and the layout is going to
make sure that it looks great on every
single device and your content of the
content page will be the layout that has
got your child controls within it so now
you know that a ball and a bit about the
Met managed and unmanaged as I mentioned
earlier managed will be stacked play out
we do a lot the heavy lifting for you
unmanaged it's going to be things like
the relative layout where you need to
define it how to resize and where to new
things across all the different devices
so I'm going to build you can probably
kind of see what I'm doing here got
brewery DB library brewery DB is a
online service which you can see here
that it's free to sign up and get an API
key with will sign in and it's a
database full of beer is so I can query
into it i can say tell me beers tell me
information about stella artois and it
will return a beer object to me with
brewery information and naturally I've
got some keys so I'm going to copy that
because I will need it now I'm going to
add a page and I'm going to call this
search beers will stop it running
so that's be its page we're going to
want to inherit from content page and
make it public because why not and I
want to search brewery DB so I want to
search box and then I want to list
funerals display the results i'm just
going to do that search box or search
bar story search bar list you move all
this beer list boom search be a page
creating start to eat it and we'll say
the title of this content page is just
going to be searched beer DB will say
beer list equals new list view now don't
need to set any property solicitor you
just yet because i don't have any data
to throw in there so let's deal with
well let's deal with the search bar
we'll say placeholder equals search
mostly search bar dot and that's why i
love c sharp this is dot do language i
hit dot and it tells me what I can do
when the intellisense fails and you know
I don't get a list of what i can do i go
to lunch try restart the IDE so I'm
going to do search button pressed now I
want to do an async delegate but don't
want that to be capital d thank you very
much boom now with in here i'm going to
save our client equals new brewery DB
and say new brewery DB client i want to
paste in that key so they want no one
tweet this key will save our results
equals a weight because we're not
animals we're going to async await will
do a weight client search for beers i'm
gonna say search bar dot txt now we're
going to say list view dot item sauce or
sauce mmm all notes beer list what am i
doing beer left to item source equals
results boom so I need to lay this out
within some kind of layout so we'll do
content there's a typical content of the
content page will have exactly one
visual element so i'm going to create a
layout in order to put these controls
within it so the new stat layout and
that has a property of children and i'm
going to say search bar that's the first
control i want and then I want my beer
list
perfect
now if i come to app I'm going to get
rid of all of that I'm just going to say
pages search page now what I could also
do is I could say you know I want to try
and catch that so we'll copy that
hopefully that copied it to the
clipboard that did I can say insights
dot report now I can pass in the
exceptions or do TX now that exception
if it's ever thrown will be reporters
straight to me with endowment insights
now if I got rid of that and just go
back to how it was if an exception is
thrown and it's going to crash the app
so I'm going insights will catch it and
still report it to me so many young hot
exceptions just get reported but I can
also report exceptions that I'm
interested in so why don't we run this
on Android as is now the list view is
going to look a bit whack because I've
not told it how to display the cells
we're running out of time so I'm
probably not going to do that now but
this is on github so you can have a look
it is extraordinarily simple there we go
look we've got search so I'm going to do
Stella
in fact let's just do the cells
we're only doing real bear so I moved to
Belgium for seven months and because I'm
such a big fan of drinking beer all
something's gone for our cell eccles new
data template will say type of text cell
let's a set binding and this is the data
binding also texts l dot text property
all text property Oh get more seat name
now you're probably wondering how it's
working out what the name is to display
but it looks at the item sauce and it
looks at the type and then it's going to
look for the property name that matches
what we've set as a binding so it knows
that beer is the type that we're going
to be displaying this cell it says well
beers got a property of name so we'll
just grab that and now what I can do is
be less dots I think it's a deep
template or template itemtemplate equals
cell so we can redeploy this
Stella
there we go and then we've got the
ListView there we could let's go and see
how this looks on iOS as well
that's worth noting with iOS you always
want to make sure before you ship to the
App Store that you've tested it on a
real device the simulator has access to
all of your resources on your computer
so this has got 16 gigs around and the
the new iPad priority has four gigs of
RAM so just to say I would fix it by
putting this in a navigation page which
will give us a navigation controller at
the top we had a bit more time I'll show
you how to do that but you get the idea
so it's 108 code reuse and I just built
an app that's querying you know a
database it's using a restful api it's
fetching it is passing it down into an
object that I can reuse i'm using the
same library this brewery DB library in
a zoo as well so i'm building a proper
rear tracking application that's going
to use machine learning to make
predictions about what beers i should
try next and i still want to be able to
query brewery DB so i just took this
existing c-sharp threw it up into the
cloud and it works with web api so this
is a beauty of see chart you know i can
go from running it on my Apple watch all
the way to duel and anything in between
there's almost not a platform that C
sharp can't target so it really is a
cross-platform language so if you want
to learn more about Sam reforms Charles
is writing a book for us it's free for
download you can also get copies of it
if you hang around the xamarin office
which is based in London they have just
me so I don't know where they've gone to
I work from home but yeah you can grab
that from Microsoft so you can grab it
from our website as well which is our
own calm and go on to my github you can
find the completed projects of this so
you can download that and have a play
with it it's got all the dependencies
all ready to go my colleague Pierce is
already has also written a snapchat
clone entirely in xamarin forms so you
can do you know take a photo draw on it
and then send it to your friends and
again that's using Azure as a back end
with blob storage it's got custom
authentification
hundred percent xamarin forms and he
sees about eighty percent code reuse
with that app again because he's using
the drawing on the camera views you
really can't do that in a cross-platform
fashion you have to drop down into the
platform api's so you can see how to
implement custom renderers i'm building
a beer-drinking which is a beer tracking
app for Android and Windows Phone using
exam reform so if you want to have a
weekend project or you want to see an
app being developed from start to finish
then just email me my cats are in comm
i'll add you to the repository I haven't
made it public just yet because i need
to invalidate some keys before I publish
it to the world but I'm happy to add
people on an ad hoc basis so you can see
how how it's being developed so any
questions
I've got one so you say you maintain
kind of sort of hundreds and currency
with the API is the sort of standard API
you can get an iOS and Android and so on
so i guess the inevitable question is if
you look at something like that in our
iOS 9 coming out next just the other day
yeah how quickly does sam arena's tool
company kind of reaction to that stuff
and you kind of got insight into those
88 ahead of time you already bought us
our grading to go like that what was the
time it depends on what Apple's
releasing I can't really talk too much
we have mdas okay but to give you an
example at TV OS was released or
announced just last week on stage they
were showing off one of the apps which
was built using xamarin right so that
should say enough in terms of new OS
releases from Apple we normally get them
dropped on us with iOS the same day that
you get them but it's not only about two
weeks before we've got bindings ready
for you to use so app will give you
enough time before it's dropped into the
laps of end users so you know I've
already iOS 9 ified all of my existing
apps and the beer-drinking app that I'm
building right now uses the search api's
which is using NS user activities which
is publicly index so now you know if you
search for Stella Artois in serie using
Siri or the OS it can bring up beer
drinking and take you straight to that
app so you know that's a brand-new
feature there's not many apps at doing
that already and because we support the
api's so quickly we were able to just
add that that's the story is your story
and androids even easier android so they
came out with Android wear and our CTO
said they released it in the morning in
our CTO said instantly on Twitter that
we plan to support this within the next
six months and then by that afternoon we
had a release ready to go so and
androids much much easier I Apple Apple
were difficult because they make so many
change
like--but code for example huge huge
amount of engineering that's had to go
into supporting bit code with our
existing tool set we can do it it just
takes us a bit longer so any other
questions
together
not easy shall deliver
right
all right but if you stood in one to my
opportunities
but you said that for that Zamarripa
tunity up not for his participation so
my question is what is your advice for
small like me now that's not a check
future I want to put the summary and
what i chanted i have is it equal area
for me well if you're would in a java
then you're pretty much you know an
expert c-sharp version two so C sharp
you know is more advanced language than
Java in many respects but the languages
that are so so similar that you're not
going to struggle to pick up C sharp
certainly you have to learn some new
api's but if you've built any Android
applications using Java the windows a
marine Android experience is going to be
top-notch it really is just a almost a
case of application a few bits and
you're good to go you can start to add
new features you know you can start
using async await and Landers and
generics and all the fancy lovely stuff
that make me love C sharp but you don't
have to when you're getting started you
can just keep your existing knowledge of
Java and pretty much bring that over to
c sharp without any problems the
difficulty with learning mobile is
learning the api's which is the benefit
examine forms we're saying three
platforms one API but if you already
know the Android api's and you already
know the iOS api's and we're saying you
know you've got the experience to build
mobile apps let's just share more of
your code
no question
how
the architecture of Europe fragments
consolidates for platforms so for iOS
let's say I want to use nsurl session to
make music background multitasking is
that not spread men the use of the
c-sharp system is worse code
architecture because you're fragmenting
in the consolidating sure so if you want
to do background tasks and iOS using
examine you'll just want to use the
standard async await or tasks yeah you
would just use a dotnet approach and
then when you want to call back to the
UI you would just say I want to invoke
this on the on the main thread so it
uses a xamarin implementation of so
we've we've got the dotnet approach so
doing background in so you know if I
want to go infection data and not look
look up to you I so any any code that is
being executed in Swift and Objective C
we can then execute in c-sharp so if
we're using with the standard net
approach rather than apples api's we can
still execute that in when your app is
running in the background to give you an
example of an app you can go and look at
the code for it Microsoft bill an uber
clone called my shuttle and that works
where you can go and request a driver
close the app but it's still going to be
tracking the drivers location your your
location in the background and that's
entirely built with C sharp its end to
any sharp so you can go and explore the
different approaches the rest assured
you can absolutely do background tasks
using 0ni OS
cool well thank you very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>