<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>GOTO 2012 • Cadence &amp; Consequence • Josh Graham | Coder Coacher - Coaching Coders</title><meta content="GOTO 2012 • Cadence &amp; Consequence • Josh Graham - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GOTO-Conferences/">GOTO Conferences</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>GOTO 2012 • Cadence &amp; Consequence • Josh Graham</b></h2><h5 class="post__date">2013-03-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/EOI57eqofbs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I have been at thought atlassian I was
at the hooks I've been atlassian for
about a year and a half working on the
on-demand service offering it's our
hosted offering and that comes with a
lot of challenges with software that has
been built for the last 10 years for
download and running on vertically
scaled servers so part of the appeal for
on-demand is getting new releases
quickly and we made a decision to change
the way we delivered software so that we
could get new relate new features into
users hands quickly and this is a story
of that journey so far anyway so who
here has used or knows of confluence or
JIRA excellent and we have the developer
tools as well you may have heard of
stash it's a new tool for dvc s
management behind the firewall and
bitbucket is the hosted version of the
hosted service we all just let you know
how to pronounce these atlassian it's
not elysian that's atlassian and it's
JIRA the JIRA is from the Japanese
gojira which is Godzilla which is like
bugzilla we took over so that's that's
the origin of that name there are lots
and lots of installs of our software
running around the world I'm being
conservative it saying there's a hundred
twenty-five thousand installations
running right now of our software
there's many more than that but it's
hard to count in the hosted area I know
exactly how many there are there's over
just over 18,000 now that's 18,000
customer instances and that's between
one and five of the products running for
each of those so again it's in the
100,000 plus applications running right
now in on demand
so this story started maybe two or three
years ago back then we were delivering
software once a year sometimes up to
three if there was a major feature that
needed to be put out there but
delivering roughly once or twice a year
for the for the applications that's
pretty slow and then we decided let's go
to a 98 day release cycle so there's a
big push to change the way we worked to
go to a 98 day release so that we could
get features out more often but again
that was still quite heavy weight and
indefinitely slow delivering the the
products to JIRA studio as it was called
at the time the hosted offering was
monthly now it wasn't every product
every month it was roughly one of the
products got delivered to studio and
packaged up and Andrey delivered in the
host of the offering but then when I
joined we decided let's uh let's go to
weekly weekly releases on demand and
that was just crazy talk but it's that's
part of the appeal of having having a
SAS service is to be able to get rapid
rapid rapidly deliver features so we
started changing process and the tooling
but we found that that wasn't the only
thing there are a lot of problems I also
wanted to deliver intra daily but that's
a that's in the next part of the story
what we had was this we had this massive
engineering team building all those
products and doing their iterative
cycles but still only towards the end
when they were about to launch they
started talking to marketing people and
updating the documentation and then they
delivered it to to the on-demand team
and said he go here's the new version
the product and then the on-demand team
would open it up and make the changes
necessary to integrate in in the on
demand situation and deliver it and
sometimes that was months after the main
release the product
so that wasn't acceptable at all so not
only was it irregular it was also quite
late after so on demand the users were
getting the features much much later
than if you had downloaded it what we
wanted was more like this delivering at
each of those iteration points to
undermanned have features there so we
said about changing that what did we
have to go through first there were some
problems long-billed times took over
four hours to build JIRA and confluence
just for the on-demand pipeline so just
the functional tests to say is this
version of the product working in the
on-demand context over four hours and
that was on top of many other hours of
functional tests the download products
would go through yeah we got different
constraints and undermanned we know what
hardware we're running on we know what
operating system we're running on we
know what database we using so there's a
it's a little bit easier to test for on
demand we don't have all the different
variations but it's still quite a
lengthy process lots of debt in the
build processor built up over over those
10 years making it a lot of assumptions
in there it took about three months to
get a full green board you know you see
wall boards and and there's a couple of
things that are red and sometimes
there's always one thing read somewhere
around there so we decided we didn't
want that we absolutely want to green
everywhere full green board so it took
many months of diligent work to get that
happening and any flaky test sometimes
you have these weird tests that there's
an odd dependency somewhere in the
pipeline and it will fail for no
particular reason in a four-hour build
that is really annoying because when
that happens you go right back to the
start and try it again and then a
different flaky test fails so you can
imagine the inefficiencies that come
with that
we also had a growing team you know that
that big team of engineers has doubled
in the last year or so and and the
tooling particularly things like svn or
holding us back we had all these Maltese
multiple work streams going and adding
features to the products and and things
like svn will holding us back she pinked
on demand that that weekly delivery a
downstream team was having to open up
the product and and put it back together
it was immense amount of work to do that
every week not every product was
changing every week but but a lot of
them were and we and that took a lot of
time and effort then trying to fit that
into a weekly cycle is quite a challenge
has anyone done the Dragonslayer
challenged it's a it's a document it
said it's in the documentation it's all
it's a it's a quest for integrating the
glass ian applications and that can take
a day or two to complete the first time
you do it and we have to do that every
week so something that takes that much
effort had to change there were there's
a rise of some of the plugins to almost
product products themselves so anyone
uses greenhopper you know that's a
plug-in on top of JIRA but it's it's
almost a product in its own right and
they make changes very rapidly they use
a candor and development approach so
their features are updating all the time
and they were held back because the
application they host in JIRA was
delivering at a different pace and we
wanted to be able to have them be able
to deliver independently of that hosted
product and and and they deliver
completely different features to gr and
beer and for them to be able to do that
all by themselves and any little cross
product dependencies that were there's a
lot of them but any any of those create
a hellish synchronization battle to try
and get everybody up to the right
version into a compatible range and then
deliver that all at the same time
not good for for the challenge we had
and you know we're doing this to an
online environment as well as for
download so people people can download
the products at the same time the
backlog was driven for the last decade
from the download customers that's where
most the users come from and developers
would wait many months to get feedback
from from users as to as to what what
they needed to change for the next
release products developers also think
about their problems and if you here for
Sam's talk it's a lot of great advice
there the product developers think about
the problems in the context of a single
in single instance want you know just
JIRA running or just confluence running
one server add more RAM that'll solve
the problem of course in a hosted
environment Ram is the most expensive
resource we have and there isn't that
much of it so adding more RAM is not a
solution they also think about things in
terms of a single instance when it comes
to upgrade tasks or making a change that
migrates the data well when you've got
18,000 of them running at the same time
and doing it roughly at the same time
getting upgraded roughly at the same
time there's a change in my set required
there as well so I've got 40 to 90
thousand applications running at the
same time and if they're all doing an
upgrade tasks there's a lot of i/o going
on there's a lot of RAM being used a lot
of CPU being burnt so all the problem
with driving the backlog from the from
download customers was that we weren't
thinking about the impact to on demand
and the continuous delivery issues that
we had there so what was some of the
things we did to solve it people
we changed our minds about how we would
think about the source code and and
always having an always runnable system
culture where everything I check in is
runnable if it's it's deployable from
master so when we keep instead of the
old mentality and subversion where you
know where the trunk trunk was well
ahead of everything but there was a lot
of junk in the trunk we changed change
that idea to say you know a pure a
pristine master is what we need because
at any point whatever's in master could
be taken and deployed into on demand
into production we also improved the
regularity of the download artifacts to
every two weeks so there's milestones
every two weeks which is great if you're
in the ecosystem of plug-in developers
or you know you're a corporate that
relies on the products and has have your
own plugins that you've written you can
keep up to date with the changes as
they're happening and and be more ready
for the big release when it happens
confluence also has this capability
actually of doing a seamless upgrade so
they're able to change the software such
that you can have two confluences
running at the same time what again from
sams talk there's some advice there
about doing how to do that and so we can
have two conferences running at the same
time one is the old version one is the
new version and be able to have a
seamless the change over to the new
version so the users don't actually
experienced anything in terms of an
outage we're not using that on demand
because it requires two conferences
running at once but soon enough we will
be able to do that also the integration
architecture the products weren't really
built to work with each other but humans
seem to like to use use them together in
the same overall workflow so we're
pulling apart the outsides of the
products and putting them back together
in a way that they can talk to each
other in a more consistent fashion and
also the main point about that is that
they decoupled any dependency
between them particularly things in like
in the common modules in the atlassian
SDK there's a lot of things in there
that we've been able to pull apart put
back together in a way that means we can
deploy the applications into on-demand
independently and not have to have that
synchronization of versions quite so bad
and the main thing it was collaboration
between the teams so the engineering
teams focus on their product but now in
the on-demand context and delivering to
on demand every week they start thinking
a lot more about what does this change
due to impact the way I get this
software out to the users next week we
use dogfooding so we use our products
ourselves to build our products and that
mentality shift has been quite amazing
to watch in the collaboration between
the teams to get to a point where they
can more easily work work out the inter
product issues and and get things out
the door quicker is is that it's a major
major change it's absolutely necessary
if you're going to deliver your software
regularly we changed also instead of
shipping to undermanned some weeks or
months after the main product release we
decided to start shipping to on-demand
first again a large cultural change we
started taking the backlog from from on
demand because users have it have it
their first now we asked the product
teams to take ownership of their
products running on demand previously
the on-demand team who you know that the
developer team of maybe 10 to 12
developers they were the ones taking
ownership of how the products operated
in on demand but now in this new
continuous delivery world the devs in
the product teams were taking
responsibility for how their products
running on demand as well as for
download
so that pipeline changed from something
that a downstream team was was taking
responsibility for to something where
the developers upstream we're taking
responsibility for and they could see
their change from the moment they made
it through the moment it got into
production live you know within a week
they could see it the whole way along
rather than throwing it over the wall
for somebody else to deal with seems
pretty obvious but a good way to get
software out the door continuously is to
have a healthy pipeline so huge amount
of time and if it went into fixing those
tests and reducing the build times or
even built a product of use internally
called hallelujah which is a it's a
blessing it shares artifacts and and
build queues across a number of agents
and we reduce the bill times about 80%
bye-bye have it automatically
partitioning the test for us and and any
flaky tests just gets put back on and
another agent tries it and if it
succeeds then that's fine it doesn't
spoil the whole build and allows
developers to then focus on finding out
why it was flaky but they can still ship
the software so yeah eighty percent
reduction was was quite useful and then
we have this idea of traffic management
now some things are in the fast lane and
some things are in the slow lane so
anything that was is to do with keeping
up that cadence and keeping delivering
continuously is in the fast lane that's
binary artifacts that's things like the
upstream and downstream builds that the
developers are working on anything
that's keeping that that step of weekly
delivery week weekly delivery and
there's a slow lane where some some
features take quite a while to implement
like so the confluence for the new
editor took about a year of development
to complete so that obviously that
wasn't being continuously delivered but
what we did was started looking at
optional plugins and feature switches so
we can turn things off Sam mentioned
dark launches and we do that quite a lot
so on demand has a lot of the features
dark sometimes we use them we turn them
on before the big launch but a lot of
the times they're dark but they're
sitting there in a bit but working away
and the code coming off master is is in
production even though it might be not
actually working so that also helps with
marketing and any other teams around
development that aren't necessarily
needed to be part of that that cadence
of weekly delivery they can they can
work in this slow lane just helps us
partition the work there's a hell of a
lot of monitoring and metrics coming out
of on-demand we've got 18,000 customers
we've got roughly 90 thousand one
hundred thousand applications thrown at
the same time there's a lot of metrics
so by studying that activity both in
terms of the performance impact of a
change and the user behavior changes
developers get that feedback a lot
sooner now and that makes them quite
happy the interesting that thing with
continuous delivery is it not only lets
you make a change quickly it lets you
adapt quickly as well to that change so
which may mean making another change and
so that ability to be able to deliver
every week for the product teams means
they get that feedback and be able to
adapt to it anyone heard of branch by
abstraction before
so you've probably heard a feature
branches or traditional branching in an
svn but branch of our abstraction is an
interesting software design technique
where you have abstractions of ideas in
in the software and you design around it
and that this basically allows us to
have features that are available but may
not be running so those dark features
and we can switch them on and off and
what happens is the developers start by
adding this idea or a change to an
existing feature in the code and using
it themselves so it's like they alpha
test it themselves but it means nobody
else is impacted by that so the code the
code can change but the feature the old
feature or the feature use the way it
used to work still is there as well and
they can turn these switches on and off
and try it for themselves and then they
sort of push it out to their team or to
a few teams and better test it by
turning it on to one of the dog fooding
servers that we have and then more users
internally get to use it and then we end
up deploying it for the whole company so
the the company extranet and the company
the main issue tracker we all get to use
those features well before customers and
provide feedback for our own developers
because we get to use it ourselves and
then at some point it now this may take
days or weeks but at some point we then
launch it into into on-demand by turning
turning the feature on it could be an
optional plug in as well it may not be a
feature switch it may just be a plug-in
that is present or not present so this
again I think Sam was talking about
trying a trying out some of the some of
the features as you go and maybe a be
testing it's good for that too but the
main thing from a development point of
view is I can still deliver the software
off master anytime anytime whatever is
on master if i choose to i can i can
deliver
production and that's gives you a lot of
confidence that things are going to be
fine when you when you release it
another interesting thing that on demand
has ushered shared services so just
launched a few of those I get to write
some Scala for the last year which was
which was fun part of the new
architecture for on-demand is looking at
I call it the 37 things that every app
web application does things like
authentication and logging and messaging
and notifications and all those things
that every application does apart from
the thing that they're built to do so we
taking them out and running them in a
multi-tenant adore nan tenant situation
so that we can decouple those sort of
shared behavioral things from from the
actual core functionality of the
applications have and that that gives us
a lot of flexibility because now we're
not having these monolithic applications
we're having lots of services talking to
each other and they operate
independently they operate in a high
availability and horizontally scaled way
and it means that the applications can
be changed quite independently of the
services around them so that's really
cool that along with the new integration
architecture helps us independently work
with delivering applications and reduce
the impact that any one small change has
on the whole ecosystem so we're using
distributed computing principles things
we've learned about the last 20 years
and it also lets us d couple the
operations of the applications
previously with JIRA studio we'd have to
restart all the applications even if
only one changed that was just the way
we bundled it up and delivered it to
production so quite wasteful on
resources and annoying for users to now
with the shared services they've been
built from the
up as being able to be continuously
deployed so not even just continually
continuously delivered but deployed
continuously as well we deploy them
multiple times a day I can make a change
now commit it and have an introduction
in 10 minutes without impacting any
users so that's a huge step forward and
in sort of the capability and mentality
that goes into building software so what
was some lessons that we learnt along
the way I suppose the biggest lesson was
again people that was the biggest
problem and and the biggest lesson was
was people so it takes a while for
people to change their mind sets
especially if they've been doing it a
certain way for a decade if we have a
spectrum of people who believe to
continuous delivery has no value back
when we started and most people are at
that end of the spectrum to continuous
delivery is obvious why the hell
wouldn't you do it now we've shifted
most the people to that and really
that's simply by just doing it often
times until you see it yourself
happening you don't believe that it's
it's worthwhile and it takes a lot of
effort to get there so believing in that
value is quite a stretch for some people
so don't be dismayed if most people
don't agree if it's a good idea there
were some parts of the organization that
are slower to adapt to that or create a
formal process because of continuous
delivery the support teams had to adapt
because they're impacted we've got a
legendary support team that respond
really well to customers and this change
in the way software was delivered meant
that they had to also change the way
they thought about what's running now
and what do I have to look after
previously they'll used to once or twice
a year having massive change a big
release and and having what this this
rather long list of things they had to
update their knowledge on and that's
changed now to every week something
smalls there now and
and and there's a capability there now
our features changed slightly and it's
small list but lots of them over time
and the documentation team to the way
they communicate to customers and users
what's changing when it's going to
change what has changed and be able to
refer to documentation the way they put
that together had to change now they
adapted quickly informally but there are
a lot of formal processes that you have
when you're a large software
organization and those took a little
while to change as well and mostly that
was just the experimentation well what
if we do it like this what works better
for us and that of that eventually
happened but that was a listener we had
to learn that wasn't immediately
apparent when we started on that journey
the other area that had to change was
product management so the people who
think about the road maps for the
products and take all the the input from
the from all the users that they talk to
they look at the industry and then so
you'll see what's happening in
directions and the sort of features or
products that we should be building and
the way they thought about delivering
products have to change radically
because they're used to the big
marketing buzz and and something doesn't
happen when you when you're making
little changes all the time
anyone know the expression good is
greater than great we spent probably a
little bit too much time being
conservative about our delivery process
and and things like making that decision
to change to get from svn we spent a lot
a lot of that in mercurial for some of
the teams we spent a lot more time than
elapsed time and probably was warranted
to make that decision we knew were going
to do it just quite conservative about
getting there we even in terms of
delivering from master we even waited in
confluence for an extra month or two to
make that decision and in hindsight that
was complete waste of time Wisel have
just done it the build pipelines never
going to be perfect sometimes you just
got to dive in and do it and there's
always something you have to tweak
anyway so don't try and get it perfect
to just go for it and adapt yeah lots of
lots of processes got impacted a lot of
implicit impact but things like the the
district is distributable the thing that
we package together for on demand that
got changed the way we put that together
from this big monolithic and call it a
fireball it's a basically a massive zip
file of all the applications put
together in a particular way for on
demand with all the pre-integration
points built and all the initial data
put in there and ready to go change that
into something that's decomposed and
more in line with the actuality of the
products which is there separate things
and even down to the component level
that plugins are separate things tech
writing the way as i said the way the
document is put together the the
documentation on the marketing teams the
support teams customers and users the
way the way they have respond to to
getting that software changing a little
bit all the time all impacted upstream
things like the on-demand core so the
parts of on-demand that are built in
every product so that when they get
delivered on
and they know they're there the the
platform the SDK that last scene has all
the common modules and user experience
and design teams though they are all
impacted by this this new capability of
being able to deliver regularly and the
way the thought process had to change
about how they design and make changes
to the the user experience so I've been
at companies that flog continuous
integration tools for the last I don't
know seven eight years so continuous
integration is something that is in my
bloodstream so of course i turned to
those tools immediately for continuous
deployment as well and that's great and
bamboo does a good job for us the
problem was the infrastructure that i
was using was the same in continuous
deployment was the same infrastructure i
was using for continuous integration so
those big long builds that take hours or
more minutes even 20 minutes is long
enough for me that was the same
infrastructure I was using for deploying
to production which is crazy when you
think about it so lesson I learned there
was to split the infrastructure from the
build and the deployment so now we have
dedicated infrastructure for doing
continuous deployment and that my 17
second builds can run quite nicely and
not get queued up and not get into
feared with by long-running builds of
compiling and testing in the continuous
integration environment we also because
we're atlassian we build lots of stuff
ourselves so we have a deployment engine
that that is triggered by all the bamboo
tasks and its job is to coordinate each
of those 18,000 then growing instances
into being upgraded and what versions of
the different software they're running
this may be something we we packaged up
and make available to it be quite
exciting but it's just some extra
capabilities of dealing with the sort of
scale a number of applications that I
have to work with running in production
the same time this is not a problem that
most of you have so that if you do have
that problem i'll be able to talk to you
about it so that's where we got to we
have the nice if iterative and
incremental development process is
happening in each team and then
deploying or delivering to on-demand
weekly each of them can do it
independently of each other even
greenhopper is as of next next week
we'll be deploying completely
independently of JIRA to on-demand which
is great it means if you're a
greenhopper lover you'll see those
features coming through thick and fast
because the that's helpful how the team
develops them thick and fast and we will
be quite nice to be able to have them
immediately and on demand and you know
as JIRA changes it can change at a
different pace we're delivering to
on-demand first sometimes dark features
sometimes the features aren't alive yet
but they're there and waiting and then
when the big launch comes along you can
get it as a download artifact if you run
it yourself or you can have it in on
demand if you let me run it before you
which is quite exciting that's massive
change from a year and a half ago from
from a company that was delivering at
that point every ninety eight days to a
company that is now delivering their
products every week and some of the
things like the shared services on
demand have delivered multiple times a
day that's a big change and so we've
we've done a little done a lot of hard
work to get there but we're still we're
still working on things and and the main
thing as always is the pipeline so the
pipeline still tends to be fragile and
it's it's interesting we know we know
what the right thing to do is but
everyone has bad habits I have bad
habits and there's good things you can
do to go to people into not having those
bad habits so I get to wear a dunce cap
every now and then if I break the build
the other thing is that I didn't didn't
mention was when any of those shared
services get deployed into production we
have a canary test and I get to write
some ass back in some Ruby like the good
old days and i have what i call post
deployment verifications I think sound
call them smoke tests and what that
means is i deploy it into one of the
areas I've got 20 areas of
infrastructure but one of the area's get
has a canary instance and I run my post
deployment verification tests take a
couple of minutes basically they're
functional tests the same same
sorts of functional tests as you might
have in your acceptance test suite but
they're specifically the goal is
specifically to assure that the main
parts of the application work as
expected with the upgrade and that also
involves the things in the ecosystem
that cannot be tested before production
and those include some of the external
parties like Google we and there's no
sandboxing if you've got google apps so
we can log into on demand with your
Google Apps credentials if you like and
we need to make sure that that full
round-trip live production ecosystem is
working and so part of the pipeline
includes that post deployment
verification so we're investing in
tooling we're improving JIRA as a issue
tracker to deal with continuous delivery
because we're using it ourselves so we
need something that helps us with that
we're improving bamboo and stash the
dbcs and get bucket to deal with
continuous delivery so all the triggers
that happen when you commit and the
candy and the linkage and integration
between say bitbucket and bamboo to
bitbucket can tell bamboo hey you've
just made a commit so guys start
building something and then kick off the
deployment pipeline as well all getting
improved
one of the big things that you find when
you embark on a new software venture is
you have all this code and you want to
improve it so there's an on-demand we've
got lots of shell scripts and Python
scripts and Ruby scripts that need to be
simplified so part of what we're doing
now is doing that and we're looking we
have a have a pretty reasonable
configuration management database
because that's what drives all the
installations and then understands
what's running in each of the instances
but things like factor and puppet to
help declaratively describe what should
be and tell us what is and bring the two
together instead of having a lot of
scripts to do that it's nice to have
something that that you know the
industry is already built so we'll be
looking at things like like that to help
us simplify the way we upgrade and run
the applications in on demand and
hopefully all those things so all that
investment in the tooling that we're
doing that obviously get passed on so if
you're a giro of bamboo or a bit bucket
or stash user you also have those
continuous delivery improvements that
we've been able to build in because we
use that ourselves yeah integration is
something we're still working on if you
use multiple atlassian products you all
know that sometimes that's a challenge
they don't even look the same sometimes
the next release of all the products
will have a harmonious UI and a
homeowners user experience so there's a
lot of work going into integration
capabilities everything from the way you
navigate between products and link them
together to the way they talk to each
other with various plugins so you can
connect the applications and have them
provide information to each other as a
software developer it's nice to be able
to use that suite of tools and have them
share information so for us that that's
helpful another problem with on-demand
is you can't run arbitrary plugins
because I don't allow it we have very
small set of plugins that we allow to be
used because we're in a shared
constrained environment now with the
next architecture the
login system will be able to have remote
plugins so the plugins three will be
local or remote you can run them either
way and in on-demand they'll be remote
and this all comes down to a bunch of
distributed computing principles being
applied and so books like Jim Jim
Weber's book rest in practice it's used
a lot too for us to be able to make
better api's and have the applications
talk to each other in a way that isn't
tightly binding them and allow us to
come in dependently and that's it that's
a major plus wow we're a big maven shop
who uses maven it's probably the single
biggest impediment to continuous
delivery that I know of from a software
development point of view as a tool
maven snapshots equals sad panda for
continuous delivery and versioning is an
interesting thing its emotive for some
people but it has to it often has to
change in the face of continuous
delivery everything from even the format
that your version number takes may have
to change we're using some get described
and tag magic now to help us manage the
versioning so you'll start seeing some
weird numbers appearing in your jira and
confluence versions and in on demand and
even the concept for us of what is what
version is running what version of
on-demand is running it's changing it
used to be well it's that monolithic
thing we used to put together in a big
big ball and that that's that version
right now it's well it's this version of
the shared services and it's this
version of G R and it's this version of
greenhopper and it's this version of
confluence and so on so it's sort of a
it's an amalgam of version numbers now
we have to think about rather than a
single entity and that's fine because
that means we can deliver those products
and those components independently of
each other
the even the version numbering like
we're looking at things like well you'll
get zero six point 06 point 0 point 3
but then they'll be this other number at
the end and that will be the release
number and that just will continue to
Inc monotonically increase and you might
go from six point 0 point three point
one thousand to six point one point 0
point 1001 and those sort of numbers are
actually separate one thing is a
marketing number and something for users
to be able to understand what a grouping
of capabilities and features i'm using
and the other one is for us to know
where that came from and that's not
necessarily some people might have used
the svn revision number obviously with
addy VCS you don't have that so coming
up with new ways to deal with that but
effectively have having to change the
way we work with maven and maven
deployment plugins and just can
completely change the way we deal with
versions in the pom files and hopefully
that sort of knowledge will be fed back
to the community and it won't be the
terrible beast that it is i don't use
maven i use other tools but the products
use maven documentation we're still
working on there's an F and under way
now to get the information architecture
of the documents to match the code
structure the coarse-grained code
structure of the products and maybe a
little bit of both ways actually so I
get the code organization more matching
more the way people think about the
applications and use them and we're
doing that because when we make a change
to some part of the application it makes
it much easier to identify which part of
the documentation has to change so
that's good for everybody and that's
sort of work that's underway and
hopefully as a user reading the
documentation that will still make sense
and the structure will be
well understood and that's because it's
reflecting the way that the code is
structured because hopefully that makes
sense as well being way either way it
lets us quickly identify what has to
change in the documentation when the
software changes again that's a
continuous task now it's not just
something like an batch up and leave to
once or twice a year it's happening
every week and the the tech writers sit
with the devs and make change the
document documents as the code changes
which is fantastic data mining is
something we're working on with
continuous delivery comes that rapid
feedback that the I don't know it's just
a richer experience and you remember
when you get the feedback you remember
what you did to make the feedback come
about because you only did it last week
or a couple of weeks ago if it was a
dark feature so because of the feedback
and as a consequence of it and leading
to it where continuous delivery all
feeds into that and the the data that
on-demand generates is huge and we're
learning better to find that data and
add to it and and understand well where
should I put raised events in the code
so that I can understand the analytics
and also immediately see the impact on
user behavior and the impact on
performance in in production not just in
in testing and it's it again that the
cater the capability of continuous
delivery allows us to do that we
wouldn't we wouldn't have done it
otherwise marketing I said before that
each new release creates a buzz we're
pretty famous for our t-shirts and you
get t-shirts with every release and
there's some funny thing that happens
every time there's a release and that's
a big deal and marketing make it a big
deal because it's fun and users love to
see all those new features but in the
face of continuous delivery well what
what happens there and if on demands
getting
those features and we're turning them on
progressively how does that change and
so the product management teams and the
marketing area are starting to think
about how can we not only cope with that
but how can we actually turn it into an
advantage and and something we can
explore possibilities around so there'll
be some sort of get a little bit scared
because it means it will come on me to
make it happen but it's going to be
interesting to see how how product
marketing changes as well and with with
continuous delivery underway and the
biggest I've left the biggest problem to
last it's it's a it's a major issue at
atlassian it has a deep and binding it's
a deep and binding force on the way we
we live every day it's when do we have
release parties when we get out to go
drinking what do we do in with
continuous delivery with release parties
anyone got an idea of what I should do
about release parties when I'm
delivering every week continuously yes
exactly we're gonna party all the time
well that's it I hope you've got to see
some of the challenges that are that a
large software organization delivering
to for download customers and to a SAS
environment have not everybody has those
challenges we're pretty unique like that
but hopefully you can see that it can be
done and if you're in a situation where
you only have some of those constraints
that hopefully it's a lot easier for you
and if you use our tools to build your
own tools then you'll see those new
features coming through that enable you
to perform continuous delivery a little
bit better and track it anyone know what
my twitter handle means in any latin
speakers here i'll leave that as an
exercise for you any questions because
we've got about two minutes yeah so the
question was how do we tie all the tests
together for any given component or the
unit tests and functional tests so
previously the downstream team would
would look after that I mean this is in
the split from you talking about in the
split from on demand to download or just
in general yes we have you know unit
tests running all the time the
functional tests for our products are
pretty pretty laborious because we've
got to test across different databases
previously we used to have to test
across different app servers and we
still test across different data
browsers so the same functional test the
same functional test scenario is running
dozens of times so it just takes a long
time before on demand we don't have to
worry about all of those but they do
have to worry about running the
integration tests where there's things
tying the products together in on demand
so there is a separate pipeline for for
delivering to on demand that that's part
of the overall pipeline but it's
different to each of the each of the
different ones now bamboo just runs all
those tests for us we have lots and lots
and lots and lots and lots and lots of
plans dealing with that they the plans
look at different segments of the tests
as I said that run the same test
multiple times depending on the target
infrastructure and there's a lot of wall
boards and if any of them are red then
anyone square is red then that means
there's a problem obviously but nowadays
it means we can't deliver if any of
those are red so that's why they keep
them keeping green each team takes on
the responsibility for building those
tests and keeping them green we do have
QA engineers as well but they're not
responsible for keeping the test screen
they have much more valuable
responsibilities like ensuring that that
what we're testing is the right thing
and that we've thought about all the
possible things that could go wrong and
now on demand team still does some of
its own tests as I say the post
deployment verification is an example of
that that's this like a last gate of
automation before we release the Beast
into production it's it's always
changing to the the way we the way we
approach testing and the when and what
gets tested changes all the time so
probably a hard one to answer because
each week something is different the
question was about the feedback loop and
and all that information coming in so
we're still trying to deal with that
previously when you release once or
twice a year or even every few months
you have these batches of time where you
expect we're going to get a whole bunch
of feedback and we just got to trawl
through that I use a pretty cool
actually with the way they give feed
feedback and they're very generous with
with lots of information about either a
feature that would like or something
that's gone wrong and a great community
around it so we have an answers wiki now
we're actually the community answers
each other's questions which is
fantastic and what we help we obviously
contribute that as well but really it is
it is a data mining and prioritizing
exercise there's feedback that comes
back not just from users now but but all
the production infrastructure or the
monitoring systems that we have
different teams focus on different
things the the support teams focus on
things have actually impact user the
user's ability to use the software the
operations teams look more at the the
performance and the impact on
infrastructure the characteristics
around that I look at lots of stuff and
the product manager for on-demand also
looks at lots of stuff and it's just a
prioritization exercise usually we
already know something going wrong
because we've used it ourselves and so
it doesn't even get to production but
yeah it's a lot of data and we're just
learning to deal with that and still
maybe next year I'll be able to tell you
exactly what we've done
thank you very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>