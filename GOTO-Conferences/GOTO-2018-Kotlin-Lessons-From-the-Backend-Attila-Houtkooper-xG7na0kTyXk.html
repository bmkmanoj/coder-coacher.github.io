<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>GOTO 2018 • Kotlin - Lessons From the Backend • Attila Houtkooper | Coder Coacher - Coaching Coders</title><meta content="GOTO 2018 • Kotlin - Lessons From the Backend • Attila Houtkooper - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GOTO-Conferences/">GOTO Conferences</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>GOTO 2018 • Kotlin - Lessons From the Backend • Attila Houtkooper</b></h2><h5 class="post__date">2018-04-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/xG7na0kTyXk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I'm gonna talk a little bit about the
lessons from the backhand we've been
doing a project here for the past year
and that's actually live so we actually
used you choosing this stuff not going
to talk about a lot of the fancy stuff
or at least I think it's not not not the
fancy stuff because I'm gonna talk about
what we actually use when we actually
enjoy from the from the language itself
as has been said I'm CTO of machine
learning although this this is nothing
to do with that but I just really like
the language and I wanted to share this
with you so so like I said features we
use so a little bit about the basics may
be a good show of hands would be how
many are using Copland live in an actual
application okay so many people so I
will do this slide by slide if people
are not interested in seeing examples of
basic stuff then we'll move on otherwise
I have examples of basic stuff good so
I'll talk a little bit about the
integration with frameworks spring and
Jackson keto and then discuss some of
the some of the things that we sort of
struggled with or not really struggle
but sort of had a first struggle with
and then one oh yeah
before I say PHP and so I have so I have
a background in PHP no I wanted to show
you this a this is the way I got
introduced into Cokely and indeed
somebody got that right that's what I
wanted to say and by applying this to an
internal application that I made for
myself and that was initially built in
PHP okay so I chose PHP at that point
because that's what I learned to do when
I was fifteen or something like that so
fine it was very fast to to make
software it's very simple you know it's
very it's very nice to do these kinds of
things but you hit sometimes you are at
some point you hit hit the wall and you
gladly change in that speed and
simplicity for scale
the assurance of a strongly typed thing
and that really makes you happy at that
point because you just want the thing to
work but then you know in I think
October November 2016
I I ran into this Coquelin thing and I
decided to do something to check it out
basically and I got simplicity back less
code I always loved less less desu code
and I got functional stuff back I I
worked on eight months I worked on Scala
and that had a lot of functional stuff
in it but I couldn't we couldn't really
make that work in a simple way so it's
nice that we could have that mix here so
that's was my own introduction and then
when last year in May we started a new
project for a major client I said why
don't we do this in this stuff because
that's really interesting to do let's
make this happen it's gonna be this is
gonna be hot and you know you you guys
here show that so major clients they
need to move away of course from an
existing monolith most clients do and we
needed to replace a part of that so
that's what we did start at the May like
I said spring boots to buy now
climbing a trellis Gradle initially Java
but pretty soon move to move to the
common stuff so oh yeah this is gonna be
lessons from it so this is lesson one
it's cool so for those that are already
using Copelan it's pretty obvious but I
guess some of the others want to have
some some some ammunition to tell your
to tell your team why they should really
start to learn this this stuff so I'm
here to help you out so first of all why
do I want the Kotlin I don't like to
type or read fluff I want to get to the
point
Coughlin's allows me to do this I'd like
to understand the errors that that I
cause I make faults I'm a man
I make false women never make faults and
so I
I like to understand why by what it is
I love up-to-date documentation
everybody does
I'm really into predictable and relevant
api's and people pick this up very
easily so that's I think pretty good
then there's of course a bunch of other
reasons so I put them all in a word
cloud with animation anyway so lots of
reasons so now let's get to the code and
this may be the basic stuff so I'm gonna
just browse and see what we need right
what I need to get into deeper because
also talk to people that haven't used
coding as much so yeah I want to strike
a nice balance in it so I'm going to
talk about these subjects very basic
stuff first implicit types no more no
more specifying the type when you
declare somes something no no safety is
a feature that we have a lot of fun with
the methods that we can do on lists so
the functional programming part of that
and something about extensions and type
aliases that's basically what what this
talk is about for in terms of the the
basic Copland stuff so first of all
implicit types very simple you get to
define a function looks like this it's a
function that turns a string into
another string so we can call that with
my ever creative blaah example string
which you will see a lot more off I
think and then if I just opposed it to
Java then we get a little bit longer
piece of code but we still sort of like
this new syntax that Scala that that
Java introduced although I don't like
apply I don't know why it has to say
apply here I never asked for that I
don't care about apply but you know okay
that's fine no good reason yes so now I
want to do a function that has a little
bit more arguments because I write
software and that has functions with
note for arguments I stutter as well so
you know sometimes it's really really
exciting what's
going to happen next again I did it
so yeah but but sadly that that sort of
looks nice in Koplin and then in java
it's bits of sad story but there's two
two ways to be sad there's one where you
where you sort of where you sort of nest
these functions so then it looks like
you're doing something that's nice so
that's cool and then you get to apply
some more so that's nice of course this
isn't going to be a Java bashing evening
but I cannot say resist the the other
thing is where you have to determine
determine a separate interface that sort
of gives you what you want and then you
can use that and that says you know
secret interesting yeah that sort of
gets closer to where I want to be
although I don't want to be there and I
still get the one apply does anybody
want to see an example of this stuff
yeah
it's this visible for everyone yeah oh
yeah so it's a very stupid and simple
example but we can run it at least and
then it's too big thing but you know so
okay that's interesting so it generates
a function or it's it it it generates
string oh yeah right I call this string
how that's stupid that should have been
blah right I don't like that make that
obvious so there is there you go so it's
very very basic stuff we can we can
define a function without it being the
member of a class or anything just an
inline thing and then just use use use
that so far so simple I would say if
there's questions and I'm looking at my
screen a lot please just shout out and
say hey but wait you know sort of thing
and then of course a Java equivalent is
this is like I said like I showed on a
slide it's a little bit more involved
okay good let's look at something else
no null safety so one of these sort of
billion dollar mistakes is that as it
has been dubbed is is is to the
introduction of no because of all the
faults that dead are made and then we
still try to deal with this stuff and
coughlin does this I think in a really
nice way in principle basically you say
in a very short way you say well this
could be a string it could also not be a
string in this case I'm very being
really explicit that it's not a string
but that could have been a var or it
could have been something that comes out
of a function and that could have been
not that obvious and then we have a way
to say well let's get a default value so
here what you also see is that an if
statement actually returns a value so
you can use that as an inline thing as a
replacement for the ternary operator so
here we say if it's no than then give me
anonymous or the otherwise use that
string and what's nice about cotton is
well
is that it does a smart cost so that
maybe string outside of this outside of
this else block was a string that might
be a no but in here it's gonna be an
actual string like a hard string because
we know that we've already checked
whether the question mark was there and
if that's not the case then we know that
this is gonna be an actual string so
that's really nice but we could make
that a little shorter by using the Elvis
operator which is nice and then yeah
that that becomes a nice small thing so
far so good I really like it
save calls here we can sort of chain the
calls that we would want to do on an
object in this case this string but do
it on a precondition that it's not no so
here we would say here would say get me
the length of the string if that string
is not no okay fine
do you want an example of that sure less
enthusiasm already okay that's good
that's good no that's fine it's fine I
just spent hours on this stuff man no is
there anything else that I showed on the
slide yes a little bit I didn't show
this part where you say well I know that
it might be no but in this case I'm
really certain that it's not gonna be no
there's just you know I I just know that
it's not gonna be no ideally wouldn't
have much of this in your code but in
the end you're using frameworks that
don't really know about this stuff and
then you'll see that you're using this
more than you would like but it's yeah I
mean it works so yeah that's that's it
good next I'm so happy I brought a
clicker because I'm never at a keyboard
and oh yeah I have a question I guess so
there's one thing that I like about Java
or for that matter another language that
also does the optional thing class and
that is that I can map over the optional
which more often than not I would like
to do the
because what is mapping of an optional
no other than just a generalized form of
this this final case right right here
here here I'm saying if I have a string
I want the length field okay fine
but maybe I would like to do an
arbitrary operation once that that that
string is an actual string and Java
gives me that I can make an optional
which is you know sort of the equivalent
of that question mark thing and then I
can do map map on that stuff so that
means that if this were this were an
actual string that would become value
plus that string but if it were no it
puts or if it was if it was an empty
optional or no in this case that would
just leave that be so I I would like to
see this however this does not work
which basically says well we have to go
we have our favorite string here again
and then we say well if that is there do
this operation we with it and then its
variables to default that you use within
these within these within these
operations however it's got its got the
crossed fingers there it's not it's not
in maybe in the future future version of
this let's
okay cool thanks I guess I made a
mistake okay cool I'll look that up oh
yeah so down then that that point
doesn't matter I've got ya
moving on okay functionals just for
everyone who isn't aware of functional
programming I didn't put a full list of
what what what sort of I mean by by that
but these these are three of the most
common functions how many of you don't
do functional programming cool but for
you for guys I've made this slide so
it's really really simple Mac turns a
list of something into some into a list
of something else flat map turns a list
of lists which more often than you would
expect actually happens in code into a
list of something else which is really
nice and then group by does the group
bias you would expect it from SQL or
whatever you have which turns a list
into X into a map of something else and
pointing to a list of things that have
the same Y so to say then that looks in
that looks like this
which is bigger do this so here what I
created is this short transformation
function it takes a list of these report
object on the top there in this case
it's only one but you know I was lazy
and it turns that into an object that
holds the average of the scores that are
included in the original objects and
some things called something some a list
of some things called score records now
which is really nice is the averages is
pretty easy to to get you just do a you
just make sure that the score that
you're talking about is not no and by
that time you're certain that that score
that used to be a nullable int is is an
actual int and then you can you can you
can have the average of that then you
group by which again sort of speaks for
for itself there and IntelliJ is is nice
enough to sort of show us but then that
type would be and and we we flat map of
over that stuff
turning a a list which are they which is
the list of River reports into a list of
his score records that is that is what
we want and then by flat map we get one
list that holds all of these things all
together and then finally finally we
have a sort of a check that says well if
that reports thing used to be empty or
was was actually empty then nevermind
give me nothing in otherwise give me
this new thing okay so that's good so
how does it look in Java and that's
great so you've got sort of the same
thing I have to have to get that get it
a little bit out of the way but the
average becomes a wonderful
of stream weird collector stuff
averaging double then get the double
value for the standards it's just a very
very hard to read bunch of stuff then
here there's a for each that generates
that value and collecting a group thing
it's to me I know what I like better and
in fact if I look at the actual code
this actually turns into very hard to
read stuff just very hard to read um
alright I'm hearing sighs so I'm moving
on
Coughlin's hands say oh it's fine you
know it's been a long day
so Kotlin has a bias towards
immutability so that's so and and that's
actually some something that I really
really like in my in my local very
variables and in my fields that I can
say well there's actually a vowel in
common terms and we don't want that to
be changed ever again so that's that's
really nice and and it's a nice shortcut
they have the valve for the 40 things
that for the things that that may not
change in the VAR for the things that
may and for classes they did a little
bit of a different thing they just said
well the default thing is final so when
you declare a class you you you
automatically get a final final class
and when only when you explicitly say
this is open then then you get a class
that that may be extended which I will
come back to but it's important to keep
this in mind that that that that is
there another nice feature of Copelan
that we use not that much but it's still
nice to show is the extensions feature
where you can say well actually put this
method on any anything that debt debt is
of a certain type
much akin to what you can do in
JavaScript as well you can just extend
the API of a standard standard object in
this way or an object that is final or
something like that in this case I
wanted a random range of a certain list
so I could just say well add that to the
list to the list interface another thing
which is nice here is that you get this
operator that will give you a range with
an infix function which is more to the
DSL side of things but still a nice
feature to be aware of as well
type aliases are really useful for sort
of abstracting the complexity in your
data structures I showed that Java
function sort of signature it would be
really handy for that stuff
now we cannot use it in Java so so that
doesn't go but but for all the other
cases within within Cokely itself it's
really really handy to have where you
can say well if I talk about a file
table then actually really what I'm
talking about is a mute mutable map of
things and then I can use that in
assignments now it's actually not that
useful in this example but what we found
it to be really useful at is when we're
passing around these sorts of objects
from one method into another but we're
not really doing anything we're just
passing it in in to the next then it's
really handy to have a shortcut so you
don't have this signature of this of
this of this object all over the place
that's a good one and so and as sec
secondly you can also do that it with
with with functions where it looks like
you have a class now but it's really
just an anonymous function that says I'm
turning a string into something else
whatever it may may be and then we can
actually use you choose that in that way
it's a really nice one as well I think
typing is is yeah just just that it does
that so just yeah did I think cars it
okay good
so that was lesson one it's cool any
questions so far
yeah this one
you mean this this on the on the bottom
line yeah what do you want to know about
the ballot or just observing that as
viewers yeah okay
well you've got the type of the function
which is this
so this basically says this is the
signature of what you're going to create
which says I take a string and I
generate a key yes I get it I got it
yeah I was going there I was going from
you know and and then the assignment
says well if I want something of that
type which is in the end what this thing
is saying or at least it's int then I
want to I want to declare that so this
is the Declaration of that function
itself in this case a curly bracket
saying you know give me a string and I
will give you the length of that string
you mean could you take this out
I actually I tried that and I think you
can't although I would expect that you
would be able to but if somebody smarter
than me please please let me know that
I'm wrong but I would expect indeed that
you would be able to take this out
because it would be able to find that
type by going through through the
Declaration and sort of seeing ah that
must be a string not you know let's try
it out
oh sorry sorry you're competing right
yeah that's not that's not helping
that may be meanness yeah exactly and we
can do this so it becomes even more even
more short yeah you're you're absolutely
right
I think I try to remove there or
something I must have been doing doing
the same thing that's stupid but yeah
indeed so then it becomes even more even
more interesting where it says okay we
can take this shortcut because if this
is this is if we don't want to give that
an explicit name then we have the
default name of it so we don't have to
do any of the I'm getting this and now I
want to do that with it no it's just
gonna be I want to do that and that's
that's basically what that does good
stuff okay
right so that was lesson one and any
other questions also super super clear
good let's get the one about
implementing Copland into your projects
there is I made a funny slide I remember
now it's with the Simpsons I haven't
decided how to do this yet so this
you're you're gonna be the big the big
experimental group so this is Homer
talking right Homer decided to change
you need a little little little bit of
story here Homer at some point decided
to change his name into max power don't
know why why he did did it well that's
that's a part of the story as well but
let's not go into the details and now
he's telling his kids what it's like to
be that man so he says kids there are
three ways of doing things the right way
the wrong way and the max power way cool
so Bart asks isn't that the wrong way
and Homer says yes but faster
so let's talk about ways to make this
change good so the first one is woohoo
do do do everything in coupling just
throw out all that Java stuff it's all
way too much and it's annoying and just
make it all nice and clean stuff get it
to me
provided that you were not super guru at
Coughlin yet and you and you've got some
experience in Java this is probably a
pretty bad idea
so that would I would call it the next
power way of doing things although this
isn't the wrong way faster
I must admit but still this is pretty
pretty yeah pretty surely the other one
is to say well I really like the
Scotland stuff it's really short and
nice and I can do details and it's very
nice data class way and whoohoo let's
use it only for the tests I don't really
get that to me that's also that's
strange on my side but yeah so that's
also the wrong way because then you're
losing out on on on a lot more fun that
you would be having if you were to just
use it everywhere but then using it
everywhere shouldn't be done all in one
big big big blow but doing it step by
step so what did the team say when I
when I said when when they sort of
joined and they said well ok we
apparently are doing this thing so
initially somebody said who is here
right now maybe they can do it what is
this right because I'm used to Java
what is this crap about var and Val's
this JavaScript or some something and
then pretty soon they get to the real
realization and it actually works really
really well it's very it's a very
intuitive way what I found is that apart
from setting up the initial application
and doing the sort of the the hard parts
of making sure the framer works sort of
the little nooks and crannies apart from
that it went really really smoothly
in terms of a team that wasn't used to
the language at all applying it and you
you choosing it and finding it really
really nice to the point where they they
RiRi rejoined another Java thing and
actually said you know I'd rather do the
co clean thing instead but you know its
life so that's so that's that's really
really good however you cannot have this
unless you do this in a smart way
because you don't want to be the guy
that's that that that this that has to
tell the clients yeah we spent a week
trying to figure out how this flatmap
thing works and yeah for volunteer but I
don't know what luckily it never
happened because we did it step by step
we did the small stuff first the simple
stuff and then we incrementally took
over the other classes as well but don't
be don't be the team that sort of ends
up with some cause in Java and some some
in Koplin because then you're losing out
on a lot of this simplicity that you
would be having because then you still
have to keep in your mind oh yeah this
is the way it's going to work in Java
and and how does that work with the
getters in the setters and all that
stuff just make sure that you're honest
slow and steady road towards just a pure
of your cosine application that was
lesson two
any questions about this
yeah
yeah so the question is how do you how
do you introduce Kotlin on a on a on a
on a team that is already working on a
big Java project basically I think
there's a there's a number of ways to do
this the nice thing about cotton is that
it's not you don't have to do it all in
Cortland so one of the sub steps might
be to take for instance the tests say
well let me do a test let me create this
test suite in Kotlin and see how far we
can take this but if you want to get
people really riled up and enthusiastic
let them let them do this on their own
have a session where you start saying
well what if we could create this part
of the application again and then using
this using this new thing and then
people actually get their hands on it
instead of this guy that you know does
does the new and hot stuff it becomes a
thing that's owned by the entire team
that says hey we really really like this
stuff we would like to do this as a team
learn this stuff and move towards this
this this new thing so I think those are
those are the things that you could you
could look duke at does that sort of
answer your question okay yeah you
productive member happens within two or
three days I would say the change and
and then I'm talking about making cheap
changes on existing code that is due to
a very intuitive API you know you have a
list you would like to do something with
that list and that API is likely to have
been written already so you don't have
to work around the API you just use the
API so that's that's that's very very
nice to become to actually master this
stuff there are a few sort of like I
said nooks and crannies where work where
the the mix of Copelan with an existing
framework will give you some sort of
some sort of headaches where you need
some experience and need some time to
figure out how you should do this stuff
so yeah that's that's that's the way
that I would describe it I would say
with the team members that I've I've
discussed this and and I don't see a
very steep learning curve as well
because the interoperability is good so
if somebody says something like I want
this list to be of type
arraylist for example which isn't a
thing that you would need to do it would
still accept it it would still say yeah
sure fine I'll make this an aerialist
you know but it'll yeah they'll just say
fine I'll turn it into my own little
coupling list and and move on so in that
respect it's very forgiving in its
syntax as well and then of course you
need to have in mind that you sometimes
clean it up and say well where do we get
a lot of java.util things let's let's
clean that stuff out because we don't
need it but yeah so that's the way we go
answer your question another question
there in the back yeah
I didn't and I'm going to talk about it
in in in minutes we basically used JJ
units for it
any other questions okay cool so here I
here I get to talk about sort of the
problems that can be constant one hand
in other words there are very few
problems in far foreign widening between
so first of all you get the
interoperability with Java very simple
example of this is let's look at
collections transformer again this code
has more lines than the Copelan than a
kolten Wong
well the cotinine one actually also has
it also has the classes of the objects
that were that we're working on and the
java one actually you chooses that so
just it gets a report which isn't the
java class it's just a a class that we
declared here and then we get you know
we get our study getters and setters and
all that stuff just just out of the
books which is again very very nice if
you're gonna be building a part of this
in Koplin you're going to be able to use
that in java and the other way other way
around as well
next to that some i already talked about
the lists and their errand lists and
stuff like that
next to that is when in java you do
declare a string that turns into a
string that may be no so here you find
some clashes with frameworks where are
you saying well this is going to be a
string but you know it turns into a
string that may be no and now you have
to deal with all these things that may
be mill while you're really certain that
they're that they're not know so yeah
let's look at a bit little bit a little
bit of jackson because it in the pins
the rest stuff that spring does and I
think it's a nice way to sort of start
simply which the length of this code
will reveal okay so what I did is a very
simple mapper and just just a few
examples of this of this thing let me
run it so yes so I have a class that I
would like to read I would do it like
this basically passing in a type
parameter saying well this is supposed
to be an instance of this type and then
and then passing in the Jade Jade JSON
string what I did is I added a couple of
interesting things here first of all I
made a data class which is a shorthand
way to declare a class you immediately
get to you only have to write this part
basically and that just deep yet
declares the entire thing from setters
to gathers to do all the things what is
what is then interesting to see is that
we can have we can have an ID that has
to be there but the description need
needs the description need not so if we
skip that it becomes know what is and
the same thing goes for the fancy code
and the and these awesome actually does
need to be there we also see that we're
getting default value values which
doesn't make me super happy for instance
for the falls and for the zero but you
know that's that's I guess what we get
I'll get back to that in a minute
what is nice here is that we can
override the not to my liking feature of
removing the is prefix from from JSON
objects
so we can just pass in an actual thing
that actually matches the field that we
want to fill which I like better than
the other way so then we have to do this
sort of new to me annotation that allows
us to to to manipulate how the value is
set so that's one the second thing is
very nice it's a DC réaliser for in this
case a sort of a magically formatted
string which I would like to have inside
of an object so here I create a D
serializer that goes into goes into the
JSON node tree and sort of gets that
string if it's there and otherwise
doesn't well it's nice here to see or
what is interesting here to see is that
we have here an annotation that
indicates that that we're doing an
overload on a java class for the
constructor here was also nice to see is
that we immediately can pass the value
that we got here immediately into there
we're in Java you would do a constructor
which then calls super etc etc here we
can just have that within that one line
saying well this maps directly to that
argument on the on the class that we are
extending which i think is a nice
feature as well any questions about this
none yet yeah I don't have any questions
prepared so either you're gonna have to
eat the chocolates on your own or if you
have any questions you can pass it to
the room okay sorry I should have told
you okay so that's Jackson yes
yeah
that is a good question and I don't have
an answer for you for that and B yeah
how does it differ from any is that a
what can anybody indicate the difference
between that there's also in any sort of
rude rude okay rise okay
okay okay so it's really it's really
beyond that it doesn't need to be
anything basic basically
okay oh cool that's cool
I didn't didn't dive into that yet
alright next is clauses are final by
default which is absolutely great when
you're not using any frameworks because
then you get exactly what you want you
want everything to be final and fixed
unless you open it up you know this is
this is a new way of doing things and we
really love it I love it for valve
values but for classes hmm it's sort of
it's sort of annoying because we used to
not we used to not know which was nice
spring would do all kinds of magic stuff
extending our classes and wrapping it
around things and and and I used to not
not be really really prayer of that and
now we have to we have to do that
because it turns out that any of the
classes that are annotated with this
stuff actually need to be open because
they will be extended at runtime so we
can do this in two ways you can either
go through our code and at the open word
for all the things that we know spring
will extend or we centralize that
knowledge and use the coupling all open
hmm
ergun for which you see the Gradle
syntax and sort of add the list of
annotations that we for which we want
the class and the methods to be fully
open which is nice I can show the Gradle
file but it doesn't show anything more
than this so I'll forego that any
questions or observations about this
excellent then I guess the knowledge is
centralized which would be nice indeed
that's good
so about the interoperability with
framework so like I already mentioned a
bunch of these frameworks will say well
this returns a string in Java and that
10 turns into a string which may be no
in Koplin which is really annoying for
stuff for which you just know that it's
gonna be a string and if it's not a
string then just give me an error I
don't want to deal with this stuff
luckily with spring boot 2 they added a
lot of annotations saying specifically
this is not never going to be known so
that's that's really a useful useful
development for Kotlin a 2 point where
where spring accurately talks about yeah
this is this is an optimization for
Kaufmann and this is how you you choose
it so next to the Android stack now also
spring actively looks at this language
as a serious serious option let's look a
little bit at the rest controller there
yeah time cool that is ridiculous
so what I did here is I wanted to go
pretty deep into this which basically in
the end is your argument against using
data classes but it and it may be due to
my lack of lack of understanding so I
would really like to
I basically may made three three
alternative ways of reading a JSON
object and actually sponsoring it back
in to whomever sent it and the sort of
the most the most long way is the only
way that that actually gives me what I
want but it's also a bit weird because I
annotate a field to not be no and then I
say yeah that thing maybe no which sucks
to me but the only thing that actually
works it actually gives me an error when
I send ID that is no it actually says
this is this is wrong
etc etc let's see
if I've got that thing open five minutes
that's depressing so let's look at that
so I removed the idea from the coal and
I get a wonderful in 17 fold error that
says somebody give me give me a handle I
can't get a handle there it is
just above the line of course so I give
a 7 I get a huge huge amount of
information that tells me this one field
is missing which is gay I guess what I
wanted or or I should do something with
this exception on the back end that
makes it shorter but if I use any of the
other methods I get again my dreaded
zero default for for for missing stuff
and then I try it another way I get the
same thing so not not super not super
happy about that does anybody have any
experience with that and sort of did
this in a nicer way that they solve this
sorry I want to get an error when I pass
in know for an ID or missing the half
the field missing and I would I would
actually I would like to say this and in
fact I would like to also say this this
is gonna be set only once so I don't
want this I want to see this doesn't
work but I I would be seeing this
because this thing is sense and I don't
want to change
I don't want anybody to change this this
this thing because this is what the
client said I don't want anybody to
operate on it I want to have that very
very very tight my mitts I have in fact
this this should be enough right
the ad not know is not even necessary
but let's suppose that I'm sort of
flexible fine but that should should
really not be there so that's what I
would like to achieve
that's on VARs and that's that doesn't
do well for forints I think was a yeah
it's gonna say that it's not allowed on
primitive types so then what I then
would do is I would have a bunch of
these fields that would be that but then
the ins wouldn't be that which is also
making making my face go all frowny and
stuff so yeah I I remember something
about five minutes so unless somebody
now says oh you wanted to do that that's
easy just use let no okay yeah cool
thanks excellent so that was some time
ago no those five minutes let's go and
oh yeah about the tests I don't want you
guys to miss out on that and neither
would Adele right transformer test so
very very very simple the most basic
basic form of test it's just the thing
that oh yeah I have to show you the
transformer class that transforms a
string and does basically what the
anonymous function did in the past I
just want to make it simple but have a
class around it so it turns a string
into an int fine
and the test then says well assert that
that transformer is actually actually
think the only thing that's that's sort
of annoying and interesting here is that
because this is a keyword we have to do
the backticks thing which is annoying
but you know well we'll get used to that
I guess then we have something that does
sort of a dependency injection so it
says well this is a surface and it gets
a transformer I don't know what the
transformer is but when I get it I'm
going to call that transform on a
transformer from I transform friction on
said something about transformers so so
how do we deal with that we we we make
Mach now we again get the tactics for
when because there's also a wind thing
and we get and now sort of a little bit
of a nastiness which is which is a
framework issue that we have to pass in
the Java flavor of the class now okay
well there are there are ways and means
to get around that but it basically ends
up making and making a function that
does it for you and it can be is and etc
we can mock that stuff what is
interesting to see is that that class
then has to be open for mojito to work
it needs to be able to to extend that
class so and if let me see that's sort
of that yeah I can show you what all the
stuff that happens when you don't do
that there is example for closed class
that fails a an open class with a close
method that fails and then something
that's open it actually works in line
okay
and it's instead of the standard mojito
okay yeah yeah by an hire month or
something like that right yeah yeah I'm
using that one as well but then that
doesn't open your classes I think it
just gives yeah yeah excellent good good
point Thanks
any other questions yes
what's your xx question
yes
that may be true by the time I tried
mojito - it didn't interoperate well or
it was an experimental feature that that
that did the class extension in that I
don't know if it's stabilized now but
okay
okay oh that's that's good that's that's
a great one as well thank you for for
that great okay we are probably in the
negative only amounts of minutes left so
let's go on oh yeah
future lessons so I'm I'm almost there
that's that's that's good
so the fancy stuff we haven't used yet
so we didn't use the routines I heard
one or two people be really excited
about that
we don't use lazy evaluation yet
although it's it's a pretty nice nice
feature and there's an example which I
would show you we don't use to copelan
to your cell and said of the gradle
standard one I looked into it shortly
but then I ran into API troubles and I
was like Gradle still has some issues
and we don't use dear cells in general
and we have looked at cotton native or
any any other of that other language
stuff so not on the client side not on
the JavaScript side either
um concluding thoughts yeah it's free
lessons I hope that's come across so
it's cool I really like it really really
enjoy that it's so easy to learn but if
you do this do it step by step really
have the advantage of using Java and
Kotlin next to each other for some time
at least to make sure that you're not
inside of a new world where you're like
yeah I used to be a really good Java
developer and now I suck at this so
sorry client you have to wait for three
weeks before I figure it stuff out
don't be at that at that point that's
not good and then but the problems that
you will hit are really really minor or
really limited in number so yeah that's
it
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>