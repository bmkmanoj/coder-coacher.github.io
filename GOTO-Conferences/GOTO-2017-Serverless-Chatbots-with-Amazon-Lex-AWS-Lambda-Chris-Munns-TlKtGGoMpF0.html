<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>GOTO 2017 • Serverless Chatbots with Amazon Lex &amp; AWS Lambda • Chris Munns | Coder Coacher - Coaching Coders</title><meta content="GOTO 2017 • Serverless Chatbots with Amazon Lex &amp; AWS Lambda • Chris Munns - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GOTO-Conferences/">GOTO Conferences</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>GOTO 2017 • Serverless Chatbots with Amazon Lex &amp; AWS Lambda • Chris Munns</b></h2><h5 class="post__date">2017-08-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/TlKtGGoMpF0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all right cool I'm gonna get started
here thank you all for coming to this
session and hopefully you'll stick
around here in the track from the next
couple talks my name is Chris Mundy I'm
here from Amazon Web Services and we
talking today about service chat bots
with Amazon Lex and AWS lambda this is
my first time ever at a go-to conference
so far pretty awesome day a lot of
really good deep talk slips one too far
but I really appreciate you providing me
some feedback on this and let me know
what I could do better in the future
if I were to come to these conferences
or just in general so in terms of who I
am again my name is Chris bonds with
currently a senior developer advocate
for server lists at AWS based in our New
York City office I've been an AWS for
just about five years now across three
different roles previous to this I was
the global business manager for all our
DevOps products for a little over three
years I was a Solutions Architect at AWS
but I actually come from the ops
background so I'm someone who spent time
in data centers doing rack and stack and
wiring and managing Linux hosts and
doing a lot of shell scripting and all
that kind of stuff and over the last
couple years I've kind of focused more
on the DevOps space to do a lot of CI
NCD infrastructure automation and then
kind of over the last 12 months have
become really really really excited
about what services and what's funny is
my interest in service pretty much
throws my entire previous career
experience out the window so a little
bit of a challenge but I think one of
the really interesting things in the
industry and we'll be talking about this
more today so why are we here so two
different topics today kind of married
together one chat box the other server
lists this start was kind of a brief
intro to how we think about service at
AWS so we talked about server let's we
talk about services that kind of meet
four different criteria they have to not
have anything to you to manage your
provision so now instances no physical
servers obviously not even containers so
we don't consider containers anything
have to do with server list they will
scale with usage so what this means is
that you should never have to say that
you need a certain amount of widgets or
gizmos or instances or anything else in
terms of throughput or capacity going
along with this you should never have to
pay
for Idol so if you're never going to
have to pre provision things and you
should never have to pay for Idol things
that are sitting around being unused and
lastly leave that high availability
fault tolerance should be built into it
so AWS we have a concept of region these
are these geographic locations where we
have our infrastructure is about 16 of
those today around the globe
those have been made up of availability
zones you can think of them kind of as
independent data centers that are
typically within a couple miles of each
other such that we typically recommend
that customers build their
infrastructure spanning availability
zones for high availability and fault
tolerance but in the world of survey
lists you should never have to think
about that planning of where your
infrastructure lives it should be
completely taken care of and provided
for you another aspect of serverless and
it kind of goes back to the keynote this
morning is this concept of event-driven
computing and so we've seen event-driven
computing really take off in the last
couple years and then what that's let
itself to is those concepts called
functions as a service but where you
completely decompose your application
down into individual functions and those
functions are ideally only being
executed at event trigger time and
providing the value that they do based
on what that value base what that
function does and so in our model at AWS
we find the center of that world to be a
product of ours called AWS lambda and
I'll come back to talk about lambda a
little more depth towards the end of
this session here today so we consider
lambda to be serviced in the sense that
it's event-driven its function as a
service and it meets the for prior
criteria that I was talking about so you
never have to pay provision it you never
have to deal with scaling it you know
pay for idle and it has high
availability and fault tolerance built
into it again we'll talk about lambda
and see an action here a little bit now
lambda is a pretty hot service for us we
launched it back in 2014 and what we've
seen is customers doing all sorts of
cool things with it so there's a number
of different use cases from web backends
to web actual applications chatbots
IT automation Amazon Alexa so the Alexa
is powered by lambda 4 skills largely
and then things like data processing
which is actually a really really really
huge use case for for lambda and so
today's talk obviously we're going to be
focusing on the chat bot use case
lambda and what it can do to help
simplify the backend that you have for
your chatbot so enough about lambda come
back to the next topic which is that of
chatbots
so we've seen over the last I guess just
about 10 years now since the iPhone came
out this huge evolution in terms of how
you're dealing with interfacing with
computer based applications so once upon
a time we had punch cards and then tape
based applications eventually we moved
on to GUI based applications pointers
sliders you know things that we clicked
on and did stuff with and now we're
finding is that there's a lot of
applications that are conversational
based and so companies are making use of
chat BOTS for all sorts of different
things whether they be customer support
related or sales related information
related you've got things like Pizza Hut
which has an app that you can use to
order pizza a Capital One which has a
capability through Amazon Alexa to check
out your bank account status and other
banking information all sorts of
different companies that are using it
for support reasons I know I've used it
once to process a return from an
e-commerce company that I bought
something from and so this new
generation of interfaces is very
different and so there's some key
characteristics that make up this new
world of interfaces again the other ones
that you have are very rigid punch cards
being incredibly rigid then moving on to
things like web interfaces where you had
certain key buttons
certain things you could fill in now
when we talk about chat BOTS we're
finding is it's a completely different
way of communicating right chat BOTS can
kind of have a personality to them and
we see this again with things like Alexa
with Siri that they have kind of a
personality that they're known for
sometimes you can ask them things but
funny things tell me a joke or something
like that and they'll respond back and
do that so we see them being much more
natural in terms of the way that you
communicate with them ideally much more
accessible right so whether you have a
speaking different language or you have
maybe a certain dialect to a language or
you live in the south and you talk
someplace you live in Chicago and you
talk really really weird compared to
those of us from New York City right
there's all these different things that
we want our chat BOTS whether text or
verbal based to to work for it
on demand so we don't necessarily know
when a chatbot might be used a lot more
unpredictable when it comes to average
customer load or usage for chatbot and
the last thing you want these to be very
efficient alright we want to give people
the information that they're looking for
very quickly and they may not
necessarily know what they're looking
for we could do things to guide them in
the right direction it's already kind of
talked about some of the use cases and
there's just a lot that are out there
broken down across kind of four main
categories that we see so informational
bots again things like you land on a
website and says hey do you have any
questions about what you're seeing here
application based BOTS so this is what I
kind of like to lump together into what
people today call chat opps so chat Ops
is this new kind of IT movement flash
functionality focused thing where teams
are building BOTS to help them with
things like deployments monitoring
metrics you know all sorts of
infrastructure related things enterprise
productivity bots so we're seeing
companies now building BOTS internally
to help with things like processing
insurance claims let's say there's a
number of different things that are out
there and then Internet of Things BOTS
these are typically ones that you don't
interface with exactly the same way as
these others but this is things like
asking Alexa to turn on the lights or
asking Alexa to lower the blinds right
these are kind of different ways of
interfacing with not a computer
interface that's going to give you other
information but with the world around us
in a somewhat physical way so given all
this though there's a lot of challenges
typically with BOTS for years people
have been making BOTS and typically you
have a very pre-programmed interface
you're expecting some preset text to be
put in or certain phrases and as you try
to get more and more dynamic of those
phrases it requires a lot of interesting
technology to support that right not all
of us is going to go into an app like
the Domino's Pizza app and order pizza
the same way some people might say hey I
want a pie hey I want a pizza
I'd like pepperoni pizza there's all
sorts of different things that one could
say that would cause the bot we would
hope to be able to understand what we're
looking for and be able to act upon that
then again we've got things like
language differences so a whole number
of different kind of things that we'd be
looking into that are issues or
challenges with traditionally writing
chat BOTS so an Amazon
we've been working on this problem and
we launched the election a couple years
back and just within the last year
actually going back about five months
ago now we released a product called
Amazon Lex so Amazon Lex is the one of
the components that makes up Alexa under
the hood it's responsible for speech
recognition and then also for natural
language technology and so with Lex and
we'll show this working here we could
build conversational BOTS that take some
level of us not needing to build exact
programmatic interfaces because it's
going to help us understand some of the
week all intents and our tensions around
what we want to do with our app and so
elect so I'll X something you can go and
use today fully managed service for you
you don't have to run anything doesn't
require any infrastructure on your side
so what are the components of Lex
so with Lex there's a couple of
different kind of key terms that we need
to know we have an intent which is kind
of the action that we want to take book
a hotel find me a flight order me a
pizza launch this instant deploy the
code right that is an intent to give us
an action that you want to execute upon
from there then we have utterances
utterances are the things that are used
typically to key off in a tent or to
help fill in information about the
intent then we have flop this kind of
further information so we say I want to
watch an incidence comes back and says
what kind of instance and you say I want
to launch a large instance or I like to
order a pizza what kind of pizza would
you like to order a large pizza would
you like any toppings pepperoni so
there's various options or what are
considered slots and then lastly there's
fulfillment of this bot action so this
is after we've given our bot all the
information that it needs to do it needs
to do the botton is going to do that
work and execute that upon us and this
is typically where your business logic
lives and where it's interfacing with
other systems on your side and so forth
so we see this here is an example in a
mobile application using lex so let's
break down a little further what is
actually happening here behind the
scenes so lex supports both text and
voice based input so you can build into
your application
boys capture and pass it in or you could
just have it be a text-based bot maybe
and I'll show an example of this in
slack here in a little bit so Lex is
going to take that audio or that text
it's then going to break it down using
the speech recognition technology that
we have into the key phrases or keywords
that are part of the input that I send
into it from here then it's going to use
the natural language processing
technology that we have in Amazon again
is the same stuff used behind Alexa
behind the scenes to figure out what the
intent is of what we're trying to do
from here then it's going to look at the
intent and understand okay what's lots
of information do I have to fill in
about this this intention that I'm
trying to act upon and so we see here
that we're trying to book a hotel so
where I said I'd like to book a hotel
it's going to come back and ask us some
information about what city what check
in what check out and we have the
ability to do things such as validate
this information provide different
options as part of this so we can call
out to things like lambda which we'll
talk a little bit more about later but
at some point we've answered all the
questions that our bot has and then it
can go ahead and fulfill this for us so
again assuming that we're maybe someone
like Expedia or kayak this could be
something that could exist on our
website you know then we can go down and
actually execute on this intention that
I have as a customer or as a user of the
spot Polly which I'm not talking about
much at all today is another one of the
sibling services to Lex
an Amazon Polly is the voice technology
that exists in Alexa and allows it to
speak out word text that you sent into
it and so you could then have your chat
bot if it was a verbal chat bot or an
Amazon Alexa skill speak back out the
text that's been sent into it so
breaking this down again uttering
sisters are the things that key off our
intentions so these are things again
like I'd like to book a hotel I want to
make a hotel reservation can you help me
make my up we've booked my hotel and I
want a book a hotel in New York City all
right these are the actions I want it to
take slops then again are the
information about the intention
basically what is needed for my
intention to be fulfilled
so we see some examples here of a
destination and check-in and check-out
those have various types and then they
have various values that could be
considered acceptable for them we can
have our by asked information about
these slots right so we wanted to
understand okay if I have these plots
that exist I want to reach out and ask
for this information in some way and so
we can make it as you'll see here in a
little bit ask these questions of us so
on the fulfillment side basically the
execution of our bought action today we
support lambda and then going back to
the client with the information so you
could potentially have Lex stand alone
inside of your application go back to
your application with the information
for fulfillment and then have another
part of your process fulfill it or you
could integrate with lambda for that
fulfillment and I'm going to do a little
demo
cool all right so this is the new Lex
interface I already have a couple bots
that I have created
since folks in the back of the side see
the text is it large enough you want to
make it bigger a little bigger okay
thanks it's a little difficult to see I
make it too big cool so let's go ahead
to take a look at an existing bot that I
have and I made this pot earlier today
as I was trying to hack together
something a little bit for this demo
this is called Jack's Bar and Grille
Jack happens to be the name of my my
eight month old son and so we want to
have here is a bot that I could use to
order food and so what I've done here is
I have a single intent which is order
burger I then have a number of slot
pipes so these are potential
capabilities about optimal dosage
neither about my burger that I might be
interested in typically don't have flour
types on a burger so what I could see
here is that I've created a couple of
sample utterances right so these are the
phrases that my bot is going to be
looking for to trigger the intent that
it's then going to gather slot
information on that it might eventually
fulfill and so I've said things like I
would like to or I would like to order
burger I want a burger can I have a
hamburger I'd like a hamburger and I
could do a number of these to help kind
of inform Lexx of what I'm looking for
but I don't have to meet every single
phrase that's out there I then have the
ability to invoke lamb that which will
skip over for now then I have the slot
so the slots again are the information
that I need to complete this intention
to fulfill it so in this case I have two
capabilities or qualities that I care
about for my burger meat and then cheese
and then these are broken up by various
slot types so now we have a bunch of
built-in slot types for you and so these
are pre-existing types that exist that
will be validated based upon basically a
dictionary of type values that we have
here at Amazon and you can read all
about what is inside of this online then
at the end here and a little hard to see
is the prompts for this so this is an
example prompt of what I would like to
have asked when we come down to this
this slot fulfillment so we see here
what type of burger patty would you like
I could have many different types of
examples of prompts for this and then
what I have down below here is
corresponding utterances again these are
examples of what is possible here time
to the flashing so again I've given it
some ideas of what it should be looking
for and what's going to happen is that
Lexus natural language processing is
going to take care of the rest so
understand some of these patterns and
then it gives me options to do more of
that one of the other things that we
support in Lexx the ability to create
what's called a card so certain chatbot
programs like facebook messenger support
the ability for you to put a interactive
kind of user interface inside of a chat
conversation where you could just have
either text fields or boxes filled in
for them in this case I'm not going to
show that let's go and add a other thing
that I care about and actually let me go
and remove this one
I will keep it in here
there so it's out a different slot so I
let's add a slot type called bacon
so that is slots I've called bacon I'm
not going to say the different bacon
types that I could have on my burger
so we'll do normal bacon I'll do more
bacon a lot of types of bacon there are
cool let's go back to my burger here and
so now I can go and add another slot to
this so in this case I'm going to add
bacon as an option slot type bacon and
it's going to say what kind of thinking
do you want
slap this in here now what we're going
to do is just go and add corresponding
utterance
so type of bacon is I would like make it
so one of the things that we can do in
these audiences is that we have certain
replacement files that we could put in
here so we could put in for the slot
types the values that we pre-programmed
into it so basically saying those are
the right types of this case bacon that
I care about or we could just make these
kind of straightforward phrases so gives
you that aspect of dynamic nests if
that's we're looking for here cool
actually one thing okay and then we save
this intent and before I build it to
show you one other thing about this so
down below here there is a concept of a
confirmation prompt this is after all of
the slots have been filled so basically
I've asked all the other questions that
I want to ask this is my ability to have
it confirm that this is what I want it
to do so this can be a useful kind of
check point of hey do you really want to
order that super extra large pizza with
everything on it yes or no and then
based on this you could think of it as
almost kind of a gate between the
fulfillment happening or not happening
and so in this case I do have a
fulfillment
in question save this Moran build it
cool so while waiting for that to finish
go or wait for this to complete here
so let's takes a moment or two and so
it's happening is it's building out the
logic for my bot and then it's going to
make it available and then I can
actually right here in the browser that
blue window which will open up here in a
second test my bot out cool awesome so I
have my test bot window down here
so this is going to allow me to converse
with my my bot so that like a burger
comes back that says what type of burger
patty what I like say beef and I got an
error because I forgot to turn off my
broken Association one second what
happens at live demos
cool we're go back to another example
that I have it's already up and working
so I you always have cooking show style
one working demo and one broken demo so
we have actually a sample that you can
go through on the Lexx website really
super easy quick to set up actually show
you what it looks like to go through it
so you could say create a new pot and
then we have three pre-existing examples
that you could find so in this case I'm
going to go back to one of them which is
for a flower ordering site and so what
this has here it allows me to order
flowers there's been three different
slots for the flowers just going to make
this a little smaller my apologies for
folks in the back three different slots
that I have I have flour type pick up
date and then pick up time and then what
we have here from those slots is in
terms of the types is there is one
predefined type or one call some type of
flower types and then to Amazon types so
Amazon date and Amazon time now if I go
down to my test spot here say like two
for two flowers what kind of flowers you
like to order say roses what day do you
want that they picked up I could say
tomorrow and so it goes and figures out
that tomorrow is the second at what time
and I can say 4 o'clock or p.m. cool and
so what we see here is that it actually
didn't understand what four o'clock
meant in the way that I typed it so
typing 4 p.m. worked out just fine for
it and then it comes back with a
confirmation prompt to do I want to
place this order to have my flowers
delivered tomorrow at 4 p.m. and I can
say yeah and it's going to come back and
say great we're going to place that
order for you now what could be
happening in the themes here is all
sorts of validation around whether or
not things that I entered were right and
we'll come back to see that validation a
little later today go back to my slides
cool
so really easy to get started I didn't
start from scratch on this one but very
easy to create a bot create the
utterances that you want create the
slots that you want to find the slot
types go through and figure out the
utterances for your slots and so forth
right through that web interface from
there what you can do and then do is go
through a very traditional dev workflow
for these BOTS
alright so we want you to be able to
treat these just like you would any
other application that you have so you
saw me save it
you saw me build it and then I was
testing it there in the web browser but
I also have the option to publish it or
as you saw I built it I tested it and in
the case of my Berger order I had to
test it a couple different times so with
Lex we support things like versioning
and aliases you can have prod stage and
dev for aliases and then every time that
you make a change and save it it creates
a new version for you so it's not
something you have to think about
yourself
so with Lex we have integration today
with three different bot services so
Facebook Messenger
Tullio with SMS and then slack and so we
can bring this bot experience right into
those platforms that are you having to
write any other interface code yourself
so I'll show you this in slack real
quick that's not me okay I do something
wrong cool so I have a black Channel all
right I have a couple different channels
and so what I've done here is I've
already integrated my burger ordering
bot into this so I'll show you here what
this looks like so if you go into the
API for for slack so how many of you
have ever built a slack bot before call
people awesome so it's actually really
straightforward for me to get going with
this inside of Lex so I'll show you here
a quick if I go to Lex and click on
channels
so I would already have is already have
a predefined app that's down below here
unfortunately it doesn't show you all
the other information ready because the
tokens and stuff it takes and encrypts
and hides from you but if I go back to
slack API you can see that if we click
through all of this and it's a little
lengthy to get everything set up basic
information about this credentials not
the killer loads later baby would ends
up doing if slack goes and looks at two
of the URLs that are created by Lex
there's a request URL and an OAuth URL
and so in this case my bot is
unauthenticated from what's inside of
slack so it's automatically
authenticated first if I had a bot that
I was running in another application and
maybe I wanted to do something like
federated login via say Facebook
credentials to it so it is something
that you can do with Lex
and so my bot is sitting here in slack
and so I can pretty much -
straightforward saying I like to order
burger turkey Swiss yes all right
nothing too exciting here right but I'm
conversing with this bot that's running
out on lambda I'm sorry joining out on
Lex and able to take in the prompts that
I have and ask me the questions that it
needs to fulfill it slots now my demo in
the browser was broken as we saw that
before however here in slack it's
completely working it's not because the
change that I pushed magically is
working it's probably not because that's
how the demo gods like things but what's
happening here is that my slack bot is
pointed to a certain alias which is tied
to a certain version of my bot so even
though I've gone and broken the most
recent version of my bot I have this
version de leus version of it that's
published to slack that I don't have to
worry about breaking so again separation
between kind of production and
development in this case and so pretty
straightforward to set this up
I won't go too in depth here on how
permissions work in slack but there's
different events that you can subscribe
to there's various different permissions
that you can assign on top of that based
on what you're looking to do but again
my boss that I interface with and slack
basically they fill out the form to get
that bot from Lex integrated with slack
and no other user interface work has to
be done to make that happen
until one of the key things that we
consider kind of a key tenant of service
technology is at AWS is that monitoring
and logging are built-in by default so
these are not optional things in the
modern world and for me as a former
DevOps an Operations person where I
spent a lot of my career tweaking and
building out monitoring and logging
systems pretty awesome to have that
built in so I can actually go in and
find out things like Miss utterances so
am I not capturing all of the phrases
that people would want to put into my
bot request Lane sees how long it's
taking to serve that and then traffic by
channels in this case slack with a
channel and I could have multiple slack
rooms that could exist as part of this
and Solex is a pretty complicated piece
of technology there's a number of
different components that make it up and
then it interfaces with so obviously
we've got an API in this Takeda you
could just write your own raw
applications for interfacing with it and
then we've got the pre-built Facebook
slack and Twilio integration it also
integrates the number of other AWS
services such as Cognito and cloud show
and cloud watch but what I want to talk
about here last is lambda so lambda I
mentioned is kind of the key in our
world for server lists at AWS and we
consider a service application to be one
basically built around it where you have
an event source you then have your
function or functions and then it
completes a sort of an action based on
it talking to a data source or another
API or something that might interface
with the case in today's example my
event source is going to be Lex
in this case calling lamda and then the
services that I talk to maybe nothing or
maybe something depending on what it is
that function is going to do how many of
you familiar with AWS lamda how many use
lambda today awesome okay I'll go
through the so quick as I can for those
who are not familiar with lambda because
there were some people in this room who
or not so lambda is the computer vez
here at AWS it's a completely managed
service for you where again the idea
behind a function as a service platform
is to decompose your application into
the most kind of bare primitive
functions that you can in the case of
lambda
we have a number different languages
that we support so nodejs
Python Java and then c-sharp a couple
different versions so we just launched
Python three week or two ago no js' 6.10
about three weeks before that with lamda
the only knob that you really tweak is
the amount of memory that you want your
function to use so today we support from
128 Meg's up to one and a half gigs
there's kind of a correlation between
not a CPU power that you get with memory
so if you have a very compute intensive
task giving it more memory is the best
thing to do and then a timeout and
basically with lambda you pay in
hundreds of milliseconds of execution
time and so when an event is triggered
such as lambda such as Lex calling
lambda we fire up a resource to run your
code we execute your code and then we
basically stop billing you after it's
done with executing in terms of
authoring function so we have a web
console which I'll show here in a moment
you can use any IDE and we've got a
number of development tools and things
that interface with it again monitoring
a logging or built in I'll skip over the
rest here so one thing that people don't
know is that we actually have a little
over 20 different event trigger types
for lambda today so Lex is just one of
them but a lot of our infrastructure
tools a lot of our database services can
all invoke lambda and so there's a lot
of really interesting things that you
can do with it and there's kind of three
different models for how those invent
triggers can work there's a synchronous
model basically where it is going to
trigger the lambda function not wait
around for anything to happen there's
more of a synchronous push model such as
Lex or it's going to look for a return
from lambda to come back as opposed to
just kind of firing for getting it and
then there's the stream pull model which
exists with dynamo and Kinesis by which
you can actually stream request through
lambda and it will process them and then
keep on processing more over time and so
depending on your use case and what you
want to do with lambda these three
different models exist again we're going
to be focusing on the middle one here
which is more of a synchronous model
given that our Lex conversation bot
isn't going to want to go back and pull
for some information it's going to want
to answer right away from lambda
and so combining lambda and Lex is
actually really really powerful for chat
box and I'll show this here working here
in a moment both so again both kind of
meet the criteria that we have for
service applications the scale on demand
you never have to think about capacity
planning you never have to pay for idle
and they have fault tolerance and high
availability built into them Lex was a
completely managed service lambda
provides complete abstraction kind of
below your application code and so if
you think about something that can
provide a lot of value to your customers
that has a logic built-in that can help
you you know not have to have a lot of
higher operational burden this is a lot
better than just writing it yourself and
running it on you know traditional
compute resources these notes that we
build other things that both of these
services support versioning aliases I
mentioned for modern logging
authentication authorization so you can
actually build a very secure chat bot
given whatever else it might need to do
inside of your infrastructure so let me
show you this working actually yes cool
so this is what broke in my my other
example here let me go back to the
editor and see if what I was doing is
now working and actually I'll explain
why you broke
okay so that kids didn't break which is
exactly what I wanted it to do so in
this case I'm talking to my bot and what
I've done is actually turned off lamda
checker for this capability so what I
had turned off before was lamda
initialization and validation so there's
one thing about this that's kind of
interesting so if I were to go right now
and look at for all of the slot types
that I have filled out for example if I
go and look at meat type I have
vegetable beef turkey and veggie I go
back to my chat bot say I'd like a
burger and it says what type of burger
what I like and I say I would like a
shoe burger just to create what kind of
shoes would you like on your shoe burger
right so it's not actually doing any
validation of the values that I'm
putting into this function and so I
could say well I'd like some tree cheese
on my shoe burger and it's like what
kind of bacon do you want and I say well
well bacon Onis SRC probably horrible
thing so it's I offered me up my shoe
burger with tree cheese on it
great not what I want not anything that
I would like to have happen let me come
back over here to this other example
that I have from the example that you
yourself can run which is this flower
store example and so I could say I like
some flowers type of flowers would like
to order shoot flowers mmm
we do not happen to have shoe flowers
but there are other options or flowers
that I could choose so it recommends
roses roses are lovely why not
great when do I want the roses to be
picked up Mars
nope doesn't like that right yesterday
tells me I could pick them up from
tomorrow onwards okay so I'll say
tomorrow I
when would I like to pick them up never
doesn't like that either right so
especially let's see if I spell o'clock
right if it will like o clock
No okay cool so what we're seeing here
is that basically at some point it got
annoyed with me typing random stuff in
and it just said go away so that is one
of the capabilities that you have in
Lexus to basically build out the what we
call a hang-up phrase that ends the chat
but what's happening here is the value
that I was passing in to my chat bot
slot audiences
we're being passed back to a lambda
function and so that lambda function
I'll show you here which we also have as
part of this demo so you can demo the
lambda function independently it's
actually going and it's looking to find
a number of different things so one of
the things that it's doing is it's
validating my type so I can see here
that there's only three and hopefully
it's gonna read that more than factly a
little bigger here there's three flower
types that it likes so like lilies roll
the roses and tulips and I could do
something for example like have this
plugged into a DynamoDB table full of
all of the types of inventory of flowers
that I do have so I could basically say
hey you know what this is all that I
have in inventory so the options here
are kind of kind of open and so this is
basically going through validating the
various options that I have making sure
that the date that I entered is a date
that is logical and that is the
difference between this working example
and my broken burger example and now
plugging this in is is really
straightforward so I have my lambda
function so as you who are not familiar
with lambda functions they get X a
little bigger here actually we can test
it right here in the browser we send see
a bunch of information about how it is
set up the amount of memory that it's
using duration of time I can go over to
the monitoring tab here and I can see
various metrics from this individual
lambda functions I could see these
executions into the duration of time
that it took in this case this is a
pretty short duration function 30
milliseconds here and
and one of these which was just one
millisecond they could also go then
interview logs and cloud watch for this
and dive into kind of the exact output
from this function so all of this built
into my lambda function not anything
that I have to set up myself we go back
to Amazon Lex over here for this flower
authoring bot that I have the same thing
I can come in here and look at the
monitoring for this should see all the
various metrics that are part of this
could see under in such a ballista yeah
that's right so I in test mode it's not
capturing everything but I see here the
the metric setting is this let me see if
I come here
right spirit what is wrong there anyway
I can see the various monitoring here of
things that have worked and then not
work for me so oh so we saw there landed
being triggered by Lex and then
providing invalidation for the things
that I'm entering so real quick here
about lambda2 real quick things I want
to talk about so one is that back at the
end of 2016 we released a tool called
Sam Sam stands for service application
models it's basically a framework and a
tool for deploying lamda based
applications and it makes it really
really easy to deploy lambda functions
without having to do a lot of really
complicated scripting or tooling around
it so this is an example of a Sam
template basically this is an
abstraction on top of another tool that
we have called CloudFormation and so the
kind of 20 or so lines that we have
right here would create for me a lambda
function an api gateway and then a
dynamodb table and i have one of these
I'll show you
for the current broken example of my
burger shop but really again simplifies
what it is that I want to do with with
deploying this the other is that two
weeks ago at our summit in San Francisco
we released a tool called code star code
star is a development web interface for
teams or individuals to basically create
predefined application environments with
things like code repo a delivery
pipeline a build service and then a
deploy mechanism put in there for you it
actually creates teams via permissioning
so you can add people to your project
and then pulls in graphs and other
interesting things about that I'll show
you real quick what this looks like so
for my currently broken example the Sam
code is relevant in this case for
deploying this function is just these
kind of eight lines right here and in
this I'm defining the language that I'm
using the handler to call and the
permissions that this lambda function
needs so super straightforward
so go back up here to the console I can
then come in here and see the code star
interface for my burger function which
is again currently not in any 100%
working state so what I see here is a
commit history I see my pipeline history
I see invocation information via cloud
watch and so as a developer development
team I could basically just sit and
watch this dashboard and have visibility
into what's going on with my application
and it's really easy for me to go and
create more example kind of environments
here and creating your project we've got
a number of projects that are predefined
and again it's going to give me a code
repository a pipeline a build and a
deploy capability for this so in this
case we talked about build this could be
anything from code compilation to unit
testing to pulling in things like NPM
modules or pip packages all that kind of
stuff could happen as part of that list
at the time cool so in closing we've
seen kind of a bunch of different things
put together here right so first we saw
Lex really straightforward and easy to
create a chat bot of your own for
whatever it is that you're looking to do
with a chat bot natural language
processing built into it so I didn't
have to put in exact uh pterence --is
every time I didn't have to fill in
slots exactly right every time and then
I was able to do with add lambda for
some validation of that information so
again right out of the gate it's not
going to necessarily know that I don't
have a in this case issue flour I
believe is what I'd entered at one point
and so that logic building with lambda
really straightforward to script up
really easy to basically do a function
that just validates that information or
acts as the fulfillment so again if I
was actually ordering those flowers I
could use a lambda function to place
that order for me we actually have a
chat bot competition going on right now
through July 18th if you combine Lex and
lambda you have the ability to win free
tickets to reinvent which is our you're
the user conference or
cash prizes which is pretty cool we also
a couple about like two months ago
released a service landing page talks
about lambda talked about Lex
so API gateway and all the kind of
related things that are there again my
name is Chris bonds I'm a senior
developer advocate for service
technology than AWS I take questions
outside because I realize I'm almost at
the end of my time here so I'll stick
around out here in the hallway and happy
to try to answer any questions that I
can or you could find me at my last name
months at amazon.com or at Christman's
on Twitter I guess had questions in the
back and then please rate the session
again that's my first time at a go to
conference looking for kind of where the
bar should be set for this type of a
conference or what you the audience are
looking for hopefully I can come back
and speak another go to conference
someday we really would love to know
what I can do to make this conversation
better so thank you again have a great
rest of your week
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>