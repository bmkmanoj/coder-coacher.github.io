<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>GOTO 2015 • Making Big Data Useful Data • Anna Bongenhielm | Coder Coacher - Coaching Coders</title><meta content="GOTO 2015 • Making Big Data Useful Data • Anna Bongenhielm - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GOTO-Conferences/">GOTO Conferences</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>GOTO 2015 • Making Big Data Useful Data • Anna Bongenhielm</b></h2><h5 class="post__date">2015-10-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/wUysIXUeL-M" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">King so I'm going to start by telling
you who I am I've been with King for
about four years and it's been quite a
journey and I'm going to talk about that
a little bit in regard so everything I
talked about today because we have
expanded and worked on our environment
and the way we structure data and think
about data and then report on data which
is my main focus during this these four
years and I've been along for the ride I
wanted to point out that my favorite
game is candy crush soda saga and if you
don't play it I recommend you to do so
it's awesome so King this is a slide if
you saw Hawkins presentation the other
day general slide we have about 200
different game titles we are active in
more than 200 locations around the world
and we have in a month about 340 million
unique players and across our devices so
we're a global leader on cross-platform
gaming for casual gaming i should say
otherwise someone will be upset casual
gaming so we're quite big we have game
studios so by studio we mean where we
actually develop games we have that in
Stockholm which is the original one
London Barcelona Bucharest Singapore
probably forgetting something it's on
the slide if I do and we also have other
locations in Malta Tokyo San Francisco
for other things are quite low global
quite a global company when I started
four years ago where were a little bit
over a hundred people all together and
today we're more than 1,500 people
globally so it's been it's been quite a
ride 2003 was here when it started
originally we had a platform which was a
skill site you signed up to the site and
you remember and you were matched
against players so that were about the
same same level as you were equally good
and he played against them and we had a
view the view our data was that we knew
our players quite well because they were
actually actively signing up with us we
were partnering with AOL and Yahoo and
and it was more of a an interest from
the place that we had in 2011 we moved
on towards Facebook and this is where I
came in when I started we had just
launched bubble saga on facebook and not
bubble witch saga we had a game also
called bubble saga and with the company
was looking into that Facebook would be
the next big thing for us it was a
little over a year later that we
launched on mobile where most of the
players today in the was so an overview
of my presentation so I'm going to talk
a little bit about our daily data
pipeline what do we do on a daily basis
I'm going to talk about the way we
viewed reports and how our reporting
history has been and then I'm going to
mainly focus on reporting why you ask we
talk big data and I mentioned the word
who do well because I'm better at the
latter port so if I would talk about
Hadoop it would be utterly boring for
you because you probably wouldn't learn
much for me so we're going to focus on
the end data and then I want to talk
about a little bit my learnings from the
last four years in terms of what I find
useful for for our stakeholders I can
mention that when i talk about
stakeholders I talk internal
stakeholders so the reporting that I've
been working with is mainly everyone at
King that uses our report so it could be
the finance department marketing CRM and
the stuff that we provide them with so
that they can make good decisions on an
everyday basis some of the numbers that
we'd produce are reported externally but
through intermediate and through other
parts of the company so internal
reporting we're very much for a free
data flow at King basically everyone
that works at King has access to all our
reports
very few restrictions and we believe
that if you work with something then you
should know about it and be able to
check up on your work so our daily
pipeline I want to take you back again a
little bit to the expansion of data I'm
just going to do the first part of it
when we started out we were basically
putting everything in qlikview if you're
familiar would click view it's a data
discovery tool not a database but you
can put the format in in qvd files i'm
going to mention QD files a few times
it's click his own format of stored
storing data we basically picked stuff
up of my sequel servers and we put it in
qlikview but it click you said no we had
another database for a short time
calling for bright we're trying it out
but the quick expansion and the fact
that we were also had started with
Hadoop at the same time let us to
continue with Hadoop and in the
beginning we only had a 10 node Hadoop
cluster and it wasn't until a year after
20 notes and from there on 40 notes 80
notes I don't have to go on that much
we're about 200 notes so we're not huge
in comparison to probably speakers that
are going to speak after me I think
Spotify but we also have other solutions
so we have a duper also today have a
column based database called excess
Alexa solution so why do we have so much
data well we like to track things
obviously we track all kinds of things
preferably what our players are doing in
the levels if they're starting a level
if they're purchasing something if
they're having any type of interaction
with their fellow with their friends or
anyone else we have more than 15 billion
events today so 15 billion things that
happens on our servers that we log and
we do it in event types we have about
little over 400 events I should mention
that we
don't we don't change events so we do a
lot of the events that we have are
actually similar for example if you want
to add something to a game start event
you don't change the game start event
you do the next version the number two
so maybe we don't have 400 unique event
types but we do have a lot of event
types so on a daily basis what happens
we have gabe's game servers the game
servers are taking care of all the
actions in the gameplay that our players
do we put it in TS v log files go into
the log server we pick it up on
occasions during the day and then we
have a final thump you could say right
after midnight and we put it in the
Hadoop cluster everything exists raw in
the Hadoop cluster then we also do some
etl on it both in Hadoop and in our
extra XSL database and by etl in this
case we mainly work with dimensional
modeling had dimension and fact tables
but we're quite open to the needs that
our users have in terms of what how you
need to create a table and what you do
our data scientists they like to do
stuff themselves so they do everything
from raw events to the modeled tables
and I should also mention that it's not
entirely true that we don't pull stuff
from raw events anymore in the reporting
it does happen on occasions not to
recommend but it does happen we have a
lot of reporting so back to the
reporting where I fit in where I can
talk forever so you might have to stop
me eventually when I started we were in
the same location we were in Stockholm
there was three of us we did everything
and we could be quite sloppy maybe
working a little bit according to
yesterdays to hacker way we did
something we wanted to do a report it
was fun we did it and we did it however
we wanted to and then if you had a
question about someone else's work you
turned around because the person was
right over there
ask them why they had done something in
a specific way didn't really have a need
for data warehouse and we knew our users
down to the user if you compare that to
today where we have millions of users
every day actually over 100 million so
users every day we obviously can't know
a single user on that level we have to
always think about how we want to group
them what dimension is it good to have
on I'd say that mainly our main thing is
generally looking at geographic
locations our players and in terms of
how our players behave so it was quite
different we still had the problem and
we still have today that we are
continuously adding more games and
different types of games they're mainly
casual today but it still means that a
different casual game you have to
compare what are the things that are
similar what are the things that we can
keep in the same way as opposed to
what's different and what do we want to
customize and change for the future and
so it's quite a it's it's quite a
difficult thing to do because you are
always at risk of making it too
generalized into common in the sense
that you might look at a game the wrong
way if you don't take what's special
with that game into account so I want to
give you an example of our qmc does
everyone know what a key MC is it's
click view management console so I
mentioned click you a few times we
mainly work with click yes reporting
tool we dabble with other tools as well
and I'm not going to go into the good
and the bad parts about click view it
serves the purpose for us quite well but
there are definitely advantages and
disadvantages but our management console
this is the task that we run basically
on an everyday basis a few of the SAS
one week
monthly and it's about loading the data
into the reporting environment and it's
about running the reports and publishing
the reports our end users can use them
as you see we have quite a lot of tasks
this is what we monitor and look at on
an everyday basis so for us it was quite
early obvious that we needed to do this
in a structured and organized way
without I must say we wanted structure
without limiting creativity which is a
hard balance to find that brings us into
dealing with data size in the reporting
layer so click we use an in-memory tool
which means that every time you open the
report you use a certain amount of
memory you'll have an access point and
where everyone can access the report the
reports and if you have a lot of users
opening a report that's very large you
might have a problem not just because a
large report will be slow but also
because several people are using a lot
of memory at the same time and it's very
strenuous on the servers so when we
looked at the original architecture as I
mentioned before we just picked our data
up immediately from the my sequel
servers or four for him from in for
brighter in the beginning directly from
Hadoop we we just took it and we made it
into cuties to click the format and then
we visualized it in a click view app
sometimes our apps were so small and the
amounts of data that we used was so
small that we we didn't even bother to
make a qvd so but today that's not an
option for us because a report stat used
to be maybe 100 Meg for years ago within
the same with the same granularity of
data span maybe 20 gigs today and
opening 20 gigs with several users on
the same server as I mean it doesn't
work basically so we introduced logic
layers in qlikview or not in qlikview
before
q sorry and so from the data storage we
basically modeled and introduced the
layers of data that we had so that we
could get more useful information to the
next step from the data we also have
master data master data with sometimes
we deal with in qlikview sometimes we
deal with directly in the database so we
do the join when you query for example
Hadoop or excess all and you in qlikview
you can query directly into the report
itself and so you use any you just odbc
and use any language that you want HQ l
or sequel or whatnot we do our reporting
in time series it's important for a game
to know what's happening from day to day
basis and we have one second way of
looking at it which is cohort analysis i
think you you're all familiar with that
mostly when we talk about chord analysis
at King I would still say that we almost
exclusively talk about install co hurts
so we want to look at the groups that
install the same day the same week or
the same month and in order to deal with
that in the reporting we still want to
look at the same facts we don't want to
do the tables twice in the database or
the dimensional modeling twice and just
to look at it and slice it a different
way so what we do is you have add a
quart layer where you relate the
different install dates to the different
to the data and then we put it out into
the reports so what have we achieved by
doing this well we achieve performance
dependability and we cheap trust and
Trust is something I really really want
to emphasize in everything that we do if
you do a report you always have to work
with the person using it and this is
something when I used to develop reports
that I I wasn't always very good at
either because you get your idea and you
see the data and you see all ok I want
to put it this way and I want to
visualize it this way and you for
get that the end user doesn't understand
a single thing that you do so I really
want to emphasize that you need to
create trust and we create a trust by
being consistent in the way we
structured our reports so when something
was strange or or being we are today and
something is strange or different people
can easily understand what we have done
I'm also going to get into a little bit
more what we do to actually give this
I'm not going to just talk about theory
i'm going to show you some examples how
we actually visualize this for our end
users so um how do you govern an
environment like this and now you might
be thinking how is this related to
making useful data out of big data well
because by governing our environment and
by knowing and being clear in what we do
we are also able to explain it to our
end users and we're also able to provide
people with what they need because if
there's a request coming in or something
that we do if we can easily find the
data that they need or we can easily
work with them to figure out what they
need so it's a tool for us to have a
good environment but helping our users
so what we do is we monitor we govern we
also as developers we cut we limit the
development overhead by centralizing or
having a system for with in which we
work a framework for within with which
we work it will make it easier for
scalability which is something that we
are expecting probably to continue
growing or might then you always have to
prepare for that and then what we can
actually look at is also our user
engagement what we've done is
centralized or KPI expressions so this
might sound as an easy thing to do but
actually there are a lot of questions in
terms of how you create your KPIs and
what we've done in the reporting is that
we have made sure that if you create a
report that
you're consistent you go and get it from
the global expression mace and we
calculate the KPIs in the same way no
matter how we structure the report
sometimes that's not really possible
because different you get data logged in
different ways so what do you do then
well we solve it quite easily by naming
it differently so that you point out
that it's not the same thing it's also
something that we worked on ha let me
rephrase so our design is something that
we worked quite hard with and and by
designing consistency here I we're
talking about a template that we do our
reporting within so that our users they
can always find things in the same place
again I want to I want to emphasize that
we do allow flexibility we always
believe that our developers are the ones
that know the best about what they do so
if it doesn't fit well with the data or
the way you visualize it doesn't fit
well you can always diverge a little bit
from the template but as a framework as
a structure and a backbone for our users
we're making it consistent so that
people know where selection box where do
I find these charts where can I find the
different things that I'm looking for so
one of the tools that we built because
we like building our own stuff is
actually a click view app we built a
click the app to help us monitor or
click the apps this is for ourselves for
the developers and what it does is that
we are able to look at the pendants ease
for example data warehouse we get a
message they're going to depreciate a
table and we can go in here we look at
the Kiwi helper and we realize oh we
have three reports running from that
it's not a good idea we need to either
change that or they can appreciate the
table so this is something helping our
ourselves on a daily basis and thanks to
the framework we can have an app like
this because we have structured the way
we load our data into our reports and
the way we read the data overall and
in the similar fashion and you can pick
it up in the same places throughout the
framework and also this is internal we
also like cats another tool that we have
is the master portal this was mainly
developed by a super-talented developer
in in my team called Lucas corbel st
horrible st and what it does is it
allows you to find any information any
KPI or any metric that you want to look
for in our existing reports so if you
are new to King and which happens to
quite a lot of people all the time
because we're still hiring a lot of
people and you want to find something
and you don't know where to start this
is where you start you go into it and
then you can search on virtually
anything on the category on the KPI or
our metric as we say and on the
dimension whatever you're looking for
and it's really really useful here you
can also find what we call report owners
what we do internally by that is that
the person that basically asked us the
reporting team which doesn't exist today
because the reorganization it's
distributed but the reporting team as it
was when they wanted us to help them
with something we work together and
they're the ones that have the ultimate
saying changes in reports we're quite
open otherwise if someone goes in and
they say oh I really like this graph or
I really want help to look at this and
we generally do it but if you're not the
report owner obviously we need to ask to
make sure that we're not ruining
something that exists so this is a tool
that's extremely useful for end-users
and then we have for ourselves something
very useful which is called in usage in
sight it's basically that we are
monitoring who looks into what report
and what they use and it's not in order
to see who looked at what it's to look
at our our reports useful something you
have to ask you
self all the time is all the things we
are spending time to keeping in
production is that useful to our end
users do they like the reports if there
are charts in them which charts to use
for example if the report is too big but
it seems like they use to charts out of
10 maybe we only need two charts in the
report and we can make it smaller so
it's something very useful for us in
order to depreciate on our reports but
also in order for us to understand so if
we have report that we would like to
remove we can go in and we can see who
actually uses this report and and by
that we can contact them and we can
always have this ongoing communication
for for what's useful so I'm going
really fast i think i'm getting to one
of my later slides actually or last in
the second to last slide so this thing
making the useful stuff and it's not
something that you have a formula for
and but i think there are a couple of
things that you always have to consider
in order to make sure that you are doing
the right thing and that you're getting
the right thing out of your data I think
it's very common or it's in my opinion
recommend that everybody is talking
about these crazy amounts of data that
we have that you can find out everything
about your users and that you know just
from logging everything that you
actually have an inside but that's not
true you have data and if you don't
understand what you can do with it or
end up giving the right person the right
thing you you don't have an insight and
not everyone wants to have the ability
or the opportunity to slice and dice
everything so you have to look at which
stakeholder do you have do you have the
data scientists who rather do it
themselves and only turn to your
reporting if they really really have to
or do you have the
business analysts which who's somewhere
in between they need to make a decision
and they want to be able to look at the
different dimensions and different ways
of viewing the data but they don't want
to go and actually query the database
themselves they want to be able to get
quick answers and I want to be able to
look over time and then you have
financed for example who just want to
reconciliate their numbers they want to
make sure that they have the accurate
numbers that they need in order to close
the reporting for the month or the
quarter or not so you have very
different users so in our case when it
comes to finance we often just provide
them with the data they need sometimes
through reporting sometimes through
direct exports when it comes to the
business analysts we are looking a
little bit more into how we view our
reporting environments so the way we set
things up we are monitoring what they
use where we're trying to constantly
keep communication with them in terms of
what they need but we're also extremely
open to reevaluating what we're what
we're doing and how we're doing it and
looking into new tools and then you have
the data scientists and basically they
had they get to choose their own tools
so when it comes to to what you need to
think about i think it's don't get too
close into how something should be just
because you reported it in a different
game it maybe that's not what you want
to look at in a new game you want to
have computer compare one moment come
back now I'm not going to be able to say
it oh this is funny you want to be able
to compare them let's rephrase to the
level where you know that you're doing
the right things your KPIs are going the
right direction and you have the results
you want to but you want to be able to
have enough differentiation so that you
can allow for for different functions to
be analyzed and so don't
to boxing how we often work is that if
we have a game they request something
for us we always have at the back of our
mind that this is something that
probably more games will would like to
have but the request comes from this
game first and foremost so we're looking
into what can we do for them to service
their purpose and that sort of brings me
on to one of the other points this up
here which is don't be afraid to do
something that might not be the best
thing in the in the long run because if
you can do something quick the service
of purpose or answers the question
quickly then you achieve something and
then if you could do it quick you can
probably do the better version quite
quick later on as well so don't be
afraid on to iterate reevaluate and
change and do something to find
something out quickly today I do think
however it's important to make the
distinction between what I'm talking
about which is generally and maybe I
haven't made that super clear data that
you want to look at every day so I work
with stuff reports that you want to
continuously over time use if you have
ad hoc requests sometimes just doing it
at Hulk is the best thing to do and you
should do that and I also think again
the right the right data for the right
users don't get too caught up on the Big
Data term go for the smart data term you
can have lots of one useful events i
think that out of the 15 billion events
which is the awesome number to mention
because we're logging that sometimes
we're logging up towards 20 billion
events a day we are actually using maybe
four or five in our reporting which
means we log a lot of stuff that we are
not specifically using for analysis
today and also don't let what you have
today stop you from thinking about how
you want to look at a KPI in the future
so I think that this is I'm already at
the end
after half an hour which is very strange
maybe I speak very quickly or very
unclear Lee and I certainly can't take
comparability knew I could say it so i
can take questions now yes and you have
them I have some questions and you can
just keep filling them in how do you
test that you're reporting the right
thing well a little bit back to this
tool I had which is one of the many
things oh let's see one more back one
more no sorry the usage inside we look
at do people actually use it we're not
as good as I would like to say at
cleaning out unused reports and
monitoring them but we're getting better
so for example if people aren't using
the stuff we do we can monitor it and we
do at on occasions the other thing is
basically we ask people is this useful
for you making a report without having a
business purpose is not the right way to
do it and I mean it needs to answer
question and needs to answer the
question from the stakeholder and so we
evaluate by people telling us that we do
a good or a bad job in general but we
also do have a problem that it's very
common that we create something because
there's a certain urgency and the
company like King where things are just
going at 150 all the time and you think
the super urgent you create this awesome
report you put a lot of work into it and
people they use it a lot for two months
and then nothing so it is hard it is
really hard but we try to constantly
keep a conversation about it so do you
automatically push out reports based on
KPIs or is it pulled only reports we do
both so we send out emails based on our
reports and and through a tool called
nprinting so we actually take what's in
certain reports and we send that out and
so it's a combination both okay how do
you validate that the numbers are right
oh well I work with data other people
make decisions they validate it no no
it's a combination uh actually it's it's
one of the most challenging things we
have because I didn't go so much into
what we do in the database is now and
but we have etl we have stuff happening
in the database already then we also put
layers on top of it and then it comes
out and it's it's really difficult to
find out where something goes wrong if
something goes wrong are we missing
event somewhere are the numbers eschewed
in any way because just miss reporting
or not it's really difficult most of the
time we get help from our business
stakeholders telling us that something
is strange and we look into it and then
obviously we do have a little bit of for
example in our emails we we just set
like set percentages and if it diverts a
lot from for example the week before we
look into it but it's really hard it's
really hard with the monitoring when you
have so many reports okay long question
now yeah have you never considered
switching to one of the other
established analysis tools like fabric
it looks like quite a large system you
implemented to extract reports oh how
should I face this politically correct I
think we're always considering
everything but we're very good at click
you so it's easy for us to continue
building in qlikview like the the
knowledge we have in my team at King is
really really amazing but yeah we're
testing stuff all the time we and you
know if there's a I think this is the
approach you should have to everything
right if there is a better solution out
there you should always consider it so
for how long do you keep the raw data in
the Hadoop storage we keep it off and
we'll see for how long I mean as you
noticed our expansion has been
incredible for a few years and so it's
hard for us our CTO to misaki he usually
says think 10 times bigger well in our
case it's been most of the time hundred
times bigger so it's a hard but for now
we have it all for as long as we've
logged in those systems okay what
metrics do you report besides average
game time or little completion times oh
the standard business metrics and then I
have been told that I can't tell what we
look at from competitive reasons but in
general what we look at is you know that
activity what does a player do like the
game place what do they buy you know
what what are they spending their money
on and then we look a lot at levels like
for example and if the levels are
difficult or easy or because the the
thing with how we view things in our
levels is that everyone should be able
to make the levels but they shouldn't be
too easy because if they're too easy
then it gets boring like if you play an
episode and you notice that they made a
level specie and you do 10 10 levels in
a row it's not fun so those are the
things that we are looking at mainly so
the standard game business and things
like that I've got two questions that
are sort of related so i'll give you
both them at the same time as the one is
how do you keep locks anonymous to avoid
tracing a specific user and the other
one do you only use your data for
internal use so do you provide metadata
to partners and customers
well thank you bye no no um so what I
work with is for internal use and we're
very like I said what we do what we put
out internally is we're very careful not
to do anything on a specific user level
integrity of our users is very important
when it comes to what we provide and
what we get from third parties I think
I'm I I I don't there to say anything in
order not to say the right thing we are
not currently selling our data as far as
I know to anyone but I I like to have a
disclaimer right now saying that I I
don't know for sure okay right
contrasting answer here's another one
how big are the cultural geographical
differences in the data on the end users
use of your games um the cultural
geographical so there there are
differences for sure but I think it's in
in general like the rest of the world
you know we're coming together so usage
is I mean the United States is very
important for us because they're far
ahead you know in terms of Apple and
things like that but in general if you
look at your Europe the usage is quite
similar and obviously you need a device
so if you connect our games to how the
devices are spread around the world is
quite similar in terms of well people
are using our games and playing our
games right I think we'll take the last
question and give them a longer break
and then people can appear ask so the
last question is have you seen direct
valid improvements that came out of data
analysis who said that
so oh I can't share that we know you
don't have to of course of course ah you
know it's when you have the amount of
players that we do we don't know anybody
again on the user level in order to
understand our players we have to use
the data so yes certainly it we're very
data-driven it's our way to information
about most everything okay let's say
thank you to Anna again</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>