<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>GOTO 2016 • What is Rugged All About? • Matt Konda | Coder Coacher - Coaching Coders</title><meta content="GOTO 2016 • What is Rugged All About? • Matt Konda - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GOTO-Conferences/">GOTO Conferences</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>GOTO 2016 • What is Rugged All About? • Matt Konda</b></h2><h5 class="post__date">2016-08-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/KsTMz8V2b48" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">awesome well thanks for coming to hear
about rugged I'm actually sort of doing
this talk for Josh Corman I don't know
if you everybody's familiar with Josh
he's done talks about rugged frequently
but he couldn't make it because he's
testifying to congress about
cybersecurity today so i hope i can fill
his shoes in a reasonable way i hope
that as he's testifying he'll do more
than just take the fifth i'm sure he'll
be quite outspoken for those of you who
don't know Josh he's kind of a thought
leading soldier on the front line of how
we handle cybersecurity at a policy
level he recently joined a think tank so
that's kind of his angle he's very
involved with the movement called I am
the cavalry which is based on the
principle of there's no cavalry coming
to help us do security we have to do it
ourselves so it's basically around
figuring out how we can make security
part of the software we deliver and he's
working with auto manufacturers and
medical device manufacturers to do that
and so I would encourage you to check
that out he deserves that I'm gonna
spend just a minute covering what I
think he would want you to hear and then
I'll kind of spin off into my take on
these topics so he would use a slide
that had you know on driessen's famous
comment software was eating the world
right it's everywhere so if you have
insecure software it's everywhere he
would want you to think about DevOps and
security as an opportunity as a place to
think about security culture he would
want me to show you the rugged manifesto
which I will he would show a bunch of
slides of honey badgers and talk about
how security plus DevOps is like honey
badgers and he would talk a lot about
empathy because empathy in DevOps is
kind of the foundation of bridging
security and DevOps he would want me to
talk about instrumenting your code so
thinking about what measurables you have
and how you can use them to detect
security issues so he always uses an
exam
love using higher cpu load five percent
increase in cpu load as an indication
that a box got hacked so all kinds of
different creative ways of measuring
things he would tell me to be mean to
tell you to be mean to your code using
gauntlet or unit tests or chaos monkey
he would talk about complexity being the
enemy a lack of change management as
being a problem and he would probably
talk about empathy some more he would
also talk about your dependency so if
you're building a software product you
probably have n dependencies those may
have security issues he would want you
to be active about updating those and in
a lot of ways DevOps is inherently good
at many of those things and he would say
empathy again so I'm you'll notice I
said empathy a lot of times Josh and I
kind of approached this topic from a
different place so in this picture you
know one person's on an island looking
out and it looks like they're going to
be saved by a boat the other person's on
the boat and it looks like they're going
to say be saved because I can get to
land so we have kind of very different
perspectives so Josh comes at this from
a policy how to be the most effective
how to design your sdlc in a way that's
awesome I come at it from sort of a more
technical level I hope to convey some of
those more concrete ideas as well I
think we sort of i don't want to say
we're yin and yang but we come from
different perspectives so i'm going to
spin into mine in a minute now how many
people have heard of owasp most that's
awesome that's not always true in fact
that's rarely true I stand before you
today I'm the chairman of the OS board
right now and I got there by being a
developer who did security and trying to
bridge that community and so that's
something that wasp is really trying to
figure out we'd love your help we want
to see we want to see developers engage
with the wasp and we want as OS we want
to engage with developers more I put
this slide up really just to show that
my background has really been technical
for most of my career
read the bio blog back in the day worked
with spring for many years worked at a
security company and then sort of
started seeing my applications broken
and got a sensitivity toward security in
development and realized that I didn't
really know what I was doing from a
security perspective and about four and
a half years ago I found it a company to
work with developers just to do that
that's kind of where I'm coming from and
I kind of want to say this feels a
little bit like a setup because if you
were to go to rugged software org right
now it's down and we're in the always on
track so I'm kind of mad at Josh right
now but it's actually kind of an
interesting little irony which is the
reason the site is down is because it
automatically applied a security patch
that broke something so I can stand here
before you and say security security
security you should do it all the time
but the reality is sometimes it breaks
things right another this is kind of
funny I did a podcast for rugged
software developers and we did a bunch
of sessions where we talked to developer
as we talked to we talk to security
people we talked to Josh we talked to
Wolfgang gorelick we talked to a whole
bunch of interesting people James wicket
who wrote gauntlet was on the podcast he
was really the primary host and we did a
lot of really fun podcasting but now
that domains expired too so I guess I
kind of want to be upfront with you and
say I'm here talking about rugged but I
think maybe what we're going to do is
take the best that we can from rugged
and talk about it sort of independently
when I moved to Chicago which was about
15 years ago I would get in the elevator
in the building i was in and kind of
complain when it got cold i would talk
to people and say kind of can't believe
it's like zero degrees and 20 mile an
hour winds or 50 mile an hour winds and
almost always people would kind of say
we don't really complain here like
that's that part of our ethos we don't
complain about the weather so we'll do
the same we're not going to complain
about rugged we'll just make the best of
it and talk about why we're here talking
about rugged so this is a I'm sure some
of you have used this if you work in
Ruby at all rubel r is a regular
expression like testing site and the
reason I put this up here is along the
left you see dev psych ops DevOps exsec
dev ops ops dev SEC etc rugged DevOps
positive security DevOps and i wrote a
regular expression to match those
because basically from a security
community perspective we see devops
happening and we want in but we really
don't know how and the names are very
confusing and sometimes degenerate and
so one of the nice things about rugged
is it gives us a positive way to frame
devops rugged devops right so you could
change the whole title of talk to sort
of positive software security so let's
learn what we can from rugged okay so
basically the premise of rugged it was a
little bit like agile in the sense that
there was a manifesto and this is the
manifesto right I recognize that
software has become the foundation of
the model modern world right I recognize
the awesome responsibility that comes
with this foundational role right if
we're building software and it's
everywhere then we have some
responsibility for what happens I
recognize that my code will be used in
ways I cannot anticipate in ways it was
not designed for and for longer than it
was ever intended does anybody have that
experience I certainly do right so if
you stop and think about that while
you're writing software you might do it
differently knowing that you have that
long tail of maintenance perhaps more
particular I recognize that my code will
be attacked by talented and persistent
adversaries who threaten our physical
economic and national security right so
this is sort of saying embrace the
mindset that your software is going to
be targeted embrace that and make your
software rugged in a positive way so
that it can withstand those attacks and
basically I recognize these things and
I'm choosing consciously to take a
path of building high quality resilient
secure software them in many ways it's
reminiscent of agile and when rugged
came out it was some people criticized
it because I mean agile really did
change the way I did everything every
day and rugged has not right it's it was
aspirational maybe the parallel with
with agile but it is interesting it's
trying to change the way we think about
building things so one of those
statements mentioned I recognize that my
software will be attacked by skilled and
persistent adversaries right so one of
the things I'd like to spend a minute
minute talking about is who are your
adversaries because you may or may not
be thinking about this right and many
times we make the the Miss
underestimation that our adversary is
you know someone like us by themselves
sitting in the basement drinking
Mountain Dew maybe younger something
like that right that's a common
preconception about what your adversary
is and it's shown in the media every
time you see a hacker they're wearing a
hoodie right I almost brought a hoodie
just for that visual display but that's
not really who your adversary is right
so if you look at at forensics reports
about how breaches actually happened
your adversaries actually organized
crime right and the people who are
attacking you are probably working in
teams they probably have stand-ups they
probably get benefits right do you think
of your attackers is getting benefits
pair programming like do you think of
your attackers that way I generally
didn't but when you do it sort of
changes your mindset you realize that
you have to make this sort of front and
center to how you approach security how
you approach your your development
process and of course when you do that
it's going to be contextual so not
everybody has a team of ten people
attacking them all the time but a good
number of the companies represented here
do I certainly see that every day at my
clients right it's a real thing
so one of the things we can do to help
ourselves respond to that is to think
about a threat model a threat model is a
term from security but it's something
that's easy to explain and I'm going to
use a little case study to try to
explain it to you it's basically a way
for us to understand risk so this is my
car it's my car in my backyard it's
behind a fence in my driveway and we're
going to sort of think through a threat
model about the car right it seems sort
of obvious that when my car's parked on
the street somebody's going to grab the
handle may be right it's very possible
that somebody's going to grab the handle
and open the door or try I think I have
to assume that so I'll try to lock the
door somebody else somebody might break
a window to get it something valuable
they can see in the car so I would
generally not leave like a laptop
exposed in the backseat where somebody
might just break the window and open the
car so I have sort of in my head I have
a threat model even though I'm not
really thinking of it as a threat model
so when I parked the car in the street I
try to lock it try not to leave
valuables interesting thing is i parked
my car in the driveway back here because
i think it deters people from attacking
me or from trying to break into the car
but the fact of the matter is I've had
the car broken into here and on the
street so I thought my threat model was
pretty good if I park it behind the gate
it's going to make noise if somebody
comes behind the gate into my yard right
so this day I actually came out i sat
down in the car with my kids I have two
kids 10 and 8 right we get in we're
getting ready to go to school and I look
over at the side door and like you know
the glove compartments are all open and
everything's been shuffled through right
how did that feel for me do you think
felt like violated right it felt bad do
you ever feel that in the software
you're building not yet but you should
okay that's part of your threat model
and I want to take this one step further
right so i also have a garage you might
think if I park the car in the garage
it's going to be safer right I would
think so but
sort of keeping the analogy to
applications if I park the car in the
garage I need to keep the door open so
that I can get it in and out I need port
80 and 443 to be open so that I can
access the application I don't that
analogy makes sense to people if I close
the door it's safer but nobody can use
the car right so my threat model has to
do with what's in the car what's
valuable how people would get in how I
prevent them from getting in etc and you
could do the same thing for an
application for a page in an application
for a napi etc I figured people would
want a few technical security examples
so I'm going to give you some here and
we'll talk process sort of toward the
tail end so here's a query I don't know
how well you can see it but it should be
fairly obvious that the intended query
is just the first three lines ended with
a ' no parentheses where we're querying
from orders where our reward code is
something right what you can see is that
if I can inject into that variable
that's getting plugged in for the
rewards code I can make a much different
query okay and what I'm intending to
illustrate here is just how nefarious I
can be right because not only am i
changing the query that's running but
I'm running something that's actually
querying out of the users table right if
you look closely you'll see the Union to
the users table and the aliasing of the
columns from password and email to first
name and last name so when this runs and
this is from like a real example it will
drop usernames and passwords in a table
of orders which is obviously bad I hope
it's obvious that that's bad right this
is an example of sequel injection I
should never let an attacker control
what the structure of the query is going
to be so if we want to get rugged about
how we handle sequel injection how do we
do that one thing we do is we train so
you learn about how sequel injection
happens you learn about whether it's
possible in the frameworks you're using
i like to use grep i'm a big fan of grep
sir
for things that are good signs of
problems so when you see strings being
appended together as you build queries
that's a good indication that you might
have something to look at use
parametrized queries so if you don't
know what a parameterize query is I'm
not going to tell you right now I don't
have time but go find out basically
where you see a question mark and you're
replacing the value in you can do code
review so if you're doing if you're
doing if I have a pull request let's
equip with with a new query and I do and
I'm already doing code review of that
pull request I should be able to look
and check whether sequel injection is
there almost instantaneously it's a very
small unit of work so I wouldn't
recommend building it into your code
review and use static analysis and web
app scanning so static and not analysis
is basically something that rips through
your code and gives you feedback about
it parses it and will tell you that
you've done this okay anybody tell me
what kind of vulnerability this is going
to be about cross-site scripting ok so
the greater than in less than science
this is really exciting I know you're
excited the greater than in less than
signs have meaning to the browser right
they change what it does the browser
evaluates that it runs code based on
interpreting that as a greater than or
less than sign if I use the escaped
version with the ampersand LTE semicolon
it just renders that less than right
it's going to show it but it's never
going to try to do anything with it so I
would strongly recommend and this is a
huge problem i find this in almost every
app that I test I would strongly
recommend that you use a framework that
encourages you to do output encoding so
for example if you're using time leaf
which is a tag library that people often
use with spring generally everything is
outputting coded you'll always get the
ampersand LT semicolon unless you use
you text if you're using mustache you
got to look for the triple brace for
using jQuery look for the innerhtml
right
so there are certain smells for lack of
a better word like coat smells kind of
thing where they can introduce
cross-site scripting and you can once
you know that you can find those easily
in the same code review steps that I
just described you're doing a pull
request you look for whether there's a
triple triple brace it takes a second
right static analysis can find
cross-site scripting in some contexts
it's not a hundred percent another class
of vulnerability that we see a lot is
the OS term for it is insecure direct
object reference but it's really about
authorization so let's say that honey is
looking at his salary record and
Joanne's looking at hers but honey can
change his his view or the request that
gets sent to see a salary record such
that it shows joannes right I'm
requesting salary record 3 or salary
record five and if I just asked for it
you give it to me right that's a failure
to implement authorization right it's
very common there I think I have a slide
with a case that that this happened
publicly this is something where in
addition to doing code review for it you
can find it with code review you can
write unit tests for this right so if
you want to get rugged I would write
security unit tests and your security
unit tests can say register a user
create a project log out register a new
user visit the project if you can see it
you didn't implement authorization
properly if those users are not supposed
to see each other's projects that make
sense so it sounds like something that's
very accessible in a unit test this kind
of vulnerability is not something that
we can find with static analysis or
tools very easily so it we need people
who are in the IDE or in the code
looking thinking about it as we go this
was just I always like to include a
couple of recent examples this was just
a recent example of that authorization
issue where people started seeing other
people's orders this has happened to me
in real life applications if it hasn't
happened to you it's maybe because you
don't know it if you're like me I
used to always write my search methods
or my list methods such that they would
restrict what output came back right so
I'd say show me a list of projects and
I'd be very clear that I only wanted to
show the user their own projects but
then if you take an action based on that
like a delete or an update I would not
necessarily check again that you were
accessing your own project because how
would you have ever seen it in my mind
is a very naive developer how would you
ever even find the request to update
someone else's project right as a
villain it's very easy those are just a
couple of technical forays so rugged is
really about how do we how do we make
the code that we produce withstand these
kinds of things right and you know i
don't know that i think rugged is all
that different from security the SDLC
there are different ways of thinking
about it ultimately if you don't have a
process to support your security efforts
or your availability efforts you're not
going to be able to be successful
securing or making your system available
so i still have clients that use
waterfall many many of you may still use
waterfall I know that's that's not
uncommon the thing that security folks
tend to like about waterfall is that
there's a very clear point in time to
test like if I'm spending three weeks
doing QA I can also do my security
testing then right I can do a pen test I
can run static analysis that takes five
days I can do whatever I want and fit it
in that test window right how many
people are actually still using
waterfall hardly anybody that's that's
cool so what's actually the case is that
that the way we write software is
changed right we're actually doing units
of work that are smaller and smaller
we're working in stories and we're
either doing batches of them are doing
them all implement a story ship it
implement a story ship it right and what
we do from a security perspective
changes in that context because the unit
of work is so much smaller
so in the requirements phase we need to
think about requirements at a story
level or else it's going to be too late
we need to think about our threat model
like the car what's in the car what's in
the app what data is there before we
build something or while we're building
it but we can make ourselves do that in
the context of a story when we commit
code I like to see static analysis or
code review that kind of thing I'm a big
fan of checklists just because very
short clear test checklists can be very
effective and then I mentioned unit
testing I'm a big fan of security unit
testing right so in the context of a
story you can do all these things and
what you get out at the other end is
going to be better more secure software
more rugged software to borrow from jazz
humble if we look at like continuous
delivery we're taking that story
approach and we're basically pushing
code all the time right and when we see
this as a security team we want to just
control it like we that scares the it
scares us because we feel like we're out
of control we don't know when that point
in time is that we're supposed to do our
testing and we don't know what tools to
use because the tools we have take days
to run so they don't work against in an
environment or a context where you're
constantly shipping code however if
we're creative and look at this picture
we can do a lot of incremental things to
make our process rugged and that's what
we're going to talk about so I always
like to define security requirements up
front if you can so you may have
performance requirements that are
implicit to a system you're building you
know you're going to have a thousand
users or 100,000 concurrent users or
tens of millions of concurrent users you
sort of set out with that in mind if you
don't your architecture is going to
change and maybe you accept that but
from a security perspective we want to
start thinking about that as early as we
can and setting very clear guidelines
because developers without an idea of
what we're supposed to do are not going
to do the most we're going to do I don't
say the least what we're going to do
what's natural which is not the most
right and rarely is the most the right
answer either
so how do you choose right and the best
thing is to have a conversation and
explore that and communicate about that
so how many people have stakeholders
that are asking for security features
all the time a few not many that's my
experience also is that stakeholders are
generally thinking you did security but
they don't really know what that means
so one good way to help them is to
introduce a villain persona so you're
doing personas your story has some
persona some use case you're trying to
describe for a person who's achieving
something if you introduce a villain
right and you make that part of your
story review now you're going to think
about well how would somebody misuse
this page that has a check out or
something like that do people I'm
actually curious I don't know the answer
to this do people use story points I
guess generally yes do you use that in
what you would think of is like
continuous delivery yes I'd love to talk
more about how that works because I'm
just a little confused in the context of
a sprint I totally get it in the context
of a story by story I'm not sure I get
it but what I'm about to tell you is
your story point estimates have to
include security this may seem obvious
i'm not sure if it seems obvious but if
it doesn't include security then none of
this works none of your burn down charts
none of your velocity nothing that
you're using to plan and understand
what's happening at a project level are
going to work if your security
requirements aren't baked in to your
stories and your story points that make
sense so something I'll do with some
clients has helped them look at stories
they'll be grooming do you go through
grooming phases where before you start a
sprint you're going to groom the stories
that are about to go in and make sure
they're basically ready and well thought
through well you can make security part
of that right you can also do we talked
about this incremental code review at a
pull request level
I'm guessing most of you are using
continuous integration in this day and
age right there are lots of
opportunities with continuous
integration right if I'm using Jenkins
just for example I can very easily plug
security tools into Jenkins to get
feedback automatically every time I
build does that sound like a good thing
I mean kind of the whole basis for
writing unit tests and running unit
tests every commit is that you want to
know as soon as close to the point where
you wrote the code as possible what the
issues might be with it so that you can
fix them very close to when you first
wrote it and the same thing is true for
security issues this is just a couple of
examples of running a tool actually this
is a sort of a good point to segue and
say you know one way that we could help
bridge security and software communities
would be for all of you to help owasp
with open-source security projects
because unfortunately a lot of security
people are not great developers so we
write tools that are not very polished
or very clean or very well architected
they sort of work I don't want to knock
security people but we tend to think
like hey we can write a Python script to
chain a bunch of things together that's
pretty awesome but we're not like
building something for general use that
needs to kind of withstand the
architectural rigor that that most of
the system's you're building require so
to the extent that you could help us
that would be awesome i would i have
several projects i commit to right now
that i'd love to have people help with
that will probably help you as well if
you plug them into your continuous
integration process
so one of the things that ran in that
background in jenkins was static
analysis so static analysis is
essentially parsing code turning it into
something we can understand and looking
for problems and there are limits to
what it can find but it's useful if it
plot if you have tools available we
should use them so an example with
checklists maybe we have a story right
as a regular user I need to be able to
verify view my profile data ensure that
it contains correct information blah
blah blah right so we may normally have
acceptance criteria we're going to add
to a story that helped QA or us maybe
it's helping us write unit tests maybe
it's helping testers know what they
should be looking for maybe it's just
defining where the bar is well we could
add security items to that very easily
right and now we've articulated to the
developer that's going to end up
estimating and then implementing this if
this feature exactly what the bar is and
where they need to go and some of the
acceptance criteria that our security
related can be tested by regular people
who aren't security specialists so
that's one of the things I'd like to
break down is the idea that there's this
concept of a security specialist there
are some there are certain things that
are very very esoteric John Downey is
going to talk about cryptography later
that is very esoteric don't write your
own crypto I'm not saying everybody
should do security but in the context of
your application oh we should make sure
the user should only be able to see
their own profile that sort of seems
obvious to me and is something that I
think either a developer or a tester
could find or verify right I think
testers could identify PII pretty easily
as well like what data is sensitive you
train people once and then they can help
you right so I like the idea of blurring
and breaking down those barriers between
who's thinking about security and who's
not and I think that's kind of the
essence of rugged we talked about some
of these sorry this is kind of an
interesting example so a lot of times
people say well we're using SSL so we're
secure right and in this case we have a
forum to buy a book that
using SSL so it's secure right except
that I can potentially debit my own
account by putting negative quantities
in the amount so that's what that's
trying to illustrate right that's a
business logic type of security flaw
that can't be found by static analysis
or lots of other tools so you can do
things like write unit tests for it or
manually test for it or write lots of
times making a system secure or rugged
is about getting into the story in
though you workflow and figuring out how
that feature could be abused so how many
people have bought something on amazon
most people right how many people have
bought something and shipped it to a new
address a lot right what did amazon do
when you did that so it's not the
password it's the payment right so you
have to reenter your credit card number
if you're shipping to a new address okay
this is because there was a lot of fraud
where people were taking stolen accounts
like I don't know if anybody heard about
the LinkedIn dump of 117 million people
right guess what twenty percent of those
accounts are reused on other sites at
least right so I see this with clients I
think pretty much any big company is
going to see this where any large
password dump is going to get tried
against your users to see if that
account exists so if Matt Conda at gmail
com is a user in your system and I use
the same password between linkedin and
capital one or whoever right now
somebody can log in as me and they can
do whatever I can do if probably right
so that's dangerous right that's not
really a security in a way it doesn't
feel like a security problem because
it's not like I have a buffer overflow
or a sequel injection or something right
I'm just abusing something about your
system that's not watching out for that
but what Amazon realized was that by
looking at their their flow through
checkout they could add a step that
would dramatically reduce fraud
I would argue they made their app and
their business more rugged by doing that
that make sense and so I can stand here
and tell you about the OWASP top 10
which I would love to do believe me I
could talk for hours about it but
ultimately a lot of the things that you
need to think about aren't these can pre
known things there are things that you
only know while you're in there writing
the code and that's why I want to break
down the barriers and that's again what
I think ruggett is all about so you want
to think about how your feature could be
misused given that hardly anybody at the
table with me yesterday knew the bio
blog does anybody know this spy versus
spy okay at least a few people I another
thing we can do is operationalize data
about our system right so i just
mentioned amazon having an extra step in
check out something that you can do is
see if a given user has had a lot of
failed logins or is doing something very
outside their normal purchase flow right
your credit card companies are already
doing that they're detecting fraud by
doing that that may not be something you
need to implement yourself but there's
data that's there for you to use for
security and depending on your threat
model which we talked about right if I
have you know my family in the car and
lots of money gonna do more to protect
it I might do something like that so
when we talk about trying to do security
in a DevOps environment we want to get
down to the smaller increments of work
right the stories so if we're doing unit
tests we want to do security unit tests
and security if we're doing code review
we want to do security code review we
talked about some of this i'm going to
this is kind of an interesting example
how many people have heard of zap a few
not many so zap is an attack proxy that
will simulate an attacker like a very
brute force not smart attacker something
that you can do is wire this up to
automatically run against your app in
jenkins at night so okay
I mean I know that many of us are 24 by
7 business is now so people are working
all over the world but let's just say
you have eight hours where people are
writing code all day and then you have a
night where people are not using the
test system heavily you can wire it up
so that you're scanning at night to get
feedback with a tool like zap sorry I'm
going to go I'm skipping a couple things
to try to get to where we could have
questions so something that's
interesting about DevOps there is a
period and actually I still see it where
we're sort of classic security folks are
scared of DevOps because now the line of
separation of duties is gone or as is
blurred right so if you're if you're on
a team that's doing DevOps you may be
writing provisioning scripts that
control how your production system works
you may also be writing business
features right and generally security
people like to see there's people who
deploy and manage production and there's
people who write code and there are
different people and they shouldn't
overlap and the premise behind that is
that the people who are writing code
might put something malicious in it and
then deploy like a backdoor or something
like that well first of all in my
experience having the separation doesn't
stop the back door from getting out
anyway because the people who are
deploying don't recognize that there's a
back door but further if you're
documenting your provisioning with
scripting like shaft or something like
that you can audit using that so you
don't need to do the same level I mean
you should still be rigorous but you
don't need to necessarily run deep
vulnerability scans against every
software library using if you can check
how your provisioning each server and
you know you're doing the right thing
the other thing is that with with DevOps
we build and burn right so we might not
everybody does this but we might
reprovision a new server rather than
updating one that's already there and
that can have big benefits where you're
automatically updating all the
dependencies as you go each time you you
image it
so I like to think of sort of these
DevOps things as being self documenting
so it's like if your compliance folks
are saying hey how are you doing things
what what what we want to do is educate
them about about these processes so that
they can see see that it's a it's a
controlled process which is really what
they care about we want to embrace
change I'm going to just go quickly here
another way to think about this is
reactively right so we have these sort
of events that happen in our in our
development cycle and we can leverage
those as triggers to make ourselves
think right so we're going to commit
maybe we should be running you to test
or doing code review these are things we
can do at commit time making sure we
have requirements covered checking
dependencies when we deploy one nice
thing about the other nice one other
nice thing about provisioning with
scripts is you can set up a burn
environment very easily so theoretically
if you want to set up an environment to
run security tools against that should
be easy in an environment where in a
environment where you're building those
things all the time if you have a
classic pipe sort of pipeline when
you're deploying is another good time to
run gauntlet which is the tool that
James wicket wrote and then there are
other things that kind of still happen
outside of a very specific time frame so
I don't know what the triggers are for
these for many companies they never do
them other companies do a lot of them
but these are all things that you should
do periodically but they don't really
make sense in the context of a commit or
a story or a release necessarily lots of
people then they have a security
incident and that's a trigger how many
people have had security incidents that
they're just a few you know what we say
and security about that right right
there's the companies that have been
hacked and know it and the companies
have been hacked and don't know it I
mean that's okay
I think to try to re-emphasize one of
these points I'm going to do a quick
demo here just to kind of for fun so
what I'm running is an old struts up can
you see this kind of you don't really
need to see to too much but i'm running
a tomcat instance that happens to be
running some struts a bright so i can go
into this is metasploit metasploit is an
exploit framework I can search for
struts and then and by the way I don't
know how to I don't know how to hack at
all i'm just using a console here so
kind of joking sort of so then i have
tab completion so i can go i want to use
this one let's use let's use struts dev
mode show our options I want to set my
our host to be localhost and I'm gonna
say run just for brevity so what it's
doing it starts a reverse handler which
is basically like a socket locally
that's listening and then it attacks the
struts app which connects back to the
local handler and gives me kind of
command and control over that struts app
so in this case it sort of looks
degenerate because struts is running
locally and metasploit is running remote
running locally but in a more realistic
example I might be running this in an
Amazon instance or somewhere else right
with a public IP and I might be
attacking a public strut server right
and the thing that's scary about this is
I don't have to have I don't have to
authenticate I don't have to do anything
to be able to do this against struts and
what you're looking at here now is a
shell to the remote system so oops just
happen
Oh awesome not sure what I did there the
point is that she'll is running
essentially as tom cat in the tom tom
cat directory and can do whatever tom
cat can do ok I don't actually know I
must be in the wrong rvm session or
something
so what I just did though just to kind
of be clear as I exploited something
that was a known vulnerability and
struts right it's an old struts it has a
known issue I can attack it everybody in
the world knows I can attack it but it's
still in your app why right so here I'm
showing you a tool called dependency
check which will check all of your
libraries against known vulnerabilities
so you can run this and it will give you
XML that's like this that will say hey
you're running struts and it's got this
Oh GL Oh GL injection right so this is
the vulnerability that I used to perform
the exploitation that dependency check
can tell me about you can run this in
Jenkins as well you can run it a bunch
of different ways you can put it in
maven it will give you feedback about
libraries you're using that are a
problem so another point that Josh would
want me to make is what percentage of
your software is like what you've
written and what percentage of your
software is like your stack right so I
don't know like I built a ton of spring
apps usually that's 40 to 60 jars that
I'm including right that's a big attack
surface that's not really my code that I
don't even know so something you want to
do is think about your app is having a
bigger attack service in just that one
piece you're running and use something
like dependency check to get it so what
is rugged all about I mean we spent all
this time talking about security the
sdlc and how to make your software more
secure really partly rugged is about
security folks whether we're white hats
gray hats or black hats and that's not
your typical black hat it's about us we
look like wolves to you often right when
we come to talk to you you don't often
want to talk to us because we are in
habit of saying no we look like wolves
right but we want to be wolves in
sheep's clothing
we want to weave security into what
you're already doing in a constructive
way and that's really what rugged is all
about it's about finding those
incremental opportunities to do better
and trying to do that do do better we
talked about a bunch of specific
examples it's kind of like a Trojan
horse right it's like rugged is awesome
DevOps is rugged DevOps is awesome let's
adopt it and while you do it you're
going to get security but you didn't
have to stop and think about it that's
burning man where I think they burned
this which is pretty awesome I didn't
get to go but it's my time I'm very
happy to field questions i'm sorry that
josh couldn't be here but i hope that
this is fun it's fun for me</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>