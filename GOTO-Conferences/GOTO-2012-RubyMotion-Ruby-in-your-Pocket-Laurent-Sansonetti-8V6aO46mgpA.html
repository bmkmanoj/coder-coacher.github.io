<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>GOTO 2012 • RubyMotion: Ruby in your Pocket • Laurent Sansonetti | Coder Coacher - Coaching Coders</title><meta content="GOTO 2012 • RubyMotion: Ruby in your Pocket • Laurent Sansonetti - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GOTO-Conferences/">GOTO Conferences</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>GOTO 2012 • RubyMotion: Ruby in your Pocket • Laurent Sansonetti</b></h2><h5 class="post__date">2013-03-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/8V6aO46mgpA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well hello everyone I'm very glad to be
here today and this is I'm going to give
about to give a talk about ribbon motion
and so my name is a rural insanity and
i'm i'm the guy behind this project
cordoba motion I'm a long time will be
on tues yes so I've been using Ruby for
for about 10 years so even before regs
existed and actually it's funny because
I don't even know much about raves so
and my so I'm a I'm a programming
language enthusiast and I'm ready I
really like low-level programming like
I'm a sea programmer on a daily basis
but my dream has always been to use a
dynamic languages for application
development and in the past I
contributed to the Revere wrappers for
the gnome desktop environment then I was
maintainer of the RIBA cocoa bridge
which actually allows you to use a ruby
to talk to the objective-c runtime but
Ruben cocoa wasn't good enough for
performance reasons because it's a it's
a bridge it's a middleware framework
between to this team run times so we
decided to create the macro V project
which is a real implementation of free
be on top of the objective-c runtime and
that was my project for about four years
I was I was Annabel employee since 2004
and to last year at Apple I work on a
high life OS 10 and also the core the
very core operating system layer that is
used to power a stand and iOS and microb
was one of my projects at apple and last
year I decided to leave Apple to do a
start-up and to move back to my home
country in Europe in Belgium and the
first product of the startup is Ruby
motions so it's it's it's a part of my
creepy but for iOS so it lets you do
applications for iOS that you will be
and the name of the companies
he bite so it's actually a place it's
beep serves bites anyways ah so who
knows about will be motion here if you
okay not a lot of people so what is Ruby
motion exactly well it's a it's a two
chain that lets you write an ad is
applications in Ruby so you can use the
Ruby programming language to write
applications for iphone or ipad it is
different from the toolchain that apple
provides you by default Apple ask you to
use xcode and objective-c and
objective-c is a dynamic language while
it's a it's a sort of a runtime on top
of see that lets you use small talk
messages and define classes at runtime
it was great 30 years ago 30 years ago
when you only had C++ as a as an
alternative object you see was a breath
of fresh air it was awesome and but 30
years later objective-c is pretty much
hold and it's not very popular in the
sense that most programmers DS they
don't know much about see anymore so
when I was at University 10 years ago we
worked out C and assembly but these days
I'm feeling that young programmers don't
know much about low-level languages such
as CN and because objectives is a set of
see a lot of programmers have a really
hard time to get into iOS so remember
shine is really about trying to do to
improve the learning curve on is so it's
basically will be on due to iPhone
applications why would you want to do I
actually is development it's actually a
very huge market so according to Apple
they are 365 million iOS devices that
they've been sold since the very first
iPhones at about 400 million itunes
account active itunes account so that's
a pretty huge user base and these days
if you do a constituency especially with
ribbon you can very fine
contracts contract work to do is develop
and also and it's also possible to sell
applications on the app store and try to
make a bit of revenue this is well very
interesting this is the first Ruby
motion success story the OB mission was
raised about five months ago but we
already have and it's very interesting
success story ever clip is an
application to to actually connect to
Evernote so it lets you clip information
and send them to a windowed it's
completely written in motion it's also
the first commercial app and i think i
heard they are making some nice ribbon
you know so so that's very very exciting
and they heaved a even one the evernote
deathcap so if you wanna check a real
real emotion app in production it's you
can check out ever clip what what what
is our emotion exactly well every motion
is an implementation of free be on top
of the is the is frameworks so i'm going
to explain about that later it's also a
statically compiled implementation of
ruby it's a dialect of ruby that is
completely compiled completely
transformed into machine code at build
time so it is very different from other
dynamic languages the entire tube chain
is based on the terminal so you only get
to use a terminar to do everything so
you don't need to use any special ide or
user interface you keep using your
favorite text editor so if you're
familiar with vim or emacs you just keep
using these editors and there is a there
is an amazing community around the
project so we try to cover these five
points in the presentation first let's
let's talk about the runtime there is a
unique feature of emotion is what we
call the unified runtime so Ruby motion
implements will be at the same level
where objective-c the apples language is
implemented which means that in remotion
the entire object system such as classes
and methods are actually using the same
runtime as objective c so when you
create a class in
promotion it is actually an objective c
class under the scene and when you
define a method in Ruby motion it is
also an objective c method under the
scene so why is it important it's
actually important because we get
through native app development in this
way and with no performance expense so
when you create an object in Ruby and
you pass it to an objective C API and
this objective c api calls your object
back there is no bridge behind both
objects so it's only native code and
there is no objection version of any
sort so it's actually very fast and we
actually do this did this because we I
work for a long time on Rebecca go which
is different it's a middleware between
two existing runtimes and there were so
many problems with a middleware because
you need to keep track of to exit 22
existing object systems at the same time
you need to keep track of memory
management in two different worlds here
this is very unique so it's actually
very nice for performance reasons and
also in remotion the building classes
the building really classes such as
string or array or hash are actually
using the foundation classes so in
objective-c you also you also add these
building classes you can create strings
in objective-c and promotion we use the
same class for for the implementation so
this is also great because it means that
you can create classes in rib strings in
Ruby and pass them to iOS and they won't
be any conversion needed that's actually
based on on the little resource that we
did at Apple when we were working on a
programming language bridges we found
out that most of the type that cross
languages are built-in types such as
string array and dictionary so by making
sure that these three building types are
based on the same code we it get much
easier so why would you actually want to
use Ruby if you can already use
objective c well this is the basic hello
world example in really if you don't
know much about Ruby this defines a
hello class where there is a constructor
that accepts now
argument and in this constructor called
initialize we set the argument to an
instance variable so the at cg is
actually mean to specify an instance
variable and then there is a say method
that can be used to put hello what and
here we use string interpolation which
means that the value of what we be
replaced we actually replace what's
happening the string so you will see
hello something and it's this is a very
basic hello world example and the same
code in objective-c would be more like
this and this is exactly the same thing
it creates a class with the property it
has a constrictor it has a say method
that prints the content of the variable
and that's pretty much about it so we
could say that the core of this very
important part of this code is only
three lines everything else is a boiler
boilerplate code inject you see when you
need to create a class you need to have
a lot of code around it you need to have
two separate files if you want to do
things the right way and it gets pretty
messy engine where will be is a much
more concise language so it lets you
have applications very very short amount
of code one of our one of our users
reported all of these existing
objective-c apps in Ruby motion and he
told us that it was about to get rid of
sixty percent of the code so you only
had 30 percent at the end so which is
awesome because you have less code means
less bugs right so you write less code
it's easier to maintain so we can we
have more time to play video games and
this is also this is an interesting
snippet I was talking about the that
Ruby motion is based on the objective-c
runtime but it also lets you go pure see
ap is so if your c developer you
probably know that they are C is not a
dynamic language so it's very static so
you have other files that describe the
apx that you can use but that's pretty
much about it so and this is an example
of reversion using the OpenGL API and
OpenGL is a frame
available in iOS and many people use it
for the right games but it's a pure capi
so it's only a set of macros constants
and functions and structures but in
enjoy promotion we develop a layer
called bridge report which actually
parses the entire sea-based frameworks
and generate support for the 440 static
compiler so that when when you actually
try to call the c function the compiler
is smart enough to know that it's going
to be this specific c function in that
framework and it will replace the code
with a direct call to the c function so
and this is this is basically a basic
this is basically one one part of C to
Ruby and the very funny thing is that
the guy who did this forgot to remove
the semicolon it's on lines which is
actually not required it would be so so
you can and all these things like for
instance the GL clear color is the c
function the gr and the score current
score before the score bit is actually a
macro I think macro to something so you
can I have no idea what this code does
by the way but it works so let's talk
about the compiler and by the way this
is this logo is the logo of the llvm
project which is the most awesome logo
ever and will be motion is based on llvm
so it's actually very interesting
because as far as I know every motion is
the first implementation of freebie that
is completely statically compiled so
what means that you only have one
compilation build so we transform the
Ruby code into machine code and then
there is no more computation anymore so
we don't do just in time computation we
don't do code interpretation mostly
because these are pretty much black
holes in the is guidelines rules so we
don't want to mess up with Apple so the
code that you write your emotion cannot
do code evaluations runtime so we only
compile once and we use lvm for that and
I'm going to explain a little bit of
computation process
so first we start with the Ruby syntax
which is basically a pure text so here
we have a we define the hell of you
clasp that generates from you I view
which is a iOS class we define a method
and then we call the super method and
then we pray do some custom drawing
stuff and look up the compiler we part
this into an ast which is an abstract
syntax tree here I'm using a very simple
annotation but it's basically a donor
way of the right so it's actually huge
trees of tokens and this is actually
very common in programming languages
most priming languages even HT parser
and compiler and there's on DST the
compiler will generate a vm intermediate
representation so lvm is if you know
what lvm is it's actually a set of
modules right compilers so it's actually
very cool and it's also a language for
these modules the language at IBM use is
called the intermediate intermediate
representation so it's some sort of
generic assembly language that you can
you can actually build this language and
had instructions to it and then there
are all these lvm modules who let you
generate code target any any
architecture you need for for that very
specific code so based on the st which
energy equivalent llvm assembly
instructions and we also apply a lot of
optimization passes there so we do
method inlining we do that code removal
we we replaced loops we even have an
appt dependent musician to do a tail
cortical elimination so it has your
right functional code in Ruby which is
nice and after that we can only target
we can target assembly for the proper
architecture and the we support to up to
two architectures entire 32-bit which is
required for the simulator and then we
have different architectures for this
different is hardware with arm
armbrister 6v set and we set as the new
iphone 5 architecture and based on the
assembly we can then get a machine code
which looks like nothing but nobody is
going to look at the machine code
so on so this slide is I remember it so
on so this is an application called
mustachio that I wrote with a friend of
mine it was likely the first will be
motion app we actually wrote this to
make sure that apple will approve
commercial applications so it's actually
a simple app it it uses it uses cover
image to detect faces inside the picture
oops sorry you choose this cover image
to detect faces and then on every face
at some stage so but it connects it
would grow the mustache according to the
to the guys face and it's actually very
interesting so did the code source is on
github by the way should type mustachio
you will be able to see it but the
application has been removed by Apple
since because we I forgot to renew my
Apple Developer account so I wasn't
aware they would delete your
applications that's pretty nasty listen
you an email do you want to renew your
icon I said well no I would create a new
one but I forgot that they would remove
the app so anyway so that's a very
simple app and and the guy in the
screenshot is my son by the way but what
is really what's interesting here is the
size of the application I'm not sure if
you can see it but the size of the app
is the redline megabyte so this is what
I really want to meet with the slide the
the runtime overhead in a ruby version
app is very it's less than one megabyte
here it's right at nine with some sort
of compression so it's pretty nice so
it's the compiler generates a pretty
much very optimized code but we really
try to make sure that the final
executable will be as short as possible
and we've been working towards reducing
the good size by 300k less but it's
still super distorting and this also
very different from other development
platforms that put that ad for its
intended a bite on your application and
it's if I think if you go over twelve
megabyte you you can't use you can
download applications from 3g networks
anymore so it can
an issue so here we retry to make sure
the compare is generating a very short
code now I'm going to talk a bit about
the tool chain so the real emotion to
chain is based on the terminal so you
use the terminal for everything and you
use the terminal to create a project and
the project is basically a directory of
an industry activity there is a reg file
if you don't know much about Ray can
drag files reg is the really equivalent
of make the sea based on I mean usually
make is used for C programs and rake is
best is the de facto build system of
Ruby and a ribbon motion project is
basically a reg file that has three
lines of code by default because the
entire project configuration as default
values so you can customize everything
in there in the reg file but by default
as sensible default values and the reg
file also has a bunch of tasks that you
can use from the command line to to play
with the project and the three most
important tasks are the simulator task
which is also the default one which will
send the application on the simulator
there is a device test that will
actually send the application on your
device and you can we can also start the
application right away see if you want
to immediately see the application
running on the device and finally there
is a archive distribution test that will
generate an IPA file suitable for App
Store a deployment since since two weeks
ago we added a baking supportive emotion
so this is very exciting if a measure if
you guys know do our dwarfism is a
dybbuk format for your originally
written for sea based programs so that
it lets you add context for information
about your source code about for
especially for debuggers and we we
actually support you are from the
compiler know so when you when you
compile when we can buy really coded to
machine code this machine code as the
big information right away so it means
that we know for instance that at this
very specific upset we are talking about
this will be method and this file and
this line so it is ray you
44 and when one for instance you get the
crushed raise it would be motion app we
can know and the data cross-straits with
the file online information of your
project and as far as i know we are we
are the only height of a language that
support dwarf and we use the wii u can
attach your debugger here we use gdb but
we can switch to lgb later and we pray
write a better the bigger in the future
but you can touch with the Dybbuk around
both the simulator and the device you
can set breakpoints and you can expect
pretty much everything inside the
debugger and this is just a screenshot
of a debugging session here we we can we
can actually set a breakpoint to
somewhere in the ruby file then we can
we can continue the program and then it
breaks on the break point of course and
if i type BTW which prints the
back-trace you can see the first line as
information about the method name and
then the file and the line so it's it's
actually very very very useful another
thing we do is that we do testing and
relationships with a some sicko bacon
which is an R Spec like framework so it
lets you write a test using a English
like language so it's like sort of dsl
for testing and it's also integrated
with the United run loop which means
that all the tests will be executed when
the application starts and this kind of
things and it ships with a functional
test layer which is the most important
part of the testing part so you can
write functional tests like for instance
tap this button get the text field of
this get the value of this text field
and his verses so you can write pretty
low elaborated tests for your app and
you can also use a test driven
development with your emotion and this
this layer is based on UI automation
which is a framework Apple's uses for
testing but at the difference that add
up all day they force you to use
JavaScript to write your tests because
you can't really use objective c right
test it's too low that also but here we
don't want to use javascript because we
already have really so it lets you write
it lets you use it yet emissions from
rudy
which is much better than JavaScript and
this is a snippet of a test using the
this new testing thing so we can see
that it reads like English right
describe the timer view controller do
test we test this very specific control
then it as a timer level do and then we
have test there so that's supposed to be
a friendly for developers so we don't
this is so do you guys recognize what
this is so this is Xcode expertise than
adults ide and we we don't support Xcode
by default in aruba motion first because
xcode is a very bad editor for will be
and even for other languages etcetera
disappointment it's it's very bad for a
bit so bad that if you use a regular
expression inside you code the the
parser will actually if you use a
reserved keyword inside the regular
expression it will start parsing the
rest of the file sorry and anyway so and
the prime is that of xcode is at first
it's maintained by Apple and it breaks a
lot of time so we don't want to rely on
that and also rick scott is very magical
so if you have been using xcode you know
that you can create user interface with
interface builder and which lets you
create you i wish your mouse and then if
you click somewhere else you break
something and then you can create also
core data models which is database of
iOS with your mouse but we don't really
like that it actually is actually great
for for objective-c because objectives
is tedious if you want to do things
programatically can gets very annoying
but in really it's so simple and in
review release the great language right
abstraction layers also called
domain-specific languages so we are
taking a different approach here and we
prefer people to do everything
programmatically so without using the
mouse and magic but in Ruby the code can
be much shorter so i will show you that
later and it wouldn't be a real swinger
alex code without the
the crash I'm joking so you get to use
your favorite editorial demotion and
personally I moving user so it's it's
the best editor ever but people also use
a text night or the recent sublime text
2 red car it's a is a very interesting
editor it's all written in Ruby using
the GV implementation and they have a
very nice integration with your emotion
so you can create a create projects from
red car at lunch to simulate or the
compiler everything works it's really
awesome and there is also a max which is
some sort of operating system you can
also use Emacs if you like if you really
like ruby mine is we are actually
working with the JetBrains faults which
are very nice folks by the way and we
are working about adding ruby version
support or not to ruby mine so it might
come a later so if you're interested
about that you should follow their blood
properly and there will be an
announcement but the very interesting
about will be mine is that it provides
auto completion of the iOS AP is from a
contextual perspective so I did a few
screenshots of the first beta S&amp;amp;P here
if you just type your I window that I
logged in it it will suggest you the
hint with frame method because it's
actually a method if an of you I've you
but you I window is a subclass of UI
view so you can select this this
suggestion that we can keep walking you
need to provide a rectangle for this
method as an argument so you start with
the UI screen method and then it
suggests you to get the main screen
which is exactly what you want so you
keep and then it suggests you to return
the bounds method and using the bumper
method with return the rectangle Rick
right for this window so here I just try
that this morning by the way and it is
 awesome me so I think that once
this will be available this will make
the life of promotion developer in much
easier
now let's let's talk a bit about the
ribbon motion community hope that was
fast by the way and last time I look
there about 500 projects on github
mostly or libraries or a sample code but
also this editor supports all these
editors support is basically open source
and the community run Ruby motion has
been growing so fast the first the first
two weeks that the present project was
released we we got like thousands of
developers joining and purchasing and
using the platform so it's actually very
very very big so i select act a few
project to show show you today TCAP is
actually a very nice project it lets you
it's a DSL for a writing you I but it
uses the CSS convention in the sense
that you write the presentation the
style from the presentation so here we
you can actually create create some sort
of style style sheet object that will
contain the layout of the the theme of
your your widgets like for instance text
fields are a search bar or buttons and
then you can apply this tide sheet to a
specific view controller and so and all
the elements on this you control we use
the specific team so it can be very
interesting and this is much better than
using the iacp is a bubble wrap is an
interesting project too it's a it's a
very interesting project that provides a
lot of small wrappers around djuice is
AP is so here for instance the red of
the bubble wrap HTTP post method that as
you do HTTP POST and if you want to do
this programmatically you need to use a
i don't even remember the name of the
class but it's like 10 lines of code
here in just one line and you pass a
block and you have your HTTP POST
request which is awesome and then you
can use the adjacent to this JSON rapper
to parse and also generate Jason so
that's pretty nice formotion lets you
build the kind of view I that you see on
the right using a hash so this is
extremely useful if you have been doing
a bit of iOS development you probably
know that doing this you I program at
is very very complicated it's some sort
of table of you excuse themselves it can
be very very tedious and here it's just
a hash that you pass to an API and
you're done so I'm not sure why you want
to do this programmatic didn't and parts
mother is an interesting project it's a
it's a wrapper for the bars calm and
service so part come if you nominate
it's some sort of remote key value data
store that you can use to as the backend
of your application so you can set
values the cloud and get values from the
cloud and and and this is a reveal
wrapper for it so it looks a bit like
active record if you know if used to
race you can define a class then you can
say that it's actually going to be a
model for parts then you can set the
fields and then once you create the post
once you hit the save method it will
save the object in the network then you
can retrieve it later so it's actually
pretty nice and yeah the last project I
wanted to show you is the motion state
machine project so it lets you write
state machines in Ruby motion so
honestly that's that Mac thing so I have
no idea what this code does but it's
actually so you can actually create a
state machine and plug it into the is
Evan loop so that when the notification
arrives it can enter a different state
in the machine but what's very
interesting is that the the entire
library is actually based on gcd grand
central dispatch GCD is the concurrency
library that other ships with iOS and
also as 10 and Ruby motion provides a
wrapper for gcd but it's not that great
and this entire thing is all based on
tricity so all the callbacks are
synchronous they will be concurrent so
and Ruby revolution is also a new
preposition implementation of really
that doesn't have a global interpreter
lock so everything can be run
concurrently so I think that that's
going that's going to be a very
interesting project in the future ones
iOS devices get more CPU cores and I
will show you a duo of a promotion
so let's let's start let's start with a
new project so we'll just go on TMP okay
and we just create a new project called
hello and as you can see it created a
bunch of files hello reg file is the
project configuration then you have this
app directory that as by default a fight
then you have resource which is empty
this directory should contain all the
image and sound and funds in whatever
all the resource files that your
application needs runtime and then the
spec directory contains the test for
replication so if you want to do with
test-driven development you can start
right here and write the test and if i
interject renate a break is going to
compile my oh that's real it's going to
confine my application and then run it
on the simulator oops here we go so my
admirer is pretty slow today so I don't
know what's happening but we have a wet
the application running here and it's a
empty window so why is it empty because
by default we don't generate much code
if I check the if I show you the
application delegate method you can see
that it's just a basic method that
returns true so we don't do match here
so what I can do it again I can start by
I can create an error view I can show
them can set the message for the hell
you and I can then run Randy review then
if i type break again
oops what's happening here
since we updated to Xcode yeah yes
either hello go to here since we ability
to xcode four let's take the similar
tour takes like three seconds to learn
show not sure what's happening here and
so that's basically he reward and now
I'm going to show you a more interesting
example i'm going to show you that the
timer application it's a it's one of the
first samples that we built with ruby
motion sticking a lot of time to start
the simulator okay there we go so this
is a very simple app and it has a label
a button once you click the button its
start this timer and when you stop it
stops very simple up here what's
interesting is that you can see that
with a wave a prompt here it's actually
what we call the ripple and it's a
really interactive console where we can
type expressions and these expressions
will be compiled using dressing time
computation and then sent to the
application using a unix pipe and then
execute it in an inside inside the
submitted application so you can you can
instruct introspect we can introspect
everything in the application using a
command line so this can be very useful
especially when you deal with a core
data you can introspect the content in
the application running and a very
interesting feature of real emotion is
that it lets you if i maintain the
command key and then move the mouse over
the simulator as you can see i can i can
see the views inside the simulator and
for instance if i hear i select the main
view and if i click on it the shell is I
get a shell back but the the contextual
object is now this specific uiview if i
type self self becomes the UI view of
that's the view i selected so i can
prison as for the background color and
it says neil because there is no color
but i can can assign
to a new color right oh there is no ah
that's a great goal like this and again
I can basically change the application
at runtime yeah this is something you
can't really do in objective-c it's very
complicated and you can it you can use
this also for rapid development for
instance you can start your code you can
place widgets but you don't really know
where they should go then for instance I
can select my my labor here I can check
the frame its twenty two thousand okay
so i can set the frame to something
different like
like this
you can see it move a little bit below
up I can basically reposition my widget
so this can be a very interesting now I
would like to show you the debugger so
if i type break with the back command
one it starts at the bigger and then we
are running inside the burger and
typically application is running I can
at any time break and then i can sell
pregnant if i want to set a breakpoint
to the timer controller as you can see i
just use the tab space and it knows that
there is this file in the project I can
break on line 32 for instance which is a
ok it doesn't know that let's see first
oops
you know what the best way is pretty to
make a mistake in the code so if i go
here and every since here I've
invalidate I'm going to remove one
letter I save the file now if i run it
inside the debugger this is the matter
that would be called when the button is
clicked so here i'm running and it's
working because I even click it if I
click boom I click the second time and
it breaks here so it breaks when raising
an exception so if I ask for the
back-trace this is the back trace where
the exception is raised and we can see
that we are triggering method missing
which is a really exception but here we
know that we are actually here in time
where cultural 25 26 that's where the
exception is raised so if I go to this
line this is exactly where we are so we
know that this is where the bag is so I
can change a line and and work here and
from here I can I can select the frame
seven and now I'm in the Ruby code I can
I can print the Ruby code and I can also
view introspect what's happening if I
tag if I check for the can check for the
timer object which creates owner or
because it's it has been invalidated
yeah because it's here yeah anyways the
debugger is nice because you can
actually see you can actually set
breakpoints inspect variables and the
last thing I wanted to show you is the
spec framework so in this example we
have a bunch of specs that we wrote so
we wrote the specs after the code so
it's not following a test driven
development but you can write the specs
before if you feel it you can sleep
better at night and some I'm just going
to run the specs first so you should i
press back it will rebuild the
application for
specification load then she will build
the spec library so it only happens once
and then it starts back and up look I
need any to actually exist with zero
zero and zero errors so it ran all these
force all these four specifications so
you can't really automate you can you
can automate your application so this
actually very cool if I if I show the
source code you can see that it's here I
I I can tap the start button I wait for
one second then I tap stop button then
here we check if the text of the label
is below one and before too which means
that it should actually have waited one
second so you can actually write a very
nice set of tests around your
applications and yeah I think that
should be it if you have any questions
or if you want to see anything more let
me go back to the slides and yeah
yes yeah so so the memory management is
a is the same as arc in incline so we do
you don't need to care about retain and
release I mean you don't need to count
to think about with 10 counts a drop in
the ocean so that the run time will a
proprietary release and retain your
objects and we do this at runtime so
except that arctos is a computation time
so it's basically like it feels like
garbage collection but it's not true
garbage collection in the sense that the
objects we only be released when the
nearest auto release pulley destroyed so
whipping motion is really based on the
same memory classes and Objective C yep
yep yep
yeah yeah so you can so I have even
talked about that but you can integrate
any third party library so it's very
easy you can do it two ways first don't
the first ways to do it manually so you
can embed the Xcode project inside your
application and the second ways to use
cocoa pods and we integrate with cocoa
pods and and actually the guy who does
coco pass is actually a friend of mine
so we so we try to make sure that it
works great on reversion that yeah so
and if you don't know what cocoa pod
seized by the way it's some sort of
package management for objective-c
libraries so it's actually very nice and
in Ruby motion you can you cancel it but
for a specific framework and it works
thank you
yeah so uh yeah so for instance the so
right now the entire to change is open
source except the compiler and the
runtime so the all the all the
command-line stuff is open source so
people can add attack the source code
and but the rent time and the compiler
is still a proprietary and bettiah so we
we actually open source the rest of the
code the months after during lunch
because many people ask ask for it yeah
it doesn't work on the device yet no it
doesn't work on the device yet but you
are yeah yeah it's possible yeah but the
only it's actually glad connecting to be
tricky because we well it's tricky for a
technical point of view we use a tlv I'm
just I'm compiler in the ripple and you
cannot use your certain population is
because doesn't allow you to mark memory
page as executable so but we will try to
find a way to work on that but it's only
for development so what are doesn't need
to know yeah any more questions yeah
yeah so right now we haven't really look
at that so you we know you can so you
can use instruments which is X got a
profiler on Ruby motion apps and it will
work Marius Marius out of the box
because first because we objectives Ruby
Ruby motion objects our objective c
objects so you can see the first as you
can see the all your audio directly
being created you can see the name and
the name corresponds to the Ruby class
so that works and also when you when you
get a call trace for every allocation
object allocation because we support the
dwarf stuff I was talking about it means
that you can see where in the Ruby code
this subject has been created so that
works if you you can use instrument I
think but the prime is that instrument
is is pretty much being usable in Miami
you cannot really use it for a big
application it gets very slow and um I'm
not sure if you really want to use that
and but we what we would like to do is
to write our own profile at some point
which will be also more higher level
because really different persons really
want to know about lot of objects and
back traces and kind of things it's like
the debugger the debugger right now is
very very loaded I mean you need to know
gdb and both backed races and things and
really the reports are not pretty
familiar with that so we want to build a
higher about the data Ryan forgot to
mention we support the trays too so
there are dtrace probes in the in the
runtime so you can do Trace exceptions
messages object allocations kind of
things that can be used to also profile
for instance what's happening when you
when it's in a infinite loop yep 11
location yeah
yeah so that's the number one feature
request so a yeah we are we are
considering doing it but I prefer not to
talk about it until it's down so so we
don't want to it's prefer yeah we know
that a lot of people wanted so we are
pretty going to look into it let we once
it will be available we'll we'll make an
announcement perhaps any more questions
yes
okay okay so yeah well so I think there
are two two big constraints the first
one is evil you can use evil with a
string and the second one is that it
says it's a statically compiled really
so the require method doesn't work in
revolution you need to provide all the
files at the time and these are the two
big constraints as far as i know so you
can use everything else so the first
built we didn't support define method
but we fix that so I'm so evolved with
the string and require they are not
going to work anytime soon I think more
questions nope poke it well thank you
very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>