<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>GOTO 2014 • What I Learned About Going Fast at Ebay &amp; Google • Randy Shoup | Coder Coacher - Coaching Coders</title><meta content="GOTO 2014 • What I Learned About Going Fast at Ebay &amp; Google • Randy Shoup - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GOTO-Conferences/">GOTO Conferences</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>GOTO 2014 • What I Learned About Going Fast at Ebay &amp; Google • Randy Shoup</b></h2><h5 class="post__date">2014-08-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Sxafk-TihsU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so first
I don't normally do this but it's sort
of
the talk so I'll indulge myself I guess
so right now I'm the chief technical
officer of a gaming company in San
Francisco called Kixeye and we make
real-time strategy games for web and for
mobile devices for about 500 people sort
of and I've been doing that for about
ten months and sort of ten months and
two days ago I was the director of
engineering at Google for Google App
Engine so App Engine is a platform
as-a-service about three million
different applications run on it
including most of a bunch of Google
internal applications and then also a
bunch of games and then maybe the most
famous is snapchat so they run they run
on App Engine and then before that I had
a little startup and I don't have my own
island so we know how that went maybe
that's another talk about what I learned
about that but but before that I was
chief engineer at eBay and I did a bunch
of different things but for the most
part I spent my time for those six and a
half years working on multiple
generations of eBay's real-time search
infrastructure so some of the examples
that I'm going to use come from there
and some of the examples I'm going to
use come from Google and some from
Kixeye so it's sort of a mishmash of all
those great so I guess we'll start with
you know why do we need to go fast right
why in particular is this part of we the
Kixeye gaming company part of we need to
go fast so these are some of our games
these type these real-time strategy
games are really real time like when I
say real time search at eBay like that's
measured in seconds that's not real time
gaming is measured in milliseconds that
is real time human reaction speed
they're super spiky workloads right so
things go up and down very very fast the
kinds of games that we make are
extremely computationally intensive both
on the client and the server
we're running full physics simulations
in parallel and so there's quite a lot
of and you know tons of graphics and
stuff so there's quite a lot of
computation going on the games
themselves are constantly evolving and
the games that we make are constantly
pushing boundaries so the goal that
we've set for ourselves is we'd like you
to be able to play our games on you know
your iPad 4 on your iPhone 5 or on your
web browser and have the same kind of
experience you could have
with a custom gaming rig or a you know a
console game and those things are built
for this stuff so there's a challenge
and we sometimes make that challenge and
sometimes we fall a bit short but that's
our goal
cool well so why aren't we fast right I
mean why aren't all organizations fast
and it's a big question with a big
answer so I sort of you know as you do
broke it break it up into a bunch of
different categories so first I'll talk
about the people aspects then I'm going
to talk about the sort of organization
and organizational culture aspects and
then finally I'll talk about process so
first let's talk a little bit about the
people side of things so this is easy to
say and a little bit harder to do but
the first order goal around people is to
sort of hire and retain the very best
you can and why should that be true if
you can hire a players what we will find
what you'll find is in creative
disciplines like art and audio and
computing it turns out that the top
performers are not sort of just 2x
better than the more productive than the
the lowest performers it's actually more
like 10x and there has been a series of
studies actually for decades on that
subject and they sort of consistently
prove that there's a huge differentiator
between the top performers and the
bottom performers in these types of
disciplines so if you can hire the top
performers they're 10x more productive
so that leads to first-order sort of
smaller and more productive teams right
if you can get three people that can do
the work that you otherwise would do
with 30 that's a lot smaller and a lot
more productive it's also a lot more
cost effective but also there's a
second-order effect here where really in
any system there's some amount of
coordination that's going on right and
the amount of coordination among three
people is a lot less than the amount of
coordination that's going along going on
among 30 people and sort of there's a
blog post and a whole talk you know in
this little set of statements but
there's a very smart guy named Neil
Gunther who's proposed something that he
calls the universal scalability law and
it's a generalization of Amdahl's
which I'm hope we're mostly familiar
with that's about sort of locking where
things get in single file behind having
to do something but there's a but
there's a richer thing there which is
about coordination and when you have
something like a like coordination where
a bunch of different people all have to
work with one another constantly in
order to move anything forward the
problem is that that pain scales with
the square of the size of the group
right so it's sort of with one well with
you know three people it's sort of one
level of pain but with 30 people it's
not ten times the level of pain it's 100
times the level of pain so the more that
you can get top performers the smaller
teams you can have the lower
coordination overhead and the faster you
can go there's another angle here which
is that a players tend to attract and to
want to bring on other a players because
they're not afraid of them right they
want to do their very best and they want
to play with the best
unfortunately what one sees is that B
players often tend to bring in not other
B players but actually C players because
they are afraid right if you're not
confident in your own skills whether
that's a valid you know concern or not
you're gonna not want to bring in people
that are potentially competitive and
that's something that that actually that
actually happens in real life and best
to avoid so cool so the first example
I'm going to give is the Google hiring
process so the goal of Google in this
particular hiring process is to only
hire top talent now you'd think that'd
be everybody's goal but actually as far
as I can tell it isn't Google is so feel
so strongly that at the end of the other
end of the process they only want top
talent joining Google that they are
willing to make mistakes along the way
as long as those mistakes are
potentially not hiring people they wish
they had so false negatives are okay by
which I mean Google says oh sorry Randy
we don't really want you to work here
but see actually if they had really
known I should have you know what I mean
they're perfectly fine with that mistake
that's no problem in fact they know
about it now
talk about that in a moment but what
they but what Google very much does not
want to have are false positives in
other words they hire Randy but Randy
really shouldn't have made the cut does
it make sense what I'm saying here that
differentiation cool so it's so known
within Google that this is the goal that
when there's winds can de de tis being
evaluated the hiring committee that does
that evaluation does that sort of go no
go hire no hire decision actually
explicitly says and when with this
person be sort of encouraged to apply
back again right so it's not know now
means no forever it it's no now and the
next time we would accept an application
from her would be you know six months or
nine months or twelve months
does it make sense when I'm saying
because they know that their experience
of Lee unintentionally but very
explicitly rejecting people that that
they otherwise would want to hire so the
hiring process goes a bit like this
there's a famously very challenging set
of technical interviews for technical
positions and people study you know I
did I studied for weeks I bought
algorithm textbooks and I studied like
it was PhD orals type of thing the
interviewers for those interviews take
of extremely detailed feedback and then
rather than the hiring manager here's a
there's an objective hiring committee
that actually decides whether to make
the hiring decision or not and in fact
that hiring committee is making the
decision should Randy come to work at
Google or not should Google offer Randy
a job at all and then there's a totally
separate concept which does involve
hiring managers about oh well we think
Randy should come to work at Google now
which group should Randy work in does it
does it make sense what I'm saying here
yeah
and the end result out of that is
actually it ends up with extremely
highly talented and extremely engaged
employees and that was something that I
noticed when I was there cool
so the next thing about people is sort
of respecting the differences among us
so I think that the most valuable asset
we have at Kixeye or when I was at
Google at Google or when I was at eBay
eBay the most valuable asset we have is
not
the technology but the people and so
since the people are the most valuable
asset we should treat them with care and
with respect and what I've seen is if a
company truly values its people and
demonstrates that value then the people
are going to turn right around and
provide value back to the company
people are not interchangeable
I mean we sort of know this in our
regular lives but sometimes at work we
forget it
so all of us have served if uhrin sets
of skills different interests different
capabilities we're very much not cogs
you know like in a assembly line and
we're not fungible we're not sort of you
know we're slap one on top of the other
or you know replace one willy-nilly with
another so when you're designing the
team it's best not to think of it as a
factory like let's have a bunch of you
know machines that all operate the same
but rather think of it as creating a
symphony right so the beauty and the
richness of a symphony or a rock band if
you prefer is different instruments
right playing together you know there
are very I'm sure there are rock bands
that are all percussion or all guitar
right but the best ones the ones that we
like to listen to are the combination of
guitar you know lead guitar rhythm
guitar singer bass you know percussion
etc cetera and do the same thing when
you're you know if you're gonna build a
rock band you know do the same thing to
build your build your team so compose
your team it's not it's not a
disadvantage that people are differents
it's it's an advantage right to take
advantage of it so you know compose a
team taking advantage of those of those
disciplines of those differences sort of
weaving together the different
instruments rather than trying to you
know stamp everybody out of the same
mold so a I'll say counter example or
anti-pattern is something that I
experienced when I was at at first at a
Bay and I will say just straight out
that eBay doesn't work like this anymore
they've learned their lesson so I'm
talking about eBay circa 2006 it's it's
actually much better it's a great place
to work now but circa 2006 the
development process went a little bit
like this and the agile people are gonna
you know freak out if they hear this so
first order thing okay so we want to do
a project we want to you know make some
change to the site so somebody
some Engineer sort of designs and
estimates that project right we say the
scope err somebody says what's the scope
of work and they ask and the unit of
estimation is this thing called train
seats and I can tell you historically
why that's true but a train seat was the
unit was to engineer weeks of work right
so one engineer times two weeks of time
and this scoper would sort of say I
think this is going to take you know
five train seats of work or ten train
seats of work or something like that
then that person kind of goes out of the
picture and that number at ten train
seats worth of number works of worth of
work gets assigned more or less or God
assigned more or less to a random set of
engineers so think of the engine is
wasn't quite this bad but almost was
think of all the thousand engineers is
this common pool of undifferentiated
cogs and we'll choose you know we need
this to be done at this point so we'll
choose five of them we'll give them each
to train seats worth of work or we'll
choose ten of them and we'll get you of
each of them one train seat worth of
work and something like that so notice
that the designer or the implicit
designer really that scoper doesn't
implement and the implementers didn't
get a chance to design Wow that net made
for as you might imagine an extremely
dysfunctional engineering culture so
first order in terms of it just the
human element engineers were sort of
treated very explicitly or implicitly I
guess as interchangeable cogs right
we're all we're all the same and no
regard for skill or interest or
experience or previous tasks that they
had done second thing was that people
ended up and you can imagine somebody
working on this particular task has
absolutely no pride of ownership in that
implementation right they didn't get a
chance to design it they were handed it
and said in two weeks I need you to
produce this thing imagine how
motivating that was and imagine how much
pride people took in that work even
excellent engineers that are otherwise
great and motivated right so that sucked
a lot of the life out of it
but there's another thing that's even
worse is that nobody it ended up that
nobody had sort of long term ownership
of the codebase right so if you're kind
of get parachuted in to a particular you
know battle site or whatever you know
some
area and then you're gonna be
parachuting you know next week you're
gonna be parachuted into some other
place you don't have any you know any
incentive to like refactor in there to
keep it nice and clean so you see what
happens yeah so this wasn't so great and
again like I say it doesn't work that
way today but this is an example of sort
of taking a strict waterfall process and
going as far as you possibly can and to
be fair you know it was extremely
predictable you know the trains ran on
time we could bring people in and out
pretty easily cuz like it didn't matter
what you knew or didn't know you know so
there were advantages but but mostly
disadvantages okay
so you know what how could we make a
virtuous cycle here right so let's
imagine hypothetically we hired a
players we treated them well you know
dip in with differentiate you know with
recognition of their sort of
differentiated skills we're gonna keep
and retain these excellent people we're
going to get better results we're going
to attract more a players which we're
gonna treat well round and round and
round in this wonderful way does it make
sense cool
so next thing I wanted that was sort of
the people angle the next thing I'd like
to talk about is the sort of
organizational culture angle so the
first thing sort of culturally is what I
like to call sort of quality over
quantity and you know when you're making
really anything but particularly
something for consumers like at eBay or
for gamers like a Kixeye it's best of
course to think about the whole user and
player or player experience holistically
right so when we're trying to optimize
something we should think first and
foremost about optimizing the experience
for the people that were actually you
know building for and I like to say that
the user experience is more than the
user experience right so we have a
discipline and it's extremely an
extremely important discipline in
computing which we call UX right user
experience but the experience of the
user is way more than that
you see what I'm saying so the user
experience is about making the flows
extremely easy and making them very
intuitive and that's an extremely
important discipline and you know don't
hear me saying anything different but
there's way more to the experience of
the user than just that right there's
also the functionality of the product
that you're building there's of course
the performance of the product that
you're building right the bugs in there
the quality angle so all these things
are going together into the sort of
aggregate holistic user or player
experience of the thing that you're
building so what's an implication of
that one implication for me is that
actually less is more right if we want
to build a quality product it's actually
a lot better to build or one way I like
to say to sort of solve 100% of one
problem rather than 50% of two problems
right so and you know
relatedly a user that of your software
is going to prefer I claim prefer one
great feature instead of two sort of you
know partially completed or you know
half done features right and that can be
a little bit counterintuitive and it
certainly isn't how most organizations
operate even a bunch of organizations
that I've worked in but if you think
about it like think about your own
personal experience of you know things
that you use alright so you download a
new app on your phone or something like
that
you're not saying wow there are 17 new
features in version 4.2 of this thing
you know if you're excited that you're
excited about one or maybe two of the
things that actually improve your lives
right it's not about the quantity of it
it's about the quality of it so it makes
sense cool so the next thing sort of
organizational culture wise this really
does come organizationally
I hope you'll agree is a culture of
learning so we make mistakes all the
time everywhere right in our personal
lives and our professional lives all of
us are making mistakes all the time all
of our companies are making mistakes all
the time one hopes that you know at the
end you know if something has you know
corrected it so that it doesn't actually
show up for customers but we're making
mistakes all the time
rather than pretending that that's not
true and fighting against it let's try
to learn from it and use it as a
learning opportunity to improve right so
rather than thinking of you know
something goes wrong you know App Engine
has an outage or you know one of our
games has a glitch
rather than sort of you know pointing
fingers what did you do
think of it rather as you know what did
you learn and the best way particularly
for you know introverted engineers like
myself best way to do this in a
productive way is to sort of take the
emotion and personalization out of it
right it's not about what did you know
Bob do or what did Randi do it's like
well what did as a as a group what did
we learn from this experience and how
could we do better so and if you do that
what you'll find is it actually
encourages people to move faster right
because what you've done is you've
reduced the risk of failure and so
you've reduced the risk of going quickly
and it'll encourage your teams and you
know your people to iterate more and to
have a lot more velocity a lot more
speed and the quote I like to I think
that's extremely relevant here is from
one of my favorite presidents Theodore
Roosevelt who said failure is not
falling down it's refusing to get back
up right it's not the failing part it's
not the falling part we fall all the
time it's about refusing to get back up
right and any of us who are parents know
this with our kids you sort of know this
implicitly right it's your kids fall
down all the time like that's exactly
how they're learning right yeah cool so
the example I'm gonna give is what we
call blame free post-mortems this is
practiced at Google it's not only
practiced at Google John all SpA who
sort of one of the fathers of the DevOps
movement now he runs operations for Etsy
he he talks about this regularly as well
it's a really great practice so what you
do is is pretty simple is after every
sort of incident that rises above a
certain level of severity we have a
post-mortem right and we follow you know
it's not super formal but we follow a
sort of a structure to it right so we
document exactly what happened you know
1:21 you know UTC X happened and why
happened in Z heaven what went right
it's important to do this by the way
it's important to say what went right
because often we're gonna go oh it went
down and talked about all the things
that went wrong but there are lots of
things lots of countermeasures that you
had in place ahead of time which did go
well right you should recognize what
those are but then also document you
know what went wrong right and then you
have an open and honest discussion with
the teams that are involved to talk
about all right well what contributed to
the incident what could potentially we
have done better and I saw this I
wouldn't have believed if I hadn't seen
it multiple times with my own eyes
but you will if you do this in a very
you know a motion free blame free
supportive environment what you'll end
up having is this perverse incentive for
the engineers involved on the different
teams to almost compete to take more
responsibility for what went wrong I
mean I saw this multiple times and I
really would not have believed it ahead
of time it's amazing if you make it safe
for if you make if you make the goal of
the meeting how could we do it better
everybody wants to contribute oh yeah
here's how we could do it better so
it'll be you know yeah you know our
thing didn't hold up under that load
particularly well oh you think that was
bad well you know we weren't even taking
backups and our replica replication was
lagging and you know it gets to be this
almost funny competitive thing but the
other interesting thing and I'm sure
most of many of us will have had this
responsibility are not knowing is
sometimes a lot of times teams will come
into these podium post-mortems and go
thank God we had this outage because
finally I can fix this broken thing that
I've known about for a long time is
anybody in the room had an experience
like that like thank god there you
go five to several people
thank goodness finally the thing
happened that I predicted in my you know
Cassandra like way for a long time and
now I can fix it now I have the you know
psychic space the time the management
permission whatever was holding us back
to actually do it
and that's sort of you know making
lemonade out of lemons like I mean
that's turning what is a bad experience
right I mean we would prefer of course
not to have had the outage but if we do
it properly as an organization we're
going to get stronger that make sense
cool so coming out of this post-mortem
of course should be a bunch of action
items right so what are we going to do
to change our process what are we going
to do to change our technology what are
we going to do to change our
documentation etc how could we have
automated these problems away right what
could we have done to sort of define the
problems completely away how could we
have diagnosed the problem more quickly
right what modern could we have put in
place what alerting could we have put in
place to make it so we could have
figured out the root cause more quickly
than we otherwise did and then how could
we have restored service more quickly
right and all these things are gonna
have some concrete answer and you know
we should we should note all those and
then of course the key thing is to
follow up right I mean it's one thing to
note yes we had these 10 things that we
ought to fix but then with some
reasonable time afterward you know weeks
or a month or however whatever your sort
of development cycle is follow up to
make sure that we're making progress
against against some of those things and
and that if we're gonna make mistakes in
the future that they're not the same
mistake we hope that we could just make
new ones
that makes sense yeah great so here I
like to sort of pause and think about
the virtuous cycle of improvement so you
know we'll start with honesty being open
and honest with ourselves about what
went wrong we're gonna learn from it
right means we're going to improve for
next time we're gonna get better results
we're going to be encouraged to be
honest more honest we're gonna learn
more improve more again round and round
and round in this wonderful way great
so the next thing organizationally I
want to talk about is service teams so
you can think of it as micro service
teams you know just to reflect a little
bit on back some of what adrian was
saying in the keynote so small focused
teams typically would run a single
service or a set of related services and
that team to the RET as far as the rest
of the you know organization is
as far as the rest of organization knows
sort of has this very minimal
well-defined interface and if it's a
computational service you know something
that you might get in your favorite
infrastructure vendor or something like
that it's very clear what that interface
would be I think this is also applicable
to things that are less computationally
like other types of more human services
but the obvious example here are sort of
you know computational services and so
then you have you you want to have a
very clear contract between the teams so
I'm gonna provide this set of
functionality and I'm gonna provide this
sort of service level this performance
essentially I'm making these promises to
you my customers and you can hold me to
those so I'll give it some examples from
again from Google so everything at
Google is sort of organized around
services so when people say this is just
a little bit the language but people
don't say I work on the Gmail team they
actually say I work on the Gmail service
so that's a service that obviously I'm
sure most of us use offer directly to
consumers so that's not an
infrastructure service or a platform
service that's a consumer service and
but the Gmail team thinks of themselves
as a service and they all work you know
as one unit Google App Engine that I
work with is a you know platform service
or a set of platform services and you
know we consider that our little bubble
BigTable about which there's one of the
famous Google papers that's an internal
service that's a sort of no sequel mm
structured storage that is the largest
one of its kind in the world but but
that's but on top of BigTable a whole
bunch of Google's infrastructure runs
including search and most of the things
in cloud and Gmail and all sorts of
stuff and all those services are so all
those service teams are self-sufficient
and autonomous so the teams are more or
less fully self-sufficient now they rely
on a layered way on other ones as I'll
talk about in a moment but for the thing
that they are doing they have all the
resources and all the skills within the
team right so this is very much
parallel to DevOps where we put ups in
there but it's but it's across all the
disciplines right so you know think
product management think you know in our
case at games right think art think
audio also think engineering and and
operations and then these things are
layered on one another and this is a
this this example that the stack that I
show here is the stack that at the top
is the App Engine or now the Google
cloud platforms data store so this is
one of the largest no sequel posted no
sequel systems in the world it's called
cloud datastore and it's layered on a
bunch of other Google services each of
which adds and it's useful additional
piece of functionality on top of on top
of them and I mentioned these because
there are papers about all of them so
the names aren't super important outside
happy to talk about it offline but you
know cloud datastore as the developer
oriented platform platform service is
layered on something called mega store
which is itself layered on something
called BigTable which is itself layered
on a distributed file system called
Colossus which is itself layered on
Google's cluster manager which you know
manages all the compute and storage
resources across the across the fleet so
one thing that's really exciting about
that is that extremely small teams in
this environment can achieve extremely
large things so the mega store team for
example six people not so mega store
doesn't just support you know App Engine
which is a pretty big customer of it but
it also supports a bunch of the Google
Docs six people and they are all
developers but they also carry a pager
they actually have sufficiently
automated their infrastructure such that
they don't have to do any follow-the-sun
situation like if I were on the team
like I think that they do it daily so
like I take the pager today and then you
know John Michell takes it the next day
and JJ takes it the next day and so on
but they've sufficiently automated it so
that it doesn't kill them that when
things break at 2:00 a.m. they don't
break that often at 2:00 a.m. so
everybody gets to sleep oh I didn't
mention they're all in the Pacific time
zone so like yeah and then similarly the
cloud datastore team
is about the same size you know this is
a this is one of the largest hosted no
sequels in the world and it's in that
team has order six people eight people
something like that it's not massive and
it's exactly because well how is that
possible you say well it's because they
didn't have to do it all themselves
right because they did their layer which
isn't a pretty important layer but all
the other layers they you know all the
other things below it they were able to
rely on a service team that gave them
you know a promise set of functionality
without agreed-upon
service level and an agreed upon set of
performance does it make sense great so
the next thing and it's very related is
what I'll call ownership culture and
this is extremely similar to the freedom
and responsibility angle at Netflix that
Adrienne mentions regularly and which he
mentioned in the keynote so you want to
give teams autonomy right and this can
be hard but if you can give teams the
freedom to choose sort of their own
technologies there so their own tech
stack their own pipeline their own
methodology their own working
environment but also make them
responsible give them the responsibility
through the results of those choices
right make whatever choice you want
within your bubble because you're behind
your interface but you're responsible
for you know meeting your service levels
whether you know the mungo thing you're
using or the Cassandra thing you're
using or whatever is up or down or
sideways right and then hold them
accountable for the results right
because at the end of the day it's not
so interesting how how a team achieves
the goal its what goal you gave them so
give a team a goal rather than a
solution and then let that team own the
best way to achieve the goal right and
so the example I'll give here is is from
Kixeye so we are heavily moving toward
refactoring along microservices lines so
one of the things that we knew that we
were going to need we've already had the
need is a kind of I call it the chassis
for building services so people are
familiar what a chassis is in a car so
that's sort of the underbody of the car
and people may know that car companies
tend to make a small number of chassis
x' right
no but like say a handful so say some
company like you know four-door Toyota
is gonna make I don't know two three
five different chassis 's but they have
tens of models of cars right so the same
chassis is gonna be you know all the
different SUVs or whatever at XYZ
company you know are gonna be built on
the same SUV chassis they're just going
to have different models on top so
that's that's the goal here as you know
the the metaphor is we want to build a
bunch of different services on the same
chassis great so this team had pretty
minimal I wasn't intending to starve
them but they had a certain pretty
minimal set of resources and pretty
minimal set of direction for me so it's
three people they were they're all a
players but three people and they
basically had a month and I said I
suggested to them hey Netflix has a lot
of great open source projects you might
want to check them out but I've but at
the point I'd never used them I just
know that Adrian and Jeremy and Co are
smart so check it out so that was sort
of the direction that I that I gave them
on the how the team completely exceeded
everybody's expectations so they not
just built the chat they didn't just
build the chassis that I talked about
they also built a transport layer that
supported both sort of HTTP rest style
calls serve synchronous request response
and WebSockets
so that's asynchronous stuff we use that
extremely heavily in real time games so
we needed both those kinds of things and
that wasn't part of the Netflix open
source stuff so that's something that
we're gonna open source later but so
they built a chat a transport layer that
could take both request response
synchronous and asynchronous Oh
bi-directional asynchronous transport a
service template to make it easy to spin
up new services a whole build pipeline
you know that will you know bake build
all the things together bacon ami deploy
it out to Amazon etc and then use the
nets the Netflix Asgard tool to do
what's called red-black deployment so
you've got version a and version B of
the software up and you spin up version
B and have it ready and then just simply
flip the load balancer from a to the B
so you never have this like weird spin
up time and you can always flip back in
case something goes wrong so again like
I say we made heavy use in this work of
Netflix open source projects the result
is that developers that kicks
I can go it's almost amazing it's still
amazing to me but I've seen it in action
that 15 minutes from no code to a
running service in AWS right so
obviously to build any non-trivial
service that's going to take more than
15 minutes of my own coding but the only
additional overhead of like the whole
build deploy get it out there test it
you know connect with the monitoring
system all that stuff I get entirely for
free and so for free that it encourages
me to build more and more and more micro
services which is exactly the idea here
and it's pretty exciting for us we're
going to be planning in the next month
or several to open-source a bunch of
this work to sort of give back to the
community in the same way as we've been
able to take so I'm super excited about
this stuff great so you know the
virtuous cycle of ownership as expressed
just right there
so give a team you know a goal not a
solution right so give them the autonomy
they're going to be extremely motivated
they're gonna be efficient in in how
they achieve their results because hey
man they only have three people right
it's not like they can write the whole
everything from scratch they have to
have to have to stand on the shoulders
of giants to get their work done they
get great results I'm gonna give more
team's autonomy round and round and
round in this wonderful way great so
next up is is collaboration so now I
talked about a little bit about how I
would organize one team let's talk about
how to do things across teams so of
course best is to act as one so one team
particularly across you know the skill
sets and you know divisions that are
that are most problematic historically
in our industry so engineering product
operations and so on and easy to say and
sometimes in some engineering culture is
hard to do but think about solving
problems rather than blaming and
pointing fingers right I'd like to leave
the politics to the politicians and you
know leave it outside the workplace and
this is a joke that maybe is only funny
to me but bureaucratic games are not
anywhere near as fun as the real time
strategy games that we build at our
company so I'd much rather if you're
gonna play games at work
which our guys do I'd much rather have
them be playing you know kick side games
than playing bureaucratic games in the
organization cool well so the example
I'm going to give here is Google so
Google legacy organizational wise has
actually multiple organizations in some
sense just in some sense by by skill set
so there's sort of an engineering
organization a separate product
organization a separate operations
organization a separate consumer support
organization etc etc and all those
different reporting structures end up
going to different vice-presidents so
you would think that there'd be a lot of
challenges associated with that well as
a practical matter things like app
engine end up forming a virtual team
with a single goal out of these
different disciplines right so everybody
on App Engine is all co-located on the
same floor in San Francisco
all of them work together with a common
goal to make App Engine extremely
successful and and of course you know
you all work together so the co-workers
become us rather than them even though
they're a different you know skill set
in a different organizational structure
so the story I like to tell here which I
really enjoy it always makes me smile to
think about it is the facilities people
in the Google San Francisco office came
to our group and said we're trying to
plan space you know in the Google San
Francisco office for the next couple of
years so we want to sit down with you
and tell us you know your growth plans
and so we can see kind of what space
we're gonna need to reserve for you like
okay great and they said and also this
was wonderful these people thought ahead
so well they said and also we'd like to
know what other groups are you gonna
need to be co-located with right so so
that you can do your job really well so
we went through okay we you know do need
to be with we don't really need to be
with developer relations folks because
those guys are always a waste speaking
at conferences anyway you know we don't
we we could be on a different floor from
the support people because they're
answering phones and they're loud we do
need to be with this this team and that
team and so on so we went through all
that and then the woman goes oh
look at the seating map and you know who
about what about these guys oh they're
product they're us and just like oh okay
that's great they need to be with us and
then she said oh what about this group
they're not in your team like well oh no
those are operations they're us too it
didn't even occur to me that those teams
that reported two entirely different VPS
none of whom we've ever even met mostly
it didn't ever occur to me that they
weren't our team did not even occur to
me and that is that's how it should be
right it just so it was it's a complete
random coincidence almost that there's
that the reporting structures are
different like everybody we all acted as
one team so I think that says a lot of
things it actually says that you can
create this kind of culture even if the
organization is aligned along an
entirely different access great so that
was a little bit about organizational
culture so the last section I want to
talk about is about process so the first
thing and this is very similar to the
you know learning from failures as
experimentation so one of the things
that is certainly true in internet
culture and is particularly true in
online games is it's the game is all
about constant iteration right
we never assumed at eBay when we
released a new you know new features on
the search engine that they would be
perfect the first time or that consumers
would love them immediately like that
never happened but launching was only
the first step right so first was to
launch it out there and then we we keep
constantly improving with a bunch of a
be tests and constantly iterate and make
it better and better and better and the
example that from Kixeye from gaming is
that you know the two games more or less
that pay all of our salaries are ones
that have been around for a while one of
them called battle pirates was more or
less an overnight success but another
one called war commander wasn't an
immediate success it this was an
extremely small I wasn't there but it
was an extremely small company at this
time maybe 30 or 40 people so was it and
it took six months of weekly or even
more often iteration on work commander
until we finally found the right
combination of
game mechanics and feature set and
ecosystem all together to make it
something that really resonated with
players we knew there was a great game
in there because we were playing it but
it took six months of you know grind
grind grind to get to the point where we
found something that really resonated so
first we stuck with it and then we were
able to reap the benefits right so we
constantly iterated on it and now now it
pays you know half our company salaries
so great so that's so the thing one of
the things there is that you know many
small experiments that you make small
improvements will end up you know can
end up summing up two really big wins
and the example that I'll give there is
a great experience that I had at eBay so
again I mentioned that I worked on the
search engine there so people maybe are
familiar with the general idea of a
ranking function in search right so if
you've ever heard of PageRank for google
that's the ranking function right so
that's the combination of factors where
they score for your query what what
results should show up in first position
tenth position 100th position etc so
eBay has the same thing it's a different
set of factors but conceptually it's the
same idea that every time you go query
for something on eBay were in real time
evaluating the scoring of the different
items that look that could come back and
ranking you know ordering the results by
that by that scoring function great so
before we started to do the work I'm
gonna tell you about we had sort of a a
small number of hand-tuned factors that
product manager is defined and they were
pretty smart product managers so it
actually took us a year to beat him with
a machine but then we blew right past
our goal was thousands of factors which
no human could possibly you know hold in
his or her brain so the only way to do
this was with machine learning so the we
went through first we hired a bunch of
really smart people we built up at the
time the third largest Hadoop cluster in
the world so it was several thousand
nodes and you know 2010 or whatever
third after Yahoo and Facebook we got
these brilliant you know PhD guys to
come up with some actually ended up
being very simple predictive models of
if somebody queries what's the
probability what's the conditional
probability that there
review an item if they view it what's
the conditional probability that they're
gonna bid on it or purchase on it
purchase it etc and we ran hundreds and
hundreds of eight of parallel a B tests
of different factors and they're
different models and so on on the live
site and we made a full year of steady
incremental improvements no one
improvement move the needle by more than
point oo whatever percent but if he
aggregated it all together it it ended
up at the end of that year a two percent
increase in the overall revenue of the
company so ebay transacted about sixty
billion dollars of goods and services in
that year sort of 2010-2011 eBay takes
an order ten percent cut of that so the
revenue was order six billion dollars
for that year a two percent increase in
revenue is a hundred and twenty million
dollars to the bottom line that we
didn't have before we also in parallel
totally separate team again with a whole
bunch of experiments worked on improving
the speed of the site right just simply
here's a crazy idea
if you make it faster for people they're
gonna buy more and as a side note like
that actually was an argument like we
actually had to argue with a bunch of
sort of the business side no we
shouldn't build new features we actually
should just make the existing features
faster and then we proved it with a
bunch of experiments and that gave us
another two percent so in aggregate it
was about order two hundred fifty
million dollars between the set of
experiments that we did along machine
learned ranking and the set of
experiments that we did along site speed
super impressive to see to see all that
great so here's a virtuous cycle of
experimentation right so we do
experiments we're gonna learn from them
because not all of them are gonna work
in fact some small number of them are
actually going to make an improvement
but out of that learning we're gonna
improve we're gonna get better results
we'll do more experiments round and
round and round constant improvement
great so the next thing I want to talk
about is what I call quality discipline
so you know we talked about sort
priority one priority two priority three
features to my mind quality is a
priority zero feature
nothing works you know I mean nobody
wants to play the game or you know use
the website if it has poor quality so
you know quality reliability scalability
these are things that are sort of
priority zero features that always
should be there and automated testing
it's probably a bit preaching to the
converted is going to help you go faster
in that in that quality discipline right
so tests have your back it gives you the
confidence to break things because you
know you can you if something is broken
you can notice it right away and back
out your change it gives you the
confidence to sort of refactor the code
in a very confident very courageous
merciless way allows you to catch bugs
earlier and fail faster and the
intuition there is that even if you
don't really believe me the intuition is
that is it faster to run on solid ground
or is it faster to run on quicksand
the answer is solid ground thank you and
actually yeah so much faster to to run
on something where you have a very solid
foundation and can move faster I move
forward more quickly great and now now
that we know that we like quality let's
institutionalize it right so that's
inculcated into our development
practices with things like code reviews
and continuous testing and Kittitas
continuous integration let's automate
quality through you know automated
testing frameworks and it's something
that we call Canarian it's a bit of a
term of art but the metaphor is canary
in a coal mine right you miners would
take a canary down and if the air was
bad the canary would find out first and
so that by analogy is you know imagine
you have a hundred service servers that
are serving a particular service you
upgrade one to the new version and see
how it fares and then if it goes well
you roll it out for the rest of the
fleet cool so the thing here is to
obviously the Met idea here is to make
it easy to do the right thing and hard
to do the wrong thing so the example
that I'll use here again from comes from
Google and Google has some really
excellent engineering discipline so
extremely solid development practices so
every submission
to the source control is code reviewed
there are automated tests for just about
everything you know I mean the
expectation the implicit expectation is
that you're going to have automated
tests and actually the code review is
enforce that right that looks great but
please add the tests and then Google
overall has a single logical source code
repository so with the exception of open
source projects like chrome and Android
everything in Google is sort of every
developer at Google can see and make
changes to actually all the other stuff
and why is that not dangerous it's
because of code reviews right it doesn't
actually if I make a change I wouldn't
do this but if I randomly go into
BigTable and you know make a change it
doesn't go into trunk and tell it's
until it's you know reviewed cool so
actually the result within the you know
Google bubble is very much an internal
open source model so how that got
expressed actually an app engine because
of again a bunch of Google internal
stuff uses App Engine it's not tip you
know you could do this but it wasn't
often you know here's a bug report
because people would find bugs in the
code all the time instead because there
was a single code repository etc instead
it was here's the bug I fixed it for you
with these code changes please review
them and here's the test that verifies
the changes that I that I made in your
code that was awesome that was so cool
great so the virtuous cycle of quality
here is have some it have some strong
engineering discipline move on a solid
foundation you're going to get faster
and better and get better results so I'm
going to running a little quick on time
so I want to just I guess recap a little
bit so things that we can do to make
organizations fast or you know make
change to the people make changes to the
organizational culture and make changes
to the process so as a last little
advertisement I suppose come join us and
help us do this at kick side so we're
over just over 500 people we have our
main office in San Francisco we also
have offices all over the west coast and
all over the world so Seattle Victoria
British Columbia Brisbane and Australia
and
damn and then here's my contact
information I'll be putting the stuff up
on SlideShare relatively soon but thanks
very much for listening</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>