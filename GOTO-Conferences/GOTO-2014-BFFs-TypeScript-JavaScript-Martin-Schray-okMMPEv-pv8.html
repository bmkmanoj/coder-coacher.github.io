<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>GOTO 2014 • BFFs TypeScript &amp; JavaScript • Martin Schray | Coder Coacher - Coaching Coders</title><meta content="GOTO 2014 • BFFs TypeScript &amp; JavaScript • Martin Schray - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GOTO-Conferences/">GOTO Conferences</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>GOTO 2014 • BFFs TypeScript &amp; JavaScript • Martin Schray</b></h2><h5 class="post__date">2014-08-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/okMMPEv-pv8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so I work for a company
of called Microsoft we're trying to be
the next big thing again I've been with
micros
12 years I've been with the company long
enough to see some interesting ups and
downs and my role at microsoft you might
say what is the senior technical
evangelist do my role is to try to
create interest create awareness first
of all create interest and hopefully
spur people on to actually use some of
the new technologies that we have
whether it be languages like typescript
or programming environments like visual
studio or even building for our latest
platforms like Windows Phone and Windows
8 today we'll actually be talking about
typescript so just to start things off
you know javascript is fantastic
functions closures the dynamic language
the expressive way you can and write
code in it they're all fantastic there
are some things in the language though
that we wish we had and when we talk
about typescript today we'll see that
we've kind of put a standard approach to
doing things that aren't radically new
so if you say well classes there they're
not new and inheritance that's not
horribly new and modules they've been
around that's true but we'll see when we
get into type scrip a little bit more
deeply is the fact that we kind of a of
us kind of have a standard approach for
doing this so just be completely clear
JavaScript I like it it's awesome it's
good but one of the things that a lot of
people will tell you is in large-scale
JavaScript large-scale JavaScript
development can be hard right now we're
talking when I see a large scale we're
talking 20,000 50,000 hundred thousand
two hundred thousand three hundred
thousand lines of code it's probably
hard in any language but in JavaScript
it can be particularly hard because some
of the things that you might expect to
have any in a language that you might
see like in c-sharp or Java like
namespaces you know yes they they can be
implemented in ways but they're not part
of the core language definition itself
the language is incredibly flexible
dynamic and incredibly flexible so you
can define them they're not part of the
language itself and so these items here
they're not directly from me they're
from a team within Microsoft that did
has a 150,000 line JavaScript project
and these are kind of what they surfaced
is there concern
and they actually use typescript
underneath the covers now but they if
you are familiar with Erich gamma of the
Gang of Four the hole patterns idea he
actually leads his team and his team is
its building a project or building out a
project called Monaco and this came from
his team so one of the challenges of
dealing with large code base large and
growing code base in javascript is the
need to come up with these kind of
patterns right there certainly
approaches the classes and two modules
and the namespaces one of the challenges
are is you know frankly there are so
many approaches to challenge to classes
and modules a namespace and each of them
has their own uniqueness result this
one's got traits that's kind of cool
like to use it and one of the things
that they saw and their code base was
they had to think up front about how
they're going to structure their code
and one of the challenges for them
really was in how they actually
structured that code right they started
out very dynamic moving their code base
along making great progress but what
they saw is when they reach you know
20,000 30,000 40,000 lines of code
things got significantly harder for them
to manage one of the other things and I
think this is true of any language so
I'm not trying to offend anyone so
refactoring JavaScript code can be
difficult any programming language rots
over time right there are changes in the
core language new facilities
capabilities become available in the
language you say hey I want it I want to
actually start to use them and so we act
it we have to actively kind of reflect
or a code one of the things that the
developers group of developers and this
team said was that with with JavaScript
projects it's kind of like carving code
in stone because when you get to fifty
thousand lines of code when you want to
refactor it becomes particularly
challenging right you have you know
let's say you want to search for
something called name well it could be a
parameter and it could be a local
variable and it could be have global
scope right and so just doing a massive
kind of search and replace isn't
necessarily a great way to handle it yes
you I'm sure our discipline any of unit
tests but still there's some challenges
to that so refactoring code can be hard
and this team actually saw that in
Internet Explorer there's the what we
call f12 tools and those are tools that
essentially help you look at traffic
going between you and the browser as
well as let you do debugging on your
JavaScript application and they were
writing the editor that lets you look at
the code in there which supports
minified code and so for them it became
this moment of okay we've got a
significant change the outer refactor
our code base because now we're going to
support these very very long lines and
they were really happy about the fact
that they use typescript I'll show a
little example of that in a minute that
they could use it to safely refactor
because it understands the difference in
scope of the variables they had declared
finally one of the things they talked
about was kind of the api's themselves
it can be a challenge keeping the api's
in sync when you have documentation
that's separate from the code right
anything you get closer to the code the
better anytime you have anything
separated from the code the
implementation from the actual
documentation it can make it harder to
keep the api's in sync and that's one of
the things that they saw as they were
doing their development so what is
typescript the marketing slogan I guess
is the language for large-scale drop
JavaScript development doesn't really
tell you much about it let's dig into
that a little bit further it is
essentially a typed superset of
JavaScript that compiles down to plain
JavaScript so one of the things that's
interesting about this you know I had
different people ask me like you know
hey is this some kind of embrace and
extinguish thing you know no javascript
is the language of the web we get it at
Microsoft we are writing our own tools
some of our own tools in it so project
Monaco is a browser and you know imagine
a visual studio but imagine it running
in a browser that's kind of what project
Monaco is trying to approach so we are
users of JavaScript you can actually
write JavaScript windows 8 native
Windows 8 apps using wind j/s so we're
big users JavaScript the cool thing
about this is i mean if you think about
why do you like javascript the reasons
you like it is it well there's a number
of reasons you probably like it but you
know runs in any browser any host any OS
kind of runs anywhere is the language of
the web and the cool thing about
typescript is we don't actually stop you
from doing that right it essentially is
let's flip back a slide here in the at
the end of the day when you run the
typescript compiler typescript is really
a design time illusion if you will that
gives you strong typing's while you
actually are doing development when you
run the compiler it actually makes
them all go away and out the other end
just shoots JavaScript so it is
completely JavaScript compliant it is
JavaScript actually so typescript wants
to help we saw those challenges earlier
we talked about by providing optional
and structural typing so we'll see here
in the examples that we look at is that
providing a few annotations you can very
quickly start to get some benefits from
typing not that classes and modules are
unique or new we didn't think of them
that saying we did but what we try to do
is formalize them in the language and
what actually gets produced and what
we're doing with respect to classes and
modules ECMO 6 standard is looking to be
ratified in December of 2014 and we're
actually aligned with it and the next
release of typescript which is going to
be either one point one or two point O
deciding depending on what they decide
to call it is actually all about getting
typescript to be directly aligned to the
equus six standard additionally there's
interfaces which allow us the name
object types and what you'll see is that
yes we can explicitly implement
interface if you're familiar job or
you're familiar with c-sharp you may be
familiar with those types of concepts
but what we'll see is that yes I can
explicitly do that in JavaScript but I
can also kind of let it just figure out
from the shape of what I've described
that it's an interface and we'll see how
that actually plays out so JavaScript
clearly has a type system it's just not
manifest to run time what typescript is
seeking to do is to make that the type
system visible at design time and coding
time and then as I mentioned it
evaporates when you actually run the
compiler so in essence typescript is a
static formalization of the JavaScript
dynamic runtime and you know it
essentially it espouses to take
JavaScript the good parts add strong
typing to it add tooling to it and in
the end you end up with just JavaScript
so if there's questions out there along
the lines of hey you know this is kind
of cool is it only a visual studio thing
the answer is the typescript language
itself is open-source the typescript
compiler and tools the language service
if you will are open source and they've
been integrated in the tools like
IntelliJ
and resharper as plugins that use it so
they're available to be used you can
pull them in it doesn't it's it is
individual studio but it doesn't have to
be used in exclusion of visual studio
and in fact there's a commitment from
the team with all the tools that are
available in Visual Studio are actually
available open source as well so in my
opinion the cool thing about typescript
is if you think about types Christa
typescripts type systems in general
they're all in or all out right take C
sharp or Java essentially you have a
strongly type system and you know it's
on it's it's kind of binary it's on or
off right and then you look at
javascript you have a system which is
incredibly dynamic and essentially type
system is only evidence that runtime
what type scrip allows you to do is
essentially have a dial where you can
say yeah I'm going to take some
JavaScript I'm going to throw it in a
typescript it runs straight up and then
if I want to add some type annotations I
can do that so the key takeaway
typescript run through the typescript
compiler produces JavaScript so some of
the things that will take a look at here
and the I know you're like get to some
code will do that so some of things will
look at structural typing and type
inference so yes I can explicitly type
something and so I can tell the type I
can make an assignment of a number or
string and so it can infer the type but
you'll actually see is that it does the
the length the typescript type system
actually does a really nice job or
language service does a really good job
of starting to infer types from what
I've told it it also allows us to work
with generics if you use Java or C sharp
again generics are essentially allow you
to describe specific types and ensure
that specific types are flowing in and
out of parameters or collections and
things cool thing works with existing
libraries and what you'll see underneath
the covers is there's a file called
whatever the library named DTS is and
it's essentially definite typing and
there are type libraries for over 400
JavaScript libraries jquery backbone
knockout node we can name them but they
are essentially this is totally
maintained by the community it's not
maintained by Microsoft finally the cool
part one another cool part I guess is
the types these types enable a good
tooling experience right no it doesn't
allow you to produce proof
perfect code we can still produce you
know bad code in a strongly typed
environment but what it does do is give
you some level of verification some
level of assistance and from a tooling
perspective allows you to do things like
statement completion refactoring and
those types of things so is typescript
use the Microsoft yes so Visual Studio
online has about 150 thousand lines of
typescript code they had an existing
JavaScript implementation that they've
actually poured it over and they took a
kind of machine approach where they
essentially wrote their own parsers
toward apart used some Java Docs to
create typescript the project Monaco
team really started with typescript
about ten percent because they started
coding about the same time as typescript
team started and so they are at a
they're all in now at one hundred
percent typescript in about a hundred
and fifty thousand lines and you can see
their work we'll see it a number of
places but one of the places you'll see
it is try when j/s so when jess is the
javascript library that if you want to
build native Windows 8 apps you can use
and you can kind of see the project
Monaco project surfaced if we look at
the CSS or the JavaScript view here as
well as the actual output controls this
is another thing that Microsoft has made
open source and is available and you see
the source tab there you can actually
download it so the actual editor
experience that you see in HTML and the
CSS and njs is actually provided by
project Monaco so another interesting
thing you have 12 tools behind Internet
Explorer uses it typescript compiler
typescript language service all written
in JavaScript or all written in
typescript which compiles down a
JavaScript and I'm sure the list goes on
from there so we're using it so the idea
that classes these interfaces modules
allow you to it's not just about writing
good good code it's about having
structure to actually structure your
code base so classes interfaces modules
aren't necessarily new ideas but they're
a standard approach to doing them
they're aligning with the immersion xmas
mikek my script six standards and it
supports popular module systems like
common GS and AMD type module systems so
this is not a something we've rebuilt
one of the other cool things
this is when ECMO 6 is ratified and
typescript supports it you know you'll
be able to flip a switch it says yes
compiled xmas script six but by default
it will compiled a little produce code
that runs in a xmas script three browser
so you'll get all the benefits of the
cool language stuff without having to
have your entire code base and all your
users frankly move so from a community
standpoint the source the the project is
available on codeplex which is kind of
our open source environment there's 170
Forks some number of large number of
feature requests and we're actually
taking pull request now we still are the
maintained heirs of the typescript or
the Shepherd's if you will the
typescript language but we're actually
very engaged in the community about both
feature requests and taking a pull
request on the frameworks I did I
mention there's over 400 libraries that
are available undef initely typed for
you know knockout no jquery etc and as i
mentioned since this is open source and
it's you know something it's written
that compile is not a JavaScript it's
plugged into a number of IDEs it's
plugged into a number of build and
execution environments and it supports
unit testing environments as well so
let's get to a demo so I'm going to
start with visual studio and I'm just
going to start with a new file new file
here so I'm not going to start a project
I'm just going to start a new file and I
know that all of you would love to watch
me type because that would be somewhat
equivalent to watching paint dry and as
you can see how well i'm typing right
now especially want to look it's harder
to type when you're standing than you
think so again give me a little bit of
credit but rather than doing a bunch of
typing let me start with example here so
this is a sort by name function and
you'll see it takes in in any and we
slice the any so we could actually infer
a little bit of what's going on here but
let's just go with it for a second and
so you'll see that we've taken any in
and we haven't any here and we have you
know a and any that's returned the
result of course then isn't any so you
could argue that the function itself is
returning in any so we can't really tell
you anything type wise because well you
haven't really told us anything type
wise yet but let's
we start down the path of doing a little
bit of work on the type here so I'm
going to tell it that I'm passing it in
any array and what you'll see right off
the bat is now is a hover over slice for
example I'm actually getting some
information that could help with
statement completion so it's a array
that I have and so therefore the result
is an array of any ease that I'm
returning and the method returns a array
of any so therefore we could say the
sort by name actually returns an array
of any so a little bit of type
information you actually is seeing that
we're able to flow that through all the
way through this method obviously not
giant method if we should look at the
function of this method what you'll see
is that we're calling sort and we're
passing in two individual elements from
that array and comparing them and based
on their name property so pretty clearly
if we try to use this without actually
passing in a name property we're not
going to be able to sort anything so
let's take a look at how we could do
something interesting with an interface
that might actually kind of fortify this
and ensure that what we're getting past
is what we expect and actually valid so
let's start by saying interface here and
you notice the completion it's kind of
nice and I'm going to call my interface
entity and I'm going to say that my
entities I want to say that my entity
has a name property in it and I want to
go ahead and specify some type
information here so i'm going to say my
entity has a name property and it
happens to be a string let's actually do
an object literal here using that so i'm
going to say VAR e colon entities so I'm
telling it that it is specifically of
type entity and that's going to be equal
to an object literal here and what
you'll notice is that I'm actually
getting a little bit of feedback from
Visual Studio here what is it telling me
it's saying hey you're this you're this
interface you've implemented this
interface called entity and that and
that that has a property associated with
this called name okay that's pretty nice
and you notice here I hit control space
and I get Auto completion so it tells me
there's this thing called name that I
can actually use and i'm going to say
the name is equal to bob good
name it a single the Bob there we go ok
so I can also go back and I could
obviously add some other stuff to my
interface i could say there's a price
associated with it which happens to be a
number and you notice immediately that
almost immediately once i type things
somewhat correctly that my entity now is
telling me hey you're not actually
implemented correctly more you also need
a price to be associated with you thank
you for letting me know that you will
see my prices 595 so one of the other
things that I could do is I could define
a item called in stock and I could say
in stock is a boolean and of course my
my object literal here will give me an
error but I could also do something like
this and say my my in stock is actually
not required it's optional and then if I
actually provide one so if I say here in
stock or gonna look at that autocomplete
love it if I say it's equal to 100 for
example you'll see that i get an error
why because it knows it through type
inference again or by comparing it to
the interface that you know stock it
actually can't be a number it needs to
be a balloon so I could simply say
you're right I'll make this a true and
then it's very happy again ok so we've
seen an interface let's actually see
what we can do with this interface to
improve our method here so one of the
things that we said was our method takes
an array of n ease and we're using the
name property so you could pretty
quickly argue if we don't have a name
property on what we pay us in that it's
not going to work horribly well so I
could say that instead it's going to
take an array of antes in and then
you'll notice right off the bat then I
actually get an error why because now it
knows enough well we told a few things
initially I know if I showed this but I
know it's a xan array so I can get all
the array methods that go along with it
and I can select them and as I actually
select the method for example I can get
all the arguments to go with it so okay
that's what that looks like great and
you notice that it actually flagged the
fact that I used local compare when
when obviously i meant locale compare
here so if I start to type you'll see
that the completion will if I spell it
anywhere close to being correct will
actually show me local local local
compare and I could use that so that's
kind of nice oops there we go alright so
there is local compare so my type system
you know has already helped a little bit
I've already kind of figured out a few
things that we're going wrong now let's
actually try this out so what I'm going
to go down here and do is I'm going to
say VAR p art and skull of our products
is equal to we'll make an array of them
and i'll tell you what will cheat
because you again you probably don't
watch me type i know it's really
impressive the way i tell you but
nonetheless alright so what i've got
here is I've got a array of products and
you'll notice it happens to implement
the interface now I didn't explicitly
say that these products implement that
interface but as we hover over it you'll
see that it kind of knows the fact that
it's implemented it has string and price
which are two pieces that interface the
optional in stock isn't there obviously
cuz I didn't provide in stock and I also
have some additional data the ID let's
actually see if we can get this to run
so what I do is grab it i just opened a
file in visual studio but let's actually
head over to the typescript playground
now because every every language
specification should have a playground
that you can play and it's kind of a new
thing to do here so i'm going to go over
to the playground i'm going to go ahead
and get rid of what's in there paste in
the new code now I promise that this
thing was was actually making JavaScript
and you'll see it pretty clearly hear
that my interface is completely
evaporated doesn't exist in the
JavaScript side and you notice that the
type information sort by name telling it
what type it was that's completely
evaporated and so we're just left with
just plain JavaScript so that's what in
in the playground it actually takes what
you type in on the typescript side and
runs it through the typescript language
servers and compiler produces JavaScript
on the other side so we're going to save
our sword
it is equal to sort by sort by name and
it takes a argh i'm going to type entity
let's just pass it products and see what
it thinks about products okay so you'll
see here that it knows that we're
passing in an item with these properties
name price ID coming out of it you'll
see that we've kind of lost something
along the way here we just know that
it's an entity array that's returned but
we've lost the characteristics of what
was in there we'll get back to that in a
second well let's actually see if we can
get this to run that was kind of what I
promise to do so document that body that
there HTML is equal to and let's say
JSON dupes JSON boy if I could type
today I'd be dangerous note to self
train at the type as much next time
Jason dot stringify and we'll actually
will actually pass it sorted we will not
give it a replacer soul to send null and
will say that we use for tabs or four
spaces there for spacing and with any
luck we press run and it runs ok so
there it is and it's sorted by name so
hammer a lot more players screw that's
all good all right that's nice what can
we do to kind of rectify the fact that
we started with a you know kind of
detailed view of what we're passing in
here but what we end up with is just an
entity array well it turns out that's
being driven by the fact that we're
passing in an entity and we're losing
something along the way so we can
actually use generics here to provide
more type information and now we can say
it is sort by type T so whatever object
you give it it'll actually make sure it
implements that interface and will say
that it takes a type T as an argument
when I did that what you'll notice now
is it's complaining about name does it
keep me from running it
one of the beauties of javascript is it
tries to do the right thing and and
often does but what it's telling me is
hey name is actually something that is
not going to be on you you said any
object can come in here now is what you
basically told me and in fact any object
does not necessarily have a name
property and it's actually right so what
I want to do is actually say that it
extends T so it keeps the teeniest that
was there or extends entity I should say
it keeps the teeniest that was there in
and in addition to that passes it all
the way through so now if we look at
this going in we know what it is coming
out we know what it is if we were to
come in here and change name of one of
these like that so it's no longer you
notice right away the compiler is saying
hey you can't actually the parameter you
supplied doesn't actually implement this
entity interface that you told me you
were going to implement so that's kind
of cool oh one of the things i promised
i would show let's say that i have a
local variable called name here it's
equal to ABC or whatever i type there
and i have a name here on entity so
obviously one as more global scope one
as local scope if i even in the
typescript playground if I come in the
typescript playground and say rename
symbol you'll notice that now I could
say something like entity name and it
knows notice it didn't change the local
version of it here it changed the
appropriate ones here because it's that
smart so refactoring there's a lot
easier when it has that kind of scope
and understands what the code actually
means at some level so let's take one
let's go through one last example here
let's go back to visual studio and I'm
going to go ahead and just get rid of
that code and I'm going to grab a
generic sort by so this is meant to sort
anything so let's actually take a look a
nice slide this here nope so basically
what it's saying is sort by takes any
type T takes an array of those as a
matter of fact that is going to take a
callback which returns in any and
ultimately it returns
that type array of that type I slice it
and here's my sword I'm going ahead and
grabbing my I'm calling the method that
I was passed in to actually get the key
of each of the items that I'm past and
then I do a comparison and return them
so I can sort so here what i can do is i
can say and you may have noticed that
little that's a lambda expression there
that's actually not something that is in
the language back in you notice it's
just replaced with an inline function
basically the interesting bit is that
lambda expressions actually are
implemented in some browsers and they're
targeted to be in the ACMA six language
standard that's coming out in december
so you should be able to actually use
them and they should pass through if you
have a necklace if you compile code for
ECMO six so you'll notice that I'm
getting a complaint here because now
sort by is saying hey you you're passing
me one of the things you need but I also
need this the callback basically that
I'm going to sort on so I'm going to see
X dot let's start by price sure and then
we're going to display that sorted list
out so sorting on price ninety-five
cents up to five hundred dollars that
looks pretty good I should be able to of
course then to say that I want to sort
on let's say the name sure went out and
there I'm sorting by name so again
typescript everything we do in
typescript at the end of the day comes
out as JavaScript and and runs in the
normal JavaScript environment let's take
a look at classes so i'm just going to
get rid of that i can say class will
define a class point
and I can say that it has a X which is a
number and a why that's a number you see
being generated in real time so no
surprise there once I've done that I can
actually say VAR p equals equals new
point and you'll see that we in fact can
create a new instance of point always
helps if you case it right there we go
create a new instance a point and those
variables that I declared are available
to me so there is the X will give it a
look value of 10 there's the value of y
gu to value of 20 now as good language
designers and programmers we're probably
looking at this and saying we really
should use a constructor on this Martin
what are you thinking you're right so
i'll go ahead and pass those arguments
and you notice now it's complaining
because the fact that we don't have a
version of the constructor that takes
arguments well we can we can easily
create that so i can go back to here and
i can say constructor always helps if
you spell it right
even better when you get completion
there and I can say that it has a X
which is an integer pardon me a number a
y which is a number and then I'll
implement it quickly very quickly there
we go I can say this dot X is equal to X
the step y is equal to y no surprise
there i can define methods on it sure
why not so i could say distance and it's
math that square roots sure this time x
times so I'm just going to make this up
here for sake of time this that Y and
close that there we go and I can also do
something as kind of interesting so in
essence x and y are public properties
here so i can just simply get rid of
them and in my constructor declaration I
can actually say I want these to be
public and you notice on the generated
code side it goes ahead and does
basically the same thing that I was
doing where I've got these as public
properties now I can also do something
like this which is actually not part of
JavaScript same way saying that's
interesting so I've got a color which is
a string you don't see anything yet I'm
I believe you but if I then say this
duck color is equal to read you'll see
that your how do you do that well you
you're saying well gee Martin I can go
ahead and type it well you can but the
editor is actually smart enough now that
it's telling you hey that's not
available to you and I can go ahead and
say yeah I know it's really there i'm
going to type it in any way and i can
actually you'll notice on this side it's
actually generated but you're getting an
error out of the editor basically saying
it's inaccessible because it's private
ok so for the take of time i'm going to
just grab some code and plug it in so
here's a more complete implementation of
class
I don't know if it's actually more
complete or not maybe allied maybe it's
the same control V so a little bit more
to it as a static that you'll see as
well but the interesting thing I guess
now is you want let's say that we want
to make this a module so i can say
module and let's call it you told and
again this is a playground it's not
really meant to be a full-on editor but
it does have features that are kind of
nice so i can just grab this chunk of
code here and say format code your
format it nice okay now you'll notice
that i'm getting an air down here and
you might say well that's because of the
fact it's not a names effectively name
spaced martin and you'll see though no
that's actually not at its still
complaining why because i didn't export
it no it's exported so what you see on
the generated side if you looked at kind
of the standard approach that people
advocate for building a class we filed
that approach this is the approach that
they're pursuing in the ECMO six
standard as well so nothing horribly
unique they're an interesting extension
of this i guess if you will is if we
looked at we're going to go ahead and
export another class here it's going to
be 0 point 3d and it's going to extend
point oops
put that back where it was all right
extends points
guess I have to tell that it's a class
there we go
okay and i need to give it a constructor
and it's going to be public x again one
number public why Michael one number and
public z all right and I got to give it
a body that's why it was not doing
anything from you there I care and looks
like oh looks like a drop to / n that's
why it's unhappy there we go now what
you'll see over here is we actually have
this is the only time you'll see
typescript generate code that you didn't
write it's basically a 45 line helper
for setting up the class making sure
it's the prototype chains been copied
any static data that you defined are
actually copied and so that's what those
are therefore and I can say
hmm
all right we'll go this round here
rather than having me debug it
there we go so you'll see our class we
basically call the super with XY so
apparent constructor and you see that
kind of implement in code we pay us in
the super as an argument and we go ahead
and call it so that's kind of how we
handle classes you've seen interfaces
you might be saying okay this is cool
you kind of cover the browser II kind of
stuff but what if we were to actually do
something with this in a node let's
actually look at that so if i say file
new or actually file open pardon me and
i'm going to open a file i'm going to
select server at TS and this is a really
simple you know node implementation here
it's giving me an error here because
it's telling me i need to compile with
the dash module flag which we will do
here in a moment this is the reference
to the the node DTS file and so if i
actually looked at for example create
server right clicked on it I've been I
know if I actually show this so let me
actually show it go to definition here
is the no DTS and it shows me for create
server the different creative servers
overloads well there's only one so
create server here and the arguments
that it takes so that's where the typing
information comes from and as you can
see i'm working on node here if you're
familiar with note i can just say HTTP
dot and i get i get completion which is
pretty pretty cool so you can use a
couple of different approaches the
module two modules common GS or one of
the AMD approaches i also have a client
that I've set up here I'm going to go
ahead and open that quickly it's a file
while I'm here I'm gonna grab this
directory copy that directory and I'm
going to open the get away with this
open command and I'm going to open hello
at TS
there we go all right so we'll look at
both of those the client essentially
imports the code I just wrote in the
server it creates an instant that server
and listens on the port the server if we
actually looked at its implementation
goes ahead and listens and sends a
message back and echoes the message it
was sent to it so and if you look at the
go command basically it's just a batch
file and runs the typescript compiler
gives it the module flag for common GS
and then paths to where I have no GS
installed and runs it so let's actually
take a look at that oops so a CD to air
to grab that directory oops plus I
closed it there we go I'm going to grab
this directory here and I'm going to
paste it in there we've been really
useful if I'd done a CD in front of that
all right so I'm in this directory there
is just to prove this start at GS i'm
going to go ahead and get rid of the GS
files that are there just so you can see
that hello from the distance you're
sitting it might be hard so the GS files
are gone I'm going to go ahead and run
tsc typescript compiler just so you can
see it with its command line arguments
great i'm going to go ahead and run go
and what you'll see is that it actually
will compile my project and listen on
port 1337 so now if i hit it from from
my system here see here localhost 13-3
so I've been here before obviously and
yay org that's nice so we can use it on
the client we can use it on the server
the Monaco team that I mentioned has an
implementation that runs on node on the
server has a bunch of code that its load
in the browser they have the same code
base but they actually compile with the
AMD flag for the node GS stuff that runs
on the server they run with the common
GS flag on the client so there's some
same code base two different compiles
which is kind of one
one way to handle it ok so I'm going to
kill this guy all right so last but not
least is it might be interesting to
actually take a look at an existing
project and so I could say file new
project I'm going to create an empty
asp.net web project call it go to con
sure why not now I don't save those I'm
going to just say it's an empty project
so basically I've got the bones of a I
have a solution if you're familiar with
visual studio I have a solution that
basically is property in references to
libraries in a web config and there's
nothing else in it let's go ahead and
import some very simple example so I'm
going to do it was control ulti well I
probably should show you that so if you
right click you can say i want to add a
new code or existing items let's add
some existing items so this is kind of a
super brief scenario of oh I have
existing project I have an existing
project that I actually want to pour it
over so here you'll see i have a that's
awesome where to come
I have a super simple I don't need the
TS file I need the HTML page though as
well alright so I bring these guys in so
here I have some super a super simple
web page right so I'm including my
JavaScript one JS file and basically
it's for calculating body mass index so
height and height in inches and weight
in pounds so just using kind of very
simplistic no style sheet or anything
who needs that on a day like this then
we actually have the JavaScript JS file
you'll see it has basically two
functions it has basically two functions
in it the two functions are one to
calculate the BMI and a second one which
is to grab the input basically get it
converted and set up the result and
display it in a in a div tag that's on
the page ok so if I want to actually
typescript 25 this thing I can just
right click on it and I can say rename
and I can simply change the extension at
TS and you'll notice it says hey you're
changing extension and may become
unusable or you're sure you want to
change it I totally do and then it says
hey I've noticed that you have a
typescript project would you like to
provide information for libraries so
there's a nougat packet manager and
basically you'll see that it's searching
for different libraries that I could use
that are you'll see tag colon typescript
so here's one for jQuery sure why don't
we go ahead and install that and here's
one for Bing Maps sure we don't use that
right now but why not install it and
then angular oh there's another popular
ones use angular could use some of the
binding stuff that they do in angular
they've been kind of cool so what you'll
see is that I now have a scripts
directory and in theirs angular and
you'll notice that it has DTS so
essentially what it's providing there is
the descriptions for the type
definitions for for angular and if i
look at my project here you'll see that
it's actually giving me a few warnings
right off the bat one things it says
that
not super painful but the property value
does not exist on type HTML element okay
that's good to know we're not all HTML
elements so i can simply say node value
and it becomes happy again and then i
could actually come up here and say hey
you know i'd like to call this guy and I
would actually like to know the fact
that I'm passing it a number and that
this guy also takes a number and in fact
this whole thing returns a number okay
that's not kind of nice so it basically
runs jeaious Lintz underneath the covers
plus any ears there are that's awesome
I'm really happy about that so it's
actually pulling in for some reason I
didn't configure this project right it's
pulling in additional ears from the
libraries are added which is really
awesome so I'm just going to end dump
those guys quick
sure should cut down on the number of
errors in any case I actually can once
I've done that I can actually run this
so if I select the HTML page and let's
just set a breakpoint here for fun
you'll see a couple things get produced
one thing that you'll notice is that
they're currently isn't a GS file I
don't think there is show all files
they're currently isn't a GS file in
this project if I go ahead and do the
build what you'll see is that it creates
a GS project for me creates a GS file
for me and it actually that's what it
gets executed it also creates a map file
and in that map file it actually maps
between the typescript code you have and
what who actually was generated and what
it what that lets you in effect do is be
able to debug that's awesome 74 years
Wow more and more than lines of code to
have I get rid of this one too
alright and there is my project and if I
enter data here I think at a breakpoint
of course this is a lie i don't really
weigh 160 pounds but you know when I'm
being recorded let's say that I'm
actually really super healthy and you'll
see I actually step through in the
debugger I can see that actually did not
get a value out of that text field for
some odd reason and as I said there's
actually a map that maps your code to
type scripts so the debugger can
actually run so let's wrap here before
the gong hits so typescript 100 is
individual studio its built-in just like
C sharp and VB is I will continue to
ship with with visual studio it also is
available for your download and
inclusion in your tools it could be that
your favorite tools already support it
we saw a long list of tools that
actually support it in the PDF that
you'll get with the session there's some
great information that's available so if
you have if you have visual studio and
here on 2013 update to includes
typescript in the box typescript onder's
does it talk he's the language designer
of C sharp and typescript he does a
great talk at build about a month ago
Erich gamma does a great talk on
building large-scale JavaScript
applications in typescript there's also
typescript that Lang dot org where I was
playing in the playground there's
typescript and codeplex if you want to
see what the source looks like or make a
fork or a pull request there's
definitely type for any of the popular
libraries you might be using and then
there's when Jess which is another open
source offering for Microsoft which is
essentially windows in Windows API
available through JavaScript that's it</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>