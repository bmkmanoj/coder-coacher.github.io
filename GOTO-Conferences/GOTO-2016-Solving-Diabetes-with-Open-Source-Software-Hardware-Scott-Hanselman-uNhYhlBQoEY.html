<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>GOTO 2016 • Solving Diabetes with Open Source Software &amp; Hardware • Scott Hanselman | Coder Coacher - Coaching Coders</title><meta content="GOTO 2016 • Solving Diabetes with Open Source Software &amp; Hardware • Scott Hanselman - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GOTO-Conferences/">GOTO Conferences</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>GOTO 2016 • Solving Diabetes with Open Source Software &amp; Hardware • Scott Hanselman</b></h2><h5 class="post__date">2016-11-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/uNhYhlBQoEY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">thanks for coming everybody all right
let's see if some of this stuff works
check all my systems here all right are
there any diabetics here 1 2 3 3 it gets
counted are you type 1 or type 2 2 2 1
okay so there's diabetes type 2 which is
largely a diet and exercise and somehow
a genetic problem with diabetes type 1
which I have I've had for 25 years I
produce zero insulin so I have a
nonworking
pancreas I can't walk it off as they say
there's not much I can do I can improve
my diet but I really can't do much more
and the interesting thing about diabetes
as I'm sure the other type one in the
room will appreciate is that if you look
at me you see a reasonably straight
backed somewhat competent looking
individual right you say hey he's pretty
much an able-bodied person right but
I've got an insulin pump with tubes that
apparently have knots in them we'll talk
about whether that's a problem or not
later that's plugged into me 24/7 right
there I have a sensor array that's
bluetooth and a battery and a needle
that's plugged in right there I've got
other ports over here I have bluetooth
continuous glucose meter it talks to
that and I have this bridge that I'm
going to talk about today but all of
that gets hidden under my clothes so you
don't know what a day that I've had
today with with diabetes it's kind of
the thing right everyone's got something
right not every disability is an obvious
one if I didn't mention it you probably
never know so being a diabetic kind of
sucks there's a lot of diabetic
means that are like private jokes like
this one like how long are you going
away for we're just a day that's all the
crap that I have I actually have had
nasty notes from the people in the hotel
wondering why I'm putting away medical
waste in there
and do I have syringes a might a heroin
user because they see all the equipment
that gets thrown away in my hotel room
but then do I take it and ship it back
how do i how do I dispose of those
things it's a challenge now to the type
twos that were up there as well who
raised their hands type one is not type
two and I think that the type twos would
probably agree that it's unfortunate
that diabetes type one and diabetes type
two are called diabetes they're really
entirely different systems so the kind
that I have type one diabetes is a
fairly complicated thing it is not like
your grandma's type two I'm not going to
be talking about type two so while some
of this might be of interest at the type
twos that it is fundamentally a little
bit more complicated problem now I've
been writing about diabetes for 15 years
on my blog back in 2007 so that's nine
years now I tweeted every single moment
of a day that I thought about diabetes
that means every time I checked my blood
sugar every time I pricked my finger
every time I ate a cookie every time I
ended up tweeting between about a
hundred seventy four times that day so
it is a background constant process
where I am always thinking about it and
it is a psychic weight that presses down
on me I probably spend at least an hour
of my day a minute here two minutes
there three minutes there trying to stay
vertical trying to stay alive it sucks
I've done videos on this and the analogy
that I like to use and the analogy that
has worked so far is what is called the
airplane analogy so I'll try to explain
this to you now and I would also point
out the differences here in type 1 and
type 2 I produce no insulin so we'll
talk about what insulin does and why
it's important so here's the analogy and
I apologize I'm going to be using a
North American analogy here so let's say
that you are flying from LA
to New York okay you would like your
flight to look something like this right
nice and smooth flight this is what my
date would hopefully look like if you
don't have diabetes you have a very
smooth day but because I want to check
my altitude that is checking my blood
sugar I have to get my blood sugar meter
out right and then I prick my finger and
I look at it that's like checking the
altitude on the plane okay food will
raise the altitude of the plane and I
could die slowly in space or I could
take insulin which lowers the altitude
of this plane and then I could die
quickly if I crash into the ground this
is why this analogy works great because
high blood sugar kills you slow and in
space and low blood sugar kills you
quite quickly now I can check my
altitude maybe you know three or four
times in a day maybe if you're really
hardcore you might go and check your
your altitude more than that right but
for the most part you're limited to your
patience and the number of times that
you can go and check your you know your
your finger yeah then if I want to make
changes I can either eat which raises my
altitude or I can take insulin which
lowers that except eating depends on the
food raises it in different levels so I
might eat something and nothing might
happen for a half an hour insulin is
very slow it's being injected into the
subcutaneous fat into the interstitial
fat between your skin and your and your
muscles it's not being into the vein so
it takes about a half an hour to an hour
before anything happens so imagine if
you're flying an airplane and you say oh
my god we have to make take action
quickly and you push forward on the
stick and you wait for 45 minutes okay
and you look at the altimeter the
altitude and you say oh my god look at
that we're about to crash well you're
actually looking at the past when I test
my blood sugar I'm seeing my blood sugar
15 20 minutes ago so it's kind of like
piloting the Mars rover right you make a
motion you wait for an hour and then you
wait another hour to get back the
information so now imagine what's your
flight across
the u.s. is going to look like if you
have to deal with this kind of a thing
but you never know that those ups and
downs are happening because when you see
a point on the line you don't actually
know the slope through that point you
have no idea you say if I check my blood
sugar right now and it's 200 I go cool
but it means nothing without the second
point right so without a slope it's
pretty much useless which then means I
have to double up all of my blood sugar
and I have to split up spread them out
so it becomes quite inconvenient and if
you have any questions or you think any
of this is crap please speak up because
it'll be a make for a better
conversation I've written about this and
hacking diabetes I've had people on my
my podcast and talked about it so as we
just covered food raises blood sugar
meaning that it is everything you eat
turns into sugar it sits in your blood
and then it needs to be delivered what I
fail to do is I fail to have any insulin
which then opens up the cells and allows
the food to be delivered so it's as if
it's piling up at the doorstep of the
cells now do you in Denmark have those
little those little honey bears that you
use to squeeze honey onto like a
sandwich you don't I'm talking about
they're like a little plastic bear you
know that you know the sugary crap at
the top of the sugar of the honey
container you know how honey turns into
like weird stuff that's kind of what
happens in your body and that's why your
eyes diabetics go blind where they lose
their feet is that that sugar is just in
the system and it starts to kind of
crust up if it's not moving and it clogs
things up again with all things this is
an oversimplification but it gives you
an idea of all that's why their eyes are
always by diabetics go blind because the
little tiny capillaries get clogged and
that's why they can't feel their fingers
because things are getting clogged in
that process as we are marinating in our
own sugar that makes sense yeah okay
injected insulin lowers blood sugar okay
so too much insulin though removes all
of that blood sugar and I have no fuel
and then you die you have a coma you
have a seizure okay so it's a balance
it's a very very rough balance so highs
kill you slow marinating in your own
sugar will cause you to lose your vision
lose your limbs it's really sucks it's
about the worst most miserable way to go
you literally lose a toe at a time until
they finally cut your feet off because
the body just tries to keep the sugar
here and forgets about the the feet you
loot numbness and all kinds of bad stuff
happens leading cause of blindness lows
will kill you quick where you have low
blood sugar and you just fall over have
a seizure you have a coma
fall asleep and don't wake up kind of
sucks okay don't worry I'll lift you up
at the end I got to tear you down I have
to tear you down first so bear with me
you should be thinking gosh that really
sucks and I don't want that that's what
you should be thinking right now where's
my type one guy at all right type twos
you feel bad right now
good well yeah not so bad you had lunch
so you probably feeling pretty good okay
here's how the rest of you all who
aren't diabetics do stuff you eat
whatever the hell you like you go to
sleep with totally awesome blood sugar
you wake up with great blood sugar and
don't appreciate it and then you eat
whatever the hell you like so that's
pretty much what you're doing right now
and we hate you for it
and your blood sugar if I tested your
blood sugar it would probably look like
that you do have highs but your highs
the last five 10 minutes okay because
you have a really great system called
the pancreas that releases insulin in an
immediate to immediate effect into the
body while I have to shove it in through
a tube externally in a very inefficient
way so here's what we have to do okay I
have to listen to my body adjust food
exercise and insulin something as simple
as me arriving here in a different time
zone and taking the train from the
airport to the hotel that also involved
walking a kilometer and a half carrying
my bags remembering that it was three in
the morning in my head and I hadn't
eaten yet was a math problem it was
non-trivial for me to get my ass to this
conference okay I have to listen to all
these different things and what I try to
do is rather than pricking my finger I
listen to this this CGM this thing here
is taped to my body and it has a little
battery
and it is listening to the interstitial
fluid that's not the blood but that's
the SH much the schmutz that's in your
fat right it's just the liquid because
we're all made of liquid right and it's
sending electrical impulses in there and
it's coming up with a resistance number
that we then interpolate into a blood
sugar number but it's never touching
blood so it's a guess I kind of know
what it is my blood sugar is but it's
good information and then I can get a
more accurate number by looking at my
blood sugar right then I have to do a
bunch of math okay I'll show you some
charts today where I woke up my blood
sugar was amazing super awesome blood
sugar
I had three mini blueberry muffins the
little tiny ones like they're nothing
they're like that big I had three of
them I went online used my data plan to
find out that they have 10 grams of
carbohydrates each I took an appropriate
amount of insulin and then an hour later
I was feeling like crap I'll show you
the chart but let sugar is off the chart
I don't know if dannis people love sugar
or if it was all a lie or if they just
dipped it in sugar and it was an
assassination attempt you know we'll
never know
those three blueberry muffins not big
ones to be clear a little tiny blueberry
muffins completely have effed up my day
I'm sure you all had that get extra
cookie so yeah and this is what my blood
sugar looks like and then I won't know
if I'm doing okay until 20 years from
now when I either have feet or I don't
and then I'll tell you that I did a good
job that's the thin so insidious we work
every single day hour by hour to try to
not die but we won't actually find out
until later when we see if we did a good
job or not it's like diet and exercise
right it's exactly like diet and
exercise you'll know in 1020 years when
you don't have a stroke that you did the
right thing so it's really insidious
kind of a thing all right now every
diabetic engineer any diabetic the
moment they become diabetic we have
three different people here that are all
diabetics I will bet you that
immediately they researched it and then
tried to solve it with software they got
an excel sheet or they built something
and like every diabetic engineer every
time always goes and build something
so I became diabetic and I immediately
said alright fine I've never heard of
this disease then I studied it as
excited I knew everything there was to
know about this disease about two days
later and and then I wrote a Palm Pilot
system to manage that and it worked out
very well actually I wrote it for myself
and I actually updated it with color
which was awesome and it bought you know
paid for my first house so the thing
that I had that going for me every
diabetic engineer tries to solve this
problem with technology now this was an
article that I wrote in 2001 so this is
15 years ago okay and 15 years ago I
said and I didn't I couldn't even
believe it that I said this 15 years ago
Bluetooth was just coming out I was like
oh Bluetooth devices surround me my palm
could talk to my cell phone and send the
data the remember the word cloud didn't
even exist yet right the people who say
cloud weren't even born yet you know
they the young people and I said I could
get a minute-by-minute history to my
doctor I mean I was thinking about this
15 years ago we didn't have the
technology okay I tried to do this
remember this I plugged this cell phone
thing into the palm 5 and I would update
the data so I was trying to do a CGM
continuous glucose meter in the cloud
but I didn't have the implant and I had
to prick my fingers all the time and it
sucked but this is what every diabetic
engineer ever has done they have an
excel sheet or some software and they
try to understand their disease it's
very frustrating my wife and I traveled
the country managing and logging my
blood sugar at every step all these
years ago and I went and wrote a bunch
of software glucose meter downloader I
wrote this in 2007 why did I have to
write a glucose meter downloader this is
where you plug the meter into your
machine and you download your data I had
to write it because the specs are not
open think about that yeah people like
mm-hmm
he actually had a reaction mm-hmm this
is unacceptable right yes it is
unacceptable okay so you'd think in 2016
they would be the
be open specs nope they I had to go and
single-handedly and then I got other
after the fact a number of other people
got involved and now we've gone and
we've cracked every single blood sugar
meter but they're trying to sell strips
test strips for me to check my blood why
is there data in any way a proprietary
secret thing I have no idea that's the
number-one thing right there that you're
going to hear throughout this talk that
is causing us problem is that we have a
medical device I have I have my data in
my body I own my data I want my data but
the specs are not published and they
will not allow me to get access to that
data so even now you can't go and
download a PDF or an SDK for your blood
sugar meter downloader they want you to
get their software and do it that way
which is stupid I think we all agree in
your initial reaction makes me happy
because yeah that's totally lame so I
wrote an article in 2012 called the sad
state of diabetes technology which was
an extended technology rant where I said
that this is complete crap you're
holding us back this sucks and an
individual came in here and said that
his twelve-year-old was diagnosed nine
months ago and basically said someone
should do this you know this is what I
do after he read my blog post this
gentleman here quit his job and started
a non-profit and started building a
continuous glucose meter and continually
goes back and points to that comment and
that day as the moment when it kind of
all turned around so that's kind of when
it started because it's about DIY right
that is an insulin pump think about that
for a second that's this now this is the
top of the line looks like you could
play snake on it doesn't it huh things
built like a tank but that is a crappy
little Nokia looking thing right there
and that is the top of the line you know
system but at least it's not a giant
backpack okay this is a do-it-yourself
homemade insulin pump that someone made
in the early 70s out of wood it was an
Italian gentleman and he carved it and
basically he took a plastic syringe here
and a screw drive that then pulls the
plunger down
that is fundamentally how this works
today that is how my insulin pump works
you can actually see inside there's a
screw that turns which causes lateral
motion that pushes against the syringe
that's all it is not funny now people
have tried to get continuous glucose
information for a long period of time
this was a thing called the gluco watch
that would have these metal plates that
would touch your skin and it would send
electrical signals into your skin and it
would look at the interstitial fluid and
the sweat on your skin and it was super
awesome until your blood sugar every
five minutes but it also caused severe
burns so after those scars healed I
covered them with an Apple watch they
are out of business because that was a
stupid stupid idea all right
so think about this again let's go back
to the loop what is the loop figure out
what my blood sugar is make some
calculations based on all the context am
i exercising what am i eating are they
fast carbs are they slow carbs
carbohydrates then the right deliver the
insulin there's two words that we use in
this context there is the bolus this is
a general medical term for a bolus or a
large infusion of some liquid so I want
two units of insulin right now a bolus
of insulin and then there's the basal
which is the background a little bit all
the time I get a half a unit an hour
always in the background just kind of
quietly doing its thing so you've got
your your basal and then it's like
breakfast lunch and dinner diabetics
that do not have a pump where's my type
1a you pump so he's a pump so if he
didn't have a pump he would do what they
call the poor man's pump which is MDI
multiple daily injections he take one
injection in the morning which would be
his background and then he would take an
injection every meal usually with a pen
pens are super popular in Europe so he
would have a pen like this and he would
go and jab that into his gut you know a
couple three or four times a day that's
why you have kind of a lousy flight
because you're going like this
pumps are great because I can make tiny
little
dates you can't do a half a unit or 2/10
of the unit with a pump but with that
with a pen but with a pump I can that's
two units so I can even do it in my
pocket quietly right
seriously that matters people are really
embarrassed about this there's a moat
there's an emotional connection to
having that that's 24 hours a day when I
sleep you know during during spooning
time that it's not sexy let me tell you
the number one reason that people don't
get pumps is that they stay the
emotional attachment of like I've got
this thing that is now attached to me
all the time and it sucks and once you
get over that though it's better okay
it is demonstrably better so to close
the loop I need to read and write okay
well what's blocking us well to read
from these devices
I need specs those specs don't exist
they are closed systems so if I want to
talk to this device right here I need to
figure out how to speak to it this
speaks Bluetooth this is my Dexcom it's
showing my blood Sugar's going up right
now from from lunch okay that talks
bluetooth to that battery there is an
ISO bluetooth standard that was proposed
for pumps and see GM's but they're not
using it they're doing their own thing
no open standards no published specs now
on the right meaning how do I take
action I need a pump that supports
remote access there really are none this
is a 10 year old pump with a outdated
firmware it is the very very last
version of the firmware that allowed
remote access before a hacker went and
proved at a blackhat conference that you
could remotely administer insulin and
you know potentially hurt someone so
then they closed that loop and now you
can't do remote access now you'd need to
be you know within a couple of feet of
me and know the serial number of the
pump but still okay so there's security
and liability concerns additionally this
pump was created before Bluetooth using
an obscure 915 megahertz RF radio
frequency command so that's kind of
inconvenient as well
also you need storage we're gonna put
this stuff healthkit is great
lets you store it and share it with
applications on your phone remote access
was the first step for for diabetics
particularly the parents of diabetics
there's a joke that there are type ones
type twos and parents because if you had
a nine-year-old or a seven-year-old who
had diabetes and then you got a
continuous meter that let you see their
blood sugar that would be amazing right
but then you send them to school and how
do you see their blood sugar how do you
warn them before they're going to crash
there's no way so you we needed remote
viewing of this correct there's a USB
port here so once a day you can go and
plug it into your computer and download
your blood sugar data that would be cool
right so what they came up with is a
system by which they would lie to it and
say I'm a PC when they were really a
Raspberry Pi and they would then plug
the meter into the Raspberry Pi which
would then every five minutes say hey
it's me the PC download your data hey
it's me a PC download your data every
five minutes 24 hours a day then you put
a wireless adapter on the Raspberry Pi
and then you get a phone like an Android
phone with a tethering plan but then
you're gonna need a big battery and then
you take that stuff and you put it in
your seven-year-olds backpack and you
make them carry it around and that's
amazing I know it sounds funny but that
was a life changer then you can give the
school nurse access to your kids blood
sugar you can then put it on a Pebble
watch and look at your time and your
child's blood sugar and see it live in a
browser so that is my live blood sugar
right now please don't share the URL
keep that private
that is my blood sugar this moment I had
a low right there it's actually four or
five in the morning right now remember
see that dot there that says two units
that was me taking two units of insulin
for lunch you see that I'm headed in an
upwardly direction but I'm trying to
stay in between these lanes here okay
these are the muffins you see that
excursion there that was the muffin
incident and I can actually go back in
time and explore the muffins right here
okay this is remote viewing of this data
and I'm using my data plan here while
I'm in Europe so we're talking Bluetooth
to this it then goes to my phone
if you think it's uploaded to another
system that is run by this company that
is proprietary and closed and then I
have a web job written in no js' that
runs on Azure that then sucks the data
out of the proprietary enclosed system
and drops it into a MongoDB database
where I then choose to look at it how I
want to look at it that makes sense yes
it's funny how close things suck and
open things are good so if one were to
close the loop then and go beyond night
Scout which was that that that remote
viewing system they could go and build
an open-source artificial pancreas like
this they would have the meter right
that's the Dexcom that I showed you
talking to the Raspberry Pi then a pump
a big battery and then this thing number
for this CareLink USB this is an obscure
device that people could buy along with
the pump that it turns out is a RF USB
thing that lets you control the pump so
then you could plug that into the
Raspberry Pi
talk to it over a comm port this gets
large and you know you end up wearing a
fanny pack and then this could control
the pump okay but it turns out if you
open that up right and poke around
inside it's actually just pretty basic
stuff and it turns out that they
discovered that a a I CL 1111 $75.00 USB
900 megahertz thing transmitter deal is
just as well and I don't have to go and
buy the one from the medical company
then they do code
that process so then I can plug that
into here and then it turns into this
whole kind of ridiculous dongle hell
okay and you end up with a bunch of crap
sticking out of this and it ends up
looking like that which is sad so then
people started exploring because what
are the root issues here bluetooth radio
frequency and internet access so we
start looking at different things like
photons wick Souls other little tiny
small devices this individual here
wanted to take the data from his Dexcom
which is this continuous meter and put
it on his android so he he wrote a
bridge so that little device right there
is a Bluetooth bridge into that device
so then we discovered that the Intel
Edison is a lovely thing the Intel
Edison looks like this okay tiny little
thing right and we found that you could
go to spark fun and you could stack a
bunch of these boards like you know how
Arduino is stack up you could get a
board with a battery and with USB lots
of them and then stack the are the the
Arduino but the Edison on top there and
that'd be cool but it's a stack and that
kind of sucks so we went and we talked
to a gentleman named Morgan who knows
about electronics and he took the
reference design for the Edison and
built this custom board the Edison runs
Linux that is a fully featured Linux
running machine and I can then plug in a
battery to it like this there you go
and that is running Linux has Bluetooth
has Wi-Fi and he added 915 megahertz RF
so now we can control the pump then that
those little devices can be made quite
small and put into boxes that is a
project that's called open APs the open
artificial pancreas system and it's
written in Python and it runs as a
series of scripts that talks back and
forth between all these different
devices and tries to close the loop that
is one open source artificial pancreas
system but there's actually two here's
another one that I'm currently running
as we sit here let me try to share my
screen alright so this is my phone here
okay remember we saw my blood sugar
before see you it says 148 up there
so here's lunch and I'm currently right
there and the dotted line is the
prediction about how it's going to
handle lunch and get me back here make
sense see the green dot in the upper
corner there the the green loop
indicating that two minutes ago it ran a
loop and it looked at my blood sugar at
212 and it looked at my insulin
container at 211 and it added some
insulin see one point six five units an
hour it's making tiny adjustments this
is important this is not a self-driving
car just as the Tesla is not a
self-driving driving car the Tesla is a
really cool stay in the lane fancy
cruise control thing the Tesla does not
stop for stoplights goes right through
them doesn't stop for humans it doesn't
even stop for bicycles but if you're on
a highway or a freeway in the center
lane with clear lines it will try as
most it can to stay in that Lane 20
degree turn
problem Tesla can handle that 90-degree
turn it's going to say grab the wheel
this is the Tesla of systems I put in
the food at the bottom there you see the
green which is 27 grams I put in that I
ate some food right there at the bottom
in green notice that that is then
decaying that means going down to zero
that's digesting so that's that's lunch
digesting then the insulin there where
it says 2.5 one has a half-life and then
gets used up and then the blood sugar
reacts accordingly okay this is making
tiny little where it says insulin
delivery tiny little changes but not
major enough that I can crash the idea
being not that it's supposed to be
perfectly smooth but that it's supposed
to mostly stay in the blue and when it
is in the blue it stays in the blue it's
okay that I'm outside the blue right now
because I just ate plus it's also 4:00
in the morning and my body is acting
like what are you doing eating at 4:00
in the morning and this is all very
appropriate additionally stretched
y-axes tend to lie so that looks like a
big deal doesn't it doesn't that look
kind of scary like oh look at that
something bad happen but if we explore
that in a different app with a slightly
different y-axis it's like oh that's not
quite so dramatic is it let's see if we
can do it sideways right see this here
also not so dramatic so you have to
really think about axes that left side
there that when all the hell
that's the muffins I don't know I think
they were just steeped in sugar
something but look at this though this
is great this is last night that's me in
a foreign country in a different time
zone sleeping like a baby with my blood
sugar effectively perfect for hours and
hours and hours this is what happens to
us as we'll eat something when we forget
to take some insulin or take the wrong
amount will fall asleep will wake up
eight hours later having completely
forgotten that we've been marinating in
our sugar for an entire half a night
it's really really challenging and very
very frustrating now here we go look
what just happened look you see what
happened ya'll look it just went 143 147
now it's flattened it out notice that
the whole prediction just the whole
prediction model just changed just as
we're standing here what did the pump
decide to do look in the orange at the
top there was this 212 what did it do
it's shut off it immediately shut off at
zero units that's the only way it can
stop me right so what it can do is it
makes a little change and then it coasts
it lets it let's back a little bit
because it has no ability to pull up
right if we're pushing on the airplane
right we're going down down down down
down the body's natural reaction is to
float back up again so the way that it
pulls back up is it just kind of lets go
and tries to let the air current find
its way there is talk of doing what they
call duel hormone pumps so I would
literally have insulin in one pump and
sugar in another pump and then this pump
would consciously overdose me get me as
close to zero as possible and then start
pumping sugar to pull up pull up
at the last minute it's called dual or
by hormonal it's a little bit scary but
it's an idea that is being worked on
right there you see I will eventually
reach I will eventually reach a hundred
milligrams right there okay now this
system is written in Swift and the brain
is here so there's two different systems
here there's the open APs the open
artificial pancreas system which can run
on a Raspberry Pi or on a Edison so it
can be very small it doesn't this is a
like a prototype like you hack on the PI
and then you deploy to the Edison okay
and that would be entirely
self-contained
I would put that in my pocket in a 3d
printed case and that would be it and
the brain is there
or I had this handy pocket supercomputer
that I've been you know looking at cat
pictures with why not have this do some
work okay but remember what we said
about the pump the pump is 900 megahertz
well the sensor that I have here is
bluetooth so the read is bluetooth we
can get the read but the pump is 900
megahertz so what we did is a fellow
named Pete built this which is a
Bluetooth to 915 megahertz RF bridge he
made the 15 year old pump look like a
bluetooth device and then he talks to it
over serial port with Python how insane
is that so watch this this is this
device here I'm gonna say fetch recent
history see the lights that just turned
on so it's showing that both the in and
the out so right now this here this
Swift app is calling into this over
Bluetooth talking to the pump with its
proprietary internal format which it's
then going to formulate as a JSON object
they've effectively made a 15 year old
medical device a Web API because why not
that would make it super easy to parse
right so that's still talking right
that's gonna take a while it's kind of
like a BBS right it's like 2400 baud or
something it's some slow slow baud rate
but it's using this pump as a back-end
database because this is the
authoritative source it's not going to
keep track of its in its own system
about how much insulin this thing
delivered that would be dangerous this
thing knows how much insulin it
delivered so that make sense so we trust
that as the authoritative source just as
we trust this blood sugar system as the
authoritative source that is a safety
mechanism right so this thing is still
talking it's almost done this does this
every 5 minutes and this is the funny
thing none of these systems were ever
designed to have that kind of a download
happened more than once a day
but we're doing it every five minutes
two hundred and forty four times a day
so look all that information so for
example here we go a normal bolus of 2.5
units we programmed to five and we had
an amount of two five here's a temporary
basil of zero for thirty minutes meaning
turn the pump off for thirty minutes and
see if he'll come back up again that
makes sense
I can go and talk to the pump I can send
button presses and do all kinds of stuff
and you can see it actually tuned to a
very specific frequency that device is
in my pocket all the time yep see it's
still making adjustments look at the
difference between how sorry look at the
difference between how the muffin
situation resolved itself it is elated
for a minute didn't it versus how it's
clear that lunch is going to work itself
out just fine I had a very short
excursion and I'll be right back in the
blue but what if I wanted to go exercise
I could get in trouble I'm in the
foreign country who knows maybe they
don't speak English I could go and say
use workout glucose targets if I go for
a walk about and go walk into downtown
so for two hours so look it puts me
higher it runs me hot it runs me higher
but remember highs will kill you slow
lows will kill you quick a low in a
foreign country is a problem and I don't
know how to say my blood sugar is too
low Danish I dunno how to say it in
German though which is super useful
actually cuz I had a low blood sugar in
Germany there's the only thing I could
remember I was like a homeless person I
was like on the ground like my
neighborhood suka as Sony Jarek you know
yeah I don't know if that would work
here so I can go and set things like
workout values as well the gentleman who
made this name Nate has even set it up
on the Apple watch and what he's got
here you can see my current blood sugar
is 140 and where I will end up is 76 I
can long press and enter in carbs if I'm
going to eat and I could say well what
am I gonna eat am I gonna have candy
tacos or pizza this because America
right no seriously though what do you
think the candy tacos and pizza means my
type to people what do you think that
means what my watch is black that was
very helpful Christian thank you so much
what do you think that what do you think
those three values represent exactly she
nailed it sugar candy something that
absorbs quickly Pizza something that
absorbs quite slowly
it literally relates to the absorption
rate so if we go back here and we go
down to the act of carbohydrates see
right there that 18 grams see the
different absorption rates I'll go and
I'll say I'm gonna have some M&amp;amp;Ms that's
gonna hit me quickly and be gone within
an hour or two or I'm gonna have some
steak and that's going to take 240
minutes to exit the system so you have
the carbohydrate absorption rate and you
see where it says Co B carbohydrates on
board on board me yeah yeah so that lets
me know how much insulin is on board the
IO B versus the carbohydrates on board
so I can look right here and I look at
this many times a day I can see I have
to you
it's two point four seven units left
meaning that are being absorbed because
everything takes time I've got 16 grabs
of carbs that has yet to absorb into my
system and the goal is to stay in that
blue line as long as you can when I
click through here a little bit that guy
is crazy he has a bunch of stuff plugged
and that's Chris Dancy he is the world's
most quantified man he has all these
sensors working at all times to tell you
everything about the world around him
it's pretty cool stuff once you have
these open api's you can do cool stuff
like apply if this then that to your
blood sugar but isn't it funny that
again the amount of work that we had to
put in to get this data like you might
think oh yeah I mean I add glucose
readings to Google Calendar awesome idea
well you got to get them first you have
to get that data you get that data that
is trapped in these systems out so open
ApS is an open source project on github
you can learn about the reference design
and build your own this is really really
important
none of this is therapy none of this is
appropriate none of this is allowed none
of this is from a doctor okay this is
body hacking at its finest
you should not plug a child into this
you shouldn't you know if you do that's
on you there are people who have done
that but that is on them okay this is
body hacking and it is possible that you
could hurt yourself but a lot of work
gets put into designing it for safety
Dana Lewis and her husband Scott who
worked on this system made sure that
there are limits anything unexpected
shuts the thing off and says go back to
normal so it is just like a Tesla in the
sense of if anything unexpected happens
you better have your hands on the wheel
that's a really great analogy so open
ApS is the one that runs on the Edison
or the Raspberry Pi it's open-source is
written in Python it talks to Knight
Scout which is this system which is
simply remote viewing I've plugged
which is the second system this is the
one that runs on the iPhone I've plugged
that into night Scout as well so I'm
seeing it looped a minute ago I see the
voltage of the pump the battery I see
insulin on board 1.5 units you see I
just went down a little bit right there
I see a predictive line of my blood
sugar loop is requires you to get Xcode
compile it yourself
have an apple developer ID if you want
to build yourself one of these devices
you have to work it's going to take you
you know a week of thought and another
week of tuning but it's super fun if you
have anyone who is diabetic who would be
interested in this kind of stuff the
point I want to make to folks is to if
you're if you work in a health care or
you have any other health situations
that your data is you're right you
should have access to your own freakin
data it is amazing how much work we have
to do just to get our own blood sugar
data our own health data so I hope that
we understand that we can't really
regulate innovation and one of the great
things about this project is their
hashtag we are not waiting I've been
diabetic for 25 years and every year
they tell me five more years and we'll
cure you they told me that 25 years so
what I think is great about this is that
the teams that work on on loop on open
ApS got tired of waiting they built
their own open hardware that runs on the
Edison or the Bluetooth bridge that we
see right here and they did it
themselves
and they did it with open source this is
all pretty cool stuff let's do some some
QA great let's keep the guy hand thank
you Scott
we have time for one or two big
questions and while we are running over
there don't forget to vote please on
your app poen thanks for letting me use
your your phone I needed to use his
phone in order to tether to share the
screen of my of my iPhone which worked
really well I think okay good I just
wanted have you ever thought about like
producing your own pump I mean you could
crowdsource it or some there are many
different open-source pump systems as
well so you could build your own pump
right now though it's about reliability
this thing is a tank I mean I have had
this thing for 15 years and I've
probably had one issue with it and it
was a static electricity thing so it's
more about reliability than anything
this is a solved problem so in the
amount of work that would be required to
make our own pump I would much rather
spend that time lobbying the company
that made this for a secure reliable way
to talk to it and communicate with it
the the fact that we have to hack things
in order to talk to them is unacceptable
and if it's not this manufacturer it
will be someone else that will give us
access question up there yeah it was
about the access to the data I did work
for one of the pharmaceutical covers
here remember actually they had a
product which they wanted to launch
which was using Pocket PC but it never
got in the market because of like the
FDA yeah so I mean there's one thing
which you talk about giving access to
the data but isn't it more that the
legislation has to be changed for
improved yeah so the FDA is getting
better because of the lobbying that is
being done by the folks who run open ApS
they've gone to the White House they've
talked to people
and they've said that this is a right
you know to hack on these kind of things
but they've also done something
interesting what I think is significant
is that even though there are no doctors
involved they're running it like it's a
clinical kind of a thing and they keep
anonymized data and they keep track of
how many loop hours are done they have
hundreds of thousands of loop hours that
means you know just like you know you
hear a lawn
musk always talking about how many
millions of miles have been driven on
autopilot and that's a way of saying
it's it's safe--for it's getting safe
there's hundreds of thousands of hours
looped on pumps and people are okay more
than any other system including those in
clinical trials so you could take all of
the hours being spent on clinical trials
that are very slow-moving that take
years and years and then you can look at
these garage hackers in aggregate
they've looped more than than the others
and the FDA has noticed that and day
before yesterday Medtronic released
their first quasi closed-loop system two
days ago so it's I think that the
open-source hacker community is getting
the attention of the FDA but they're
still very very conservative and they
don't want to kill anybody accidentally
which is ironic because diabetics die of
diabetes so I would much rather die in
the diabetes open-source hacking thing
you know then then like lose my feet all
right cousin last question yeah seem
that the hack at at blackhat made the
provider of the pump take it off and
basically not make it transponder
anymore give information out yeah do you
think there's an ethical problem with
that as well that if we if we show
security holes we should also help those
companies not to just shut down but keep
the beneficials of it yeah of course but
if hackers white hat black hat
regardless all have a responsibility for
ethical disclosure that has has been and
continues to be how good hacking is done
give them a heads-up you know the Tesla
just had a nasty nasty security bug
they gave Tesla heads up Tesla patched
it so then when the disclosure comes out
the firmware is already being pushed out
that's how you do it you call
the company first you don't just
demonstrate it live with millions of
people that they're on pumps so yeah I
agree that securing medical data and
securing medical equipment is super
important it just needs to be done in a
in an ethical way that's it folks thanks
a lot again Scott appreciated</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>