<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>GOTO 2015 • Adaptive UI • Sam Davies | Coder Coacher - Coaching Coders</title><meta content="GOTO 2015 • Adaptive UI • Sam Davies - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GOTO-Conferences/">GOTO Conferences</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>GOTO 2015 • Adaptive UI • Sam Davies</b></h2><h5 class="post__date">2015-10-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Z8QA9IYB67o" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">- Good morning everybody.
If you're here for some Adaptive UI
in the world of iOS, then
you're in the right place.
If you're not, then you're not.
Anyway, let's get started.
My name is Sam.
That's a massive picture of my face.
I like to start with a
massive picture of my face
normally it's a bit bigger than that,
but this is my face here.
If you can't see it, you can
also see it there, there,
and I guess up there as well.
I am @iwantmyrealname on the Twitters.
I work for a company called Razeware,
that's responsible for
the small company behind
the massive team effort that goes on for
raywenderlich.com.
I'm guessing some of you have
heard of raywenderlich.com?
Yes? A few nods, that's great.
So yes, I work for them.
I have some stickers and
10 percent off things
for the books and things,
and, oh, this isn't going to work,
I've got a free book to
give away to the person
who asks the best question,
but since questions
are anonymous, I don't know
quite how that's going to work.
Maybe I'll, well, I don't know.
Somebody come talk to me nicely
and I might give you a free book.
Maybe that'll work.
Anyway, let's talk about some Adaptive UI.
So, in the beginning,
many, many years ago,
when we first started
doing iOS development,
even when it was not called iOS,
it was called iPhone OS,
back in the dark ages,
there was one size we had to build for.
One size. The nice, the old
three and a half inch iPhone.
Those were the days.
I had a phone like this for many years,
I got rid of my iPhone
4 not that long ago.
We had one size to build for.
Designing layouts was easy.
I say there was one size, you did
also have to deal with landscape,
but that's two, right?
You could do something for portrait
and then rotate it for landscape,
or if you're on an iPhone,
more often than not,
you'd just say you're not
allowed to do it landscape.
It has to be portrait.
Those were the days.
And then came along the iPad.
The iPad, this massive
kind of slate of stuff
that you could, back in
the old days of iPad one,
it was revolutionary,
but they were sufficiently different.
These two sizes were completely different.
So you could just build two
completely separate apps,
or potentially you
could build the same app
and do different layouts and things,
but they were two separate things.
Two separate apps.
Then came along the four inch iPhone,
with the iPhone 5 and the 5s.
And this was the same width
as the three and a half,
it just got this extra
little bit at the bottom.
Perfect size to stick an ad in there.
And that was quite often what happened.
Just stick something along the bottom.
It doesn't really matter,
nobody really cares.
Quite often, if you were
back in, like I said,
I had a three and a half inch
iPhone for a very long time,
then the design was for the four inch,
and I would just end up
with losing some stuff
off the bottom, and it just wouldn't work.
Or like you sometimes see it now,
if you're tethering or
something and the bar
at the top gets bigger,
then stuff just gets cut off
at the bottom and nobody really cares,
because nobody, it doesn't need
to worry about that thing,
these people with old phones,
we didn't care about them.
Then last year, along
came the iPhone 6, copied
from the form factor from Android,
and then was at four
point seven inch, and then
the five point five, the
massive iPhone 6 Plus,
and 6s Plus now, copied from the world of
dinner plates, this
enormous great thing that
you couldn't possibly hold in one hand,
it was a two-handed action
you were moving around.
Lots and lots of things,
lots of different sizes.
And then this year, coming up soon,
it is so big, it doesn't fit on the slide.
The iPad Pro is enormous,
is yet another form factor
we've got to deal with,
and in fact, not only
is the iPad Pro massive,
if you copy the image
off the Apple website,
you see the arm that you need to use
the iPad Pro, is also enormous.
It's bloody enormous!
My arm's not that long.
Anyway, that's 12 different form factors
that you've got to design for now.
If you count the fact that you have to
do portrait and landscape,
and you have to do it
for the iPhone 4, the
iPhone 5, the iPhone 6,
the iPad, and the iPad Pro,
and the 6 Plus, like
that's six different things,
two form factors, that's 12.
In days gone by, we would've
written code like this,
where you would just investigate
in your code, are we using an iPad,
if we are, then go and
do this particular layout
and we'd write some layout code.
Or maybe, we're not on an iPad,
but we're in landscape,
or we're in, sorry,
left landscape, right
landscape, we're in landscape,
then we need to do this
particular bit of code.
Now this will not scale, right?
You cannot continue to do that
for 12 different form factors,
it just doesn't work.
It would be crazy to try and do that.
And this is why...
I guess this time last
year, little bit longer ago,
Apple invented the Adaptive Layout,
I say invented, it's quite
similar to stuff that was
being, existed in the, kind
of responsive web design
for quite awhile, or Android has had
stuff like this for quite
a long time as well.
But Adaptive Layout
came and that's this new
approach to doing some layouts,
or it's a layer on top of
the existing way that we do layouts.
Some of the key facts about this,
it abstracts the layout
away from design specifics.
We no longer care that
it's an iPad, we no longer
care that it's an iPhone 6s
Plus, in landscape orientation.
Instead, we group all of these
different things together
in this kind of hand-wavy
size classes thing,
so rather than saying
this is this many pixels,
points wide, we say well actually,
it's not much space horizontally.
We deal with these classes instead.
You can start using it from iOS 8,
and obviously iOS 9 supports it as well,
and it's fully supported in
Xcode and Interface Builder,
and I say fully supported...
as fully supported as anything is
in Xcode and Interface Builder,
Adaptive Layout is,
and it's pretty, pretty
reasonable to use in these two things.
God only knows, I mean,
how many people have been
using Auto Layout for awhile?
Do you, are you Auto Layout fans?
Anybody like Auto Layout?
Really? Okay.
Auto Layout is so much
better that it used to be.
It was atrocious, it
was the most difficult
thing in the world to
use, nobody had any idea
what went wrong, when it went wrong,
which happened all the time.
It's so much better now than it was.
If it was being introduced now,
as this amazing new technology,
as it is now, it would be a lot more
approachable and usable.
I like it, but I don't build
things, so it doesn't matter.
What does it really mean,
this size class thing?
Rather than saying you've
got this amount of space,
this many pixels, this many points,
we're talking in terms of how
much space is there really?
How much room have we
got to fit things in?
And we divide size classes up
into two different size classes.
We talk 'bout something being compact,
there's not much space,
we're restricted in
some kind of way, or
regular, there's a normal
amount of space, whatever that means.
And we do that in two
different dimensions.
You can say that horizontal or vertical,
so you can be horizontally compact,
and vertically regular.
It's just a way of specifying,
there's this amount of space
in this particular view.
How does that, hello.
How does that map to actual devices?
Because this doesn't mean
anything at the moment
until you see how it kind of
works in the real world.
When you take an iPad,
and an iPad Pro, in both dimensions,
it's always regular.
There's always loads of space vertically
and loads of space horizontally,
there's never any time on an iPad where
you can't fit the amount of content in
that you want, in some
kind of hand-wavy fashion.
But when you look at an iPhone, then
when it's in portrait,
then you say that it's
compact width, there isn't much room,
width-wise on an iPhone.
When you turn it landscape,
then now there's not
much space vertically.
That's now compact.
The strange thing to do with the iPhone,
is that you'd expect these
purple and orange boxes
here just to swap over, right?
Why do they not swap?
Well, I reckon, I reckon
if you think of holding
an iPhone in portrait, then traditionally,
if you're reading lots
of content or something,
you would scroll up and
down, and that makes
perfect sense, right?
There's plenty of room because you scroll.
But if I rotate it, you
don't scroll left and right,
nobody ever reads
something and then scrolls
all the way across to one side, and then
scrolls all the way back
to read the beginning of
the next line, that's just
not the way that you do it.
So you can say that it's compact.
The time that it isn't compact,
is with the iPhone 6s
or the 6 Plus landscape,
which is so big that you can
fit plenty of stuff in there.
Now at this time last year,
this kind of stuff makes sense,
but it's a little bit
strange, it's a little bit,
what's the point of any of this?
But now, with iOS 9, this
starts to make a little bit
more sense because the
problem with size classes,
when they're related to devices, is,
well, you've not really
done much abstraction,
because if I've got this
device and it's in this
orientation, it always gives
me the same size classes,
so what's the point?
Doesn't make any sense,
because I, rather than finding
out what size class I
am, I can just find out
which device is, because there's
a one-to-one mapping,
those things never change.
But with the advent of multi-tasking,
it finally does start to
make a little bit more sense.
So for example, an iPad
is always regular regular,
irrespective of which dimension, which
orientation it's held in.
However, when you start
doing multi-tasking,
which is new in iOS 9,
right, so the idea with
multitasking iOS 9, you can take your iPad
and you can kind of
swipe in from the right
and you can have another
app coming in over on the
right hand side, and if
you've got an expensive
or new iPad, then you can
pull it further across
and have two apps side by side.
At this point, now you're
running on an iPad,
you've got a particular orientation,
but you don't know what
size your app's going to be,
because your app can launch
and then you'll find that
if you're in portrait
and you swipe something in from the side,
now effectively, you've
got two iPhone apps
running next to each other.
So the same app running,
but in the configuration
it would use if it was on an iPhone.
It's got compact horizontal size class
and regular vertical size class.
And then if you rotate
it, now you've got this
other configuration with regular regular
and compact regular, and then finally
you've got compact compact regular.
And then I believe in iPad Pro,
then you can have two regular regular
apps side by side.
So in this point, now
we've abstracted it away
from just device specifics.
We can now have different
things running on a device.
So, my kind of five points of how,
how would you go about
adopting Adaptive Layout,
what's a sensible process for doing this?
Because the, I mean the end goal is that
I create one storyboard,
and it rules everything.
We don't need anymore storyboards.
You can use one storyboard,
and that will run
on an iPad, it will run
on an iPhone, it will
run on all of the different iOS devices.
And that would be great, right?
We don't have this problem where we've got
four different storyboards, and we have
to make sure we update
every single one of them.
The updates to one of
them will then mean that
everything updates appropriately.
So how do you go about it?
Well these are my kind of, my,
the approach that I would recommend,
and you'd first of all
build your base layout,
this is the let's get
everything that we want
on the screen, this is the layout
that we want to happen most of the time.
And then you would override
one of those size classes,
and I'll show you what
overriding size classes means
when we get into a bit of a demo.
And then you uninstall
irrelevant constraints,
so we're talking Auto Layout here,
so you've got these constraints,
which determine the size and
position of different views,
and you can do this thing
called uninstalling them, right?
So we've chosen a particular size class,
and I want to take these
constraints and throw them away.
In this size class, I'm not
interested in these constraints.
Everything else, we
want them, not this one.
So we uninstall them,
then we'll add some new
constraints to make sure
that we get the layout
that we actually want
in this new size class.
And then you just keep repeating that,
and the important thing with this is,
that what you don't do is
go into your storyboard
and build an iPhone layout,
and then, so I use like,
I would go in and say
right, so if a compact
width and regular height, iPhone version,
iPhone portrait, I want this layout,
build that, and then say
well, I want to build
an iPad now, so I'm going to go and do the
regular regular, throw
everything away, and start again.
That doesn't really help you at all.
The approach is to start
with this base layout
and then work on top of it.
Okay, let's have a look at, I
could talk about this all day,
but it's far more useful I think, to see
it happen in Xcode, and Interface Builder.
So I've built this project,
it's a very simple project.
And if I show you on an
iPhone at the moment,
so it just looks, it's just
an iPhone app, it's a
standard master detail app.
And as you tap on each of these rows,
then you just get this detail page,
it's got picture at the top and then these
kind of details down at the bottom.
And the problem with this
is that when I rotate it,
then there's no longer any room for those,
the text label with the details,
then they fall off the bottom.
So what I want to do is see how I can use
Adaptive Layout to change this layout
when there isn't enough
space for that vertical,
for that details label down at the bottom.
Now, the words that I'm
using, the way that I'm
expressing this is saying
well, for when there isn't
enough room in this kind of dimension,
that's exactly the size
class type problem, right?
We're saying that
vertically, it's compact.
Vertically, there's not
enough room to fit stuff in.
So I've, this layout at the moment,
is built with the base
layout, this is just the
layout, I've got them all laid out,
one on top of each other.
And now I want to go in
and look and see well,
actually, when there isn't
enough space vertically,
I want to do a different layout.
I want to override the layout,
when there's not enough room vertically,
it's a compact vertical size class.
How many people have
used size classes before?
This is good, because otherwise
you'd be sat there
thinking it was pointless, this is great.
Okay, now can you see, not
very well, it's very small.
I could make it, I know,
I'll just do some zooming.
Okay. So if we take a look.
So this is the storyboard.
If I zoom out the storyboard, you can see,
as I said, it's just a
standard master detail thing,
and we're just going to concentrate down here
on this view controller here, and all the
demo stuff that I'm doing today
is available on GitHub, I'll
give you a link at the end.
And everything I'm
doing is in storyboards,
I didn't do anything in
code, which means that
you can look at the diffs in GitHub
and they'll mean nothing, because they
were just storyboard diffs.
Okay, so this is the layout,
as I said at the top,
we've got this kind of,
we've got the picture
of the pancakes, the title,
these kind of things,
they're all kind of wired
up like we'd expect.
Now what you can do for size classes, is
if I can remember how to zoom, right.
Down at the bottom here,
you can see this WNEH any,
down right down here at the bottom.
And what that there, is
something that was new
in Xcode 6 and obviously
continues in Xcode 7.
That's the size class
override thingy-ma-jig.
That's the technical term.
And if I tap that, you see
this funny nine square thing.
And if I move around, you
can see it's giving me
these different size class combinations.
And it starts out with this any any base
values for all layouts.
Anything that I put when I'm
in that size class override,
will appear in every
single layer that I do.
And, as I was talking about,
I want to deal with a case
where there's not enough space vertically,
so what I'm going to do is,
this is my base layout,
I'm now going to go and override
for compact height layer, so
this here is compact height.
It's not specific compact
height, compact width
or regular width, compact height,
I'm only dealing with compact height,
because I don't care about the
width, I care about the height.
When there's not enough room vertically,
I'm going to go in and change something.
So to do that, I tap that within there,
and if I zoom out, you can see
now I've got this blue bar.
And what I'm going to do,
remember phase two of my plan?
So I'm now in the stage where I'm going to
uninstall the different constraints
that I don't care about.
Now I want the picture
over on the left hand side,
and all of the detail stuff
over on the right hand side.
So all I'm going to do, bit of Auto Layout,
I'm going to go in and
remove the bits and pieces
that I don't care about.
So if I've got the picture,
I open up the size inspector,
you can see all of the different
constraints and things that we've got
down on the left hand side.
So I'm on the picture at the moment.
I've got the trailing
space to the super views,
that's for those of us
with right to left languages
over on the right hand side,
we've got the leading space
so that's the left hand side,
bottom spaced content container,
so the content container
is a empty view, well not an empty view,
a white view that
contains all of the stuff
at the bottom that I'm going to move
over to the right hand side.
We've got top space to top layout guide,
so that's pinning it to the top,
and equal height content container.
So I want to remove some of those.
Now what you can do with size classes
is say, I don't care about this particular
constraint for this layout.
So I'm going to say, I want this to be over,
I want the image to be
over on the left hand side.
So what I don't want to do anymore
is pin the trailing space
to the right hand side,
because then that wouldn't be possible.
So what I do is select
it in the size inspector
and press backspace,
or sorry, press delete.
And you can see now, it's grayed out.
There's something here,
this size class on all,
you need to make sure you're on all, because
otherwise it'll only show you the ones
for this particular size class.
Now that's grayed out, that
means it will no longer
apply in this compact height override.
What else don't I want,
I also don't want bottom
space to content container
and I also don't want equal
height to content container.
So now I've only got this leading on top.
Now I can do exactly the same
with the content container,
so I've now selected
the content container,
that's this white box down at the bottom,
and you can see that already,
two of these are grayed out.
That's because constraints
are between two different
views, and if I've uninstalled
the constraint on one view,
then obviously it's
uninstalled on the other view.
You can't have one, like a
half a constraint installed.
So we've already lost the
top space to image view
and equal height to image view,
now this bottom one, the
only other one that we
want to uninstall is the leading space.
We don't, we no longer want it
pinned to the left hand side.
So I can just select that one in there and
press delete and that goes.
So now we've still got two constraints on
each of those that we still want to use.
What we don't want, is these other ones.
And now if I zoom out,
oh no, not like that.
Zoom out like that, and zoom in here.
Too many zooms.
Then what I can do now
is roughly locate these
where I want them, I find it
much easier to work like that,
so I'm going to grab this,
the content container wants
to go somewhere like that,
and the image view wants
to go somewhere like that.
Just ignore the fact it looks
a bit rubbish at the moment.
So what now, the next phase
of that five step plan,
was to add the new constraints.
And when you're in the blue bar mode,
it means that any
constraints that you add,
will only exist in this
particular size class override.
You no longer need to
care about the base layout,
I'll add them and they'll only
exist for this size class override.
So what I want to do is take this image
and I want to make sure that,
so here, let me zoom back in again.
Using these little buttons
down at the bottom,
if you're familiar with Auto Layout,
you probably use them all the time.
Use the one that looks a
bit like a tie fighter,
which is the pin menu.
If you tap that,
then you can see I'm just
going to add a constraint,
so I should, I've got the
image selected at the moment.
I want to, I now need
to add a new constraint
to pin that image to the bottom.
So I'm just going to hit that eye bar there.
I'm then going to select
the content container,
this needs a new one to pin it to the top.
I then need two more constraints,
I need to, I'm going to grab from the image
over to the content container,
I want to set the horizontal spacing
and I want to set them as equal widths.
Something that's changed
in Xcode 7, is that
there's now this new add constraint,
sorry to do that I was, you control drag
from one to the other
right, and then if you press
shift, then you can select
multiple constraints
that you want to add at the same time.
Something that's new in Xcode 7 is
now there's this add constraints menu.
Before, you did this weird
thing where you clicked
away at the menu and it
probably added the constraints,
now there's an actual button to say
do this for me, I actually want that.
So I added those constraints and I think,
well, we'll see in a moment, that I've now
added the constraints that I wanted to,
so now if I use, I don't know what kind of
space ship this looks like,
no idea.
If I now use this menu,
and say update all the frames,
and then zoom back out,
zoom out, and zoom in on this one.
There we go.
That's roughly what I was after.
I know the picture doesn't fit,
but that's, no sorry,
the text doesn't fit,
not worried about that, I've now managed
to do this different layout,
so I just want to test if this works.
How many of you have,
how many people use storyboards?
I've seen some use of storyboards, right?
How many people are aware of the new,
new in Xcode 6 Preview Assistant Editor?
Oh that's good, so some
people are, and that's good.
So the system editor,
traditionally when you're in
storyboards, it brings
up the class that you are
working with, right?
In Xcode 6 and obviously
continues in Xcode 7,
if you, in the jump bar at the top,
here, and where it says automatic,
you can select preview,
and what that does is give you a gray box.
Oh, I know, I'm not selected, there we go.
What that does is it, rather
than you having to run up
every different simulator,
and rotate it to see what
your particular view
controller will look like,
you can instead use this to,
let's make it a bit bigger,
I can add, using this little
plus down at the bottom,
I can add lots of different size,
different sized previews based
on the different devices,
and you can rotate them
and see how it behaves.
And that's the important
thing, right, is that
these two next to each
other, iPhone in portrait,
picture on top of the
details, iPhone in landscape,
the picture is now to
the left of the details.
That's exactly what we wanted to do.
We didn't touch any code, we did it all in
Interface Builder and we
did it by uninstalling
and installing a few
constraints, which is pretty cool
I think, it's not, not very difficult.
And if you like Interface Builder,
well if you don't like Interface Builder,
Apple will continue shoving
it down your throat.
It's not that bad.
So, a few things about those
constraints that we've created.
If I open up the, some of
these constraint things
over in the document outline,
you'll notice that down
at the bottom here,
we've got some grayed out constraints.
So grayed out constraints mean
these constraints exist,
but they're not installed,
they're not in operation,
they're not active
in the current size class override.
And in fact, if I,
come over here,
if I go back to the base
layout, you'll notice
a couple of things, first of all,
now this is reverted to its original size,
and down here, you probably can't see it,
if I do that again, so you can see that
in compact, then the ones which
were installed change, okay?
They change according to
which size class override you're in.
And also if you use the
attributes inspector
over here, you'll notice
that there's this new
thing down at the bottom
that has, it's not checked.
Installed is not checked for nothing,
which is the base layout, but
there is a size class override
for width any height C, compact,
where it is checked.
So that means that is only installed
for a particular size class.
That's great.
And this little plus thing
will feature more often.
That is, that basically
means there is a way that
you can override this for
a particular size class.
Okay, cool.
Let's jump back to some slides.
Well I have a feeling it's one slide.
Okay, so that's there,
I showed you how you can
go about some kind of adaptivity.
Constraints, you can take a constraint
and you can decide, do I want it
in this particular size class or not?
That's quite cool, you
can realign, reorganize
your layout in many different ways.
But that's not all that you
can do with Adaptive Layout.
There's other things that
are adaptive as well.
Constraint installation is the top one
that I spoke to you about,
but you can also change the
constant on a constraint.
So if you have a constraint that says,
the spacing between these two views
should be ten points, then I can say,
well if I've got enough space,
then actually that should
be a hundred points,
and I can do that without having to
delete that constraint
and create a new one.
Weirdly, you can't change
the constraint multiplier.
So you know constraints have a constant
and they have a multiplier,
if you need to change the multiplier,
then you actually have to uninstall
the constraint and create a new one.
I don't really know why.
You can change the font, so
if I've got a particular font,
and I want to change the font size,
that's something that you'd expect
you might want to do right?
Between an iPhone and
iPad is I want to change
this font size to make
it bigger on an iPad.
Well you can do that fairly simply.
And we'll look at, we'll do a
quick demo of some of these.
And then finally, view installation,
and this is also quite important.
If you've got a layout
for an iPhone, and you want to use,
reuse the same thing on an iPad,
then you're probably not just going to want to
change the font size and the spacing,
and realign different things.
Something you're quite
likely to want to do
is actually add new views,
right, it would make sense right?
Well, you can do that as well.
So I think, given the time,
what time do we finish?
15 minutes.
I'll show you some of
these because I want to show you
something quite cool.
What I want to do is demo
changing the size and changing
the font, and if you look in the Git repo,
then you can see the view installations,
so how you can install the
views and uninstall them.
But, font is really easy, and in fact,
in many times across all
Adaptive Layout and Xcode,
whenever you see this little plus,
this tiny, tiny little plus
next to one of the properties,
that means I can provide a
size class override for that.
And in fact, if I tap that,
you can say add size class customization
and then you can use this
non-intuitive menu system
to choose which size
class override you want.
The easiest way to do it is to
jump back into the size
class override you want.
So I'm going to choose now regular regular,
that's iPad sized, and
then if I hit the plus,
then you can see that the one it suggests
is the current size class override.
Now something that is
really quite confusing,
I find, when you're in the blue bar mode,
size class override, if I add a view,
it will only exist in that view.
If I add a constraint, it
will only exist in that,
sorry, if add a view it
will only exist in that
size class override,
if I add a constraint,
it will only exist in
that size class override.
If I remove a view or remove a constraint,
they will only happen within
that size class override.
If I change the font, that
changes the base layout.
If I change a constant, that
changes the base layout.
So you've always gotta remember
what exactly what am I doing,
and if I want to change the font,
then I need to click the little plus.
So quite often, I'll go through
and I'll change the font
and then I'll go back
to the original one and
realize I've changed it there as well,
and then you've gotta go back and try and
remember what it was or go
through the undo history to find it.
So use the little plus,
and then it gives me
regular width, regular
height, and then I've just got
a standard font box,
right, so I can go in and
I'm going to choose a
different font and everybody
on an iPad loves a party,
so let's use the party font.
Let's make it size 60.
And then that should mean
oh, let's also change some
spacing while we're here as well.
So I've got, while I'm on this
I've decided that actually
I can, I can increase the
space between the party,
between the party font...(chuckles)
Between the title font and the yellow bar.
So if I've selected that label there and
I look at the constraints that
I've got associated with it,
one of them is bottom
space to yellow bar,
and if I tap that, then
here you can notice I was
talking about the constant
and that's also got a little
plus next to it, so I can add a size,
add an override for
that and turn that into
100 and we'll see what that does.
Then if I open up the preview,
and add one for the iPad,
scroll all the way over,
zoom out a bit,
Xcode's not very good in small spaces.
I had to give this demo
in 800 by 600 once.
You should, as a challenge one day,
try and use Xcode at 800 by 600.
There we go, so I mean it's
done what we wanted it to.
Right here, this size class
override is regular regular.
It's changed the font
to that rather gorgeous
party font, and then now
there's a massive gap between
the other bar and the one above it.
So in the past, you
would've had to go through
and do all of that
if-then-else code
and you'd have to, I mean if
you were using constraints,
then you'd have to grab
hold of that constraint
and change the property on it or
remove a constraint, or you
could use different storyboards.
But for simple tasks
like this, you can get
quite a long way just using the
Adaptive Layout size class
overrides for this kind of thing.
I shan't show you the
installing different views,
because I haven't got time, but
it's very similar again,
if I'm in the size class
override, I add a view,
it will only exist in that view and I can
add the constraints and
things as appropriate.
So, I want to skip very quickly through
how does this work in code,
what does this stuff actually mean?
Because we've seen it in Interface
Builder, but in reality,
you can get a long way
in Interface Builder, but
almost certainly at one
stage, you're going to want to
get in there and do battle with code.
So, all of this stuff exists in this
new class code UITraitCollection, which
was introduced last year.
It is now the place to find out
different things about the
device, so you can get the
user interface idiom. So, is
it an iPhone, is it an iPad?
You can get the display scale, which is,
well I was going to say is becoming
increasingly irrelevant,
but it's now with retina
HD, I suppose it isn't.
So that all there will give you
one, two or three, depending on
the number of pixels per point.
You can get the two size
classes, so I can find out,
if I can get hold of a 'traitCollection',
I can find out what is
my current size class.
And then new in iOS 9 is
this force touch capability,
so if you've got an
iPhone 6s or a 6s Plus,
you can find out whether
or not you've got that
3-D touch thing, so whether
or not you can determine
how hard you're pushing your
finger through the screen.
So how can I get hold of one
of these 'traitCollection's?
Well, you use a trait environments.
Trait environment is just a protocol
and on it, it has a property
called `traitCollection`.
So I can grab hold of a `traitCollection`,
and it also has this useful function
`traitCollectionDidChange`, and
we'll talk about that in a second.
Now what adopts this
protocol? `UIScreen`, `UIWindow`,
'UIPresentationController',
'UIViewController' and 'UIView',
so that means if you're
inside any of those things,
you can find out what your
current 'traitCollection' is.
And hence, what size class you're in.
You just have to ask for
the 'traitCollection',
and then you'll be, you'll
have what you need to know.
What's this 'traitCollectionDidChange'?
When do, that would get called
whenever the 'traitCollection'
has changed, right?
When would that happen?
What if I took an iPhone in portrait,
and I rotated it, then
the 'traitCollection'
of every view, view controller,
presentation controller,
the screen and the window will
all receive 'traitCollectionDidChange'
because you've rotated it.
You've gone from regular
height, compact width,
to compact height, compact width, or on
an iPhone Plus, regular width.
So you could use that to handle rotation,
handle any code type
things that you want to do
when the 'traitCollection' is altered.
It's a bit sledgehammer-y,
it's not very fine grained,
and we'll look at that in a moment.
The other thing you could do,
is actually override size classes.
Why would you want to do this, as it
does seem a little bit strange.
But you can build a
view controller that has
a particular layout
for a given size class.
And then you realize
actually, I'm on an iPad,
but I've built a
container view controller,
and I'm putting this other
view controller in it,
there's actually quite small, right?
I want to use the iPad, or the layout
that I defined for compact width
because this view controller is so small,
so I want a container view controller,
which you could build yourself,
a custom container view controller,
you can say actually, for
my child view controllers,
or this particular child view controller,
I want to use this 'traitCollection' instead.
I don't want... I'm on this
massive canvas of an iPad,
but my container, one of
my child view controllers
is only this big.
So that's compact width.
So you could use this, and
it's quite simple to use,
you just, you build
yourself a 'traitCollection'
with the overrides in it that you want,
and you pass it to the
child view controller
through this method, which
is on `UIViewController`.
That brings me to the last protocol that
I want to introduce, and
that's `UIContentContainer`,
and this is a slightly
more fine grained way of
dealing with these transitions
between 'traitCollection's.
So you did, you've got
this in `UITraitEnvironment`,
you get 'traitCollectionDidChange`,
well, it's a bit kind
of sledgehammer-y right,
all of a sudden you're just being told
right the 'traitCollection' has
changed, re-lay yourself out.
How do you deal with making sure you're
handling the animations in a nice way,
how do you do anything like that?
That's where you want to use these methods
that are on `UIContentContainer`,
and `UIContentContainer` is adopted by
`UIViewController` and
`UIPresentationController`.
These have, they have
this `willTransitionToTraitCollection`
so you've got exactly
the same moment,
well, before the transition happens now,
you get told you're going to
move to this 'traitCollection',
and within that, you get
a `transitionCoordinator`,
which for those of you who've
done any 'UIViewController'
transitions, which are a
massive sea of incredibly
long protocol names, what that
thing there allows you to say,
&quot;I want to do this animation,
&quot;and I want to do it at the same time
&quot;as what ever animations
the system is doing.&quot;
And this is really
handy, I'll tell you why
it's really handy in a minute,
the other method on those,
`viewWillTransitionToSize`.
So the question that
everybody always asks is,
&quot;My iPad is regular regular
irrespective of the orientation,
&quot;that doesn't make any sense.
&quot;Why would that happen?
&quot;That's no use to me.
There's clearly less room.&quot;
And the method that's
really helpful for that is
`viewWillTransitionToSize`.
This gets called whenever
the view controller
changes size, and before iOS 9,
that would be pretty
much just on rotation,
unless you're doing some complex
view controller containment
yourself, that would
basically just be on rotation.
The view controller
would transition to size.
So when you rotate an iPad,
the top method of that
will be called, because the size will change,
the bottom method won't be called.
Because the 'traitCollection' doesn't.
And that brings me on
to rotation deprecation.
In iOS 8, these lovely old methods
for dealing with rotation
were all deprecated.
You can't, well, you can use them,
you shouldn't be using will rotate to...
`willAnimateRotationToInterfaceOrientation`
or `didRotateFromInterfaceOrientation`.
All of that's gone, so how the hell
do you deal with rotation now?
And this is kind of a
change in paradigm to
`willTransitionToSize`.
Use that method instead.
This is an example of
that method being used.
So don't think of rotation
as moving a device,
think of it as your view
controller is changing size.
Because from the user's
perspective,
that's all that's really happened, right?
If you sat inside your view controller,
the fact that the device
is rotated is irrelevant.
Just the interesting thing
is that you've changed size.
So you can use this, I
mean this example here,
uses that coordinator, this
transition coordinator,
and it calls this
`animateAlongsideTransition` on there.
So that there is allowing to say
when this rotation happens, the system
will take your view controller,
and it will rotate it for you, and
it will re-size it for
you, in an animation.
I want to do another
animation alongside it,
that's exactly the animation I want to do.
And that's just a CA Transition.
I think, have I got like,
I've got five minutes.
I want to talk very, very, very
briefly about stack views,
because stack views, I've
talked a lot about Auto Layout.
Stack views are new in
iOS 9, and they are,
if you've not used Auto Layout before,
now's a good time to get into it,
because stack views will save
you a hell of a lot of grief.
What are they?
I want to build a view like this, right?
So I've got a white view and I've
got these three views inside it.
How would I do that with constraints?
Well, I'd need to pin
the top one to the top
and to the left hand side,
I'd need to pin it to the right hand side,
and pin the orange one to the bottom.
I'd need to add some constraints
to space them as well, right,
so I want to put a gap between them.
I'd also say well I want to
align them all along the middle,
I want them so that they're all
center aligned with each other.
And then finally I want to
say that the orange one
should be the same width as the
gray one, and then the
purple one in the middle
will just use its intrinsic content size.
That's a lot of constraints,
so I think it's like 12 constraints,
which is a lot for building
something that's so simple.
So stack view, stack view's existed
on OS X for several years, now
they're much better now in OS X with,
they now match what has
been introduced in iOS.
It's basically the same
as the linear layout
from Android, which has existed
for many, many, many years.
What do ya do?
Well, that stack view there,
sorry, that layout around
the edge is a stack view.
And a stack view has properties on it,
so I add some views to my stack view,
I tell it what axis I'd
like it to be oriented on,
and I set some things like the spacing,
how far apart should these things be?
I want to say that they're
all aligned down the middle,
and then I do have to
use some constraints,
because I have to position this stack view
somewhere within its wider,
within its wider view.
So I've now used two and then I could
add two more constraints if I wanted to
pin it exactly to a specific size.
That is therefore four,
possibly two constraints
to do that same layout, I just
chuck things at it and it builds it.
I don't think I've got time for this demo,
but I want to show you one thing,
and that is,
in Xcode, get to learn and to love
this tiny little button here.
There's like an arrow
falling down some stairs.
That there creates a stack view,
grab some views, however many you want,
push that button, it
will make a stack view.
From there, you can alter all
kinds of different things.
And the interesting
thing about stack views,
now I do have a stack
view in here to show you.
I've used in the table view
cell, table view cells,
the ones that are notoriously
difficult to lay out automatically.
I've just chucked this in a stack view,
and once I've done that,
if I grab the stack view,
you can see they are very, they play
very well with adaptivity.
They have these pluses down the side,
which means I can add size class overrides
for things like the axis, so that
what I was going to show you
was I can do thing where I
changed it from being vertically aligned
to horizontally aligned, just by adding
a size class override on the stack view.
Really simple.
I can change the alignment,
the distribution,
I can change the spacing,
all of these different things
really, really simply using adaptivity.
They are really worth
a look, they are quite
really quite powerful for
when used with adaptivity.
So, to finish off, just a few tips
from the world of adaptivity.
One, get to know Auto Layout,
it is, there is a bit of a learning curve,
but it's not impossible,
it's worth the effort.
It's not as hard as it
might seem at first.
Use the Adaptive Layout
for broad strokes layouts.
So, you can't expect to be able to do all
of your layout using
these adaptivity tools.
They're there for you to get
the layout pretty much right,
use Adaptive Layout, and
then you can drop into code
and start using the fine grained
things that you want to do.
Like that view or
transition to size stuff.
Always start with a base
layout and override.
Never ever, ever, ever go
into a storyboard and say,
well I want an iPad, so I'm going to
start with regular regular.
Now I want to do an iPhone in portrait so
I'm going to go regular compact.
Start with the base layout with nothing,
and then work out, well
what do I want to change
for this particular override.
Life is easier with stack views.
If you can use iOS 9,
go and investigate them.
If you can't, then there
are some open source
things out there that will be equivalent.
They make layout so much easier.
If you nest stack views
together, you can really,
it will make life so
much easier, trust me.
Now is the time to get Adaptive.
As I said, you've got 12 different
layouts to do at the moment,
you could do that with
several different apps, you could do that
with multiple storyboards,
give Adaptive Layout a
go, and see whether or not
you can get anywhere.
I'm @iwantmyrealname on the Twitter, and
you can grab the code for this
at my GitHub, and to finish off,
please do remember to rate the session,
and I thank you all so
very much for coming along.
Thank you.
(audience applause)
- So we don't have, one
minute for questions,
so I think the best one would probably be
how do you deal with assignments?
Because we've been used to them
wanting everything pixel perfect.
- [Sam] Yeah, this is,
I mean that's one of the
major challenges associated
with this adaptivity,
and it's something that
I think the web world
went through several years ago
with this kind of idea of
responsive...I remember when
I first did web design,
I spent a very long time
trying to make it look pixel perfect
between Firefox and Internet Explorer and
I guess it was before Chrome, so Opera
or something, and you'd be
there trying to work out
well why is this not identical to this,
and eventually we seemed
to have got over that phase
into this idea, well
actually the content is
the important part, these
are the bits and pieces
that we want to build up that content,
this is the way that we want to wrap it.
But what we don't necessarily have is,
I want a pixel perfect
design here, here and here.
And that certainly seems to have worked
in the web world, as a kind of
eventually they've got there.
And I think we need to do
the same kind of thing,
it's all to do with education,
I mean if you say to your designer,
yes, you can have pixel perfect
designs, now go away and
design me 12 different
designs, or more in fact,
because not only have
they got to deal with
the different devices,
now with multitasking,
you've got to deal with
well, what if you're a third
of the width of the screen on an iPad,
in portrait, and then on landscape,
and then what if you're half the width,
and then oh, there's an iPad Pro as well.
If you tell them that they've
got to design 20 different
pixel perfect designs for that one app,
then they might start
to get some kind of idea
of what this adaptivity
does, and it becomes
well, what elements do you want on there,
and when it gets this narrow,
how should we rearrange it.
Because that's exactly what
happens in the web, right?
You lose that big menu bar across the top,
and it becomes that weird
hamburger drop-down thing
that takes up the entire
screen on an iPhone.
And I think that's, I mean
that's not necessarily
the right solution, but that's the only
kind of way of doing it
really, is to kind of
demonstrate this kind of
stuff and get out of the
pixel perfect world into actually
content is the thing we're dealing with,
how do we make it look as good
as we can in these different ways.
Cool. Thank you ever so much.</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>