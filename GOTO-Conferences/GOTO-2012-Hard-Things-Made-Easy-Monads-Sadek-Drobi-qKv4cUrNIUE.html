<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>GOTO 2012 • Hard Things Made Easy: Monads • Sadek Drobi | Coder Coacher - Coaching Coders</title><meta content="GOTO 2012 • Hard Things Made Easy: Monads • Sadek Drobi - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GOTO-Conferences/">GOTO Conferences</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>GOTO 2012 • Hard Things Made Easy: Monads • Sadek Drobi</b></h2><h5 class="post__date">2013-04-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/qKv4cUrNIUE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">we're talking about monent who already
knows monads
I was hoping like everyone knows them so
yeah wasn't the case so what's this this
is a handle right a door handle for this
photo why is it interesting because
actually once you look at it you know
how to use it right this is basically an
interface an interface that what we all
understand and we all know how to use
and once we we see it somewhere we know
how to use it actually we use it on
windows on doors on refrigerators on
other things and again once we see it we
are operational we know how to use it
it's a known interface it has a shirt
semantics we know how to use it no
matter what the mechanics are behind
right if the lock is sophisticated if
it's a left side or right side if it's a
window it's a refrigerator all these
things we don't care about it's an
interface it has clearly defined
semantics you just swing this you turn
this handle and you can open something
right that's interesting so we're
talking about an interface shared
semantics it's familiar it's ready to
use and your operational right it's just
an interface now what is it a monad and
one it is exactly the same thing it's an
interface okay that defines some shared
semantics okay so that if everyone
understand these semantics okay then we
will be able to use it no matter what
the mechanics are behind of the
implementation and it has an
implementation so any anyone that tells
you Mona's are patterns or Mona's are
whatever else they wrong monads are
interfaces okay it's an interface with
an implementation in the same sense that
we use also interfaces in Java so just
it's a particular interface that has
some semantics all right so let's
imagine that we have a container just a
container of something right a container
of an A
a be the class of things right it's it's
a container of maybe intz okay or a
container of strings it's a container
okay that might contain something of
type a now it could be a list of A's
right at least is a container it could
be a list of intz list of strings at
least being the container okay that we
know about right so we still simple here
it could be an option of a that's
another type of container okay that's a
window first it's the door for the first
example and an option of a meaning like
it's an option is a type that has two
subclasses being some or none and it
used to represent some something like
nulls we have what we have in Java code
there were nulls but in a more modular
and more composable way we don't care
about this stuff so an option of a is a
it's another kind of container it could
be an option F ain't an option of string
or whatever else could be a tree of a
yet another container okay we are
talking about containers of type a
future of a there's a value that happens
in the future I have this container that
will allow me to subscribe to
notification when the thing comes in
it's still a container of a okay we
understand like there is a container we
have just a container okay now if I have
a function okay a transformation thing
that knows how to transform an A into a
B so if an a is int and I have a
transformation a transformer or a
function that can transform an int into
a string okay that's simple right I just
know how to out of an int do a string
together with the container it could be
interesting actually a nice from this
container to implement something that
can give me a container of be okay it's
very simple if I have a list of A's okay
if I have a list of int for instance and
I got this function that can take an i
and return a string Wow got it get an R
and then it will be nice from this
container to implement a way a mechanism
so that they can transform it into a
container of string right and by
basically what will happen is let's go
and to all the the items in the list and
transforming all over all of them using
this function like very simple got a
container a list of int I and I got a
function that runs from ins to string
and I would like to have a container of
string no and I don't want to care about
the structure of the list what is inside
the list how is it implemented how do
they go through the list all of these
things I don't care it's just an
interface I want to use it and I know
how to use it because I got this
interface if I have it of course now if
I got an option of int the same
transformation function I would like to
get an option of string same thing it's
a container of some type okay it's a
function that transforms this this type
inside and I get the container of the
other type right
very very simple semantics here same
thing for a future of ain't I get the
same transformation function and I want
to get this thing so we see like a cat
some kind of interface right where we
don't want to care about the details of
how these things are implemented we just
wanted to have it there and we know how
to use it we don't care about the
mechanics how we do they implement it we
don't really care right it's the
container guy that will implement this
interface for me and I mean I know once
I see it I know how to use it exactly
like the handle now this is a functor
now we just described what functor is a
functor is just this interface where you
can you have a container of something
and you have a transforming for a
transformation function and you can read
it you can return a a container of the
other time that's all what functor knows
well that's not monent right but we're
almost there so I would like to
implement the functor interface now we
talked about code right so it's this is
exactly the same what you see in here
nothing more complicated we are saying a
functor is an interface trait is an
interface in scanner it's like an
interface it can have some
implementation but that's we don't care
about here and it has this container
okay a generic container we don't care
about what's inside it's like it could
be an M of and and M of
we don't care it's just the container
and that's the map function okay we'll
take a container of a and a function
that transforms a to b and gives a
container of B okay that's exactly what
this we will describe just here right
just we wrote it in encode right now I
would like to implement this interface
okay for a list for instance well that's
very simple I would say okay at least
functor extends the functor of lists at
least been occurred in the container and
now I have to implement it by having a
list of a an A to B and then list to be
right and I have to go through the list
whatever that what's inside the make
endemic any in the mechanics in the
inside the list to transform all the
elements using this function right now
we implemented a functor we can
implement this function for option for
futures for whatever else
now of course I'm playing a an API
designer as a developer you don't even
care about these things and how are they
are defined you just choose them it's
just an interface it's map and one no
matter where I see a map I know exactly
how can I use it this is a functor oh
this is functor I know it's assured
semantics we understand the same things
now so that's what I was saying so I
just don't want to reason about the
container in terms of what's inside it
and not in terms of what is it I don't
want to care if it's an option or Xenon
I don't want to test these cases here's
a function just give me a container of
the transformer this transformation now
we had until we run into a problem now
of course whenever we were working with
these things then I would like actually
I give you a transformation function
that doesn't return a B but the same
container of B for instance I gather a
list of a I give you a list of ends and
I give you a function that takes an int
and gives a list of something a list of
strings now we are kind of stuck because
this using the functor it will produce
exactly this to Louie
it will produce a list of list of things
right the same signature we're using the
same functor and we get this and this is
not very nice it's not very nice because
it's it's complicated at the type like
list of lists of
what does it mean at all I mean list of
lists of ins isn't it list of int so if
you gather an option of option of int
which means I maybe maybe have an int
well it means I maybe have an int right
optionally option I have an int and I
can kind of flatten these things okay
and this is very interesting imagine I
got an option of something and I have an
operation that actually returns another
option so using the functor I'm stuck I
know I need something more powerful that
can also flatten these things okay so in
the in the case of list it gets less
list of Lists of a and the same four
options gets an option of train or a
because I got the option FAA to option
of B gives me option of option of B
that's using the the earlier signature
we're not changing anything here right
now how nice would it be if someone can
implement for me something that also
flattens when I need right not only uses
the transformation but when I have this
signature where I from a two container
of B flattens the container of container
of B the list of list of a because the
list of list of a is a list of a right
it's a list of list of ends then I can
just flatten this list and I have one
list of all the ins content of all the
way these lists right that's that's very
simple okay and that's a moment now you
know exactly what the Mon it is so if we
look at the interface the implementation
and that's exactly the code that we were
showing exactly we didn't add anything
here we say like a monad is an interface
that takes any container okay that you
can define the monad for any container
and I get these two operations one comes
from the functor okay so a monad is a
functor now you know this you can say or
you can tweet about it like a more that
is a functor oh how cool is that and so
you have the map function but you have
also the flat map which is more
interesting in some cases where you need
to flatten things so I get flat map and
I got a one container of a and a
function that takes an A and gives an a
container of B and I get a container of
B instead of feeding container of
container
right that's very simple you can even
implement it yourself now that that code
is the designer of an implementer of a
monad it's not the developer that has to
see this code right it's someone that is
designing a con that implementing a
monad for his particular container right
and that's interesting because from a
developer side um all on what I need to
know is this is a monad oh I can use
flat map or map and I can continue using
this thing forever without any problem
right I could completely transform
things compose things and completely
like use this without any any anything
stopping me almost because imagine this
handle if you take this handle as an
example and if for instance that a
manufacture of this handle will tell you
like well you can only turn it three
times and after three at the third time
you have to turn it the other way around
or it won't work or it should not turn
it three times or whatever so there are
things that are not captured in the
structure right the structure is not
telling any everything about the handle
there are some laws you need to obey to
be able to use to have a good
implementation of of a handle right if
some manufacturer gives you a handle
that has some weird characteristics you
lost the shared semantics shirt
semantics is very important and you
don't want to lose it and that's why
there's there are some things that you
can capture you can implement in the
structure in your implementation and
there are few things you need to verify
to be able to to be sure that everything
will be working fine so some properties
are not guaranteed with the structure
and you need to validate some laws which
are left identity right identity and
associate it really very simple laws
like if you apply it with the idea with
a function that takes the same and
returns the same the turns on our
argument a returns it then it will be
the same Monat and things like that so
very small laws that are not captured in
the structure if as an implementer of a
monad as someone that has a container
and wants to implement a monad you
satisfy these laws you'll guarantee that
you'll have a functioning well
functioning Mona that will never break
while the user is using it you know
imagine you're chaining and someone that
you get some weird state where it tells
you no I can't do that anymore something
you get with jQuery for instance
sometimes when you use to start reading
using the thing instantly it tells you
oh it's not an array anymore and you
have to rewrap it into a dollar so that
it gets back to the jQuery and all of
these things you don't want to have
these kind of weird things happening you
won't like the thing to continue
functioning that's why you obey these
laws and that's it well what about
category theory what category theory is
all there is there just for proving for
you that that this thing it's kind of
hot that the foundation that proves that
this one thing will continue to function
if you obey the laws and that's it and
you don't need to care about these
things you care about them if you're
interested in the proof why this thing
is functional and why is it interesting
as a developer you see a map you see a
flat map you know it's a monad you know
how to deal with it beat whatever
container it is it could be option could
be future it could be tree it could be
IO it could be anything
you just have it assured semantics an
interface and you know exactly how to
deal with that as an implementer we have
a little bit of work to do is just to
implement this interface which we saw
very very simple and you can implement
it for your own mechanics of your own
container and obey obey these three laws
and actually that's it so open for
questions so what I won't like if you
now I guess a lot of people do know what
monads are I guess it's fairly simple
right like we hear a lot of definitions
I try to complicate them but just now
when you see map or flat map you know
exactly how to deal with these things
right Josh you talked a lot about
putting things into the container yeah
get them back out of the container
yeah well that's that's not part of the
Monat so some containers so the some
containers can allow you to get out
things of the container some won't like
the i/o monad will not let you get
things out of it some of them tell you
okay you can get out for in the future
you can't get something out you can
subscribe to a notification when it
happens to and that's not part of the
mechanics of the of the of the monent we
don't care really about it when we talk
about the monad it's the container that
defines something else it could be
another abstraction that will define how
to extract things there are some others
like comonad there are mono is their
foldable there are a lot of other things
too so that you can extract things but
Mona is and doesn't happen to be one of
caring about these kind of aspects
questions okay so far you've been
talking mostly abstractly about the
interface of the mo Ned can you talk
about more concretely what this gives
you is it just you see this thing and
you know how to use it
yeah what are some example monads you
might use I gave you an example of a
list now if T in 15 minutes I can I
don't know what how much time I got but
I can none so so it's like I showed the
list Mona and at this one is very
interesting because it's a very simple
example of a few how you use it you got
a list of things you reason about one
thing as if it were one thing right and
you give a function so you have a list
of ins and you say like okay I can
transform an int into a string which
means like you and the Monad will allow
you or the functor for that matter allow
you to transform the whole list into
list of strings right this is one case
one use case the option was another case
but there are a lot of cases you can go
through there are a lot of examples of
Mona's but they are exactly the same
semantics and you know this transforming
that what's inside the container and re
flattening okay but again in the list
case you don't care about how the list
is implemented it's the mechanics of the
implementation of the Mona right so
since I don't have really much time I
will try it okay just please Christian
tell me when I am you if I don't have
any more time it's already the case
right and I don't see my consoles I
wouldn't you wouldn't make it here
anyway
okay I see something new hmm built-ins
fast come on come on
this is bTW okay so I want to go to
console now go in Megan it's going to
download the Internet
but anyway that I mean you can you can
just search and there are a lot of
examples of different kinds of Mona's
but you need to capture the main ideas
shared semantics so here I got something
if I say like I have a list that got one
two three and I say and probably you
don't see anything right okay let's try
to zoom it dot map and I'm taking an int
and returning a string of God a plus I
and now I get if he transit sometime
soon yeah so I get the list of God I got
I got to get three right and okay I know
I have space here in space here now I
can I can return a list of things here
for each item I'm returning a list and
not in the same container of another
another type so I got a list here of
gotten a and I don't know what Wow and
here I have to use so if I used the the
functor here what I will get is a list
of Lists we see the type here you see
the type is a list of list of string
that's not very nice right I get a list
of list of the first list and the second
list and so on if I use flat map then it
will go flatten it and I will get
something nice which is one list
flattened of all these lists and I can
apply it to options I can apply to
anything right and of course languages
since it's very very interesting and
like this shirts amending is very
general they provide even syntax for
doing that which is for comprehension
whatever they they tend to call them in
different languages C sharp C Scala
whatever the other languages has cool so
thanks okay thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>