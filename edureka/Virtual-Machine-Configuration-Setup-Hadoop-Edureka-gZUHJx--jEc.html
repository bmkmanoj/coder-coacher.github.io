<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Virtual Machine Configuration Setup | Hadoop | Edureka | Coder Coacher - Coaching Coders</title><meta content="Virtual Machine Configuration Setup | Hadoop | Edureka - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/edureka/">edureka!</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Virtual Machine Configuration Setup | Hadoop | Edureka</b></h2><h5 class="post__date">2014-07-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/gZUHJx--jEc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">today we are on our week 2 which is the
second module of this class and today we
are going to basically look at different
Hadoop server roles and how to basically
configure a new cluster how to get a
basic Hadoop cluster up and you're going
to look at how what is the architecture
of a Hadoop cluster how do you read and
write on files on how to Questor so
we're going to look at all of that good
stuff today and so let's get started so
these are topics for today basically so
we are going to look at various service
roles that what are the roles of
different components in the hadoop
system which we discussed briefly
yesterday so yesterday was like mostly
theoretical so today we are going to
actually do real setup so that's we will
see a real demo of how different
components that we talked about
yesterday work we are going to look at
HDFS architecture we are going to look
at MapReduce job execution and then
you're going to look at how a file is
written on Hadoop and how do you read a
file from a dupe how does it actually
happen what's the anatomy what is rack
awareness then you're going to do a
Hadoop installation you're going to look
at male Hadoop configuration files how
do you change the parameters there to
get a cluster up and what are the
different cluster modes and then we are
going to look at some cluster
architecture how it looks like in
production and then we are also going to
look at Hadoop multi node installation
and what are hadoop clients so it looks
like we have a lot to cover today so
let's get started so now let's look at
this cluster modes so now we are going
to start basically installing Hadoop so
when we say Hadoop cluster it can run in
basically three modes
so first is standalone mode which is
local mode then sudo distributed mode
and then there is a fully distributed
mode so before that let me quickly check
if somebody has any more questions this
is one question by one on that what
happens if the job fails after 250 Mb
load so again I will try to correct but
on that we are not talking about jobs
right now we are talking about writing a
data or reading a data so if were saying
is what happens is the job phase after
250 Mb load so what we are saying is if
you have a 400
we file and 250 Mb is written so in case
somebody tries to query that 250 MB data
would he be able to read those blocks or
not so we are seeing that it would be
able to read the block but say after 250
Mb
it was copping say 350th MB of the
copying copying like 300 to 350 MB of
data and during that that write process
fail so in that case the whole the whole
process will fail so the whole hundred
400 MB right will fail and the client
will basically get a failure code and it
will basically have to rewrite that file
so in that case you won't be able to see
that file if the reading the writing
part fails in between but what we are
saying is if safe writing is happening
and out of 400 250 has been successfully
written are you able to query that or
not was the question so you would be
able to query that 250 Mb but and that
time the rest of the data is still being
copied but if that copy job there
basically the copy I would not say job
copied task fails in between then that
250 MB data will also be gone because
writes on Hadoop are either full or none
so you write the entire data or you
don't write the data so when you'd say
Hadoop FS put so if that put phase on
certain blocks then your complete put
command will fail you won't be able to
put that file on HDFS so hopefully that
answers your question when so funny is
asking what is popular out of these
right so we are going to discuss
we this local mode is when basically
don't run any daemon on the system it is
just for like development and testing
kind of mode you don't have any
distributed file system you just
basically you just install basic Hadoop
and then you just do some development
you have some jar files that you want to
run so that's used only for development
process and then sudo distributed mode
means you are going to run all the
machines all the basically demons in
Hadoop system on just one machine and
fully distributed is when you have
cluster of machines and every machine
runs one demon so in production
everybody mostly will have not mostly
100% everybody would install a fully
distributed mode because that's how we
say that a name node will be a one
machine data node would be one machine
job tracker would be one machine and
task trackers would be on data nodes and
smaller clusters name node and job
tracker might run on same host but if
you have a big cluster these all name
node job tracker secondly name row these
will be separate machines and your data
nodes and task trackers will be on other
set of machines which are the slave
nodes so funny saying I have a video
400ma when someone tried to read can
they see the video still why only 250 of
MB so we were talking in terms of like
blocks so when you are trying to
basically use it through the api's when
you try to you have written and you are
trying to read those who the api so you
would be able to read the blocks which
have already been written on HDFS
because those blocks were already the
rights of those dolls are already
complete and they are already available
so one is saying another question is a
commit has to be done in order to see
the complete data right so to commit yes
the commit would be when for the blocks
for when you are trying to basically
write the block so you have multiple set
of blocks right so so so those block
written is being had happen in parallel
so once all the blocks are written then
basically the client will get the final
commit code that your file is now
written on HDFS alright so
let's start with our installation so
what we are going to do is we are going
to use a virtualization environment so I
don't know if you guys were able to log
into our LMS so what I have for example
is something like a Oracle VirtualBox
manager so we are basically you can
create multiple multiple virtual
machines so what we do is we basically
create basically first of all set up
virtualization software like a virtual
manager this is for Mac and then you
also have like VMware players on for
Windows and PCs so you can use that so
first thing is to get VirtualBox manager
so what I did was I just went to
Internet I downloaded VirtualBox manager
and installed it and when I installed it
it opened up this session and it's
basically tells me I can create a new
virtual machine and I can look at those
settings so what I did was I created all
these virtual machines so let's see how
basically we create this virtual machine
so so before that sandy has a question
in case of a failure after 250 Mb or 400
MB block and B file is 250 mb written
rolled back and right process us again
yes so that's what I said that when you
write data to HDFS your data would be
either full or it would be none so in so
the question was more about like if you
are writing and in within the writing
write process is still going on and 250
mb is written so can you read that data
or not so you can read that but save
your writing process failed then 250 mb
is also part of your complete write
process which is 400 MB file right so in
that case the whole file will just go
away and you won't see anything because
the process has failed if the processes
would have completed then you would have
been able to see the whole phone and MB
file so in that case client will
basically get a failure code and it will
have to basically rewrite and get the
new block some name node and write the
process write the file again for
anything you have VirtualBox so that's
good so now I think do we have any
sizing combination for distributing
services while configuring cluster in
prod yes so Neera no and that's also we
are going to discuss in our today's
after we are done with
we are going to look at the cluster
configuration and see what should be the
sizing and what are like some general
like recommended and used configurations
for sizing in production so Ashok hi
Ashok so I show up do you have a
question can you explain to us some
right so shock we are going to go as now
we have started the installation right
so we had that's this is what we do we
are we are going to discuss for next
half an hour so this will answer your
all those questions so pseudo system
Ashok is saying can I explain the pseudo
system once again right so I'm actually
going to demo this as we go so we are
going to now start the Hadoop
installation so initially you're going
to start with the first mode which is
local mode and then we are going to go
with studio and fully distributed port
so let's discuss each of these one by
one
so stood stand alone hopefully everybody
is clear that we don't run anything I'll
show you how it works then pseudo
distributed means run everything on just
one machine fully distributed means the
real production scenario that's the way
how Hadoop is run that you have multiple
machines one machine is running one kind
of role so name node is running on one
machine job tracker is ending on another
machine your second Ninian reasoning on
another host and yet then you have your
slave nodes which run data node as well
as tasktracker
so you'll have basically says suppose
you have ten machines so one machine
would be name node one machine would be
job tracker rest it would be your data
nodes and task trackers so that's
basically means fully distributed
machine the distributed mode so so
hopefully I showed is this is clear now
so sudo is not sudo is dev or it is used
in for example you are say just doing a
POC and you are running something for
example if I am trying to set up a small
Urdu cluster I might set up a pseudo
distributed mode to just test things so
sudo is also kind of a dev so in
production or when you guys have to say
you have real data and you want to test
Hadoop cluster then you'll usually
always have fully distributed mode all
right
let's get back to our virtual manage
virtualization environment so this is
how we are going to basically do the
Hadoop installation so so everybody
would also listening need need to have
the software virtual box or you can have
vmware from windows so what you would do
is you have to basically we are going to
create one virtual machine for each of
the daemon that we run in the system so
so what you do is you basically click on
new and then you can basically create a
virtual machine for example I am trying
to create a machine I'll say say lab 1
and you could give the type of ways that
you want so because virtualbox lets you
is a virtualization environment so it
you can basically install any kind of OS
so since Hadoop runs on Linux so we are
going to go with Linux and then you can
have different flavors of Linux you can
have Ubuntu you can have basically Red
Hat you can have Linux you can have send
to us so we are going to go I am going
to do it with sent to us so far sent to
us you see like basically other Linux
and 64-bit then you click on continue it
tells you how much memory you want so
you can go with any basically value
based on the size of your laptop or your
wish machine so I have a 16 gigs
basically Ram so I can make it 2 MC 512
or I can make it 1 MB so you can just
increase the number you can move this
bar left to right so while for time
being I will let it stay 512 MB and then
I continue and then 3 tells that it is
going to create a virtual hard drive so
you can either say no or yes so so
basically just keep on creating this and
then it does ask you what type of drive
you want so you can see these different
options so usually it's recommended to
use VMDK because VMDK is interoperable
between the watch but should basically
VMware Player and this way if you goes
to for example you want to move this VM
image to a Windows machine if you have
VMDK it would work but if you use basic
PDI it won't work so you date's
advisable to use
VMDK and then it's saying the hard drive
you want to make it fixed size or
dynamically so usually it's good to
leave it dynamically because it will
just then shrink or basically increase
based on the space when it's needed and
then you can give the name of the hard
drive and then you can say what with the
maximum size of the hard drive so it is
saying eight right now and then you just
click create so you can see that now it
has created a new virtual machine for me
which is called lab 1 and since I have
not done anything it just it was a very
quick machine and so it just created it
so now I can go here and look at the
settings so it will have all the
settings that I basically initially
created so you can say that I specified
a Linux machine and I said the Linux is
sent to Ayres and then on the system
side it tells you how much memory you
have allocated to it on the storage side
it tells you how much storage you have
you have said maximum 8gb and then on
the network side you can basically tell
what kind of network adapter it will
have so you can you have the options of
nat bridge adapter and then you have
host-only adapter so nat means that when
you have a vm on that basis you cannot
talk to internet because it will be
behind a firewall and it will basically
assign the net IP to it and then bridged
means that it can basically talk to
Internet and can talk to your laptop
also and host only means it can only
talk to your laptop it cannot talk to
Internet again so in mostly it's good to
make it bridged so that you can
basically get files from your laptop to
your virtual machine so that's so we
will make it brushed and and then we go
under storage so here we can see that
the controller so you have to basically
now you have to basically tell what
image you are going to use to for making
this VM so if you are making a sent to s
so basically you go to send to s website
and download the image so I download a
minimal image and there's a DVD image
also so
I'll say that okay please install this
sent us server on this so basically I'm
now just specifying the parameters that
I need for this virtual machine and once
I do this now I can basically go here
and so that'll say press ok and then I
can start this virtual machine so when I
start this machine now this is a new
machine it will start installing the
Centaurs because I just gave my email
just sent to us so you can click on
enter and it will start the installation
so you can see that it is going to just
now start the OS and basically install
the file system and then try to make the
hostname and I'll ask you certain
questions just just continue on those
questions say the begin testing you can
say skip or just sauce insulation so
I'll say skip and so it will start
installation so say welcome to sent to
us it will tell me what language where I
want so I select English and keyboard
selection I say us I'll just go by
default and is saying that it's asking
me to reinitialize it and he initialize
everything so I'll just press my arrow
key and go to reach initialize click
enter and time zone I will stay leave it
as it is press ok tab to move to ok
button and then press ENTER and then
it's asking me passwords so I'll enter a
password for this machine so make sure
you remember this password click OK and
then it's asking that is going to
replace everything or existing on this
machine because it is a new VM so I can
just say yes I'll just press tab and go
to ok button and then it is saying that
it's trying going to write this changes
to disk so I again say enter on this and
now you can see it is started creating
the filesystem and starts basically
installing the OS so this is how
basically you will start do a oh s
installation so this process is going to
take some time so what we did was I
did the steps and now I already have a
basic scent OS virtual machine up so ran
is saying can you go back to the disk
image step disk image step if you meant
this question where do i where do I find
sent was install you adjusted so
basically if you look under controller
this is where you go to you specify the
CD or DVD drive where your OS is so when
I did my started my installation I
clicked on this so I basically have
already installed so when you have your
OS install you it feels basically now it
is finding it out from my previous
basically it's remembering it so what I
did was you if you don't have so what
will happen initially is you will click
on this and you will only see choose
this option you won't see rest of these
these are seeing there because I have
installed these images previously and it
see them in the history so you will
click on this and you will choose find
the location where you downloaded your
image and you just click on that and
then press it will you press open and
then you will see it in this list and
once you do that it will be assigned to
this controller and that's the image it
will use when you start this VM here so
where this thing I download full version
that's that's fine it basically if you
have enough hard disk space so that you
can download the full version also I go
with minimal because I don't really need
full version because my like I'm just
running basics sim so is able to hand
the minimum is able to handle and if I
need something else I just download that
particular package so and fun is saying
are you sorry I will have three nodes
like name but record and not yes funny
so right now we are doing one
installation so we'll going to go
through each of these steps so yes I'm
going to show you the sudo distribute
mode as well as full distributed also so
let's see so fine saying I see you
already have them in your iam right
because this process takes time so
that's why you I wanted to show everyone
how to create
vmon how to start it and then basically
we can proceed so now basically it says
that your centers installation is done
and you can basically reboot it and then
your machine will come up so now your
machine is ready so that's how basically
you will basically create this and then
what you can do is you can basically
either clone this machine so you can
even clone this machine so once I turn
this off I would be able to clone it or
you can just repeat the same steps and
just create multiple virtual machines
and because whenever you create it
initially they will all be powered off
so they are not going to use your memory
only when you have them running they
will basically be using though basically
your memory so your whole system's
memory so then you basically enter the
password that you selected and then it
will bring you to the prompt so so this
is how basically you have this he set up
a minimum virtual machine and you have
like this is like a host now like a
Linux host where you can install your
name node you can install your job track
or you can install your data node so
right so val is saying we have to find
sent to as minimal install so you can
basically just go basically on internet
and you can see you can say for example
here you can say sent was minimal
install so you can
you couldn't go two mirrors and based on
the place where you have you will you
can select on one of the mirrors and
when you click on that these mirrors you
will see there is minimal there is
complete and there's live beauty so live
DVD sometimes does not work so I'll
suggest use minimal or you can use this
bin DVD so so based on so you can see
that the full DVD is 4.2 but minimal is
just a 98 MB so I just went with the
minimum because that serves my purpose
so so that's how I basically now have a
basic host up with a OS system so funny
is saying what is always recommended for
name node jobtracker
and data nodes so funny that again
depends on organization to organization
so mostly it can be in any flavor of
Unix Red Hat is most recommended then
but people use sent to us also because
it is open source and it is it does not
require any support and lot of you can
see that all the technology companies
they use send to us and you wouldn't do
but all the companies like finance
companies where they want uptime all the
time they have Red Hat say contract they
will go with Red Hat so it would depend
on company to company so you see that a
lot of people is a mix of Red Hat sent
to us anyone to</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>