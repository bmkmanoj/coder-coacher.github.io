<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Time Series In R | Time Series Forecasting | Time Series Analysis | Data Science Training | Edureka | Coder Coacher - Coaching Coders</title><meta content="Time Series In R | Time Series Forecasting | Time Series Analysis | Data Science Training | Edureka - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/edureka/">edureka!</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Time Series In R | Time Series Forecasting | Time Series Analysis | Data Science Training | Edureka</b></h2><h5 class="post__date">2017-07-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/wNB8AgZPFLU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys welcome to this yet another
exciting live session from Eddie Rica on
data science today's session is going to
be all about predicting the future in
rusting isn't right
and we are going to do that using the
time series algorithm all right so
without wasting any more time let's move
on to the agenda to see what all we'll
be covering today so we'll start off our
session by first discussing why do we
need time series analysis right and then
we are going to move or not move on to
what is time series analysis
exactly.you and then we're gonna see
when not to use time series right or
what are the cases in which you should
not use time series analysis after that
we are going to discuss few of the
components that time series algorithm
has and towards the end we'll be doing a
demo all right so I hope the this agenda
is clear to you guys and before moving
ahead guys I want to know are you guys
clear with the idea of maths right I
don't want to scare you with scary math
today but I just want to get an idea add
to what extent I have to explain the
concepts today so can you please confirm
me in the comment box with your reply so
I repeat are you guys familiar with few
of the concepts of maths such as what
does mean what is variance what is
covariance right and how many of you are
familiar with the data science
background
all right so as you can see that Avinash
is saying he's clear so it's a J Manish
Avinash reso vanassa's absolutely I like
your confidence Avinash all right so
let's move ahead and start start off
with our session so the first topic is
why do we need time series analysis so
for those of you who are not acquainted
with data science there are quite a few
algorithms and data science which can
predict values all right but why do we
need one more algorithm called the time
series algorithm to predict value so
let's see with that so if you would have
notation of the other algorithms such as
the linear regression or logistic
regression there were two variables
right one was a dependent variable and
one was the independent variable so you
used to predict the dependent variable
based on the values of the independent
variable for example a particular value
of x you used to give a particular value
of x and you should see what will be the
value of y but in time series analysis
the sceners that you will be given only
one variable and you have to predict
that when one variable now imagine if
you just have one variable how will you
predict it right and the only thing
which will be given in the data set is
in accordance with the time that is
their rights for example if I owned a
company I owned a car company I owned a
car company and I say that last month I
sold around 23 cars this month
I sold many what is the sales
that I'll achieve in the next month
right
so in these cases you would have noticed
that the only variable that I have is
the sales part right I don't know what
is the so I don't know what is the other
variable that I have to depend on the
only thing that is there is time right
so I have to predict for the next month
so same as a seen here you use time
series analysis when you have only one
variable and you have the time as a
second variable that you will be
predicting the value from all right now
this is why you use time series analysis
and let's now understand what is time
series analysis
exactly alright so time series is a
series of data points indexed in a time
order alright so it's a series in which
you have indexed the points according to
a time order now you use a time series
algorithm to create a model right and
once you have created that model you use
that model to predict values right you
you predict the future values whatever
future values you you have right
whatever it depends on your use case so
this is what is time series analysis is
all about you create a model you give it
the inputs of the earth past and you
predict the future values alright moving
ahead guys now this is where you use
time season as I so told you whenever
there is a time component you use the
time series analysis been wet but when
do we not use time series analysis so we
don't use time series analysis whenever
the values are constant all right so for
example I say that my companies sold 23
cars in the past month 23 cars in this
month tell me what is going to be what
is the sales that is going to be in the
next month so right so in this case my
number of cars is same for the previous
month and this month as well right so
there is no need of any analysis kind or
there is no point of putting an analysis
over here because it's kind of obvious
and if even if it is not obvious maybe
there is something that is going to be
there next month maybe there's going to
be a discount next month or something
like that but all of those parameters if
you cannot include in your analysis
there's no point in putting that
analysis right and specifically time
series analysis because it is all
dependent on time having said that so
like I said if values are constant you
cannot use time series analysis
similarly you cannot use time series
analysis if you have if your value is
represent can be represented using a
function for example the sine X function
right so if you have the x value you can
get that value using by putting it in
the function now you can apply time
series analysis on this as well but
there is no point because you can you
could have got that value by putting it
in the function itself
they chose like the sine
value or the Cossacks value or any other
formula for that matter right so there
is no point in doing time series
analysis if you have a formula before
that okay now this is the scene when you
should not use time series analysis but
what are the cases in which you cannot
use time series analysis in the sense
you cannot do time series analysis if
the data is like that so there's a
concept called stationary so if your
data is not stationary or your data
series is not stationary you cannot
apply time series analysis on that all
right so what is stationary so if so
being for the series to be stationary
there are three conditions so the mean
should be constant according to the time
alright
the variance should be equal at
different time intervals from the mean
so what now for those of you the mean is
basically the average right for those of
you who don't know what variance is it
is basically the distance from the mean
so each point distance from the mean
should be equal at equal intervals of
time and that is what variance is all
about that is how far each number is
from the mean all right so this is what
variance is all about then you have the
covariance so that should be also equal
so if these three conditions are met
then only we can say that a my series is
stationary and then I can apply the time
series analysis alright so let me give
you an example so guys this is my R
console right now if I want to find the
mean so let me first show you the data
that I have right so this is the graph
that I my data is representing so
basically I'll be doing my time series
analysis on air passengers today alright
so this is the graph that air passengers
data has right now and if you want to
see the data set this is how the laser
looks right so we have data from 1949 to
1964 each and every month
and we have to predict for the next 10
years what will be the sales or the
tickets
we'll do that today so okay so for now
we are concerned with the mean what does
mean so mean is basically the average of
the points you'll because you'll be
calculating the average of these two
points and you'll be pointing you'll put
a dot here
similarly you put a dot here and you'll
pass a line through it so let me show
you how that line will actually look
like now this is the mean guys this is
the mean that I have plotted so as you
can see the mean is changing according
to the time frame so if I talk about the
ears my mean is changing right it is not
constant for example in 1950 the mean is
increasing from 1950 to 1952 my means
value has increased it right so this
means value should not be increasing it
should but should be constant so this we
have to look at and then we let's talk
about variance so variance is like I
said the distance of each point should
be same from the means for example this
particular point over here or let me get
a bigger wave so this particular point
and this mean if this is the list in
distance then this particular point and
this mean should also be the same but
that is not the case right now so we
have to transform a data so that our our
variance becomes equal all right so that
is what we are going to do right now so
if my variance and my mean and my
covariance they become equal my data
series becomes stationary and hence I
can apply time series analysis on that
alright so this is the D this is what
you should be clear till now if you are
clear till now the journey ahead is a
cakewalk guys there's nothing tough to
what is going to be there in time series
analysis all right so let's we've
discussed what cases we should not apply
time series analysis to and when which
cases there there's no point in applying
time series analysis now let's move
ahead and understand the components of
time series all right
so when you talk about the components of
prime Series guys there are basically
three components you have the general
trend then there is seasonal and there
are irregular fluctuations so let's
discuss these three components in detail
so the first thing is the general trend
so a general trend is basically how are
your values going are they increasing or
other decreasing alright so let me give
you an example by showing the graph so
let me go back to my al console and let
me give you a trend all right so guys
this is the trend that my values are
going through that as my values are
increasing every year and that is how
the trend is going now my trend can be
either upwards or it can point downwards
alright and it's a component of time
series now you can see that in the data
set as well that my values are
increasing and hence the trend is owing
going upward alright so pretty simple
this is what general trend is all about
and then we have seasonal so what is
seasonal data or what is the seasonal
component so a seasonal component can be
understood something like this so you
have an airline company right now you
would have noticed that at every
festival there is going to be a peak in
the number of commuters that are going
to take a rail line for example near
Christmas a lot of people will be going
home and hence there will be a spike in
your in the number of people who'll be
traveling through your airline and hence
you would have also noticed that
whenever you try to book your tickets in
the peak times that is during Diwali or
during Christmas that the fears are
quite high and they are high because the
airlines they have already speculated
that at this particular time my number
of passengers would be more and hence
there and it is imperative for you to go
home right and it doesn't matter how
much cost they are asking you and hence
that is the time that the airline makes
the maximum profit right so this is the
seasonal part that I'm talking about so
in a year how many Peaks do you see so
if there are two festivals in a year you
will see Peaks twice in a year if there
are three festivals in a year I'm
talking about the airline's perspective
guys so if there are three five
Stables in a year you'll see three times
that the peak is going to be there so
this is called the seasonal component of
your time series analysis and then comes
the error in the irregular fluctuations
that is the random component that is
going to be there in time series
analysis so what is time they're a
regular component the regular component
is basically a regular component is
basically something like say in November
you have fog and hence a lot of flights
were canceled right and the number of
commuters hence coda goes down but it is
not going to be the same case and say
the next year maybe the next year the
fog is not going to be there all right
so it is not something that is repeating
every year right it is something that is
not in our hand right it is something
that there are uncontrolled
circumstances so when when we talk about
these circumstances these are called the
irregular fluctuations that you have in
your time series analysis all right so
guys these are the three components that
we are going to deal with when we when
we are going to end that analyze today
all right so let's start with the
analysis now so here it is guys so first
of all you will be importing your data
set right so this command does that so
you'll be passing data and then air
passengers so we have imported the data
set now now if you want to know what
class our data set belongs so for
example our data set belongs to the time
series class so we can check that using
this particular command and you can see
that it shows TS which basically means
time series and then what is the start
of the time series it can be checked
from here end of the time series can be
checked from here so it says 1949 first
month s is January 1960 last month that
is the sample all right frequency so
frequency basically tells you the
intervals that you have so there are 12
months and hence you have 12 intervals
summary of air passengers that basically
gives you all that regular thing that is
the minimum cause the maximum value the
median value and everything all right
and like I said so this this particular
command will give you the mean right it
gives you a mean of your time series
analysis so
that is it guys now let's go on and
understand this particular part this is
the most important part that is so it
gives you a boxplot all right well let
me zoom it out for you so guys this is
the box plot and in this you can analyze
in that particular month I was
experiencing the maximum traffic or the
maximum passengers were travelling so
for my data of 11 years I can see that
every year the number of people who were
going more or people who are traveling
more is in the month of August so seven
means August so in the month of August
and in the month so in the month month
of July in the month of August my number
of passengers who are traveling among
all right so I can this is the
seasonality part that I was talking
about
so with this graph you can check the
seasonality and similarly you can check
one second yeah so see similarly you can
check the trend of your data
right so if I execute this particular
line it will show you this trend right
now I have to convert this particular
function or this particular series to
stationary for so and as of now it is
not stationary as you can see right the
mean is also increasing the variance is
also not equal like I showed you right
so moving ahead guys now let's make it
stationary
so for dealing with variance part first
we'll be applying the log function so if
we apply the log function and what
basically does is it'll make the
variance equal let me show you how so if
I go if I pass a mean line now from here
the variance is going to be equal so as
you can see this distance and this
distance this distance and this distance
they're almost equal let me zoom it out
for you right there all equal now so if
a pass a mean line from here each point
is going to have the same distance at
each interval of time alright so this
can be done using the log function
all right now similarly not the only
hurdle that I have right now is that the
mean is still changing according to time
right so I want the mean to stay
constant according to time so that my
series becomes stationary so the way to
do that is differentiating it so I'll
type in di FF which is the command for
differentiating and I plot the graph now
so as you can see the graph is now the
mean is now constant according to time
so if a plot the mean line from here it
is going not going to change with time
as the same time my variance is also
going to be the same alright and this is
what I wanted so much my series is now
stationary and I can now apply the model
on it the time series analysis mode
model on it now when it comes to
modeling guys there are quite a few
model
that you can apply to do the time series
analysis you have the ARIMA model you
have the whole printers model etc today
we are going to cover the ARIMA model so
let's discuss what ARIMA is right so let
me first so ARIMA is basically an
acronym let me tell you what the full
form is right so let me go here and type
in our email for you so it is a our
capital i and then ma right so a R
stands for autoregressive alright ma
stands for moving average and I stands
for integration
alright so AR what is auto regression
auto regression is when you are seeing
the pass values to predict your own
value that is called Auto regression
moving average there is a formula for
moving average using which the you take
different intervals and you calculate
the average right you can go ahead and
search what moving averages or you can
also check out one of our videos in the
data science which talks about this
particular thing alright so I'm skipping
this part right now because then our
session is good not going to end so I
for those of you who don't understand
what moving averages it is okay guys
because what we want to know is the
inference we have to derive the the
values from the graph alright and that
is what we are going to do so for your
understanding
AR means auto regression mme is moving
average and i is integration so with all
with these three we have values all
right we have some values associated so
with AR i have the value called p with i
i have the value called D and with MA I
have the value called Q so whenever I am
applying the ARIMA model I have to go
ahead and include these three values as
well and these values I all I have to
get from the graph that we are going
that I'm going to show right now it is
called the autocorrelation function
graph right using that graph we will
determine what is the value of P what is
the value of Q and what is the value of
D
so let me show you how you can do that
so first let us see the autocorrelation
function when we are not applying
anything to our series when you have not
transformed as it is so stationary so
this is the graph as you can see the
values are exceeding the blue line
alright so our aim is to keep it under
the blue line and invert so whenever so
let me show you how so if I apply the
differentiation and the logarithmic
function to my data series and call the
ACF function which will plot the AC of
graph I will get a graph like this right
so when I get a graph like this now with
ACF I calculate the value of Q as you
can see in the comment we I will
calculate the value of Q Q is the
coefficient for MA alright that is the
moving average so how I can calculate Q
is like this so I see the first line
right it is crossing the blue line so I
skip the sign I'll see the second line
I'll skip this line again so the first
line which gets inverted alright so for
example this is zeroth line this is the
first line and this is the second line
so the line which gets inverted just
before that the line which is there we
have to take that value so for example
for for example this is the zeroth line
this is the first line there is a second
line right so we will be taking the
first line or the one value so the my
value of Q will become one now there is
a lot of match behind this particular
graph guys but since I am NOT going into
the formulas this is the easiest way to
understand how you can calculate the Q
value and the p value all right so like
I said I'll repeat it again this is the
zeroth line this is the first line and
the first line which gets inverted I
will take that particular line and I
will take the number which is presides
to the previous line for that
for example the zeroth line the first
line and the second line the second line
gets inverted hence I will take the
first line and hence the first value
alright so the value of Q becomes 1
now let's check out the same the same
method will be applied in the partial
autocorrelation function graph for his
well and from that graph I will get the
p-value all right now as you can see
this is my zeroth line alright and
immediately after my zeroth line my
first line is becoming inverted so hence
my value of P becomes 1 all right so
sorry man the value of P becomes 0
because this is a zeroth line right so
my value of P is 0 my value of Q is 1
and my value of B so D is basically the
differentiation that you do in your
function so for example my time series
algorithm I did differentiation and
hence I got the mean to be equal to or
the mean not changing mean constant to
my time line right so the value now you
can do differentiation multiple number
of times so I have done differentiation
only once and hence my value of D will
be 1 if you do differentiation twice my
value of B will be 2 if I do
differentiation thrice my value of B
will be 3 so you do that until and
unless your mean becomes equal or your
mean becomes constant all right and
hence that will be the value of your D
so in my case the value of D becomes 1
so my value of P is 0 my value of D is 1
and my Q value of Q is again 1 so I'll
be using that in my ARIMA model so here
comes our model now so I'd be applying
all of that so this is the the PDQ
values that I was talking about so when
you pass this particular function right
you will be specifying the PDQ values so
this is a p value your D value and your
Q value so these parameters change
according to your data set whatever days
are said you are taking these parameters
will change and you have to get these
values from the graph and hence put them
here all right
so in my case like I said PDQ are 0 1 1
so I have put them there according to
that and you would have noticed that are
not adding that differentiation part
here that is because I have already
specified the ARIMA model that differ
she ate this particular data set once
had a not specified had a specified 0
over here in that case I would have
mentioned that differentiate this this
thing as well all right so I'm not
putting that because I've already
specified one over here all right so let
me pass this line so this creates my
model and now I will be predicting
values for the next ten years all right
so you'll be specifying 10 over here if
I want to specify
predict for the next 15 years I will be
specifying 15 over here so it will be
this so it will pass it into the predict
function it will this is the model that
we have created and this is the time
frame that we want our model to predict
to so we want it for 10 years and ends
I've specified 10 years and then I once
I have predicted that now remember guys
this is the most important part that
your values are in logarithmic form
right so to convert them into the
decimal form you have to use the e value
so the e value is 2.718 so for seeing
the values I have to pass this
particular line which will basically say
it says e to the power of the value of
the predicted value all right so let us
see the predicted values and here it is
alright so I had my data set in 1960 if
you guys saw and my data set and my
analysis has now given me the values
till 1970 so it says in the year 1970 in
September I will have these many
passengers who will be traveling by air
similarly in 1961 for the value of
January these many customers will be
going through air all right so this is
what my model predicted now I can also
test this model and before that let me
plot this as well so let me show you how
it looks in the graph so I had value
still here remember and these dotted
lines is what I have predicted for the
coming years to to be there now in this
model you have taken care of this
vanity factor you have also taken the
care of the irregularity factor and have
also taken care of their trend all these
three factors combined
you have predicted the values for the
future and this is how your future looks
like till 1970 this is going to be at
peak value all right okay now we have
created the model let's test this model
so what we are going to do now is we are
going to take a data set till 1959 and
then we are going to predict the value
of 1960 and then we are going to
validate that value of 1960 from the
already existing value that we have in
our dataset all right
so that let us do that so first let me
recreate my model to 1959 all right so
here it is let me show you the data set
that I'd be working on now it is 9 till
1959 so my data set does not have the
1960 value now right now I'll be
creating the model out of this
particular data set all right done now
I'll be predicting the values and
changing the value is to decimal form
done now let me show you the value for
1960 so these are the values so now you
would have noticed that they are in
decimal or because of the calculation
part but we can round them off right so
let me first get the 1960 values alone
so that it becomes easier for us to
understand right and then let me round
them off with this particular command ok
so if I see yeah so now I can see it
pretty clear that my value for January
of 1960 is 419 for February its 399 for
March its 466 and so on all right let me
go on to the original value now so if I
compare it with the original value one
second so this is my original value guys
so originally in 1960 January 417 people
whew and according to my model
419 people for you but it's pretty close
same is the case with February
originally 391 people for you and I have
predicted 399 people will fly so as you
can see that is there it's it's
strikingly amazing that you can actually
predict close to almost close to values
for the future right and if you would
now you would be thinking is this really
use is time series analysis really use
let me tell you it is actually used and
very widely used in industry for example
say I have a call center company say I
have a run an e-commerce company and my
customers called me on a daily basis and
I have to adjust the shift of the people
right so say they're around 100 people
now and I have total of 100 people which
can handle the maximum traffic all right
so I'll see at what particular times say
for example at 4:00 p.m. I get around 20
customer calls but at 8:00 p.m. I get
around 60 or 70 customer calls right so
I can all I can predict that for
tomorrow and I can arrange the shift of
people according to that because my
employees will not be working with me
working for me for 24 hours right so I
have to I have to adjust the shift so as
to I can match the needs of the
customers and I can predict how many
customers will be calling me by time
series analysis and this is the actual
use of time series analysis right so and
this is it guys we predicted the value
for 1960 and we saw the original values
and we came to a conclusion that these
values are actually close and hence our
analysis was correct all right so this
is it guys let me come back to my slide
so guys thank you for attending today's
session I hope you learned something new
today
now before ending the session let me
quickly show you the data science
offerings that we have all right so guys
we offer data science course as well to
people so if you are interested you can
go
to this particular site might be my team
will be commenting it in the comment
section that is that the CLP you are a
link so we have we offer flexible patch
timings that is we offer priming the
night as well and we offer timings in
the morning as well because we
understand you're professionals you
don't have time you have to work in
office as well and then learning it on
your own make may become burdened for
you and that's why we have flexible
timings and we have weekend and week
they're batches as well so you can look
at the course details over here you can
also go to the course description to see
what all we have included in a course
what are the projects that you'll be
doing once you have done the course etc
right so this is it and then we have a
blog in sections first for those of you
who want to learn them or learn it on
their own you can always visit our
blogging section you can check out our
different blogs that are there in our
data science course and also on YouTube
we have a very big playlist of around 52
videos in which we have we have tried to
explain the basic concepts of data data
science so if you are a learner who is
keen to learn data science you can go to
a YouTube page and learn all of this
alright ok so guys with that thank you
for attending today's session like I
said I hope you learned something new
today and please also to be updated on
our upcoming live sessions you have to
subscribe to our channel so you can
click on subscribe and once you click on
subscribe you will have this belacan
right click on this bell icon to get
notified for our next live session
alright so thank you guys and have a guy
nice day ahead goodbye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>