<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Ansible Tutorial | What is Ansible | Ansible | DevOps Tools | Edureka | Coder Coacher - Coaching Coders</title><meta content="Ansible Tutorial | What is Ansible | Ansible | DevOps Tools | Edureka - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/edureka/">edureka!</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Ansible Tutorial | What is Ansible | Ansible | DevOps Tools | Edureka</b></h2><h5 class="post__date">2016-12-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/XJpN8qpxWbA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey everyone this is Rishabh from Eddie
Rica and today's session is going to be
all about ansible I'll tell you how to
install ansible and how to write simple
configuration files using ansible but
first I would like to thank and welcome
all the attendees for joining today's
session so without any further ado let's
begin ok let us first look at the topics
that we are going to deal with today
I'll tell you what ansible is then we'll
take a look at the different features of
ansible you'll learn the differences
between a push based configuration
management tool and a pull based
configuration management tool we'll also
take a look at the architecture of
ansible you'll learn how to write
ansible playbooks and use different
modules that ansible comes with you also
learn how to write ad hoc commands in
ansible and after that we'll have some
fun with hands-on where i'll tell you
how to install ansible and how to write
simple configuration files with ansible
which are nothing but play books written
in llamo code so I hope that this agenda
is clear to everyone so guys give me a
quick confirmation on the chat window ok
I you she says yes
Vardhan sod up shabam
ok so I think we're good to go so first
topic is what is ansible well ansible is
an IT automation configuration
management and provisioning tool I know
guys that these might be a lot of words
for you but let me break it down so that
you can understand it better now
provisioning means to provide or supply
something that is needed and ansible
here does the same thing to your
application and so we'll make sure that
all the necessary packages and all of
the software's are downloaded and
installed in your computer in order to
run your application ok let's take an
example to understand it let's say that
I've got a debug version of an
application that is build on visual C++
now if I want to run that application on
my system I would need to meet some
prerequisites like for example I would
need those Microsoft Visual C++ library
TLS and also I would need visual C++
installed in my computer
so this is the part where answer will
make sure that all these necessary
packages and all the software's are
installed in your computer so that your
application can run and it doesn't mean
that ansible will only download it in
just one of your system ansible will
make sure that all this packages are
ready and installed and downloaded
wherever you were intending to run your
application into it maybe in the test
environment your production server
anywhere and configuration management
means managing your software on top of
your hardware a configuration management
system like ansible
also holds all the historical data of
your application so if at any time you
want to roll back to the previous
version or you want to upgrade it you
can easily do that with ansible
let's say that I want to install the
same visual c++ application on hundred
of my machines so what will I do will I
go to each of my machine and install it
manually no it will take up a huge load
of time and it's bound to errors so what
I need now is a tool that can help me
configure all my systems at one go and
ansible can help you do that
all you have to do is write all your
configurations in a playbook run that
playbook and it will get deployed in all
of your systems in one go so this is the
power that ansible gives you an IT
automation means automating your entire
IT infrastructure ansible is a radically
simple idea automation engine that
automates your cloud provisioning
configuration management your
application deployment inter service
orchestration and many other IT needs so
ansible will help to manage your
application from the building process
and in the testing and while it's
getting deployed in the production
server as well so ansible can take care
of everything and all you have to do is
just write a simple playbook even if
those tiles to look pretty heavy but
actually you just have to write a few
lines of code in your playbook and just
run that playbook sit back and watch the
output so it's very easy and it's very
powerful as well hope that everyone is
clear with this topic
okay I've got a question from burden
here so further near ask that does
ansible helps to test your software the
same way that other testing software
like selenium does well Vardhan it's a
very good question I must say and to
answer your I will tell you that no
ansible is not a testing software like
selenium what I meant to tell you when I
said that helps in testing is that it
helps to provision your application
throughout the testing process it
provisions your application from the
start in the building process provisions
it in the testing process and while it
is getting deployed in the production
server so ansible provisions your
application from the start of the
lifecycle till the end that is what I
meant so I hope that verdun you've got
your answer please give me a quick
confirmation on the chat window okay he
says yes so I hope it's clear to the
others as well so we should proceed to
the next topic where we'll see the
ansible features now let me tell you
that ansible actually provides you with
a lot of impressive features so let's
take a look at them one by one the first
that it's agentless it means that there
is no need for any kind software or any
kind of agent for managing your notes
unlike puppet or chef you need to
install a puppet agent and chief client
on all your node machines but for
ansible all you have to do is just
install ansible in your control machine
and you're good to go after that it's
built on top of Python and helps
provides a lot of pythons functionality
of course when you're installing ansible
you'll see that Ayten is getting
installed in your system too so you can
easily use tape to download or install
any Python packages and pip is a Python
package manager so you can use all other
Python functionalities in ansible as
well and it uses SSH for secure
connections now SSH is a very simple
password list Network authentication
protocol it's very secure as well all
you have to do is just generate a public
key in your control machine and copy the
same key on to your node machines and
voila your can
is established it is that simple and it
is also very secure danceable follows a
push based architecture for sending
configurations now in case of ansible
whenever you want to make any kind of
configuration changes on your nodes all
you have to do is write down those
configurations and just push them all at
once in your notes so it gives you full
control on whenever you want to make
changes on your notes and also it's very
easy and fast to setup and needs very
minimal requirements of course when I
show you how simple the installation is
and I am simple writing playbooks are
I'm pretty sure at the end of this
tutorial you'll all agree with me on
this last point so I hope that everyone
is clear with the ansible features guys
give me a quick confirmation on the chat
window so that I can proceed further ok
I've got a few yeses let's go to the
next topic which is the push based
versus pull based now tools like puppet
and chef are pull based configuration
management tools whereas ansible is a
push based configuration management tool
now in case of puppet and chef there
agents present the agent software that
puppet has is called puppet agent and in
case of chef it's called a chef client
so what this agent actually does is that
it keeps on pulling the central server
periodically for any kind of
configuration information and whatever
it finds any kind of configuration
information it pulls those changes and
then gets them affected on your node
machines whereas in case of ansible
since there are no agents present
whenever you want to make any changes
you can make those changes directly you
can push those configurations directly
whenever you want like I told you before
you have got full control on it you'll
have to depend on an agent to pull those
configurations ok I've got a question
from IU she she asks that are there any
other pull based configuration
management tool available well yeah of
course I see there are other pull based
configuration management tools tool like
you have got cobbler and you've got
cfengine
actually they are not as popular as
puppet and chef so I have not mentioned
them in this slide here but of course if
you want you can explore them as well
but if you are thinking of using a
pulley based configuration management
tool in your project I would definitely
recommend you to use either
of op ed or chef for that so let us now
get back to the push based versus pull
based and let us see the difference in
the architecture of a push based in a
pull apiece okay let's see what we have
here in a push based configuration
management system so I've got my version
control system here which manages all
the changes in my code base of my
application and I've got my main server
here this is the server where ansible or
your configuration management tool
system will be installed and I've got a
bunch of nodes here which are a
collection of web servers and
application servers and database servers
and these are all connected to the main
server via SSH now what happens here is
that these main server constantly pulls
the version control system for any
changes in the code base it means that
it constantly keeps on checking the
status of my VCS at regular intervals of
time and whenever there are any kind of
changes those specifications are sent to
the main server here and then this
server decides on how to make
configuration changes according to the
changes in my code base and whenever you
have written all those new
configurations you can directly push
them all at once on to your node
machines so you've got the full control
here on whenever you want to make any
changes now in a pull based system the
relation between the VCS and the central
server is the same it constantly pulls
for changes to the VCS for any changes
in code base and whenever there are
changes it pulls those changes but the
main difference that you'd see from a
push based configuration management tool
is that it has got an agent present here
now this agent or client is a software
that manages all your notes
now what this agent does is that it
constantly pulls the central server for
any configuration changes it means
that it keeps on checking the central
server for any changes in the
configurations that needs to be made and
whenever it finds any kind of
configuration changes it pulls those
changes and then only it gets affected
on the note machines so at this point
you have to wait for the agent to pull
those changes and then only the
configuration changes will get affected
on your nodes so you have to be a little
dependent on the agent here and
improvements tools like up EV we have
got the pup an agent here and the puppet
agent actually pulls the central server
every 30 minutes so you might have to
wait for 30 minutes or a little less
time in order to see all those
configuration changes in your node
machines however you can also customize
the polling time as well from the puppet
agent you can either increase it or
decrease it according to your needs
ok so I've got a question here from Sora
a sort of your ask that which
configuration management tool is better
a push based or a pull based well sorry
was a good question but actually you'll
be disappointed to know that the answer
to your question does not exist what I
meant to say is that it completely
depends on the kind of application that
you're managing or the kind of
infrastructure that you have and I will
tell you that everything has got its own
pros and cons and since you asked me I
would be very glad to list out the
advantages and disadvantages of each of
the system so the advantages of using a
push based system could be that you've
got full control everything is
synchronized and everything is under
your control you can see right away if
something went wrong and you can correct
it immediately and also it's very simple
like I've been chanting since the
starting of this tutorial that ansible
is so simple it's very easy to learn so
it gives you simplicity so push based
systems give you the simplicity but the
main disadvantages could be that you
cannot achieve full automation with a
push based system because it's not
usually possible to boot a server and
have it configure itself without some
sort of client or server protocol which
push based systems to
not have and also it gives you a lack of
scalability as well because when you're
dealing with hundreds of servers a push
based system will start showing its
limits unless you make a very heavy use
of threading or multiprocessing whereas
the main advantages of using a pull
based system could be that it gives you
full automation capabilities because it
is possible and it is indeed advisable
to fully automate the configuration of a
newly booted server using a full
deployment system and of course since
you have got an agent and a client to
manage your nodes it is very easy for
you to scale up and the main
disadvantages could be that you cannot
configure the system whenever you want
you have to be dependent on the agent
and of course while setting up a pull
based configuration management system
for the first time in your
infrastructure would take a lot of time
because the agents needs to be installed
manually on each of the system for the
first time after the agents are
installed the configuration changes are
very easy to make but setting it up for
the first time will cost you time but
sort of I would tell you that in
scenarios when you have a large
infrastructure a pull based system is
recommendable and in scenarios where you
want to make your configuration changes
very quick you can use the push based
configuration management system for that
so hopes are that you have got your
answer can you give me a confirmation on
the chat window ok it says great okay
thank you sorrow I hope that the others
understood as well but if you have any
questions you can always pop it in the
chat window any time so I think we're
good to move on to the next slide and
let's take a look at the ansible
agentless architecture now what we have
here is I've got a laptop desktop server
so this is the main server where ansible
will be installed and I've got a bunch
of node machines here which are open to
machines and as you can see that there
are no agents present here all this node
machines are connected to the main
server with SSH and let me tell you that
it's not always important to use SSH for
connection you can use Kerberos or any
kind
Network authentication protocol that you
like and in this laptop desktop server
we've got our hosts inventory which is
nothing but just a list of the IP
addresses of all my host machines and
I've got my playbook here
now this playbook is where you write all
your configuration scripts which will
get run in this laptop desktop server
and all those configuration changes will
be made on these node machines so it's a
very simple architecture diagram we've
got here and it's pretty much
self-explanatory I hope that all of you
have understood this and if you have any
questions you can ask me in the chat
window so guys are we good to go to the
next slide
ok startup says yes Vardhan says go ok
but let us now take a look at the
architecture or principle in a more
granular level so let's see what we have
here so I've got a public private cloud
here which is my cloud server it can
also act as a repository for all my IT
installations and I've got a bunch of
host machines here and this blog that
you see is the ansible automation engine
so the users can directly run a playbook
in this ansible automation engine and
this will all get deployed on the host
here
so let us now take a look at all the
components that we have in the ansible
automation engine so the first we've got
a host inventory and like I told you
before it's nothing it's just a list of
all the IP addresses of all your hosts
here and it's a simple initialization
file and it's very easy to write a hosts
inventory I'll show you how to ride a
horse inventory as well later in this
tutorial so next we've got modules now
ansible actually comes with hundreds of
inbuilt modules and modules are actually
those pieces of code that gets executed
when you run a playbook so listen to
this carefully guys a play book contains
plays a play contains different tasks
and a task contains modules and when you
run a playbook it's actually the modules
that gets executed on your host
and this modules actually contains some
kind of action in them so when you run a
playbook those action takes place on
your host machines now you've got core
modules now there are various core
modules in ansible like file modules
your cloud modules your database modules
you can find hundreds of them in the
ansible galaxy as well now ansible
galaxy provides you with more than 750
inbuilt ansible modules but if you're
not happy with those modules anyone to
customize and make your own modules you
can do them too you can call them your
custom modules all you have to do is
just write a few lines of code and just
make it your own module and you can run
it anytime you want and the next we have
play books now play books here actually
define your workflow because whatever
tasks that you write in a playbook it
actually gets executed in the same order
that you have written them for example
if you have written that install a
package first and then start it it'll do
the same we'll install it first and then
start it or restart it again
so ansible Play Books always execute
tasks in order and play books are also
very simple to write play books are
written in yeah mell code and Yammer
code is a very simple data serialization
language it's pretty much like English
I'll also be showing you how to write
play books later in this tutorial now
let's come to plugins now plugins here
are actually special kind of modules now
these plugins actually get executed
before a module is getting executed on
your notes plugins actually get executed
on your main control machine like for
logging purposes
you've got your callback plugins because
this enable you to hook into different
ansible events for display and logging
purposes and then you've got cache
plugins which are used to keep a cache
of facts to avoid costly fact-gathering
operations and also we've got a special
kind of plugin which are called the
action plugins and action plugins are
actually front-end modules and it can
execute tasks on the controller machine
before calling the modules themselves
an ansible already ships with a number
of handy plugins but also you can write
your own plugins as well and these
plugins actually allow you to execute
and simple tasks as a job build step and
now we've got connection plugins like I
was telling you before that it is not
always needed to use an SSH for
connecting with your host machines for
that purpose you can use a connection
plug-in as well
for example ansible provides you with a
docker container connection plugin and
using that connection plug-in you can
easily connect to all your docker
containers and start configuring right
away so I think this architectural
diagram is also simple as well I hope
that all of you have understood this
architecture diagram as well so guys
before I move on give me a confirmation
on the chat window ok she says yes
kisara shabam Vartan Ashish okay now
let's move to the next slide and see all
of this ansible components in detail
first we've got our hosts inventory and
as I was telling you it contains a list
of your host group together so we've got
an example here of how to write a host
inventory and as you can see that this
is just a list of the IP addresses of my
nodes and also you can name the groups
of your different IP addresses for
example I want to group my web servers
together and my database servers
together so all I have to do is write a
group name between two square brackets
and a big group together so whenever you
want to make configuration changes just
on the web server and not on the
database server all you have to do is
just mention the group name on the host
and it will only configure your web
server and the default location of your
inventory is Etsy slash ansible slash
hosts so this is where your inventory
resides writing a host inventory is very
easy I hope that you'll all have
understood so let's move on to the next
slide where we'll see the ansible
modules and like I told you before that
modules are the ones which actually get
executed inside a playbook so hope you
remember when I said
that a play book contains plays a play
contains tasks and the task contains
modules and whenever you run that play
book the modules are the ones that get
executed on your notes and we've got a
few examples of modules here so you've
got the app module here and I'm pretty
sure that you've used app get in Ubuntu
to install any new package and the app
module here does the same thing it
installs or removes package using the
same app package manager and then we've
got a different module here which is the
copy module what it does is that it
copies a file from your local machine to
the host it means it copies a particular
file from your control machine to the
host machines so all you have to do is
mention a source and a destination now
the source will be the location of the
file in your ansible control machine and
the destination would be the location
where you want to get it copied in your
host machines
now there's another module that does the
same thing as copy it's called the fetch
module what fetch module does is that it
actually does exactly the opposite of
copy it copies a file from the host
machine to your local machine so even
here you have to mention a source and a
destination the next we've got the file
module and file module is one of the
core modules that ansible
comes with and here you have to mention
a source and the destination as well and
then you have to mention a state whether
you want to link those files or link
those directories together or you want
to unlink them so you can use file
modules for that purpose and then you've
got the service module now this model
can be used to start or stop any kind of
service for example if you want to start
engine XO you want to start running your
docker containers or you want to stop it
you can use the service module for that
and also you can explore all of the
different modules from the ansible
documentation they have details of all
those modules so you can check them and
use whatever module you want to in your
playbooks so I hope that this slide is
clear to everyone so guys
give me a quick confirmation on the chat
window so I've got a few yeses from few
people so let's move on to the next
slide and let's learn how to write an
simple ad hoc commands now ansible
adult commands are a simple one-line
commands in order to do or perform a
task because sometimes when you want to
do something really quick and you don't
want to write a whole playbook for that
you can use other commands for that
purpose and we've got a few example here
if you want to check the uptime of all
machines you can use this command and
make sure that all the adder commands
and ansible starts with ansible ansible
all here means deploy it on all hosts
and it's using the shell model here and
we're passing an argument uptime now
uptime of all machine means the time or
the duration that a machine has been
running so if you want to check the
uptime of your node machine you can use
this command and it will display you how
long your node machine have been working
and also if you want to check the data
for machines you can use the same shell
module and just pass the argument date
similarly if you want to check the red
head release of all machines you can
pass this following argument if you want
to mount on all machines you can pass
the mount argument and if you want to
check the service status of all machines
you can use this argument here service
SSST status and all of this have used
the shell module but you can use all of
the different modules whatever you want
according to your needs so writing an
ad-hoc command is very simple as you can
see so if you have any questions you can
ask me anytime on the chat window and in
the meantime let's proceed to the next
slide and see how to write an answer
bill playbook now play books are the
core part of hands abode because
whatever configuration details that you
write you write it in the playbook your
entire IT infrastructure gets automated
by using a playbook and a books are
written in Yambol code and Yambol code
is a very simple data serialization
language it's very human readable and
it's almost like English now let's take
a look at the example of playbook here
so we've got a playbook here that
installs nginx on all of my node
machines so let's see how to write a
playbook
well note that all the ML file starts
with these three dashes on top after
that you can mention the hosts that you
want to deploy this playbook onto and as
you can see that the holes that I've
mentioned is the webserver here that
means I want to run this playbook on all
my web servers
now you can mention the tasks that you
want to run for example I have named my
task here installs nginx on web server
you can name it whatever you want just
for your understanding purpose and then
the tasks I'm using the modules you can
see here that I've used the apt module
for installing the packaged nginx and
I've mentioned the stayed installed here
and then I've got a notify here which is
start nginx
now before I tell you what notify is let
me tell you what handlers are now
handlers are tasks that get run after
certain triggers and the trigger here is
the notify and the handlers always run
at the end of the play and these are run
only once no matter how many times you
run that playbook the handlers will be
run only one and we've given this
notified to trigger this handler which
is starred nginx and I'm using the
service module here to start nginx so as
you can see that writing a playbook is
also very simple and if you want to run
that playbook just use this command and
simple - playbook the name of your file
and dot yml is actually the extension of
a Yambol file now writing a playbook and
implementing it is also a very simple
task we'll be running the same playbook
in the hands-on part as well I hope
you've understood how to write a
playbook if you have any questions you
can pop it anytime on the chat window
guys so let us go to the next slide and
see the growth of ansible in past five
years now this graph is collected from
Google Trends which shows the interest
of people over time and as you can see
that this green line represents ansible
and even though ansible started slow it
has managed to earned its popularity now
the blue line here is puppet the reddish
chef and yellow is sol stack so it's a
good comparison with all the popular
tools in the
market that we have right now and
ansible is definitely getting popular so
we never know what answer will actually
holds for future so I think we'd better
start using ansible from today what do
you say guys
okay Sarang says yes I'm going to use it
okay great sort of so let's go to the
next slide let's see some more on
ansible
it says that it's highly scalable and
available of course I've read an article
about Rackspace that Rackspace has
actually managed more than 15,000 of
their machines using ansible so of
course it is very scalable enough and we
have got success stories from phat map
I know NASA has used ansible tower as
well and the enterprise cost is also
very less it's only ten thousand dollars
per year and we have got a lot of github
activities going on which actually shows
that a lot of people are using ansible
so now we've come to the fun part and
here we'll have some fun with hands-on
ok what I'm going to do is I'm going to
use three centaurs virtual machines here
now one of them will act as my ansible
control machine there I'll show you how
to install ansible and there I'll be
writing a playbook to deploy nginx on my
other two virtual machines which will
act as my note so guys without any delay
let's get started so here I'm using an
Oracle VirtualBox manager and I've got
two CentOS machines here so this ansible
machine here is going to be my control
machine this is where I will install
ansible and this ansible host here is
going to be my node machine so this is
where I'll deploy nginx for simplicity
purpose I'm just using one host machine
here you can add as many as hosts as you
want and both of them are 32-bit Center
is 6.8 machines so let's go to the
control machine here let me open my
terminal so this is the terminal of my
main control machine so this is where
I'm going to install ansible the first
thing that I'll do
is become a root user for that I'll just
type so it's asking for password so now
I'm the root user and let's begin with
the installation now the first thing
that you need to do is make sure that
all your packages are updated so for
that I'll just type yum update - why no
packages mark for update it means all
the packages are currently updated the
next thing that I need to do is set the
EPE el repository now ansible package is
not available in the default iam
repositories so we will enable the EPL
repository for center six-pointed now
EPE l stands for extra packages for
Enterprise Linux and it's an open source
and free community-based repository
project from fedora team which provides
you with high quality add-on software
packages for Linux distribution
including Red Hat Enterprise Linux
Center s and scientific Linux so in
order to set up the epi repository we'll
use the following command
and here we go now the package here is
already installed in my system if it
wasn't installed this command would have
installed it in your system so now that
I've set up my EPL repository so let's
install answer them just type the
following command yum install antidote
it's asking for confirmation why
and it's done at all you're installing
ansible is very easy so let us now check
the version of ansible that we have
installed for that just type ansible - -
version and as you can see we've
installed the ansible version two point
two point zero point zero
okay now that ansible is installed in
your machine let us get on with the post
installation stuff like adding your
hosts inventory and making an SSH
connection with your node machine and
after that we'll write a playbook to
install nginx on your node machine so
the first thing that you need to do is
generate a public SSH key so for that
I'll just use this command SSH - keygen
so it's asking for the file where I want
to save the key now if you want to save
it in the default location simply just
leave it blank and press Enter now an
SSH ID already exists in my system do I
want to override it yes I do now it's
asking to enter a passphrase empty for
no passwords I'm leaving it empty enter
the same phosphorous again empty again
and here is my public SSH key now what I
need to do is copy this key into my node
machine so for that I'll use this
command
SSH - copy - ID space - I root at the
rate - have to mention the IP address of
my node machine here I've already found
out my IP address of my host machine
using the command if config now what you
have to do is just go to your host
machine and type if config and we'll
show you the IP address now I already
know the IP address of my host machine
so I'm just going to directly mention it
here and now press Enter
are you sure you want to continue
connecting yes it's asking for the root
password enter so the SSH key that
you've generated here in your control
machine is been copied onto your node
machine so let's write our hosts
inventory now okay first I'm going to
clear my screen clear okay there's
anybody remember the default location of
my host inventory file okay yeah I got
an answer from sorrow Verdun and I see
yeah all of you are correct of course so
I'm just going to open my file and list
the IP address of my node machine there
so I'm using the VI editor and as you
guys remember it was at C slash ansible
slash hosts so this is the default LAN
Cybil host file I'm going to list out
the IP address of my node machine here
now I'll write the IP address of my node
under a group name I'm naming it des
servers now even though I just have only
one node machine I don't really need a
group name now if you have a lot of node
machines so all you have to do is just
write the group name here and list out
the IP addresses of all your node
machines so I'm just mentioning the IP
of my only one load machine which is 192
point one sixty eight point 56 point one
zero one
so this is my host inventory let's now
save the file and exit okay now that
I've added my host machine in the
inventory and I've made an SSH
connection to it so let's perform a
simple ping operation using ansible just
to test out the connection so for that
use this command and symbol - M ping and
the name of the group of your node
machine in single quotes which was test
servers and it's successful now my hosts
inventory is added and Maciej connection
is tested so we should get started
writing the playbook so I'm going to
name this playbook as nginx so I'm going
to write nginx dot yml and why ml is the
extension for a Yama file
so let's write a playbook so if you
remember I told you that every yeah Mel
file starts with three dashes on the top
so the three dashes after that we have
to mention the host now my host where
the test servers okay the next thing
that we need to do is mention the tasks
now the tasks here for us is to install
and simple so I'm just going to write a
task that is going to install an 0
now I need to name the task here which
is install nginx to install and now I'm
using yum to install the package nginx
some writing package equal to nginx and
state equal to installed now I'm going
to use a handler here to start nginx and
in order to execute that handler we need
a trigger as I told you before so I'm
using notify here as the trigger and the
notify here is start nginx now what you
have to mention in notify is just the
name of the handler so let us now write
the handler so we'll just write handlers
the name is start nginx and here I'm
using the service module in order to
start nginx so write the name of the
software that you want to start name
equal to nginx and state equal to start
it and this is it this is our playbook
so let's just save the file and exit and
now let us just run this playbook
so as you can see that I've got some
return values here which is okay change
unreachable and fail this shows that
there are zero tasks failed unreachable
of zero that means it was properly
connected and change equal to two it
means that it has installed nginx and
started nginx so it's done and nginx
is installed and started in your host
machine it's very easy like I told you
so let us go to my host machine and
check if nginx is running so this is the
terminal of my ansible host machine so
let's just check if nginx has been
installed you for that just type in this
command and as you can see that I've got
a few process IDs here which shows that
nginx has been installed in my system so
that said at only when civil is very
easy the tedious task of installing
ansible on a remote machine has become
so easy with ansible playbooks all you
had to ride was just a few lines of code
so thank you that was all about ansible
and thanks to all the attendees for
joining today's session I hope you
enjoyed listening to this video please
be kind enough to like it and you can
comment any of your doubts and queries
and we will reply to them at the
earliest do look out for more videos in
our playlist and subscribe to our ready
rika channel to learn more happy
learning</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>