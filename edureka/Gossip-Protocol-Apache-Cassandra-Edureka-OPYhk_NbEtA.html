<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Gossip Protocol | Apache Cassandra | Edureka | Coder Coacher - Coaching Coders</title><meta content="Gossip Protocol | Apache Cassandra | Edureka - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/edureka/">edureka!</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Gossip Protocol | Apache Cassandra | Edureka</b></h2><h5 class="post__date">2014-08-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/OPYhk_NbEtA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what is a gossip protocol so we saw that
in Cassandra is a peer-to-peer
communication or object basically he
snored stocks to other nodes to find out
information about the state of other
nodes and so if you look at this kind of
the picture if every node has stopped to
talk to every other node then it would
be a lot of loss commit and network
communication that means trap it might
also if depending on how big your
cluster it might also clog your plus
that's the first natural question that
will come to your mind but cassandra has
intelligent solution for the cost
protocol what it does is inter
communication happens between one node
to other but what it does is if say the
node marking in the red circle
communicates to the node arm on the
right and it gets its information about
this but say this node had already
contacted the the node below and has its
information what it would do is when it
passes its information about itself it
also passes information about the other
nodes it has communicated to so that's
why it's called as the gossip so the the
node that you talk to not only talks
about itself but it also talks about the
the nodes that it has communicated to in
in recent past about the state of of the
nodes that's why it's not only
information about yourself but it's also
information about others that's why it's
called as as a gossip or interestingly
what happens if it means your network
communication about this maintaining the
state information very very efficient
your network clock is reduced and it
keeps more information makes your
information gathering very very
efficient now what happens is say I can
communicate it with this node this node
had communicated with this node maybe in
the last R and I have also communicated
with this knot but this lumic no one had
communicated with the node on
on the right in like last five minutes
so it has the most bigoted information
what would happen is once this node
receives information about this node
from both the channel it will look at in
a time version fashion retailer node
would give you the latest information
about that particular node will be
overage and so this way you will always
have the latest information about the
state of any node in fact this is the
very general of how a gospel now we will
see in details of exactly how this thing
happens so as we saw a node can
communicate to see another random node
in in in the cluster last time we
covered that your Cassandra yml has a
list of all the nodes preferably should
have it's not necessary to have all the
nodes in the cluster but it's a very
good idea to have all the notes list so
that's it's able to communicate to all
the nodes if is required so in the
example it contains to this particular
node it will query it about its
information so what it will do is it
will basically send a message to saying
that give me the state
what's your state and this node if it
has communicated with other nodes really
carry all the information and send it
back saying that okay this is my state
this is the row keys that I have and I
am basically saying I'm alive right now
these are other examples of how random
communication would happen this the
suite of other two information would be
sent back let's jump to the failure
detection kind of thing so how does the
failure detection happen basically of
this a message named all as gossip
digesting it's a very similar protocol
to TCP for people who know that these
people are calling but even if you don't
know this is it basically says a message
for Less sing message
sy on so of course Dyson
saying from one node to other node once
the other node receives this kind of
message it sends a message back to that
requesting node all as its basically
short acknowledgment so it gives an
acknowledgement message backs and then
say okay I'm a life and then the first
requesting message sends an
acknowledgment back saying that okay I
received that message so this is
something called as a three-way
handshake very similar to a TCP protocol
on this page
Kassandra nodes are able to understand
that the other nodes in the cluster
now what happens when a node goes down
so suppose a sync message is sent to one
node a node is down you won't receive
any act message back
so if Noack message is received back
then notice that it's down it might try
again after a few milliseconds to see if
the know is the back but even if that's
not the case then if we Martha notice
down now since it has marked the node
success down and said suppose this was
node five same node one communicated
with two nodes five wire was purple and
asking its state what node 5 would
return to node 1 is its state what it
stayed it will send its acknowledgment
it will also send out a message saying
that the node 6 is down so node 1 on the
cluster would know that the node 6 is
down similarly other nodes in the
cluster will slowly start getting this
information that the node 6 is down for
a particular point of time and even if
this node is down the the nodes from
within the cluster would still keep on
periodically pinging node 6 to see if
they in their backup so that's that's
how a failure
ejection happens in the bus protocol
possible is a very kind of a simple
graph protocol if you look at it's not
that complex the main thing is in the
gossip protocol you not only send
information about yourself
also send information about others in
the network that's why it's called as</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>