<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Demo on Dynamic Memory Allocation | C Programming | Edureka | Coder Coacher - Coaching Coders</title><meta content="Demo on Dynamic Memory Allocation | C Programming | Edureka - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/edureka/">edureka!</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Demo on Dynamic Memory Allocation | C Programming | Edureka</b></h2><h5 class="post__date">2014-08-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/k-L1DWe0Mus" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">you
dynamic memory allocation all this wild
all the memory there are programs were
using for all statically allocated that
is at the beginning of the program
itself we knew how much memory our
program needed well let's say while
running the program is when we get to
know the amount of memory it's required
so when I'm writing the program I have
no idea how much memory I might need but
I need to dynamically allocate memory
but before you start talking about
dynamic memory allocation you need to
know about the various segments in a C
program the C program basically consists
of three segments it has something
called the data segment it has something
called the heap something called the
stack
so this is the data this is the heap and
there's a stack so what I each one of
these segments the data segment is where
all your global variables your local
static variables not normos the local
variables but just the static variables
are all stored the stack space is where
your local variables go so you already
seen what the stack space is let me call
a function all the local variables are
loaded into the stack and once a
function finishes execution all those
variables all of the space is freed up
but global variables and Static
variables need to exist for the entire
length of the program so that's why they
need to go into a different area so they
go into something called the data area
or the data segment so this is where you
store all the global and static
variables now what is the heap space all
this while you've seen the memory being
allocated is being done automatically
and is being freed up automatically like
the local variables we just say in take
the memories be allocated on its own we
don't know how many bytes it takes we
know integer takes a four bytes so it's
gonna look at four bytes on it on his
own I'm gonna free it up and the
function exists similarly global
variables are automatically allocated in
the data segment the heap segment is
used to allocate memory when you need it
and similarly because you're the one
who's allocating memory you need to free
up memory so the memory allocated from
the heap is not automatically feed
so once you allocate memory from the
heap that memory cannot get reused until
you free it up and their fingers don't
happen automatically just because a
function is finished execution let's say
I allocate some memory from the heap in
a function func till I free it up I can
access that memory from any function
anywhere in the program well of course
if I don't free it up and the program
ends all this memory is freed up all of
these segments exist within one program
so when the program exists anyways all
these all of this memory is freed up so
now let's go back to the topic of
dynamic memory allocation so like I'd
mentioned all local variables allocated
on the stack they are freed
automatically and a silikal automatic
variables also when I mentioned that the
heap space can be used to allocate
memory when you want to allocate memory
from the heap we have a library function
called malloc in C it's called memory
Alec or Malik Malik takes the single
argument which is the number of bytes
you want to allocate so you can say my
log and five is going to allocate five
bytes from the heap and give you the
starting address or those five bytes
because any memory that malloc allocates
is going to be contiguous so if you ask
for 20 bytes he's going to allocate 20
contiguous bytes and return the starting
address and like we had spoken earlier
about arrays and so many other things
because the memories contiguous all you
need is a starting address from the
starting address I can access any of
those 20 bytes so simple malloc takes in
a single argument which is the number of
bytes he's going to allocate that much
memory and return the starting address
and that memory is from the heap and
like we had mentioned once you allocate
space from the heap that space will not
get reallocated to anybody else or some
other variable so which means if you
keep calling malloc you may just end up
using up all your space and you'll have
no free space left
so when you don't need some space from
the heap you need to free it up and you
free up memory by calling free so you
say free and you pass the starting
address and free up that memory so now
why do we need dynamic memory allocation
in most of your programs you are going
to use malloc and free extensively this
is because initially itself we do not
know how much memory we need for example
we you wrote the program to find the
largest number the program has assumed
that you're gonna enter ten numbers but
let's say in most cases we do not know
how many numbers you use is gonna enter
sometimes he may just want to enter
three numbers and find the largest
sometimes he may want to enter 100
numbers and find the largest sometimes
he may want to enter and all the numbers
and find the largest so how do we write
a simple generic program which is
communicated to all of his needs
whenever he runs the program every time
I'm not gonna change the for loop to run
10 times or 20 times 100 times 1000
times based on every user so I should be
able to write a simple program which can
dynamically allocate memory and store
data in that memory and when not
required it can free it up so now we are
going to modify the largest program so
now you're going to modify to find the
largest program to accept a number from
the user first we specify the number of
integers he is going to enter and then
find the largest amongst all those
integers so let's open the largest
program
this was our program to find the largest
number as you can see we have the array
a and we've declared size of the array
to be 10 so we can only store up to 10
numbers but now I want to write a
program it's going to accept how many
numbers user wants to enter first and
then based on that is gonna allocate
memory now please remember with normal
arrays the number you give this in the
ID or the size of the array is always
static so I cannot accept a number num
and then say a of num this is not
allowed to see you cannot have a dynamic
array in C</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>