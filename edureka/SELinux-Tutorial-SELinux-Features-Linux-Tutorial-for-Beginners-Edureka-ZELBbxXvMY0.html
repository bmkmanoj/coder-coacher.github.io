<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>SELinux Tutorial | SELinux Features | Linux Tutorial for Beginners | Edureka | Coder Coacher - Coaching Coders</title><meta content="SELinux Tutorial | SELinux Features | Linux Tutorial for Beginners | Edureka - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/edureka/">edureka!</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>SELinux Tutorial | SELinux Features | Linux Tutorial for Beginners | Edureka</b></h2><h5 class="post__date">2015-03-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ZELBbxXvMY0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all right so let's want to the next
topic its security and hence the next so
far with respect to security we have
seen regarding week mu there is a term
called DAC discretionary access controls
that means our read/write/execute
okay and we have what is a s you will be
setting up the bits su ID as G ID and
sticky bit all those things so one thing
if you have observed here and all these
coefficients we are seeing so far is
that the owner will be able to perform
any kind of operation on the fights
right so not only that but any user can
gain the loot access over the set of
processes or the pins so that is that is
something which is there with respect to
all this kinds of permissions that we
have seen so far but above all these
levels if you want to have somewhat more
advanced security such that so even
users who have no tact should not miss
utilizer okay so that is the level level
of security that if you are expecting so
that is something which is possible um
SELinux today's security advanced linux
so here what happens is selinux is
basically it is part of your kernels
feature it has a few modules has a few
models with respect to selinux
so so completely the kind of
restrictions that are imposed are at the
system level okay and it does not check
for if I mean in order to implement
something it will not check for the
owner of the pile or the process okay so
the kernel maintains a set of rules or
you can also call it as
policies okay it's like the colonel
maintains these policies and and by
default it always it always denies
denies with respect to any kind of
request that comes regarding any kind of
operation the default rule is no do not
execute it alright so what happens is we
need to have these policies so for any
particular service or any kind of
operation we wanted to perform so if you
shallow trick question the colonel there
must be an explicit rule defined that
say that okay this can be allowed so by
default it's like blocking everything
okay in your system and and then if you
explicitly want something to happen so
you need to define that as a part of
that policy and only that particular
process will work or so that would get
executed or the accesses permit will not
granted all right so you can you can see
this or I could give you another better
example here take all the set of files
all right there a three is all these
things different range so files
everything ok so all these things they
consider it as take consider them as one
identity and all the services or the
processes started running in your system
considered them as another identity
right so in order to make these
processes consume any of these files
sockets or the pipeline's of any of
these things in order to have an
interaction between these two so the
accelerator comes in between so there
must be policies that define the
communication in between these these two
objects
alright the source and as well as the
pile object or the destination object
which which is there ok so this is the
extent to which restrictions will be
posed using SELinux okay so we'll see
also what is the how to enable excellent
links other features of SELinux huh so
so I mean by default at the time of
installation itself you will be asked
whether you want to enable SELinux or
not so ideally there are three modes of
SELinux and you should always it is very
very mandatory in fact it is mandatory
it is very important that SELinux
is always enough and it is always an
enabled state and you can you can see
that information in ATC says convict I
see the next okay so this is the
configuration file so if you see here
these are the three states enforcing
promisee and the other one is disabled
all right so so there see linux must be
always said to then forcing mode okay so
then it will implement all the security
a policy switcher which are present as a
part of the asila next modules ok and
then we have the next one called as the
permissive mode this is the mode in
which what happens is selinux will try
to want the users whenever you request
something it will warn you that okay so
this is so this kind of situation might
arise like that it will try to print the
warnings all right in a pervasive or but
it will not stop the user from
performing the operation so you can make
use of this mode easily usually in your
test environment or double normal when
you are testing some applications or
something so it will be useful over
there but always in the production it is
always recommended to make it enforcing
and disables though it is available so
it is it is not at all recommended to
have this particular State okay
and then we have something called a
selinux type okay so there are three
different types one is targeted this is
where it tries to implement all the
features that SELinux hands on all the
types of processes and this is in fact
the default type that must be set and
another one there is another type thatis
machine here that is minimum minimum
type where in only a limited set of
services will it have the selinux
enabled for them okay a limited set of
services so and just like the status or
the state of SELinux you can also set it
to minimum when you're in the testing
phase the third one is unless it's a
multi-level security protection as we
don't need this it's much more advanced
than SELinux it's in so will not be
covering this here so so this is the
file that takes care of it so if you
want to check the status there yeah get
in force is is the command and that will
tell you about the current status of
selinux in your system and if you want
to manually change the current status
they said enforces all right so we need
to provide arguments certain ports space
if you give one automatically so these
are the corresponding parameters
okay so then approach space I can either
give it as permissive or I can also pass
the corresponding value okay so here so
temporarily it has been changed to
permissive mode similarly again I will
just revert it back so this is a
temporary change so if you want to make
it a permanent change you need to update
that
the file or I think from the command
line he can also do that by giving the -
P argument I'm just quickly checking you
learn one page you can be smart there so
let's see what is there in the
presentation and I will give you some
more examples all right if you want to
check the current status
I see step 3
ok so in my system that is the current
status it has been properly enabled okay
this is the Hmong point this is the
current mode ok actually makes type IC
Linux is enabled in as a part of the
exceed annex as I've mentioned the
policies involved and along with the
policies we also have set of boolean
present alright so when I say boolean
here the chest like are not switches
okay
so I'll show you for every service or in
every application there will be a set of
boolean present in the system ok so we
can either enable them or we can disable
those boolean it's like for a particular
application
imagine property of your application
there are a set of SC Linux futures ok
so when I say set of features for every
feature say there is a boolean which is
a switch okay
so this feature you can able enable it
or leave it like that so there are
multiple selinux features for a
particular service so
all right so these are the default
services for which SELinux is currently
enabled so we have the color the
computation file on the VTC se skaters
comp here you can see so these are the
five on dates
all right so I forgot to show you one
more thing so if you want to how do you
check whether SELinux
is there how do you identify the kind of
restrictions what kind of parameters are
in one all right so theorem or a list
along it LS if you keep - capital said
okay so I will show you the difference
between the two so I didn't L let's type
in L okay which is a normal way and now
tell this - said with a salon X context
okay so here comparing these two if you
observe so these are the additional
attributes that are present that would
come along with SELinux all right so
going through all these these are four
attributes one is at a user level and so
this is the type of access and this is
anything which let me check that I
missed this all right so among all these
three all right so we would be mostly
modifying the type which is present that
is the third parameter all right
so for any kind of service it is the
type that matters we need to enable the
corresponding type which is present okay
so I see module hype in hell you can get
to see the total list of modules which
are present inside your kernel SELinux
related models and ok so this is a quick
example
so before let me show the same on my
system ok ok let's take this typical
example of playing experiments on a
batch a server ok so we have seen a
party server configuration before so we
install UTC httpd packages once they've
installed you open the HTTP
configuration file and inside the
configuration file there are a few
parameters that that we have to change
the first one is the document root if
you remember /ww
HTML is the default document root that
your configuration file will be pointing
to right so inside the document root
that is something called index dot HTML
once you install your apache' service
and you start your Apaches for this so
it will show you the next dot HTML page
right so now see let's check this unless
open said well ww HTML see here if you
see there are some HTTP specific types
which are present here all right so by
default along with the HTTP service
these types are enabled but for these
files and folders which are present
underwear nebula with HTML so so
whatever content that you place here see
this so this is this would be more
interesting here if you observe right so
the user and the first two parameters
are the same observe the third parameter
so this is what HTTPS is script
execution
that means the selinux has been enabled
and it allows the users who execute
scripts from this pool all right and
similarly if you if you are setting up
some HTML pages so this is the
corresponding selinux field that must be
enabled the reason why I'm showing these
fields is say you want to change your
document route rather than keeping
underwear ww you want to keep it
somewhere say under the slash all right
then what you have to do tails so
ideally the first important thing so you
have created a folder under slash how
can you name it something and you want
to keep all your HTML or CGI bin files
under that folder ok so if I see Linux
is enabled it will not I love you ok to
make use of that folder unless you
explicitly set up this type to the file
and the folders which you have newly
created so that is what is SELinux that
is that is how is seen in extra scripts
so by default when you install the
service there are some default files and
folders you have created and there is an
X Linux set on them
so all this Linux policies have set but
if you want to change the default ones
all right so the C Linux will block you
so if you create a new folder it'll if
you want to make use that folder as a
document root so the first thing usually
what you do is inside etc' httpd
configuration file so what we do is we
change the document root to some other
folder all right so ideally if SELinux
is disabled okay automatically what
happens is we will be able to make use
of that document root it castle is
disabled but if SELinux is enabled
simply changing the document code is not
sufficient okay again we have to what we
have to do if we need to leave the
appropriate context or the appropriate
type to the files and folders that we
have nearly
that's the document okay so and the
command if you can see your CH con just
like we use chmod command to change the
permissions to change the group and
owner of the files and folders similarly
we use CH corn command to change the
context of the file and folder here if
you see - P is the type that is a third
field if you want to change the third
field CH gone
- P type sample point okay and similarly
say you want to change the first field
then you have to mention - ye you see H
con - you and tolerate so yes
the middle one is the rule it's a user
role and the type so among this so this
is the rule okay
object rule and this is the system user
okay and then third one is type so you
not have to worry about the first two
parameters
you just have to ensure that if you
change your document hood or whatever
existing permissions are there you can
set similar permissions then only so you
have if you want to run CGI scripts from
the new location you need to set a
studio Phyllis's stripped exe see on the
new file and folder okay so let's try
there I'll create something okay the air
and say CGI happened in so if you
observe here so actually I created a
folder with HTTP DSS content so whatever
existing context is there automatically
it would get applicable for all the new
files and folders now I want to change
this context so CH cone all right - deep
and they will say httpd sis script
and there's good tea cgi-bin
okay it's too deeply sis script okay now
it's seamless now Adam created this so
this is how it will allow me to execute
CJ scripts from this folder similarly if
I want to change the user
all right here there is something called
unconfined and this could you
I want to ensure that the same user is
present
this is how we make the changes and we
ensured that the same set of properties
have been set to the newly created files
and folders so automatically the HTTP
service will be able to pick these
things once these are set even if it's
even X is enabled so just this is how
for any of the new application so if you
have observed by default everything is
blocked by default things are not
allowed to and executed even if you have
good privileges you can take three real
unseeable don't run your services as per
your wish on our newly created folders
or friends okay so we need to explicitly
define the rules define the bullying's
okay then only the service will be
allowed through the excellence policy
okay so and one final command here is
the restore con come and see you have
appeared some pollicis newly on set of
files and folders but you wanted to
revert those changes whatever you have
newly set restore con command will help
you to restore all the attributes that
you have set to the default screen that
means the time you have created a file
or a folder whatever context was there
it will help you to restore the context
to the original value okay so here are
some of the commands for your replace
you can simply go through and try these
comments so as I accept regarding the
bully units they are like on/off
switches so get AC bool is the command
you can see the list of all the balloons
that are present in your system so if
you observe this alright
so with respect to FTP service you
didn't see there are a couple of boolean
sort of present so if you flip will
enable the corresponding boolean then
that automatically then that feature
will be allowed to pass through the
exelon next policies like that we can we
can have multiple different
policies sect or the boolean said in the
system for every service okay so so
that's pretty much about the SELinux
part then we will want to either adjust
a pivot topic slip it's almost like we
have we are done with most of the I mean
we're done with the syllabus so few
small topics that are left we have seen
how to login into single user mode right
so so there is a need to restrict the
users if there is a need to restrict the
users it is always mandatory to set up
the password so that the users will not
be able able to log into the single user
puts just like we have a bios password
set similarly you can also set up a
password so that the users will not be
able to open them I mean the moment they
try to access the drop console we will
be asking to provide the password
alright so this process so this process
it's very simple so there is a command
called grab MD pipe script
ok so simply running this command what
happens is it will generate an encrypted
password itself just like the one we
have we have create the encrypted puzzle
with SSH 8 we have copied that possible
to the source and destination like that
there will be a password that this
command would generate we simply have to
add this password so this is an
encrypted password so it will it will
prompt you to to give the password twice
once you leave it it will generate an
encrypted password so as an
administrator you can keep this
encrypted password inside your
computation
ok so once you keep it inside whenever
we try to open the grub menu
the government is nothing but you'll rub
dirt congregational factoid so what it
does is it will go it will start hitting
the grub dot front and inside we are
broken there will be a first argument
requesting the user to provide the
password for the grub so once you give
the password and only they use it will
be allowed to proceed with the menu if
you can see here password space
this is md5 algorithm that has been used
and encryption algorithm
so using that so this is the password
alright so as soon as you enter the grub
the first step that is your password you
give the password and then you will get
to see that he didn't menu which is this
so we have blocking the user before
entering the hidden menu itself okay
so this is an important thing for it's
always recommended to setup password for
the grub so that your system will be
safe ok so here it's since the moment
you enter the grub it will ask you for a
password you give the password and then
you open the Clubman ok and in the topic
that you have left it's a simple one
that is TCP wrappers all right so I will
make this very simple because rather
than explaining about TCP wrappers quiz
that is rapidly a book to two files in
the system that will will be easy for
you to understand ok so there are two
files one is a PC hosts dot hello
okay so utility host start alone letici
host start the name lizard of the
important computational points so the
word basically happens is I mean the
importance of these two files is you can
you can define the services and the
users who have access to those services
similarly you can define the services
and the users were not allowed to use
this services in a network all right let
me repeat so these two files are helpful
to define the type of services or a
service and the users who are allowed to
use the services similarly we can block
the users from accessing these services
we can do that at a user level or you
can block across I mean we can block a
subnet we can look and it work of users
that means at the host level as below
that subnet level we can block the users
know what are these services all right
so these are some of the sample services
are your holy sea of telnet your SSH TV
alright so if you if inside a PC for
stored hello or take this hosts don't
deny okay if I see that you can mention
that take a TC host denied
okay so here what I would say I will
SSH be ok and this service must be
denied for everyone who are present in
the network all right then automatically
what happens is the very next moment
this particular rule will be enabled and
no one will be able to ssh into my
machine
you getting it right so like that there
are a set of services so TCP a police is
basically so the underlying them mean
that that helps to have a mechanism you
know using in which these features can
be enabled and disabled so that is what
is a tcp wrapper all right so it
provides a layer on top of these
existing services and that is how it
tries to allow or block blocks the user
from making use of the services so here
there are three stages whether access is
explicitly permitted so by default if if
if you have seen here right there is
nothing inside these two points host dot
star right these are empty files so
explicitly everything has been polluted
from everywhere so this is another way
of implementing security on the services
in business stuff right now so this is
the default one then explicitly denied
explicitly permitted to access the
services right so three different moves
that are available and so so this is the
format you need to mention the demo list
SSST the way I have mentioned now
followed by colon space client list okay
so let me try this in my network what
I'm do is and try to access it from this
is my able to machine from Ubuntu I'll
do SSH
let me try pinging that West perfect now
this is such food yes
and
you
call it making sure that terrorism SSH
Saturn
okay perfect I'm able to make gives up a
special service okay I'll just exist
then what I'll do is I'll take it easy
host or deny and inside that I would say
X sh t I want to block everyone okay
service exhale Philly PD we start so
this is a dependent service
okay so you can begin see there is
another here the connection close very
well it's like I'm picking the same
machine has this aura as a lower in the
point because it has been denied ssh has
been denied the users will not be able
to login okay it's quickly a cross-check
by first start so this is how the rapper
services
you
so this is up if you want you can drop
users from Isis etching you can even
block complete users from the network
from logging into your system as well
okay so this is hope the rapid service
is good alright I guess with this near
done with the topics
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>