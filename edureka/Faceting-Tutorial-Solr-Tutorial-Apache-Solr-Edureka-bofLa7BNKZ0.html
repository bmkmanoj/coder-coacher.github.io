<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Faceting Tutorial | Solr Tutorial | Apache Solr | Edureka | Coder Coacher - Coaching Coders</title><meta content="Faceting Tutorial | Solr Tutorial | Apache Solr | Edureka - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/edureka/">edureka!</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Faceting Tutorial | Solr Tutorial | Apache Solr | Edureka</b></h2><h5 class="post__date">2015-05-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/bofLa7BNKZ0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so faceting is one of the important
features which we have been talking
about and we saw the in the velocity UI
itself that the faces come handy with
the solar in the B type of for UI which
which is already provided by solar so it
is nothing but the arrangement of the
search results into the definable
categories on the basis of the indexed
terms so the searcher the guy who's
searching fault are presented with the
index terms along with in numerical
counts of like how many matching
documents were there as as in under the
different categories so likewise I'm
sure you guys have seen something
similar to this on each ecommerce
website that we have the broad
categories therein and we see that there
are few numbers given which means that
these are the number of documents which
fall under this category so if you look
into it more closely you could do you
know specify that the manufacturer is
one of the faces okay and this is a if
you refine your results on the basis of
manufacturers then we have these are the
main manufacturers the Canon Sony Nikon
Olympus so these are the faces created
on the basis of manufacturer ok and
these are the constraints or the face at
values ok so this is something like we
were talking about I think this should
be a good candidate to be explained as
the collapsible query parcel so we have
something like this which shows up so
every time you click somewhere it would
say that these are the type of
constraints you have applied on your
tests on your results basically ok so if
you remove a few of these constraint
then you would get more results or maybe
if you apply more constraints you will
get less number of results so it is kind
of refining your results ok all right
then you have the face it counts which
is basically the count which is there in
the parenthesis which says that how many
results do really this face it contains
so faceting really makes it easy for a
user to explore research results so if
you would want to see that I want to
create the faces from the basis of price
or I want to create faces on the basis
of like I'm looking for a camera and say
I'm looking for the camera with a
resolution of 60 megapixels so it would
create the it would refine your you know
results in the manner in which you could
see the relevant documents first and it
would let you know that maybe you're
looking for the 60 megapixels I have
something which is better than that as
well then probably they might hear you
zoom range as well which could be
categorized as well so this is something
which is pretty handy for a user for a
searcher basically okay so you have
general parameters in such queries which
are like if you want to turn the faces
on so if you turn faces to true that
enables the faceting basically and if
you say that face it got query and then
you provide the query it would let you
specify the face it query on the basis
of which the faces are generated so this
is the field value of face at faceting
parameters if you specify this face it
field likewise on which field do you
really want to create the face it on and
likewise I want to see only the faces
which say start with the say CA maybe
the Canon and some other maybe brand or
I'm looking for say Fujifilm or
something of that sort so I can always
specify that the face it's which would
start with those letters would only be
shown to the user okay then face it
would be sorted I mean on the on the
basis of what would be these sorting the
parameter how are the faces were sorted
basically then you would have a limit as
well that I do not want to see any facet
which is going to have say less than
five results or maybe less than two
results so if anything has got only one
result then do not show that face it
okay so
how many documents should be there in a
face it to be um you know rendered only
you one basically then you can also
specify the face at offset like I can
say that I have the price range from 50
to 1,000 so I can I can basically decide
what would be the offset I mean what
would my each face it would have the
difference of say 100 or 200 maybe that
would control the number of faces
basically then you have the face of mini
count which specify the minimum count
required okay I think I I okay I think I
mister that this face of limit was the
number of faces to be returned and the
face of mini count as the minimum count
minimum count to be included in the face
it to be rendered on the UI I'm sorry
I think I got confused between these two
so face it missing is the one which
should control that if there are no
matching results with the the face it's
a I'm saying that I'm time trying to
construct a face it say on the offset of
say hundred each from 50 to 1,000 then
they might be arranged in which none of
the documents would come up so how do I
control that behavior is what I'm going
to specify and face it on missing okay
let us TCD okay we have few more
parameters here face it dot method is
again the algorithm in which we can
specify if we want to create we face it
using some other algorithm and I think
filter cachet and stuff like these these
are again more advanced features okay so
Fei sitting alike if you say we can okay
we have these documents here okay I
think we have these schema and stuff
here okay let us see that this might
really help me so I cleared up for the
collection
I will change the scheme of this guy oh
yes and I say that JA these are the both
two-door chars okay I would not really
need this one oops okay these are a few
examples probably so this might help us
creating the face itself without having
to add anything I think I'm gonna have
to switch off this thing as well let me
try and read in this one oops so there
we go
it protects ml so I think what we can do
over here is just to make sure that it
is uploaded to the right core so let us
see I think I specified the right come
on I don't want to look into it again I
think I specify that here yeah
since trying to load say give you this
thing this is another way in which you
could post up your documents so what I'm
trying to do here is that okay let me
see if I can go to okay I'll pin solar
starch okay and I think it would open up
another one for me right
so what I'm going to do here is that
Chava - D URL so I am going to upload
that - let me just tell me to make some
modifications here okay so this was the
one okay let me do this okay I'm trying
to upload this to collection - and the
little ID would be plus six and it would
be application XML and I can specify the
name as input dot XML okay so this
document uh should be here okay so I
copied it here okay
now might I can always go back to this
example example talks okay
and I say upload this okay oops I think
I'd not copy the entire okay
all right so I said this oh oh it's
supposed to be input dot XML hmm okay we
have something like an exception here so
okay well okay text field
I do we specify that on the schema yeah
oh oh oh
we looked into solar and the collection
- schema was anyway changed I think this
was modified no I think yes it was
modified I'm not sure why is it not
taking it so there seems to be some
problem with this schema so schema file
is this one and it could not load it
because the text specified on the field
name is not correct okay there seems to
be some issue with this schema eczema
what I'm going to do over here is that
term I'm going to quickly see if we can
get hold of something else something as
a better example okay so let's try okay
we could see few faces through the solar
admin UI as well over here if you see
let's let's try creating the few faces
here I'm looking into collection one is
giving me a tough time somehow okay
we have something like this let's go
into different core which has okay let's
see if we have retrieved 42 documents
okay
any guesses any suggestion guys the you
know the parameter which I should
consider creating the face its anything
you guys can suggest I'm trying to
create that on the chat field and this
would be my okay let's not say
electronics let us try running a simple
example here and I say that ok pricey
ask him we could always create so I'm
trying to preserve the price example for
the range where he basically the range
visiting so these are the number of
faces which were generated with the
category so we have electronics here
which had approximately 12 documents the
currency one the memory the two
documents in the connector category the
graphic card harddrive okay so we did
not specify any field of any face at
query so it did not really got me
anything here then we have also not
specified any face it ranges here and
the face of dates here and the intervals
as well here so that is why it is all
coming empty so what if I added the say
the field query oh sorry you face it
query and I said that I'm looking for
maybe maybe these Samsung ones or
Samsung or Apple maybe let's see what do
we get now
so apparently it got me these Samsung
ones and it got me the okay Samsung or
Apple so how many has it got me now okay
so Samsung or Apple apparently has it
will has to documents are there in so
that is why it is giving me the two
documents here so faceting the results
which are very very specific to the
faceting would be included here so as in
as when you keep on mentioning the
parameters here you're going to see
these and these will be populated so
what if I say that term oh let me
specify more draw okay I say that I am
looking only for the faces which start
with E l.e so I am only going to get the
faces which start with ele let's see so
e L II was there in three phases so I
got only these vessels so let us see if
we can get hold of okay we have tried
all the parameters which were available
here is there anything which we left
just mentioned here no the face it true
okay
so otherwise if you look into the query
oh here it has face it equals to true if
you are sending in this query through
the UI basically so you would have to
turn on the face it so this this has
been taken care of by that term checkbox
which was there right okay yeah so see
it
it gave me this error because there
seems to be some problem with the schema
I tried replacing that one so I think it
is the wrong schema so it is the problem
with the schema so maybe you should also
not try this example maybe you should
also try something like this so that
there seems to be some problem in the
schema so okay let us go back to the ad
Oracle course of collection - anyways
not loaded now okay
ah alright which one is the next one oh
okay rest of us rest of the neat things
we have already covered here so I think
we're good with effacing
let's see if we have anything like the
range facets here so I think not oh I
think the schema is for solar for dot oh
oh I'm not sure solution because I've
tried replacing the schema once I mean I
do not remember for which example did I
do that but it worked at that time maybe
there is some other problem and just
because we are running out of time that
is the only reason I don't want to
really look into it
I hope field type text is unknown yeah
so maybe we maybe text is not really
defined as the field that that is the
reason or maybe it was not the correct
one so I would have I would look into it
or probably get the right one uploaded
let me try this after after the class
movie so maybe they forgot to create the
field text maybe text is there man
so I'm not sure what exactly is the
problem no not really deprecated because
I have been using text term all the more
and all the examples I have been using
so I am sure it is not deprecated
basically but they must be there might
be something else
so okay ah let's see if we have anything
else here okay so it must be the change
visiting okay no that's not very
interesting okay so let us quickly cover
a few more topics before we disperse for
the day okay so then we have the
arranged visiting which is a you know
kind of for another feature which is
basically added for evaluating the
Rangers for the data which is which has
anything in which we could make the
Rangers we could form the range say the
price or we could also lexically form
the ranges so we could specify a face it
dot range okay like we say face it
equals to true we say that we want to
turn on the range visiting then we can
say that face it dot range which starts
from say a particular price or
particular word and then we say the face
it would end at this particular word and
the gap would be of say whichever number
of documents or job the numbers maybe we
took one of the examples like the price
ranges from 50 to 1,000 and we would
like to create the range which starts
from 50 to 1,000 and we say that the gap
would be a hundred each let me take a
sip of water guys
okay so we could also specify
face at range dot hard end which is a
boolean parameter basically that
specifies how solar handles the range
gap so it is supposed to be say evenly
distributed so that could also be done
okay so if it is true the hard end
equals to true then the last range
constraint will have the face at range
dot n value as an upper bound like ispai
I say that my faces are supposed to
start from 50 to 1,000 but I do not have
anything which has the value of 50 so I
have the value starting on from 100 and
they I just have the values which range
from say hundred to 990 so when I say
that I'm trying to form the faces with
the 52 1000 it is going to create that
as the say the upper the the upper bound
and the lower bound basically would be
the exact width of the specified range
gap so by default it is false okay so we
could also specify if we would like to
include and exclude the upper and the
lower bounds by using this face if that
range include parameter so it could be
true or it could be false so let's take
a I have not taken any examples for this
one so let's see if you could get hold
of something okay let's forget this one
so I have this query which was there
okay let me get rid of this think oh
this is fell okay
okay let's see we can get hold of
something like this okay and I say face
it Aang
and I say price is the field and let's
see if I can get the basic query then we
can make few modifications there and
okay
let's see if we have caught any faces
yes so we've got a few faces here so
what we could do is we could define the
face it range here okay so what I'm
going to do here is that I'm going to
say that face it dot range equals to
true Oh range equals to true okay
and what all parameters we have here and
I say that face it field is price and
face it dot what was it
range dot start with the say hundred and
face it dot end no visit range dot end
equals to two thousand and I
specifically trained gap or gap a range
gap face it dot range dot gap equals to
say hundred said I guess yeah
so let's try this example oh okay so
seems like we've not got any arranges
here something must be talk
okay this seems to be fine and I say
that except field is the price field to
face it not range okay am I supposed to
say okay I can always remove the e it
was not listing this parameter let's see
if we got anything now
no okay
all right what s missing any station
guys I mean this seems to have worked
oh okay let's see what did we miss let
me take off these okay face it range is
true and face a dot field equals to
price let's see if we have the range
visit available okay that there seems to
be some problem with the face at range
here so maybe that is the reason the
face at dot range thing is not seems to
be working on here oh okay yeah I guess
that might be oh yes I think that makes
oh yeah I seem to be forgetting a lot of
things for some reason okay thank you so
much session that's so nice of you
actually you're a lifesaver
so this is these are basically the face
sets which are created and these are the
face it term ranges so I mean there are
times you know when you keep on you kind
of forget things kind of slip out of
your mind
so because you have the nice you know UI
for a lot of the things a lot of things
so these are basically the ways so face
it dot range is going to over here
you're going to specify the field on
which we're trying to turn the range
faces on so thank you so much dushman
for helping me out with this one okay so
you're trying to create the face Asami
price
we say that the range starts from 100
and it goes till 2000 so the last phase
had formed was for 1900 so there's this
way in which you could create the range
visits basically okay so I think we
could also try a few more examples maybe
I could give you more advanced example
for this one when I provide you with the
lab excise for this one then we have the
pivotal decision tree faceting now this
is again the more say advanced form of
the faceting in which you have all these
summarized data therein right
did you guys remember what we saw when
we saw the clustering off the results on
the velocity UI we have the categories
under each phases so it's like if they
were faces which were created we also
saw thee we also saw that there were
subcategories of each face it so there's
kind of a more handy tool when it you
know comes to the summarization
basically so you could you know
automatically sort count or create the
average of the data which is already
stored on that face it so it is it is
more like a drill-down function
basically like we have the breadcrumbs
so when you would like to drill down or
drill up the data so you could you would
want to use the pivotal decision tree
faceting so there is this example over
here so let us see if okay so what we
could do is we need to include along
with this one we need to include the
this okay let's see if we get something
okay we have got something here so we're
trying to limiting we trying to limit
the number of phases which are generated
and the faceit field is the category and
the pivotal you know face it is created
on category
clarity and in stock okay I wonder why
any popularity thing is been repeated
here anyway so we can see that once we
navigate back to the results yeah so
every time we have the pivot face it
here we can see that the count of this
is two so this is basically giving me
the number of faces okay the face it
feels were there so he category had the
subcategories here like there were
twelve documents under the category
itself which which came under the
category of twelve under the electronics
and then four documents under the
category or four books then four under
the category of currency okay then we
have the pivot faces created here so
when we saw that field was category and
we were looking into the electronics
suffice it so we had these two these
twelve documents which form the part of
this face it and then furthered this
face it had a popularity in stock as to
drill down features which were available
with the each visit so I hope I did not
confuse you guys this is kind of a kind
of for say you're creating faces and
then what you're trying to do is that
you are trying to add additional
information with each face it that is
why it was repeated so these are the
major you know faces and then you're
trying to contain popularity and
category as the pivot faces basically
okay is that clear guys yes no maybe
okay okay all right
so I'll take say another five minutes or
something
okay so interval this is like because I
want to create I want to clear the face
thinking of for today's session maybe we
could continue with the rest of the
topics for a job say next week's session
okay so interval faceting allows you to
set a variable interval and count the
number of documents that have values
within those intervals okay so it is
like you you turn the you you specify
that if the specific field would be
faceted by intervals so for this you
need to have the dark values enabled so
you would be able to perform this type
of wasting only on the kind of fields
which have the dark values enabled so I
guess we discussed this when we were
discussing the schema dot XML that for
the advanced features like highlighting
and faceting we need to have the doc
values equals to true that needs to be
set to true like this so over here if
you see we have the category field and
Li so this could be used for such kind
of facing the interval visiting so you
could set up the maybe the length offer
the interval and then you could specify
a face it interval dot set and then you
can set the interval say if you're
talking about maybe the price fields I
mean that's something which is coming to
my mind so you could create the interval
of say the starting field would be
something like five five to ten so next
field would be created on the basis of
ten to fifteen something of that sort
so you would create the interval of
facing
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>