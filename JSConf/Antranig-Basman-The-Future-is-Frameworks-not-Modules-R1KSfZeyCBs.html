<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Antranig Basman: The Future is Frameworks, not Modules | Coder Coacher - Coaching Coders</title><meta content="Antranig Basman: The Future is Frameworks, not Modules - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Antranig Basman: The Future is Frameworks, not Modules</b></h2><h5 class="post__date">2013-01-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/R1KSfZeyCBs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">because I'd like to start by saying how
happy I am to be at a conference that
supports the expression of such
unpopular ideas I'm going to be talking
on the subject of frameworks and why we
want them should say a bit about Who I
am and where I come from I work with the
fluid project who r group of people
primarily interested in accessibility
who work in Toronto we've got number of
partner projects that we're engaged with
at the moment some of these are working
in the space of museums or academic
projects and generally their issue of
accessibility is one that is strongly
underrepresented in the world of web
technologies if any developer deals that
at all it's largely as an afterthought
the world is full of exciting new
whizzing technologies that often leave
people who have different requirements
left behind but the talks got a larger
focus since I'm talking I'm intending to
talk about larger issues about the way
that we think about the code we write
since the biggest problem is that
software doesn't work the way that
people want it to work people if you
find an interface that you don't like
there's nothing you can do about it
generally you can submit a bug report
and see if anybody pays any attention
but usually they weren't so there's a
certain mindset amongst developers that
I wanted to to characterize that
developers when they have their code and
when they they reflect on how to deal
with a a threat to their architecture
there's a stereotypical way that they'll
tend to react and this is by becoming
what all kind of code misers they'll
hide hide the visibility of their code
from other
code or they'll hide data from other
people in particular they'll hide it
from their clients because of course
developers think that they're the only
people who should be allowed to get
their hands on code I mean perhaps this
version of of Scrooge is a more cheerful
one but basically the images all of this
code is heaped up in private and if you
see any kind of architectural threat the
way to deal with it is by creating a
module system that it's like a bank
vault you put your code inside the bank
vault and nobody can see it from the
outside so the central problem of
software comes on these two axes there's
a failure of what you could call
composability so if you combine two
modules that meet two different
functions a and B the system that you
create has got greater complexity than
the complexity that's in the two modules
on the other hand looking at your users
if you try to if you try to do two jobs
for your users x and y you'll discover
that the work you have to do is greater
than the sum of x and y and these
inevitably deal lead to the death of
your architecture eventually due to this
failure of composition in complexity and
development costs eventually every
development will become an unscalable
ball of mud so yes I have to apologize
for putting an equation here I mean
since it will probably drive away half
of the audience that we have but anyway
this is a broad equation showing the the
economics of development so how much
does it cost to do something so you pay
the cost of your framework and your
tools and then on the right is some
function derived from what you actually
get done as work what functionality did
you deliver to your users and so there's
some constant scaling factor which is
you know your day to day grind which is
the sort of thing solved by frameworks
such as coffee script and then they
it is this exponent here the gamma and
this is the thing which is going to kill
you in the end so you imagine this is a
quadratic function then your cost goes
with the square of the amount of stuff
you deliver and clearly what you really
want is this impossible dream this real
code utopia of having your development
costs simply being proportional to the
amount of work you do so can we get
there what kinds of things are going to
assume of it there's plenty of things in
the world which reduce a things which
which would use typing things which
reduce verbosity better tools but what
kinds of things will help you bring down
this exponent gamma so you know here's
here's a picture of your app if you
imagine each one of these little bubbles
is a module you want to make some kind
of assertion about your application or
you want to change the behavior of some
application so if your if your
application is composed of this freely
linked graph with islands of insulation
then you've got no language to talk
about alteration of behavior because
you've got no global point of view I
mean perhaps the module system as a
global point of view but if that's part
of your world then you have to admit
that that's a kind of framework but at
the moment with opaque barriers between
different parts of the application it's
impossible faced with a user who wants
something changed in the application to
make assertions about the part of the
architecture which he's referring to so
this is a kind of problem which we
haven't really made much progress on we
code in pretty much the same way that
that we started coding in 1960 and these
dominant approaches that we have for
dealing with the problem really don't
make the issues much better so why I'm
excited about javascript is because I
think it's a great environment
unexpectedly for solving these problems
so largely as a result of having this
marvelous dialect inside the language
called Jason as well as being a great
model for the state which the
application
managers on behalf of its uses it's also
a great model for representing behavior
or what one would once call code things
like syntax trees things which are
describing what work is to be done but
clearly there's a lot to be bridged in
in getting this done so our product that
we're working on our framework is called
fluid infusion a brief rundown of the
the contents it has in it many of which
are pretty conventional has got an event
system it's got to render a data binding
system and of course assistance for
people who want to make applications
more accessible and widgets these are
all things that you expect to find in in
a normal framework but what I want to
talk about is our ioc system so this is
the inversion of control system that
we've been working on I'm glad that
other speakers on track be have already
talked about these so I don't need to
describe in too much detail what they
are an inversion of control system takes
out of your hands the responsibility for
constructing objects and wiring them
together you can think of it as being
allowed to hand a box full of jigsaw
pieces to your framework and for it to
just work out how to put the puzzle
together without you saying well do one
thing after the other do this first
thing to this second thing so we
inherited many of the concepts from the
Java world which these ideas originated
in but the crucial idea that was missing
was the idea of context and this is the
the idea which allows us to bridge to
the world of our users users and their
requirements of what provide context and
this context awareness has to trickle
down through all parts of the
application structure and looking back
at this that tangled mess picture we had
clearly it's impossible for the context
you travel across these impermeable
boundaries in our architecture
everything in the application has to
have a line of sight to the place where
context arises so contextual awareness
has to be the crucial aspect which is
entered into the system and especially
the transparency which the Jason model
gives us is going to be the principal
weapon we use to transmit context
awareness throughout the application
it's the wrong way around right so let
me just skip ahead a bit so this is a
what we call a demands block so this is
a fragment of of configuration of the
application and as you can see it's
clearly simply a JSON object we don't
have funny things in here we don't have
function calls the only potentially
funny thing we have is this expression
in curly brackets here which is
something that matches a context name so
what does this thing do this thing is a
rule for explaining how a particular
requested operation is to be resolved in
a particular context so the first name
is the name of the function which is
required and these functions exist in a
global I mean a truly global name space
of functions it's a it's a moral
namespace they may or may not be any
particular thing sitting in a particular
global scope does this but this name
uniquely defines the function which is
required the second name or actually the
third name the third name really is the
name of a function so in this particular
case we want to honor the requested
function by choosing the name of a
concretely existing global function now
the second name is the crucial on the
second name identifies the context so in
this slot were actually allowed multiple
names so you can think of this as a kind
of CSS system for talking about code
multiple context names when matched
provides
a more specific concept of the context
so a rule which matches more contexts
will beat one that matches fewer fewer
contexts so these two names interact in
a kind of partnership that the demanded
function name is the name of what the
user wants dunn's the second name or
multiple names define the scope of
matching of this rule and the final
block is the disposition of this rule
and this disposition is again
configuration and this configuration is
also addressed at this tree so if we
skip back a bit to this kind of tree
unfortunately every structure in
computer science ends up looking like
one of these boring structures but this
one has a particular interpretation so
this tree is a globally visible and
globally resolvable data structure and
it's shown partway through the process
of instantiation at this point marked in
green the component the component marked
it green is the one which is currently
resolving and by process of resolving
these rules the context is drawn from
the section of the tree shown in yellow
so you can see this tree is in some ways
a model of a standard scope system apart
from the fact that the actual nodes
themselves write it to the scope as well
as their children this is just the way
that scopes work in normal programming
languages so these these yellow boxes
form the context both for the purpose of
matching the rules and secondly for the
purpose of matching the disposition of
the rule so for example this
contextualise expression in curly
brackets undergoes what's called value
resolution so this value is resolved
contextually in the tree according to
what according to what can be found in
it so what was the crucial feature which
is lost when
the sacred Brendan I constructed
JavaScript from the raw materials of
Lisp there was a crucial property which
Lisp has above all other languages which
JavaScript doesn't enjoy and this
property is called home iconicity this
is the equivalence of programming
languages syntax tree with a data
element of the language this allowed
Java this allows Vegas allowed list
programs to operate on themselves with
special kinds of functions which were
called macros and macros were functions
which accepted one block of code and
produced a different block of code and
this is the one thing which which we
which we don't have in JavaScript we
can't transform the insides of functions
we can only transform functions by
wrapping them in other functions so we
have higher order functions but we don't
have macros so it's clear looking at
these kinds of structures you can see
this this structure being specified
purely in Jason bridges the gap to to
this crucial property and it's clear
that to make really scalable and
efficient designs we need to be able to
recover this property because most
interesting requests for new features by
users will require the tree of code to
be transformed so this this structure
here serves many roles I mean it has the
the classic role of collecting all the
widgets you've made but it's also a map
of all the state in your application as
well as all the dependent structure but
it's also a computational structure like
a syntax tree or like a map of nested
scopes like a call stack so this is a
this is a multi-purpose structure which
will enable a new kind of programming so
as some concrete examples of the kinds
of things which we're interested in
achieving so imagine these two views of
a of an Amazon page so these are clearly
the same resource in some sense one of
them is displayed on a desktop browser
and one that's displayed on a mobile now
amazon can solve this by throwing money
at it they simply develop the page twice
and they say okay this is this is your
small cut down page and this is your big
page and this is just you know dealing
with one class of user the biggest
top-level division of users into ones
who like small things on mobile screens
are ones who like big things on desktop
screens imagining the whole universe
full of different things that people
want done you can imagine this is a very
small start on the kinds of problems
which we expect to deal with but we've
got no answer even even to this top
level division other than just write the
thing again and maybe you can share it
maybe you can share a couple of widgets
between the two of them but that's about
it imagine all the kinds of special
needs which users might want you know I
want I want that there to be a different
contrast I've got special navigation
requirements so in fact people are so
desperate for even this kind of
transformation that we're doing work
just simply to fake out the Amazon
server-side by sending a user agent
string pretending that say a desktop app
desktop browser is really a mobile
browser because people who for example
once simplified content for some reason
this is the first way they've ever been
able to get it and the way they get it
is by impersonating a mobile user agent
so all kinds of contexts in which you
have different needs you're wandering
along and you're operating this thing
one handedly wouldn't it be great if if
it switched to really simplified
interface that could just respond to
broad gestures and perhaps when you've
got some more attention you can you can
use the fine-grained version site again
anyway so these are the kinds of issues
that we're interested in solving with
this new approach to building software
labeling software that is much more like
this squidgy iphone users really want to
be able to pull your stuff apart and
make it work the way they want whereas
if your code is sitting in your scrooge
silo there's no way they're going to be
able to get the stuff out to to get the
things they want to do so this island
with this inspirational quote from
Johnny
Taylor that we don't we can't even
imagine what better you eyes looked like
because we're a community who's full of
people who are just all used to working
in a particular way and we produce
interfaces which look and work a
particular way and in general they don't
work the way that our users want them to
work so I'll skip over examples of
markup and say yes we want this kind of
out in the open model of transparency
where things can be picked apart and
bolted together again and here all our
details thanks very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>