<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Thomas A Valletta: The web game console | Coder Coacher - Coaching Coders</title><meta content="Thomas A Valletta: The web game console - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Thomas A Valletta: The web game console</b></h2><h5 class="post__date">2013-01-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/XtP7RWoKGRA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright so after a couple really deep
presentations yesterday I thought I
think that maybe starting off with
something a little bit fun am I on now
okay sorry something a little bit more
fun and what's more fun than gaming
right so I'm going to talk about the web
game console and I have a bowling app to
show you so let's just get going so i
wanted to start out with survey because
I'm kind of into gaming but everyone's
not into the same thing but let's just
start off with this how many of you x
raise of hands are into gaming alright
that's a good number that's great how
about how many of you have one of these
this is a PlayStation 3 raise your hand
if you have a PlayStation 3 okay that's
a good number what yeah we'll get there
don't worry yeah this is I know this may
offend people to put this light up
because it's not your favorite one
playstation sony sold 62.6 two million
playstation 3's and then for those who
are more interested in this console
raise your hand if you have one of these
so it's about the same and the numbers
you'll find her about the same two 65.4
three million so it's close to the same
there how about one of these you don't
find as many people saying no we but
yeah there's there's what not that
they're not great right but they sold a
lot more 95.3 five million how many of
you have one of these gaming consoles
yeah that's right because they sold 150
7.8 million smartphones in 2011 in the
fourth quarter so
yeah quite a few more of these exist and
then when you you pair this up with
other internet-connected devices with a
total of five billion of those sold you
have a few a little bit better market
share numbers in that camp so anyway
that's what I wanted to talk about I
want to show you my simple game that I
wrote and then talk about how I wrote it
and go into some of the detail of
building web games and and basically
mobile web development in general so the
way that you launched my game you can't
find it in the app store because it's
just a web game and you just go to the
URL which I haven't published yet so you
won't be able to do this yeah we'll get
there but it launches from an icon on
your phone just like that so it launches
like any other game that's a blank slide
so the mobile interface looks like this
once you get the game running it just
gives you a bowling ball and you put
your thumb on the bowling ball and then
you swing it let me give you a
demonstration there's my I don't know if
you can see it but there's my bowling
ball app you put your thumb on it and
then you swing backwards and forward
just like you would a wii controller
because it uses the gyroscope and the
accelerometer to take the calculations
of the swing through and then bullet
down the alley so it the ball slides
forward and it looks like that and yeah
on a web slide deck it doesn't look that
cool but the display on another display
you have your bowling alley and so then
when you do this action the ball goes up
and hits the pins and it's a pretty
simple game and let's see if I can hit
those other pins by spinning it sideways
yes thank you
so I've had a lot of practice at this
game I'm the only tester I always wanted
to be a game tester right so I'll just
do it again just because I like 20 same
spot yes that's annoying let's start
over I think I can get a strike oh my
gosh well close enough all right let's
move on you guys can play it later I
think if we wait long enough that one
might slide off the end it's moving just
wait a second okay so so let's just talk
about how it works so on the client on
the mobile device it's just html5 I
don't have a native rapper or anything
and so it's just CSS transforms for the
smoothness and then the touch ap is that
you can use with your phone I already
talked about how it requires use of the
accelerometer and the gyroscope in order
to get the twisting and turning that you
need to be able to send the right
information to to the server on the
server I'm using node and web socket too
so that my phone can just talk quickly
to the server the total amount of code
is I think it's 30 lines of code for the
whole server side piece to run i'm using
socket i/o and really 15 of my lines of
code or pretty boilerplate so so that's
not a really tough part then on the
client the the bowling alley I'm using
canvas for the bowling alley and i'm
using box2d web which is a 2d physics
engine and it it has a game loop in it
and some really good examples of what
other people have done with it on the
web it's pretty easy to get going in
fact I
I wanted other people to be able to play
with it and use it and so Gabe daily and
myself who put this together put a
tutorial up on github so that you could
basically build it yourself and step
through and I think that that I have the
URL for that later on in the slide so
you could run it locally and hook it up
to your phone but as we as we use the so
this is the bowling alley again and when
it comes forward now it doesn't have
pins now it has a bunch of trash so
box2d has this cool debug draw that lets
you just throw random shapes out there
and then you can just bowl into random
shapes which is sometimes more fun than
bowling into the pins but you all if you
don't want to provide your own renderer
then box2d will let you just do the
debug draw and it'll draw out your stuff
for you and then when you figure out the
renderer then you can do that so I just
wanted to show you bowling against
random geometric shapes the tutorials
here if you're interested I'll also put
this again at the end of the slides if
you just search on github you can find
my repo and it's called web bowling and
if you go to the wiki there's a
step-by-step tutorial on how to build it
or you can just download the code and do
it yourself you don't really need any
you need node on your server but and
then you need a mobile device and I'll
talk about that later on some of the
other stuff that you need a mobile web
development though isn't all that
straightforward there's a there's a few
things that are missing right now that
need to happen in order for this to
really kind of take off and so I want to
talk about that for a second so the good
part about mobile web development is
there's no IE 6 all of the yeah thank
you but there is windows seven phone or
Windows Phone 7 or whatever it's called
which had this like abysmal it might as
well have been ie6 that I guess the the
good part about it was that no one
bought it
yeah sorry no I think that Microsoft is
doing some great things with ie 10
that's money and I'm excited for it but
yeah windows seven phone was bad the
good part about it is device lifespan is
really short and so as new phones come
out with new features like two years ago
no phones had gyroscopes right and then
the iphone 4 came out and it had a
gyroscope and now all the phones are
coming out with gyroscopes makes it easy
to do cool stuff like this and then you
know right after they come out the api's
come out to support them and really
quickly you have a whole bunch of new
features on a whole bunch of new devices
so that's the good part about mobile web
development the the not so good part is
that the tools kind of suck that you
have what's that one the winery wineries
is kind of good but it doesn't let you
step in and debug if you were at Paul
Irish's talk yesterday he did a great
job talking about what they're working
on in for remote debugging in chrome and
that'll be great I wish it was there
today super excited about it so and then
offline so i put the little asterisks
down there for chrome beta because once
chrome beta is available then at least
one device will have some really good
debugging tools so offline is also
difficult offline is a weird thing
because it's been available on mobile
devices since i think the first version
of the iphone they if you went and to
WWDC then you probably signed a
nondisclosure and you're not allowed to
talk about it so I can't say what i
really thought but it it doesn't work at
first they made it so that you could go
offline and you could set up your cache
manifest and then you'd be able to turn
the put the phone in airplane mode and
then run your app that way but what they
really did was as soon as you went back
to your application
and it would try to refresh the page and
it wouldn't go to your app cache it
would just pop up a little modal dialog
that said hey you're offline try
connecting online again which it what's
the point of that it doesn't make any
sense right so so anyway I wanted to
call out a few people specifically apple
for sandbagging and I know that this is
going to offend a few people but that's
okay throw something at me preferably
money but yeah so they so aside from
their original offline web stuff that
they did that was kind of dumb then they
added a WebGL in iOS 5 so WebGL is
available right now and you could do
your 3d stuff on the mobile devices
except it's only available for I ads and
you can't use it in the rest of the
browser so that's just dumb it's just
them trying to protect their their
application their native application
store right where they make up all their
money and then they still have when you
when you have an offline app and you try
to bring it back you go to it it still
tries to refresh and and it'll go to the
app cache now they fix that but it's
still kind of annoying that it has to
refresh every time and then the this
one's a funny one because everyone
trashes ie6 and windows for attaching
the browser to the operating system
right so that with you don't get the new
browser until the new version of the
operating system and everyone gets after
Microsoft for that and Apple does it and
Google does it but no one mentions that
it's really dumb anyway so i had to call
them out because that sucks and it's
stupid but you can't just call out apple
you have to call out google too because
browser browser if you have an android
device and you have that browser icon in
some cases it's actually called internet
and i think it's because they don't want
to attach themselves to it like oh this
is just a browser this is
chrome or anything that we care about
it's just yeah its weak and it is really
weak I mean if you use the browser kind
of sucks and app cache the offline
doesn't work at all if you go into
airplane mode and then you come back
then half the time it'll never come up
with your app even though it's been
cached and so that needs to be fixed as
well and by the way the browser is bound
to the OS now they recently released
chrome beta so if you have an Android
device that's running ice cream sandwich
then you can load Chrome Beta on there
and it already does far better than
browser but but it's still in beta and
we're hoping for great things from them
but but we have yet to see a full
release and so we're excited but
cautiously so I did want to show you
this this is H screenshot from html5
test and I apologize that it's hard to
read and it's small but what you'll
notice is that Android 4 is in sixth
place there and that's unfortunate it
another thing that i wanted to show is
that windows seven phone or Windows
Phone 7.5 has a score of 141 yeah ouch
the other thing I wanted to show you is
that the number one and number two spots
are held for are held by people who
don't make their own devices and don't
have a native app store that's opera
mobile and firefox mobile so it just
wanted to point that out I will also
show you that Chrome although Android
Browser got a 256 chrome beta gets a 3
43 on this so good job to them I hope
they continue yeah alright so you know
enough people have called out IE what is
there more to say about that
good job guys get in the game so this
one's not a call out this is a call out
to Mozilla I'm not going to call them
out I'm super excited to see boot to
gecko I even got a device ready and I
loaded boot to gecko on there so I could
come in and show you guys boot to gecko
and how excited I am about that but now
I don't really need to write thanks to
Mozilla yes so I appreciate Mozilla for
for trying to keep for keeping them
honest because Mozilla is not going to
have a native app store right they'll
have a web app store and so they'll make
sure that the web doesn't fall fall in
second place to the native app stores
where the guys can make more money the
other players and so I appreciate that
there's no conflict of interest here and
I wanted to make sure that that Mozilla
got enough support I mean not that I
hope that they get enough support to
push the other players to be honest so
that's a that's all I had here's my
sources and I put the the tutorial and
the web bowling game down at the bottom
here and you can check it out and play
with it that's all I had for you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>