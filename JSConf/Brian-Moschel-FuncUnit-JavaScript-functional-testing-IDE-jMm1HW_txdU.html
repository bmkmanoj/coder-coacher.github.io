<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Brian Moschel: FuncUnit JavaScript functional testing + IDE | Coder Coacher - Coaching Coders</title><meta content="Brian Moschel: FuncUnit JavaScript functional testing + IDE - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Brian Moschel: FuncUnit JavaScript functional testing + IDE</b></h2><h5 class="post__date">2013-01-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/jMm1HW_txdU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">everybody my name is Brian Michelle and
I'm gonna talk today about funk unit
which is can everybody hear me in the
back cool so I'm gonna be talking today
about funk unit which is a JavaScript
functional testing tool and also there's
an IDE that we've released that's in
it's very infant alpha stages and I'll
show that off as well so funk unit is
actually a piece of JavaScript MVC
that's stand on it stands on its own and
testing for who in the audience actually
writes tests for their JavaScript
applications quick show hands that's
that's good that's more than half that's
more than I expected but you know this
is probably the Deathstar is probably a
good example of why testing is important
because we don't do it it can be pretty
costly can bring your systems down so
we're gonna write some tests at the end
of this I'm going to run through these
slides really quick and then we're going
to test the this contacts management
application and write some JavaScript
tests for it
so the reasons why you should test it's
pretty obvious I'm sure is that in in
crude and improves your code quality
developer confidence people will
refactor their code without worrying
about breaking other people's code and
efficiency because if you don't know
that there's a problem two weeks down
the line you have to rehearse engineer
all the changes that have happened since
that problem was introduced so this so
testing lets you you know realize that
there's an issue before it's too late so
the testing landscape right now there's
there's a lot of functional testing
tools out there not too many of them are
for JavaScript and that's where funk
unit kind of comes in so there's there's
a lot of functional testing tools for
written for other languages and unit
testing tools written for JavaScript but
funky and it kind of hits that sweet
spot between functional testing and
JavaScript based tools so the reasons
that people don't test traditionally you
guys most of you do test so this will be
review or not necessary really so I'll
go quick there's a lot of testing tools
have high cost and setup which is a
barrier to entry for new developers
foreign API is if you're writing your
application in JavaScript you don't want
to write your tests in Python and Java
or.net you want to write your your tests
and JavaScript as well as an example
here's what a qtp test looks like and
it's kind of
obtuse if you're you know jQuery
developer JavaScript developer it's kind
of hard to see what's going on there as
opposed to something written in
JavaScript based on Q unit that it's
pretty pretty obvious what's going on
for a Java developer it's difficult to
debug across platforms so if you're
writing a selenium test in PHP that runs
across the selenium bridge into Firefox
there's a lot of places where you have
to check to see where something is going
wrong what you'd really want to do is
just open up a Firebug console and set
breakpoints and debug your tests that
way because we're all used to that so
another issue is inaccurate event
simulation if you the traditional
example here is if your testing suite
doesn't have very accurate event
simulation in this example you know if
you're writing a test that clicks this
this input up here your testing suite
has to not only publish a click event
but the browser also publishes a focus
event so you know that could break your
your test or your test could not work
because the simulation wasn't accurate
enough and that's not what you want and
then kind of related to the first point
where if you if you can't set up your
testing tools if your developers aren't
setting up testing tools because they're
costly or difficult to set up
then QA can't really communicate with
testers very easily so I'm sure any of
you who work in a big company I've seen
something like this before this is you
know a bug report that's been filed and
in which you'd rather see is just a URL
to a breaking test case or as a
developer you don't have to spend an
hour just getting up to speed with what
the actual problem was so func unit
features in browser or selenium based
testing you write the test once and it
runs in both places and it's a jquery
like syntax there's no setup involved it
just use this java in the browser it
provides accurate event simulation in
this new shiny ide so it's built on top
of selenium q unit jquery this since
synthetic library that simulates events
accurately and finally were to the demo
so let's jump out and look at some code
we just pushed out a new version of the
func unit website so if you go there
there's a download
there's no mouse
so there's there's a download there and
you know I'm gonna set up mirroring real
quick so I can actually see what I'm
doing
okay
so if you go ahead and download the
framework I've already done that so we
can save some time it comes with a
couple folders I've got an app running
locally here that we're gonna write a
test for it's just a simple contact
management app and all you know there's
some functionality or if you click
really see that well but if you click a
category at the top it filters the
results and you can add new categories
through this little form here so we're
gonna just write a quick test at that
that form creation actually works so the
first thing you do when you download
funk unit is you can copy all these
files into a funk unit directory in your
application so I've got this funk unit
folder right here and I copied
everything in there comes with this
little demo app so if we open that up
and you're there it comes with in the
demo app there's your application page
right here and then a funk unit page so
if you open the funk unit page in your
browser so it's gonna do some typing and
some dragging and dropping and then what
actually happened was this page opened a
you know separate window it's your
application and then ran the test so
this is just cute it's just a it
is an API on top of cue unit so if you
seem qunit test before it works in a
similar way so we're gonna go ahead and
write a test for the for that
application that context application so
all we want to do in this application
it's for this test actually is click the
lips where'd that go
so we're gonna we're gonna write some
code that's going to click this cut this
create button here and then it's gonna
click inside of the the form that pops
up it's gonna hit backspace a few times
to clear out the what's what's showing
and then it's going to type something
like animal and then hit enter and then
verify that something actually showed up
so I've got a cheat sheet here but
basically well we'll write the
pseudocode first so all it's going to do
is we're gonna first open the right page
so s not open is the command that opens
the page we're two directories office so
it's going to go to contacts that HTML
and then we're going to grab that
contact that plus button there and we're
gonna click it we're gonna wait for the
form to appear so there's a concept of
Waits and basically that means just keep
waiting keep checking to see if a
condition is true and don't continue the
test until that is the case so we're
going to wait for this input to appear
so we're gonna we're gonna say that
exists actually will say that visible
it's going to wait for that to be
visible and then it's going to click it
then we're gonna type backspace four
times then we're gonna type animal and
then we're gonna hit return character
it's the Enter key oh wow
I need to hurry up here okay so I'm
gonna skip ahead and show you so if you
if you're interested more and checking
out the if you want to check out the API
there's a link got too many tabs open
here to the documentation right here and
that should show you the API for a funk
unit I'm gonna just go ahead and copy
the test into there so we're we're using
jQuery selectors to to grab elements
here so we're gonna grab the create
button click it grab the input make sure
it's visible click it type and then
we're gonna verify that there's eight
items instead of seven and in running
the assertion so if I run this this test
again
it's gonna open up the page you see it's
typing really quickly and then they'd
verify that that actually worked so we
can run the same tests from selenium
using a command-line so we type func
unit MGS and then the path to the page
I'm just going to open up a selenium
server and that's gonna open up Firefox
so this can be automated for your QA
team and it was quick but it did the
same test and then okay I wanted to show
the very alpha funky IDE so there's an
IDE that we just were working on still
but it's it can be useful because really
the hardest part of writing these tests
sometimes is getting the selectors right
so this if you I should show you where
this comes from so if you go to the
funky unit page there's a funky it IDE
that you can click on and that's there's
a bookmarklet in here that you drag this
to your bookmark bar and open up any
application actually since there's a
bookmarklet you can do this from any
non-local application as well you click
funk it and then it opens up a little
IDE on the bottom here where you can
record records your your actions in the
page so I'm gonna go ahead and click
click that plus button I'm going to
click the input hit backspace 4 times
type animal hit enter very delicately
hopefully this is uh and there's there's
weight conditions that you can use as
well so we're going to wait for that
last thing to be visible so and then you
can click the Run button it should
replay your test in the browser so
that's that's it and just to show
off a kind of a cooler demo Grooveshark
which is a JavaScript MVC application
quick plug there you can test
Grooveshark by clicking the funky
bookmarklet and it's gonna it's gonna
open up Grooveshark with funky it on the
on the bottom of the page there
depending on how fast the Internet is
I'm not sure this will be there we go
okay so if we click in the search for
music here type in Taylor Swift she's my
favorite and then we can do a wait for
the text Taylor Swift to be the first
the first mash-up here so if I click the
play button again it should should
reload that frame wait for the page to
be open and type it and then verify so
you can you can go ahead and copy this
into your your test file we actually
have a Save button that's just not not
deployed right now but that's a feature
that that's also out there so just want
to show off the IDE and you know
hopefully this will this will make some
progress in the future if you're
interested in in funk unit as an open
source project it's available at Jupiter
Jas funk unit and some more links here
so Jupiter J s is the company I work for
we're hiring too if anyone's looking for
a job out there and these are the
twitter handles so thanks
any questions for ya
yeah and it's only works in Firefox
because it uses Dom content modified
with other events all right thanks</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>