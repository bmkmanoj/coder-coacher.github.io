<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Daniel Henry Holmes Ingalls Jr.: The Live Web. Drag 'n drop in the cloud | Coder Coacher - Coaching Coders</title><meta content="Daniel Henry Holmes Ingalls Jr.: The Live Web. Drag 'n drop in the cloud - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Daniel Henry Holmes Ingalls Jr.: The Live Web. Drag 'n drop in the cloud</b></h2><h5 class="post__date">2013-01-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/QTJRwKOFddc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">really be talking about small talk today
I hope nobody's disappointed but a lot
of what I'll be showing comes out of
that tradition and I thought it was
great some of the things that David
alluded to the among other things was
the allusion to self from which the
graphics model at this the morphic
graphics model that I'll be working with
came also John McCarthy's half-page Lisp
eval is just the perfect example of
meta-circular programming I think I'll
just start in though and and talk about
what I've called a live web and it's
based on a system called the lively
kernel that we've been working on for a
couple of years and a way of thinking of
it is what if you tried to do something
like squeak small talk in JavaScript and
for those of you who don't know some
squeak is a version of small talk that's
written in itself and the whole
environment is live all the time so
you're you're running in the environment
the debugger the editor all of it is
running live with you and that's sort of
a part of your compositional spirit and
I mean just and so to do that when I
first this was I guess when I was at Sun
it looked like the people I wasn't that
interested in Java at the time so the
people around me seemed to be having fun
doing web programming but when I looked
at it looked incredibly complicated you
know is HTML a text markup language PHP
CSS all this stuff that that didn't
connect with me for basic programming
and I thought why can't we just do
things like we did 30 years ago with a
dynamic language and graphics in the
browser
that's what became the lively kernel so
the basic idea is to is to provide a
component architecture in HTML with a
structured scene graph and the way we've
done it we've done various
implementations with HTML or SVG or
canvas graphics the one I'll be showing
is is just pretty much straight HTML
it runs in any browser and so there's no
download no installation it's really
simply a web page just a pile of
JavaScript it's a composition
environment in addition so it's got a
it's got a small GUI builder and its own
IDE none of the components are sort of
product level software
they've just designed to show that you
can put these things together and get
over that sort of creative hump and then
it's the small talk there was a model of
the image which was sort of the whole
world frozen in a file and we have the
same kind of approach except that we do
it on a web page so at any point in your
in your project you can just store it as
a web page the lively kernel has lots of
neat little kernel bits of software one
of them is web dev that lets you lets
you do that I would sit here oh let me
see I'm gonna just reload this whole
page I'm sorry because that's some stuff
we were doing before in this environment
it's really just a web page but you've
got the basic graphics and added to that
is just a little bit of a little bit of
code that lets you pick things up and
move them around you can make copies of
things and then as I said there are
small little bits of little bits of
editors here so that for instance you
can change the shape of things and then
you can if you drag you can just drag
and drop things one on top of another
like this and then that becomes a new
object and you can in it inherits all
the same properties of objects so you
can you can make copies and and
similarly you get the same they behave
they inherit all the other graphics
properties that are available and you
can there other shapes been added like
polygons and stuff and and there's also
a
a green thread scheduler that lets you
do dynamic behavior so for instance well
he was here's a polygon that you can
pick up and move around and if I take
this and this little halo is our user
interface tit that helps to it helps to
deal with the problem which you'll
encounter if you try to do a system like
this of both having developer support
and user support in there so that's a
way of bringing up our commands so
there's a little inspector lets you
inspect the properties of that polygon
and you can also write code in it so I
could say this start stepping every 50
milliseconds the rotate by method with a
parameter of 0.05 or something like that
and okay so now we've got a now we've
got a spinning star and you can pick
that up and move it around while it's
live you can make copies of it so you
can have a lot of fun with this stuff so
for instance I could take this and
reshape it that way and pick this guy up
and drop him on there so now I've got a
little sort of magic wand thing and I
can stick that on there you know
so so this is how it should be right we
shouldn't be surprised I mean
poor mathematicians you know for
centuries had to deal with with looking
at the outside world and abstracting it
and coming up with cool little theories
now we can write cool little programs
and they go out in world and make these
neat graphic things and music and all
that good stuff
okay so just moving right along if you
take those shapes and just add you know
a little bit more script you can build
up widgets in ways that you all know
well and I'll just show you a little bit
about this so in this environment I mean
I've got a clock that's built here make
it a little bit bigger and in addition
to an inspector you can also get a sort
of a more powerful interface on it and
so that's our module system loading in
something else so here we've got a
scripting browser looking at the clock
and you see here are the names of the
methods and every every object when you
drop it in this world gets sent the
message start stepping scripts that's
what I did to the ellipse to the that
star and and if you take a look at this
one it says start stepping every
thousand milliseconds to set hands
procedure so that must be how the clock
works so I can go and click on set hands
and yes indeed it gets the data object
and pulls out the second the minute in
the hour into variables and then sets
the rotation of the three polygons that
are the three hands here it's setting
the second hands rotation to be the
current second divided by sixty times
two pi so that make sense
but since the system's live I can go
here and type a minus here and and
accept that now we've got a clock that
runs backwards and and that's not to say
that a backwards clock is a useful thing
but by just to show you sort of how it's
all immediate and in the environment
itself so let's see and one of the cool
things about
this is if you build things this way you
know everything runs just fine transform
again people are laughing that's the way
it should be right and and you know all
the text selection still works and in
fact we can even go in here and fix the
bug we put in there and now we've got a
normal clock again okay so this is so so
this is a neat environment but it's it's
it's for people like you and me and not
for the rest of the world it's basically
a programming environment and so we
wanted to widen the community that could
work with this kind of stuff and I hope
to show you some apps that that can be
built easily and and some others that
are real programming but we figured that
a Java Script ID wasn't necessarily the
answer for end users what's something
that's sort of more concrete where you
can pull things together and drag and
drop them that kind of stuff and so I'm
going to show you that environment in
just a minute but what I'm going to do
is it's first escape out of this just so
that you get this it's kind of a cool
aspect to all of this so if you look
here whoops this whole thing that we
were doing that looked a little bit like
PowerPoint is just a web page and and
and that I was editing and so that
little presentation mode is simply is
simply a piece of the lively kernel
doing that okay okay yeah so so we came
up with this notion of a parts bin which
is a concrete repository in the cloud
and there can be a bunch of these of
objects made in the lively kernel that
have been serialized and that can be
downloaded
and let me see don't be alarmed so a lot
of this work goes on at the hustle
Plattner Institute in Germany because
that's where my first interns went and I
thought it was a good place to have an
open source repository and turns out to
be connected with sa P where I now work
but I didn't didn't know that was going
to happen so so you can here's an
example one so here's an elephant this
was sort of the the benchmark for
benchmark for our polygon testing and
and there are a bunch of other things
that I hope to come back to in a little
while but there's also actually useful
stuff here like input so here's a slider
and and then you can you can hook these
things up so if I if I go get the the
menu for this slider then I can ask to
connect and let me move that just a
second hold everything put it in a
better place
so if I connect its value up to the
elephant and it's oh let's see set scale
parameter then you know I have a
scalable elephant sowhat's sorry about
that and now once again that's not to
say that scalable elephants are a really
useful thing but it it gives you an idea
is sort of how you can work in this more
drag-and-drop kind of kind of paradigm
and I'm going to take a minute now and
run through what could be a fairly
serious application done from scratch
and so I'm going to start out with
there's some code here for getting at
the at the server there's this thing
called a command line which you can
think I was just being a terminal
program so I'll put that there and
there's the LS prompt let me see if
that's live yep okay so we're talking to
the server and that's because I was
already logged in good you need
privileges to do this obviously and you
can type more interesting things such as
I'm not a UNIX hacker but I know this
much MP stat and you can find out how
busy the processor is so something you
might want to do is to plot the the load
on the processor on your server and so
we'll go through what it takes to do
that let me come back to here and this
is I'm running on top of sources that
other people are changing right now I
sometimes but so let's go to
visualization so we have the proto biz
open source graphics library in here a
bunch of really neat views there I'm
it's going to take a really simple one
here that will do a graph and pull it
out and put it there for now and get
this out of the way just drag it down
there
drag that over there now what we'd like
to do is to do a similar thing over here
we'd like to hear the numbers that come
back from MP stat and over here on the
right is the is the idle time so if we
take one hundred minus that we'd have
the the actual processing time so go
here to this menu and say connect the
server result which is a string that's
coming back to this graph over here and
it's add data and render aspect that's
not going to work at all because we've
got a text string coming back and this
thing expects new new floating-point
numbers so what I can do is to go here
and and ask for the connections in the
connections we can do this is the one
that I just put in and I can edit a
convertor in it and put this up here you
can see that normally it just passes the
value straight through as you'd expect
and I've got a little little snippet of
code down here just to save us time and
if I put that in here and into the
converter
paste and I'll tell you what it's doing
is really quick it takes the incoming
text breaks it into lines takes the
third one and then ten tokenize is that
line and takes the last one and that's
the idle value and then it returns one
hundred minus that together with a patch
I had to put to get it working because
this is a German server and the decimal
points a comma okay so if we save that
now now it should be the case that if I
come down here and hit empty step see
it's now plotting those values okay but
we're not going yet so now we've
something else we've seen before here if
we go to demos remember that clock we
didn't show you by the way from a
previous demo you'll see the windmill
kind of thing I stored that down there
too so in the clock we could go to it
again and do a connect of its set hands
procedure right because that gets
executed every second and I'll plug it
in here in the the exact parameter which
is the thing that sends that string away
to the server and then collapse this
okay so this is a somewhat nerdy example
but it's just I thought it would get the
point you know that you can make this
stuff be easy and I'm actually this
winds up chewing up a fair amount of CPU
so I'm going to close that guy for that
for the next for the next thing I'm
going to do so I'll show you one other
thing which I thought was cool that one
of the guys at HP I did which is done in
the same way with this just writing
little pieces and plugging them together
what he did was he wrote this this
little unit here which searches back
over the server log and then that gets
that goes to this command-line guy with
it and and essentially does say who is
and then that comes back with an IP that
goes to this excuse me then yeah we get
the IP and then that goes here to an
address extractor after the Whois and
then that gets fed into a Google Maps
and this is something you can do other
ways but this was done from scratch so
if I push search here oh and let me I've
also got a well you see it running there
and there it's it's put its put little
left little markers on the map
there's a bunch of them in Europe
because of course that's where the
center is in some of the US so I thought
that was pretty cool
just to show you I'll take you for a
little tour of the parts bin here some
of the more fun things
just get rid of that this is something I
was curious I really liked how a lot of
cool tutorial software was written years
ago and a system called HyperCard and
I've always wanted yep yep I've always
wanted to be able to do tutorials sort
of with this you know with some some
teaching and some graphics and and
wanted to do a tutorial about aircraft
engines so this is one that with this
this is a demonstration that shows that
you can't make an even running 4 cycle
engine with an even number of cylinders
done as a radial engine so this one
obviously would not be smooth because
it's firing all of them and then doing
nothing for the next next rotation and
you think that if you just made them
alternate that that would work out but
it doesn't because it's 4 cycle and it
doesn't work that way so you actually
have to go to an odd number of cylinders
and there you can see the familiar five
pointed star as it goes around smoothly
so I'll put it back to three-year just
to make things easy so I thought that
was pretty cool there's a kind of thing
you'd expect needed flash and it's it's
just the lively kernel with you know
three three or five rotations of the the
same graphic simulation let's see so
we've got other things here's a here's
little Chinese checkers program this is
that this is a fun one for doing
collaboration because because if you
just make multiple copies of this you
can you can play a game so here's
something where if you start and you
just you know so if I make a move like
this and the computer makes its move and
I can move there and you know and so on
if I move up here and then it figures
that out that's it okay so you've got
the makings of a game and you can make a
bunch of humans or you can turn this one
into the computer
and and it will sit there playing away
at itself while the engines running and
all that good stuff and and another fun
thing is we have a lot of fun with this
is this is just actually just a simple
graphic here our old friend the Mona
Lisa and you can also this is a little
bit profane but yeah get this out of the
way thank you if you're bored you've got
somebody to be with while you're
programming late at night and then
something that I wanted to do for ages
let me pull out the component first to
show you a long time ago in small talk I
had done a keyboard and we built a MIDI
synthesizer for it and everything and
and so when I got the lively kernel
working then I put this keyboard out as
it's a really neat it's like less than
half a page to do the whole layout and
all that stuff but it didn't make music
and I thought that would tempt people on
our on our list to actually make it work
nothing came back the best thing that
came back was an array of 88 URLs to
OneNote MIDI you know does not do the
job so I've been waiting and waiting for
for the world wide web to finally get
some standards out there there are
finally some standards and then I ran
across a neat piece of JavaScript that
the that handles all all all the current
browsers pretty well so that got me
motivated and I remembered the the
simplest possible way to do a to do
music synthesis is called the car plus
algorithm
don't know if any of you know it but
basically you just you load up a buffer
with white noise random numbers and then
you play it but as you play it you
average adjacent samples and the net
effect is that it does a low-pass filter
so the high harmonics start to die out
and you're left with just a regular note
and so okay it sounds like a plucked
string and that's all it's doing and I
can prove it by showing you so here's
more stuff that's running in the lively
kernel so there's a complete browser
which does a parse of the kind of
JavaScript files you would work with any
clips and presents them as classes and
this is looking at the pluck sound class
and then these are all the methods that
are needed for that and this is the the
method for mixing samples into the
actual sound buffer and you see a for
loop there and basically it interpolates
a sample averages the two samples and
then spits them out to the left and
right output so that's how that works
and you can I mean you can actually play
a few there absolute a minute
just a second I'm gonna restart that
there's I think we wound up getting a
long sound buffer here yes if there's a
delay in here which is too bad but
you'll get to hear the audio and this is
usually there right in sync and to a
certain extent you could actually pick
up you can actually be doing things in
the graphics side of this as well every
once in a while is this you miss a
sample by doing that
it's and you can actually you know this
stuff all really works
and you can do really stupid stuff</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>