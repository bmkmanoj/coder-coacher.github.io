<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Mariko Kosaka &amp; Suz Hinton: Can You Read Me? Creative JS to Make CS Fun | JSConf EU 2017 | Coder Coacher - Coaching Coders</title><meta content="Mariko Kosaka &amp; Suz Hinton: Can You Read Me? Creative JS to Make CS Fun | JSConf EU 2017 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Mariko Kosaka &amp; Suz Hinton: Can You Read Me? Creative JS to Make CS Fun | JSConf EU 2017</b></h2><h5 class="post__date">2017-05-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/6qd2RZsRNUE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">you
ready we good we ready I'm thinking am i
standing on the wrong side I think on
this side okay wait wait no right what
yeah dispatcher so I guess we start yeah
hi welcome to our talk my name is
Michael my twitter handle is call
somebody and I'm Sue's my twitter handle
is no up cat as mentioned we are both
live in New York
we are JavaScript developers and we what
we always developers I guess like not
exclusively Johnson but we really like
to use JavaScript in weird places
so for example Sue's make this awesome
awesome library to control hardware's
and put like pixel onto hardware from
JavaScript I do projects that is
involving a electric knitting machine so
I let JavaScript code the stuff to
program the knitting machine so that I
can make textile design that was
probably haha anyway so we basically go
to say need us we see each other pretty
much every week maybe and we at this
point will be like BFF like finish each
other's sentences
yesterday we flew in late I super jet
lag super tired and we will be having
this talk and we were just I couldn't
speak sloppily and we were just like
shouting Wars but we were shouting same
war that's the same time so a year ago
at one of the meetup in New York Sue's
proposed me saying like hey do you wanna
maybe sometimes work on projects
together and maybe some time like talk
at a conference together and without
thinking anything about what it's going
to be I just said heck yeah but we
didn't really figure out what we want to
do immediately we talked about like all
what about this what about that we spend
months and months just talking about the
idea of doing this secret project
together but that quickly ended when
October 6
2016 last year I saw this tweet from
young one of the curator of this
conference this current status for mere
update to the fax machine and to that we
one of other friend from well in Moline
replied to him saying it is still in use
I have a secret wish that we all own one
and then send each other a little
drawings and I thought this was perfect
idea immediately saying like hey do you
want to do machine and without
me explaining he replied love it so
great so we we have to come up with a
few more constraints other than we're
just going to make some kind of fact
machine related things so what we ended
up deciding on was that we were going to
build two separate machines and so
that's where the part the project was
going to diverge and so without what our
machine needed to do was it needed to be
able to accept any kind of data type
that it got that one of us sent to it
and then it would be able to interpret
that and then output it in whatever way
we chose to so essentially if merito
sent my machine an audio file or an
image file or some kind of binary data
it knew what to do with that data and
vice versa so if I sent something to
America whose machine it would be able
to do something with that and understand
what it was yeah and then on top of that
yeah so on top of that we ended up with
even more constraints which was America
we decided to create her machine
interpreter or her fax machine in the
browser and I decided to create mine
just on the command line console only no
browsers allowed which was scary for me
but yeah yeah and then I guess we talked
about how we're going to do this project
and decide it on if we each each data
transaction we're going to make a
journal of documenting whatever that we
did or not on and kind of sharing that
journal together but every project needs
good name like we are the kind of person
who start thinking about logo even
before we starting the project
and so we talked about this idea of fax
machine and we're looking at Wikipedia
fax machine come from facsimile and we
discovered that facsimile in Latin is
the electrons action of make alike and
we really liked that the idea of getting
a binary data and interpreting it so
that we can make something alike what
they sent so we decided to call it make
like we thought it was a really adorable
name so we done
one data exchange and we wrote our own
journal and that's what we want to hear
today so I'm going to go into my
presentation so my bid I called my
journal called journal 0 0 cuz I'm a
JavaScript developer Mike alia has to
start from 0 and then i titled it let's
be a binary detective because when we
decided that we going to exchange a
binary data and i'm going to decode this
so that i can display it on the browser
i would super excited i love looking at
hex code so this is a code that i write
or make JavaScript right for programming
my knitting machine and this might look
like garbage to you but looking at this
i can exactly tell you how many patterns
are in this pattern code and about how
big that is and to the point of I kind
of noticed like certain sequence then
and I can tell the color collection of
those things like I spent a lot of time
looking at those things and I love doing
those things it's like a puzzle
so this told me that he committed the
binary file so I pull them we use github
so I pull down the github and in by just
habit I type next command often dot
so you open you know whatever that's in
and we kind of like talked about like
you know because it is a project it
would be like you know no cheating
like no putting on dick so no software
no putting on to you know like easy way
out we you're gonna do hard work one
work ourself because if I do that I
discovered that it's always it's
so helpful that like the D chord is that
binary for me and that red tape on
Privia so my message says I'm sorry I
call always
decoded for me already know so
devastated because it took me hours to
pick this particular image and then I
had to start from scratch and find out
something really quickly so after that
he sent me new file and then this time
even with the preview finder it was text
file he told me it is image that was the
only clue that he gave me but it was sex
file and I can get to be a binary
detective so first thing I thought was
like what if I miss inform ACM element
because I'm working on the browser what
if I give the ITM element text file are
they going to be unhappy and give me elf
this is and I can investigate what they
are is are they going to silently fail
so I quickly write upside EML and then
load it and cut damn it browsers also
browser is also helpful so even though I
was thinking that this is a binary text
file into source of image elements so
they should like some Nellore or
something but they go ahead and
interpreted it and show me the picture
so this is the second picture and this
keeps talking to me about like the order
is really important and then giving me
query or something so can you like
elevate because I haven't figured out
any connection between casas tape and
that yeah so there's a lot of clothes in
this picture but I think that it's going
to unfold as a Sandi Mahl so we're going
to be sending each other lots of
different sequences of files and this is
the first clue but I guess this is the
hardest one because you won't see a
pattern yet so yeah the format is a clue
the the color palette is the clue the
subject material is a clue but oh that's
good enough
I actually investigated the format for
this journal right so at this point I
was like I can't really be browser
detective because of' are super helpful
and browser is even more helpful that
it's decoding Pony so I was like okay
this plan on being rather accept
detective is not working I'm instead I'm
going to be a browser on through Paulo
gist and observe the habitat of ACM
element and just think about how the
hell those elements are interpreting
those binary data
so this was my first research I picked
up another media elements and then put
the text over it to test this is
probably smart enough to know that the
file is image of hours audio I load it
in the browser
and indeed browser only decoded the file
as image and the sales on audio and
video it didn't play at all so this
proves the hypotheses of those media
elements knows more than infants because
when we code the film
input file element we can access the
data about file name type size last date
modified kind of like what you get on
the browser finder like a metadata and
those comes back as like text or type a
sex plane so input element level they
think is the text file but when you send
it down to the media element they
somehow figure out that is a media full
file so we I kind of mentioned that the
input element looking at the metadata is
like previewing in the finder so when we
double-click on the files the files open
up or iTunes
start so what's the equivalent of
double-clicking on those files and you
know let the computer figure out so in
browser you can use something called
file your API which basically leaves the
file for you and returns the value and
the value you can specify what kind of
value you want so for example the lead
as data URL you pass the file then you
get basically four made-up string back
so this is something you can use if you
want to manipulate say CSS background by
user letting users upload corn court
upload the image but like in fact it's
all done in client-side and changing the
background you can also do the reader
text which returns the text of the
things sorry my words are not coming you
can also lead as binary strings which
also returns somehow figure distinct
last one that's interesting
a lead array buffer and this one is
something you cannot console.log because
it's all a buffer and I didn't really
know what a lay buffer is and I didn't
even know what buffer me I you know as
any web developer I went into in the end
I read about it and here's my take on la
vache so they go for is like a
masterpiece I belong to like a museum
that's kept in the glass case like you
can look at it you can examine what
color it is or you know that how big of
that actual sizes but you can't touch it
in order to test it will do any work to
it you have to create on your own
whatever the tool whatever the type
whatever the binary format that you want
you have to create new objects
representative of the labor for in order
to do O'Connor and the move the way to
create those objects are things like
types array and aw so quickly in the row
code you will do something like this so
on either onload you put the results of
the alley buffer into urinate la with
the pipes are a and then you access it
to string it and bead in hex and then
like you know something I 42 complex so
in doing so I noticed that if I do it in
text I see a lot of like metadata
already I noticed that there is a
pattern that they are putting image
format data on top of the file and you
know looking at these and being a
awesome JavaScript web developer I was
like can i maybe just you know like you
know and quickly I was like never mind
is like a I know I know enough that it's
a bad idea but also it wasn't the point
of like me figuring out how to do it my
investigation of being a browser
anthropologist was figuring out how
browser does it so thinking about
browser I was like how the hell all the
different kinds of browser takes one
single code that I draw and all displays
somewhat similar and then came down to
what's under so all of the way browser
should behave is defined in web
standards so like okay great
web standards for leading how to be what
the file is file type is I guess there
is
it's called mime sniffing on what WG
thunder and they look at the
introduction and you don't have to read
it but it basically has the same I guess
holds the same problem they were like
what if user uploads a malicious user
uploads a script that is tagged or like
a kind of like wrapped up as a 80ml and
accidentally you execute it you have to
make sure the binary level that what
actually looks like and this is in the
introduction that was a quick give me
the specification to either image and
this is the polygraph about image type
pattern and I'm like great they were
like here's algorithms you do those
things and you know step by step
defining it I thought it leading it came
across this line you went deep mercury
Lissa byte sequence to be must be the
bike he wants to be must what wzm I'm
sniffing living standard and I'm like do
wait like am I supposed to understand
this very very like a hidden web
development class that I didn't like
taken there's like like you are native
English speaker like can you understand
this I think it feels more philosophical
or more Shakespeare than right okay
exactly so I thought it I'm messaging a
few of my friends who actually work on
standards and editor of the thunders and
lead aggression on my eyes Russel
describes these language to the standard
specification is a particular dialect of
English that compiles to C++
like okay these documents even though
that comes in English the taught
compiled target is computer not me so I
spend a few hours over the weekend you
can see I play Mac visited all the link
except bytes
like so so left as a blue somehow figure
that out what they are saying is that
leave the first byte of the file and
then compare it to the one on that
column and then compare that is all to
that one on the second column to make
sure
about pattern mark whatever that is is
correct so I'm like okay great I'm going
to get the code and gonna make the thing
that is 100% stick compat and this is a
part of the talk that I'm supposed to
tell you that I made this npm module
that 100% spec compact and published it
today or something because with the
conference but in fact i didn't i'm
still figuring out the specification
like you know let me get more than 10
years to get to be decent English
speaker but give me a break so what I
did I still fix up loads of these
missing the binary but not 100% combat
way so what I made at the end is this
little app that has a file input element
you can get give them any file and then
I sniffed the mime type and then put
into appropriate media file if you give
a texture file that is actually audio
file it's put into audio tags in this
file that is not having your file type
but can just go into image and that was
my first path and now move on to sis
have one question for you what format
was the image that I sent to you
that was BM so bitmap you figured it out
awesome ok alright so I'm going to start
my diary off with building blocks so if
you remember that um I only has a
command line to work with which to me
was kind of terrifying because I'm used
to using the browser as a crutch but I
do really really like the command line
one of the things I like the most about
the command line is pipe pipes are
awesome because this command for example
takes the processes that are currently
running it pipes that into graph and
then with grep you can look for a
certain like keyword in that list and so
this is kind of what it looks like when
you run it you can do to do p/es pipe
integral you can look for your batch
processes for example so really what it
comes down to is a PST egg is saying hey
grep like I have this list of processes
and then grep total says oh hey thanks
of grabbing that from the pipe and I'm
just going to list out the ones that
have fashioned them so that's pretty
straightforward so the first thing that
I wrote was just a quick simple pipe
just like as a hello world
that I could see how that sort of stuff
works and no J yet because if we
remember our constraints were JavaScript
and then mine was on the command line
only so a lot of minor just like shell
scripts that you can run that are
written in node.js
so that wasn't really that useful so I
thought well cat is a highly useful
command that people use and they pipe it
into lots of things so for example you
can do file dot txt I can supply that
cat cats going to dump that out onto the
console exactly how that file was and
then from there I can actually take that
output and pipe it into something else
and you later makes often comment on
that what cat is saying yeah I'm making
my own JavaScript Fairy Tail okay okay
just fine I'm just halogen and so just
I've simplified this slightly because
you know cat has a lot of different
things but I just did the basic cat
command which is to open a file and then
basically pipe that into the standard
out of the process which is to the
command line console so that was kind of
out of the way and so the way that I
tested it was I made the file executable
and then I said through a Ada Lovelace
Court and that works perfectly fine so I
thought okay I'm ready I'm ready to
advance to America sending me the first
piece of binary data and she opened a
full request and then she promptly
merged it herself if I can't you know I
didn't wait for you I mean there's no
rules when it comes to get help when
you're working on creative projects but
here's the thing America only gave me
one clue the data is some form of audio
and of course it was arrived
mysteriously missing a file extension
now when I merge this down I was so
scared that I was going to accidentally
open it and this was before you
accidentally open in mind that I was
just super weird I just closed all my
Finder windows I was terrified of the
open command so I just left it so I ran
it through my cat program and this is
what I saw and so you can see here
that's just a whole pile of gobbledygook
but when you look at the headers of the
file this is where I kind of discovered
the clues because I was like okay what
kind of audio file is this so that I can
start decoding it so the first thing
that I saw was this year this is 93
tagged id3 tags are standard that was
created for mp3 files so immediately I
know okay the
an mp3 file that's really cool just for
the first three characters of the file
the next thing I saw is what is this
garage almost Hagin here did Morocco
make me a song so there's more on that
later
this is just a confirmation of I didn't
have a time to learn for Web Audio API I
wanted to do I loved it I thought it was
a great detail and then this iTunes one
here is totally meaningless it just
means either GarageBand uses some kind
of encoding from iTunes to do it or you
opened it in iTunes and received it
later on something like that but I
didn't really care about that so what I
did know is that it was an mp3 made in
GarageBand something something iTunes so
I could pretty much move on so because
the browser is my crutch I managed to
actually find an ojs module that kind of
like is like emulates the API to a
degree and so you do have to spin up an
additional module called speaker speak
is great it can directly attach to the
audio drivers of your computer and so I
was programming this on a Raspberry Pi
because I was trying to make it a little
encapsulated machine and so this is
really really great for me to Pipe that
noise out I then had to create a
function to create like a buffer with
the actual data in it from the audio
file and then I had to pipe that to the
actual destination so that cycle played
out of the speakers and then from there
I also had to use FS to open the file
and I wanted to have that as like a
command-line argument so you can type
the the command file and then the actual
file to open so I did that so this is
what the command ended up looking like
when I ran it on the command line and
then this was when I heard the sound for
the very first time so this is what I
heard
hopefully Oh No
okay maybe we can go back doing this was
like particularly like hand-picked and
classic piece of music really it was it
was like worthy of bass accordion yes
and I thought this is really weird she
did this in Courage band it's not
necessarily following normal musical
aesthetic tastes and so I was like wait
a second Marik has sent me a video on
Facebook like several months ago and it
was this video here I want sounds more
like actual music yeah yes so that's
really cool and there was something
about the signature of America audio
file and the giveaway in the GarageBand
tag that told me that she'd made me a
pitcher but here's the thing I don't
have the GarageBand roll file and I only
have the command line so how do I
visualize what pitch is she made for me
and then maybe she didn't even make a
picture and she's just messing with me
so so what I ended up doing was because
this is a Raspberry Pi you can't install
Chrome on it you usually use chromium
and so I ended up using headless
chromium I had to like to kind of stream
the the gooey channel over through a
virtual frame buffer so X virtual frame
buffer is a fantastic tool for doing
that a lot of wrangling but I eventually
got it working that then runs a HTML
file on localhost with a canvas in it
and an audio audio element in it and
essentially the Web Audio API analyzes
the frequencies because the frequencies
can be mapped to notes which we learnt
earlier if you enter roof talk and I
thought maybe I can just get the
frequencies out and map them kind of
like like that and I'll actually see a
pitch to come out but I had to run this
headless
I had to figure out a way to get the
image from the canvas out and actually
look at it so I ended up just taking the
resulting canvas after mapping all the
frequency graphs on it and then I made
that a base64 encoded string that dumped
out to the console I was able to then
take that string and pipe it into
another program that I wrote that takes
base64 convert that into a PNG file
itself and then dump that on the hard
drive and then that will console.log the
file path to where that file is and then
I can pipe that into a great NPM package
called picture tube which allows me to
look at pictures in my console so all of
this is JavaScript from like from
beginning to end
and this was the way that I had to do it
all in my command line so yeah good
times can I just comment the fact that I
send a picture like sounds like super
mean knowing that you are working comics
month yeah so I always experiment trying
to be me I thought it would cool I was
expecting ppm data and I was a little
offended that you sent me like
compressed audio data because I'm used
to working PCM but I think that's the
challenge okay so this is just very
quickly the headless chromium job I
passed in the sound file but a query
parameter so then it could go in like
set it on the the Web Audio API and then
there were cases where I would have a
bug in my code and then the process
wouldn't end properly and so I had to
kind of put like a 60-second timer on it
and then kill the process if that
happened so that was fun the basics
before there is basically taking the
taking the image data from the standard
in and then it's sorry is taking the
basics to fostering and then it's piping
that into an actual file and then this
is kind of what my final command ended
up looking like so it's a rather long
run it took me a while to write because
I'm not a super fast typer so you can
see there I'm drawing the audio on a
canvas using the file I pipe it into the
64 to PM TAS then I used that as an
argument to picture tube in order to be
image this will look like is this or you
journey because it's not really it
doesn't look that good I mean if you
squint it kind of looks like a puppy
that's
facing that way I mean like I can see
like you might get like this is
something I send because like these are
the kind of pattern that I make for my
like textile yeah I just I was expecting
something different so anyway so I did
manage to kind of shell into the pie and
I like dragged down the file to actually
view it on a computer that has like a
user interface a good sorry graphical
user interface and this is what it looks
like so here's the thing if Morocco
layered several notes on top of each
other playing at the same time I don't
have really have access to that it's
very hard to loud like pixels that are
kind of true yeah lay it on top of each
other so this is the best I could do I
ended up just pumping out a whole bunch
of different frequencies just to see if
I could see a pattern emerging
so Morocco only showed me the pizza that
she drew yesterday yeah I've been
waiting in suspense knows like can you
just show me in the garage man file so
this is what it actually looks like so
Louis Ponce through the file name of the
emoji that I use it was hard hard hard
yeah so if you map it to the filename so
should have known all along but if you
look at it through in my defense if you
look at it you can actually kind of like
when you lay it on top you can see the
bits of silence in between the shape and
you if you really screen I think that
you can kind of make out like the peaks
on the the heart shape or the top but
yeah so that was pretty cool so that was
kind of my exploration of trying to
figure out the mystery that Morocco had
encoded in their mp3 file so what did we
learn from this entire experience we
have a few thoughts that we thought we
learn real early
so the journey first thing is that like
we realized that like it's not about the
end result it's about the process like
the end result that the tiny app that I
made is super simple you could made it
in like few hours if you know your thing
but I didn't know any of those standards
or binary or a lay-by or anything and I
learned a whole song by making tiny
things that does you know maybe simple
thing yeah I didn't have time to cover
this in my section but I went in a deep
rabbit hole about mp3 format
learn a ton about that started writing
my own Dakota and then realize that this
is just a positive we didn't want to go
down so that's why I ended up cheating
using the Web Audio API but yeah learnt
a lot yep
and then the next one is it doesn't have
to have a point we were kind of doing
this for fun like you don't like many
times when we mention to people that
like hey Susan are doing like special
project everybody's like oh what is that
special project are you starting you
start up and I'm like you have to start
out like makes put up all the time you
know like just do project for fun it's
like you long time right yeah it's your
personal time so really do what actually
makes you passionate and if that's a
business that's okay but for us it's
just we just want to make a thing
together play jokes on each other along
the way and yeah just like actually
teach each other stuff too and then like
a lot of times people think that like
we're doing this side project like
really seriously and it asked for like
what's the weekly update kind of things
but like you know it's five project we
have day job like you know yeah we went
four weeks without hearing from each
other and again I didn't never got to
see that Garage Band hard with myself
confessing and then lastly having a
friend who has a similar like minded
understanding of what we do together I
don't know if that language made sense
that might sounded like a stick was
great one thing I really enjoyed from
this experience was not the few months
or few weeks that we actually did the
data exchange but the six or eight
months leading up to it we decided to do
a project we you know we were in it and
then every need of every conference
every subway Leiter's we see something
that we like we just like wink at each
other hey what do you think of that
thing and it's so nice to have somebody
who you don't have to like worry about
like hey if I mentioned this thing and
like if it didn't use like a latest
bobble transform it you gonna judge me
like I didn't feel that way I was like
very open to like this sounds cool do
you want to do it yeah you should always
find your code weird oh is that a weird
in the same way as you that's yeah yeah
those are we are best friend that's what
I sounded you
and on that note we're going to we're
going to part ways but we are going to
just tell you about a couple of quick
things that we're working on I do a live
two extreme almost every Sunday
obviously I'm not doing that tomorrow
because I'm here and I'm very excited to
be here but I kind of code on open
source and all sorts of weird projects
like this I secretly coded on the next
step I don't know if you know that but
it was a true story emerald secretly
coding on the next step so yeah check it
out if you want it's Twitter TV slash
new cat and it's always a lot of fun and
I tend to call it like massively online
multiplayer pair programming because I
just implement suggestions that people
put in the chat which is cool and then
on that's all like I also do weird stuff
other than this project I started
drawing a tech concept in you know tiny
humans and calvo buxus and this is
actually secret of like I was like
thinking like a data transfer I want to
build like a infrastructure and like I
want to make sure our data is secure so
like I started leading like encryption
and like you know take your internet
connection whatever I didn't know any
other I started join those things and I
share that on Twitter so if you're
interested in it check out my Twitter on
that not thank you very much thank you
thank you so much for that was amazing</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>