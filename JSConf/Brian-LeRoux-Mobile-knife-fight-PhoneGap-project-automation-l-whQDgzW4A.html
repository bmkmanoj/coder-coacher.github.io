<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Brian LeRoux: Mobile knife fight PhoneGap project automation | Coder Coacher - Coaching Coders</title><meta content="Brian LeRoux: Mobile knife fight PhoneGap project automation - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Brian LeRoux: Mobile knife fight PhoneGap project automation</b></h2><h5 class="post__date">2013-01-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/l-whQDgzW4A" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so before I I started just going to
thank Chris and Laura and Virginia and
the guides and the sponsors and everyone
that's making is possible a big round of
applause for jas cough is I'm I feel
really lucky because I've been to all
the jazz comp so far and my liver hates
me for it but yeah if this is this
events amazing all you people are red so
I'm a mobile software developer and I'm
also a Canadian and I'm a I'm a fan of
hockey and mobile dev is really tough
you got to deal with operating systems
you got to deal with all these different
SDKs and you got to deal with having a
million devices I think Reza gig yer
doubt that you need something like 4k in
phones in order to be able to test every
different device so it's really tough
like Tanner glass from the vancouver
canucks who is so tough that two bears
have to take him on not just one you'll
notice alright so I work on the phone
gap project which is a who's heard of
phonegap here all right I'm out
thank you it's not that easy so so
phonegap does make things really easy we
we abstract all the hardest parts of
getting started with mobile but one of
the problems that we can't abstract is
the actual automation of the SDKs and
the tooling that we're dealing with and
so who hears familiar with the UNIX
tools philosophy probably not that IE
guy but sure other people are so it's I
know it's too easy right it's like
beating up an old man it's no
satisfaction it so unit UNIX
philosophies well it's worth checking
out baseline of it is that we want to
have really simple small well-defined
tools we want to treat text as the way
in and out of our tools we want to be PI
pible so there's a whole lot of written
stuff on what UNIX tools philosophy is
all about I'm not just going to read my
slides I think it's important to a
software developers that we all look at
what tools are out there and what
philosophies are out there for doing
software development the best quotes I
heard about unix is that it's the
ultimate virus it's just never gone away
whether that's a compliment or an insult
I'll leave up to you and this has to be
contrasted to if you've if you get
bought into the whole UNIX tools
philosophy you'd be remiss not to read
the other side of it there's a book
called UNIX haters handbook and it is
hilarious I recommend reading it I won't
get into what they say but some of the
best trolling you've ever read in your
life so back into my problem space and
I'm dealing with mobile development
we've got this whole handful of SDK SDKs
IDEs all these different tools some are
good some are bad some are horrific so
and some are on windows
so I live on a street called cordova
street i also work on cordova street we
moved our office and I'm out of unique
names so I create a new project on
github called Cordova and it takes the
UNIX tools philosophy and brings it into
the mobile space right now it only
currently works on to us 10 it likely
works on linux machines at Dave Johnson
our CTO at night Toby apparently poured
it to python he's a masochist poured it
to windows so that's cool so what am I
talking about when I'm talking about
automation when you're building any
software at all you need to follow these
common steps and and this idea this
concept of writing software is platform
independent just how it gets done isn't
so when we're building things we want to
be able to automate the creation of it
when I was going through some of this
stuff Julio's worked with Xcode all
right so you might understand how I feel
about it so there's a there is a command
line tool for xcode it's called Xcode
build I was trying to get to automate
all build targets just so I didn't have
to actually open up Xcode and I was
having problems with a particular file
called a pbx project file and I was
bitching on Twitter and am active had
the audacity to send me a picture of
Xcode with a green arrow pointing to the
big green button so when I talk about
automation I'm talking about the ability
to repeat actions without human
intervention and so this whole computing
thing that we're involved in the reason
for computers we wanted them to do the
hard work for us we don't want to be
making simple repeated tasks something
that we do manually it's error-prone
it's likely to screw up and well that's
why we have computers in the first place
so creating projects building them
debugging them testing them releasing
them blogging and emulation these are
just some of the tacit that I'm
concerned about across platforms
I just thought this picture was funny so
I threw it in so why do we do this we
want to be iterating our code faster we
don't want to be walking between
different IDEs different build chains
have all this different ceremony it's
especially complex when you get into
multiple developer teams that don't have
a unified build chain if one guy sets up
his bill chain different than the other
guy shits going to go wrong that's just
how it works and you want to hide all
the proprietary build sludge your
product is not someone elses framework
your product is your product and so all
this other stuff that happens is not in
your problem domain some people like I
des and I think that's cool the Ides do
have advantages and people who like to
work in them it doesn't really matter
how you edit text but you should
automate all the things that you want a
lot of this stuff is just not quite
right to me either when we think about
it objectively an ID doesn't protect you
from bugs because if it has bugs then
you're going to run into problems and
we've seen this in almost every ID I
don't need to give you examples these
people say IDs get you close to the
platform they get you so close that you
can't use another platform Ides have
stepped debugging and I say you should
write unit tests some people say oh unit
tests you don't need them and those
people are right they don't need them so
I'm going to demo for you yeah is that
an awesome picture it's looking
no idea what the fuck's going on there
so this will be interesting where's my
shell okay probably can't read that
alright let's jump over to my desktop
cool don't be scared this is gonna hurt
so I've got a tool i called it phonegap
i don't know seemed obvious it's not
Ruby so what just happened there I just
generated a project and that project has
a make file that make file has a whole
bunch of stuff built in for you right
away so let's take a look at this this
project structure this is a point of
debate at night Toby the only thing we
all have in common is that everybody's
wrong nobody really knows what a
phonegap project structure looks like we
just know that everyone is doing it a
little bit different right now so I'm
not saying this is right or wrong this
is just one way to look at it I know
that every project probably has some
form of tooling and automation I put
those inside a bin directory you could
call it scripts you could call it
whatever you want there's a doc folder
it's got some documentation in it
surprisingly the lib folder that's where
I'm suggesting you put your scripts and
automation is a test folder that comes
pre built with qunit all set up there is
a temp folder which we're going to
pretend doesn't exist and there's a WWF
older and this is something that's
common in every phonegap project phone
gaps web code sowww makes sense to us so
that's cool
interim make create and so this
generates native projects into my temp
directory that actually may have
completed yeah so if i look at my temp
directory now I've got projects
pre-built for Android iOS and web less I
could tell you right now that the webos
stuff is broken and that the this is
really beta this is like stuff I've been
working on very recently so you know
watch out you might get cut bleeding
edge whatever we'll be adding more to
each of these with time so that's cool i
just made a bunch of projects I probably
want to kick up some emulators so let's
do that there's one it was my iOS sim
that's really regrettable I can't see it
what fucking bears and shit all right
well hmm
so this command is going to go off and
compile everything that's in my ww
folder against everything that's in the
temp folder launch it inside of the
emulators given my resolution we might
not be able to see this awesome demo
which is kind of shitty
Oh
so I successfully built for android I'm
going to have to search for it to find
it because I can't see the other half of
this emulator but there it is and so
this just comes with like a vanilla
phonegap application that's actually
accurate android does work like this
I wish I was joking sweet a vanilla
phonegap application were my iOS
simulator somewhere in the realm of my
ability to see it we would see the exact
same app and so that's pretty sweet we
just went from doing absolutely nothing
to building two platforms in like five
minutes so that's that's super useful
but there's a whole bunch of other stuff
in here that's worth checking out and
this is all in your build shame but if
we look inside the bin directory I've
created a whole bunch of shell scripts
and yet their shell scripts for doing
all the things that you have to do while
you're building these things they're
there they're individually we're
checking out so like building creating a
new project debug is actually just doing
a build that interpolates some useful
stuff while you're running emulate just
kicks up emulators logging kicks up
loggers that log the standard output
there is prototype work going on for a
plug-in and there's test which will copy
stuff out of your test folder and into
your app so everything that you need to
do or maybe you don't need to do all in
one place all of the same nomenclature
all consistent which is kind of nice so
that's a brand new project and it's
super Beta but I do recommend check it
out we have another project that takes
these concepts and brings it to the web
it's called build phonegap com so if you
don't want to put up with installing all
this bullshit yourself will do it for
you you push up your index.html will
send back by Nuri's for every platform
and so that's what I got for you guys
let's drink some beer
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>