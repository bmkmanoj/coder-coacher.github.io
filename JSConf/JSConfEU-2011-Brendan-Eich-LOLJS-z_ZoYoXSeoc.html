<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>[JSConfEU 2011] Brendan Eich: LOLJS | Coder Coacher - Coaching Coders</title><meta content="[JSConfEU 2011] Brendan Eich: LOLJS - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>[JSConfEU 2011] Brendan Eich: LOLJS</b></h2><h5 class="post__date">2013-06-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/z_ZoYoXSeoc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I'm going to talk about current events
but we have to understand history or
we're doomed to repeat it so I'll do a
little bit of history I think most you
know this and you're probably gonna want
me to go fast Plus kittens so es6 is
happening people sometimes don't believe
it we'll get into that maybe there's
some things we're doing wrong I want to
talk about that because the community
counts a lot with me and then I'll go to
demo parallel JavaScript so when I went
to Netscape and I had 10 days to do this
demo where that became shift it wasn't
just you know mismanagement in netscape
there really was microsoft bearing down
on netscape and vbscript was looming so
I missed the morning talk about what
might have happened if it hadn't been
JavaScript it would have been vbscript
so thank God and then you know the name
sucks but what are you gonna do it's
really funny the Intel folks we've been
working with want to call River Trail
parallel JavaScript so they're going to
oracle to ask for a trademark license
this is probably not going to work son
used to be very jealous they went after
a man of mill European descent whose
surname was yvonne co they said your
name starts with j VA you cannot use
this as your vanity domain site we will
sue you in he got them to cease and
desist so I've been talking about how we
make standards in the Harmony era and it
has its ups and downs and pluses and
minuses it's kind of a little soap opera
but it is making progress if it weren't
we wouldn't do it we do something else
that happens with age to Ellen and so on
that was the what WG we actually
realized in 2004 the w3c wasn't
interested in HTML or the web so we
created the what WG did html5 but
javascript is making progress in a coma
and I'll talk about that es3 was the
last big addition for es5 that was a
long time ago since then people learned
how to use language well computers got
faster
javascript gotten faster some important
api's came along yes for a rest in peace
it's funny how some pieces of it want to
keep coming back at least from some
people on the committee es5 is here it's
actually in all the modern browsers I 10
platform preview even has strict mode
support we have some goals it's
important to know what you're doing what
you're not doing so we're not trying to
make everybody happy we're we're
concerned that JavaScript has grown way
beyond its original design point it's
used for incredibly complex applications
which involved factoring into libraries
the Dom should just be a library it's
got this privileged status with lots of
weirdo host objects but we're trying to
tame those it's long project it's
happening through proxies which I talked
about a year ago jay is coming to you
the what about al work that is being
edited by Cameron McCormick is also
helping we're getting the Java OMG IDL
stuff out of Y by DL and we're very
concerned with code generators so I'm
scripting right or coffee script lots
and lots of code generators and they
need they need some language extensions
and I'm thinking more and more about
this in connection with things like
typed arrays and parallel rays we have
tests which is amazing there's a link
there we have test 2629 script org a lot
of specs get produced without tests
these tests are not normative they're
not the final answer they're like
software their buggy and they need to be
continually evolved but we have tests
that's pretty good and we want to adopt
standards you guys create we want to see
stuff and merge on github and win we
don't want to invent it in committee
because no committee can do as good a
job as the community we want to keep our
version story just like stepping up from
strict mode one step and then not
forking again we're not going to have
stricter strict mode and this one's near
and dear to Mark Millar's heart of Mark
Miller Google kaha fame we want to
repair JavaScript it's almost there with
es5 strict so that it is a capability
language because that's the security
model in JavaScript the Dom has its own
issues but javascript actually has a
fairly strong model if you fix a few
things so here's what's of any s6e
finally notice let is the new VAR const
is like wet only you have to initialize
it you can
use it before it's initialized and
function can work in block scope in a
standard way that's only in that block
scope the way it works in browsers now
is is wacky and different destructuring
this is for Alex Sexton who can't be
here because he's getting married he he
wants to structuring you want something
I'll get to on the next line but the
structuring is what you know from Python
Ruby unpacking destructuring in ml it's
really sweet there's an object shorthand
that works if you're creating an object
from free variables x and y it looks
just like that without the wet on the
left or the assignment on the right
parameter default values right you got
to have these the first parameter X
doesn't have a default value the second
one y has one is its default value so if
you call f with only one actual
parameter y will be bound to one and you
can use parameters to the left this is
like prologue code in the function after
it's been activated so why I could have
defaulted to X or x times X or something
spread expression involving X and then
the third formal crowder there is
actually a destructuring pattern it says
it f if it takes a third actual
parameters should receive an object and
that object might want to have Z and W
is properties but if it doesn't
individually one of those are both are
missing they will be defaulted and that
allows you to get rid of a lot of
boilerplate you guys probably do where
you look at the argument you see if
that's this property you know in
CoffeeScript you would use existential
or conditional expressions this is all
wrapped up into the structuring and
default parameter values rest thanks
rest and spread we want to fill the
arguments object we can't kill it fast
because a lot of code will migrate with
it it's a pain to rewrite but once we
put rest and spread in we can think
about killing arguments I'll be down the
road but that's really good because now
you'll get a real array you don't do
this crazy array that prototype that
slice call arguments jazz to turn it
into an arguments object and copy it you
actually get in the thoughts are you get
found to the armed perimeter you get a
real ray
and if you want to turn an array into
positional parameters and spread them
out across an actual argument list you
can do that with the other the prefix it
also works in a rayon ishal I zor's
special form proxies these are actually
in v8 now as well as spider monkey
they're under a flag but you can test
them in v8 that's excellent news and
that means we can have interoperation
testing which we need we're still
tweaking the design a little and
committee but they're good when you have
proxies you can do all sorts of amazing
things known as you want to hang on to
sort of cash or memorize objects but not
make them leak not create memory leaks
not memorize the world week maps are
important for that modules this is one
of the biggest things i think in es6
this is a second class by default module
system you can reflect on it there's a
dynamic module loader API so when you
have to go down anything you can do it
but the neat thing about this is when
you're using modules and you're
referring to their bodies loading from
URLs the JavaScript engine can see that
the parser can see that even a pre
parser you can see it pretty easily you
can preload them you can prefetch them
there's no more speculative jazz that
we're doing now in browsers it doesn't
always work out you can actually make
sure that all those dependencies are pre
fetched ahead of time and you never
interrupt your schedule you have never
have to write a callback function that
captures the continuation of your whole
program in order to do something with
the the module you loaded it's all there
iterators and generators I mean we had
these in spider monkey we're tweaking
the design a little bit like there's a
star after the function keyword to
remind you it is a generator function
and it doesn't therefore need to have a
yielded at all you can make an empty
generator just it's a good basis case
for certain special forms but this is
pretty close to Python it's like Python
with a few fixes simplifications and we
even talked to the Python guts about it
and they proved and then comprehensions
you know these are just awesome though
from Python notice there's a prin free
for head in there and there's going to
be ways to mix let bindings and have an
if condition at the end pretty much like
Python or ml or Haskell but not not
Haskell pure and all that stuff
binary data this is an embrace and
extend on type2 raise typed arrays are
already in every browser except IE and I
kind of had this feeling whenever I talk
to the Microsoft guy that they might
show up in IE so everybody who believes
in fairies clap your hands 3 times
because I think they're coming and
binary data is es6 extension of typed
arrays where instead of making these
flat arrays that are like Fortran
favorite program and Fortran where you
actually have to lay down a bunch of it
you and 32s in a row or doubles and
sometimes you have to overlay them to
pretend you have a structure that has to
you and 32s in a double that's just nuts
instead you can make these pretty
composite data structures by describing
the native machine types that are their
members you can build a raise of structs
trucks of arrays do it generative lee so
that's what's happening here once you've
nude up some constructors you can call
them so new triangle can take an object
literal or very literal in this case
containing object literals that provides
all the data now you might think well
that's making twice the data this can be
optimized you can also have constant
arrays that are used for the default
values you can just make new triangle
with no arguments and you get a bunch of
zeros and you can then start setting
things that the key point here is that
you're able to describe memory in a
machine integer and floating-point Pat
format and you can therefore talk to
file formats over the file API the blob
API is that are coming in the web api
group you can also talk to WebGL you can
talk to your GP you gotta have it causee
literals this was something that came at
the last minute for es6 and i'm glad it
did it was mike samuel with martin
miller helping at Google we wanted to
have multi-line strings people were
saying why don't we have triple quoted
strings like in college scriptor other
languages we also wanted multi-line
regular expressions which would be free
to embed almost any character because
regular expressions have different
backslash escaping rules and we wanted
to be safe in our string formatting we
wanted to allow you to say I want to
have a message where I use a variable
expanded instant
and the other one is the verb for Ino
localized message but I don't want
somebody to inject some nasty code into
that variable that didn't gets evaluated
and it taps me so classy literal solve
all these cases we use the scarce accent
gras of that character and it like this
there's a free variable in front of
premarital reference it refers to a
function you define the function has to
be in scope and it's optional if you
don't add it i'll show you what happens
but if you do provide that quazy that's
just a made-up name it could be anything
the function gets the literal portions
quoted and kind of frozen and protected
it gets them both in the raw with their
backslash escapes unprocessed so you can
do your own interpretation of most
backslashes and cooked where the
standard string backslash escaping
happens forms and that that object
literally think passed in the D sugaring
the bottom a triple line there is a
constant it's peculiar to the occurrence
of the literal in the program the final
arguments are the substitutions that are
actually in green those are whatever
variables you want we're still
fine-tuning how the grammar works so you
can't be attacked probably it's safe to
have expression forms it's like dotted
member expressions identify errs this is
being specified and you can have new
lines embedded in these back kick quoted
strings so there's your multi-line
string constant if you don't put any
Kwazii or other identifiers in front
you're not calling a quazy function
you're getting a default behavior which
simply does the substitution and does
the default string backslash processing
and that yes that was a new line so here
you have multi-line strings no triple
quoting just backwards and think about
multi only reg ex all you need is a
special Kwazii handler you probably from
a standard built-in module I call it re
here we're gonna have to do that it's
part of me a 6 that's easy to do that's
not a difficult design problem it's not
going to need you controversial classes
I've been talking about classes since
they supposedly made it and the meeting
last week we had of tc39 people was
pretty contentious because there are
still too many open issues in my opinion
but there is a pattern people use when
they write the constructor prototype
pattern they write a function that they
need to be called by new in that
function they assigned that this thought
X and this dot why they're making a
point say and that function they it's
called Cap'n Pete point has a dot
prototype object that contains all the
shared methods the prototype delegated
methods that expansion that people do my
hand these days is a little awkward
especially when you have sub classing
you have sort of a convention like
CoffeeScript compiles where you have a
superclass and you can have super calls
and you want to get this right and it's
too much code right by hand it's a
little error-prone so why don't I have
class and that's we're trying to boil it
down to the simplest thing we can agree
on that isn't so simple and stupid that
it's not worth doing it's difficult one
of the things we factored that was
private variables some people in the
committee feels strongly classes should
have things like constant instance
variables and private member's and it's
very hard to do this but this slide
shows on the very first line a separate
proposal is accepted for private named
objects these are a new thing in
JavaScript you know how JavaScript you
have objects where the properties are
all named by strings or equivalents of
strings like indexes same thing as if
you quoted the number 0 or 1 you can use
0 1 but it's all string equated property
identifiers private names and you have 6
another option to the property key type
it can be a private name object this is
an object with a unique identity the
identity is the the keys value when you
make a private name object and you don't
give it out to anybody it really is
private nobody can find that on your
object they can't find it through for in
they can't find it through es 5s object
get owned property names they can't find
it anyway unless you give them the
private name and then I guess maybe it's
a shared secret or even public but it's
unique and so here to show point with x
and y being private members i showed PX
and py being constants bound to fresh
private named objects and then to see
other you look down a little but you see
there being used with bracketing that's
how you use a computed property name in
javascript already right it's how you
use array indexes or if you have a
string you compute turns out to be X or
Y that's a public name in this case it
turns out to be the private names and
the rest of its kind of verbose you have
this the PX and py
all over the place and past slides I've
shown some sugar for this that kind of
inspired by maybe Ruby or coffee syrup
used at sign as kind of an infix or even
a prefix operator for this case we
didn't agree on that and so this this is
almost too little to do because it's
kind of heavy weight but maybe you don't
need private names at all a lot of
people in the committee not everyone
thinks let's just circle what people do
today they use public names if they want
real privacy to use closures I used to
close your pattern which has its costs
but you can use it so why are we killing
ourselves over private names so we tried
to factor it out but there are still
open issues like constant instance
variable some people feel strongly is
you have constant variables in your
class instances and they should only
ever be seen with their initial value
should never see them with the undefined
value it should be an error to access
them before they've been initialized
this is hard to get right I'll get in
this little more so my colleague
allomere sprocket and so uh the editor
of the s5 and s6 some of you may
remember he was at Microsoft has come up
with these simpler proposals for doing
pieces of what classes do also doing
part of what non-standard extensions
like the double under of our proto
property pseudo property I added years
ago do and triangle is one of them and
there's some some issues with triangles
but mostly syntactic I think
semantically there they're good they're
like creating a fresh object with double
under or proto initialized and this is
unobjectionable to implementers this is
not going to mutate the prototype of
your live object that people are already
using as if it were you know an apple so
that it delegates to orange dot
prototype this is just creating at birth
a certain prototype chain es5 has object
i'll create where you can do this but
it's long winded compared to this you
have to give it the prototype is the
first argument then you call
object.create with a second argument
that's a big property descriptor map not
an object literal here you can just take
the triangle operator slap it between
your base object and
an object literal and that means that
object literal on the right can actually
be reused it can have its proto set it
is not ever going to escape with its
original proto to the object of
prototype and the cool thing is this
actually works for other literal object
forms you can have arrays that delegate
to an intervening prototype objects you
can make sort of sub arrays or subtypes
of array if you will I do it for
functions it should work for regular
expressions as well the literal strings
numbers and boolean czar primitives in
JavaScript and we're still debating
whether does she work for the object
wrappers that you get automatically
around those but that's not really an
important use case the main thing about
this is the triangle syntax doesn't look
quite right it career almost gets it
right here but the bar looks a little
too tall if you connect the lines it
doesn't quite line up and so keep going
bear with me we're not looking at
something else which is inspired by
prototype JSE's object out extend this
is a method that's been in prototype in
other libraries for a long time it
usually uses the foreign loop have some
issues there but we wanted to work by
taking all the own properties from knob
ject on the right and copying them into
the object on the left it's a little
funky that there's no assignment
operator you have to know that this is a
must monocle mustaches winking mustache
guys on his side is going to mutate the
base but you know roll with it for now
and it gets all the own properties so
suppose you have those private named
object identified properties they'll get
copied to and you can't do that before
in loop so this is important to make a
built-in you want new built-ins that
fill gaps in the language that you
cannot fill yourselves you cannot
reflect on private named objects but you
I think want as a compositional operator
this monocle mustache to get the private
names wouldn't it be better if it just
made a fresh object I mean we can worry
about optimizing but it looks like an
expression form of some sort doesn't
necessarily mutate base doesn't screen
out I'm going to copy things in the Maya
left what thing left my monocle but
if we do that then you have to capture
the result in a new object or if you
really want it to be clear that it's a
mutating operator why not use the
assignment operator idiom from see that
JavaScript inherited lots of languages
have in this case it would be dot equals
instead of plus equals we can't use plus
equals that's kind of taken it does
string conversion and string
concatenation that ship sailed long time
home unfortunately so we're still
arguing about what the right form is and
your input is welcome on he has discuss
your informed comments are welcome now
what alan has done with these has he's
made the class pattern without class
syntax so here it is all at once there's
the private names again just to keep it
parallel instead of class point we have
a wet point and on the right instead of
point extends base we have base triangle
function and the function is the
constructor and it looks just like the
constructor from the earlier slide but
you also want to take the methods that
were in the class in the earlier slide
and put them on the prototype so we use
monocle mustache to do that it's kind of
pretty not totally pretty though but not
totally awful and then you want to end
in the constructor because that's what
you want to assign the point you don't
want point to refer to point that
prototype asked for a point the
constructor function so you then use doc
constructor monocle mustache any static
properties you might have here's an
all-points data property you could have
static methods people like to put class
methods the built-in objects have them
you know like date dot parse is one
example this almost work sudden people
start to like this because they think I
could actually live with this instead of
class syntax and I wouldn't have to
hassle with standardizing classes and
but it's a little fragile if you get dot
prototype section in the doc constructor
section in the wrong order then you end
up a sign the prototype to point and you
can't do it and it's just boilerplate
you have to write the monocle mustache
you get dots in the middle of your your
your class layout it doesn't look as
sweet as the ideal class index we
haven't fight
looks so you know syntax I I swear one
go launched I was excited about certain
things and then I realized was a lot
like previous Rob Pike languages but
worst of all they kept blogging about
syntax and I thought why are they
talking about CX who cares about syntax
that's like the last detail you want to
worry about when you're designing new
language but Java is an old language and
it needs to be more usable so sin tax
rises to the fore and we on the
committee can't just be egghead samana
sis we have to think about syntax and
usability not particularly great at that
I'll talk more about that yeah so
triangle monocle long nose moustache if
it's the thought equal thing
coffeescript has has class that just the
sugars two prototypes constructor
functions why can't we it's harder than
you think the standardized funny
operators and maybe not maybe they're
good maybe we need to find the right
operators where we still might want
classes and by shedding is the constant
threat whereas instead of deciding what
you know paint color to use for the
unimportant bike shed we really do have
you know the atomic power plant in front
that has important usability features we
want to get right so it doesn't melt
down so we ought to be considering
syntax carefully and interacting with
the community on usability which means
to me we probably have to prototype this
stuff maybe have a beauty contest you
guys would have to get your hands on it
to use it I think to really judge you
could look at it everybody has an
opinion right but you really want to use
it to the side let me talk about Moore's
index because again people get tired of
function i really regret this
eight-letter keyword I made JavaScript
based on sort of C syntax but I needed
first class functions and I didn't use
fun or FN I thought about fun and I
thought it it kind of wind up with bars
a three-letter keyword but it didn't
match the Java gravitas of class extends
an interface and it was it was too short
so i used function also inspired by awk
function is too long people getting
tired of it if you only do a little
javascript in or you write big functions
with big bodies maybe it's not a problem
if you write lots of functional
javascript you started seeing function
function function function function
participating ass now over the years
people have asked for funny characters
again lambda and florin are actually
unicode identified
characters i believe and cannot be used
without breaking compatibility with
somebody in Greece or I don't know
Belgium who uses flooring it could
happen though and so I don't know if we
want to do that and it doesn't work well
for other reasons that I won't get into
but there was also an idea that we
should just use hash and his hash is
short for function wouldn't that really
improve things I don't I don't think so
because part of the problem is what
we're running out of characters we want
hash maybe for something more universal
later also function as long as a keyword
but return is six more honking letters
and you have to have a space after
friends around its operand so pretty
soon you're talking about four functions
actually return values 14 or more or
maybe 15 characters when you could have
one so there's more to do than just
shortened function and so one idea what
I'm actually developed is straight from
CoffeeScript because it's a cowpath we
could pave though it's grammatically
quite different and it's not validated
in the same way that javascript is it's
a github project the code is the spec
and Jeremy keeps tuning the sort of
magic elixir and the rewriter phase and
so on which is cool but it's not
something we could standardize but I
worked on this enough that I got it so
that you didn't have to use extra
parentheses or braces but it requires
some novel grammatical techniques that
some people in the committee just don't
want to take a chance on so I'm kind of
pessimistic about arrows a federal would
bind this just like in CoffeeScript but
I did a bunch of work on this it's still
a straw man in our wiki and some people
like it to me it's it's it's got some
uphill battles in the Committee on the
granic evaluation of front and it's kind
of only function syntax and at this
point I want more name functions too and
so I did some more work inspired by Ruby
and small talk to put block lambdas in
without kind of the extra steps that
Ruby put in where they have to you know
be passed down to certain functions and
then they have to be proc taught nude
and there's just complexity there we
don't need instead these would be a new
kind of callable object they're built in
Colorado so type of says they're type
this function that tells you it's
callable they have some of the things
you expect from functions like a dot
length property for the number of
expected arguments they do not have a
dot prototype
not have a construct internal method you
cannot new them and that's important
because they actually don't change the
meaning of this in their bodies they in
fact don't change the meaning of a lot
of things in their bodies they have a
property somebody will call this tenants
correspondence principle so that you can
take a piece of code and wrap it in one
of these things and call it right away
and it's as if you didn't wrap it at all
I think that's called an ADA conversion
so they're cool they can be used for
iterators that can be used like you
would use them in Ruby they can have
control effects like returning from the
enclosing functions you can write your
own outer function capital F sorry
eight-letter word function and your
inner blockland to the cooperates with
it by returning a value and that's what
these examples show some people freak
out because what this means is if you
let one of these block lenders escape
and it returns from its enclosing
function then you call it later when the
enclosing function is no longer active
you get a runtime error it's sort of
like having a throw in your code I mean
runtime errors happen especially with
throws in cs3 I'm not freaked out by
this but it really bothers some people
so that's a challenge in the committee
and probably the community some of your
rubios though and you're probably like
salivating and you know why are we
fussing about this so Michael Rogers had
this claw I still like I got 99 problems
in JavaScript syntax ain't one that's
Michael but you know there's there's
still a lot of disagreement people who
program a lot of JavaScript and a lot of
functional JavaScript do do feel some
pain it's not really writing so much as
reading though I'm sympathetic to both
read abilities the first consideration
so you know we're not going to get
arrows without some grammatical wonder
work that I haven't figured out how to
do in the committee block lambdas are
actually closer because the grammatical
purists don't mind them they're they're
unproblematic that curly brace bar helps
kind of spaces but it still house and
then some people just want to go back
can't we just have a shorthand that's
just not only character i don't care
about return or this and that's that's
that's warm beer it's not going to fly
in the committee it's probably not gonna
fly with you
guys so you know I have to ask myself
because we did defect from the without
me if we see to do html5 we did form the
what WG would opera and Apple back into
the sport maybe something's wrong here
even if the committee is operating
harmoniously it's good the question how
we work as well as the product we do
have this problem that we're committee
we don't design if we can help it but
apart from by shedding temptation we
delegate champions and we try to codify
the facto standards but we're
consensus-driven which means it's hard
to reach general agreement which is the
definition consensus we also have long
path dependencies so we end up doing
something like adding a special form
where we could have a macro facility
that lets it be a library that I think
isn't so big that particular issue
because later on if we have macros you
guys can go recast it without problem if
we did our macro job right but still
there's this when you're doing this work
you're going down a path and there are
roads not taken and it's hard to hop to
a different path so things like dark
navy wonder things like WebGL typed
arrays in Krypton should we take the
typed array precedent and make some
numeric extensions for JavaScript some
way of saying I have an integer not just
a in 32 typed array but an actual in 32
variable might be good it starts to
smell like es for exit 3 you know java
with optional types been there and done
that i don't really want to go there but
just for the hardcore typed array stuff
maybe just run script and maybe for this
being a better target for code
generators goal maybe and since we had
this calling process and we may cut more
of the proposals it did make it the es6
some of those strum and like block
lender Bible are still out there in
straw state but maybe they should be
experimentally implemented so the under
a flag you can try them and we can get
more user feedback even that is hard
because I think spider American v8 teams
are all full up they're busy doing the
stuff we have approved they don't want
to try some rando strongman that might
fail so maybe we should organize the
community to do more prototyping I know
there are some really good hackers here
it could actually extend v8 and spider
monkey and JavaScript or for that matter
the other
source engine to have some of these
experimental features in a coordinated
way but but the good news is that es6 is
being drafted that's a link to the page
on the wiki where you can find the
emerging drafts their word documents and
PDFs you can dip them if you use word
you can look at them in PDF jas if you
want and we're making progress people
don't believe this you think oh the
committee's off again the wii's it'll
never happen but it's being perfect in
v8 it isn't just Mozilla you know the
holy fools adding the spider monkey in
the vain hope that gets standardized is
actually coming along and I expect it'll
show up an apple and microsoft in never
can tell but i think they'll emit a lot
of this to their actually keen on things
like binary data so that this is all
good news and we can even afford to cut
and we really are worrying about syntax
like I swore I wouldn't do and I think
that's a bad role for the committee I
think it's better for the community so
we need to interact somehow and and I
want to find the pretty unusable syntax
I know it's out there so let me talk
about something new that I did talk
about it blog about recently but i'll
show you the demo and this is also i
think connected to what alone is doing
because Emscripten could certainly use
that parallel hardware to lv m actually
connects to open CL through some work
nvidia did so there is a great
opportunity here to do a fast pathway
you can have c++ or whatever language
you want that has a compiler the LVN
backend and outcomes not only javascript
may be parallel javascript and the intel
researchers added a parallel ray library
there's one of those in java so they
were may be inspired by that but it's
not bad thing it's like typed arrays
only know methods mutate any of the
elements you can't write to any of the
elements and that makes it easy to do
the dataflow analysis and you really are
just throwing out work doing work
stealing on your cpu's you're doing
instruction selection on your short
vector units that's what the demo uses
and ideally you can map it to your GPU i
think that'll happen so here are the
methods they all produce fresh results
that means that this isn't just a
library if you run this
slow but if you run a special compiler
over it javascript to opencl is the
current technique but this could be done
in the Jets the current jobs with
engines can actually do this analysis
you can actually generate if you want to
use opencl because it knows how to map
to your hardware and it's a sort of
reporting layer or maybe you just wire
it in your g it knows how to generate
the right instructions for your your
multi-core vector units yours your GPU
with its massive floating point
parallelism and the source is on github
that's really awesome intel's doing work
on github I mean I knew they have
another thing they have a swim
decompiler they're just doing stuff
there's a place in the demo code they
hired some consultants who didn't know
how to use strict than it cost mera so
they put do not use strict in quotes it
was funny and it shows that a string
literal useless expression statement
really is useless unless it happens to
be used strict so be careful with your
use tricks they do have meaning in
harmony you'll have to take away the
quotes and then you get guaranteed
semantics it isn't just a useless string
expression to old old browsers the
parallel or constructor builds on typed
arrays this is where embrace and extend
maybe this will change this is just a
technology demonstrator but the way it
works looks like javascript right you're
just doing new parallel array you're
setting up a bunch of state for your
asteroid particle system thingy using
combine instead of plus equals is kind
of a mouthful but this is where the
magic happens because this is where you
can actually farm out the work across
multiple elements in the short vector or
across even parts of GPU across mobile
cores and you can take your loops that
use these operations you can also split
them and form them out everything is
immutable so the dependencies are easy
to figure out and that makes me think
that Janice is underrated because when I
did it it was first a toy or useless
even in 2006 andreia scale had a paper
rejected by a referee was like cgo
conference who said javascript is a toy
and performance doesn't matter and this
was like two thousand six I mean gmail
was out google maps but you know jess
was too slow you needed actions for free
you needed silver
I don't know something but that's not
true it couldn't be fixed while we're
fixing it we're making progress in the
committee ain't going to be the
prettiest thing but not sure anything
that's got the reach of JavaScript can
be that pretty because it has to be
compatible roughly over time you can
bring things slow and put in new things
like spread and rest but takes time and
they said I couldn't do you know
parallel hardware we need a new language
for that you know we're embedding web CL
unsafely in web pages where we're going
to put magic domain-specific languages
into strings in java script where they
can be unchecked that's a good
experiment too but it's to me it's not
appealing it's unsafe it's unchecked
with parallel arrays we can do better so
I say almost bad on Jas and i'm going to
show you the River Trail demo now and
this is a pretty particle system but
when it starts we'll see it's using
sequential execution which is slow and
there come some particles and it it's
just painful and the framerate
eventually on the right there will pop
up and it's not good but if you click on
parallel then
and I think my fans are going to turn on
now because it is lighting up I mean all
the silicon and all four cores on this
big beautiful map are chuck it away so
yeah almost bet on jazz some questions
Brian
yeah scripta has to do like or zero or
whatever all over the place it's crazy
so I alluded to that with the idea of
America extensions for JavaScript given
the type to ray storage types you do
kind of want arithmetic evaluation
intermediate types and even local
variable types which I'm going to
consider all possibilities like your
phones have GPUs with 16-bit floats on
them maybe we need those it starts to
get messy if you make a numeric tower
where there are implicit conversions
that lead to loss of precision or crazy
unsigned contamination that I think is
to be avoided maybe we should have no
implicit conversions you should have to
explicitly convert I'm thinking about
making this proposal this is another one
of those late proposals that might be
more important than some of the stuff
we're working on 3s 6 so look for more
on my blog about this I'm serious about
this is it's it's relevant to the typed
array and parallel array work it's
relevant to the script in a bunch of
other code generators sounds like darts
got multiple numeric types so you know
got to keep up with the Joneses yes
Wow time for beer
if Oracle of bothering people about like
the Java tried knock why not make Jas
official good idea you know promise jst
org is I think it's like Jerusalem
synoptic studies org or something I mean
idiot j/s a little short but how do you
like that that black and yellow logo is
that good all right I thought about I
actually tried to negotiate with some
domain squatters for certain names
because i think jay s is a strong short
name and we could have that community
group that does have a hacker elite that
extends the open-source engines beyond
what their owners can afford to do to
experimental stuff thinking about it
thanks
so good at me in a pasilla might apply
for i jst LD put some money into it
about jst OB Wow all right hadn't
thought of that one will look into it
cool um so what's the kind of though I
suppose the backwards compatibility
story are we going to do what right
Tracy doesn't have like it or
CoffeeScript have this kind of converter
which will always go back to JavaScript
or yeah it's in plan there was already
tracer I don't think that's we maintain
now but the idea is to take the next
version JavaScript and compile it down
to the current version all the browsers
support there's going to be some
performance effects but that's better
than not running and if you really want
to target current version until the new
version it's widely adopted you can
always do that I keep saying this
because people say well we have to wait
four years so there's no point in doing
anything but that's not true sometimes
it's less than four years the web can
evolve rapidly and with the move to
mobile I think it will cope
hi when it comes to the question of
syntax I feel like maybe a better move
would be to work on features for
JavaScript to make itself a better
target for other languages like
coffeescript compiling into it right now
you can't really use it for test fit and
development you can't really use any of
the CoffeeScript stuff because this deck
traces search is totally meaningless and
I think so both WebKit as well as
Mozilla has bugs open for like a
proposal to annotate source code with
line numbers from other language that ya
generated some is that something akma
script 6 would address sort of I
actually worked on the past for that
which is under review and it's going to
land soon for Firefox I don't know
something and that is that that's called
source Maps it's what the closure
compiler generates and that's a good
idea I don't want to standardize yet
because it's still something that only
like the closure compiler and spider
monkey and maybe a WebKit or chromium
patch that might be going forward is
doing I think spider-man he's going to
have it first but we want to support
good source coordinate mapping so when
you get an error when you are debugging
you can project back to your coffee
script source other than I think coffee
syrups good for test-driven development
and these numeric extensions will be
good for coffee script triangle would be
good for coffee script because coffee
trip wants to do Ruby s-class side
inheritance when you make a subclass you
inherit the super classes class methods
and triangle does that magically when
you use it with a function on the right
so some of this is relevant so yeah just
a question on the M scriptum versus
Native Client versus extending
JavaScript because of the let's say the
performance characteristics of both
memory size and cpu speed there is going
to be a class of applications that are
going to drive the adoption right so
that you have to have a killer app for
to use this technology so how do you see
the performance balance for instance
it's great at it can cross compile to
JavaScript but if you know the only
browser that runs it fast enough is you
know maybe two browsers or one in half
is it still is it still a competitive
because if I run it on an iPad maybe it
runs like half of frames per second
which yeah I got just call device
Native Client incoming the iPad ever so
that's really not a comparable good but
but frames per second isn't either so
then you don't care right so if this
becomes a hot issue pun intended then I
think competition will drive these
devices and they will get faster and
more multi-core architectures with
bigger caches and we will see them
running these these more aggressive apps
but you have to go through this
competitive cycle there's no shortcut on
the web and that's why I say always bet
on jazz because the shortest path which
alone is taking with them script in
which we're doing with these parallel
ray extensions is to extend the web as
it is not try to do a replacement on
part of it or all of it that trick never
works Brendan some time ago you sent me
this link to this suggestion of an
dicked API you remember plus the state
about that it's a straw man and didn't
make the cut off dave herman did some
great work making a dict api it's
actually a literal syntax you put
brackets around you know key colon value
property initializers instead of
squiggly curly braces you use square
brackets kind of cool because it's only
a dictionary you get string or katrinak
weighted keys and values you get no
object on prototype we can decide if we
want it to be extensive Laura now it's
all I should it acts more like what a
Python dicked is but how do you make an
empty one square brackets by themselves
make an array they started adding pipes
it got weird and it was a little late
and it just didn't make it so we're
gonna keep working on it the strong and
stuff is still ground we're turning over
we're still trying to grow some
beautiful plants or plenty corns there
so don't give up but keep the feedback
coming and about the TC 339 do you think
that will come to conclusion of having a
more open from external contributions
like we have an Oreo mailing list and
there is clearly evolution on that but
as I'm trying to implement some this
pack and I find out hi difficult to get
the dart that test that's it that's it
running so yeah sorry I didn't know what
chance what you meant but there there is
a problem with open this akma like all
standards bodies has been talking about
openness and sort of moving toward
openness but it's it's gradual w3c
actually got severe pressure from the
what WG which let any individual
well-behaved individual be a member in
standing so now i think the HTML working
group is like that which is good makes
for a certain noise level only hicks he
can really keep up so he usually wins
not sure about that you know i like
hixxy he did the job we picked them for
when he was still at opera in 2004 I'm
not gonna pick on him cuz I think he did
the job basically and I'm happy with it
mostly but I don't know how you r Ian
you redo that you can find another hixxy
somewhere it's hard acma is not going to
let any individual be a member in good
standing but we created es discuss at
Mozilla to let everybody participate and
a bunch of us not just me it was all in
others but people Google take input
seriously and take it back and Alex
Russell has tried to incorporate some of
the people who might be around when we
meet to come to our dinners and I think
we're gonna keep trying that no games
and I'm not trying to play politics just
get get more voices of the community
heard but maybe the best idea is the DJ
s domain or the j org take a less
hostile approach to what WG but do make
sort of advanced scouting organization
out of the community and be serious
about it try to be coordinated make some
extensions to the open-source engines
argue until you somebody wins or the
rice right design comes to the surface
and scale it out better than the
committee can do because the committee
is understaffed it does seem like we're
losing a few Googlers I don't know if
that's because the darted on I think not
we're just going to never do as good as
the community can do if the community is
harmonious and coordinated hi we have
the conversation about seat types of I'm
the guy that was trying see types to
simulate what you would have done that
yes
yes six looks cool but it seems to be
split in two main things one is this
binary data structure array this
parallel stuff which is which is amazing
and everything else is syntax by any
chance we can have as soon as possible
at least the part that can mix things
faster and think about syntax after
maybe oh yeah so the problem is that the
it's there two problems one is turn
numbers the committee don't want to
leave you all using CoffeeScript or a
compiler they want to attend the
usability problems that are in the
language functions too long they're a
bunch of them writing the class
boilerplate the problem it's not the
biggest problem but it is a problem so
if we make people wait they're going to
wait a long time and that's the second
problem the overhead of the standards
process which has some value in the
release of patents and then government's
respecting ISO particles that has fairly
high overhead you cannot do really fast
turns of the crank because the overhead
dominates your schedule and you have no
room left actually do any work so we're
aiming at es6 in 2013 italy prototype 2
while before then i'll probably be not
even under a fly again v it i hope it'll
just be turned on because parts of it
anyway it will be on controversial and
they're already in on in spider monkey
we'll get some of that in javis rapport
you'll see it coming now if the things
that come first are the make it faster
maybe even these numeric extensions then
we win so that's why I think community
interaction is most important because
our prioritization not just on the
committee but among the implementers at
all the browser renders needs to be
informed by the community all right
Thank You Brandon</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>