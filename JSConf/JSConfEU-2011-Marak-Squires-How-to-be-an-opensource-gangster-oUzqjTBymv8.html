<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>[JSConfEU 2011] Marak Squires: How to be an open-source gangster | Coder Coacher - Coaching Coders</title><meta content="[JSConfEU 2011] Marak Squires: How to be an open-source gangster - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>[JSConfEU 2011] Marak Squires: How to be an open-source gangster</b></h2><h5 class="post__date">2013-06-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/oUzqjTBymv8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">good morning everybody hello welcome to
track two upstairs I am Barack squires
and i'm here to give a talk on how to be
an open source gangster first off i'm
the chief evangelist at no jutsu this is
an oj s hosting and training company and
for the purpose of this talk i will be
the open source gangster so let's get
started first wait isn't a gangster a
criminal am i going to stand up here and
advocate crime well the short answer is
no this is a talk about gangster rap
idioms versus open source workflow so
just sit back relax and enjoy the
metaphor so let's get started first you
try to make something out of nothing
starting from scratch an open source
everyone starts at the same place it
doesn't matter who you are everyone
starts with one line of code everyone
starts with no knowledge everyone starts
from scratch you're making something out
of nothing you got respect the game
you're not the first you're not the best
and you're not going to be the last
you're only a player in the game the
sooner you can recognize this and get
perspective the sooner you can advance
people have come before you people have
come after you you gotta listen to the
og's the original gangstaz you have to
find mentors you have to ask questions
you have to ask questions to those with
more experience but you need to keep an
open mind you need to have a
bi-directional communication with these
mentors because they have experience
that you don't have and they're going to
be able to tell you things and help you
along the way but at the same time you
need to have an open mind to know that
their old guy
sirs there are some things that they
just haven't done there's new things
that you can improve on so you just need
to keep an open mind knowing that
they're your mentors will be able to
give you information that you might not
know but at the same time it might not
necessarily be correct you got to keep
your ears to the street you need to
follow other developers follow projects
stay informed I think one of the biggest
mistakes I see is somebody might toil
away at something for two or three
months and make it really awesome and
then say oh this is the coolest project
ever and it's like well no it's been
built five other times and you know one
of those initiatives has like a five
hundred thousand dollars behind it and
like you also solve the wrong problem
you need to have perspective you need to
be able to see what's out there you need
to research you can't just say I'm going
to make something and it's gonna be the
coolest thing ever it doesn't work like
that you got stay on your grind
persistence tenacity follow through you
just have to keep going if you fail you
need to try again if you fail you need
to try again if you fail again you need
to try again if you get it right you're
wrong you got to do it again it's just
like if you hit a wall you break it down
everyday i'm hustling you gotta treat
your product is code you gotta treat
your kotas product you got to slang your
code it represents you it's what you're
putting out there people don't care
about anything else but the quality of
the code does it work or does it not
work is it easy to use is it not easy to
use your code represents you and you got
a slang it you got to put it out there
the first one is always free you got to
go free open source you got to put it
out there you have to put an MIT license
a bsd whatever you want the point is is
that people are going to be able to see
your work and sit your code and if they
like it they're going to pay you to do
something else because they know you can
do it and you've already proved it to
them so i'm saying you give them the
first one and then they get hooked you
got to only deal with the pure stuff you
got to write flawless projects
code conventions unit tests
documentation get tags get workflow if
you don't have these you have nothing
process process process you gotta write
good code and you have to write it
consistently if you don't you're a joke
no one's going to want to use your
projects they're not going to work
they're going to have bad documentation
the unit tests are going to be
non-existent you have to write flawless
projects a strong word call consignment
strictly for live men and not for
freshmen not everybody got the hook up
for that pure product not everybody got
the hook-up you know I'm saying you
don't got the connection you contribute
to other products other projects still
be gangster the point is is that not
everyone can say on their first day you
know i'm going to write the best project
ever and i'm going to write flawless
code and my method is unstoppable and my
unit tests could cause an earthquake who
knows and it's like it's just you need
to find someone else's project and you
need to be able to contribute to it and
you need to be able to kind of learn
what they're doing and get into it still
be gangster you got to get users hooked
you make your projects easy to use you
make the api's accessible you solve the
right problems if you make your products
easy to use people want to come back
they got that good good project I got
that good product they want it it's easy
they're used to it it ain't hard to find
me you have to be accessible this is
something I see all the time people will
put something really good out there and
like someone will ask a really basic
question that's pretty reasonable and
like you won't see a response for weeks
if you're going to be slangin your
product and you're going to be putting
your project out there and you're going
to be putting your code out there you
need to be accessible people are going
to have questions you need to be able to
listen to their input you need to be
able to take their input and regurgitate
it and put it back into your project you
got treat your clientele well because
they will come back for more product
you got provide good support being
available is good you can say oh hey I
got your message but you really need to
help if someone has a problem like you
might think that they opened up a bad
pull request or maybe they opened up a
stupid issue or maybe oh they didn't
read my documentation that's a
reflection on your project not on the
person if you haven't made something
easy enough and you're not able to
provide good enough support you have a
problem you need to fix that you need to
be proactive you need to treat your
users well if people are using your
project it's your prerogative to help
them if you don't your projects nothing
you gotta slam your product evangelizing
your code this is something I see all
the time brilliant people write these
beautiful projects they put them up put
them up on github and they don't tell
anybody and they just sit there and
maybe you'll like stumble upon it or
maybe you'll find some random person who
has 10 of the best projects ever but
nobody knows about it you need to put
your code out there you need to be able
to tell people how to find it you need
to be able to evangelize it but
unfortunately when you start putting
yourself out there haters gonna hate
yeah you got to ignore distractions
people are haters ama hater you're hater
everyone's a hater it's just life some
people are going to give you criticisms
that are useful some people are going to
give you criticisms that are pointless
you need to be able to just ignore the
distractions if there's good information
coming in you need to filter it out but
for the most part if someone's Hayden
and when your eventual eyes and just
ignore them you gotta keep it gangster
now how do you keep it gangster you slay
your enemies through github we accept
pull requests we accept pull request if
there's a problem with my project and
you tell me about it I'm gonna fix it
and if I don't know how to fix it I'm
gonna be like what's going on give me a
pull request I will accept it it's about
quality it's about improving it's about
moving forward if someone is hating on
your project and they're being a hater
you got to keep it gangster and you got
to slime them and you got to slam
through github you put the good coat on
there and you get pull requests
real recognize real recruitment if you
follow all these steps you have the
workflow you have your projects out
there you have good projects you're
providing good support other people are
going to recognize this real recognize
real you'll see through the bullshit
they'll understand that you're doing
something that you have a good project
and they'll kind of come together and
now you're going to have a whole bunch
of developers all following the same
mentality working on these great
projects providing great support taking
it as much input as they can to just
improve quality and then once this
happens now you got a bunch of
developers with you you got to put the
hood on your back what does that mean
community building you need to reach out
you need to do meetups you need to go to
conferences you need to post to mailing
list you need to do demonstrations you
need to do blog post you need to post it
to the social bookmarking sites which I
will not name and the point is is that
you're not just evangelizing for
yourself anymore you're evangelizing for
your users the people using your
projects and using your product now need
to have the community built up around
them so that they're not alone so that
you get seeds growing everywhere of
these great codons great projects and
then finally you got to put the crew on
the payroll and this is building an
open-source company so at note jitsu i
would estimate eighty to eighty-five
percent of our code bases open source
and on github right now we're an oj s
hosting company it's a very competitive
field and it's difficult to decision to
do this but it's the right decision
because the quality code will stand out
and finally you got to keep it real now
I can't really tell you how to keep it
real it's not really something that you
learn it's just something that you do so
I'm going to try to do the realest thing
again which is just release a project
live right now and it's not just any
project it's a pretty disruptive lon so
to give a little background in je s com
2010 I announced the hook
project hook io is a full-featured io
framework for no Jas since the release
it's got over 700 Watchers on github
there's over 18 hooks for the
application hosted here there's probably
another 15 floating around there's 10
active contributors it's a big project
to give it a little idea of how it works
we can look at this blog post made by
pair there is thank you so just to give
you a quick idea of what hook I 0 is 0
chi 0 is a way of distributing your i/o
and an application in a traditional
application you might have your web
you're logging your IRC your email all
this logic is coupled together in the
same process this is bad it's not so
smart if you have a problem in one of
these pieces is going to take the whole
app stack down ko kayo allows you to
distribute this among multiple processes
this is really cool but what I came to
realize is that people build web
applications and they want real-time web
applications so we'll go here so what
I've got is hook j/s this is hook io
brought to the browser so real quickly
we'll just do this
make it public boom so now this is live
I don't know if you can notice it's been
a very great conference great great
parties very late parties so yes poop
dot Jaso okay what exactly did I just
release oh yeah okay brought hook I owe
to the browser excellent so it's great
that we have all these distributed
events but now what we have is the
ability to actually do this in a web
browser so let's just get it started and
do a live demo so first I will start up
see if we can see this cool oh that's
the rainbow repple you can't see it yet
okay so we're going to start our top
level hook this is going to be the the
master hook at the top of the stack
which will be the repple and we're just
going to do this so that we can kind of
look at the messages as they come
through and then in addition to that
we're going to start hook jas will go to
our browser window and load up the
interface for hope Jas it's very basic
we just did this in the past few days so
the way that this works is now you have
this magic variable called hook I'll
back it up a step you require hook j/s
in any page this file can be local or it
could be remotely hosted and then you
have access to the hook object the hook
object allows you to have this
distributed event emitter where you can
just omit events on the browser and on
the server you can get them in addition
to this you can omit the opposite way
and you can also do a callback API so
from the browser you can emit an event
with a call back on the server it will
accept the event and then it will
process it so if we call hook damn it in
the browser it'll outputs up since the
server responds back so we can actually
do a lot demo of this right now so we'll
got this one open here and we'll open up
this one here cool so just to give you
an idea in Firefox we're going to do
hooked on browser sup and we'll do that
binding and then over here will do hook
dot emit sup dawg so this is going to
omit the sup event with the data dog
will hit that and then if we go back to
the other browser session oh not run
that awesome oh there it is cool I
thought it didn't work so as you can see
the the message has gone through now
this is a pretty trivial example we're
just doing basic message passing between
browsers but what the important thing to
understand here is ho gaya was a full
featured event framework I offering work
rather for node so we have a whole
series of these hooks that have
independent functionality for things
like simple as making a HTTP request and
as complicated as consuming the data
from the Bitcoin exchange mtgo X we had
18 or so officially sponsored in
probably another 15 floating around so
being able to do this distributed event
emitter across the browser is kind of
cool you know we have D node which is
this is built on and but you need to
take a step farther because when you
send these events like what are you
really doing at the end of the day
you're probably going to be delegating
it back and you're probably gonna be
saying oh well I'm going to say so the
send email event and then somewhere in
your controller logic you're probably
going to parse that out and hook I oh
just makes this way simpler so to give
an example we could actually I'm not
going to try to connect to the IRC here
but just to show you on the repple we
could capture any of these events so as
we've been firing these events the
repple has been running and it's just
keeping a log of everything that goes
through so it would be trivial for us to
just catch any event and to remit it
into the hook io cloud in addition to
just having this distributed event
emitter thing in the browser now it's
it's actually doing a bunch of stuff
this is um I don't know if it's coming
across well or not but this is
very disruptive this is providing a pub
sub that anyone can just deploy anywhere
anonymously and they just connect to it
if I provide a unique hash up here
that's going to subscribe it now to this
channel and the only way to enumerate
the events from there is if you know the
name and this is all open source you can
deploy this right now it just released
it in addition to just having this pub
sub that anyone can subscribe to it also
launches up to other hooks one of which
is the web hook which is on port 9001
what this allows here we go is for you
to post arbitrary HTTP requests such as
a JSON RPC so you have this endpoint
that's not WebSocket based and not
socket i/o base so if you need someone
to broadcast the message into your hook
io cloud or into your hook j/s rather
they can just hit it with a HTTP request
here and then it'll pipe through and in
addition to that it also spawns up a
feed so if you're not using a web socket
interface and you want to subscribe to
the events from this hook you can also
listen to the feed so the idea with this
is that you could essentially just
deploy this little pub sub sano jitsu or
a similar hosting company and then you
could just start subscribing to messages
just pumping stuff back and forth and
that you're hooked into hook i oh so you
have full access to the entire book
library so this is kind of like I
consider this the next step in
distributed our pcs and the next step in
pops up and I think a lot of people are
going to be really worried about this
yeah so I think that's pretty much it
same what have any questions
so the first question is how does it
scale yes what was the second question
what is the web the protocol so it
actually right now the Elm the idea is
to become an enterprise service bus so
the current protocol is denote protocol
so if we go to sub stack denote protocol
so it's just a on it's a JSON RPC so if
you're familiar with Dino Dino tis a way
to communicate between nodes and between
browser and node and nodejs and it also
gives you a really neat way of calling
our mi doing the remote method
invocation without serializing the
function so to give you an idea it kind
of looks like this but what's
interesting is that we're working on
making it multi transport and making it
not coupled to denote so we already have
the couchdb transport in place so you
can actually use CouchDB as the message
bus instead of using node and we're like
yeah so right now it's denote protocol
yes it scales if you're going to ask an
open-ended question there's only so much
I can say like what do you mean say
again multiple instances of the oh so I
mean it's still an open it in question
like which piece do you need to scale
what part of the i/o is important to you
are you talking about concurrent
requests your web server are you talking
about making a spider that's spidering a
thousand different sites are you talking
about something that has a lot of
database access are you talking about
something that's communicating with 10
different web services like there's no
magic bullet to scaling hook I hope
provides you a framework for being able
to implement all these different load
balancing strategies so it's not really
I'm not tying you into anything it's
very open right now and before we
release we're in the 0.7 X branch right
now and before we release one point oh
we're going to include a bunch of load
balancing strategies most available
around Robin etc etc it's scaling is no
magic bullet
anybody else yes um yeah there's a bunch
of them I could check one right now yeah
why not maybe it won't load so this yeah
it's gonna take a little bit to load so
we've built a few things on it this is
station this is a third-party monitoring
service for no Jitsu so the way that
this works is that internally we have a
lot of we have agents on every machine
similar to nagios so we have them
reporting to our central server and
internally we're tracking a lot of stuff
now this is cool but I don't trust
anybody's code by my own so this is a
redundant monitoring system so what this
is doing is this is a combination of
seven different hook io hooks including
the hook Jas what you've just seen which
is the web server it's using twilio it's
using request it's using cron it's using
web hook so if a site goes down it's
going to flash offline and then everyone
on the team is going to get an SMS every
one of the team's going to get an email
yes this is one example application and
that latency seems a little off
it's cool thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>