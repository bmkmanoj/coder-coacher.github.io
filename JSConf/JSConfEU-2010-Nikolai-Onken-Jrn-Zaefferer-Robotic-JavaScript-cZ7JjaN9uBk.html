<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>[JSConfEU 2010] Nikolai Onken &amp; Jörn Zaefferer: Robotic JavaScript | Coder Coacher - Coaching Coders</title><meta content="[JSConfEU 2010] Nikolai Onken &amp; Jörn Zaefferer: Robotic JavaScript - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>[JSConfEU 2010] Nikolai Onken &amp; Jörn Zaefferer: Robotic JavaScript</b></h2><h5 class="post__date">2013-06-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/cZ7JjaN9uBk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">is it on great all right thanks
everybody for being here what an amazing
conference we all I think had a massive
blast until so far and let's see what
happens I hope we will survive this
there's some electricity involved and I
saw there's a fire extinguisher over
there so I think everything is going to
be fine so let's get started yeah we're
going to quickly just have an
introduction my name is Nicola aankhen
I'm from Germany living in Amsterdam
from Cebu and basically I got involved
with this whole Arduino controlling
hardware with JavaScript last year
jsbach then we just had the idea hey we
have phone gap with mobile devices but
we don't have any AP is to control
hardware and that's really what we
should be able to do so I've set up this
bluetooth setup so you could talk to the
Arduino via bluetooth that kind of was
very unstable so now we do kind of USB
cable cable ish things that's about we
yeah so I'm Jen sephora and from Cologne
Germany I've been here last year
presented about Jack VI but as we figure
out that all the JavaScript frameworks
that run the browser are kind of boring
now we excited to focus on something
more fun and apart from the idea stuff
which nick lang proposed as talk almost
the idea of trying to find some example
that are really easy to reproduce the
Bailey everyone else can try this out
too and we'll get you these very soon
but for now let's talk about our mission
yeah so this will be the introduction
before we start the hacking action we
have a mission and our mission everybody
knows this is of course it's a bit slow
but javascript to rule the world
right as doctors did you sit tomorrow if
I can be one language to do to that it
should be JavaScript I mean browsers we
need much more than that yeah so first
there was was a long time ago that's how
it all started then for a long time
there was nothing nothing happened as we
all know and now we have robots and then
so he want with the JavaScript there's a
little hook to the to the action so to
say yeah fortunately our robot became
sentient we had to shut him down we were
to prevent future Skynet he was instead
he was afraid of all those drinking
people here yeah so we really actually
are that far but I mean it's the first
step we can now turn off turn off stuff
turn on lights turn now turn off lights
open doors and whatever and really with
the Arduino you can do much more but
right now that's how far we are so
that's really all all the slides we have
the rest of this will be kind of like a
genuine emmaus nanometer mouse psyche
German TV show fastest under yeah so we
need we need some people we may make
this couch here you see it very
comfortable and we need holder Martin
and Chris where are you there you are
we're gonna do some experiments with
these guys first of all give give all of
them a huge huge applause for setting
all this up amazing really
alright so to start off if gets
something that is really safe and easy
to reproduce the dwarf this nut socket
which includes some software with the
web server so we can actually control
this web server of HTTP three of these
sockets get contained relate so we can
switch them off on and off basically
I've got this little notch as proxy
which excludes HTTP client exit the
socket and includes the web server so we
have our own UI here see if this is
still working nope like to restart the
server robots alright man we've got the
net control yes so to start off I think
we need some lights and nothing's
happening so let's see is it connected
we got to get there so let's see the
weapon to physics right is still working
nope it's plated so we can't reach the
sockets or something there doesn't work
is tenor let's just have it reconnect so
in the meantime we really wanted to
bring a real blender you know like to
make actual drinks and here we go this
is what we have and this it's always
there this is going to be the blender
for making drinks today I won't turn it
on here I promise it's actually going to
be turned on the right now should
actually be working let's see for that
to set off some next up some music let's
see that couple is really cheap radio
clock here might miss be good enough and
now to get these important part how much
you want
so not a little bit one way to go to
automate that as well but for now its
turn on already and I'll going to switch
it's for me I mean to the oven on ok
time to get freaky
this for Chris extra extra can wake up
yeah that's the window for the next
contract kisses yes this is where you
good so only for anyone anyone here okay
so you get drink it now and then we'll
do some more shitty music phenomena
relief on the disco light of course next
up is their remote this is just as
normal remembered you can get it any
star 40 euros so we need cheap to get
started some of these experiments and
most computers included support soon
Reuters can be a bit annoying to get
connected to but it's completely can't
you see it I've got this extra soft foam
which makes it easier to connect it on
Windows once actually set up set it up
once it's really easy to connect it
again so just you select a big next
option here press one and two runs and I
don't blink a bit and you know dialogue
should pop up which says a little case
nor displayed here it's not connected so
it's continuous blinking for now because
doesn't know what you do it otherwise
but we'll make it you something so one
of those here is should have combed them
only chose instead of extending anyway
oh so we've got this little command line
tool we get you the extra code for that
minute once I will start it got this
script here let's play a bit of da start
a countdown and now script is running
and they can shake it and 45 settings I
can get try to get a high score so so
finish those days and they were
integrated the excessive greed source of
the x-axis so you actually
shake it that way and the addition I get
contest and we'll see can get the best
score you can set up set up what we want
so you don't hit anyone and it's got a
count of three seconds so when it says
go it's actually reading your
missing if you it's not out because if
you started then one and once it's once
going they'll actually and he made the
LEDs so you can see that you please get
another chance again yeah they give you
another chance after shaking sexy notes
good job okay oh I think not even
disrepair harder win this round with 33
points though Chris gets bonus action
for but I think you were a logo tonight
I Chris get a coupon so crushing the jvm
so you actually now know what's running
this stuff so let's take a like to look
at the code for this little game and
before we get to that forgot one slap of
this so this stack actually consists of
a few elements we've got a see library
to connect to the remote we have
bluetooth so there's the windows
Bluetooth stack and the C library to
correct event so that would be good
candidates to actually create a binding
for node.js we don't have that yet but
should be infection no bit about that
should be fairly easy then there's a
rapper library in Java for connect using
the seal a brief for the remote in Java
and as we've got that already i'm using
grindr to run JavaScript Jax's channel
having sexs sea snakes and access the vm
over bluetooth and then i wrote a bit of
makkah jquery api in order to script a
vmail work just like you could with
description it with jquery wherever I
section running and this demo while
you've seen what it does so let's look
at bit of the carrot so this file
actually includes both a bit of
infrastructure code and the actual game
can say so it's all on github already so
this is the part that handles election
motion celexa promote finds the motion
event then wraps the raw java remote
object in order to get this pseudo
jquery object this starter variable as
set somewhere else we'll get to that in
a second and then it just checks the
event as there are acceleration of x
axis over 240 so they're valued probably
goes up to 255 and anything about above
to
50 special impossible to reach kind of
check as much you want doesn't happen so
this is close enough to actually make it
sort of difficult and then basically
just counts blocks out the counter you
didn't see that and then sets on the
LEDs from then we mode and then use this
little helper to basically only made
limbs off again so everyone at 50
milliseconds one of these is executed so
lady I can actually see see if if you
make the right moves a little animate
them off and unless it continued chick
so the countdown and starting the script
is here use the same stagger method with
one-second delay and then for exiting
the game another timeout turns off the
LEDs put get put out puts the finishing
score and exit the event which get
started in the last so scripted a bit of
infrastructure here which basically
imports a few stuff from Java left
packages to work with fix the console
log object to the to map to the Rhino
print line creates a little timeout
method and for also for clearing and
checking timeouts and then finally
there's a custom loop which you probably
wouldn't have to do in no chairs because
not always includes the actual lube but
this basically just makes them
thread.sleep ft fifth 1215 minutes
seconds then ceases and there any
timeouts and digital the java library
for the MV mode it will actually trigger
the events so we can take a look at the
actual mock jquery api which is really
just the market doesn't include any
actual jquery code little if they select
their equals we mowed the string and use
this we use API manager to get the BMO
if it can't find anything it'll just
return ab the objects or just like
jquery would if we pass and actually be
more object it'll basically use that as
a selector and then it returns and
which object which include assume method
to bind and the LED method below here
which basically just forwards method
causes the java objects while the bind
method from now just checks if them
event is anything other than motion
because we don't support that yet and
then returns then there's a bit of stuff
here all this status event methods to
display the petrol level just once also
adds are conceived and so that if you
press the home button little exit and
then the actual interesting stuff on the
motion sensing event which basically
splits just a Java interface here it'll
use the callback that the user provided
and pass along a new object mapping
again the Java object should be some
more useful JavaScript object so that
you don't have to calm attitude and just
exist these figs properties and then
just cause get status one so that we can
actually i'll put the battery level yeah
so next step would be to bind the Java
API then civi for remote access to know
Jas and they can use replacing we're at
this in Dolce has maybe we use even
actual Jake wake up and that's for the
remote stuff alright so we need to
switch couple of things what
oh that's my flight somewhere else did
you drink right not enough ok so what he
knows the Arduino board nice it's really
cool so we all could just build some
stuff actually right now I was just on
the website of vino and they actually
are releasing a new board today which is
pretty cool I don't know what the specs
are it I assume it's going to be a lot
more interesting than what we have right
now but anyway so what I have here it's
it's a little bit small to see but here
a kind of dangerous prototype where I
have the Arduino board which is
connected to your serial connection to
to the laptop and then the Arduino is
driving a relay and the relays then
triggering 220 volt to turn off or turn
on lights so I'm going to this is the
dangerous part down fold your thumbs
everybody so I'm going to show first I'm
just going to show the demo first and
then I'm going to explain what actually
is happening there so here I've my iPad
connected to the network I have a little
little interface which I can use to
trigger the different pins on the
Arduino and now if I triggered you if
you listen really well I'll be quiet you
hear the real a switching near that ok
so this works and now I'm going to
connect the wish me luck
yeah going to connect the this disco
light to the are we can we turn down the
light a little bit because of course we
need some music before we do disco
action I'm going to turn on sound out
though so I'm just going to give the
ipad or you can only hit the first
button there are on
is working hello
you're really good bday amazing
if you ladies below it
he's intelligent yeah
anyways I'll just keep it to just a
strong I'm gonna
the work
okay yeah okay so basically just to run
through what's actually happening I have
the album Eno here it's connected to a
serial serial connection to the laptop
I'm running node on my laptop and the
really really amazing serial node module
written by Chris it's totally working
also i also the school in a second and
it's for JavaScript developer it can't
be any easier to do all this kind of
stuff so i'm using the serial connection
and then Toby Taylor he's somewhere here
up there he started to ride out we know
Jas which is basically sort of mimicking
the api's we have on the Arduino which
we would have to write in C to
JavaScript so we can actually use the
same api's JavaScript and say something
like analog read or any luck right and
then it's mapping into the Arduino so
here you see my my f home control let's
start from the Arduino side of things
basically what we have here in the loop
we are reading the different of course
we're receiving to the serial connection
and basically just triggering digital
right to delete analog pride and liquid
and we could extend this too much more
things right now it's very simple we can
as i said we can just turn things on and
off but there's much more we could
actually do to get stuff running so this
is the other the Arduino side of things
you just compile the code uploaded it to
the board through a USB and then you're
ready to roll from the both side of
things now here we have the Arduino j/s
which basically does exactly the same
thing but in JavaScript so here you see
our op codes which are triggering the
different functions and then here you
have basically I mean if you compared
it's it's almost exactly the same so in
JavaScript I can say arduino pin mode
and then it triggers the pinmode
function on the Arduino itself the thing
is we we running node and I want to have
the same API in the browser so this is
this this JavaScript key is used both by
node and by the
now notice connecting to the Arduino
through the serial connection so here I
have a sort of i call it the provided
maybe not the best naming but here the
serial provider which basically is using
the serial volume by chris and really if
you look at the code all we do is we
require a serial port native and then
literally all you have to do is you have
to provide the path to the USB device
and then in JavaScript this is your your
line of code you have to write to
connect to a serial device which is
amazing I mean in JavaScript this is
exactly what we want to do we don't want
to be nice we don't want to write any
any more low-level than that and if it
works like this this is just perfect it
makes it really really easy to get start
with with these kind of things so now
we're in node notice creating the
connection to the Arduino with the
serial provider on the front end side of
things I'm connecting to the node
instance through a socket connection and
they're basically again all i do is one
line of code almost i ordered socket
that's it and then if i show the actual
javascript code of the little interface
i have there I'm instantiating a new
board arduino connect i connect to the
arduino board and then i'm just calling
for digital right i provide the pin
which I want to talk to and the action I
want to do so turn on or turn off that's
it exactly the same API as we would have
on the outer we know and I can just show
it here chrome the cone crushers with
the web sockets sometimes
so I can figure it and you can trigger
it at the same time from the from the
ipad which is pretty cool if you think
about it i mean the the use cases is
very very basic and we can do much much
more you can drive CFO's with the
arduino motors whatever all kinds of
things so there's huge potential of what
we can do really yes if you if you if
you have a mobile phone right now and if
you would connect to my network you
could just now also open up the it's 10
orange yeah but don't source know what
is it so the weekend we can actually try
the network is ww chest let's see if we
can burn this down so so if you connect
with your iPhone or whatever to ww test
and then the IP is a 10 point zero point
two point one get what is it oh do you
know Jas apps i think yeah home control
static there you go so if you put this
into your phone anyone is trying it okay
as if we should should I should have
made it to our L but
who was that nice or nice i'm not going
to be good follow up shortly we could
attach it to a laser i don't know i'm
not only didn't of course yeah
so you can literally build any kind of
eps controlling controlling hardware of
course this is like prototyping and this
you wouldn't really use this at home
unless you're crazy a little bit but if
you think about it you can actually
build hardware now and and control it
with JavaScript and that's that's
something which which is very exciting i
find because we're just getting into a
whole new you sort of area of java
development which we haven't really done
before did anyone else connect to it did
it work how cool yes someone is blocking
yeah okay so just a few more info if you
want to get started we actually have a
couple of boards here and I think it
would be really really cool to to solder
a je s conf logo in using LEDs and then
make it blink or whatever with a nice
interface maybe we can do it later we
can see but basically if you want to get
started with the Arduino just check out
Audrina dot CC it's a really cheap board
it's like 30 30 years or something you
can order it online and then just get
started right away notes here is on get
up so you can just plug that into your
note instance and then get rolling with
that we use socket i/o awesome for the
socket work and that's basically it
really took took a couple of days or a
couple of hours we need to actually put
everything together the biggest
challenge was the 220 volt kind of kind
of part because there was a bit scary
and you don't really want to play with
the electricity I think the source code
for arduino Jas is on github as well you
can just fork it and extend it and just
try it out it makes it super easy to
start doing these kind of things
basically so yeah yeah I mean we need
some pie charts of course and Patrick so
in 2009 at the jas comp in DC not
specially all client side JavaScript
check right Jojo whatever so we've got
moved on a bit last year here in belen
loft already got much more our server
side stuff especially with ryan in this
amazing noches talk this year Washington
was more like 5050 and now try to
introduce
and we hope for to be that in this dream
start of getting to even more of that so
next next year we totally want to see
your robots I mean this year we were
turning stuff on and off which is really
cool but next year we need to like steer
robots with our mobile phones and
everything in JavaScript so yeah as I
said we have a bunch of stuff here we
have a soldering iron if anyone really
wants to start solving some stuff we can
we can do it LEDs and everything if
anyone actually knows how to do electric
stuff because I actually don't really
know it I was just putting the cables
together would be a great help i think
so that's that's basically it yeah so
thanks for listening
give it here
are there any of you any personal
questions crazy any questions about the
soft
ok
nice great the other yes
could you repeat it
absolutely i mean you can do it there's
a whole bunch of libraries for the other
video which you can use actually I I set
up bluetooth as well so you can just
connect from your phone directly to the
board to bluetooth it's just really
unstable because it's a jailbreak device
okay yeah so if you actually want to
build a home network with the sender
that I connected a little white wireless
there's two protocols zigbee and
satellite that may be interesting to
look at both had some weaknesses zigbee
is not the standard that wave it's not
but the harbor's with cheap not let me
something to look at and look for
watching you could actually interact
with JavaScript of these mass protocols
because the interesting thing there's
you can Absalom this here and then there
and the range from my controller to the
last tender would be too long that they
can connect using other nodes in the
network without actually other access
points which is really interesting for
stuff like that any more questions
alright thanks enjoy the company</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>