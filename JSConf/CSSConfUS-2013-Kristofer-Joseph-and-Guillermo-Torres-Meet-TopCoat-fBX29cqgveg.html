<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>[CSSConfUS 2013] Kristofer Joseph and Guillermo Torres: Meet TopCoat | Coder Coacher - Coaching Coders</title><meta content="[CSSConfUS 2013] Kristofer Joseph and Guillermo Torres: Meet TopCoat - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>[CSSConfUS 2013] Kristofer Joseph and Guillermo Torres: Meet TopCoat</b></h2><h5 class="post__date">2013-10-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/fBX29cqgveg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">i'm christopher joseph i work for the
web platform team in Adobe I work on
open-source frameworks JavaScript and
CSS talk with being the first and I'm
Guillermo Torres I'm a design manager
for Adobe and I support the web
authoring team so we create tools for
modern web design and web development
all right so what is top coat top coat
is a CSS library for clean and fast
applications that's it it's just CSS we
are live where we're on github we're
open source and the reason why we're
here is because we wanted to get in with
the community early we wanted to get to
your input we want you guys to
collaborate with us into creating this
this library we have seen a need for
this type of library because mainly
because we've a lot of the the
frameworks that we've been using are
mainly designed towards websites
responsive sites and modern web apps and
one of the things out that we were
seeing the need is that we needed
something for installed applications so
our knee to started mainly internal from
for edge tools and services so these
tools and services are are the new way
that we're trying to create tools for
products for web designers and web
developers so instead of the normal WA
of creating products in which that
there's this monolithic feature-rich
tool we're focusing on creating these
tools that are very lightweight that our
task oriented so we have tools like
reflow which is a tool that is mainly
for for responsive design then we have
brackets which is an open source tool
it's a lightweight code editor that will
in which we also have code that is
similar and then we have edge inspect
that is a tool for for previewing on
your mobile devices and this lives
either on a browser or integrated with
our own tools so the underlying thing
for this is that all these tools are
created using web standards so for that
we needed to create a new language
because we really didn't really have a
design language based out of that we
were mainly used to creating tools on
the desktop those feature-rich tools so
one of the things that we set out
that we needed to make is a design
language I was based on web standards
and it was meant not just for the
desktop but to live say in browsers and
mobile and in a lot of a lot of places
additionally we support the phone got
community and it's a community that
creates installed mobile apps and one of
the things that we're seeing with a
phony community is that they were there
were a lot of developers that were just
getting started so didn't have access to
design resources and then the other side
we had they had the word developer
developers that did have the assign
resources but eventually they felt that
they needed to migrate away from what
standards technology to native mainly
because of the doors this perceived
notion that that it would be more
performant so that sort of was another
goal for us is to create a library that
was there was very fast that was
performant and out of all this what we
saw is that the common denominator was
CSS one of the things that we're seeing
with all the different apps and
everything that we're doing is that
everyone had the framework of choice
even at Adobe are because we're
following an agile model every to every
product team had had to find their own
framework and it was hard to for for the
sign team to come out to the product
team as like saying hey you need to
replace this framework or you need to to
changes in order to for us to keep a
constant system a look and feel so when
we got started we started getting the
design foundation and we invited
stakeholders from the product management
team and engineering team to get a
visual direction on it and we did some
research over what this design language
would be looking like and Adobe our main
principle is always the content is king
we design tools for content creators
which means that it's the it's not the
UI that should be highlighted it should
be the content is being created but for
edge tools and services and for the the
products of top coat is supporting there
was a little twist because we're not
just for desktop it was mainly for these
applications that could live anywhere so
we started looking at about what do the
same language is for for a desktop as
for
sup apps you want something that is more
solid you want something that feels like
you want to grab it like you want to pay
for it it's a little bit more that the
Marcelli the content is usually fixed or
contained and the UI it usually takes
most of the the space and the U is
usually fixed it looks fixed and in
contrast we have web apps web apps the
the content is more dynamic even the UI
is more dynamic you don't you don't
really see it fixed as much it seems to
be changing quite fast so as the
language and this is different than
websites when websites were looking at
say like very targeted type of
interaction so by now or download or
like for but for applications you still
have to design for very complex
workflows so for brackets for instance
we still wanted to to have the content
framed in something that looks solid but
because it was still something that was
based on web standards we didn't really
want to fix the UI as much to the actual
frame additionally we were looking at
what what were the considerations around
mobile and for us typography was ended
up being the most important change
because you have so little space to
actually show you I you need to rely
inherit key and typography to to really
bring the content to light additionally
we were exploring theming one of the
things that we saw is that and when you
go to mobile you have more opportunities
to bring your brand into the UI so one
of the things that would be important
for for top coat is for it for us to be
to make it easily be themed able and CSS
is great for this but in and out in any
way we wanted to create a good system so
it's not just about changing a bunch of
numbers the other part when it comes to
designing for native apps is that you
always have to choose what's the context
I or that you're developing and when it
comes to mobile in particular you're
always quenching okay if I'm going to be
designing for iOS app then I
replay replicating day you I from iOS or
if I'm designing for Android and what am
I replicating so there's one of the
things that we found is that it wasn't
really even a wild goose chase there was
no they were there when it can't when it
came to replicating a specific language
so what our goal was for top goes to be
a good OS citizen what this meant for us
that we're designing for lightweight
small abs and those apps were meant to
be working all together with a set of
ABS that a door from the US or third
party or whatever and what we wanted to
keep it is a non jar and user experience
as so as you switch from different
action or having to relearn specific
language we wanted to find a common
thread across all OS was so we're
starting looking at what were the trends
that the big players in the industry
were taking and a big one was Microsoft
that was very excited about metro UI now
known as a modern UI I was really
excited about the flat looking for you
on the use of typography and in the same
way on the web design track you will see
all this talk about flat UI and one of
the things that I started finding out
with particularly with Microsoft is that
once you got deeper and deeper into the
experience once you got into more of the
professional tools that's when the
experience started to sort of fall apart
it wasn't like really as useful and the
the thing is that it's is that for flat
UI and this type of language there needs
to be a lot of design considerations
because you're left with saying more
with less so there needs to be a really
good designers on it and the other part
is that the language still pretty new so
it hasn't really involved hasn't really
the metaphors hasn't really been set a
big culprit of this was actually this
screen I stared at the screen a long
time was looking for for a clue fort for
North Star and the main thing is this
this weird-looking toggle oops sorry
that weird-looking toggle that is like
why did why do you have to design that
we toggle end the thing is that if that
that's definitely designed by the
empirical designer because
you actually don't need a toggle button
if you were really going flat you
wouldn't you wouldn't have a toggle
button you use the whole card for for
targeting one enough so my thought was
that this is actually a very important
example for North for for top coat
mainly because we were designing not for
designers we're designing for developers
and we need it to empower designers to
make good design decisions and if we if
we corner them into a flat UI part where
they needed to think more holistically
over like what's the overall interaction
then you would see a lot more fumbling
like this so in terms of going flat you
I would still sort of wanted to follow a
little bit of design language the the we
design an icon set that was still flat
where we're pretty excited about icon
fonts a semantic icon fonts so we still
wanted to follow that and Adobe also
created its first open source font this
source sands and one of the things that
was very important for us that's still
it's very clear you can tell the one
from the from the capital I and from dl
from the eye so it's still following
that sense of clearness additionally
there's what Apple was doing and I'm
actually very tired of the other
conversation around humor prism I think
that it's been the culprit of a lot of
talks but what I really wanted about to
bring from Apple's humor film is the
sense of humanity like the the notion
that there's buttons that want to be
pushed I wanted to move away from this
realism but what we still wanted to
convey some humanity was still something
that was made by humans and finally one
of the things I was very important for
top coat is that we wanted to accelerate
design but in dev terms for us the CSS
is very exciting and actually being here
is great because its CSS had become this
sort of dialogue between designers and
developers where there's on the under
one hand you get designers that even
designers that that know how to work on
CSS and do a lot of CSS then they
provide the CSS but they are still shy
too shy to really do pull requests and
get into the
code because they're afraid of breaking
stuff and on the other hand you have
developers that ccss more of sort of
like a declarative and and just adding
here and there and which makes a force
for sloppy writing so so what we really
wanted to do a sort of empower
developers to create the best with a
design with it with a good design base
so they can add on top of that when once
they have a designer so we what we ended
up doing was just allocate in the style
kit is it's all done in CSS but it was
all designed in CSS but it's just
suggested CSS at this point what we
ended up doing was just CSS that some
developers may be able to copy and paste
but then that's when we were able to get
Christopher and Christopher will talk to
you about the architecture of top coat
Thanks thank you right so we had these
style guides there were HTML CSS but we
mainly use them when i worked on reflow
with to pull colors and some styles from
and then we write our own CSS from that
style guide we wanted to start using it
more of component they actually make
components out of it because what i was
seeing in the code base is that someone
would actually use a button and they go
i like the button and a copy and paste
it somewhere else and then would change
they copy paste that somewhere else i
would change they all have you know
except variations of their of their name
their class name and it became really
hard to maintain so started thinking
about what it would take to make a
component architecture out of CSS and it
came down to mainly just using the tools
that we used everyday topcoats
architecture is around three things
github so it uses github a lot for
github repos it uses stylus which is you
know the preprocessor that we use it
could have used any preprocessor and
actually I hope to use rework in the
future but it worked really well with
our other our last tool which is grunt
so the grunt is just a build script that
puts it all together and gets you the
end result which is just CSS and that's
what I think is so cool about topco and
while I was so excited to work on is
because it is just CSS to the end of the
day to use top code is just as easy as
taking
sheet and linking it to your HTML page
and that's it then you have to put in
your classes and whatnot but it's no
more steps than that it also allows you
to work with any like Guillermo said any
framework of choice we're not making any
presumptions about how you should write
your JavaScript or how you should write
your markup you can use it piecemeal you
can use any part that you want so when
we were working on the edge web tools
and services it came really apparent
that people don't care if its native or
not as long as it performs correctly the
only time that they notice that it's not
native is when it doesn't work right
when like reflow is all written in HTML
and JavaScript and CSS and it's plenty
fast it works exactly how you'd expect
right so no one actually goes in and
says well you know you should make that
native or it's not native it doesn't
come up because it performs correctly
which brings us to our first focus for
top coat was performance started
thinking about well if performance and
native feel is the most important thing
for our framework or our library how
would you do that how do you actually
get performance metrics from CSS and you
can do a lot of stuff locally you know
you can open up your dev tools you can
poke around you can do audits and that's
great but how do you share that with
other people and how do you actually do
that over time how do you share those
results with people and how do you
actually see if your optimizations are
still working in current you know green
browsers that could change nightly you
could have an optimization change that
actually doesn't work the next day and
actually could impact performance the
next day and you wouldn't know unless
you had something that showed you over
time so when we talk about performances
comes down to just don't take my word
for it they'll take anybody's word for
it you should actually be running tests
all the time and we have a solution for
this which is bench top coat that I oh
it's a part of our continuous
integration we actually run a chrome
telemetry tests against our CSS and
basically what it does is runs
chromeless or chromeless headless Chrome
browser and does a scrolling test and
then takes the results and post it to
our server
so you can graph it and here it is live
and again this is all really early stuff
so we only have a few builds up but we
wanted to show you where we're headed
and so we could get people to give
feedback it gives you some metrics off
the bat but then gives you this baseline
metrics we have a baseline test that we
run our style a baseline component
that's not styled that we run our style
component tests against and you can see
it's getting a little bit faster as we
go along as we learn more and remember
we're taking CSS that hasn't been
optimized at all we're just taking it
straight from a style guide and putting
it in and then running against baselines
and trying to increment only change it
make it faster so that's deterministic
so we can actually point something me
like that was faster not just saying I
don't know something changed it was
better the other one is you can actually
go in and it tells you the mean frame
layout and loads and then if I had
another commitment here I could actually
compared to commits and you could
actually go to a shop you saw a spike in
performance I could actually go to
github and see what change is actually
made and go okay well that sped it up or
that really slowed it down I can make it
I can revert that consideration for a
main consideration for top it was also
versioning the our first foray into
using a CSS framework was pretty painful
we put in a framework and then we wanted
to get just a modal dialogue because it
got updated and we had to update the
entire framework and actually broke a
lot of things that we were using so I
started thinking a lot about well what
would it take to be able to fix that
like what would I need to be able to
make that work better and so this is the
configuration file i'm showing like the
dirty back part the underlyings of how
we actually build this so that in this
package.json these are just github repos
and this is a tag so I'm creating a tag
version of the repo if you wanted to
update if we updated button for instance
you could actually just update button or
if you updated everything you could just
you could just update the ones you
wanted so if you're happy with button if
you didn't want to change it even after
you could go back to any version this
also supports nightlies if you want to
to just use the nightly or see what
we're doing at the bleeding edge of top
coat you could remove the version all
together and I'll actually just do a get
shallow clone and pull it down for you
locally so you can see where we're
headed we also wanted to allow for
subsetting and this could be something
as grand as subsetting icons or
subsetting fonts or but what we're
focusing on right now is subsetting
component you probably don't want a huge
stylesheet as top coat grows we're going
to have a bunch of components and a
bunch of patterns you probably don't
want all of them and you're in your
application you may only need a few and
you might actually have replacements for
a couple of the components of your own
so you can specify just the ones that
you want so I could say oh I just want
search input and you could rerun the
build and just get that in your final
CSS output and then for those of you who
don't want to be mucking around in
configuration files we're building this
you know Allah bootstrap customized
download your own build website where
you can select a theme choose the
components that you want and all that's
going to do behind the scenes is edit
that config file so if you wanted to do
it by hand you could do that and then
platform support especially for mobile
we realize that you're trying to get as
fast as you possibly can and as lean of
the CSS as you need and also you
probably don't want to have mozilla
prefixes or IE prefixes on your safari
webkit browser for iOS so what we're
building in is the ability to specify
the platforms that you're targeting and
even go farther and specify the versions
so for instance you know the largest
used versions of Android you could
support both of them and then you could
even add specific hats hacks for those
specific versions of that platform
I started realizing that like I said
people were using trying to make
component oriented CSS in our code bases
but they were failing because they were
just copying and pasting and there was
no common subset they were using a lot
of different techniques to do this but
the one I saw most commonly was naming
convention and I can't take credit for
the one that we're using for topco this
is actually based off of Nicholas
Gallagher's early work for suit but you
can see what it's doing its name spacing
so you can find it easy and you can
actually create a theme that has your
own namespace it specifies the component
that you're in and then it breaks it
down into different parts of the
component and also you can have so if
you look at the icon button you can have
a modification of that a different type
of icon button the quiet one for
instance we're also separating concerns
so this is topcoats mainly concerned
about styling but we're also adding in
layout and transitions and whatnot those
are going to be separate classes that
will supply that way you could sub in
your own grid system if you wanted to
for instance and we'll have something to
get you going but if you wanted to use
some cohesive good system you could just
slap that in as a piecemeal this is
another part where we got some feedback
that this is too verbose I totally I
totally hear that and it would be a
really awesome to hear what the
community thinks and get feedback on
that kind of stuff like how would you do
it how would you like it to be I'd love
to hear that from people we focused a
lot on resets and this is also from
Nicholas Gallagher's findings but I
think we took it a step farther because
we're using these reset components so
this for instance this button is just a
a tag but it doesn't have the blue it's
not underlined right we reset it to look
to be a base for a button and we're
using this for our our baseline test so
we put 200 of those on a page scroll it
see how fast it is but 200 of our style
versions on the page scroll that and see
how fast that is then we compare them
that way we figure the fast as you can
get is this reset button it's actually
not going to get any faster than that so
we're hoping we can over time get as
close to the reset as we can that's our
testing ideas
we've considered themes from the
beginning it needed to be themed ville
we wanted to be able to as kiyama said
in the early days when we were working
on applications like Photoshop and it
was really hard to theme them the the
designers would have to go in and beg
someone to make a change for them or
they'd have to like go in and learn how
to hack see code and they didn't really
want to do that now we have this really
amazing work flow where the designer can
go in and be like it looks lets you look
something like that and then it is a
developer goes through in readded sit
but now we're going to try and get to
the point where you can actually expose
the variables that you want to edit and
the designer can actually theme make a
theme there's another thing so in here
it's another yet another github repo its
top theme and this is just a collection
of variables and mix-ins that you can
use to make your own theme you could
actually just go through and change the
variables if you wanted to and get
something that looks drastically
different or if you wanted to you could
make a whole nother version and and sub
that in you can make a whole nother repo
and sub that in for your own theme the
default topcoat theme is an example
theme that I built out that has two
variations dark and light so that you
could actually show how it works how you
could actually achieve a dark and light
theme with one set of one set of style
files and if you want to look at the
insides of that so it uses a convention
over configuration i'm making some
taking some liberties here and being
like well if you name it theme dash can
you see that yeah okay if you name it
theme dashed you probably want to
generate this is your theme file you
want to generate that into a final CSS
so this just imports variables right so
I have dark variables it has exactly
what you'd expect the dark colors and
the dark icons and as a light variables
right the mobile is just sizing for
mobile and you can imagine if I had a
desktop variables desktop it would just
be the sizes for desktop we see those
two converging but slowly so I figure
this will set us up to succeed in the
area when desktop and mobile starts to
convert even more we can start
eliminating variables and have something
that's much more cohesive but if you
wanted to make your own theme you just
put in your own file theme dash
your theme and then add whatever
variables you want and it would compile
it into your final CSS this also allowed
for just static includes so if you
wanted to put in fonts or whatnot you
probably don't need any variables in
that you just slap it in there and it'll
actually compile it in your final just
as is so it's themes and what this
allows you to do is you know hone your
craft it that was one of the comments we
got when we were going out and talking
to people about you know does this
resonate with you would you use
something like top coat is M kept coming
back to them wanting to actually use our
tools more than our final output and
they wanted to actually see how we built
it and then use those tools to build
their own version i actually really like
that idea i like to be able to you know
expose all these tools and see what
people do with them because they could
probably do way more creative things
than i would so i can demo where we're
at right now mmm so I'm in the top coat
repo I pulled it down you can download
just from the website a final built
version just use the CSS from there but
if you wanted to make your own build
this is what you do it's just using
grunts oh I run drunk when it does is
it's going out it's getting the version
of the tag version of the repo pulling
it down the zip and then it's going to
open up the zip pull out all the style
files compile them all together based
off of the you know convention over
configuration and make this final
release CSS and copy over all the assets
the images and the phones and what that
gives you when you're all done is a
style guide so it'll generate the style
guide in so using style taco so you can
just copy and paste from here this is a
live working style guide you can see the
CSS that's that's with it if you
actually wanted to go and look at how we
were doing stuff yeah so this is what we
have so far and actually that shows both
of the variations the dark and the light
creations of the theme so what if you
just wanted you know the header you
didn't care about our search inputs or
whatnot you could actually go through
and make your another build get
composure and build
so I could go in through here and be
like well I don't need that and I only
want navigation bar so just run the
build again once you have that in there
this is the same thing with them if you
had a theme if you like made your own
theme you even want to pull ours down
from get you could actually just drop it
in that in the right folder and it would
run the build again and pull in your
changes so it built I could probably
just go back here and refresh and see
all I have now is the header right so
this way you can customize your own
builds one of those okay so really
interested in contribution that's why
we're sharing it so early I mean we've
only been working on this for three
months and you can see we only have a
few of the components componentized
right and we'd like to see what people
are interested in and one of the best
ways you could do that is actually file
issues or make comments on stuff that
we've already made because i like to
think that it's open source enough open
source like it actually is one want it
to be community-driven we don't want to
just be making something and bestowing
it on the masses right we want people to
actually say this is what I want can you
help me build it or this is what I want
and I've already built it here you go so
it actually grows that way so we're not
we're actually being useful all of this
can be found on top coat that I oh it's
all alive you can see all of our code
and I'm damned and this is Gish on
Twitter</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>