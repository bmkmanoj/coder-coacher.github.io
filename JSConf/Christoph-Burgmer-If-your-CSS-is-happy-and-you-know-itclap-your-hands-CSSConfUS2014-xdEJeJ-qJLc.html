<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Christoph Burgmer: If your CSS is happy and you know it....clap your hands [CSSConfUS2014] | Coder Coacher - Coaching Coders</title><meta content="Christoph Burgmer: If your CSS is happy and you know it....clap your hands [CSSConfUS2014] - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Christoph Burgmer: If your CSS is happy and you know it....clap your hands [CSSConfUS2014]</b></h2><h5 class="post__date">2014-07-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/xdEJeJ-qJLc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">Thanks having you I'm going to talk
about happiness and about making your
CSS happy and give me a few minutes to
to tell you what I mean with that i'm a
bit unsure about my audience today i had
very very detailed questions around
lunch so i've tried to not dive too much
tin to the details but also don't want
to make it boring so do give me feedback
early enough you'll see SS do you guys
know whether your CSS is happy or if
it's sad or maybe worse really really
broken you guys know this this is the
acid test as a to test this is ie7 it
might be a bad example but i wonder what
i want to say is um do you guys are you
guys really sure that the CSS you're
developing is looking good and I like to
just see hands who are you guys are you
guys really confident that what you're
developing is really looking good on all
browsers can I see some hands who's very
confident who's confident who's
confident just basic confident that it's
working well what is developing somebody
over there so there should be a bit more
people around here right because we're
all professionals and we billing
customers clients people of our work so
it's kind of sad it makes me happy
because it kind of motivates what I'm
talking about today so we users when we
visit website we find out about problems
right we see them and that could be
something very simple see facebook or
github as an example where there's a
weird line break happening stuff like
that we is it looks kind of
unprofessional but we can work with that
then there's worse problems like a hot
or something hovering over my elements I
can't even see what's happening or maybe
my papa I don't know if you can see that
with the red arrows over there my whole
my whole pop-up is not really short
they're showing so that
that's not something I want or
thankfully Elliot this morning is
playing with the twitter feed he added a
unique code 202 sorry 22 e which is
forced right-to-left writing control
code in Unicode everything that follows
our character forces the text to be
rendered from right to left sounds
stupid but if you write a rabbit for
example which is a writing system from
written from right to left this is a
usual useful function well if you put it
into your username so Elliot cables
username is a unicode character plus
plus the string then everything but
behind that is in the in the wrong order
so you see Elliot cable and CSS conf
retweeted you just wrong direction so I
say do they really want to have that I
think Twitter should fix their their
problem I think I think that's a problem
and they might not even be aware of that
so and to tell you one story of my past
I've been on teams where I kind of
inherited the front end role I don't
believe in roles i think we people
should have multiple abilities but some
teams they were like old-school
developers you're going to just be a
front end guy well old-school developers
are good they have all the testing tools
they know what they're doing on the team
i went on i had to do the CSS and the
HTML and I kept it kept breaking all the
time and nobody found out it took some
time it was not I don't believe it was
because I was bad it was just I didn't
have the tools for the job to make sure
that stuff I developed was still working
two weeks later with somebody else
change something so what I think what's
kind of missing is a safety net I hope I
kind of motivated why we need something
like that I showed you a few two
examples where it breaks this was my
revelation after a few weeks on the job
it's like I don't have a safety net all
my other developers have a safety net if
they write Java they have tools and
basically CSS exists since forever and
we don't have so far don't really know
how to test it talking a bit about
being professional it's a bit loaded
term what I want to say is we all I
think all people sitting here do wonder
you guys want to give maximum you want
to do the best and give the quality the
best quality to your clients and
customers but CSS is getting much more
complex by the year we're adding more
features luckily where we are very happy
four colors and HSV and stuff but it's
getting more complex we are we now have
responsive design that means that mobile
phone that tab that computer the pages
are getting larger and smarter and nicer
more devices and multiple browsers I
don't know how you guys do do that but
if you chase something do you guys visit
all the 20 devices that you should look
good on possibly not and even if it
might break anytime and it you won't
possibly recheck every every time
testing testing is a solution to that
problem software developers have had
tooling for a long time I'm kind of
sorry I'm very bad as sketching my
handwriting is awful but what I want to
show here is very example web stack
maybe you guys have something similar
there is a UI on top it's written in CSS
HTML there's some JavaScript that does
something that we rearrange the Dom does
something and there's then client logic
below that does some business logic
maybe sale in the browser there's
several object may be written in kno jes
and for the most sophisticated websites
there might be a ninja Nick's server
sitting below and MongoDB database or
whatever we want to test out if you're
sitting on a team with hundred twenty
developers and you need to read
frequently and you have million visitors
per day and we working on a big you shop
in Hamburg they make a mass amount of
money every every day is if something
breaks you can see we have all those
graphs so suddenly you deploy your life
and suddenly the audio drops and
management's manage management comes in
and says we're losing money by the
minute that's why we're using we as
developers we're using the tools can I
so that selenium as an example can I ask
sexy can i see hands who is using
selenium or knows what this is
okay that's that's a fair number so
selenium is basically just browse a tool
for the ones who haven't heard just a
tool that takes a browser and clicks
through things and allowed to formulate
assertions other other ways of doing it
is writing small vanilla unit tests what
I what I finally found out was there is
no there's nothing I believe there's
nothing that really helps me with
exactly that thing CSS and HTML I could
I could start watching selenium tests
that make sure that the color of that
button is blue but if you guys have if
the guys who are here who have written
selenium it's um it's an I can't say
anything bad about it because it was
kind of started by my company I work for
but it's an awful tool to write very
implying granular things it's more for
functional aspects for what the user
wants for the user journey what you want
to test there is no tools for that but
why am I telling you all this because
there is a way since 12 years ago there
are few people starting to look into
that problem we now realize slowly that
there is a problem that needs fixing and
there are some solutions to that and to
motivate how such a solution could look
like I want to show you a tool start
with one and maybe give you a short
overview what else is out there on the
market I hope by now that you guys kind
of agree with me about this yes it is
bad I want to know what's going on and
if if I if I break something
accidentally I want to find out about it
so simple demo that's about the button I
styled it it's just a black border 1
pixel it has some with a bigger text
that's just my application I my HTML and
CSS I want to test this is a very simple
CSS testing solution I'm going to talk
about it later on a bit more just I want
to describe what you see here this is
the button that you've seen before
rendered that's a screenshot there is um
it's yellow because it says this
test is still not defined basically I
have a rendered screenshot what I now
need to say for that tool to work to do
its job I need to say this is the image
that I want to keep so the tool works in
such a way that you take a screenshot
and you fix it you say the screen child
is the target I want to keep that and if
it breaks do tell me this is what i'm
going to do so i'm just going to click
that a green button here and I just now
set that image to be the true image and
if it changes do tell me if I reload the
page I don't know if you guys know
Jasmine a testing tool it kind of its
kind of inspired by Jasmine where you
just open the browser and rerun the test
so there you go that's very easy trick
right I just click the button now it's
green I'm not sure whether you guys
believe me so I can I can break that
test so I can rerun this it's going to
be green sort of sort of the cameraman
who now has to refocus for me just going
to be very short yes I keep using shift
for that but it doesn't work and sublime
yeah do one job anyway so I'm going to
change the border from so please don't
love my CSS I'm really really bad as CSS
that's why my slides are all in white
and black so I'm going to change that to
yellow autosave enabled we're going to
rerun the tests on pressing command are
they go the tool finds out that
something has changed what it does it
gives me a definite that's one way of
rendering there are other ways but
that's it just gives me a black canvas
and says here's the that's the area that
has changed those other anything that's
not black has changed and if you see
here the current page is yellow over the
ball is yellow that one is black so this
tool helps me to quickly find out with
something changes I think that's a start
so what do we do right now I have a red
test the test says this this is not
going to go to a production you have to
do something about it so let's say the
yellow border was not intended i'm going
to just revert my change there you go
it's going to get
so this is this tool now allows me to be
notified whenever something changes it's
it the test can't tell you whether it's
good about it just says something
changed can you please hausa manual
intervention here and tell me how I
should proceed so let's do an
intentional change let's say the
background color for example so if I'm
going to go to yellow here sorry for the
audio i think around here it's a bit bit
too loud trying to be be careful they go
i changed the background from white to
yellow the color blue stems from there
is a math apps calculation and it just
blew is just the difference between
white and yellow apparently so let's say
the yellow is the improved design that's
version 2 and I was told me as a
developer was told to please make it
yellow so I need to tell the tool there
you go except this rear ender and we're
good to go and if I hover over this you
can see it now has the yellow button so
that is a very very simple tool and a
very simple way of giving you kind of a
safety net and I hope that is very very
clear right now the screenshot is a very
simple way to tap into my CSS it's not
just CSS there's HTML involved it gets
more complicated when that JavaScript
involved but that's doable but it gives
me a way of tracking changes now I'm so
lucky that I'm not the first or the
first talk doing the first talk today
because it was very the first one but
Nicole was very interesting to me she
described working on a project where
they needed to change the UI nobody
trusted the existing implementation
nobody felt they were up for the job and
I had some similar experiences although
not in that big big range if you have
such a tool it could support you moving
over to something without a rewrite for
example so I'm definitely going to start
doing what we call was talking about
this morning but I still want to have a
safety net this one could help you
provide you something around refactoring
you could add some tests change the code
make it nicer but still have the output
the same and this tool will tell you
good so so what we can track we can
check the changes in CSS screenshots is
the solution used here tests don't tell
you that something broke there just to
change notification and basically what
the tool does is you don't need to do
manual testing on all your HTML you
don't need to go through all your pages
and look at everything if you have tests
for the important part it's going to
tell you what you need to look at so it
kind of boils down down to but once
develop a change is something he or she
should then check whether the tests are
still green and if not maybe generate a
new reference image so I'd say much
leaner way of moving forward and
rechecking that's things are working so
the tool i just showed to you is called
CSS critic i'm a bit biased because i'm
the guy behind that it's a very very
simple tool the motivation is make it
that simple to start off it's basically
just an NPM package you just install it
and the idea is use the browser who is
the browser is the software that renders
we shot why can't I just do the testing
tool in the Bowser and I could get the
visual feedback in the browser so if any
other developers that the quickest
feedback I can get there are other smart
tools so rate for example not sure
whether it's the correct pronunciation
is it's a I think the Scottish word for
Ghost Wraith is it's done by the BBC
News team who have a very special
problem the BBC News team they have
change in content all the time every
second there's some more things
happening in the world and what they
need to do is when they deploy still
make sure that the content is the same
but they can't so I just showed your
static images before right I fix an
image and maybe it's going to stay the
same for a year but with BBC because
their content is changing they have are
the problems so what they are doing is
they just have a pre post deployment
before they deployed a live with a new
solution they are using the staging
environment taking a screenshot using a
life environment and see what changes so
the person who clicks the deploy button
or who needs to go through
20 pages reference for deploying an
application needs to can has a handy
tool of finding out what changes so I
think that is a very very I likely I did
behind that it's a very very smart move
for very specific problems that they
have then there's phantom CSS IE i
personally describe phantom CSS as the
entry drug to CSS testing because if you
guys know selenium phantom CSS is
basically similar it's using Casper Jes
you guys know maybe know that on phantom
Jes all you do is you tell Phantom which
is a headless browser to go here click
there and then if the correct state is
there take a screenshot similar to the
other two solutions it's working on
screen shots phantom CSS is done by the
huddle team they have a kind of
different differing image but basically
if you look down here that's sorry it's
a bit too small that's the syntax how
they work you're just sorry that was
wrong it's basically click through the
page click on elements and once you find
a state that you want to test you take
take a screenshot with like selenium
there are other solutions I don't want
to spend too much time on this because
there's a lot a lot a lot of things one
interesting thing might be the hardy
hardy by Simon who is sadly not here
today I think he was planning to talk to
which I love to hear howdy is different
that it doesn't do screenshots it does
allow you to test your single elements
on the page instead of taking a
screenshot you do tell me whether that
h1 element still has font size 15 or
something so it's a very different way
of doing that and there are a lot of
different solutions and if you're
interested in that Simon runs this
webpage csst EST since I test and
there's a long list of tools and content
and examples that's something that's an
awesome resource to start start with
I've used it last year on a project so
my problem is I work on different
projects over time I'm not staying very
long sadly this is with
company i'm working with but i did on
the free month project it was a
greenfield project we needed to deliver
after 3 month the time was fixed it was
going further chess championship we
didn't have we didn't have any time to
couldn't you know shifted it had to be
fixed for that for that date and we
managed to deliver without visual
defects we had a safety net I could tell
any every commit was tested and you
could quickly see whether something
changed and it worked pretty well for me
and the team what was interesting for me
you can drive out new I tests through
through that I don't know if you guys I
had to work on a shopping basket which
was very complex you had to add elements
of the shopping basket so whenever I
needed to touch the shopping basket and
change the shopping basket there was
like oh I first have to put 10 articles
to find that each case where there's t
10 articles and that needs to be what
some button that says more something
that was very awful to set up all the
time I don't know how you guys did with
that problem but if you first define a
test case with that come up with a mock
HTML structure then you can just iterate
on on the test and come up with a
screenshot and that's wake faster
develop something then just tell up your
server and add some stuff through the
shopping basket in their example
screenshots seen towards our be crazy
right if you know if you ask if you ask
old school developers it's like
screenshots can't be about a testing
tool it's like we test x values we test
that something has value we test that
the HTTP return code has value to 100
and screechers do have a problem they
are they can be flaky so BBC have that
problem BBC News if you have changing
content the screenshot changes all the
time and you don't want to be bothered
by changing content all the time you did
only one you want to have the test go
green if nothing changed don't want to
be you know annoyed by testing ever
changing content renderings at the
second point are unique snowflakes my
browser renders different than your
browser you even if we have the same
firefox new you might have fun to
install that I don't you might work on a
new mac edition with a different font
rendering engine
back so you can't even you can't use the
pages to cooperate with York that the
guy next to you on the team so there are
some problems i still need some solving
but i think it's ready for prime time
what i say there are different solutions
go find out what works for you guys i
have 10 minutes left I think we also
would be happy to start up with an ex
talk earlier i had some very particular
questions before so I don't know whether
that was all boring because you heard
about this before there were some talks
last year about this topic I was hope I
I wanted to give like a short
introduction into that topic some
motivation of show you one tool and I
could go into more details but maybe you
guys have some questions
you can throw everything added so so the
question was does it need to be single
elements you can throw everything at it
you could basically throw a whole
webpage at it in that case but I don't
think it would like to
so we started a style guide questions
about style guide including that into
the test and I think that's the
brilliant idea because I wouldn't add
the halls got style guide page 22 to the
test I would create a single test for
every element in your style guide so you
know exactly what breaks but guess so
that's that's basically where I came
that's where I started off I was asked
to create a style guide and that was
like I build a test page and I thought
that test page isn't that beautiful I
can exactly see if something changes I
don't have to click to the shopping
basket on page 10 to find out and then I
thought why do i do I have to check it
I'm ball I'm easily bored and I need the
computer to do that for me and so yeah
so I don't know whether there's any of
that solution is doing cross browser for
now and so you definitely can't take the
screenshot from Firefox and compared to
Chrome especially because you might have
different fallback features what is
there's a new feature in chrome you like
to support but firefox doesn't it
doesn't do it yet or vice versa they're
the renderings are going to be difficult
as I said there's no flakes so there is
a problem with that and I don't think
any of those tools tackle that but then
I have limited knowledge about that but
that's I think that's definitely
something you could go into in the
future and it's something we should
tackle because I think that's one of our
major pain point i would even say that
i'm myself which some time goes live
without somebody checking about in ie9
you had a question sorry fine
yes so I'm a bit so i just gave you what
I just showed you was the tool i'm
developing which is that one to give you
an idea how how that would look like i
don't know if you guys know that to do
MVC application which is an awesome
application demo application to a test
different NBC tool for javascript this
is my vision of how our unit how would
test the UI for that and to answer your
question what I what I had was we have
the project I was on we had three big
monitors on the wall we didn't even know
what the shell on those money tolls so I
did was just open the browser like that
put it on that monitor and every time
the test failed I logged in by accession
and clicked or something like that it's
still kind of not the goal world like to
go but it's something that that was
useful and if you have a monitor if you
have UI tests which are inherently
visual it's good to have the money to
show you what changed unlike having some
wit output saying like your screenshot
does not look the same anymore because
that's the only other option that you
have and so just to show you some
examples another huge fan that's maybe a
bit more details that I was asked about
around lunch there are a lot of other
tools for example I didn't talk about I
think it's called depicted which is just
a lot of the proper pronunciation for DX
sorry DX d DP sorry whatever um and it's
using in a very it uses an algorithm to
find out what the weather it friend us
differently from my perspective what I'm
trying to solve is pixel a
pixel-by-pixel comparison what I want to
do is you might call that crazy but I
want to do I want to have the test
complain when one single pixel changes
one Hugh one shoe step it's very that's
a very very very easy answer to that
this rendering here is 800 x 600 pixel
if somebody asked me to underline the
last the last line this is 200 pixels
and max 200 pixels time one pixels is
200 pixels square area 200 pixels in an
800 600 pixel image is nothing so even
% so if I have an algorithm that kind of
is fuzzy and most of the other tools are
doing fuzzy compared comparison because
you guys no anti-aliasing the pages look
different all the time so I'm going that
my personal pet peeve I'm going for a
pixel perfect comparisons and if there
are problems around that with flaky
tests i'm going to find a different way
of solving that sorry did I answer your
question so a question about Travis CI
the problem I haven't solved is the
command line and that's something that
needs solving but that's the way I'm
done you're doing it takes much more
time phantom CSS and that's the benefit
of that is I think you can do it added
to Travis I haven't I'm talking to a guy
who's implementing phantom CSS on the
project I have five minutes left i think
the the problem with phantom CSS is
again the snowflakes i tried it i have a
mac computer i tried to check a check in
a build on a linux server yeah that
didn't work well there was a same
browser same version but the browser's
depend on the rendering engine of the
system below so good question sadly no
so far so phantoms CSS is using phantom
if you want to know what I'm doing come
to my talk on Friday I I lost a year
implementing that in the browser the
browser is not very happy with you
rendering other pages inside the browser
but there is a way as you guys
interested I can go on forever thanks a
lot
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>