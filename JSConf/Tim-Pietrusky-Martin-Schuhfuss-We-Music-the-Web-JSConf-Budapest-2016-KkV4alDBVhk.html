<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Tim Pietrusky &amp; Martin Schuhfuss: We ❤ Music &amp; the Web - JSConf Budapest 2016 | Coder Coacher - Coaching Coders</title><meta content="Tim Pietrusky &amp; Martin Schuhfuss: We ❤ Music &amp; the Web - JSConf Budapest 2016 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Tim Pietrusky &amp; Martin Schuhfuss: We ❤ Music &amp; the Web - JSConf Budapest 2016</b></h2><h5 class="post__date">2016-06-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/KkV4alDBVhk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone has so so throughout the
day I've been writing all of the intros
in the talk before you know getting all
of my notes together and being sensible
but unfortunately now I've been drinking
so I haven't done that this time so I'm
kind of winging this one yeah I hear a
lot of people they kind of they say like
after a couple of beers like their
coding is much better that is not the
case for me it's like I'll sit down go
I'm gonna work on all of my side
projects this weekend just how are you
with it because it's the weekend and one
smell like ah now i'm going to play
rocket League and then fall asleep in my
own spit something so i have with me
martin is madden so um you have
technology here on a table yeah things
not all things why what's going to
happen um yeah basically we have no idea
yeah yeah basically we had no idea but
terms part of the music my part of the
light rail and we'll see what happens so
Tim you're running a bun to desktop how
is that working out for you that was
sitting very good really worried good i
laughed the system your of linux desktop
yeah it's gonna happen yeah should i go
away and leave you do it seems like a
good no no you can't stand on the table
if you like I don't have my beer hand is
empty I need to fix this problem you can
take mine I know you need that one so
everyone mine and Tim
all right then okay hello Jaya sconce I
hope you have an awesome day yes of
course so we work on that but yeah so my
name is Tim I'm a full stack web
developer and super nerd and you can
find me on Twitter at Tim petoskey yeah
I'm matin i consider myself something
like a creative developer my twitter and
online names used to think and yeah i do
all sorts of nerdy stuff here together
with him so you might be thinking why
are those guys standing here and that
one person for the talk so in 20 14 i
gave a talk at JS conf a you about leds
and music visualization and I call this
project nerd disco and there I met
Martin yeah and Tim actually inspired me
to do a talk at jazz come from the very
same spot right before the party one
year later and as you can see there are
hum he was my inspiration to do that and
this brings us to the next point it's
like to make this picture complete with
Tim's picture on the back of my picture
can somebody please take a picture of us
to standing there please take out your
phone and take some pictures we want
nuts eps level 2
you got it okay thank you alright so
let's go so yeah not one part 1 we will
start with some music and what is music
you can say the most simple explanation
is that music is organized sound and
this sound can come from everything like
a voice or an instrument like the guitar
or created digitally and Archer if you
have the sound and you create music it's
called a sample if you use the music for
something else and so what is the sample
a sample simply some part of the music
that is record and you can use it so
example is recorded sound and you can
get a sample from everything like your
little puppy that's playing a saxophone
and you can record this if you like or
if you eat some flies of pizza and the
sound of you chewing it I'm gap that
might be awesome too awesome view that
surfing exploding volcano in his
streaming hahaha what happen would be a
nice sound too so yeah let's come to the
first demo we will use a microphone to
record a sample and this is the
microphone and i will switch to my the
microphone them and please change the
screen back to the projector not the cam
please thank you
this thing on check check oh let me
check good I thought it's working no I
chose each other so one check check
woohoo okay okay awesome so we can use
the microphone it's connected over USB
to my pc and i'm using the Web Audio API
to ya use the sound inputs and to record
some stuff and in this kind of demo we
need you to create some samples and yeah
the first thing might be likin ooh and
it will go like this I will put my hand
to the right and this is the signal for
Martin to push the record button I mean
I put my hand to the top you will do the
sound okay do you get it okay awesome so
let's do it has drawn oh so now we do
the same thing without oh and then stop
stop oh yeah I can stop we do the same
thing without me doing the sound
difficult it fucks with them okay once
again thank you so and the next sound
might be awesome here okay javascript no
oh yeah oh no I think I'd ever what's
happening fuck okay I say JavaScript you
say yeah all right okay javascript nice
that was awesome it was awesome but now
we need to JavaScript too don't you
think okay
no sorry okay once again no no it's fine
okay and the next would be Budapest is
it working too yeah thank you so fine
and depth that's all I need from you
guys and I think I have something else
in mind Martin didn't you tell me you
beatbox when you were younger don't you
want to record something from it you
would be nice okay just do your thing
Martin please Thank You Martin so what
you see on the screen is my very fancy
microphone recording demo and what it
does is when you push the record button
and the media stream API is used to
fetch the odd user input stream and when
I push the record button again it stops
and create some blog and you can
download this blob as a WAV file and I
also create an audio element here so I
can replay it oh I will do this and I
can also download it and specify a name
and whatever sound what there was and if
I download I can download the wav file
and this is all happening in the browser
which is super awesome you should
applause me please welcome to the class
so the next demo to create a sample you
can also use the Web Audio API Oh what's
happening m in combination with a midi
controller to create sounds
programmatically and this is my awesome
synthesizer demo which looks completely
different and what's the design tag
super fancy thank you and what's
happening here is when I push the midi
controller i show it to you one month 12
x 11 second please why is it so ok no no
problem if i push your money this short
no it's because I hand push Alhassan so
what is Tim doing on stage you can't see
it right I push something but you comes
here is it as shitty so I have a webcam
here and what I have here is a midi
controller that is connected over USB to
my pc and because we have the web MIDI
API I can control any mini controller
with my browser and when I open the
console you can see my awesome debug
lock and when I push a key it sends some
kind of events to the browser which I
can listen to and like like mouse down
and now as a puppy down and here exactly
exactly like this and you can push the
keys and create some sound in this case
i'm using the Web Audio API in
combination with to obsess laterz to
create sound
I'm going to push another key you can
see that every key has a unique note so
I can trigger different sounds based on
every key which is awesome and of course
I have some canvas in the background to
create a zone but this yeah just for fun
and we could record this but i will show
you something later so the book
we have some samples now and what should
we do with the samples there is an
awesome desktop app based on electron
that's called loop drop and Luke drop is
created by Matt macaque and you can use
it to create electronic music life and
it's open source and you can find it on
Luke GS com and I will show it to you
now because I can't program stuff like
this myself and this is Luke drop and
what you see here is on the left side
you can create setups and those setups
you create you can create groups of
sounds or samples and I'm removing my
awesome piano to show you something else
yeah I'm sorry but it will be happening
any second
so what I have here is what can now no
that's not what I want so now I am I
have another midi controller as it's
also connected over USB and you can see
here I have some samples already in my
set and if i push a button like on the
on the piano i can create a sound for
example like this one ooh alright so and
now I will take my time to you get all
your samples and put it into your crop
but I will do this in the background and
now it's Martin Stern all right then Oh
keep all the still connect up shit
see oh this works well alright so my
part was the light show and the first
thing i did this at james caan for you
last year um for the first time and I
kind of extended on the idea but who few
walls at jazz comfy you last year are
not so many though for the rest of you
just a quick and true what professional
lighting is so um there is this one
protocol named dmx512 and it's a
actually it's the only protocol that is
used to control professional stage
lighting and basically every piece of
stage equipment what sorry we don't want
you to event you okay um so DMX
specifies just 512 channels hence the
name and each of those channels is just
a single bite then you have DMX devices
which can be simple simple floodlights
or even more advanced kind of lighting
equipment and they can use up to any
number of channel to say oh sorry whoo
hello ray
that's what that was offensive sorry
sorry really sorry okay um so each of
the issue is just these diseases can be
independently address and has a couple
number of channels for all sorts of
different functions like the color or
yeah you will see you can of course by
such DMX USB interface but those are
tend to be a really expensive so I built
one my own out of a food container an
Arduino and some custom electronics that
the only cost 10 0 so really a the cheap
way to go it's a live and it works quite
well so and having our we know which
talks over serial port guy use beef I
can simply do this so i have a unsigned
byte array 512 bytes long and if I now
write that byte array to a serial port
that will get sent out as a DMX signal
to all the devices here in the room so
um manipulating such a byte array is
painful because DMX is a really weird
protocol you can can't really keep track
of what each of these channels does and
what the values mean so I started to
write interface for that I called 512
which simply lets me use all this DMX
stuff simply by setting properties on
objects so while writing that i found
out that objectifying property is really
my friend but before I explain how opens
works just moving to this demo here so
um what
see maybe a zoom boot yeah like this so
what you see here is one of those
so-called moving hat spotlight so
there's in the middle here it's a
regular spotlight but fancy one but
basically just just lamp and it's
mounted within that bracket and the
bracket is mounted on that base and it
has cell to degrees of freedom and I can
control them like this so i can adjust a
tilt angle which is a rotation around
the x-axis and then there's the rotation
around the z axis which is called pan
and so this is this is how such a spot
like an basically move freely around so
now I'm this 512 library I've wrote is
written in JavaScript and so it becomes
really easy to just put it in a browser
and open the web socket the WebSocket
talks to server the server talk to the
DMX interface sends out 512 bytes of
data so then I'll just open this console
here maybe quick reload just see it says
hi it's nice so I can interact with my
or maybe I should increase the font size
good the bezel yeah all right so yes
there's this one object I named device
registry and this gives me access to all
the devices in a summer meaningful way
and I can now go ahead and select some
devices in this case I assigned to
variable name p and I want all the dot
profile so um what does this is it
selects all all the devices that I name
to profile from the selection of devices
in this room and you can see those are
four of them and they are hanging right
up there the four lamps so um I can now
assign some values for
pan and tools for instance so by moving
into position but in order in order to
light them up there are two things about
these lands I have to open the shutter
which shuts the beam off and Bess turn
the light so additionally to the shutter
they also have a dimmer and so buses now
and really it's just a assignment of
object property and I can just adjust
the brightness a bit for you in the
middle or maybe I can adjust the color
so back to full brightness a new a new
thing accepts actually everything that
will CSS classification allows at
California's because those devices have
a 48-bit color mixing unit so what else
yeah of course um i would like to
animate them now but the problem is i
can type so fast just the panel values
so now we have it on the browser right
on the browser has a lot of awesome
stuff for instance the gamepad api so um
graph here this is a this is actually a
3d mouse a cold space navigator and it
connects to the browser via the gamepad
api showing 6 axis of freedom whether
that i can adjust and i have rope some
adapter for those this is called space
enough pan tilt controls and i can now
just put the moving hats in there and
hopefully is now I'm able to
just play around with them like this
maybe not so much in the audience more
to the stage all right Tim how you're
doing the samples are awesome i don't
know what i'm doing i try to fix them
somehow but yeah it's the one guy would
shout that you have a script at the
wrong time thank you it's ruined
everything but ok so this is all this
all really really great and I could I
could just really go ahead and program
animations with these lamps and do all
kinds of awesome stuff with them but i
would have to write javascript and what
about maybe if i want to do a light show
I I would need to have a lot of
different settings and I would need to
be able to combine them like different
colors and different positions should be
you should be able to manage
independently maybe I want something
like inheritance and yeah I actually
started trying to do this was with a big
Jason fire but yeah turns out using CSS
as a way better way to us oh oh oh wait
I'm sorry
sorry
okay so this is what I ended up with
because all these all these object
properties that are already had can now
be simply something written a CSS
properties and I have the selection of
devices which is upfront so i can I can
just do the same that I just do it with
open the shutter and set a color and set
the brightness panel tool values and
write this and CSS so um and this
actually is something that does work I
just need to this is a serial port
communicating so what do i need to do i
need to start next demo here okay it's
doing something let's see if it's the
right thing so this thing has a
presentation mode right where is it ah
does it doesn't matter um I will just do
it like this okay so um what you're
seeing here is a CSS file that was
currently running in the room and just
to prove this I actually implemented
live reload um follow so i can now
adjust this what no like this
or maybe a bit more JavaScript of color
here or do some uneven on any way we can
be we can put a color here whose ok so
all of this is working but yeah I'm the
thing else I didn't actually do this
just for fun so um this is what I
actually did so i have to some i'm
writing zas photos so i have to use
notes as to produce some CSS that i can
further use I used to rework passer to
take that fierce as a part and so I have
that AST and I then just implemented
this aquarium get computed style for the
room which based on what I what I set as
styles yeah but creates all the
properties for every device and send
some out over my DMX interface and the
next thing I'm going to show you is why
I did this because i also have such a
large pad here now just quickly need to
stop that demo and what was the launch
pad yeah makes sense this is not good
but I know um just not plugging us
beyond this a bad idea if you want to ah
there it is awesome let's stop this okay
all devices initialized and now you can
see I have this to come with you uh oh
no matter so I can just push some
buttons here and I have fun so this is
the whole on button then they have
buttons that control where the lights
are pointing and I have buttons for
color presets like pure
yellow or stuff like that and a lot of
more stuff but in order to fully enjoy
what these lamps are doing it is always
nice to have a little bit of talk in the
room yeah yeah so hopefully it not be
too foggy you no no it's it's enough
just okay um i guess it's time for you
to show what you may tell right yeah do
you need I'm sorry please close your
ears ah awesome yeah ok need a beamer
know you can um yeah those balloons it's
okay i show you though CSS classes
around use right now um I don't know now
that's good oh oh okay so what you got
there ok I try to fix the samples
somehow and I put it on my in in toluca
and when I pushed some buttons here I
have to find the right rope whoa thank
you again ok so and now don't you think
it's time to show our song do you made a
song not really but I try to be cool on
stage and sets on but it's not a fun ok
so yeah yeah we will stop us too soon
sholay song ok
does it feel more than that oh sorry hey
what's wrong you have to wait it's live
no law about the marks sorry I just used
my backup yeah yeah yeah yeah all right
yeah yeah yeah we go yeah yeah okay and
to name you drop comes so that I can
lose talents yeah when I mr. Buckland
that can turn another byfuglien then
they can create a yeah-yeah-yeah
yeah-yeah-yeah yeah-yeah-yeah
yeah-yeah-yeah yeah-yeah-yeah
yeah-yeah-yeah yeah-yeah-yeah
yeah-yeah-yeah yeah-yeah-yeah
yeah-yeah-yeah yeah-yeah-yeah
yeah-yeah-yeah yeah-yeah-yeah java
javascript yeah yeah yeah yeah yeah yeah
yeah yeah yeah before we
yeah yeah yeah yeah yeah and no wait for
it for yah yah yah yah yah yah yah yah
yah yah yah yah yah yah yah yah yah yah
yah yah yah javis javascript javascript
java shabbos javascript javascript java
javascript javascript javascript java
sea at javas javascript java sea at java
javascript javascript javascript
javascript javascript javascript java
javascript javascript java javascript
javascript javascript java yeah java
javascript java sad so I'm super sorry
this was the first time ever I did this
and yeah I'm not really a musician so I
hope you didn't recognize thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>