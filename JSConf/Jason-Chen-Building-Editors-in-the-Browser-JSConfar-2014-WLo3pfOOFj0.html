<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Jason Chen: Building Editors in the Browser | JSConf.ar 2014 | Coder Coacher - Coaching Coders</title><meta content="Jason Chen: Building Editors in the Browser | JSConf.ar 2014 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Jason Chen: Building Editors in the Browser | JSConf.ar 2014</b></h2><h5 class="post__date">2015-05-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/WLo3pfOOFj0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">good afternoon everyone looks like this
is the right size so that I don't get to
do the cool god mode thing I thanks for
having me I'm here to talk about editing
content on the web and tool that I built
to help do that call quill so first a
little bit of background it kind of
started three years ago when I started a
company we were trying to build a
collaborative a collaborative editor a
lot like Google Docs and so people can
text type simultaneously you can work
together simultaneously on the same
document so the main a big part of that
of course is the editor and so when we
started you know we had seen other
editors on the web we had used the web
for a long time and so we figured we
could just reuse one of those possibly
an open source one and just add
collaboration on top of it but so we
didn't we didn't expect anything to find
anything out of the box that would just
work but we had hoped that we could be
able to extend it to so that we didn't
have to write everything from scratch
the big problem was that we encountered
that these editors didn't didn't have
anything that resembled an API when it
did have kind of a page an API page in
their documentation when you look at
kind of the methods and what they
offered it basically was the Dom was the
Dom API so for example if you wanted to
get content from these editors they give
you the content in the form of HTML
which you could already do with inner
HTML and if you wanted to set kind of
change any part of the document you
either have to parse and figure out
which part of that you wanted to change
or the methods that they gave you just
set the entire document so for at least
for our purposes you couldn't just if
you're typing along and other people are
typing along and your resetting the
document on every keystroke that just
wasn't really going to work out for us
and this kind of is a bigger problem
that the fact that it didn't have an API
means that kind of the the offerings out
there words
the offerings out there was what you got
if you couldn't extend on those
offerings and you couldn't really
improve upon the editing experience and
you couldn't and you're limited to
basically the imaginations of the people
that built those products so I we
started working on quill to solve that
problem and a key thing was that we
wanted a design quill so it could be a
drop-in replacement as a rich text
editor but it also needed feature needed
to feature an API that allowed you to
customize its behavior and allow you to
extend upon it so you could build
something that we didn't really think
about and so so that's what I'll talk
mostly about today so before I get
started and do demonstrations of the API
just the things that we want to keep in
mind when we were building it where we
wanted to be very simple that's
something of course desirable in any API
for a quill specifically it meant that
the content that you got the kind of the
data that you were working with was much
simpler than HTML if you had to start
parsing kind of start parsing the
content yourself then that's a
non-starter we wanted to be very
powerful which helps with the simplicity
because if you just do whatever you want
and then that's a very simple interface
but also for quote specifically that
means you should be able to change the
content whenever you want wherever you
want you could change a subset of the
document you could change any part of it
not just where the cursor is not just
the entire document and of course wanted
to be invented you vented because any
good API has events so I'm going to
switch to to quill to show you okay okay
that is ah crap okay see I kind of had a
feeling that where's my mom okay okay
had a feeling that would happen so I
have a backup okay
okay so basically it looks like a rich
text editor that you can type into it
you can apply formatting so it kind of
it does all the things that you want
from an editor but what we want to focus
more on is the API and basically I've
this is the documentation page for quill
quill jfcom and we've exposed a global
variable that you'd you can basically
try out any of these methods on the on
the main editor so before I do that I'll
just go over some of those some of those
methods okay and we're back to this okay
so first part retrieving the content so
like I said we don't want you to have to
deal with HTML so there's a few ways you
can get content there's get texts which
is just plain text via content which is
basically an array of the content that
i'll just show more in the demonstration
and then get selection where you can
basically this will return an index a
range that is an index into the editor
not if you're familiar with the Dom API
it would it would have given you an HTML
Emlyn with with an offset from that so
this kind of frees you from having to
parse I yourself and figure out where in
the place of the document that is ok so
let's kill that the ok all right we are
back ok so to start off with get text
and
okay okay so you can see this is
basically just the the plain text output
of quill um oh man I should have done
that god mode thing because it looks
like the bottom okay I do have to do the
sign okay awesome think it's not my
doing it wrong I mean that looks good
enough okay okay we'll go with that okay
okay all right so the more interesting
one is probably get contents and
actually I'll just you can set in index
if you want this is overloaded so so
this is the first 60 characters I would
have we would have designed to return
just an array but over we want to add
functionality to this object so it's KY
we didn't think inheriting from array
has its own issues so basically there's
one object that is an array and so you
can see the way the text is just quill
rich text editor and then there's an
attributes object that says it's 18
point font the next object is the text
that i typed with the with plain text
and open source which has this attribute
link so okay so let's take a look at I'd
so let's take a look at a demonstration
of this so here okay I won't push
refresh because I might screw things up
okay so this is basically let's let's
assume we're this will be demonstrating
get content and basically I'm going to
be able to type into this ah five and
okay and so you can see it actually
generates marked down so if I were
writing Lord of the Rings i would say
okay and was do you
okay so that's how I would have wrote
would have wrote Lord of the Rings and
save a lot of trouble for everyone on so
if you bold if you apply formatting it
does it produces right markup and since
I'm such a nice person I might even add
a link for for if you didn't know who
the Eagles were of a well this is the
wrong link but just for just to
demonstrate that you know it does
generate the right syntax so this is
this is basically using a the quail get
content API call it's incredibly simple
whoops okay did the demo already this is
basically the meat of the demo and all
it does is you get the contents you loop
through it and when you encounter an
interesting or an attribute then you
just applied the you change the you
apply the kind of the markup to to
produce markdown and so this is maybe I
only there there only two here but you
can kind of add the other the other
features that markup markdown supports
and this is an incredibly simple
function because you didn't have to you
didn't have to all of the interpreting
what the contents of the editor was
already done for you so once that is
done you can take it and do whatever you
want with it so that's just one example
with doing that with mark down okay so
next I'll talk about modifying content
so there's three main functions for that
you can insert text delete text and
format text and all three of these I
think the the API is pretty intuitive
and I'll just demonstrate them in this
all right now go with a different one
here
ok so for example if I want to do quill
dot insert text on the 6-position
JavaScript so this inserts a text and
since I didn't say that it was formatted
I inserts plain text so i can go ahead
and format that
ok so if formats that and then I can
also delete it
and if I were to have done the insertion
correctly the first time this would be
what it does okay so pretty pretty
simple API um I'll just go into another
example of what you can do so let a lot
of people use quill as kind of adding
messaging to their app and messaging or
email they want to add email
functionality and it's not the quickl
core part of their app but it's
something that they want to add and not
necessarily have to focus on on so okay
so I guess well the part that I want to
focus on is you're probably all seen it
pretty much every editor has the same
link tool tip that allows you to edit
the link but here because you can
because you're the one that gets through
format the text and you don't have to
that means you can basically you're the
one that gets a set set it at the end
you don't have to use somebody else's
you can switch out the link tool tip and
use your own interface so for example
here maybe most of the time when you
when you're high when you're trying to
link something maybe you just want a
google search and a lot of times that's
what the link that you want or that's
the URL that you want so here this this
is kind of example of how you can modify
the behavior and modify the editing
experience that isn't necessarily bound
to what somebody else had decided was
the best wing tool tip and this may not
the i guess the point here isn't that
this is a better interface but the fact
is that you can because cool has an API
you can you can you can invent new
interfaces try those and if they may be
better than the ones that are already
provided so the point is that you can
extend this and you can change the
editing experience and you can push the
boundaries make better editing products
oh yeah I think okay so
okay so last thing I'll cover is events
basically there are two events you can
figure out when the selection change
happens or text change happens and I
will go back to Ashley okay
action
okay so this just registers a a handler
and now if I change the selection at all
it'll basically tell you that it's
changed when it's a cursor it's same
number and when it's different it gets
the whole gets the whole range and when
you lose focus it's no so so that
selection change text change is very
similar now I'll just go to the the last
demo which is which is actually one of
the my favorite use cases of quill
because it's kind of a use case that
which getting back to the reason why we
built it was it gets to something that
we didn't really think about when it
gets to an interface that we didn't
really think about when we were building
the editor at but because we made
extensible it's something that it was
able to be molded into that so there's
this interesting group at Stanford
that's doing doing some work on
translations it's kind of in the
interdisciplinary between the hard
science of translations but then also
user interfaces the kind of if you've
used translation services you know that
machines aren't perfect at it so you
kind of still you still need a human
involved so they're doing work to bridge
the gap between the two with from user
usability perspective so this is a demo
of what functionality that they built so
immediately what it does is it's
essentially autocomplete for
translations so this is the text that a
translator would potentially have to
translate and here is the machines best
guess and so it's relatively good the
guesses are relatively good and but
sometimes when it's a little less sure
it'll present a few options and in this
case is not actually correct or this is
perhaps a better translation and then
you can kind of accept the rest so so
again that was something that we didn't
design for when we built quill we didn't
think about ways to improve the
experience for a translator but this
something that you could build and I
guess the point the main point of of
quill
is that is its API and it's able to do
this because it has one and so to
conclude I kind of want to step back
from quill specifically and talk about
API is in general if you think about
products in everything as a graph then
if you just offer something without an
API it's essentially a terminal node
that's all you're going to get but if
you offer an API then it could be part
of a larger offering and it could spawn
many more products and many more ideas
so when you are building kind of those
products and services I encourage you to
think about that if you want if you want
your offering to be kind of that's all
the offering is or if you want to kind
of open the doors for something else
that you didn't think about so that's
all I have thank you for listening</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>