<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Jed Schmidt: A (fab) approach to web apps | Coder Coacher - Coaching Coders</title><meta content="Jed Schmidt: A (fab) approach to web apps - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Jed Schmidt: A (fab) approach to web apps</b></h2><h5 class="post__date">2013-01-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/xEQQPAndN2s" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">ah can you speak any Japanese what do
you owe me to say j/s calm frocks dance
going possibly death okay say it slower
yeah it's the comfort can we all say
that is closest wow it's ablative so
coitus without further ado Jed cool I
guess all right I don't you like the
weatherman thing here ah ironically
because of the volcano but I'm here to
answer for you guys one question and
that is who are you and what did you to
Felix Felix I don't do to you guys has
anyone here met Felix it like that
you're up Jace coffin alright so Felix
is basically he is very active on node
he's one of the first committers he is
super super helpful a really nice
friendly guy and he was actually going
to present this thing called node dirty
which is I love it it's a very cool key
value store that's basically it says
listen we're not going to handle the
network thing it's going to be on your
machine and it's just JavaScript all the
way down so you can use basically like
on couch you'd use actually think I've
slide for this it's basically so it's no
sequel and so basically you have
functions and you just iterate over a
huge set and it returns Keys and because
it doesn't go over the network it's
really really fast anyway so he was
going to come present this but he
totally got volcano but i did find i
tried to find a quote of someone who had
actually known about dirty i haven't
used it as much this is this is the most
authoritative opinion i could find but
there is one bug if you guys are
considering using it in your note
install and that is it's not volcano
proof so i recommend you guys proceed
with caution and in the spirit for Felix
because he couldn't be here I would like
to if possible record a video of you
guys just saying hi so this is he's a
huge leap of faith but could I was going
to
record on this you guys all iphones
don't don't gank my phone or turn off
can you just give them a short message
all right let me put it on on camera
mode here and just to just pass that
around and give them a wave all right
good all right cool so while they're
doing that what I do for a living is
actually not code as a living i'm a
freelance translator i translate
japanese computer manuals into english
and so basically all my code is just as
a kind of a free time thing hopefully
that transition I would actually love to
do that in a full-time capacity but in
languages i speak two languages but a
code i'm really a mana glad I all I do
is JavaScript and I I don't want to get
blend back on you but I really love
javascript and i really love lots of the
parts about it some things i've built
before so basically before node and you
want to build an app that's like a pure
app that's only javascript basically you
end up doing bookmarklets so i did a
whole shit ton of bookmarklets the first
one i did was text Banda I think these
are still up so you can check them if
you want text banda is like if you guys
text expander you seen this thing it's
the same thing but it's for the web it's
a bookmarklet so you go to any webpage
you get this little bookmarklet you go
to any web page and you can save your
own like shortcuts so if you go to a web
page and you click this button and you
start typing it'll automatically expand
the things that you define into whatever
phrases so you can check that out
another thing i build is called typed in
this is basically a japanese input
method editor that's purely web-based so
even if you're like an internet cafe and
you want to type in japanese for some
reason to your clients who you know
you're late giving translations for for
example you can just go to any web page
click this bookmarklet and all the
sudden you can type in japanese even if
the OS doesn't allow it doesn't have an
input method eter another thing I built
the last thing I built was called paste
bud some of you guys may actually you
have used this this is a copy and paste
for the iPhone before the iphone had
copy and paste and basically it was a
monster javascript hack using basically
you know some tenuous very small server
code and a bookmarklet to pull text and
actually give you this pseudo totally
faked out selectable web page where you
could copy text and then send to people
but the problem is all these
projects required are we done all right
cool thank you all of these projects
required a little bit of server-side
code and I you know I just I'm not I'm
not a ruby guy and I really just want to
use JavaScript all the way down and so
when note came out I was like ecstatic
and I wanted for all these things to
build some sort of back-end and so
that's where fab comes in so let me tell
you about fab so first of all fab is a
web framework I'm sure you guys are
familiar with how those work so just to
give you a sense of what it does I'm
going to compare it to other things you
might know so for example it's small
it's more web di than Django it's just
tiny it's it's one function and the
small library of functions it doesn't
try to manage a huge thing it basically
starts small and lets you build on top
of it next is it's more rack and Sinatra
it's not just really good at building
endpoints but not good at connecting
them together Sinatra relies on rack to
connect all of these small apps together
and more people are moving to that kind
of modular style where you build a you
build an app and ryanne Sinatra and use
rack to connect them so fab is a lot
like rack in that you build these tiny
apps and all it does is connect them
it's agnostic so it's more Merv than
rails to everything is totally optional
I don't you know I mean you can swap
whatever you out whatever you want out
these the things that are provided with
fab are only defaults not necessarily at
all and they're all very loosely
connected finally it's extinct it's more
jQuery than ue it's basically you know
instead of having lots of methods it
basically you give it anything and it
based on what you give it it
disambiguate so what you need to do with
it so I was very inspired by a genre sex
not only is training style but you know
this kind of let's keep it keep a terse
and it's built on the good part so if
you guys love functional programming
like I do you are gonna like fab because
everything is functions you write
functions that return functions and all
fab is is just one function there's no
prototypes there's no methods all state
is decentralized so usually you have an
app and you're like a drought a drought
do this it doesn't do any of that fab
knows nothing about your appt the apps
are responsible for storing the state of
the HTTP in the app using closures also
callbacks fab is completely you can't do
a synchronous app with babbitt's only
asynchronous and that's a compromise but
what it means is that because it's
asynchronous all the way down it becomes
much easier to build things you don't
have special cases if it's synchronous
or not and it's it uses currying lot so
basically arity as a type system by
which i mean every app has an era t that
era t is how many apps it talks to so
every app takes arguments those
arguments are just other apps so
everything is a nap in the system I can
show you a little more about that so fab
as a function it's a tiny little
function and all it does is glue stuff
together it's you know this small
function that's actually probably going
to change it might actually get smaller
because there's some stuff I can take
out of it it's chainable so if you guys
like jQuery chaining as much as I do
this chains but instead of using methods
it returns a function so what I mean is
usually if you guys use jQuery used to
chaining what happens is you select
something do a method it returns the
jQuery object you select something it
doesn't write this is a function that
returns itself so the function chains to
itself and so there's no methods and so
what ends up being is just a whole mess
of parenthesis but you'll see how that
works and it's dumb so it has no it has
no logic it has no logic about apps all
it does is just connect your apps
together and by app this is the this is
the hello world app right it's very
small I'm actually going to go into the
depth a little bit later but that's
basically the smallest you can get with
fab and so what a nap a nap is just a
function the Curry's so it can either be
a response or it can return a function
that returns response or it can return a
function that return a function that
returns a response and we'll talk about
how that works it manages its own state
that doesn't there's no like unlike
jQuery like jQuery would keep events
somewhere and you can access that you
cannot introspect a fab application
because basically all apps are just very
tiny apps that do one thing and they
have they're totally isolated so they
can only see their neighbor apps they
can't refer to any sort of central state
the only central state that app would
have access to is the fab function which
is basically acts as a namespace for all
of these other apps so the fab source
looks like this this is basically the
source code looks like it's a function
at the top and then there's all of these
default apps that you can use if you
want to and you don't have to and at the
end there's defaults like if you see a
regex you know use this app this default
path app
provided by fab if you see a number
return a status that's and you can
totally override those two and so
basically what that means is and this is
probably the most salient slide for
someone who has never seen fab your apps
look like this which is kind of drawing
at the beginning what I wanted to do is
have your coat and this is valid this is
valid JavaScript code this literally
execute just as is there's no definition
language but I wanted fab to look like
markup so you're basically when you code
your site your site looks like a sitemap
and so you know everything here is you
can see these prints so we at the top
where fab equals require fab so we set
you know the fab variable to be this
require and then all of these that's a
regex that does a path and the next
thing is a node guess that's just a
middleware that adapts it for nodejs
then you have a line at path it has your
app and then you can say filter on the
method post so we only reply to posts
you can use templates this is built in
this is just wrestling's template engine
you know you can actually fetch files
from the file system there's also you
can proxy HTTP requests you know that's
based on node use you can tell by the
namespace and then it basically goes
through and if nothing matches it we
return this and if nothing matches that
original path of just a slash it returns
a 404 anyway so that's just a very quick
what a fab app looks like but basically
this is how it works you start off with
a request so HTTP someone requests and
you reply right so if you have this is
basically this whole actually I guess
I'll bring the app in so this is this is
the browser and this is your app does
that make sense so basically if you
separate these two things that is
inbound and this represents an outbound
function so when you to return stuff you
call this function and to call stuff
further in your app you call that
function you'll see how that how that
works so basically the idea is when I
say that we are defining apps in terms
of their arity how many apps they talk
to so this app talks to one app just has
one little bump there right so I call it
a unary app and so if you have an app
that talks to two apps so here's one
that goes out outbound here's one that
goes inbound that
is a binary app when we call this in rub
jargon we call this Middle where but i'm
going to traduce one more type of app
and that is rather predictably a ternary
app so that's an app that talks to one
app downstream and two apps upstream and
basically what that allows you to do is
branching and all sorts of stuff that
you'll see so your fab app is just
chaining these three kinds of apps
together there's nothing else there's no
methods there's no setting of anything
you write apps and you just put them
into this like fab connector and out
comes a web app that does hopefully what
you want it to so it uses currying right
so if you have an appt of 83 and an appt
of 81 what that means is when those two
apps talk together talk to each other
they create a binary app right so that's
like currying right likewise if you have
a binary app and you connect that to a
unary app what you create is another
unity app right so it's just simple math
right and so the whole idea is that when
you have these apps take other apps they
end up creating just a simple responder
that then is a unary app that can talk
to like a web server so very quickly
example apps here's hello world I showed
you that earlier here is hello world
again this time we're calling so
basically this in any and any fab app
this represents the downstream app so
that's basically whenever you're done
you want to send some information you
send it into this and it chains because
the downstream app returns a listener
that you can then send more stuff to
right so first we just send run response
you can actually you can actually chain
this in San responses it's asynchronous
you can just keep sending and then when
you see this empty thing if you're
sending nothing and when you send
nothing that means I'm done you can
close this so it's very important for
asynchronous stuff when you say you're
done it can close it and then deliver
the response so there's a parallelism
here if you if the if the upstream app
wants to say I'm done it returns it
sends nothing if the downstream app
wants to say I'm not interested in what
you have to say anymore it returns
nothing I eat it doesn't return a
listener does that make sense so it's
that parallel is kind of nice so here's
another thing this is just a jiske style
response so basically whenever you send
response it's optional you can send just
a status
you can send just headers you can send
just a body but you can send full
responses like this for example here's
hello world so it's asynchronous so you
can do stuff like this and let's skip
one here is oh okay so basically when
you have because your app is only it
only sees other apps so how do you know
like for example where do we put stuff
like the method or the URL and that
stuff basically is you call a nap so
what we're doing here is hello world 5
is returning a function that's a
listener for the downstream app that can
then call that function again right and
so when it calls it we have this thing
that we do and we you know talk we
basically echo the name of the path the
first thing that scent is the head that
contains the method the URL the headers
and the next thing that our centers body
so as long as you return something
here's another example as long as you
return a listener you can keep getting
events right so for example this is a
working app and all this stuff is is on
the fab site you can run this code all
this does it tells you how many bytes
have been sent right so that's just it
just keeps returning a listener and it
keeps counting the bites so those are
all unary apps so if you want to show
you a binary app here's an example so
here's an example of a binary app which
is middleware that takes a nap and when
that app is called it increments a
counter and then it calls that app does
that make sense so this this last line
is probably oops the most important
return app call this so you're taking
this this upstream app you're calling it
with this this in this case is the
downstream map so you're connecting
those two together so what that means is
middleware there's no overhead of like
for example middleware if you're
constantly shuttling stuff between the
upstream app in the downstream app with
this you don't have to do that because
basically when you return the listener
that this guy returns what you're doing
is you're connecting those two apps
immediately and so you don't have access
to that communication anymore which is
nice because you can avoid a lot of
overhead that way so here's an example
of a Turner app here's an app called
only Tuesday all right it has to
upstream apps yes and no and if it's
Tuesday it'll go to the S app and if
it's not Tuesday it'll go to the no app
so this is an example how you can use a
turning out to do switching and this is
for example how node for them sorry fab
has no idea of a router all a router is
a path app you give it a matching
Oh for you give a regex that has a
pattern that matches the path you give
it a matches and in non matches app and
basically if it matches it'll dish out
to either one so a router is just
chaining those Turner apps together
which you'll see so I'm going to start
with three examples here's hello world
here's datetime here's rather focus
actually change the name of these forgot
to change the slide but you can see that
we're going to build stuff it's very
very modular and i'm going to show you
one by one how it actually works and you
can actually fall around follow along if
you want if you have knowed installed
the latest version of node please you
can you can run this as i'm going so
starting with the first app hello Jas so
we want an app that does this if you
call root it returns a 404 if you call
hello it returns hello world and if you
call hello with any sort of variable
after hello it'll work just echo that
variable back to you right so here's
what this app looks like in fab here's
the node boilerplate right for running a
server we're going to add see we have
fab up there and it's calling 404 right
so this says whenever you call just
returned a 404 that's not very
interesting let's add some middleware
here is the middleware that allows you
to use this on node and it's just knowed
middle with the adapter for node is
there's no magic it's just another
binary app that connects two things
together in this case it'll turn your
app into a node compatible listener all
right so now let's add a ternary app so
this is a regex pattern it calls a nap
on fab called fab path and basically if
it matches this path it dishes out this
way otherwise dishes out this way does
that make sense I'm talking really fast
anyone any questions feel free to shout
out any time I haven't timed this so I
if I'm going over please give me like a
five-minute or something ok cool so now
we're gonna now we're going to turn this
string so as you can see at any point
you can see whether your app is complete
because there's no bumps and there's no
divots right so this whole thing is well
connected what that means is if thing if
it starts at hello we're going to turn
this string which you'll see obviously
is going to be a template and if not
we're going to turn a 404 so let's
actually fill that template in so now we
have this rustic real simple template
engine so now I'm actually going to
render that string but now you can see
we have a little thinner our app is not
complete so what if it doesn't if it if
it matches hello we're going to put this
here right so now this app is complete
we have world so this world gets passed
to this the
which renders it right and so now our
app is complete so now all this is if
you hit the route you will get a 44 if
you at hello you will get a hello world
that's not very interesting so let's put
the name in so we're going to put in
another ternary app again this is just a
path app this has a regular expression
and you'll see there's parentheses it'll
capture what's in the parentheses and
then there's a fab app called fab
capture it'll return that value right so
this is so basically here's this ternary
app right here and if it doesn't match a
return world and if it does match it'll
return whatever is captured right that's
how we that's we built that app any
questions all right sorry all right
here's another app date this one's kind
of stupid basically if I get root return
a JSON encoded date object if I get date
format that into a date and if i get
time form of that into time ok so this
is how this app works no boilerplate
we're going to turn a new date so this
is a date and so basically if fab see
something that's not a function by
default it returns it as a body so we
take this date and we put it in the body
and return as a response but we need the
note adapter and we actually let's say
in this case we want a Content like so
we have a Content like plugin that's
renewed and if this case we also want
stringify it you can't return right node
needs you return a string so we have an
app that just all it does it just dish
out string fine all right so now this is
a working app ok but it's not very
interesting so let's add date and time
these are two paths and now we've
created two divots we need to fill those
in we're going to fill them in with
these strings again these are going to
be template strings and we're just
calling the these methods of the date
object native JavaScript all right so
lets you know for those who actually
want to put a template in right so
basically all template does is this it
talks to two apps this is why a template
is usually you think of a template as
binary it's Turner II this is why the
first app it calls is the template
string so what this means is it's
agnostic you can put a string in there
or you can dish out to a file it doesn't
matter all that app knows is that when
it calls the first app it's going to get
back a string right and so it uses that
to creative function and it caches that
function so all subsequent requests from
the second app are going to go through
that function all right so here's the
thing for both of these we want to pass
a date but we've already cleared the
date down here now what you could do is
you could put new day new date right
here but what actually fab lets you do
is
leave it empty and what that does is
whatever comes next to pass that all
right so what this means is this both is
going to be this is gonna be filled with
this date does that make sense so you
only have to declare the date once so
we're trying to keep the repetition to a
minimal so basically think of this as
optional middleware this middle where is
only called if it matches this URL does
that make sense and so it's the same
data object and just get Brett gets
rendered differently based on the URL
all right that makes sense any questions
all right cool if it matches it'll only
the first one yeah so that's the idea I
think of think of a ternary app as a
ternary operator in JavaScript right if
you have a bunch of ternary operators in
Java Script the first one that gets
called that rest of the code is not
evaluated the same thing that make sense
of it all right so actually let's start
focus i want to show you it's there's no
point in showing you stuff that's just
you know you could do it in Sinatra so
I'd like to show you if you can see this
but I'm gonna take three browsers all
right and so what i want to i built an
app called focus and what this app does
is it's asynchronous it uses long
polling and i'll show you how it's built
and basically you open it a bunch of
browsers and whatever browser has focus
it gets sent to the rest of the browsers
so you can well it's probably better
just to show you alright cool so i'm
going to call this there's no no magic
here i'm doing this real time and hope
it i hope it works open this in all
these alright cool so you guys can see
right just by focusing on these apps it
sends it in real time and if it doesn't
know the app like for example for coming
from something it doesn't send a user
agent it'll what's all well it's
supposed to say other anyway that's the
idea so that takes advantage of the node
makes a star kind of stuff really cool
right it's like really easy to build
asynchronous stuff and so but the thing
is frameworks usually are like the bare
minimum easy stuff I want to build a
framework that like lives on a
synchronous and lets you build stuff
like this very very easily does everyone
get what just happened there is that
cool you understand that right all right
not too complicated all right
oh you can oh wow that's a great plan
thank you for that appreciate it I will
show you the code for this here's what
it looks like mm-hmm okay cool no
boilerplate we're going to return a
string this is just an HTML string right
okay this app is done well it's not
really done because we need the node
adapter as usual and then you see the
string calls to scripts all right well
we need to send those scripts alright so
let's send those scripts so we need two
other paths one for an it and one for
jquery for an it we're going to take
client and put it to string now where's
client client is right we haven't
defined client well it's defined client
client is a function all right this
function is going to get to stringed and
then sent to the browser ok so all this
is is just jquery right so we've a
listen function that listens and when it
gets a response it listens again it gets
a response that listens again this is
long polling and then we have on focus
get this thing it says focused right so
it's got kind of this constant long
polling connection and then when it
focuses it sends this it fetches this
folks URL alright so we put that in
there but the thing is you can't just
include a function this is a script
right we just put a function it's not
gonna get evaluated so I'm actually
going to create a template right and all
it does is it put that in a closure and
it executes sit does that make sense so
now I've returned this function that's
this you know automatically executing
function where the code was written on
the server in JavaScript we just put
that in the string it's like at the
bottom of this file so you can you know
we don't keep I don't you know the whole
point is I want to be agnostic I hate
these frameworks where it's like your
layouts go here and your views go here I
don't you know it's like whatever you
want to do is cool I will help you allow
that so the whole idea is just to be
agnostic about that so now we need to
send jquery well we can use a file
system and so this is going to dish out
to the file system this app is a binary
app right usually I think a file file
system is just a handler this is a
binary app it calls and it gets back a
string that represents the path and then
it fetches that file and then it returns
what was ever whatever isn't that file
so we're going to call jquery that just
dishes out to the file system ok all
right so now this app is complete but
it's not really because when you focus
like we're going to call these URLs that
don't exist so let's put those URLs in
listen and focused right you guys
remember these so listen all right now
here's where this but this is again this
is like what the cool thing about this
is it's asynchronous so we have this
handler and work
we're just pushing the current listener
to this array that we now have at the
top right we're not responding at all
this is the whole point of long polling
we're going to respond when something
changes okay so now we just need to fill
in the focus part so now I rated this
function just for this app called
broadcast and it looks like this it's
pretty simple it takes a list it takes
an array I'm sorry it takes a function
that returns an array of listeners right
because we want to keep everything
within this whole a paradigm it returns
a response immediately a blank response
that has nothing in it so it tells it
like you're done ok so I'll return it
200 and you don't need to do any more
then it'll return it'll call the
downstream app and then I'll get its
feedback and I'll chain it through to
all the listeners that you push in this
array all right so that's basically the
cool thing about about what this does is
this is now totally reusable we could
reuse this in another app it's not
specific to our appt at all because we
built it as a binary app as middleware
and not as an app that you know belongs
in some sort of hierarchy somewhere so
we're going to put that in and hereafter
it we're going to put the listeners that
we want to send it to but we still
haven't sent a response yet so we want
to send the user agent now this is not a
magical function this is just a function
i defined here this is to hack you know
based on your user agent I'm going to
send you some string and it only works
for these strings and apparently not
even for other as you saw something to
put that in there but we we can't just
return it we need to do with something
with it right so I'm going to put in a
template and it's going to call this
JavaScript code right this is jQuery
code and it's going to render that user
agent into a function that will then get
executed all right so now at this point
I think your app is entirely complete
right there's no bumps anywhere ok does
that make sense this is what the app
looks like and then the cool thing about
this because you built everything so
modularly you can totally map it you
understand where everything goes you can
actually have a very over-the-top
animation that shows you sorry I was
like I was like I was seeing all these
presentations all these like really
masterful guys it's like you know like
words on the page and I was like man
it's just sucker for the for the keynote
candy all right so that was that all
right so now what so this is the final
final stretch here I need to improve the
docs tests an example examples are ok
Doc's need a lot of work tests need a
lot of work there are no tests there
were tests in the last version
I got rid of them when i updated to the
latest thing so neat we're going to lab
tests the cool thing is because all
these apps are tiny tiny the tests are
also specific to a single app so what
I'm envisioning is when you ship a nap
any time you add an app to fab or to
your own app anywhere you had a test
just for that app and it doesn't have to
belong in a hierarchy all it knows is
that you know something comes in and
something goes out so you can put an app
on either side that helps you test it I
want to promote an ecosystem of apps so
just like jQuery really gave this
ecosystem of plugins because it's now
it's really easy to build a plug and
just put in jQuery I want to have the
same thing for the server these apps are
tiny I want to be able to build all
these tiny little apps would be like oh
I have enough does this go there right
so I fab doesn't maintain it someone
else maintains it right and then you can
use it and as long as they conform to
this really really simple spec then
hopefully you'd be able to share those
things pretty easily and so just like
jQuery if there's absolutely pouring
people want them i would like to merge
them into court so that you know you can
just download it and just built up
instantly and then finally i want to add
support for other platforms and i tried
to do this for this for for this demo I
couldn't get it done in time because of
the beer but basically the idea is this
there's nothing magical about this that
belongs on the server right you could do
this in a client here's my plan my next
platform for fab is jQuery and the idea
is this you download a server into your
browser does that make sense okay so a
fab app is just something that responds
to these paths rights just HTTP so I'd
like to do is you actually download an
app and you can actually build like
stuff where it just runs in the browser
without hitting the server unless you
want to and so you can agnostic aliso
then it would be really easy to find an
app on the server render it to find an
apple the client you know render it
there but basically you can be agnostic
about where you render so you can
actually the same site you know Google
will see your HTML site and the client
will see your JSON right and the only
thing you change is one bully and that
flips which path they go to that make
sense so that's the final thing I want
to do so that's what i'll be doing over
the next week and change and you know
the next few i'm going to build stuff on
top of this next for my own stuff and so
i encourage if you guys like this I
encourage you to help me out and it's
you know just write an app and point me
to it and you know if it's cool put it
in if people use it and so this is how
I'd like to proceed and that is it thank
any questions yes stable API that you're
shooting right now well it's built on
top of nodes as you saw the API is
really simple I'm I've gone through a
lot of iterations I think it's pretty
stable there's very there's very few
moving parts right the whole idea is
that you just build functions and it's
just like a closure that hold the
returns other functions I'm pretty sure
the API is stable but don't quote me on
it until it hits one right but it's
stable enough that I'm building stuff on
top of it but yeah no promises until
until it gels a little bit more have you
thought about how errors get propagated
through any besides the 404 I thing else
goes wrong something else goes wrong in
your fab app somewhere down inside of
the nested binary chain I haven't
thought about that as much I imagine in
some case you would have to build your
app to try catch blocks just put in your
app or but yeah I mean ideally you'd
want to propagate the error as a code
and then maybe have a sniffer so for
example you could create middleware when
I say middleware I mean a binary app I'd
love to have people adapt this target if
you guys like it have a binary app that
basically all it does is it looks for
something comes down and it comes down
with a certain error code it then
returns a specific response does that
make sense so the whole idea is as much
as possible keep it in the chain and
then you know use the brilliance of HTTP
to to solve problems like that idea all
right any questions yes
my earrings are just functions could you
split it back into as many as you want
in
exactly yes in fact if you look at the
fab if you look at fab the three apps i
showed you they are actually apps that
are sitting in another app so like it's
just apps all the way down right a fab
app itself is a valid fab app anything
you create with fab itself is a valid
fab app so the idea is that you don't
have your very agnostic about what you
want to put in the file system what you
want to separate it's just as long as
you have some way of getting out of that
file so I for example I use module
exports in node right and so what that
does is the only way to return a
function because usually with exports
you have returned object and put a
function on and then how will these
redundant names everywhere so I use
module data export and I just turn the
function and so if you look at the the
source code in the examples in fab it
has stuff like that yeah alright cool
yes yes limitations of node 0 right all
right is that no it's not really resume
yet yes notice not running the browser
would run on jquery but the whole idea
is that there's nothing notice there's
nothing specific about node in this
everything that's node is a separate app
that does stuff for node does that make
sense fab itself is totally agnostic
yeah so like it shouldn't be too hard to
port it to jquery I actually I'd like
actually just support it straight to the
browser as long as you can get you know
Ajax pretty good Ajax and a pretty good
back button support you know basically
the stuff that Aaron works on Sammy
stuff like that yeah I feel like those
would be the two core things you would
need all right cool like yes</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>