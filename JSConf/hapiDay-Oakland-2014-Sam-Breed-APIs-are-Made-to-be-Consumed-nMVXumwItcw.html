<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>hapiDay Oakland 2014 | Sam Breed: APIs are Made to be Consumed | Coder Coacher - Coaching Coders</title><meta content="hapiDay Oakland 2014 | Sam Breed: APIs are Made to be Consumed - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>hapiDay Oakland 2014 | Sam Breed: APIs are Made to be Consumed</b></h2><h5 class="post__date">2015-01-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/nMVXumwItcw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay cool hi everybody Sam breed from
quick left so we've been working on a
redesign of the TV module and if you're
not familiar with TV it's an interactive
debug console for happy that operates as
a plugin wow that's already auto playing
okay cool so the the main premise but
behind what I'm talking about is that
you know api's and server-side
applications are meant to be consumed
and so if you're primarily writing an
API that's exposing itself as a series
of JSON end points right there are going
to be clients consuming that and so
clients are are they're tricky right in
simple cases client you can get away
with just having clients that are you
know meant to connect to your services
and they can usually like run your
service local if it doesn't have like a
complex database or something you know
or if you're using like rails or
something you can you know just run the
application everything locally your
developers are happy feedback loops are
really really tight but you know if you
don't have services that are just one to
one or you're using micro services or
you have big data or things that are
more complex or half your stuff is
private or half of its work in progress
and not released it becomes a real
burden on your front-end developers to
actually like make heads and tails of
what API services are available and
there are really great lengths that that
we go through to mitigate this right
like having you know documentation
generators that you know are also
producing stubs that you're using so you
know you're kind of the expectation is
that you're losing some fidelity to you
know what will eventually go into
production and so should clients need to
run your entire API the answer is
absolutely not they there should be no
expectation that if you're building
something super complex that the
front-end developer that's you know
writing an application that sits on top
of all this awesome API work that you're
doing should have to run that on their
local stack you know there are a lot of
things that eventually just make this
untenable you know if you have a bunch
of different database connections if
your project is is that chopped up into
a bunch of different
Micro services that are living in 15
different places you really you know
can't afford to have to take a bunch of
set-up time for everybody to run your
stuff locally some tools like vagrant
make this a little bit easier and there
are like the hope of having things even
better encapsulated in the future but
you know a lot of times the best case
scenario is to just set up a you know
staging server that all of your
front-end developers hit and eventually
you're going to run into some problems
where the the developers on their
laptops don't have the information that
they need just based on the on what's
being exposed to them over the wire so
that's where TV comes in so as I said TV
is an interactive debug console and this
is a kind of blurry screenshot of it
about i'll be showing a demo in a minute
and so what quick left has been doing
over the past few months is taking a
look at the use cases behind TV and
doing some some redesigned some
rethinking so again it's an interactive
debug console and it's gotten a bit of a
facelift so the old TV is about as
pretty as you can possibly make a table
look so it's a little bit daunting when
you first get there it doesn't do
anything out of the box so it's a it was
a little bit challenging when I when I
first picked this up and being like okay
well I can kind of see what's going on
you know their tags grouped in but you
know it's difficult discover it's
difficult to filter and unless you
really kind of go through you know this
process of creating a debug ID and then
making sure that you're sending that
along is a query parameter along with
everyone your requests filtering down
just the stuff that year that you want
to look at is a little bit challenging
so along the way there were a whole
bunch of new features that that we were
able to add and in a pretty pretty easy
way so things like type-ahead filtering
favoriting copying to clipboard so that
if you do have you know kind of server
logging information or error logs you
know it makes it super easy to just pick
that stuff up drop it and drop it into
chat and send it off to the API
developers who are working diligently to
maintain this public staging server that
you're working against every day
better user onboarding a real pause and
resume so that if you do if you are
developing against the staging service
that is quite busy you can actually tell
it to shut the up for a couple
minutes and it's all built for happy
eight-point oh now so a little bit of
demo time here ok cool so so this is TV
my screen is not mirrored so this is a
little old tricky so what we're seeing
right now is is a live web socket
connection to a server we have running
over here and what we can see is that as
requests come in to the server that are
tagged with this debug keyword we get
information coming back about the
requests that we can pretty print out
here you can see that we have custom law
custom logging coming through that has
our own tags associated with it that
would unfold if it were actually JSON
you get has some some internal logging
events from happy and the same type of
response payload stuff this isn't
necessarily meant to replace your your
network panel and the in the debug tools
but it can really be helpful if you're
just trying to get to the bottom of
where request is why you're getting 404
is on a certain endpoint and you know
really being able to look at this stuff
without having to you know ask for
console ass access to the server or you
know being able having to go and tail a
log file or constantly bug an API
developer about like hey why is this
thing not working when I try this it
gives you everything that you need to do
and you can copy to your clipboard and
do things like like filters so if we
just want to see the API requests or we
just want to see the 404 and all that
good stuff so and since it's using a
WebSocket connection okay there it is
since using a WebSocket connection that
you know we can pump a bunch of a bunch
of requests into it at the same time and
see them and see them just just fly in I
tried it with with 50,000 requests the
other day and it gets a little slow if
you're sending like 50,000 requests over
a be
but it is a web page so you can just
refresh it and blows the cash away and
stuff like that so so yeah this is a
currently work in progress we've up
their primary development work on it and
we're going to be just going through
some code review and then getting it
getting it landed in the in the main
module of TV right now it's just a fork
on the quick left account but but yes so
this is uh thanks for letting me come up
here and talk about TV and yeah I'll be
happy to take any questions in the next
break</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>