<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Marius Gundersen: A comparison of the two-way binding in AngularJS, EmberJS and KnockoutJS | Coder Coacher - Coaching Coders</title><meta content="Marius Gundersen: A comparison of the two-way binding in AngularJS, EmberJS and KnockoutJS - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Marius Gundersen: A comparison of the two-way binding in AngularJS, EmberJS and KnockoutJS</b></h2><h5 class="post__date">2013-10-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/mVjpwia1YN4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">you
welcome to this talk about two-way
bindings where we'll compare angular
ember and knockout Jes and my name is
Mauricio Anderson I work for as a
front-end consultant for a company in
Norway called cyber and if you want to
get touch with me
you should probably contact me through
Twitter so two-way bindings raise your
hand if you work with two bindings
before yeah that's quite a lot of you
which is impressive when you consider
that two-year bindings the word didn't
exist six years ago this is the Google
search trends for two-way bindings and
so in 2007 Microsoft is who developed
this stuff and they developed it for
civil light and it's so it's only in the
last two years or so that we have access
to it in in front end with JavaScript
and in the Java world to it binding is
used to connect HTML and JavaScript
together so this means that when the
user interacts with the Dom and
something changes there the change is
automatically reflected into the
JavaScript model and if you do something
to the rascal model the change is
automatically reflected back into the
Dom so the way this is usually coded is
with a declarative binding like this one
here we say that we want to bind this
input element to the message over here
and so when the user starts typing
something here you notice that the the
text figure the Dom automatically
updates with the correct text but so
does the JavaScript and if you save what
the registry the object should be like
then the Dom automatically changes back
now quickly before we move on this this
is all I'm going to say like the
introduction stuff this is not a
tutorial or introduction to tier
bindings or to any of the two-way
binding libraries that we're going to
look at there's plenty of tutorials and
good documentation for all three of them
online so if you're interested in any of
them you should go online have a look at
it
that also means I'm going to skip some
details so if you are familiar with them
you might notice that I skipped over
some slightly important details that's
because I'm interested in how they're
working not how to use them and
the ones we're going to look at today
are angularjs and bjs and knock out
excellent okay then we'll start with
knockouts and I think we're gonna start
with a syntax so this is the syntax for
a knockout it's pretty similar to what
we saw earlier we say that we want to
data bind the text of this van to the
message and so here you can see the
result of that we could do a similar
thing with an input field so we say able
to bind the value of this input to the
same message and so when you change the
value of the input field the span
automatically changes and now for this
to work we also need some JavaScript and
so this is how you do it in knockout you
create an observable variable and this
actually returns the function you can
call this function with one argument or
zero argument if you call it with one
argument then you're going to set the
value and you notice that the preview up
in the right corner automatically
changed instantly and you can call it
with no arguments just to get the
current value so now we have with
knockout you have the ability to read
and write the message from the HTML have
every possibility to read them write it
from JavaScript we give a similar thing
with amber amber doesn't use HTML you
just handlebars instead which means that
it simplifies things quite a bit
when you just want to output message all
you have to do is wrap it in two curly
braces now to input an element you need
to use the Ember text field and then you
have to specify the value binding
slightly more text but you get the same
result if I can spell correctly em down
the JavaScript side things are slightly
different we need to create an ember
object and then anything inside the
Enbridge object can't be bound to the
HTML and so if you want to set the
message from JavaScript we use the set
method on that email object and again
you saw that the preview up here
instantly updated and we can get the
current value using the gap method so a
knockout and amber slightly different in
syntax but they have exactly the same
functionality
so let me have angularjs angry kinda
takes the best of both worlds so uses
the curly braces from ember but it uses
the normal interpret field from angular
and from a knockout and so we have again
the same function out there and on the
JavaScript side angler uses completely
normal objects and it uses an object
called scope and any property on the
scope can be bound to the HTML when you
want to set it all you do is set it like
any other normal javascript object but
notice that nothing happened up here in
the preview because after this you need
to call the apply function that's when
something happens now if you program
with knockout with a angler before then
you probably don't always call the apply
function because angular is pretty
clever about calling it for you but it
still needs to be done so what's going
on with this apply function well when
you just set the message angler has no
idea exactly what you've done you could
have done anything to the scope so the
way it does this is that you loop
through every property in scope and it
sees if it has changed and if it has
changed that's what it updates Dom and
then it saves the new value so it has
something to compare against the next
time the scope changes this skin has
this is what's called dirty checking so
yeah you check which elements on the
scope object which are dirty this kind
of some kind of strange side effect so
here we have a text and when it whoops
100 some text you see that the preview
on top changed instantly now we're going
to add 5,000 elements to the list on the
scope and yep there we go they're all
down here now this should have changed
anything for text but if I now type
something notice how much slower it is
so just because we added a lot of stuff
to scope angular is suddenly slower at
rendering your application and working
through it that's because when you
change the text field angler doesn't
know that he has to check every one of
the 5,000 elements to see if any of
those have chain
it has to do that for every time you
change anything now amber doesn't have
this problem number we can whoops we can
do some text and then we can add 5,000
items and yes there we go awesome yep
and still things are working perfectly
that's because every keeps track of
dependencies so it knows that when you
change the text that's what happened it
doesn't need to check any of the 5,000
elements and it's the same story for
knockout actually so yep entering some
text adding 5,000 items there you go and
just as quick as it was before
so to summarize amber and knockout the
use of several properties while angular
uses dirty-checking and that comes with
some unfortunate side effects now as you
quite noticed amber is a bit slower at
rending the 5,000 items than the other
two and so I ran the experiment several
times to find out like what performance
was for different number of items and as
you can see amber is quite a lot slower
than angular so we can't just say that
dirty-checking is low it it's slow in
some situations but it's really fast at
rendering 5,000 items because you don't
have to set up all the dependencies and
observables that Amber and not have to
do let's also go back to the knockout
example we had and notice that the code
I ran here is slightly different from
the other ones here I'm creating a
temporary array and pushing into it and
then updating the list afterwards if we
use the same code as the other ones did
loading through 5,000 items and pushing
them let me execute this things are
going to get a bit slower and so what's
happening now is that you're pushing
5,000 5,000 times and so the list
property is going to update 5,000 times
and yes any time now
yep taking time taking time yeah okay
yeah you can probably see that it's
quite slow yes there we go let's just
refresh it because I don't know what
happened now yes
so not actually crashed when I did that
oh there we go
yes stop it and refresh so what happened
here is that when we push the five
thousand items no car goes ahead and
renders this to the output right away
and in many place the Dom for every one
of those pushes and that's very very
slow now ember is quite clever about
this and so when you push the items it
set a time out at any weights so it's
okay yeah you push that item I'm gonna
wait for milliseconds and see what else
you're going to do so you keep pushing
items it just says okay I'll wait I'll
deal with this later and then four
milliseconds later that's when it
figures out what it needs to render and
so it only has to do one rendering now
angular is the same thing as we saw
because it uses the apply function so
nothing actually happens until the apply
method is called that's when it renders
stuff in other words angular and ember
uses asynchronous rendering while
knockout uses synchronous rendering and
that can be quite slow in some
situations now let's have a look at
computer properties this is what makes
the tuam bindings really really cool and
we're gonna look at an example where we
convert Celsius temperatures to
Fahrenheit temperatures so you can do
that with this function or this formula
which in JavaScript looks like this now
if you do this in JavaScript then we're
going to get a value F which is like the
Fernet value of the current Celsius
value but if it change Celsius nothing's
going to change for the Fernet we need
to recompute it again but with computer
properties that's going to happen
automatically so whenever this tells
this changes the Fernet automatically
changes and this makes it really cool
when you want to I make front-end
applications things instantly change
and you can do computer functions on
those now angler uses this scope and we
just define a function on it which looks
quite similar to what we had just now
the basic code but remember angler uses
dirty-checking
so it doesn't know that the function f
depends on frankly on the scope at the
scene so what's going to happen is that
it's going to recompute this function
whenever anything in the scope changes
and that's kind of a waste of time if
you have a big big scope and lots of
objects then this function is going to
run anytime anything changes it's not
useful at all ember this is the Ember
example and so far it looks pretty much
the same you just use the Ember syntax
to get the current C value instead of
the instead of the angular version but
you need to add a dot property at the
end and this says that this function
depends on value C so now amber knows
that it only needs to run this function
when C changes and so you don't have the
problem that's anger had but we can
create an example where amber kind of
struggles so this is a very simple
example where if a is true then this one
is going to return B and if a is false
it's going to return to C and we
specified at the bottom that depends on
a B and C and so when any of these
properties change then it's going to
recompute itself but now we have the
problem that if a is true and C changes
it's still going to recompute itself
it's going to return the same value last
time because neither A or B which is
what's in the execution path has changed
so it we can we can say what the
dependences are on but dependency
dependencies are all fixed and it's
going to depend on those for the
continuation of the program so then we
have knockout this is the knockout
example what we have to do here is say
that we want to see value I'm used to at
they get durable version of calling the
C observable without any parameters and
if you take the example we had with
ember then no cat doesn't struggle with
this no cut knows that our never it
every time you run the computed function
it sees which once you
going to which have been used so in
Russell is code and it says okay you got
the value of a and I'm going to note
that down that I need to depend on a and
then I return B and I'm going to note on
I take it that I depend on B so next
time is going to listen for a and B
changes and it doesn't care about C and
if it changes then it's going to depend
on a and C and so we have that angularjs
doesn't really have computer properties
but amber and na car does and every no
card is the only one that has the
dynamic dependencies where the
dependencies can change during runtime
oops okay so to summarize this we looked
at the syntax today and the syntax are
quite different between the different
languages and we looked at dirty
checking versus observable properties
and we found that 30 taking isn't such a
good idea
observable properties are a lot more
advanced a lot better to use dem looked
at synchronous versus asynchronous code
I may solve it a knockout example which
crashed that synchronous code isn't a
good idea
asynchronous it's a lot better and then
we compared the computer properties in
the different ones and we've looked a
bit about performance and so many of you
probably wondering ok so which one is
the fastest which one is the slowest
well we saw that ember is very slow at
rendering lists wizard angler is slow
when a model grows and we sort of
knockout is slow when we pushed many
items so none of them are actually fast
enough actually slow they all have
strengths and weaknesses and well yeah
that's the end of the presentation thank
you
the conclusion is we're all screwed yes
we have a few minutes 11 o'clock we're
taking a break until 11:15 where we're
gonna have young crew Tish come in and I
hope I said that right javascript
patterns for contemporary dance music
which sounds funky do you guys if you
have any questions we could throw some
up here question round yeah if anyone
have questions no yes there's a question
over there yeah I can give you a mic
what do you think the the new kind of
what they called like property syntax do
you think that'll make a difference when
you're the library's new property syntax
so you've been able to define a property
that has a getter and a setter yes okay
so yeah I wanted to discuss that but I
skipped it and yeah so the problem with
that is that Internet Explorer 8 doesn't
support it so if you want to make a
library that supports in Explorer 8
you can't use it so unfortunately now on
that in the next version of JavaScript
es6 there's going to be observable
properties built into the language we're
going to solve many of these problems
just right away so yeah do we have any
other questions yes the question was do
you look at two-way binding and polymer
or haven't looked at it no I haven't had
time to do that I have to look at two
binding in ds3 and that's more than
enough for now I'm probably going to
look at others as well and see how they
compare yeah but yeah I think that's
very important I think in polymer or in
web components especially we need to
have some way of - a binding using just
finding in an object and attaching event
listeners to it is not a good idea
yep more questions
oh we're your examples based on
production experience or just
experiments that you did some of them
are based on production experience yes
so but but if all these exams are showed
where things fail there are ways to work
around it and so like for example there
the knockout you saw that it was a
different way to do it with ember the
list is slow though you can create your
own for each loops and just look at what
you're interested in and yeah so all of
them have ways to work around these
issues so maybe you could use all three
frameworks at the same time just have no
idea we have one more question okay do
you have any experience with
synchronization data models between
client side and server side to have the
same data models rested in if we can
have because we can share the same data
models on the server and a client side
to manage manage it only at one place
yeah that's yeah that's interesting I
haven't actually looked at anything like
that or not something similar to this
there's something called pouch DB which
is probably the closest thing you can
get which is a database you have on the
client and on the server and you
synchronize them that's probably the
closest thing you can get to that yeah
cool okay
thanks thank you all right see you guys
at 11:15
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>