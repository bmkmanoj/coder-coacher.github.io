<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Anjana Vakil: Learning Functional Programming with JavaScript - JSUnconf 2016 | Coder Coacher - Coaching Coders</title><meta content="Anjana Vakil: Learning Functional Programming with JavaScript - JSUnconf 2016 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Anjana Vakil: Learning Functional Programming with JavaScript - JSUnconf 2016</b></h2><h5 class="post__date">2016-06-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/e-5obm1G_FY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi first of all I just want to give a
big shout out to the organizers of this
conference I feel like this has been a
fantastic smooth experience from start
to finish so amazing job um hi I'm Angie
novenky
I am an English teacher turned
computational linguist turned software
developer and as I mentioned a little
bit earlier today about six months ago I
knew nothing about functional
programming and very little about
JavaScript so what I want to do today is
kind of take you guys along on some of
the things I've learned about doing
functional programming in JavaScript and
I am NOT an expert in any of this so
this is going to be me taking you along
on my learning journey and nothing more
I'm going to try and save a little time
for questions at the end but we'll see
how that turns out so how did I end up
standing here talking to you guys about
functional programming in JavaScript
about six months ago in the fall of 2015
I went to a programming community in New
York City called the recurse Center
which quick plug is probably the best
programming community I've ever
experienced and it's a programming
retreat where you can go and learn about
whatever is interesting to you in the
world of computer science and so I got
there and a lot of people were talking
about functional programming functional
programming Haskell closure all this
cool stuff a lot of people were working
in JavaScript getting into node and
these were some really interesting
topics and so I started talking to
people there and finding out what is all
this stuff so what is functional
programming a few different ways that
question can be answered first of all
it's a programming paradigm some other
paradigms are like imperative
programming where you say do this and
then do that or object-oriented
programming which maybe a lot of you
write object-oriented JavaScript where
you have objects and they have methods
on them and
and you change them etc etc functional
programming is also a paradigm where
functions are king and we'll talk about
what that means in a little bit it's
also a style of coding of organizing
your code writing your code style of
approaching projects and really more
than that it's kind of a mindset you can
get into a way of thinking about a
problem a way of approaching a task and
it's also a really sexy trend but lots
of bowed words buzzwords that'll make
you super popular when you're talking
with people at the pre-conference party
or whatever it is no just kidding but it
is something that's gotten a lot of
attention and so yeah I thought it was
important to find out why everybody was
so excited about it
so why do functional programming in
JavaScript specifically well I don't
know about for all of you perhaps more
experienced JavaScript developers but
when I started learning JavaScript
having had some object-oriented
programming experience with Java c-sharp
that kind of thing I found
object-oriented JavaScript super
confusing prototype ol inheritance how
does that work this the this.q how many
of you guys quick show of hands I've
ever run into a bug or a problem or
something unexpected with this doing
something yeah exactly right so I found
that really tricky and confusing and so
I thought all right I well I know I want
to get more into JavaScript but let me
set aside the object orientation and try
to think about things in a functional
way which is maybe simpler in some ways
and avoid some of these problems like
bugs introduced by binding this to the
wrong thing so functional JavaScript to
me at least is a bit safer a bit less
tricky a bit easier to debug but easier
to maintain as you're as you're building
a project and we'll take a look at some
of the features that make that easier
and a bit also there is already a huge
community of developers who are doing
javascript in a functional style so
there's a lot of libraries out there to
help you do to help you write functional
JavaScript there's a lot of people out
there that are experts in this for
example there was a talk in the next
room over earlier
on on Randa there are people here you
can talk to you probably know a lot more
about functional JavaScript than I do
but the point is there's already a
community so this isn't this isn't
necessarily something you'd be doing on
your own grappling you versus JavaScript
there's other people to support you
which I found really helpful okay so
hopefully by now I've convinced you that
functional programming is at least
interesting and that we could do it in
JavaScript to avoid this headaches etc
how can we do it what does it mean this
is what I was asking myself so the main
thing and maybe it sounds like a
tautology or obvious is that in
functional programming you want to do
everything with functions so we want to
express everything in our program in
terms of functions on a function of
course it's just something that takes an
input and gives an output so we want to
be thinking about kind of the flow of
data of inputs and outputs through the
program instead of thinking about
objects and how they interact and how
they manipulate or thinking about steps
in a recipe like in an imperative style
here we're really thinking about how we
can express everything in terms of
functions taking inputs giving outputs
so for example this would be a non
functional way for me to get the text hi
I'm on Jonah to appear on the screen I
could assign a variable call it on Jonah
sorry I call it name and have it store
the text on Jonah I could have a
greeting like hi I'm or hello I'm
whatever and then I could log that to
the console this is sort of an
imperative style first do this then do
that then do this other thing
we don't have functions here we're not
expressing this in terms of how inputs
are transformed into outputs so maybe a
more functional way of doing the same
thing and this is a really simple
example just for the sake of it is to
define a function called greet which
takes a parameter name and returns a
string which adds hi I'm to that the
beginning of that name so for example if
I type greet the string on Jonah a
feeding that as input then I get the
output hi I'm on tuna that's a more
functional way expressing this in terms
of functions
okay so another maybe the main thing
about functional programming is to avoid
side effects and instead to use pure
functions so what does that mean a side
effect is anything that a function might
do that isn't computing its output from
the inputs you've given and returning
that output so for example printing
something to the console is not
returning an output it's doing something
else something that's on the side of the
function or if you are reading in if
you're if you have a function that uses
some globally defined variable to
compute its output that doesn't depend
only on the input to that function so
that's not pure it's taking something
from outside the function and involving
it in some way and what the function
does so this is just a really quick
explanation of what a pure function that
avoids side-effects would do for more
information on that there's excellent
Wikipedia articles these sort of things
but basically the idea is that you want
your function to do nothing except take
its input use that and only that to
compute an output and then return it
that's pure so for example this function
here we have this globally defined
variable name which gets used in the
function as you can see in the last line
there it gets used so that there's no
input we don't have name as an argument
to this function it's just reading
something in from the global state
that's not pure also not pure because
the return value of this function here
isn't what we care about we care about
doing something changing the world in
some way other than the return value in
this case printing to the console so
this is a not pure function here a pure
function might look like this here we
have the only thing that matters to the
output of this function is its input the
the parameter name of the argument that
we pass to it and the only thing that it
does is return its output okay so I've
been talking for a while now about pure
functions that's because this is really
like a key thing at least for me
something I've taken
is one of the key parts of functional
programming is thinking about things as
purely as possible another key point
would be using higher-order functions so
this means functions that can take as
inputs other functions or a function
that can return a function as its output
so basically we're treating functions
kind of as objects themselves they they
can be passed to other functions you can
have layers functions within functions
within functions etc and these are
what's called higher-order functions
they come up a lot in functional
programming this is a bit of a random
example but let's say we have this
function at the top here make adjective
fire where we give it an adjective and
it returns actually a function it
doesn't return a string or a number or
anything like that it returns us a
function which adds that adjective to a
string that you give it so for example I
can use the make adjective fire function
feed it the input cool and get a
function that's called Kula fire so now
when I pass a string to Kula fire I get
cool added to that string so if I pass
conference I get cool conference so the
idea here is that we have a first order
a higher-order function which returns a
function and this kind of gate wrapping
your head around this at least for me is
one of the key things to being able to
write in a functional style because as
we'll see a bit later we need these
higher-order functions in order to avoid
some of the the tricks that we're used
to using from other paradigms so
learning the thing to get into that
functional mindset for me really
involved wrapping my head around this
concept ok so one of these things that
we're going to avoid that we're used to
doing is iterating using like for or
while these sort of things we're used to
going over lists and doing things to all
the items in it instead in a functional
style we might use higher-order
functions like map or reduce or filter
which often take as an input not only
the list that you want to do something
to in some way
but also a function that then you're
going to apply to it in the interest of
time I'm not going to go into too much
detail about what Map Reduce and filter
do but I found and also thanks to my
colleague Khalid up there a really cool
graphic that I think expresses have
introduced pretty well maybe you guys
have seen it before the Map Reduce
sandwich everyone so the idea here is
that let's say you have a list in this
case a bunch of vegetables they're whole
vegetables we got some bread in there
too and we want to transform that data
in some way so for example let's say we
want to slice that data and we have a
function slice up or cut up or chop
which we can apply to each item in that
list now usually I would do for
vegetable in sandwich ingredients do all
of this do all this chopping but in a
functional style we'd use map give it
the list of ingredients and give it the
function chop and I would get out a new
list where everything has been chopped
then we have a reduce function which
takes which which basically combines all
of the items in a list in a certain way
in this case layering to make a
delicious sandwich and filter let's say
could be if you hate cucumbers you could
have a filter function which makes sure
that only things that are not cucumbers
get through the filter so these are the
ways we use these higher-order functions
to get around the type of for or while
iteration that we're used to doing in
functional programming instead we're
going to feed functions to higher-order
functions like MapReduce and filter to
get the sandwich that we want and again
this is not a not intended to be a
totally clear explanation of how
MapReduce and filter work but there's
plenty of information on that online the
idea is that we want to use these
instead of four so another thing that we
want to do is we want to avoid mutating
data avoid immutability mutation in the
sense I just mean changing objects in
place so when we have something that's
immutable maybe I'm sure a lot of you
guys are familiar with the term it's
something data that can't be changed in
place we can't once we've said it it's
there forever it's never going to change
so let's take a look at an example just
because for me this was another thing
that required a little head wrapping so
this would be an example of mutation
which is non-functional we have a room's
variable which stores a list of h1 h2
and h3
because that's what we thought the rooms
were at least that's what I thought the
relevant rooms were and then we say no
no no actually it's not age 3 its age 4
so let's replace the thing at index 2 in
in rooms with h4 and so then we have
rooms has actually changed
we went from h1 h2 h3 2 h 1 h 2 h 4 so
that is is still stored in the variable
rooms but we've actually changed
something in place and this is something
that functional programming avoids
because this can cause a lot of problems
and this is part of the reason why we
get into trouble with this and with
these sort of object oriented approaches
sometimes you can change things in a way
that you didn't intend so that what you
thought you were dealing with if I
thought that rooms meant H 1 H 2 H 3 and
I didn't know that somewhere else in my
code I had replaced something in the
rooms array I could have run run into
trouble I could I could end up
introducing bugs into my code and having
a really hard time tracking them down
because rooms here is the right thing
rooms there is the wrong thing ah what
happened where did this go wrong oh my
god you end up crying in front of your
computer no just me no so a better way
to go about things is to think of all
data as immutable never changing for
example with no mutation we still have
our rooms which has the the wrong h1 h2
h3 but instead of changing it in place
I'm going to make a new rooms array
using this map function that we talked
about a little bit earlier where I'm
mapping I'm feeding a function into this
a map which looks at each room in the
list and if it's a ch3 oops I have a
missing equal sign there last-minute
slides if the room is a ch3 it returns a
ch4 instead of a ch3 otherwise it
returns whatever the room was okay
understanding this specific example is
not crucial but the point is that once I
have done once I've assigned this new
room's variable new rooms has the
correct that the values I expect H 1 H 2
and H 4 but rooms is the same as it
always was it hasn't changed at all so
this is thinking about rooms as being
immutable we're not changing it and
that's something that's really important
for functional programming because as I
said it helps you avoid a lot of
headaches a lot of bugs so how much time
do I have
okay good we have a little time to talk
about persistent data structures yeah
the problem with immutability is that
when you have when you're treating
arrays and things like that as immutable
what you end up doing is making new
copies of everything so if I want to
change my one room in this list I have
to make a whole new array and when
you're dealing with short little things
like this maybe that's not a big deal
but as your objects get bigger more
complex this can give you efficiency
problems because if you have to copy
over everything even the things that
didn't change every time you make one
little adjustment and you want to make a
new copy a slightly different copy of
your array you end up it takes you a lot
of time you have to go through
everything in the list to copy it over
you end up using a lot of space that
maybe once the objects start getting
bigger and bigger becomes a problem and
so one thing that's very popular in the
functional world as a way of getting
around these efficiency issues is to use
persistent data structures this was
something introduced sort of
theoretically by phil Bagwell he wrote a
paper called ideal hash trees I can put
a link in the slide so that later and
then rich Hickey who invented the
language closure implemented the
data structures using Bagwell's ideas to
make Clojure really efficient for these
immutable data structures and for these
functional operations okay so the way
persistent data structures work if I may
if you will indulge me I'm going to step
back to the chalkboard right here we're
getting retro yeah it's happening oh
okay so if we have like an array where
we had h1 h2 h3 typically what I do in a
mutable world is just get rid of this
and replace it with h4 but as we said we
want to avoid that so instead if I copy
it over into a new array
I copy h1 I copy h2 and I replace
instead of copying h3 I put in h4 great
but now I have to store two arrays
taking up a lot of time look how long
that took me to do all of that terrible
right I know you guys feel as upset
about this as I do I can see it in your
faces what if instead we represented
this array right here as a treat such
that each leaf node of the tree is one
of the things that I'm trying to store
or perhaps two of the things or three or
32 or some number of the things and if I
want to change something I don't need to
replace the entire array I can just make
a new node over here like h4 and now I
can make a new tree which instead of
repeating h1 and h2 I can reuse those
same things and just make a new node
which connect them to my new element
over here so that now I have here a data
structure which contains H 1 H 2 and H 4
but I didn't need to make a whole new
thing I just needed to make my
little one little part I can reuse the
old structure of the list so this this
idea this sort of topic is called
structural sharing because we can share
parts of the old versions with the new
versions so we have much more efficient
operations for adding changing things or
moving things from from vectors for
example or arrays and this can also be
done for maps for hash maps that sort of
thing and it basically makes the world
of functional programming bust wide open
so that we don't have to go through
these long time and expensive space
operations to update our immutable data
all the time
so to do this in JavaScript there are a
couple of libraries that are really
popular one which I like to use is
called Mori which I'll show you the link
for in a little bit which actually uses
clojurescript which has these type of
data structures natively it ports them
over to JavaScript so you can use them
right from JavaScript and it's great it
has a lot of also like general
functional programming helpers like map
and reduce and lots of other things
there's also another popular library
called a mutable Jas which Facebook put
out which is JavaScript through and
through I haven't worked as much with
that but I know a lot of people like
that as well and yeah so these are ways
you can try out using these immutable
data structures if that is something you
feel like you can't wait to do now I
know I can just feel the excitement
yeah that's great ok moving on umm if
you're ready to try it out like I said
we have Mori and immutable Jas links
there to those libraries there's also a
lot of utility libraries which don't
focus so much on this persistent data
structure thing but also but but instead
give you a lot of helper functions like
mat excuse me Map Reduce etc so
underscore lodash for example today I
found out that Ram de is a thing because
there was a talk on it the other day and
there are many more and in fact
JavaScript has some built-in functions
like for example arrays have a built in
Map Reduce
and so a few slides ago we saw this
room's dot map that's because the
array.prototype has these functions Map
Reduce etc so you can even you do some
functional programming in pure vanilla
JavaScript without using any of these
libraries okay so if you are sitting
there thinking what I didn't really get
that something about mutability side
effects pure functions what now huh if
you want to learn a bit more about all
these buzzwords like I said all these 60
buzzwords that I've been throwing at you
for the last 20 minutes I highly
recommend a nice gentle introductory
article called an introduction to
functional programming by Mary Rose cook
who is a former facilitator at the
recurse Center that I keep talking about
the link is is up there but basically
this is a this is a really nice
introduction that kind of goes into a
little bit more depth in some of the
commandments of functional programming
that I've mentioned today so if you are
a little intrigued but not quite clear
on all these this stuff that I've been
mentioning I highly recommend you check
it out so I think that's it for my talk
I'll we have a couple of minutes for
questions I suppose eight minutes by my
account and but first of all I just
wanted to say thank you guys very much
I'm an Jenna vecchio engine of Aquila on
Twitter and has linked there to my
github so would love to keep in touch if
you if anybody else is out there also
learning functional JavaScript as a
newbie like myself definitely reach out
we could stick together but first of all
I want to give a huge thanks to again
the JSON conf
organizers especially the diversity
sponsors I'm here on a diversity ticket
myself wouldn't have been able to come
without that awesome program and all of
you and and the sponsors who sponsored
those tickets and also a huge huge thank
you to the recurse Center and some of
the alumni there who have helped me
learn all this stuff including khalid at
the back there and sal becker another
alum who explained a lot of this stuff
to me over several long caffeine-fueled
conversations at the recurse center and
if any of you are interested
and spending time on self-directed
educational programming retreat in New
York City definitely check out recurse
comm it's an amazing community okay
that's it for me
I'll be able to answer them but I can
try yeah so I think that's a great
question and it kind of gets into a
little bit of the what I think of as
kind of the philosophy of programming
paradigms so as I was learning about
functional programming I started even
wondering what is a programming paradigm
and why do people fight about them why
do people say object orientation socks
we have to do everything functional and
why do people say no functional
programming sucks we need object
orientation and the conclusion that I
came to is that no one paradigm is
better or worse than other paradigms
they just have different advantages and
disadvantages and they have different
situations in which they're going to be
kind of the best tool for that
particular problem so for example if you
just want to really quickly write up a
script that just does something on your
computer once really fast you're
probably just going to do it in an
imperative style do this then do that
then do the other thing if you don't
need to maintain it if you just need it
to happen right there imperative
programming is a totally legit paradigm
for that if you're trying to model real
world objects and how they interact and
how they go around and things you can do
like if you're trying to model I don't
know books in a library or classes with
teachers and students and how they all
interrelate that sort of thing maybe
thinking about it in an object-oriented
way makes most sense because that's
exactly the problem you're trying to
solve is modeling objects and that's why
that paradigm came
about but if you're trying to avoid some
of those problems that I was talking
about when you have maybe a situation
that doesn't actually refer to
real-world objects where you're using
objects just because you have to and
that's introducing all kinds of side
effects and weird bugs that are hard to
track down maybe you want to consider
thinking about it in terms of functions
on your data and things being pipelined
through multiple functions and
undergoing various transformations not
in the sense that the data is being
mutated but in the sense that we're
getting new outputs and based on old
inputs then functional programming is
probably the way to go and it has a lot
of advantages such as being nicely you
can break things down into small
functions that only do one thing so if
you want to change something you don't
have to change an entire class structure
you can just change the one little
function that does the thing you want to
change so I think it's just uh it has
advantages it has disadvantages I
definitely wouldn't say it's better than
object orientation in all cases and I
definitely wouldn't say object
orientation is better in all cases
either it really depends on your
situation I used to be a philosophy
major so that might be what
you mentioned function and function is
not working
so do you mix it before I come from
object-oriented programming side and not
so much into International promise are
we really just test our functions and
can buy the currency that the function
could possibly introduce non-blocking
and concurrency and promises are all
things that I do not feel qualified to
talk about right here I would love to
turn that question over to the audience
so anybody want to respond fight fight
fight
just kidding just kidding just kidding
that would be against the code of
conduct you guys I would also submit
guests looking but we can discuss this
later
for the conversation starter question
though excellent question and I would
love to know the answer look forward to
talking you guys love it um I guess wait
there is that the talks of the big dogs
now thank you thank you
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>