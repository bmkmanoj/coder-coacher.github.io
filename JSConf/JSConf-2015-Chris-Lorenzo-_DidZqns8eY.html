<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>JSConf 2015   Chris Lorenzo | Coder Coacher - Coaching Coders</title><meta content="JSConf 2015   Chris Lorenzo - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>JSConf 2015   Chris Lorenzo</b></h2><h5 class="post__date">2015-09-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/_DidZqns8eY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi everyone so again this is polymer the
future of web components a little bit
about myself I've been at comcast for
about eight years now this is my family
we got my wife Sondra in the middle my
son feel and then we also have to
international students Max and Abby
they're great so at my eight years at
comcast I've worked on Xfinity TV which
is bringing premium content onto the web
and I say premium content so HBO
Showtime stars Cinemax we were the first
to actually allow you to watch that on
the web because there's a lot of
security that's involved and more than
that just getting permission from the
HBO and Showtime to be able to do that
is a pain in the butt I've also made a
TV grid twice you know you got to put
the twice in there once for xfinity TV
and once for X tv.com cast net which is
the future site of xfinity TV and I
currently work on Xfinity home for
comcast which is the security product
and we'll talk about that more towards
the end so quick survey how many people
in the audience raise your hand if
you've heard of web components before
great how many people have used web
components okay how many people have
heard of polymer probably because of the
talk you know how many people have used
polymer okay quite a few so again my
talk is polymer the future of web
components and I italicized the word
future because in order to talk about
the future you first have to talk about
the past that's kind of like the rule so
HTML was originally created by Sir Tim
berners-lee in 1989 and yes that
searcher Tim berners-lee not al gore and
the original purpose for HTML was to
share research documents as quickly as
possible right they wanted to publish
information to as many scientists and
get it out in the rest of the world as
soon as they could and it worked great
for that reason and for anybody who
didn't do the math 1989 that's 80s
themed the convention here that's over
25 years ago so if you were born in the
80s you are probably about 25 years old
or older
this was the oldest screenshot that I
could find online that was available for
commercial use and this was in 2004 this
photo and this shows Mozilla before it
was Firefox going down memory lane and
next door next to it is netscape
navigator and if we look back at what
the web was like this is 11 years ago it
was very flat it was just sharing
information and it had links and simple
images and just leave you more reference
Java appeared in 1995 so that's like
five years later java's pretty old HTML
is much older and if you look at the
last couple years what we've been trying
to do with HTML is build rich Internet
applications at comcast we've been
building xfinity TV like show this
earlier today but this is a place that
you can actually go online and view what
has been recorded on your set-top box so
we have this new x1 platform you record
a show you can go online you can
actually view that show that you record
on your box on your web browser on your
android on your iOS on whatever device
this is actual shows that are on my sec
top box mostly my wife's stuff so but
you know what we want to do is we want
to take a closer look at this and if we
look at the mark-up of this it's still
using HTML html5 tags sections your divs
you know everything is just divs and if
we look a little closer this is what we
call an ex TV poster or poster art and
it's just the picture of the show and
there's a list item which describes the
carousel that's here and then we have a
button the main image poster I believe
is the button so that you can click on
it and it zooms in and then you can
watch it or you could click options and
it's just using your HTML markup that
was originally written for articles and
the problem is like even with html5 the
new tags that we got were headers
footers asides and it's still base for
like WordPress and publishing
information and not really for rich
Internet applications so this was a term
divin itís which I've actually heard
like five years ago actually maybe even
older than that
which is in order to solve things you
just basically add more and more divs to
the page and it gets confusing and the
question that we want to ask is what if
we could change our markup to be X TV
carousel and we create an X TV poster
and we just give it the program ID we
put the relevant information into there
and that would become our markup and
what you get is you get a lot simpler
markup easier to read through and you
get reuse you know rather than having L
eyes buttons divs and all this
additional markup it's much smaller
Dom's too and essentially you're
creating building blocks you're creating
your own HTML markup that you can create
just a tangent whenever you do
presentations you actually have to use
commercially available pictures and I
had all these other photos in there and
I sent it to the review board and they
were like you can't use any of those
photos so my wife she's really great
with a camera and we have these blocks
that my son uses now so we got to use
those and so this leads us into web
components web components are they don't
really there's no spec for web
components is actually four different
specs that make up web components and
that's templates HTML imports shadow DOM
and custom elements and we're going to
look into them each individually in
order to do that I have enlisted a
helper this is my son again I'm proud
father he's one he's really adorable
she's painting the bud at bedtime other
than bedtime he's the cutest thing ever
so the first thing we want to look at is
templates this is jsfiddle for anybody
who's not familiar with it you put HTML
here you put JavaScript here any CSS
that you want here and this is the
output on the bottom right template tags
let you put mark up into the Dom which
is parsed by the browser oh yeah so it's
put into the browser wait I'm back in
full screen go back into full screen
it's put in the browser but the browser
parses it but ignores it so any image
tags that you have in a template any
script tags that you have in their
browser completely ignores it except
it parses it so that it knows what the
Dom content is and the only way to
access it is through JavaScript so you
have to select the template you get the
content from the template tag and then
you can put it into the DOM and when we
do that we get a pitcher so that's
templates and right now you're probably
thinking well that's great like what do
you do with templates and it's just
another building block that is really
not that awesome by itself but when you
put all the specs together you get
something awesome from it so looking at
HTML imports again by itself not that
great but it's the same thing as like
including a remote java script tag or a
CSS tag you do the same thing with HTML
you create an HTML file which just has
this template tag in there that I
commented out and now I imported it I
can get that link tag I can find the
content in that link tag I can select it
and I can put on the page the same way I
did before and leading into the next
slide we're going to talk about in the
page here I have a style color red for
my h3 tags and the template tag has
color blue and when I imported this into
the Dom the problem is that it overrode
the styles that I currently have on the
page so this h3 tag should actually read
but since the template i got inserted
into the dom it then read that style and
applied it so it made it everything blue
beige this one which leads us into the
shadow Dom shadow Dom gives you the
ability to take an element on the page
such as this div tag select it and then
create a shadow root on that Dom element
and the shadow root the shadow root is
basically its own little world inside of
that Dom element that you can add
content into that shadow root and the
styles will not bleed out to the rest of
the page this is really great for
reusing HTML snippets so here we see
that the blue tag that was in that
template is applied just to this
tag and finally to bring it all together
we have custom elements this allows you
to create the Theo rocks HTML tag that
better I'll leave make it super huge so
here what we did is we use the template
tag but we're going to create a custom
element in order to do that you call
object.create with the HTML prototype
that's standard and then you get these
created callbacks attached call backs
detach callbacks and attribute change
callbacks that's all part of the spec so
as soon as this tag is read by the
browser or on the dominant and yeah read
by the browser it calls the created
callback which will create a shadow root
for it and insert the template onto the
page and now we have our markup here and
just to show you this working we can
take the Theo rocks tag we can put it on
there multiple times Run it now we have
an exact duplicate of the Theo rocks tag
pretty cool so I actually have a couple
examples of this which is great to make
it a little bit more useful you know now
I'm going to do the Theo rocks tag I'm
going to add a source attribute to it
and so what will happen now I think I'm
big enough right is on the created call
back I'm going to get the image tag I'm
going to set the source equal to the
attribute on the Theo rocks element and
then I'm going to append it to the Dom
so now for each Theo rocks I can have a
different image on that tag yeah I
really like to show off the oh he's a
really cute helps a lot and lastly you
know this is just showing that custom
elements are just like any other HTML
elements out there you can add
attributes to them you can put content
inside of the custom L
moments and then any anything that you
put inside of the tag is available in
the template tag and you can select it
using this content selector so this will
actually look for the HTH to tag here
and actually add it in in that specific
spot and anything that's not selected
will go to this fallback content tagged
and this again is just showing the
different stuff that you can do with
custom elements as far as here's our h2
will be put at the top my P tag will go
down the bottom here and then the rest
of the content that's not there goes
down the bottom so that's awesome this
was created by w3c specs Google's been
pushing heavy for this Mozilla has been
pushing for this I hope everybody likes
so far what custom elements can do it's
really great but now you're probably
asking i thought this talk was about
polymer and it is we've been using
polymer project for the last eight
months at comcast we're going to go into
a little bit of what polymer is and I
asked my coworker what is polymer and he
he coined the phrase syntactic sugar
basically on top of custom elements it's
not really trademark but it was pretty
cool and essentially it allows you to do
the same thing just another tangent this
was done in polymer point 5 6 not the
latest point 8 and point 9 which you
have to use a little bit of JavaScript
to define the element but here we're
going to do the same theorist AG create
a polymer element same template tag
inside and now the browser just does it
automatically this is what the polymer
library is doing for us it makes it very
easy to create custom elements with
shadow routes automatically but it also
gives us a lot more than this it gives
us the ability to do data binding so
here I created an array of objects with
just have a different source and a title
tag
and we have a template repeat which will
take the model the Theo array loop
through it and this is automatically
data bound to the source attribute and
the title attribute is databound down
here so it will loop through the array
and print them out one at a time with
the information that I have here and the
other thing that you can do with the
polymer is interaction so here I
combined all the elements into one image
and i set the model equal to just one
Theo here it is here's my polymer
element definition for Theo rocks and i
set the Theo to be data bound to one
index of the array just the first one
and every time we click all it's doing
is updating what the model is pointed to
which since its data bound it's just
going to update the h3 tag here and the
image and every time you click it will
switch the image just by switching the
index in the array which is pretty
simple and here's how you do one click
handlers in polymer so you just tell it
on dash click or one dash tap or on dash
whatever event you want to handle what
function it should call to handle it and
then in the polymer element it will call
this on click function and execute it
and so this X TV carousel is definitely
possible today with web components it's
definitely something that we should be
doing because it's a lot easier to reuse
pieces and it gives us a lot of great
benefits when you can reuse markup in
HTML a lot of things that other
languages take for granted if you've
been using Ruby or node you have package
managers you could just download some
code and rerun it sure we use JavaScript
and CSS all the time one thing that
we're asked all the time at comcast is
hey I want to create a new carousel
right so you want to take carousel from
one site and put on another site and so
the first thing we do as developers is
we go look for that carousel on that
other site we copy the JavaScript for it
and we look at the CSS we try to copy
some of the CSS then we look at the
markup and then we miss one of the
markup and then it's like it's such a
pain in the butt and the big piece here
is the reusability right is that we can
now take something like xdd carousel
drop it on another site and it will just
work the exact same way as it does in
the first site and it's great because
before there was no way to really
repackage HTML Javascript and CSS all
together you could do it one but not all
three together and now there is and why
is this important so the main reason why
it's important that comcast is worried
like I said I worked on the Xfinity home
project and we're building these pieces
this is your arm ability in your home
Xfinity home is a security system so if
anybody has like Brinks home security or
if anybody here has comcast home
security you arm your house when you
leave it has door sensors which sets off
an alarm home security system so what we
built is this is a polymer web component
and we want to be able to take this web
component and drop it onto another site
in the comcast sphere of websites so we
have xfinity com which is the main
portal that a lot of our subscribers go
to we want to be able to take the custom
elements that we built and just put it
right into our website and allow our
customers to use it so wouldn't it be
nice if you just went to the portal and
you can see whether your house is secure
what lights are on
and so that really leads us to rethink
how we do web development and if we take
a look at what Google's been doing
anybody see their material design
they've been spending a lot of time
thinking how do we make responsive web
that looks the same on all different
platforms and on iOS and Android and
even like they're new in box replacement
for gmail has the same header that you
see on your web as you see on your
mobile platform and its really great how
they're they're challenging to be able
to reuse components and at comcast we're
doing the same thing with Xfinity home
so here's my session timeout we'll see
how many people are using Wi-Fi right
now give that a second like I said we
started this project about eight months
ago I'm going to be more than happy to
talk to any bit about this after the
talk if anybody wants to know more about
this project every element on this page
is a polymer element so if we just
inspect this it's kind of interesting to
rethink how we do web development when
everything is a web component or a
polymer element so we have an X H over
your tile arm and the great thing is we
can write this once and if we wanted to
put it on another piece of the site we
could just do it we could just drop that
tag in and it exists and you could use
it in the same way that you could hear
so what we learned we really have to
rethink how we do web development we had
a lot of interesting problems that we
had to solve starting this eight months
ago first thing is like what should be a
web component when you build a whole
site from scratch you're like okay each
page is now a web component so when you
click on overview that actually loads XH
page overview which is a web component
into XH app so this whole app is just X
a chap you can actually drop that tag on
another page and it will render the same
way this does
interesting we had a lot of
philosophical talks about what web
components should be what shouldn't be
there are other problems that you run
into there's no native support for
shadow Dom yet except in chrome and
opera firefox has somewhat native
support for tour I think they're just
putting it in now but then there's all
kinds of bugs with like the host element
and deep selector you're actually able
to set CSS styles to change what the
looks of web components are another
problem we ran into was testing when we
first started this web component tester
did not exist for the polymer library
sweet yet so we were like how do you
test this we tried looking in selenium
and selenium didn't have any support for
shadow Dom yet so we were trying to
click on elements and you just couldn't
access them a lot of fun including a
JavaScript library was a big one moment
jsuis were not using required guess
everybody today just users required yes
and you're going to have a library just
import it and reuse everywhere with this
you actually have to take script tag you
put it in an HTML document that you HTML
import that document it gets loaded once
by the browser and it's in the global
window space so then it can be used by
all web components yet another fun
problem another problem we had was a
logger how do you have one function
shared across all the web components
that exist find interesting solutions
for that and then the vulcanized build
process also wasn't there when we
started and that's just the ability to
take all the web components and the HTML
imports and it parses through all them
and build it into one package so our
whole web site is now like 250 kilobytes
and you download one single file and
that's the whole app it's a single page
app there are a few limitations with
using polymer it's IA 10 and above it
does not work in IE 9 which was fine for
us because we use web sockets and 99
does not natively support web sockets so
we were happy with that that we didn't
have to support IE 9 when we start it
was 0 point 5 6 so our whole app is
written in point 5 6 and since then
their nail at point nine which is a
complete rewrite that we're going to
have to
to migrate over 2.9 because the API is a
lot different but it's ten times faster
or something like that which is great
and we had a lot of fun doing it so
that's it I think I'm out of time I'm
going to be around if anybody wants to
talk more in depth about polymer I hope
you guys enjoyed everything and thank
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>