<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Julian Viereck: Don't dream - make the WebAPI of your dreams become real! | Coder Coacher - Coaching Coders</title><meta content="Julian Viereck: Don't dream - make the WebAPI of your dreams become real! - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Julian Viereck: Don't dream - make the WebAPI of your dreams become real!</b></h2><h5 class="post__date">2012-11-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/cT9f-04K6JI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so this is about don't add the tireless
don't remake the web api of your dreams
become real and people want to talk
about this was what the fresh niggas is
about so um if the thing what is this
this is maybe or if I go too fast please
trim it up because when I'm tired up go
too fast so this is maybe the most
slimmest interpretation of how
JavaScript developer works with a
browser right you have some JavaScript
then you have some kind of black box and
at the end you get some transcript out
again so you call a javascript function
it's awesome magic and your charm script
again and actually the magic in between
your C++ so um how many of you are
transcript developers how many of you
like C++ okay so there's some kind of
tension like I want to live in this
world but it soon it gets you on you
know I just miss one third it's all good
so to wait the water person browser
indirect is this way the developer comes
along and you use this browser it's nice
it has API whatever you can do whatever
and then also developers tend to they
have create ideas so you have the
developer you have an idea and then
there's a browser which is basically
this kind of thing that runs your idea
right but problem is sometimes the idea
doesn't work because there's something
missing and actually that's not good
enough it's it's way hard it's like
you're developing you have the idea and
you hit a wall because you're missing
api's and other things that pretend you
to make your idea happen and that's
pretty sad so am rhein larue had Alex
chairs last week a good thing about the
web and what is capable of and this is
am quoting him if the web doesn't do
something right now it's not because it
can it's not like it's impossible it
just means we haven't gone around doing
it yet so it really means imagine that
web can do everything I mean this is
this Muslim the weapons platform bootie
g Firefox OS thing maybe but also if you
would now be on this auto track web RTC
what's possible there and I really think
that you can do a lot on on the web but
what keeps us back as a developer in
javascript is the c++ thing in the
middle because what actually okay my
slides are wrong order and so because
actually transcript developers are
pretty much open source guys and mostly
if there's some issue or thing they come
up with ideas collaborate and for
transcript that works pretty well and
but for c++ there's some kind of tension
and i skip this iRiver or so the web is
it's this kind of open thing right and
transcript likes open open source whose
of you have been at no.10 copper how was
it awesome okay so note helicopter is
like you trunk controlling em drones
with node with an OpenStack because the
protocol is open so you can control
drone and what that happen is it was
like an event of you where you put all
kind of open source software together so
you have a web sockets you got the web
you got new device api's and then it
started to put in like open em face
detection stuff such drunk and follow
you and so transcript people reaches
hack together whatever to come along and
so and it's also the question so if you
think about web api is if if you have to
transcriptome overs being this kind of
openers Kenny thing of web api is being
some kind of open source that he could
hack as well i mean imagine that that
would be awesome right so this is the
the thing that i wrote for my talk
introduction it's basically person
saying hey you know there's something of
working on the web there's this border I
just draw and I hit it pretty much and I
cannot do anything about it right and
developers is saying yeah you know the
web is open so actually you can change
it and then yeah I cannot fork the web
from github and just change it right and
so but what you can do is you either
jump on his back or you propose some
ideas or what you also can do is you
just grab a browser from github yeah you
implement things there and once it ships
in that browser and it's good auto
browser stopped it becomes back and
everybody's happy so that's what i doing
and love peace and everybody am so sorry
for slightly wrong thing
and so the question might be and should
developers it all makes packs because
that's what it boils down to right if
you want to change things at the end you
got to come up with spec and I think no
developer should not make spec because
writing spec is this kind of putting
natural language in mathematical way
that nobody can misinterpret is it and
it s complicated sounds it is I guess
there are only very few people that has
this kind of crazy mindless where they
understand where there's really small
pitfalls so who of um read the M
scripting specifications or at least
parts of it okay so I kind of go to our
example but basically there if you look
at it things look trivial to you but
it's really like seven or eight steps we
precise defined what's happening you
think yeah come on it doesn't have to be
that way but it turns out if you would
not people would end up in implementing
things differently and that hurts so
Yuri got to be precise and developers as
good a they are then I heard don't have
this kind of madness so but the other
thing is should've watched propose ideas
and that's definitely yes because
developers are two people that interact
which browser all day and they come with
this new kind of ideas from outside some
some let's say agency gets a job and the
person there doesn't know the website it
just want something to happen and he
doesn't care if it's possible or not so
it just thinks out of the brow of the
box then developers is ok now I got to
implement it's impossible what if there
would be blah blah blah and we could do
it and so he would maybe face there is a
issue he can recognize it and then make
some kind of proposal to implement this
back out of it and that's actually part
of what I'm going to talk to and should
add the workers also implement a thing
well if you want to I mean it's open
source the browser's are open source so
you can do and I can't talk a little bit
in in my talk about how to make sure
this won't end up as a big pain for you
and to make sure you want to basically
fill this gap about suppose bus and we
all make a new API is in a better place
on the web so a little bit back from of
me and I worked on Bespin so we invert
colors so it's awesome icons and a it
then got into a so is the editors it's
powering cloud nine you'll see you use
cloud nine okay or not let that manage
much and then hacked on firefox then web
console stuff developer tools and then I
got to the eth I'm studying physics in
my fifth and bachelor degree in physics
and then I started working on PDF GS
which should be here on up yeah and so
PDF GS is actually a good offering you
know PDF jas okay that's more so PDF
chase is just it's just a website and
this is actually just an iframe and it
just loads so just to demonstrate it
more I reload and it loads and you can
do selection and it looks pretty stupid
now with invert colors but the thing is
and we really want to have this as a
native thing so it also means we need to
do printing and actually printing on the
web is not as good as it could be but we
have to do it because we want to have
native experience and come in the
browser so what I worked on is new spec
for the canvas element that basically
lets you define the comp you are
printing and also means that what you
draw actually stays a vector format so
you see we can zoom in and it's still
text it's not register us and you also
can copy this kinds of things so that's
pretty cool and it's gone solved if a
lot of problems i guess but i won't go
into this because what i want to
concentrate on is how what how could you
maybe do these kind of things so i was
working on printing and try to choose
off this so first idea was can we use
maybe as we cheat to solve the problem
and we did some research and we proving
it it doesn't work for us so we need
some new API to make printing work with
canvas element and I was young you know
and me was just like yep let's do this I
always want to do c++ see how the
browser works internally blah blah blah
so you might ask I'm almost a little
person some what is this gecko specific
what I'm if I'm bucket WebKit guys
should I leave this talk I think you
shouldn't
because what I'm going to tell you a
thing applies to other browsers as well
and so it's channel purpose I don't know
what is know so well let's get started
and so there are two things basically
how you can approach getting something
new in the end of the browser server and
first thing you have the idea and then
either you code something up which get
ships in browser and then you make a
spec or you make the idea it becomes us
back and you then it gets implemented in
our case we need this thing as soon as
possible because for a PDF chest should
be as soon as possible the default PDF
viewer in Firefox so we said like here
we go with this idea we code it and if
it's good enough we relaunch it I'll
make it this back so the first thing if
you come up with a new idea and you will
proposes it's basically do research to
check or whether something else that's
the thing already on the web platform
because the cool thing about web is and
everything is only made once and there's
not too much duplication and and maybe
there's some bizarre way how you can do
the thing you're looking for in it just
takes a lot of time to make specs that
there's no need no sense to do twice and
also when you have some kind of Eid make
a sanity check if it makes sense for the
web runtime and so one thing maybe you
would want to implement an API that
makes unicorns from your flowering and
flying around and makes your name but
that doesn't make sense or you want to
make cross script origin request but it
doesn't make sense for security reasons
so then you would say well it's reaches
la possible on the browser because
security is the thing the browser
spilled onto ok so let's say you have
some kind of aid year there's this kind
of use case you have so then you would
do an API draft and which is basically
you think about what should be in there
what is the use case that you want to
solve so it should be use case driven
and that you say this this is on my
cases and the API need to have this kind
of scope that we can solve it and then
if you think about an API and you come
up with it you should try to keep it
small simple and general purpose
and thus malden API then easier to
implement and to specify and if it's
simple and other people couldn't use it
as well and general purpose is always
good for web because you might have
other ideas and if it's just too
specific for one use case it's not
useful but when its general purposes you
can reuse it for our stuff as well on
web then if you have some kind of API
you might want to pro type it or a cart
right some trim code so just write some
code as if the API would exist and then
see if it makes sense because just you
have an idea in your mind and not really
done any kind of code writing and
sometimes remiss leads you and if you
just write some code it's actually in
running but still there and it's pretty
good and to make check where this all
words and then you want to put your
documentation and the API draft avion
somewhere on the web gist github wiki
whatever and you want to share it
because um maybe using Twitter Google+
some meet up some other colleagues
foreign company because what do you want
to get this feedback and to see maybe
you missed something the research part
and maybe there's an easy way to do the
API maybe some pitfalls security issues
and once you have some feedback and you
feel like okay this is just not too bad
you can go to 3m step three which is
doing some kind of proposal so here once
more a proposal is not released back so
you might have like examples and all
kinds of thing there but it's not one
percent precise yet so I don't think
people expect that from you and but just
get idea out there may be some some
simple things and so the proposal maybe
would include this kind of thing so
what's this here what is the use case
motivation for this and what are some
details of the API how's your work and
your rationality for it why what you
think this is useful and and why is
there not a way to do it simpler and the
what we cheat there's a link which also
is it says it's a process for adding new
features to specifications which also
had some kind of nice points for this
kind of thing
and then it's a question where you put
it so how are you do what we G ok nano
one so it stands for web hypertext
application technology working group
it's an insane name but it's actually
and what happened the w3c was not really
up to continue working on html5 what we
now call html5 so five muscle ER upper
and step back from w3c and said this is
not going to work we want to have to
evolve and start some kind of new
mailing list together with Apple at a
time and that's called what we chi so
what we cheese stands for working group
it's there and basically that's where a
lot of development happens so all the
latest thing requestanimationframe and
everything that's happened after HTML
for basically started there and then
later on the w3c recognize okay this is
actually good and started working on
html5 now and there are also w3c working
groups which are an topic-specific and
on dollar version em to do it is to go
to mailings for browser vendors and
that's actually what I did with my epi
and so the first thing that I went to
and there's not a little bit Muslim
specific it's the Deaf API I mean
leanest and it's but turns out is pretty
much just to em Firefox OS specific and
super easily I got no response and I was
said and yeah so one good tip is there
is follow up so what I did was I just
called in they have public meetings and
ask hey why is there no no no response
to my thing isn't that interesting for
you and it just said well it's not our
scope so you might go to def layout so
as an email there and that was response
and Andy I expect to fail because my
idea got rejected so I was upset again
but the thing is the person said your
basic point is good just the API is bad
here's a new API and actually now I
would say the the API that we ended up
in the end is way better and because
what I try to do is was replacing
entire and printing stack with some
complete new API so like is this the web
I'm once you have this kind of API but
it's way better to build on top so the
way that we now do it with exposing just
some kind of new callback for canvas
elements fits way better in what you
have on the page anyway so this is way
better M API and thing is don't expect
that you get it right and because there
are people outside that have just more
experience with all this thing but
what's important is that you're some
kind of driving force and you get the
idea push that somebody gets to for some
forum the requestanimationframe the
thing it's called implemented was some
developer at Mozilla notice people
complaining there's no real way for
gaming to have 60 frames per second
callback kind of thing because set
timeout doesn't really work so he made
an API somebody else implemented in
shipley in firefox 4 beta 4 and now it's
in all browsers and the game industry is
happy so at we just making their idea
garter and I'm late on time so now maybe
so maybe this is why where you stop you
know you have this API and you have the
feeling somebody else cares about it but
now let's go let's go more into let's
code right so good to know em if you
want to really do the coding card and
really implemented in powder it really
requires passion that you that you want
to do is because it's going to be a long
run expect pain so you want to make sure
and this kind of teamwork thing and so
we got to work together other people
because browsers will turn out to be
this complete piece a complex piece and
you just don't get everything by
yourself so you got to talk to some
people and don't underestimate
time-consuming forgetting something you
in and the time-consuming things are
there there are some API said pretty
simple for example for the cameras and
there were used to be no way to set the
dash on four lines so if you have a line
you want to have a dash there was no way
and then there was PDF chairs and said
well we just implemented some kind of
API for is and it turns out every
rendering back end has Navy I to set
dashes four lines right so it turned out
to be like 10 or maybe 20 lines of
vote for writing this kind of feature
and everybody else just worked around it
all the time and but in my case it
really turns out to be some more time
consuming and the other thing is before
I start coding anything make sure that
the thing that you want to implement API
is reviewed by somebody else and because
otherwise you might implement something
you spend like a month and then you like
here's a code um if they say what's just
not useful and it's just them yeah it
just makes you depressive so make sure
that there's some kind of fruit for you
so okay so low let's go let's implement
this but wait so if you just implement
it there's some kind Hall of pain i
called it so some best practices that i
came up to which would have made me or
made my life easier so one thing is find
a mentor if you want to implement this
so even if you're not used to this kind
of browser you might have really small
questions that takes you hours to get
started like how is this working what's
the best practice for this and if you
have kind of mentor that you can
approach it's pretty good to make the
mentor might be a person that responds
to your API proposal and or you just ask
on IRC channel for info gecko of WebKit
or for Chrome or wherever you want to
implement it if somebody wants to help
you with doing that and mostly there's
at least one person in each kind of
topic area that's passionate about what
you want to do so it should be hard
fundamental next thing is open it back
because the back is a good place to keep
track of a process and then maybe you
want to ask for some guidance how they
co should look like and where to look up
code if there are some examples existing
out there and some pointers where you
look up and maybe also asked what was
the best way to communicate with our
people where it's IRC or mailing lists
and the other thing is ask before i get
the press so it's pretty simple to just
sit in your room in code and it doesn't
work because c++ and whatever and what i
figured out it's it's way better if you
just ask a small question on IRC and
people are pretty helpful and they make
sure you don't get depressed and you get
going working
and some other thing is that you can
look up lots of talks and wikis out
there so forget CO and WebKit there's
tons how tooling works if there's
similar code similar box and like if you
do canvas implementation there's a lot
of bugs about canvas and how it got
implement so this might give seen
feeling which code parts you got to look
into and also gives you feeling about
what people you should look out you and
what people to ping on IRC and then for
dogs may be so I mean this is not this
is not the glory of how you really do it
it's more like an idea maybe what would
help you and so things you might want to
look up is build system because you want
to build the five Firefox of WebKit at
some point maybe how to manage
management is done internally they have
some kind of reference counting and then
there are internal trees representations
if you work on some kind of layout thing
there's a layout read as a few tree
there's content readers daikon distri
and so on and maybe just ask do any any
of these or whatever and then there are
also coding conventions that you should
look up and get a little bit used to and
also debugging turns out to be art at
least for Firefox and I could expect
this may be better for WebKit so for
instance a cheeky be and who knows what
she be chibi says for okay more so it's
a command line based debugger and
basically you type s you hit enter and
it steps to the next line so its depth
it's pretty dumb but it's pretty cool
thing to work with I found out and also
it's some kind of new tool that I
haven't played maybe otherwise printer
has helped me a lot because I'm I'm
person that needs to look at what
happens so I basically have wrote five
lines of code and 20 pin devs maybe but
it helped me and so the other thing is
you might get stuck and then if you get
stuck it's good to look out for what
kind of people could have me there so
good person to to a way good way to find
these other people is to go to your
mentor on r cos K I'm stuck in this area
what are the people I should approach to
and also ask when are they online
because it turns out they might be on
the west coast so if you think in this
timezone you should ping them in the
evening or
in Japan so in the morning all these
kind of things and also a good thing is
get some c++ book because you can then
just read chapter through okay now we do
the actual coding I got to speed up and
so one thing they come across maybe is
things don't work the way expect and it
turns sometimes I was it's just a known
bug in the platform since a long time
and you try to fix it because you think
you broke it but that's actually not the
case so just avoid it and say there is a
bug out on here and then sometimes you
come up why are you implementing there's
an issue with the API design so for
instance they the API we had worse at
the beginning a synchronous but turned
out that doesn't make sense so we change
the API but the thing to watch out is
there due to API chains with feed bag or
on the mailing list again such that our
people that follow the process can jump
into and help out there and try to get
the API right from the start because if
you ship something on the web and you
got to change it too much later on
that's not making you a lot of friends
and as said if you come across outer-box
accordion file it back but then say this
is not my topic because it sounds a
little bit narrow minded then you just
stay on your thing but otherwise you
just spread out in there too much of
Mars and if you stuck just create a
different wherever you have create a
crash lock whatever you have and dump it
somewhere on a bucking horse seen ask
for help so I was really one pattern
worked on i resubmitted crash logs and I
was okay i'm assuming really to be this
guy or it is stupid i did that cannot
continue so i just looked at one line
say yeah do you call this kind of
function no i don't oh oh yeah now it
totally makes sense so every small thing
but if we get stuck we should try to
dump as much as information as you have
because it makes people easier to get
you going again and step back sometimes
so just take a break is the thing that
you make doesn't make sense we
implemented that worried maybe no fun
normal thing and don't question yourself
so I would say you're not dump it's just
a huge thing to hack a browser and just
this way it is so
now it comes landing these things and so
if you have some code is it's more or
less working in Parliament if make sure
you get in a feedback cycle as soon as
possible so attached some wipe which is
working process on a bug and ask
somebody took your feedback on this
because that avoids that you continue in
the wrong direction and got to refactor
it later on it is makes it way more and
way more nice and also it gives you more
kind of team feeling because we work
with some other people and it helps you
and to get motivated and and then
writing tests for browsers actually hard
because normally you write tests in the
browser but now as you're writing for
the browser you write test it are in the
browser the testing the browsers so it's
kind of meter testing writing and
there's some kind of pretty cool
frameworks there it's pretty tricky but
pretty cool and yeah upload wipes as
often as possible and also yeah so the
reason why you want also to upload
working process as often as possible is
if your machine dies you have some code
ups up rare another thing is if you for
some reason got to step away and
somebody else might take a look at your
code and can continue from there and if
you upload wipes pretty often you can
say okay what what was his decision
making what happened in the meantime and
that means maybe you step back but three
months later you see on Twitter yeah
this feature landed and you know you
carried ninety percent of the work maybe
ten percent was done by someone else and
for patch file make sure they're clean
sometimes you got to split them up and
for reviewer the does the extra cool
thing look them up and request and also
don't hesitate to change the review
because sometimes don't out people are
too time-consuming and if you don't if
something unclear stated because words
if you just come new coding and cress
afterwards if something is unclear maybe
leave a comment in code to make sure you
don't forget about it I've got to speed
up even more so now landed assume your
patch plan it's the first thing to do is
the victory dance because it's pretty
awesome to get something in a browser
and it was made two months of work and
then expect fall out so crashes the the
word thing is you have something and you
worked on it and then you see ten people
crash because of your code but
that's normal i would say if you right
the first time and as somebody reviewed
your code you know it's not just your
fault that's usual and the thing is some
channel thing the key thing about
getting this thing done is come to in
communication so the thing is iris
emailing this phone to get the thing
that's most convenient for you if it's
more time soon spread the people work
with many smell quebecer if something's
i could really ask because otherwise get
can get terrible you might get kind of
these messages on IRC so you stayed here
newbie and then they gonna explain your
way more so people are really open to
want to help you if you communicate keep
it short precise and keep it down to the
arguments because everybody can only
handle a little bit of stuff and be open
for new tools like this testing things
and different time zones to keep in mind
and also this driving force that
basically you're maybe not you the
implementation but you ping people to
make sure things keep happening it's
time consuming and communicating the
open because other people can jump in
and help you and expect to be wrong he'd
never done this made before so it met it
and say okay I was wrong you were right
and this is the way we do it and you
won't get replies with any day because
these people are busy if you don't
really get a rebus within a week you
might want to follow up again so what's
the status on the API worked on its
proposal to what we see Manning list and
there's no feedback so if you really
want to help me and make me happy so
give the happy icon there please talk to
me if you're interested in printing on
the web make it better and maybe you got
some feedback there and so that's
supposed to be fun oh yeah so actually
and the cool thing is just something CD
internal so this is capping miss the sea
bass bass thing that I was talking about
before you really see how is happening
and it's crazy going on when it's
all calls into the c++ and you see it
what happens and then that goes up to
javascript again and so it's really cool
and you also see why things are slow
sometimes and yep any learn C++ wizard
school for some reasons you learn new
tools and there's a lot of fun community
so this way Mike chokes somewhat of
themselves and you learn a lot of
communication skills
you also if there are some small fixes
that need to be done in C++ you know how
to do it so you can do it and don't have
to like write transcript to avoid this
back because now which stuff into you
and also the cool thing is once you fix
something like that say firefox you're
good the code for WebKit doesn't look
too different maybe so you can fix it
back in WebKit as well way more simpler
it's please open source project browsers
and it ships two million users so yeah
it's kind of big impact thing and maybe
something you don't do in your normal
life and if you walk refuse because
these people you might talk to our CEO
may too they basically build the web big
parts of it and you can work with them
which is kind of okay that's pretty cool
so links and to be done I didn't have
time and but if you want to have links
so I have something in my mind just
follow me on twitter you know and I
gonna post the slides for flings thanks
keep rocking the open web and question
answers</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>