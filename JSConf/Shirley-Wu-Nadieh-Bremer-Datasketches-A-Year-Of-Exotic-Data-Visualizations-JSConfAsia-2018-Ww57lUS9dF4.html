<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Shirley Wu &amp; Nadieh Bremer: Datasketch|es - A Year Of Exotic Data Visualizations - JSConf.Asia 2018 | Coder Coacher - Coaching Coders</title><meta content="Shirley Wu &amp; Nadieh Bremer: Datasketch|es - A Year Of Exotic Data Visualizations - JSConf.Asia 2018 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Shirley Wu &amp; Nadieh Bremer: Datasketch|es - A Year Of Exotic Data Visualizations - JSConf.Asia 2018</b></h2><h5 class="post__date">2018-02-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Ww57lUS9dF4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">my name is Shirley and I'm Noddy and I
want to thank you we want to thank you
so much for being here today we want to
thank Jess called Asia for having here
us together back together to talk to you
about our project data sketches let's
start from the very beginning naughty
and I actually met each other online
virtually in a private data
visualization / channel in the fall of
2015 we didn't actually meet each other
in real life until April the following
year open viscom 2016 in Boston where we
both had the honour of speaking
separately and in the following three
days we hit it off really really well so
well that a few months later back home
when a naughty but when naughty put up
her SVG tutorials from her togs I went
through them with vigor and I started up
a conversation with naughty and the
conversation somehow somehow ended up
with us lamenting the fact that we
hadn't completed as many data
visualization projects as we have wanted
in a previous year and that was when I
got my idea and I got together all of my
courage fully expecting to be rejected
in a snotty do you want to collaborate
with me and happily happily she said yes
and that's how data sketches started so
in the following week we figured out
that we both liked the idea where we
would create a visualization each month
around a specific topic and to see how
two people would create two
visualizations starting from the same
seed this topic and then diverging in
two different paths based on our own
interest in history and besides sharing
this end result we also want to write
about the creation process and we split
this up into the three pillars that we
find most important data sketching and
coding
and initially we thought we could pull
it off you know with about five to six
hours a week as usual real life really
doesn't care about plans especially
coding plans so since starting in July
of 2016 we've clocked many many hours
into creating our visualizations each
month and during this talk we'd like to
take you through some of the lessons
that we learned challenges faced and
insights that we gathered along the way
so let's start from the very beginning
the data gathering process the two
months sometimes get asked this question
do you get your data first and then come
up with the idea for your visualizations
or do you get your idea first and the
answer for us is always always idea
first for the month of October I decided
that I wanted to put emojis on the
former well soon in it should be okay
I decided that I wanted to put emojis on
their faces
okay oh it's the cat now okay thank you
yeah
so for those two months we decided that
I wanted to put emojis on former
president mr. Obama and mrs. Obama's
faces ah there we go now you see their
faces
and so for this project I went and
gathered all of their late-night talk
show appearances and their corresponding
YouTube videos took a screenshot every
single time that they talked so that I
can put emojis on their faces and
there's some really fun ones in here but
this this project started because I was
trying to figure out what to do with the
data set of all the late night talk
shows and I was talking to my art friend
Eric and he said to me wouldn't it be
cool if you could run facial detection
on the video and correlate their
emotions with what they're saying and I
was like hey Eric you realize I only
have one month to do this and I was like
Eric challenge accepted so I started by
manually gathering all of the late-night
talk show appearances of mr. and mrs.
Obama off of IMDB I use the youtube
search API to get all the videos from
the corresponding host YouTube channels
use the new package call youtube-dl to
download all of the videos and their
captions wrote a script to get the
timestamps from each of those captions
yeah then took all of those timestamps
and use flint FM MPEG to take a
screenshot for every one of those
timestamps a full hit each of the
screenshots to Google vision API which
is the super fun API that detects for
every picture how many faces there are
on the screen and where
and whether they're happy mad sad or
wearing a hat and I took the aggregated
annotate I can get sorry and then I
grouped the annotated image data with
the caption data to get the final
dataset and that I learned quite a fun
lesson here and there's two parts to it
the first being being curious find
something that you're really excited and
interested in and let that excitement
and curiosity guides you through the
project and motivate you and second that
once you've found that topic that you're
interested in get creative with your
data gathering process because there are
so much data out there and you can get
your data set by either manual entry or
with automated scripts which I have
learned there is a nude or R package out
there for practically every single thing
I want to do Under the Sun as long as I
play responsibly and legally so once
you've gathered the data and the next
big thing is actually preparing the data
and for August of last year maybe a year
and a half ago the obvious theme is the
Olympics especially since we're both big
fans and I ended up visualizing all
5,000 gold medal winners since the very
first games in 1896 so each of these
circles here is a group of similar
sports such as water sports for ball
sports and within that each slice or
feather is its own unique sports such as
athletics then we have the first version
on the inside going out to 2016 the
reddish background has their female
events and the blue background has the
male events and finally each medal
itself is colored according to the
continent in which the country lies that
one so Europe is blue Americas is red
Africa is black and so on and you can
see for example that in the very first
editions of the Olympic Games tug of war
was an official Olympic sport too bad
they took that out so I found the data
for this piece from two articles
published by the Guardian for the 2012
Games in London and after getting a
rough shape
my screen I noticed that some very
obvious metals were missing from 2012
like hockey so suddenly my confidence in
his dataset dropped drastically even
coming from such a respectable source
and therefore I had to get a sense of
the overall accuracy but I didn't want
to have to manually check 5,000 medals
so I found a proxy instead on Wikipedia
I could find lists that contain the
number of events that occurred during
each Edition which I then compared to
the number of gold medals I had in my
dataset and if there was a discrepancy
I would investigate further to figure
out where and why and that's how I found
out that for some of the editions the
horses were also in the dataset which
made for an interesting read to suddenly
see princess and sissy and lady mirka as
women winning gold in the Olympics
eventually I managed to figure out each
of these discrepancies and made
adjustments to my data so get it to the
point where I trusted it again so my
lesson here was that I really need to
get a feeling of accuracy and
completeness of my data missing data can
be hard to find I'm wrong data and you
don't have to check every value but
think about taking sums and counts and
averages and comparing this to either
plain common sense or even better a
different data source so before data
sketches I actually used to go directly
from my data gathering process into my
code but Noddy convinced me to give
sketching and ideation and prototyping a
try and I'm so glad that she did for my
very first sketch lesson happened in
September where our topic was travel and
I took twenty thousand colors 5 primary
colors from four thousand images grouped
each of the colors by the trip that I
took the photo and Ag and then arranged
them by the day that I was taken on and
this is one of my personal favorites
because I learned a lot about myself
through this project mainly that I had
always known that aching photos of
nature so the sky and trees and
mountains and oceans so it made sense to
me that I would have a lot of
blues and greens in this visualization
but the thing that was really confused
about was the fact that for some reason
there were a lot of reds and oranges and
yellows also and I knew for sure that I
was not waking up for any sunrises so
when I took a look at the underlying
photos I found that they were actually
food pictures so this 2014 trip to Tokyo
and Japan you can tell apparently all I
did was eat but this one to Europe in
2015 this was to Iceland and there were
some absolutely gorgeous waterfalls and
although this is one of my favorite
visualizations it didn't actually start
out so well in fact it started out
disastrously after I had gather all of
my data my data being all of my photos
and gotten all of the colors out of them
I went straight into the sketching
without even taking a look at what my
data looked like and so even though I
had really great intentions which was
that I wanted to lay out my colors by
the x-axis being at the time of data I
took the pictures or where I took the
pictures and the y-axis being the year
that I took the pictures and given with
good intention because I wanted to see
if there was a pattern and when or aware
that I was taking my pictures but once I
have put the actual data into the screen
into my code this is what happened I
like to lovingly call this piece man
peeing into a puddle and although I'm
quite fond of it I knew that it wasn't
something I can publish as my final date
of sketches so I looked through the data
a lot and I went through different
iterations really explored it until I
got to the point that you saw earlier
and so I really took that to heart in
September and applied it to the next
month in October with the Obama
visualization you saw earlier
and after I had gathered all of my data
I had listed out all of my data
attributes I looked through and found my
min and Max and my extremes and I really
got a sense of my data before I sketched
out any of my ideas and designs and this
is one of them as you can see I was
really happy because there was almost a
one-to-one translation between my
sketches and my code and my final code
so my very first sketch lesson that was
so important was to always always
explore the data before starting to
sketch let's out the attributes dig into
the extremes so that I can get a good
understanding of the data that I'm
trying to visualize and my sketches are
often very simple only focusing on the
main abstract shape that I want to fit
my data into you know colors and layout
on details these are things I only
vaguely think about but don't act on
until I answer data on my screen this I
find that there's just no you know used
to spend any time on these things until
I figured out that the data actually
works once I've morphed it into my main
shape for the Olympics piece for example
I was actually inspired by the shape of
a peacock feather placing emphasis and
the more recent additions but I had no
idea of that would look all right once I
finally placed all 5,000 medals together
so I had to see if a general shape would
work before moving on
oh I laid out the feathers and of course
it took a few steps before I got that
right but luckily I saw that eventually
it did show potential with the actual
data but with networks it's really
tricky to create a sketch that is more
than just circles connected by a line
because with networks the best visual
form is so inherent to the actual
connections present within the data and
for the October month when surely dope
into presidents I went into royalty and
I've always been intrigued by how
intermarriage the Royals really are you
know are they old cousins twice removed
in some way and luckily I found this
giant genealogy dataset online that
contained the family tree of the
European royal houses it was from 1992
so it had to spend the night on
Wikipedia adding one or two more
generations
main line of succession doors are
already super happy to have this data
available and to show you the the end
result here we go so the main the
curatorial leaders are the bigger stars
and everybody is connected to their
parents their partner and their children
and if you hover over a person slowly
the grits shows how far six degrees of
separation would reach into this web so
this one is connected to three current
Oriole leaders for example but when I
started out with this data set I had no
idea what it contained so I just sort of
placed it on the web using the most
basic network settings and then this
happened oops that's too far you can do
it it's my computer is always not very
happy when I try and sure this right
this happened
it sort of blew up and that was really
helpful they're not showing me anything
so I thought well maybe I can sort of
make the gravity a little bit bigger
but then I got a useless hairball not
helpful either so I thought well I can I
can call everybody by year of birth
which still didn't help but luckily in a
browser you can have gravity depend on a
variable so I pulled this web apart by
year birth as well which was more
interesting but it was still a rather on
insightful bundle and at this point I'd
already invested several hours into
playing with the network settings trying
different kinds of connections and
playing with my data and I was really
ready to just give up and try a
different angle like how much of the
Royals spending these days or something
but I gave it one last try and that's
when I decided to focus on the current
royal leaders so I placed these in a
line and then I got the vertical gravity
depend on which of these royally
decision was closely related to and
that's when I finally saw it in sites
for example at the Queen of Denmark is
actually very central to this web but
that the Prince of Monaco line separated
more than what most 200 years ago and
only at this point did I start worrying
about more of the visual design aspects
of this visualization and networks often
reminded me of constellations and with
my astronomy background I have a virus
for all things space so I just had to
turn it into his
Knight and I could have never designed
this visualization beforehand in
Illustrator I had to go hand in hand
with the actual data and continue to
sort of to see how the results of my
actions would look on the actual data to
see if the results were both engaging
and insightful we've done this loads of
times so as you might expect actually
most of our hours are spent on getting
the data on the screen and then this is
Samar far perhaps less obvious coding
lessons so for a very first month the
topic was movies and it was pretty clear
to me that I wanted to do something with
the Lord of the Rings which is well my
favorite trilogy and I thought that with
the popularity of the movies that there
would be loads of data available but
that didn't turn out to be true at all
and but I did manage to find a true gem
so somebody had created the data set
that contained the number of words
spoken by each character in each scene
of all three extended editions of the
lords rings I knew I had to visualize
that data somehow and I wanted to focus
on the number of words spoken by these
characters of the fellowship at the
different locations of the movies but as
you may be able to see from the
screenshot or maybe not there is no
location information in it so together
with the scripts that are available
online and my own memory having seen the
movies way too often
I just manually added location
information to each of the about 800
rows fellowship data so a bit of
dedication can go a long way I started
sketching some ideas and then eventually
got to this where the members of the
fellowship would be placed in the center
and the location spread around them in a
circle and they would be connected by
these strings where the width of a
string on the outside would represent
the number of words spoken by that
character at that location but sadly
this chart firm doesn't actually exist
at least not on any tool that I was
aware of but it reminded me of something
that did exist and that's called a chord
diagram so I thought well maybe I can
swim on
transform this Court diagram into my
sketch so here's the most basic script
of all text Court diagram and for me it
was fundamental to see if I could at
least get these courts as they're called
here flowing towards the center which
took less time than anticipated which is
pretty rare for me encoding but getting
rid of that space adding in the actual
earth rings data and some more
appropriate colors well we have nine
members of the fellowship so I had to
make sure that the centers lined up at
the right vertical location but this was
just looking way too squished so what
about if I pull it to a halves apart
okay that works but now these strings
they were looking pretty odd especially
in the top and bottom so I finally
finally dove into learning how to write
my own SVG pads because all of our
visualizations well practically all is
build up out of SPG's and that took
quite a while there was also quite fun
and that's how I sort of ended up with
this new kind of chart that is mutated
from d3 score diagram and many people
have done amazing things that they they
share online and so even if you think
you are creating something new you don't
always have to start from scratch you
know try and pick a thing that most
closely resembles your idea or design
and start adjusting that remix what's
out there already sometimes sometimes we
dream up things and we sketch out things
that just don't seem to have anything
out there that we can base the author
for that same month of movies I did this
thing called film flowers where I
visualized the top blockbuster movies
the summer blockbuster movies of the
last two and a half decades reimagine as
flowers each of the petals are parental
guidance ratings each of the colors are
different genres and a number and the
size of the petals are their
corresponding IMDB ratings out of 10 and
so there's some really really beautiful
ones in here like The Dark Knight Rises
inception
and I personally always loved Harry
Potter but my absolute absolute favorite
that I love sharing with everybody is
the 1997 Batman and Robin
because of how teeny and tiny and cute
it is so when I fight and first
published this project I got asked oh
how hard was it to do how did you do it
did it take a long time and the answer
is actually that it's quite easy all you
need is a good understanding of SVG
paths and in particular the cubic Bezier
curve command so let's take for example
this cherry blossom so the way that we
want to draw it is we start out with a
petal and for that particular curve the
way that I like to think about it is we
start with a point in this case at zero
zero and we draw a straight line to the
ending that purple point and then we
take the blue and green anchor points
and we nudge it oh and nudge it apart
until we get the curve that we want then
drew two more lines drew of curve on the
other end and then we have the pedal I
put in a few more petals rotated at them
appropriately put any colors and that
was it quite simple so the code lesson
here is really really understand your
tool set in that case in our cases that
our tool sets are SVG and canvas and d3
and in particular my favorite is SVG
paths and the curve command because with
that under my belt I can truly truly
draw anything on the screen that I want
for some really unique results we also
had a lot of fun playing around with
math over the past months so here's my
addition to our collaboration ones with
a Google News lab and being a non-native
English speaker I wanted to focus on
translations so what do other languages
want to have translated into English by
using Google Translate from the most
translated word 4:10 chosen languages to
the top 10 for each of these languages
and finally the similarities between
these languages and for this final
visualization I actually wanted to look
at these these similarities and have
each of the words the two languages had
in common in their top 10 be presented
by a line but actually I wanted to have
all of these visuals to be completely
build up out of words and letters so
actually I wanted to replace these lines
by the words themselves that they
represented but after I finally coated
that out I immediately saw it was a big
mess so I had to compromise and only
place a word on the most central the
line going toward the central point but
then it became really important that all
of these words were placed in the most
upright manner possible for readability
but they gave quite some convoluted
calculations in terms of the tax paths
that I had to calculate to place these
words on and that became glaringly
obvious once you click one of these
outer circles and move the in word which
is not quite what I think a user would
expect to happen and that's where math
and logic solving came to the rescue
it took a few pages from my notebook but
eventually I ended up veering out a way
to implement a solution so now it should
work more as somebody might expect it to
and what I'm doing is really more of a
hack so once somebody clicks one of
these other languages I fade out the
words and then I immediately replace all
of these lines by their final state but
reverse engineer to look like the
initial state before slowly
transitioning them to the final state so
the last in here is really really simple
it's learn to love math and especially
in geometry if you don't already because
they are usually your best friends in
finding solutions to these visual
problems in the December 2016 I
published this visualization called an
interactive visualization of every line
in Hampton I don't know and if anybody's
heard of the musical but as the user
Scrolls down the screen these dots
follow them and each of these dots
represent a series of lines in the
musical them
and as they keep scrolling I show them
the analysis I've done as well as the
filters that they can play with to
follow along with my analysis until they
scroll to the very very end and I give
them that same tool where they came for
themselves filter by any set of
characters conversations and themes and
dig into the remaining lines and songs
to do their own analysis but something
really strange happened last September
which was that I noticed that when I was
loading up my visualization it was being
really really slow in fact this is a
video of the actual experience there it
was taking in between two to three
seconds between each repaint it's
excruciating and I knew that it wasn't
anything that I had done because I
hadn't touched this code in about nine
months and so I figured that it was
probably something to do with a browser
update to canvas and because I knew that
that was something that I didn't quite
understand and hadn't been keeping track
of
I turned to obviously Twitter for help
and the miraculous thing an amazing
thing is that within a few hours some
really amazing people including Jake who
may or may not be in this audience came
and kind of figured out what was going
on and help me debug both on Chrome and
Firefox and they helped me deduce that
what was happening was that because I
had used canvas to draw those dots
animating in the background and I had
done a canvas with the height of 16
thousand pixels the full height of the
document scaled it by 2x for 32,000 is
causing absolutely mayhem on the memory
and that's what was causing the bug and
I had originally done this because I
have wanted the user the reader to have
the experience of the dots following
them as they scroll down the screen and
it took a good week of going through my
9 month
code which was absolutely painful but I
was able to refactor my canvas height
from 16,000 pixels down to 3,000 pixels
while maintaining that same thoughts
following you effect from really some
really smooth buttery buttery smooth
experience and I learned the most
important lesson that September which
was that up until that point I had
thought of my tool set as SVG canvas d3
react whatever I needed to do render the
actual visualization but up until that
point I was ignoring my most important
tool set of all the web itself and I
have learned that I need to really
really understand the entirety of my
tool set in my case being keeping track
of page performance browser updates and
what's coming down the pipeline so since
starting we've realized that we can find
data in the weirdest of places that data
preparation can reveal some really weird
quirks and then data set that sketching
helps weed out thinking errors but that
you can also design with code that SVG
pants are amazing in math is - but we
already knew that of course
and that especially is data visualizer
is we should not neglect the web or a
browser as part of our toolkit and not
instead only be talking about d3 canvas
and illustrator and these things now
when we started we didn't set out to be
confronted or learn all of these things
we we just wanted to have fun and in
that we definitely succeeded so even
though the years already come and gone
we still have a month or two to go and
there's still a few empty spots there
and that's because even though we were
having fun at the end we notice that
we've taken on too much on our plate and
we decided to take things a little bit
more slowly so if you want to you can
still follow us in our final months of
data munging sketching and coding up our
ideas into often fun and weird and
overly elaborate visualizations thank
you very much for your attention
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>