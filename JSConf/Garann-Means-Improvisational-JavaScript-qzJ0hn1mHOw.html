<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Garann Means: Improvisational JavaScript | Coder Coacher - Coaching Coders</title><meta content="Garann Means: Improvisational JavaScript - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Garann Means: Improvisational JavaScript</b></h2><h5 class="post__date">2012-11-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/qzJ0hn1mHOw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello so yeah like Jed said I'm Garen
means if you want to talk to me on
Twitter Garen em I work at etsy I live
in Austin Texas I wrote a book called
note for front-end developers and I run
a couple of groups in Austin for female
developers so that's me and what I want
to talk about is this book Tina Fey's
bossy pants so it's a biography and
autobiography that Tina Fey wrote about
her herself as one does with
autobiographies um if you don't know
Tina Fey she's um she's the lead
character on the show 30 rock she's on
Saturday Night Live she impersonates
Sarah Palin very well and she's a woman
behind what I think is considered the
pinnacle of American cinema the movie
Mean Girls um and yeah that's her um so
the book is the book is really funny
it's it's hilarious and as a result
became a best-seller and kind of the the
thread that continues throughout the
book the theme is this idea of success
without infallibility and I'd like to
deal talk a little bit more about foul
ability so if you're aware of the
character Liz Lemon from the show 30
rock or even if you're not um she's a
really good example of a foul ability um
she's a very empathetic character she's
somebody who can you can relate to
immediately because she's not perfect
and she's she's a caricature of Tina Fey
but she's not exactly like Tina Fey Tina
Fey's obviously very successful and
wrote a TV show that she stars in Liz
Lemon just you know writes a TV show and
kind of suffers and her whole character
is kind of about the conflict of wanting
to do things and attempting to do them
and having no idea if they're the right
things or not and it ends up being
pretty hilarious so contrast that with
javascript javascript is actually
infallible um which you may or may not
believe um FAL ability comes from us
comes from the developers so and I think
we're all familiar with how that happens
we fail to account for edge cases we
don't really understand how our code is
going to be used by people or you know
we just kind of boxed ourselves into how
we
something should work and we don't
really consider what happens when it
doesn't and we're maybe a little fearful
of admitting that it doesn't sometimes
so key difference fala ability when it
comes to Tina Fey is hilarious and it
makes her more relatable or her
character more relatable fallibility
when it comes to javascript is not
hilarious and causes us to lose users
causes us to lose developers if we're
writing ap is or code for other
developers etc so the the difference
comes from comedy right um comedy allows
us to to cope with things in our world
it allows us to cope with other people
it allows us to understand our world in
a way that it takes things like like I'm
certainty and even tragedy and in flips
them around and makes them positive
things that we learn from or at least we
can bond over right and computers have
no ability to do this so all our other
observations about the world are things
that we need to communicate to computers
and translate for them so that they can
observe the world the way that we do and
this brings us to the rules of improv
Tina Fey's rules of improv that will
change your life and reduce belly fat
asterisk they are one agree to say yes
and three make statements for there are
no mistakes just to explain very quickly
what does mean although this is not
actually talk about improv because I've
never done improv um agreeing is obvious
you know what that means saying yes and
means don't simply agree but add
something else to whatever's whatever is
being discussed three makes statements
so don't ask questions don't just stand
there asking each other questions but
make statements describe what's going on
or what you're portraying that's going
on and there are no mistakes is also
obvious so I searched for Bossypants
rules of improv on google and i got
14,000 results so yeah I think I think
we can consider at least that Tina Fey
is apparently an authority on rules of
improv because people really enjoy these
succinct approaches or you know maybe
their approach maybe there are set of
rules that have existed for a long time
and
just reusing them like i said i don't
know improv so i can't say what i do
know is that when i looked at these
results people were already applying the
rules as given by tina fey to pretty
much everything under the Sun including
a business feminism scrum and fasting
which is a weird one to me but I didn't
click that link um on just life in
general so this is this is a popular
approach for a lot of things and I
thought hey maybe we can do the same
thing with machines so our machines
obviously like everything to be black
and white um they don't deal well with
gray areas they don't deal well with
uncertainties and so we need to create
algorithms that allow them to do that
which is to say that rather than trying
to feed them only correct answers we
have to teach them how to find the right
answers which is certainly more
difficult so let's let's um as a simple
example let's just talk about how we
would apply these rules of improv to
like a basic user registration form so
one agree um this is pretty easy we save
all the answers we don't necessarily
save them in the database but we save
them in in some kind of cash where
they're not lost so the user doesn't
have to retype things and so even if
they're even if they're incomplete if
they contain illegal characters whatever
um we want to try and hang on to that so
the user doesn't have to reenter
information to say yes in and this is
this is simple stuff like autocomplete
um content sensitive hints when you
mouse into a field reusing info all
basic stuff that we see right three make
statements um we want to work with what
we know so as soon as we know something
ideally we want to be able to reflect
that back to the users so they get a
picture of where they are in this this
workflow that they're doing and I can be
like showing them a preview um and like
highlighting the areas where they missed
things so that they know what the state
of those errors is and but most
importantly allowing them to continue
moving through the the workflow and
finally for no mistakes so if they have
a weak password we suggest a stronger
one
and we just make it a step too to do
more stuff on the site or if they have a
non unique username that's fine we'll
just use a numeric user ID until they
fix that and this shouldn't be news
these are these are not new ideas when
it comes to you I philosophy but with
JavaScript we can actually do more we
can go a little deeper like so we don't
have to deal with just the user as far
as a source of potential uncertainty we
can actually deal with code as the
source of uncertainty because JavaScript
does that really well so let's improv
some JavaScript you should you should
think of your your JavaScript as an
improv partner you don't have to do that
but I would like it if you would do that
so if you're writing a framework or a
transpiler if you're doing some kind of
machine learning thing you know
JavaScript early doesn't care javascript
is very happy to work with other
javascript and that's one of the
beautiful things about it it does it
very easily so any javascript that you
write for other javascript should be
cool okay so going through the steps
again one agree because we have no
method overloading in Java Script we
actually have I think a great
opportunity because we can we can do
essentially infinite method overloading
without ever having to declare other
actual overloaded methods so if we want
to send multiple types of arguments to a
function we can we can do that and we
can branch within that function as much
as we want and that's awesome so
JavaScript innately like when it wants
to be agreeable right I think we can all
agree on that haha but javascript
javascript wants to take whatever we
give it like that's the way functions
are set up that we can just pass in
whatever we want and that's that's part
of the language so we can we can do
simple things like checking for
existence using type of seeing what the
length about object is um that will tell
us you know what what kind of data were
actually looking at in a good example of
that in the real world is the dollar
sign in dollar sign function in jQuery
which
could take an ID as the string can take
an actual element it can take the scope
of edge execution and it can take a
string of HTML that doesn't even exist
yet and we get the same thing out of it
no matter which of those inputs we give
it so step two is saying yes and so if
if there's a callback of course this
becomes really easy like we know exactly
what information to supply after we've
already done our agreement and we're
ready to to move on if we can't tell
then we go back to those other ways of
checking what kind of output is expected
um type of etc um but at minimum we
should we should be thinking about
returning some kind of chainable context
object whatever our function has done
creating creating in that context and
adding to that context and passing that
back so it's still usable and if we
design functions in this way which I
think we do already to some extent um
then then we come out with a better
result or if there are asynchronous
functions then then we'd take a
hopefully an argument that's applied
that moves on to the next function that
needs to be called um because I as long
as things are working like JavaScript
would like to continue then working and
continue like passing back usable
information rather than you know nothing
and jQuery again is a really good
example of this because you get you get
chain ability if you're just modifying a
certain object um you you get you no
call backs if you if you're doing
something that is asynchronous that you
need to run code after something is
completed and you get like these kind of
luxury return values where things are
built up and you get very useful
information as the result of each
function call so three make statements
the idea is that we want to create
instances that are useful or objects
that are useful which means including as
much information as we reasonably can
and as people would reasonably want
access to and making all information set
available
but you know maybe maybe not showing
everything or also not confusing things
that belong to the application with
things that belong to objects in keeping
a sort of separation so that you get an
accurate picture of of the state of
whatever it is you're actually looking
at and part of this I think is that you
just return an instance automatically if
you can so rather than like making
people go hunt for instances you have
smart defaults and you use those to
create instances wherever wherever you
think that they're going to be needed
and in this way hopefully you allow
access to a great picture of state from
anywhere you are in application and
that's that's really kind of the best
you can do with JavaScript because
JavaScript doesn't usually have a great
awareness of what's going on in the
larger picture but it knows what's going
on with that object during knows what's
going on with that application state and
the DOM is actually a good example of
this um because of course if you take ad
on alignment you have all of its
properties all the things that are
already defined on it if you want to
make up properties and add them into
that element no problem you can do that
and then each element has its own state
and whatever modifications you make even
if you if you create new properties that
doesn't affect what the actual Dom and
the API in the browser consider that
type of object so for no mistakes if
you're using try-catch in your
JavaScript I think that you should
probably be worried um if you're not
doing something that you have absolutely
no control over um you should definitely
be worried because try-catch implies
that you you don't know what's going to
happen you can't you can't foresee it
and you don't want to which is kind of
messed up because you can typically
handle whatever error you think might
occur and so rather than putting a
try-catch around it the obvious thing to
do is just to try and find that error
and handle it so if you have people
setting private properties or you're
trying to keep certain things from being
accessible just don't make them
accessible that's easy um if things are
coming in is the wrong type and you're
concerned that you're not going to get
the right type of information try to get
the right type of information out of
I mean rather than rather than just
rejecting something because it doesn't
match your api specification why not
look at it a little harder and see if
you can actually make it fit bottom line
you want to be again agreeing and if you
can't agree then return this and get the
 out meaning your function not you
um so if if you get an input that you
can't you can't use specifically what
you would like let's say that I passed I
passed the value of bar into a function
that's actually connecting a property
bar with a value assigned to it so if I
get that there's there's no reason I
can't actually check to see whether the
value that I get passed in is usable
assuming that I have defaults for the
other properties that might get set in
that same object and assuming that I'm
able to differentiate between the types
of things that are getting passed in so
I don't have to throw an error there if
I can potentially use that information
and that's that's basically what an
error is right again unless we're
talking about like things like a server
not being available or whatever else
things that you actually can't control
it's just us failing to realize use
cases um and javascript is happy to help
us with this problem if we're happy to
write the code to do it so in the real
world I think again a simple xhr as a
great example because there are a lot of
things that can go wrong with the next
HR and some of those you can't control
if the server is not up the server's not
up and you're not going to be able to
hit it no matter what you do but some
things you can try and work around so if
it's just timing out if you're on a slow
connection for some reason you can
always try again right um not to an
unreasonable degree but once or twice
sure if you get a 500 error like maybe
somebody who wrote the server-side code
was expecting again you sent them a post
or something like that there's no reason
you can't try other methods of
connecting to to the server-side
resource and um hope that that gets you
a little further of course again you
can't you can't always alleviate all
your errors I mean this would be a very
different talk um if if I had a way for
you to do that but we have good ways to
handle the situations where you do need
an error
we have excellent patterns now for for
dealing with this um I really like the
error first callbacks that that are a
pattern I think that came from node I
hadn't seen it before um were you you
first pass in the error information in
the new pass in whatever data is
supplied to the callback that's great
and you can do the same thing in reverse
if you're writing your code with error
handling in mind you can actually pass
in an airbag error call back first to
whatever your function is and and have
that as a standard part of the way that
you write functions and that's that's
kind of cool as well and the great thing
about those kind of callbacks is that
you can you can just suppress errors if
developers don't choose to supply them
so it's opt-in error handling and you
leave it up to the developer to decide
whether this error is important or not
so I like to talk now about how this
relates to the golden rule the golden
rule is everybody know the golden rule
yes probably nobody okay that guy um the
Golden Rule do unto others as you would
have them do unto you apply decoding is
simply you know something like code it
like you have to use it um and that
includes um not only coating it like you
have to use it personally but coding it
like you might have to use it for
something other than the use case that
originally inspired you to write
whatever it is a framework a transpiler
some kind of tool some utility whatever
um so not only like you have to use it
personally um but like you might have to
use it for other things so why why
agreeable functions for this to fit this
golden rule um because we want functions
to be reused right like we write them to
create abstractions that make things
easier so we don't have to write the
same code over and over again um and so
the best the best functions are
decoupled they're reusable and that
makes them easier to use in they get
used more simple why affirmative return
values because returning true at the end
of a function unless it's a utility
function that explicitly tests whether
something is true is I mean you might as
well return anything like you you can't
get any value of at
and so if you return something that's
more than what people need the worst
case scenario is that they don't use all
of it big deal and we don't write a lot
of peer utilities anymore we have good
utility libraries right now and so more
often what we're doing is actually
altering the context of some art object
that exists and so it makes perfect
sense to return that object and there's
no reason not to go and with
asynchronous functions we have you know
you can return a promise you can use
subscribers um you can still do the same
thing so that you continue the flow of
your application at every point and
nobody ever has to go looking for that
object they were modifying or a way into
that workflow that involves several next
functions imperative States because we
want to have a clear picture of the app
that we can control at all points and
that includes all the objects within it
and it's good to have access to curated
information if you will as much
information as makes sense not a bunch
of like private variables that aren't
really private that you don't need that
are just set up stuff creating creating
a good useful state is is very helpful
obviously and also avoids you getting
into situations where you say oh that's
that that's not edible or that's that's
you change this in one place it has
other effects in other places you
sandbox these things and keep them
separate from each other and in that way
you get you get clear pictures of
everything that you're working with
ideally because once people start
sending properties on an object or
trying to use it they want they want to
feel like what they've created with your
code is a good looking object and they
want to they want it to do what they
wanted to do obviously and when I no
hair no error error handling and because
again exceptions are useless you can't
do anything with them so obviously you
should strive to avoid them rather than
striving to indicate to the user how how
they should avoid them your code should
avoid them and there are lots of ways to
provide opt-in error information so that
you can you can make those errors
optional for people who want that error
information if somebody really needs
something happen that's cool they can
get at it but if not why I screw up
their app
location because your code expected
something to be a certain way and it
wasn't so if we just give developers
access to what they weren't then that's
that's kind of the way the GS works best
and just a little bit more about errors
errors become useless on production
right like what what good is an error on
production that your user sees not much
I mean maybe it's good in development
but um once you get it out to production
it's valueless mostly though my problem
with errors is they encourage us to to
narrow the definition of what our code
should do rather than expand it and
that's not helpful that doesn't get us
anywhere every area that we throw makes
us feel the developers working in with
our code feel less in touch with the
code that they're actually working with
it makes it less friendly it makes it
less appealing and it it reduces its
usability so again the Golden Rule your
code needs to be a good improv partner
um because if it's not then your code
and the developer who's using it fail
together and your codes always going to
be built upon so even if you're not
writing a library even if you're not
writing a toolkit somebody's always
going to come along and work with that
code you should anticipate that because
the alternative is did whatever code
whatever website your code is on just
gets scrapped and I mean that's that's
no way to think so people will just do
things with your code that you don't
anticipate be the a large or small and
the ideas that you want to try to
account for that because JavaScript
really wants to be empathetic like Tina
Fey we already have these language
features that that sort of encourage
this we have we have these these
function signatures that are not tightly
defined we can we can sort of pass in
whatever we want that's part of the
language if we want to create an object
state we want to create multiple objects
states who want to clone object States
we want to set properties to be to be
transparent and changeable or we want to
keep them private so nobody messes with
them like that's all part of JavaScript
we can we can just do that ad hoc and
change whatever we want we don't need to
say that some some code might create an
error we don't need to give a heads up
to the executing
the the browser or whatever or node um
we can just deal with those errors if
they come up and hopefully they don't um
and we have this blurred line between
the people who are the users and the
people who are the developers there
they're probably more clothes than in
any other in any other language I've
ever worked with certainly um and that's
important because that means that the
way that people interact with javascript
is I think a lot more the way that they
interact with the web in general even
when they're developing and you always
kind of have that that picture of a user
in your mind because you will at some
point be a user I mean for instance how
many people have who have developed with
jquery have also used a website with
jquery that they didn't create like i
think probably everybody in this room
who's ever touched jquery that would
apply to in the future um it gets a
little fuzzy because we have we have
these new standards we have new
languages that compile the JavaScript
and they they try to maybe protect us
from the dynamic nature of JavaScript
and that's cool but um I think it's
important to remember that you can write
JavaScript in a language you went right
out so if you want to write JavaScript
that looks like Java you can actually
just write Java and compile it down to
JavaScript and you're done um with
JavaScript we get unique opportunities
we have we have there's value in the
dynamic and fuzzy and messy nature of it
because again it works very closely with
the user and it's if other languages are
drama it's more akin to comedy because
it it works again in in a fuzzy ur way
and it deals well with the types of inch
uncertainty that we're often finding
ourselves trying to model uncertainty
it's kind of hard I'm not going to tell
you that like this stuff is you know but
you just go grab a framework and you're
done right um it's difficult to
encourage good coding practices if
you're allowing like all kinds of
arguments it's hard to do chaining if
you don't know what exactly you're going
to be passing into the next function um
having these potentially limitless state
hierarchies and like tons and tons of
instances you don't really know what
how they connect together or whose
parent is whose or whatever like that's
hard and of course moving on after you
get an error after you you get an
incorrect input like and still giving
useful information and still keeping
yourself in a useful state is is very
challenging it doesn't mean it can't be
done the trade-off of course is that we
get code that's very very much decoupled
um we get we get things that that don't
have a dependency not only on each other
but on any sort of API or on a very
strict API and that allows us much
greater potential because we can we can
create things that that we didn't
envision and we're building tools
specifically to create things we didn't
envision rather than just kind of hoping
for happy accidents so in short we get
empathetic systems the people can
actually relate to because they're
actually working with people rather than
just telling them know when something
happens that they didn't account for
JavaScript basically wants to be
hilarious um predictability is great but
it we can do predictability everybody
knows how to do predictability um
legality like whether something's an
appropriate argument or an appropriate
output um again pouring we know how to
do that we know how to work with that
it's not challenging basically forcing
other people other developers to conform
to our expectations is not challenging
it's not interesting and it doesn't move
us forward um in JavaScript does this
well it it it does the alternative very
well and I think it works best that way
thank
we still a little time take some
questions as anyone have Missy hands um
can you think of any specific API is
that you would emulate or that you would
see that's Algeron get over something
that I could look at and get an idea of
you know someone that's using approaches
like this to design I think that I think
that jQuery does this really well um I
like and as far as like node and like
frameworks and stuff I don't I don't
have a good answer um but I think that
the way that jQuery has the way had its
evolved to kind of like do this kind of
stuff to be like we don't know what
people are going to do with this so
let's just try to cover all the bases is
it a pretty good start yep mm-hmm
alright cool thank you very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>