<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Tim Messerschmidt: Getting to know your users -- JSConf EU 2013 | Coder Coacher - Coaching Coders</title><meta content="Tim Messerschmidt: Getting to know your users -- JSConf EU 2013 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Tim Messerschmidt: Getting to know your users -- JSConf EU 2013</b></h2><h5 class="post__date">2013-11-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/YTlgMXqsuhM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">you
you
hello everybody my name is wonderful
German it's tim Messerschmitt I hate it
and today my talk is going to be open
identity getting to know your users and
basically the cool stuff that you can do
with that so as you got mentioned
already I'm a developer evangelist at
paper and whenever I turn up at the j
has come for something people like what
paper we so what does people actually do
at jas comp paper used to be a bank
right like but that's one of those
companies running c c++ in their back
and having really awkward you eyes and
stuff like that that was with our ode
CEO so then a new guy called David
Marcus showing that being a startup guy
and he decided let's throw all of that
stuff away and hire some great people so
we had people like Jack rock for joining
us we've got bills god no with us and
those guys decided to create something
amazing so our new back end is basically
running on no Jas we use dust for data
binding we use backbone so lots of cool
stuff that you guys use in your project
are now running on all scale as well so
about my talk first of all you can go to
develop a paper come but this is not
going to be about paper products now
this is going to be about different of
my identity technology that's a off of
one a up my ID connect almighty browse
ID all that stuff that helps you to
create great user experience so what
really is identity I think the best way
to explain anything is using Lego and
using ninjas so I heard a yeah thanks so
on the interwebs I can be whoever I want
right like I go to a web service I go to
any site I were just on my account and I
say my name is mr. T I'm wearing big
golden chains I don't like flying around
I'm basically part of the 18 how can you
prove that you can't really write also
for some use cases I want to really be
me because it might be that this is
closely connected to things like
shipping items to me and then I want to
make sure that I really prove my
identity so these are some of the things
that I'm talking about and also I want
to talk about how to bring this
technology how to bring stuff like oh
off and to not just be logging in
context but also into stuff like API
communication so if you have any
questions during the talk feel free to
reach out to me but also are they
available after this session to discuss
anything so lots of people use identity
always the same way they go to a web
service way to use the mobile
application and what they do is I use
Twitter Google+ or Facebook all the time
mostly it's even the same service the
reason for that is they don't really
care we just share the details and we
want to log in quickly right the issue
is should we really do that like should
you always expose the same identity and
does it always make sense to use the
same identity I don't really think so
also I want to cover some slides
annoyances that I see people often
confuses the topic authentication versus
authorization so authentic Asian that's
what you might expect from stuff like oh
my d browse ID so authentication
technology is about proving that the
person logging in at the service or the
person using resources is actually you
so that's really about identity while
authorization is mostly about sharing
resources so that could be your direct
message is a Twitter that could be your
Google+ stream that could be lots of
different stuff like facebook image
upload anything thats basically can do
interactions with an api could be a
resource
the issue is due to be mixed up nature
and messed up nature of identity
products often authorization gets
misused to use a bit basically to
authentication so that is something like
an endpoint / profile me something like
that that works kinda but it's not like
how it should be so let's have a look at
the current standards in order to
understand where we are what's coming up
and what you maybe should we think so
basic off is quite known right like we
pass it as a header then we have the
base64 encoding or you can pass it in
the URL this is basically really like
passing your client ID and be secret
your username and password anything like
that that was kind of suitable but it's
not really secure now in 2007 define a
draft for something off 1 got released
whoever implemented all of one who liked
it see same happened to me so my
background is actually I'm coming from
the Android world and I was forced to do
some JavaScript and I it really turned
out I kind of liked it and while on
android is was really because it
was Java that you had to use on
JavaScript you at least have amazing
libraries nowadays like passport that
help you but still 0 of 1 is kind of
clunky so lots of interesting people
like Aaron hammer were included in this
Aaron hammer was one of the contributors
at I ATF and you will see this named
Nate anonymous lights so lots of
companies like Twitter Yahoo Google
started to use of one because it allows
users to actually use the google account
at other services to use data from that
so basically it allowed to have a much
nicer login experience and login
experience is really something that
matters
now sadly in 2009 there was a big issue
we come to that but first of all let's
have a look at the flow it's totally
convenient so people first of all have
to request something they call a week
rest toten that's on the consumer which
is basically client side and you have on
the right side B service provider so
that might be Twitter that might be
Google Facebook whatever you want now
after this token got generated and got
returned to the consumer the user is
going to be redirected to the service
provider he has to log in then depending
on the flow he might get something what
it was called Auto B which was basically
a code that he could copy-paste into
another window again or you could use
something they call verification code
basically to obtain the authorization so
user logs in says yes with application
should definitely have all my images so
I login then this funny authorization
token gets generated and on my console
my side I'm going to exchange that thing
for something we call access token so
again we talked to the service provider
and the service provider make sure that
this is still the valid user sounds kind
of good right and then with the access
token being returned to my consumer I
can do things like requesting resources
so far so good but all of one had some
flaws initially the client got the
redirect URI so we're basically the
service provider should lead you after
doing things like the authorization in
the second step so the user got
redirected to beside that you provided
but what if a counter-attack would be
done so people could actually use this
redirect URI and get the needed
authorization code and basically hijack
your identity which is not really nice
so they came up in this this thing
called oh of one dot a or 10 a whatever
you like
and the idea was we move this now and to
be first step so you cannot just easily
modify the officer flow and therefore
it's much more secure and actually kind
of worked but having a look at this it's
kind of complex there's a lot of steps
involved and the issues this was not
really designed the things like mobile
and minds this was not designed with
things like embedded systems in mind so
it had to be simplified and there had to
be more scenarios so oh of two came up
so this was definitely focused on
simplicity this was focused on things
like different scenarios define a
framework basically released in 2012 and
everything seemed to be amazing it uses
bearer tokens which basically are used
to do the authorization via the header
it was much easier than all of one
because of one without using a library
on the client side was a huge pain so
whoever implemented off to client side
did you like it more than off one it's
much easier really basically if you
understand how to set one single header
that's it that's all you need it's much
easier sadly there were again issues
let's have a look at the flow so instead
of doing something like generating this
request token that's kind of not really
is authorized we direct the user
immediately to the service again we
obtained the authorization again we get
the access token and we use that thing
to request resources like your profile
and stuff like that so they got rid of
one whole step so there's this thing
called free leg or off and there's this
pin code to let go off and that's
basically what you see over here so if
you depend basically compare this
against this it's much easier and this
is why you don't have to feel around so
much with libraries anymore because it
gots basically
designed with easiness in mind now the
issue again is 0 of 2 was designed
initially beginning of 2009 2010 ITF is
kinda big as a group lots of companies
I'm being involved so one guy last year
released a really angry blog post who
saw that on hacker news so Aaron hammer
basically being one of the main guys
behind the whole or one thing behind the
oil or two thing at some point decided
which is all crap so they've been
designing this one big solution that
should help corporates that should help
startups that should help independent
developers to quickly create things like
the authorization for your service the
big issue was there was basically too
many scenarios and too many people
involved and so his big statement was
that while off to basically being nice
it's more than a it's just a blueprint
so basically it tells you you could do
it like that you could do it like that
but it's not really being concrete while
the off one specular aspects were really
concrete in nearly all details so Aaron
was really pissed off and that's right
so there's another guy who does lots of
blog posts about security who does lots
of things like buck hunting his name is
Igor Makarov and he wrote this other big
blog post about Oh of to being basically
a huge huge attack surface because
there's things like the access token so
the initial fault behind an access token
is once you have that thing you do stuff
like you throw it against you server to
get dark messages you throw it again v
server to do things like posting and you
tweet everything that you basically do
works with the same access token but
that thing doesn't really
hiya so if somebody manages to get your
cookie and he has access once to your
access token he has access to all your
resources and that's not really great
right so people came up with the idea
they could make expiring tokens but that
doesn't still really solve the problem
right because it doesn't really matter
to me if I have two minutes access to
your resources or 10 hours if I have
access i can get your resources so there
were lots of different discussions going
around or to being not secure enough and
off to being secure enough and basically
what you will see is if you have a look
at companies that use or to like Twitter
and Facebook or even mass as paper lots
of them do lots of service Heights
modifications around this blueprint so
security implementations are possible
but the protocol doesn't really tell you
how so you need to be really aware about
how to do that now we basically have now
the big nice authorization so we could
get resources but initially off was
meant to be something an ominous so
whenever I login using off I don't want
to grant you my username not my password
I don't want to fill in lots of details
but at some point you might need that
because you want to implement a nice
user interface saying hi Tim it's
amazing to see you your black hair looks
great stuff like that I don't know so
identification meadows and details like
having a name date of birth creation
date I don't know like anything that
could be closely coupled to your account
can be valuable now especially things
like creation date for accounts are
interesting because you could think
about is an account that got created one
hour ago as valid as an account
God created four years ago and the
interesting thing about this is and
scopes are being used to define the
resources that you want to access or be
attributes so scopes can be either
static so you define the Mons and your
application always get the same data our
scopes can be dynamic so while you
basically do the authentication part you
can define that you want to have the
profile the profile plus via email
things like that there's different ways
to define that because of two gives you
be freedom to define stuff and lots of
companies really do it different so this
is actually not a bad idea right now
identity products had a few issues o
mighty it was meant to be amazing
because it was meant to really identify
you was developed in 2005 so it's kind
of old again in 2012 there was one big
buck being discovered which allowed to
hijack our fabrication so it was not
really secure anymore and really just a
few days ago gen rain announced that
they stopped to use my almighty com so
your central one identity for the
internet might be shut down so up my tea
while being intentionally writes about
proving that it's you had this big flaw
it was really difficult to implement
this back was huge because it had things
in there like out to discover ability
and it kind of didn't work so identity
still matters to lots of companies and
one company came up with a solution
called browse ID or persona name Mozilla
and that thing was launched in 2011 they
brought a new feature called identity
twittering which allows every Google a
user to login at this one central
service which might be again some
central identity service browser ID
being baked into your browser in Firefox
and I think there's also libraries for
other browsers
and persona being the one central
service in the web so we've learned that
there's authentication and we've learned
there's authorization but how to combine
them both like really nicely not just
being an off heck so the first solution
was to come up with up my teeth of an
extension for oauth which they call or
hybrid extension that thing got drafted
down in 2009 but it relied on off one so
by definition it was to implement
and sadly there were all these flows
like the of one flaw so why you
basically had access to resources and
identity it's dependent on a bed
structure so it was not really great to
use and then there is 0 mighty connect
which is still a draft but it gets lots
of things right so almighty connect is
based on or off too and that's nice for
your authorization part and it adds a
big identity layer on top of that in
order to make sure that you get a really
nice resource friendly REST API friendly
access to resources like your profile
and one of the interesting things is
that they implemented something they
call session management so on off
usually if you want to log out as a user
you have to go to settings page
somewhere hidden in the service and you
have to revoke token access lots of
people don't really know what it does so
they just leave applications be forever
and that's not really the best way to do
it so on up mighty connect using this
session management basically you have an
additional endpoint / logo or whatever
you want to name it that you can have in
your UI that you can have as a user to
end your own session and basically avoid
your token so we talking that somebody
stored in the database wherever he
stored it cannot be used to access new
information anymore so that's quite nice
and also I think need it
now I've been mentioning different
identity providers I've been mentioning
the social ones like Twitter like
Facebook like Google those are amazing
for lots of different use cases like
games you see companies like SoundCloud
implementing that that's awesome but
sometimes and use cases like e-commerce
that's where we come from you need more
concrete data because anybody can put
anything on Facebook right and so you
always have to think about concrete data
that you can use in your UI to improve
user experience and also be nice thing
about concrete data is you can rely on
it being verified because usually as an
example if I login at eBay with my
paypal account and I have the wrong
shipping address because I skipped lots
of big parts in the registration or
something like that somebody adds gets
my package or nobody gets it so it
doesn't really help one thing that I
hate and that are really discover
nowadays in lots of services are
artificial barriers so that applies not
just to be bad but also negative native
apps you go to the website and it says
login with facebook login everywhere
whatever provider you want and if you
don't you cannot use we service I call
that an artificial barrier because you
kind of make sure that this gatekeeper
keeps out all the users but some users
just want to have a sneak peek of your
service want to understand what you
actually really do and so it makes sense
to don't force all these resource
sharing things you want to encourage it
so you say if you log in again then you
get all your friends showing up and
stuff but at least make sure they can
see some of your service before now I've
been talking a lot of about the singers
and on techniques about off and stuff
you might think yeah nice but why should
I actually really use it so now I come
up with numbers people forget passwords
there was this consultancy called blue
ink
they basically did the survey asking if
somebody would type in a security
question or would email his old password
to his email account or something like
that basically resetting your password
kind of things and only forty-five
percent really said if I have to do that
I'm not going to come back again people
don't like to use passwords anymore may
like to use services that they have
anyway because if i define all my
properties and attributes like my
birthday my email address all that stuff
I don't want to come up with that stuff
again it's basically slowing me down
because I want to access your
information and also especially when
your mobile there might be so much
problems with error-prone data so if I
have to enter my email address it might
be wrong because I was in the tube stuff
like that just try to speed up things
there's another fact people think that
social sign is actually desirable they
have these profiles please use them
offer to use them at least now I've been
talking about the whole user experience
being it's nice that you use it and
stuff but what else can you use
authentication now for your JavaScript
guys jsonp might be known I hope so so
for cross-domain requests like getting
different scripts and other web services
usually you use either course or JSP and
now you want to secure this
communication and because Jason P is
basically an attack vector because you
open up your site to scripts and
callbacks from other sites you want to
secure that so that's where you can come
in with basic off again you saw that my
quest spoke about things like the nonce
that you can pass for scripts those
techniques really have to use
authentication in order to make sure
that your service day's really not
attacked nice and
fenced now course who knows course
awesome so especially in the payment
scene right now causes a thing there's
this thing going on they call PCI
compliance so whenever you accept credit
card data in your service you need to be
PCI compliant which means you have to
store data in a predefined way you need
to be certified which costs a lot of
money and companies like stripe came up
with techniques that allow you to
basically pass data directly to them and
we didn't do the same with our API lots
of other companies nowadays use
cross-origin request sharing which
basically make sure that you have
something that works again be same
origin policy and again this is where
you could use things like of two so our
API is an example that now used the
organization bearer token thing to
basically pass a header with of two to
make sure that the payments API call is
secure so this is basically really easy
you these things like you do a basic
authentication to get the auth token and
then you use you of talking to do any
payments cause lots of companies do that
and I think it's actually kinda smart to
use the same technique for that now for
course you do things like modifying the
xhr by setting the access control
headers so in your request you say where
the origin comes from so that could be
your server that could be any other
server and you say which other servers
are allowed so you say that that these
access control headers are set and
therefore the API Bob calm thing from
html5 rocks enables you to get the HR
back from that and that's amazing that
really helps so if you want to have a
look at api's that use that you can go
to github com github the users that for
their API and I think it's kind of a
good technology and a trend that is
desirable
now wrapping up things I think there's a
big difference between authentication
and authorization and people shouldn't
just use of 22 heck identification into
the product identity obviously matters
so it makes sense to not just offer one
identity provider but several of them
and also you might want to think about
things like token-based API
communication to co can secure your
client server communication don't keep
your users out and now I'm really happy
to have QA thanks
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>