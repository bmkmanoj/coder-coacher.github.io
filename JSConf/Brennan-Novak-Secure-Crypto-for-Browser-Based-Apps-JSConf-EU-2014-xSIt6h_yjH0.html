<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Brennan Novak: Secure Crypto for Browser Based Apps | JSConf EU 2014 | Coder Coacher - Coaching Coders</title><meta content="Brennan Novak: Secure Crypto for Browser Based Apps | JSConf EU 2014 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Brennan Novak: Secure Crypto for Browser Based Apps | JSConf EU 2014</b></h2><h5 class="post__date">2014-12-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/xSIt6h_yjH0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">thank you for listening to my talk and
being here it's a total honor it's my
first time on the j s comp stage but
i've had a handful of friends who have
so this is the time of my talk secure
crypto for browser based apps in the
last year some of you may have heard of
this guy Edward Snowden and the
revelations that he made about the NSA
and gchq he didn't really talk about
malicious hackers but rather the
exploits that they could be using to be
stealing your data and while some people
might not worry so much about government
surveillance there are malicious hackers
out there so being secure is kind of
helpful regardless of what who your
enemy is and what your threat is in the
last year we also saw a huge rise in
crypto currencies about a year ago the
number of Bitcoin wallets that were
registered were less than half a million
and now there are over two so there's a
whole bunch of other cryptocurrencies
and all of those are based on a lot of
the same principles as normal
cryptography and security but good news
is that Snowden said the bottom line is
that the crypto does work all of the
math he never saw any evidence that the
NSA has any crazy quantum computers or
anything that can actually break the
math that's out there so you know strong
crypto is this necessity for a free and
democratized Internet you know we really
need it in order to have secure
communications secure file transfer and
when we start getting into things like
cryptocurrency it's important because
that's your money if you're into that
sort of thing i will say first off i am
not a cryptographer at all i'm a UI ux
designer and i've been working on this
project called mail pile for the last
year it is a secure way to read write
and organized piles and piles of email
we started adding encryption features
when we start working on it right about
when the Snowden's stuff started leaking
and we realized this is something we
really need to focus on a lot
so we consulted with the security
community and we came to the conclusion
that we are weird and we are not going
to do any JavaScript cryptography so you
know I know you're at a Jas conference
so maybe you're hoping to see that but
the talks yesterday were more about that
I'm going to go into it a little bit and
the current state and why we chose not
to go with it so one of the first
aspects of cryptography and
public-private key cryptography is
secure key generation you need to
generate a secure key in order to
communicate in order to sign and verify
and send data and here's an example that
somebody made recently about JavaScript
cryptography and saying you know using
elliptic curves instead of a prime
number factorization we can generate
much faster keys and he's going to
generate the random numbers and the keys
right here while the key base pgp is
still trying to hunt for primes and he
was brag about how fast j/s is at this
and how that's really really awesome but
right about here he typed a command that
was window crypto and that's kind of one
of the backbones of cryptography is
generating random numbers Tim's talk
yesterday focused a lot on this and its
really awesome it's a really exciting
API that you know we're going to
hopefully integrate in the mail pile at
some point in the future once it
stabilizes a little bit more but you
know when we looked into it a year ago
you know this was as of two days ago
they just updated their site because
some of the guys have stabilized a bit
but basically window crypto is very very
not supported in a lot of browsers well
okay so why not choose in html5 app you
know like a chrome app or a Firefox app
or an opera app or an IE app you know I
don't think there isn't how yet but
anyway you get the point and in that
case you would know you're getting a
browser that has the api's available to
you and then you could be running and
doing the cryptography in JavaScript
which would be cool but email you know
you're dealing with large volumes of
email data we'd have to write numerous
browser specific shims to access the
file system in each one of those apps
and now it kind of become a nightmare
the big no-brainer is that like there's
not really smtp or I'm out you know
support from a browser app I believe
Firefox OS is making progress and I mean
they have you can do that in Firefox OS
but as far as the rest of browsers it's
not quite doable another big aspect is
obviously the code integrity as j/s
files get downloaded from the server to
your device they've could switch at any
point you know they could be hijack and
malicious code could be put in and your
keys and your communications would then
be compromised so all told you know we
really felt that like JSE's getting
there but it's not quite there yet for
our needs however there are some really
really really solid j/s crypto apps out
there like cryptocat and mini lock by
this guy nadeem so if you're really into
that sort of thing you should follow
along with him and what he's doing and
try out his apps because mini lock is a
file encryption app and cryptic head as
a chat app and they're really great
they're getting audits by the security
community and he's making a ton of
progress in that direction so I'm gonna
segue kind of back to our approach of
what we built called browser based apps
because you know runs in a browser duh
right it's on a calm but we also have
this idea of local browser based apps
which is a little bit strange so like
bear with me and have some patience here
like you know imagine running a nap on
localhost you know as a web dev you
probably are familiar with this but the
rest of the world is kind of like what I
don't really understand that that's not
a viable solution that's not really nap
I go to the internet right I use a
browser to go on the internet this idea
of local host is terrifying to them so
what we're going for is kind of this
hybrid app we have a Python back end and
an html5 front end that that renders the
interface that you people interact with
we have native installers for mac OS and
windows and native integration like the
toolbar in the tray bar on windows so
you can install it really easily and
then access it and it feels like more of
a native app it just spins up a browser
window instance when you're ready to
access it so we might be shaking your
heads right now like okay wait what this
guy what are you talking about but
there's a lot of really good reasons
that we wanted to experiment with this
style of app
one thing there's a much larger talent
pool in the front end community you know
web versus negative developers is
roughly sixty eight percent I'm getting
this statistic from github looking at
github repos and I realize these are not
exact numbers I mean some web apps are
written in Java and you know some
desktop native apps are written in
Python but the kind of difference in why
I'm saying this is a web app is that
it's rendering in the browser and not
using a native like &amp;amp; goo something to
render the GUI like QT or something else
there's also a lot of deployment options
when you build an app like this right
you can deploy it to your local computer
and run it like a native app or you
could deploy it to your server and
access it over the network as long as
it's done securely that's pretty great
and then you get a ton of benefits that
your interface can respond and adapt to
whatever device is accessing it so as
developers that we all need to write
like one real interface logic we don't
have to have multiple ones in different
languages or you know so then the
question is like well where's the crypto
going to happen and why does this
approach make crypto secure in some way
so imagine we have the html5 run in that
requests data or interacts with the
application that gets sent to a Python
back-end over a REST API or from like
zhengzhou templates that get rendered
and then it talks to a good new PG
binary and passes the data back through
that flow and so basically the front-end
code never really actually interacts
with any of the super mission-critical
crypto things like your private keys
which is a huge security gain because
the new PG has you know been around for
a really long time it's got a ton of
people's eyes on it who are really
respected security auditors and
developers so it's not some sort of
bleeding edge thing that's likely to you
know expose somebody safety yet however
you know things like heartbleed do
happen even with these projects but
again the security community really
feels kind of use things like this and
you'll be a much better off
so the benefit to us as front-end
developers if that's where you fall in
this room is that we never have to touch
crypto code you don't need to learn
about crypto code you don't need to
learn about that and then thus
compromise your own privacy because you
accidentally didn't understand the right
place to pass the right variable or the
right type of data structure or whatever
that then leaked your data or your key
another benefit of running of building
apps with this style is that your
back-end developers can access and
interact with many many many other parts
of the operating system like we're going
to be bundling tour with the application
to do more secure anonymous requests and
you couldn't really do that in a browser
app gpg tools is another like desktop a
pgp app but if you so if you need power
user features of that because you're
doing a lot of security stuff the api's
will all still hook and interact and
you'll be able to share the same keys
within your mail pile as well as gbg
tools so there's kind of this rising
trend that I've noticed that there's
these local browser based apps that are
doing this we're not the only ones doing
this strange thing one is called peg
spaces and it's a really cool like mmm
not how do you describe it it's a great
way to organize your files on your
computer it gives you a much more
interesting power user way of browsing
pictures tagging them sharing them
archiving them in whatever way you need
to do Nova cut is really cool film
collaborative film editing platform and
metal later is going to be a font
creation app that I believe manipulators
Python but nova or no Nova cuts Python
meta platers built on hoodie and tag
space is also a note app so it's
definitely there's people in the JS
community that are interested in this
because two out of those three are
written with giant JavaScript backends
so another big aspect is that javascript
is absolutely perfect create amazingly
fresh and usable interfaces and that's
one of the biggest things that p-gp
needs because when I got involved with
it everybody's like oh PGP that
interface can you do something your
designer I mean please help and PGP is
like really kind of like this drag
this multi-headed Hydra depending on who
you talk to and how you talk to them
they're gonna say like oh well this is
the problem with key servers of the
problem or no the fingerprint or the web
of trust or blah blah blah and it just
goes on and on and on but I think I have
a theory about why it's such a nightmare
and I'll get to that in a few more
slides but a year ago I kind of created
my first pgp key a quick poll like how
many of you have ever created a pgp key
that's not bad um and how many of you
use them like okay and how many of you
feel confident that you understand PGP
okay there's like maybe like five people
that did the last round so that's good I
don't feel too bad because the first key
that I created I can't even use anymore
because i accidentally deleted the
private one the same day because of
these reasons I was like oh one of my
friends is a 2010 24-bit key and I
accident or has a 4096 bit key and I
created a 1024 bit key and wait like
that must be bad and then sure enough
one of my friends is like yeah that's
pretty bad it can pretty much be cracked
at this point and the user should never
be thinking about this we're knowing
about this and it's it's again the
culture of the people who have been
building the software for all these
years they they kind of don't think
about it you know and then there's
actions like send me your public key and
what do you do you have this big block
of text you supposed to email it you
know there's there's never a real clear
way of what to do with it you have to
export it from one app and import it as
an attachment or you know and then you
send it and get sent wrong somehow or
you accidentally encrypt it so it just
leaves you feeling pretty frustrated and
the interface is for these apps look
like this you know this is the view of
what Mikey looks like in gpg tools and
I'm not knocking them they're awesome
guys and I'm actually collaborating with
them to share icons and and some user
interactions between our project in
their projects so it's more of a unified
user experience but like here's an
example of their key chain and it looks
like something from 10 years ago 15
years ago it's this really boring
tabular list with a bunch of cryptic
numbers on one side and names and you go
okay I think I understand and here's
kind of what we're going for in mail
pile we're going for more of like a
social networking sort of
variance of people because it's really
about people you know we don't really
have the key chain has disappeared and
this is because I come from the world of
web dev and being a front-end developer
and a UX designer you know I don't think
in terms of like how do I accurately
represent the integrity of this data at
paramount I think about what does it
mean to a user and I think as a
front-end person or persons in this room
that is the sort of thing we can bring
to these older school applications when
being developed in a local context so
there's like more than crypto you know
fixing older interfaces and experiences
from a web development standpoint could
be quite interesting no Paul has like a
REST API you know it's pretty standard
issue that I'm sure everybody in this
room is used to interacting with in some
way and that that enables us to do a lot
of interesting things like build
creative plugins like this one that
looks kind of like TweetDeck you know
where you're used to these columns of
emails you know which is going to be
again more interesting and new and fresh
than traditional tabular list based
email clients here's another example of
one we've been working on and it's force
directed graphs using the d3 library and
that's my social graph of a given email
search so I'm searching for you know
indie web which is this community I'm a
part of whereas if I do JSI get a
different social graph and the next
level is building and things to do with
all those nodes obviously and interact
with it but I find that pretty
interesting instead of just a
traditional email list we also have a
command-line interface that we're going
to expose through pipes and such at some
point but you can also use it basically
as like a data store of how to interact
with email data and one of the big
things we really care about is like
decentralizing the web you know instead
of having these large centralized
monolithic entities where everything is
a web server owned by a big company up
in the cloud we're saying you know hey
let's realist re expose your local
computer and have it be accessible
through something like indie rock or
page chi or even tor hidden services you
know it's a pretty cool thing like I
could expose my laptop here and anybody
in the room could start accessing it so
basically when you do that local local
becomes a server again so your email
could live on your private computer at
home
home you could punch through the NAT and
then be accessing it from your mobile
devices and you don't ever have to trust
in a third party to access or hold your
data that's how a lot of Internet used
to be back in the 90s and then it
started to shift this other direction
because it's a little bit easier in some
senses but the tools are out there and
we can work towards it so it's like
there's demo online if you find this
project interesting and you want to
explore what a new approach to email
looks like go to our website notepad is
because we're from Iceland and the most
we have it in different languages a
phone and tablet support is coming soon
and we actually just released our beta
last night quietly you haven't really
publicized it yet so you're the first
people in the room who know about that
and we'd love to have you download it
check it out use it file bug reports
send pull request suggest dream features
and yeah basically anything that that
you that you find interesting about
email or want to change or improve I'm
Brennan Novak and my pgp keys in that QR
code if you're into that thank you very
much
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>