<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>[JSConfEU 2010] Aaron Quint: The Front-end Takeover | Coder Coacher - Coaching Coders</title><meta content="[JSConfEU 2010] Aaron Quint: The Front-end Takeover - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>[JSConfEU 2010] Aaron Quint: The Front-end Takeover</b></h2><h5 class="post__date">2013-06-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/t71ot9nfvUg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">as Mata said I last time i talked about
bacon but i'm gonna get straight to the
point this time i am that bacon gether
he saw a talk in the guy milano hey that
bacon guy over the weekend which is
awesome there's something he said for
that but you know bacon it's beautiful
it's delicious nutritious but i'm not
going to talk about baking today sorry
because I'm right now one first of all
how many people are having an awesome
time this weekend's it's been amazing
right this is my first time in Berlin
and I really want to thank everybody
who's uh put me in a cab so yeah I but
in general i'm excited about javascript
but i'm really excited about something
else more excited than bacon if you can
believe it and he likes it like so
freakin excited i spent like the past
two weeks trying to make this demo
didn't quite work but i got almost there
but I was like I've you know I'm working
this is not my full-time job full time
i'm i'm working on a different article
real company and I've been like sneaking
away hours from actually writing company
code to write some stuff here this is
going to be on the internet I probably
shouldn't say that so anyway let's flash
back for a second I wanted like some tie
dye hear but I I couldn't find like a
good ty dice
so this is good enough September 2009 so
long ago I'd give a talk at jquery comp
right pretty soon after I least Sam me
and some people started using it first
of all how many people have ever used
Sammy in the room how many people know
what it is okay how many people were at
Frank's talk on thursday at berlin j/s
ok cool all right anyway since Amy's a
simple library that I rode i'm going to
go more into describing it later but
basically and I guess that's a year a
little over a year ago I gave this talk
of jQuery confer and I wrote a blog post
to you that got on hacker news and I had
to fight off some trolls and the basic
premise was that I wanted to envision
not that I was the first one to do it
but I felt like we had tools now where
we could envision this world where you
weren't writing server-side code anymore
really like front end the difference
between front-end and back-end would
just be divided you'd write your
application logic you'd have sams or
some other controller logic and a dom
framework and they would sit on top of
some kind of rest service like CouchDB
or some other really simple rest service
that you're on you're on your own on
Sinatra but if we really really
lightweight and all it would do is
basically spit JSON back and forth or
some other martial data format back and
forth between between javascript and and
the server and the debt layer would be
really thin and then all your weight
would be in you're basing your client
side code because now it's actually the
browser's fast enough that you can
actually do that so flash forward to two
weeks ago everyone saw this right so
when I saw this and I heard about it I
kind of knew i had heard things in the
works about it but i didn't know exactly
to what extent it was going to be and
you know i mean i didn't take care I
can't
getting credit for this but if you see
new Twitter all it is it's an API JSON
sits on top of it they have a controller
layer they're using some open source
technologies it's awesome and this is
all just HTML Javascript all the server
side code is completely separated and
capsulated away from the client side
code which is just JavaScript and
actually i think jquery too so not
saying I told you you know but it's it's
like told you so but after seeing all
those hacking to use trolls it's pretty
sweet validation bruh two to get people
actually like twitter twitter i mean
come on using something the same kind of
api structure and system that I've been
thinking about for a while and
implementing too so but what I want to
get out of that is that that's not
Twitter didn't just come up with it I
didn't come up with it and you can also
do something like this and I think it's
a really Twitter if nothing else as a
proof that this thick front-end thin
back-end can actually work and work at
scale too so I want to talk about same
j/s this is a new logo which I'm pretty
psyched about get the little hash tag
and the microphone so Sammy Jas is just
a simple client-side framework that I
wrote based on jQuery it's small its
core minimizes 15 k which is growing a
little bit it actually used to be a
little smaller but we've added some
things but it also has a plug-in system
so anything you don't need that's not in
the court is usually in plugins or you
can write your own plug-in and plug them
in but that's of course sitting on top
of jQuery which isn't that small but
assuming that you re have Jake where
near effort in your couch or whatever
it's going to it's pretty small it's
also pretty powerful or at least I think
so I've written some pretty significant
apps on it I know a couple other people
who have to it gives you this plug-in
structure it gives you template
rendering
it's really the controller layer on top
of which you know your code sits and
contains is contained and try to be
organized and it gives you a lot of
extra little bonus beats which I'm going
to go into intersect it's also really
simple or at least I think it is too it
really has a como API especially if
you're coming from Ruby are coming from
some other language where you're used to
kind of restful structure it should just
be pretty easy to grasp and understand
so okay i'm going to attention now so
API application programming interfaces
I've love ap is like seriously love them
I love writing them I love dissecting
them but most of all I feel like I'm an
API designer I even at my day job where
I'm working in Ruby and working in
JavaScript and Sammy and working with a
team of developers and not just might by
myself the way I usually work as I
sometimes just my favorite part is
designing the API designing how other
developers and other tools will interact
with this code and then you know that
actually implementing it I get some
thrill out of that but really it's
making something clean and beautiful
that I'm really psyched about so to
express that encode and code for me cool
clear is greater than cool and
compressed and specifically something
that's fun at least API design for me
and it's and working with a code that a
clean API that's well design is way more
nice and more fun and much rather do
that then working some with something
that's maybe not the cleanest or not the
most standard but it's super fast so
does anyone know who that is max yeah
that's that's you can hear matsumoto
he's the creator of Ruby how many people
here right Ruby at all our do a little
bit of Ruby cool so met max to this mess
created
me like 10 years ago or actually more
like 12 or 15 now and he is he's from
Japan and he used to be a pearl and
cobol programmer and he took what he
thought were the best parts of purlin
and small talk and all these other
languages and made something that he
thought was you know beautiful that was
his that was his goal he said I'm
paraphrasing but he he he says he wants
to optimize for developer happiness
that's what his goal as writing Ruby is
which is very different than other
languages goals other language is often
optimized for speed on the server or
optimized for you know speed of
development like cogeneration tools he's
really into just making code fun to
write and he thinks that if you're going
to sit at a computer and write code all
the time you'd better be having fun
which I really appreciate and I kind of
I kind of follow that same methodology
so that's the intention so maybe that
gave a background on to what I'm going
to talk about which is Sammy's API so
this is a really really brief example of
what I say any app looks like probably
the simplest possible example so and
also this is the latest Sammy that I
just pushed like two weeks ago now so
you initially salmon which is an app and
it takes a function and the function has
a bunch of different API lies within it
or that an application has a bunch of
different API is in it specifically it
has the main API which is routes or what
you call roots in Europe and you are you
an honest when the context of the Sami
function which you're passing is the
same application and inside there you're
calling defining these routes or around
is basically a restful route it responds
to HTTP verbs like get post put delete
you can't actually do delete because
it's a reserved one John sup so it's del
but just so you know so when you define
a you're giving it a pass
and then the verb which is get and then
the actual route context itself are the
call back here which inside of that is
an event context which is another nice
little little piece of code and what
that does is it abstract some of the
things that you will do working with an
app like redirecting logo templates yeah
changing the location I'm trying to
think what else Oh basically anything
that manipulates the state of the page
so they see what happens is when you run
this it'll run it'll go to pound / our
hash flash and then when that event
happens or when it goes that route
salmon will pick it up and then run this
callback so in this case it's going to
run this callback in this event context
and then inside of the event context
we're using this new thing called render
context what render context does is
abstracts the template manipulation that
you often have to do in these single
page applications so I'm going to go
more into that but what do you guys
think it's pretty simple right I mean
maybe I didn't explain it very well but
if you go there's good documentation you
can go check it out but in general the
API is pretty clean i'd say like it
looks a lot like jquery it's pretty easy
to read you have a pretty good sense of
what your context is all the time and my
main goal is trying to encapsulate
everything possible into these routes or
into events so you can actually you know
as a developer who didn't write the
original piece of code he can go back
and look at this and instantly
understand that when i go to pound /
it's going to do this below as opposed
to having kind of a mess of events or
bindings and stuff like that it's pretty
simple so right now we just I just
released Sammy 061 which is like a
actually release that today or yesterday
six KO two weeks ago and the big thing
who layer was what i was talking about
to render context so a render context
the biggest complaint that i got from a
lot of developers working with Sammy was
you know especially when you're dealing
with getting data and then getting
templates and having to interpolate and
render templates you have this kind of a
lot of people have been talking about
this all day but the pyramids or the
nested callback structure so here you're
getting a partial and then inside of it
you're swapping out some HTML then
you're getting some JSON and then taking
another template and interpolating that
here with mustache right so for and for
each of those for each of those items
rendering it and appending it to a list
so the new way here let's just can flip
back and forth sexy right so the new way
is very heavily inspired by promises and
sexy J s which is a really cool library
and a bunch of other tools that abstract
this kind of nested callback style into
changing and into kind of an event queue
so what happens here is render actually
right here is actually a asynchronous
call it goes in it hits the gets the
mustache template from the server then
it replaces the main object with set
previous content then it renders this
items not json thing which means it just
takes the JSON and turn takes a JSON
file and turns it into actual JavaScript
object then with each of those objects
it goes in gets the mustache template
and then appends it to the UL so
basically it abstracts working with a
synchronous or asynchronous doing
something than doing a callback and then
you just get it back as content to the
next call basically it's not it's not
blocking this whole thing isn't blocking
but this call
even though it gets put into a queue
won't actually be executed until that
mustache template gets back which is
pretty nice and you can do some pretty
complex stuff of this and still keep the
code really clean that's pretty small
but you can go and check it out but this
is the entire render contacts API you
can then and next and weight are kind of
the basis of it then add something to
the queue or add something to the to the
render context neck skips in the next
context wait blocks until and next is
called mode and interpolate and render
all take not only strings which refer to
files on the file system or remote files
but they also now which is this is
really exciting take jQuery objects or
Dom objects so that means which I'll
show in a little bit you can have your
templates already on your page and
script tags or and hidden elements and
then just pull them out and place them
somewhere else and do the interpolation
without having to make all these
asynchronous calls to the server but
they behave in exactly the same way and
the chains look exactly the same between
doing it asynchronously and not doing it
and doing it doing it synchronously so
we're about apps everyone wants apps
these days so saving Jas and CouchDB
we're like best friends boys Michael
he's my boy yellen he's not here
probably but he's my boy too he's here
he's in the back but yeah so jess and
CouchDB have had a long not traumatic
but fun relationship together we've gone
to parks you know taking a swim it's
been nice so anyway but was it yeah
okay anyway sorry so anyway a while ago
actually Alex lang whose access
conference and he's a Berliner he and he
runs coop he started working on a couch
app which at that point I hadn't even
heard of to using Sam ejs and he
actually presented last year at Jazz
comfy you and showed off some of the
stuff that he's working on and he's
going to be talking in I think in our
upstairs and showing off on his cool
slide slide application to which is
built with couch and Sammy so anyway
they're best friends because if you're
looking at that model that we looked at
before couchdb can be this restful
datastore to Sammy JSE's front-end
controller in front end logic so an
example of this is swinger so I'm just
going to exit out of here but this slide
application it's a little cut off here
but this is this is actually a Sammy
application all just doing actually is
there's like a little markdown screen
here and i can type in and it will
preview there and then when i say this
it actually saves all the slides to
CouchDB and there is no server side code
in zero zero percent it's all safe then
catch to be even the application like
all the application logic the CSS the
HTML it's all on couch TV which is
awesome so Michael talked yesterday
about couch apps and he went into the
node side of that stuff which is cool
here let me certainly start this up
again that's all open source too and
there's actually it's online and you can
actually play with it and check it out
but anyway so Michael talked about it
yesterday and basically how many people
here to know what a couch app is
relatively or was that we're at
Michael's talked yesterday but yeah
basically it's just a design document
and design
it's just a JSON object and that JSON
object is just as big blob of all this
data as attachments which are just
basics t 4 encoded you know binary data
like your HTML and like your JavaScript
and then they're more than that they're
the views the stuff that you get used to
query the database and there any custom
logic you want to write into couchdb but
they're all encapsulated in a single
JSON document and the beauty of that is
that you can take that JSON document
just write it to disk you can replicate
it from another server you can do
whatever you want with it so writing
couch apps should be really easy right
it's just a JSON blob you should be able
to just build that blob and push it and
do whatever you want with it and it is
pretty easy but there's a tool called
couch app which is which is written in
Python and benoit who's here wrote it or
maintain the original version maintains
the version and works on still and i
love couch app and i love the idea of
couch apps see capital and a capital
which doesn't come across on this but
but I mean the Python tool is awesome
and I really like it and I've used it
swinger is written with the Python tool
but it didn't fit my needs my needs were
a little different I like the way couch
F worked but I didn't want to have
different directories that map directly
to JSON objects I wanted to have my own
/j s directory and I wanted to use the
tools that I was used to working with in
developing back-end services like
compass or blueprint how many people
here have you heard of compass so yeah
so compass is a ruby tool it's a it's a
for writing style sheet it's a style
sheet framework so it gives you a really
base level of style sheets and it
generates out this awesome like you can
just start off and have basically a
working style sheet with blueprint with
whatever else and it's written with SS
too and I love working with it and I
wanted that and I also want a gym
is this JavaScript install managers
thing that I wrote instead of jam it's
Jim and I wanted to use like other
little Ruby tools or other any kind of
tools and have them kind of hook into
the whole process too so I created Sokka
which I'm calling set Sokka Sammy on
couch app it's a horrible name but I
couldn't think of anything better if you
have a better name tell me i'll rename
it so Sokka is a ruby tool for making
salmon ajs on couch to be easy that's
really the point and not just not just
uh any JavaScript framework but
specifically sandy but you can really
use anything with it so another tangent
I know you're only looking to Ruby it's
written it's a ruby tool but seriously
it's not that serious you guys gotta
chill out that's 50 cent I don't know if
you can see that but anyway I'm a
polyglot I like writing in a lot of
different a lot a lot of different
languages and I like Ruby I love me I
love JavaScript and in the end I know
there's a lot I've written a lot of Ruby
tools that work on JavaScript tools that
work with Ruby yada yada the point is is
that it doesn't matter we're in an age
where that shouldn't matter I mean
obviously Ruby doesn't run on a server
but Ruby runs on your machine it's on
your laptop right now if you're on a Mac
it's already there and it's made for
writing these scripts I don't want to
have to write a nested callback node
script even though I could for this but
it's it's a synchronous operation I'm
just doing stuff and pushing it to a
server it should it's okay if it's Ruby
so anyway that was that I'm so Sokka so
also if it does is it generates a simple
it has a generate tool that generates a
simple structure you write all your
JavaScript CSS HTML using Sammy compass
or any
you live or javascript lib you build the
JSON document and then you push it to
your couch so this is this is the basic
workflow of making a soca app so you so
could generate my app you CD into your
app you edit the app j/s you push it and
they open just opens it in the browser
really simple so the applications
themselves are just standing apps but
with access to couch TV and they're just
like swinger and new Twitter than one
hundred percent clients that are really
basically a hundred percent time so
let's install let's just have a look
here I'm going to try to do some live
demo and we'll see how it goes so I said
this okay so this is a soca app that I
my first demo app that I've been working
on I'll give you guys a peek at what it
looks like sorry it's ice creams a
little small but uh yeah it's like a
really simple it's a little cut off it's
a really simple to-do list thing but
it's a little more than that it lets you
write these things it stores it all on
couch TV obviously all your tasks so
like let's talk about Sokka in front of
board audience okay so i hit enter i
just posted to the server now saved in
couch what I'm trying to actually do
though which is a little different
because I thought I've been true this is
probably my fifth do list manager that
I've written he's written a to-do list
app whoo so when I started realize was
breaking I'm not going to go deep into
my thoughts about why I wanted to do
this specifically but basically what is
trying to do is actually parse out the
important information from what you're
saying and then turn it into actual
meaningful tasks so here talk is the
verb so if you hit talk it'll just show
you all the things that you have to talk
about if you hit right it'll show you
all the things that you have to write
about and you can see the URL changing
this is the same amp so it
doesn't actually reload the page ever
it's just it's just using Sam and you
that I have to email roid rage and ask
about coffee places and call wife and
tell her awesomeness well I finish this
so close that but it's a really really
really basic app there's a lot more to
do in it I wanted to actually do a lot
more before before jazz comp but I
didn't have time but anyway the point is
I'm running out of time so the point is
is that it's a it so this is all in
couch everything in the couch the idea
would be in the demo that I tried to do
but I couldn't get working in time was
you write your to-do list on your
machine you login you take your
soon-to-be iphone hopefully or your
Android you go on your couch you just
hit a replicate button and it will
download not only application but all
you have to do is to and then you get
home you get back online did you
replicate up it goes back up to catch me
that's the beauty of couch apps and
couch TV in general so let's just look
at what a soca app looks like so here I
just have all my JavaScript here here's
my app so the app is actually really
simple change the colors oh god it's
dark okay sorry hold on yeah is that
better okay it's transparent which is
sweet I know long classic classic text
me okay is that better okay cool so you
start your app you're loading all your
you're loading all your plugins there's
some simple helpers here this stuff is
just to build that cocaine and
JavaScript which is a little ugly but
it's not not crazy I'm binding to events
here I'm just starting at my app and I'm
loading a template from the actual from
a jquery object which you can see there
so if we go up here the next I eh no
actually has the templates directly in
the in the code I didn't i'm not
actually ever fetching them from the
server so when this app comes down it's
just a single HTML page i only am making
remote requests for data and not for
templates which is nice so let me just
show you some of the cooler stuff so so
if i go in here i'm in action let me
just make sure we're not doing this
already so there's another command here
which kind of what Michael was talking
about yesterday where's an auto push
even throw Z a little growl thing saying
that it pushed so but basically all it's
doing is it runs these hook files so
that was the after push it's literally
just showing out to growl notify but
then I'm including these plugins like
Jim encompass I'm not going to go into
gym but basically what it does it's like
a bundler for javascript so here all the
files that I'm requiring and then it
actually goes in and bundles it all up
into this default j/s which is a single
file which is better and or this
production is where it runs it through
google closure compiler too so then just
to show you how cool working with this
is SAS or SPSS so this is kind of what
compass generates and it's a I'm not
going to talk about also not going to
talk about how awesome sasses and
compass but it gives you all these
helpers and make CSS a little a little
easier okay I'm seriously running out of
time but this was pretty much the end
anyway so what let me just show you what
working with even though this is this
scss what doing this would look like so
okay so see how you can't really see the
the dates are really like they're hard
to see so let's say when you hover over
that metadata it's going to make it a
little darker so SAS is awesome you get
variables and also basically functions
and includes in the end it just
generates the SS which is sweet so let's
see color dark grey ok save it and I
should get a notification that it
bundled and pushed everything up ok so
now if i refresh this cool there it is
really simple
the idea okay so that's okay action to
this app is open source and I pushed it
to github so you guys should check it
out and help me make it even better the
parsing is kind of gross but that'll get
better ok so just exit of that let me go
back to the slides okay so cool all you
have to do is that if you have a Mac you
can do this right now and it shouldn't
work there's a bunch of more good stuff
coming Sammy da couch which is actually
the wrapper around the couch TV stuff
that I put up there it's in part of soca
now but I haven't written test for it or
done the awesome stuff i also just
wanted to show you that a Sammy also has
a really awesome test suite so that's
why you should use it more than anything
else it's grain and it has like all
these tests for all the different things
that it does and all the plugins so let
in qunit too so you can go in there and
hack on it as well but anyway that's
about it I'm really really excited about
this and I don't people will just play
with it and give me feedback because
it's really really fun the applications
that you write are really small and
there's not that much you actually have
to do to get something running on couch
and be able to access this data access
its data and use samia's this kind of
controller framework logic and in
between I'm sorry there's no bacon and I
know it's late in the afternoon so
don't have any time for questions not
really that's all right one minute
anyone question quick SAS has compass I
like compass yeah I mean compasses
awesome it has the blueprint framework
and you can just literally you should
see how it'll look a little SCSS i wrote
to get all those styles it's awesome and
it gives you a instant framework of just
getting this stuff done quick cool cool
thanks everybody come find me later
today</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>