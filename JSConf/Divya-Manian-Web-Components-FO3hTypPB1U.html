<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Divya Manian: Web Components | Coder Coacher - Coaching Coders</title><meta content="Divya Manian: Web Components - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Divya Manian: Web Components</b></h2><h5 class="post__date">2012-11-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/FO3hTypPB1U" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so Angeline I gave a great introduction
to web confidence and I'm just going to
extend on that and talk about how we can
use it with sees his favorite spec that
you like and before I go forward with
web competence I wanted to I I had an
incident that I thought would be a good
representation or a metaphor for what
web development is so this is my iphone
the back of my iphone there is something
wrong with it if you are in front you
kind of can see there's something wrong
it's not the stickers of scowling
bunnies which are playing football and
this is exactly how I'd look if you
asked me to play football but there is a
cellophane tape on it which doesn't look
too bad it's a cellophane tape but if
you look at the front you would notice
it's all shattered and this class is
held together by the cellophane tape and
I thought this was a good metaphor for
web development because even though it's
it's it's shouted I can still use it
like it still works so in the way the
way the web is is is it's completely
unstructured and everything you do is
through this narrow view of this kind of
a shattered glass and it always has you
make mistakes like there's no default
way to not make mistakes and there's
always conflicts and there's always
things messing up and it's almost like
you know you are in to go into a room a
room full of diamonds and shattered
glass and you're supposed to pick those
diamonds off without making sure you
don't bleed to death while stepping on
toes shattered glass but down with web
confidence and I think what you get now
with web components is a way to get a
dustbin to sweep off the brick broken
glass and then you know you make your
merry way around the room get the
diamonds as and when you feel like it or
in the case of my iphone it would be the
thirty dollar screen replacement that
you would hopefully get to replace your
iphone screen with and start using the
iphone as it was before so with that
introduction to web components first
thing that you should know is can I use
is definitely no please do not use it
ever for now but please experiment with
it like can i experiment yes
always please do that and what you
should be doing is experiment with it
give feedback to the speculators maybe
write something with it see how your
existing competence can port over to
this web conference back and basically
make sure that it does not suck because
a lot of current web api is sucked big
time so we don't want to replicate that
kind of error again with something as
big and as encompassing as web component
specifications so first thing to notice
it's chrome only and it's not even like
a web kid only thing it's a chrome only
thing it's also very hard to debug
because especially because you have
separating concerns that is different
components in different pages and
different files so if you're still
interested the way you would go forward
is enable flags in Chrome Canary so
first there's a flag called experimental
support for WebKit experiments and that
would give you shadow Dom that would
give you CSS variables that will give
you CSIS regions and there's also
another flag for CSIS shaders which I'll
talk about so enabling these two flags
will give you everything that you need
to follow along with this talk and then
if you are doing tellapur tools you do
want to you know be sane so to do that
you have to enable show shadow DOM and
then Angelina talked about the polyfill
that we'll be using and this is the
polyfill that exactly replicates the
spec that encompasses well the bunch of
specs that composes the web components
specifications and so it has all the
api's and everything that is necessary
to start using the spec at least as an
experiment so the essentials of web
components that are like for
specifications that form the part of the
web competence spec and there's one that
I'm never gonna talk about because I
completely hate it and it's called the
decorators please never talk of it again
and hopefully if you're giving feedback
tell them that you hate it too but if
you really like it or if you won't find
out more about it just google for
decorators web components you'll find
information about it but the first thing
that's part of the web conference pack
is the shadow DOM and you've heard
enough of it so I'm not going to bother
telling you what it is
then you have the custom elements and
one thing to notice all of these
specifications can be used on their own
like you don't have to use them all
together you can use them separately
they all have their own benefits so the
way you'd use a custom element is you
have an element and then you would
extend a native HTML tag that most
closely matches the custom element that
you're going to use and then you have a
name and then you put a bunch of HTML
CSS script whatnot so and the way you
would use it is you will have this same
HTML tag that you used in the extent
attribute value and then say is that
custom element and you can't use so here
in this example I have a button so in
the definition I had where it oh so in
the definition I had extends button so i
have to use a button tie here I can't
use the div or a span or anything like
that so then you have templates so
templates again can be used on their own
so I'd use a template tag and then you'd
put content within the content tagged
and as Angelina said you use the Select
attribute to select the kind of content
that will form the part of the template
so let's look at an example so this is
example of how web components would work
so if you notice the mark up you have
just two buttons and they say click me
click me the same but one of the buttons
has the east attribute of one doesn't
and the nature of HTML buttons is that
they do nothing until you associate an
action with them so here it appears like
they have both buttons which in which
case they should both do nothing like
when I click on this click me nothing
happens which is rather that's exactly
how what you look like but in this click
me you notice first of all there's an
ascii character which typically you
would not expect to have but it's a
custom element so when I click it I have
a statement stuff you know it's a good
stress release but so the reason why we
do this is how it happens is first you
have the link rel is equal to components
and I have the components in this file
so if you go to that
opponent I have an element and then I
have name and then I have the template
and whatever us within the template
becomes part of that new instance of
that new custom element that just
created and I have a span we look into
the variable a little bit later then i
have that ascii character and then again
where I'm putting this content and then
this is the script that's getting
triggered if you notice I don't just
simply have this doggone click is equal
to function that will not fly because
this script least run every time that
shadow Dom has been instantiated so
there's a lifecycle API that you can use
and then you can save which functions
need to be executed as soon as the
shadow DOM is created so I have a
created and then I have a function that
I'm executing and that's what is
triggering the consulted walk statements
so let's look at how the web components
work with other specs that we love
especially for me I really like regions
regions is a new CSS specification that
allows you to flow content respective of
the document source order so you may
have a headphone on the top and then if
you want if you use regions you can
display the h1 at the bottom or wherever
you like and the way this would work is
you would have a bunch of selectors and
you would say the content of those
selectors would be part of what is known
as named flow and then you have another
bunch of selectors and you would then
declare those selectors to be containers
for that named flow and so the syntax
would look like so you'll have the
selector and then you'll say flow into
and then you have a named flow called
region for here and then you'll have the
container selectors and then you'll say
flow from and it'll just display the
content from that name flow so what
happens is as soon as you say flow into
the that selector becomes empty like
it's almost like it's displaying on and
then the containers if they already had
content that will not be displayed any
more it will only display the content
from that named flow so here is how
a shadow Dom would sorry a region would
look like this is without the shadow Dom
let's look at so you have 80 this is
bitch and I'm sorry so this is without
the shadow Dom if you notice you have
the content as a section and that all
the paragraph elements have the text and
then I have a layout and if you notice I
have a WebKit flow into and I have a
flow called point flow does anyone know
what point this is what wow I was
expecting Angus to answer for the family
someone else's answering this I didn't
know you guys were all literature majors
but anyway so this is the point called
The Raven by Edgar Allan Poe so you have
a flow into so you can also debug this
there's an experimental mode to debug
regions and so you'll see all the name
flows and then you'll have the content
that is in that flow and the region's
that's that it will be displayed in so a
concern with this region spec is that if
you have a browser that does not support
regions then you'll have the layout
below the content just displayed with
that styles that you've used for that
layout and some purists may not like
having all these empty divs you know you
want it to be as semantic as possible
and whatnot so there's a way you can
work with this with read with the shadow
DOM and the web component stuff is that
hide all the layout stuff into the web
the competent are using and only have
the content be part of that element so
here is it with shadow DOM and so here
you notice there's only the P elements
nothing else there's no layout anymore
so but it still renders in the same way
it still has that flow going through and
the way that happens is you have on the
network you have the region's and I have
the layout section here
and one thing to note is that even
though I'm using regions within a
specific component I'm still using the
styles from the parent and the way I
would do this is as soon as i
instantiate that shadow Dom I would make
sure that i'm applying author styles so
that it flows the Styles apply from the
parent to the shadow Dom itself so let's
look at the other specs so the other
spec that's recently out is called the
variables it's a very wrong name for the
spec because it's actually just custom
CSS property and at best it'll have a
value like a string fragment so it's
just a string fragment that you can use
anywhere and the way it should work is
you have a you have a selector and then
you have a var prefix and the property
name and then the value that you'll be
using the property and then the way you
use it is select use another selector
and then you'd set a normal CSS property
with a var function and pass the
parameter as the property name that you
just used and one thing to note is that
this is the variables are also scope to
the specificity of the selector where
you first define them so in this case
you have the section and then you have
the VAR my property so if you're using
if you're trying to get the value of my
property in the body selector it will be
undefined so that's something that is
not immediately obvious to you and if
you have if you cringe at the syntax I
do too but there's no way out this is
what this is working group has decided
will be the syntax for CSS variables so
here is if you realize we have this
variable here as the value for this
background let's set it and see how that
so i'll put miners WebKit and then it
gets applied and now CSS variables are
pretty important to the web components
because essentially i said the styles do
not quite flow into so
if you have a shell if you have a span
if you want to style a span of the
children of the content that go into the
shadow Dom you can't do that from within
the component itself you need to do it
from the parent and that's not sometimes
easy and you may want to you know that
that kind of separation is kind of hard
to get so you may want to pass on these
parameters as values by using CSS
variables and style your shadow Dom
components using those variables so the
last speck I would like to talk about
our custom filters how many of you know
about shaders Wow a lot of people as
much more than I expected so the shaders
is something that we use in typically in
WebGL and what they would do is they
just apply some textures on to your web
GL model and then render it on a canvas
element but what Kristin filters does is
to do the exact same thing but on HTML
elements and so you can have different
kinds of effects but so you can have
textures and you could have some sort of
wobbly effect and all of that on your HD
ml element and this is all part of a
specification called the filter effects
and filter effects specification
provides some native filter effects as
well so those native filter effects
could be like blur sepia gray scale and
those are all available in chrome stable
and Safari 6 but this custom filters is
only available in Chrome Canary for now
and there's also a filter lab that's
that's like a tool to help you edit
shaders and see how they apply on HTML
elements but the syntax for how that
works is that you will have a selector
and then you'll have a filter property
and then you'll have a function called
custom and then you cause the URL for
the shader and then the parameters for
that shader itself and so the what the
browser will do is then it will select
all elements that match that particular
selector and then render it off screen
and make a model of it and then have a
lot of vertices and and it will then
apply those shaders to that model and
then finally render it on screen again
so the thing is after
it's all rendered it's still live text
so it means you can still select the
text and do things with the text so
let's look at how this would work so
this is a let me extend it so this is a
not sure if you can see there's there's
a subtle fabric light effect that you
can see if you hover on it and this is
the photo of dementia Glasgow who is the
primary a leading person doing the web
conference back so that this is how we
have the content so we have left content
we have right content and then look at
the component itself so i have banner i
have the filter that's being applied and
then i have a transition I could have
done an animation but there's a bog and
I'll come to that a little bit later and
then i have the content select and then
i select the left container the left
contain the right content and so on so
that's pretty trivial so uh the other
thing i want to show is that you can
reuse new you know like reuse the same
confident but apply different content to
it so you'll have h to class is equal to
left content so as long as you have the
same class name you're safe so as if the
h2 as a left content that will be
displayed which is what is being
displayed on the left and same with the
right content so if you notice our
component does not have it only renters
let's look at the components elf so it
it own where is mine yeah there you go
so it only renders content that is off
certain class names it does not render
any other content so if you look here in
this example there is a p class is equal
to M is normal or whatever that you
will see on the web and that will not be
rendered on the screen because you only
are scoping the content to be rendered
to the but specific class names that you
want so if the users are the authors
provide you like a bunch of content you
can make sure that you can ignore them
and not render it at all
and not just that you can also apply a
you know different components so here in
this case i have i have banner instant
badass a better accordion wait accordion
and i have the variable height set to
New York antenna let's look at how so
this is I'm just using accordance the
same content but I just changed it to a
different component and now it looks
like it's a Cardian or whatever whatever
that's supposed to be so it's like a
hero control so depending on what
component you use you can just reuse the
same content but just make it displayed
differently you can even have this
display as an SVG or anything that you
like so it so you can pass on the same
content but then the component will
decide how it will render or even how it
will interact so there are some things
that you should keep in mind though and
that's what I talked about so as Angela
said the shadow Dom sup little sub 3
stars no apply to the elements children
so I want to show how that how that
manifests itself if you look at the
button here so now I have a new span
within that button so this span will
become part of the content for the
template that we are using so here is
the template that we are using so we
have style and then you have content now
that span will be within this content
attack but I have this style here then
so I have spanned background red and it
should ideally apply right because I
have the span it should it's part of the
child know logically that makes sense
except the spec says no that won't
happen so the only way you can do that
is if I actually apply this here and I
will see that it works now because it's
the child element of the the button
itself and not part of the shadow Dom so
you have to be aware of that
and then there are still bugs about
style scoping implementations which is
why I couldn't do fancy custom filters
on animation for for keyframe animations
and then a shockingly font face is not
supported so you can't use your terrible
ones to showcase how awesome web
components are and I would definitely
have you read the explainer and that
link is valid as of yesterday it's just
get free PO and just go to that location
and look for the tip and make sure
you're reading the latest explainer and
I took about a few months to understand
what is all this is about and the
explanation explainer is very
interesting too contrary to how usually
specs are and there's also a Google+
account for web components and it is a
good job of showcasing what other people
are saying or doing with respect to web
prominence and then Dimitri glazkov
himself has a Twitter account and he's
also on google+ and there are a bunch of
people walking on the web component
specifications and they're all very
responsive and they are actively seeking
your feedback so please do give them
feedback and make sure it does not end
up as maybe the video API so that's all
I have my slides are up on nipple in /
dias con for you but before I go I just
wanted to up you know pitch it even that
we are organizing with w3c colchester
way forward where hackers and spectators
come together to write tests to make
sure that browsers are not buggy when
they claim to implement something so if
you are about to offer and you live near
Paris and you're free that we can please
come and join us so that's all I have
thanks
how does the shadow Dom work work with
accessibility if at all um i have no
idea right now i don't think it's even
in the eye if there is no such i don't
know if there's accessibility API
implemented already for shadow Dom I
don't think it is but for now if you the
east attribute is ignored so the screen
readers will typically just read the
content of within that element so if you
have no content that nothing will be
read I don't think it'll be it's not
accessible unless you have contained
within that element for now but i don't
but i am sure it will improve as soon as
there's more shadow Dom support but I
think with respect to video form
controls there might be a P is already
associated because I'm pretty sure
that's implemented in Chrome but that's
only for native implementations of the
shadow Dom before the video chrome and
stuff like that hey yeah thanks thanks
for your talk just one question how is
it with with events happening inside of
the shadow roots are they bubbling up to
the to the normal down to the outer
window or just are they also
encapsulated in the taro root typically
they are mostly encapsulated Dimitri
Glasgow has a recent post on how they
recently solve the problem how to expose
the events selectively to the parent
dumb and I'm not quite sure on the
specifics but you should go read his
post on that okay thank you very much do
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>