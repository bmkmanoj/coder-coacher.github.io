<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Amy Cheng: Recreate Masterpieces of Modern Art with JavaScript! - JSConf Iceland 2016 | Coder Coacher - Coaching Coders</title><meta content="Amy Cheng: Recreate Masterpieces of Modern Art with JavaScript! - JSConf Iceland 2016 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Amy Cheng: Recreate Masterpieces of Modern Art with JavaScript! - JSConf Iceland 2016</b></h2><h5 class="post__date">2016-09-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/G6ZHhDPgmfk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello is that good okay um hi my name is
Amy Chang I'm a web developer with New
York Magazine and I'm also an artist now
each and every one of you has also had
personal has also had personal
experience making art maybe when you
were child you worked with crayon or
maybe you picked up painting as a hobby
as an adult and even if you didn't
progress past the crown stage well I
have good news for you if you know
JavaScript you can make art so in this
talk we're gonna recreate two famous
masterpieces of Modern Art the spot
painting series by Damien Hirst and the
composition series by Pierre Mondrian
and we're gonna recreate these artworks
as a way to explore the artistic
capabilities of JavaScript so just like
painting we're gonna start with a html5
canvas API which is JavaScript blank
canvas and so the canvas API is a way
for the browser to tell the computer to
dynamically draw bitmap graphics to the
screen in the recent past we've had to
download third-party plugins like flash
and Java in order to do this but
nowadays this capability is present in
the most recent versions of all major
browsers so here we have code to draw a
circle here are the parts I wanna go
over so we have something called VAR CT
x equals canvas get context 2d so
according to specs this is the actual
interface that your browser is using to
talk to the computer here we set it to D
to D but if you were here for lives
talked earlier today she also mentioned
canvas now if you set that to WebGL you
could start working in three-dimensional
space but for this talk we're just only
going to work in two-dimensional space
they don't have a draw function and in
our draw function we are telling the
computer to start drawing and we want an
arc shape and we want this arc shape to
be drawn 360 degrees and we want the
shape to have an outline so this draw
function is being passed as a callback
to something called roof request
animation frame which also made an
appearance in David's talk about
animation
so basically request animation frame is
based is a smarter set interval function
and if you pass a callback to this the
browser is going to assume that you're
doing animation and as such the browser
is going to do some performance stuff to
make it smoother an interesting thing
about this animation request animation
frame is that the callback will not be
executed until the current dom repaint
or animation is done completing it also
means that if your browser tab is not in
focus that code will not run so we're
gonna draw many many circles in an
effort to recreate the spot painting and
in order to do this we're gonna use some
help we're gonna have some help from a
framework called p5.js so beef p5.js was
designed for artists beginners and
designers but is even though it's kind
of designed for non-programmers it's
still capable of doing a lot of stuff
you want to do in this talk so p5.js is
actually an offshoot of a java library
called processing which was created at
the MIT Media Lab and the intention of
Processing's creators was to turn
artists into programmers and programmers
into artists and this philosophy is
inherited by p5 a disclaimer my
intention is to talk about cons is to
introduce you to concepts not
necessarily advocate p5.js
and those of you who've worked with
javascript for a long time know that the
exes D and the agony of JavaScript is
that there are many ways to accomplish
the same task for example here are three
ways to draw the same circle in three
different frameworks so p5 fabric and
easel all rely on the canvas API and
what's similar in all these code
examples is that it allows the
programmer to draw an ellipse or draw a
circle define the horizontal position
the vertical position as well as the
horizontal or vertical radius and also
there's a method to fill this circle
with color
so in 1996 interview Damien Hirst's
let's go back to you this day me and her
sort of described his series of spot
paintings as a sculpture about infinity
and on his website he lists about 90
spot paintings red from 1992 to to sorry
yeah yeah
1992 to 2012 so about 4 per year and
we're gonna do many we're gonna drink
procedurally generate many many spot
paintings in just a couple of minutes
one two three four and we just generated
four spot paintings in less than a
minute so let's see what's happening in
their code so p5 requires a setup
function and this setup function runs at
the beginning of code execution so in
this setup function we're creating a
canvas element 800 pixels wide 500
pixels tall and we're setting the
background of our blank canvas to white
and then we have no loop this so we have
a draw function and this draw function
is being passed as a callback to
requestanimationframe which runs
continuously and what no loop does it's
basically tells p5 to run this block
only once and not to keep doing it so
here you'll notice two nested for loops
the first for loop draws spot paintings
across the canvas while the second for
loops are the second for loop draw spots
down the canvas we have a color function
no stroke another and our familiar
ellipse function so a color function
basically fills the preceding shape that
is a shape to find after the color
function is called with color so I just
demonstrated that javascript is an
artistic medium that can do procedural
generation and the procedure we're
executing is the following three lines
now I feel like the spot painting we
generated the colors of it aren't that
faithful to the original so I'm gonna
parameters color in an effort to get it
more to get closer to the original spot
painting so returning to our color
function so you notice that fill is the
accepting three arguments and what these
three arguments refer to depends on the
color mode that we're using so color
mode is the color default color mode
that p5 uses is RGB which stands for red
green and blue and what these arguments
refer to the first argument refers to
how much red is in the color
the second argument refers to how much
green is in the color and the third
argument first how much blue is in the
color and you'll also notice them
using p5 s random function to randomly
determine how much red green and blue is
in the color we're gonna change our
color mode to HSV which stands for hue
saturation and brightness tomorrow visnu
is actually going to give a whole talk
on these color modes so you're
interested check out his talk tomorrow
so what I did here is that I created GUI
using the library that GUI
dat GUI and it's a simple UI library
that was released by the Google Data
arts team a couple of years ago so what
we have here is some UI elements that
lets me change our color mode sliders
that affect the range in which the
random function is generating numbers
and checkboxes that refer to whether or
not I want to randomize those values so
I'm changing it to HSB narrowing the
color range as you can see we have a
color theme going on but it's not that's
not what we want to do we want to make
the colors lighter but what I did I made
it brighter and that's because I maxed
out the saturation and brightness
argument so let's make it dimmer
I think that's close enough so what I
did is that so
we refactored code and we have a JSON
object called machine state basically
the UI is ultra is a changing these
properties and these properties are
passed into our refactored color
function you also notice that in
addition to making those arguments
parameters we're using we're still
relying pretty heavily on the random
function to generate colors but what if
we randomized other visual elements
so what's happening here is that I'm
using the p5 random function to randomly
determine the position of each line and
width and thickness as well as the
curvature of those lines and what we
just did is we inadvertently created
alain de Kooning's preparatory paintings
and like the preparatory paintings
you'll notice sorry that the lines are v
clustered towards the middle and that's
not really that random well that's
because we are using a different kind of
random function called random Gaussian
so random Gaussian generates numbers
according to a standard JV standard
deviation what that means is that it
will more likely generate numbers that
are closer to the average of the range
you passed in for example let's say you
use a range of one to a hundred
that means random Gaussian will generate
or more likely generate numbers that are
closer to the average of all the numbers
between 1 and 100 another way to
describe what we just did is that we are
I'm sorry
painting with algorithms so this is the
source code of random Gaussian and
you'll notice here that there's a bunch
of math happening there square root and
there's log numbers and what all this
math does is generate numbers according
to mathematical formulas that would
generate numbers that are plotted along
a standard standard deviation but there
are many many other algorithms that we
can use so in the previous two examples
I just used random on this screen here
is a mathematical formula that generates
Mandelbrot set fractals and these are
shapes that happen in the happens in
nature so I feel that mathematics is one
expression of the world and that art is
another and that computation can act as
a bridge between the two so in this
example
I did not make this example
so we're basically exploring a
Mandelbrot fractal and this person just
is using the canvas API and native
JavaScript to do all this and what's
happening on in the behind the scenes is
that mathematical formula that I showed
in the previous slides another yet
another way of viewing the work we just
did is that we created a system and
those of you who've worked with Web Apps
know that javascript is perfectly
capable of managing many disparate
disparate parts such as UI elements
database calls API calls user
interaction so let's frame the spot
painting demos as an art system in the
system we have parameters the random
function the color function the ellipse
function for loops and a GUI and all of
this created the spot painting in the
preparatory painting demo we have curves
lines random functions and Gaussian
functions so let's be a little bit more
ambitious in the construction and design
of a system let's recreate Mondrian's
composition painting
so here I'm using random to place three
boxes within on the canvas as well as
the width and height of each box just a
side note p5 also has a nice convenience
method for creating rectangles it's
called rect or ect now if you'll notice
this painting also is not a faithful
recreation of this and we could spend
some time writing more logic to get
closer to this but I think that's kind
of under utilizing what JavaScript can
do for us so what if we made each block
and automata
so what's happening here is that each
block has a set has two rules of finding
its behavior defining how its running
across the screen part two what's
happening here is that the yellow square
is chasing the blue square blue
rectangle and once it reaches its target
is just kind of globs on to it
so what's happening here is that each
rectangle is actually an object is
actually an object called self and
within cell there are two functions
update and render render we're not going
to go into render render basically calls
the rect method and the fill method and
is the function that actually draw stuff
to a screen what's the what's more
interesting about this object is the
update function so here you'll see math
shows up again in the update function so
when each rectangle is initialized as a
Cell object we're using random to pick a
location within the canvas and what
update is doing is that it's determining
how far away this object is the
rectangle is from its target location
and it modifies its current position to
get closer to where it needs to be
you'll also notice that we just created
an omission so
request frame animation runs
continuously as I mentioned before and
we can consider each time it calls Oh
each time it executes the callback that
it's actually one frame of animation and
it's running so fast that looks like the
rectangle is moving across the screen
here's another example of a more
complicated system we've modified our
spot painting to be alive now some of
you might recognize this as flocking
behavior and you'd be correct it is a
flocking it is an example of flocking
behavior and basically what's happening
here is just a modified flocking code
example
so each flock contains a Boyd or a
separate entity and each entity has many
has a four functions that determines its
behavior and this is one function and
it's for separation and basically what's
happening here is our code is making
sure each spot is not getting too close
to its neighbor but we also want our
spots close enough to form a flock and
what's happening here in this function
and this function is a lot of vector
math to do that now why don't we create
we could create a system that could
learn rules from the data we give it
well this is what machine learning is
all about machine learning is basically
a system that learns from its inputs in
the preview examples we were very
explicit rules as to how our system
should operate and machine learning we
don't quite know how the system will
behave we have like kind of a goal for
it but we're pretty hands-off with how
the how the system operates so let's
watch code paint
just debugging it
okay there we go
just give it a little bit
so what is our code painting it's me
obviously it doesn't look like exactly
like me but I feel like what the code
just did was a has a very modern art
feel to it and I feel like this is kind
of like more expressive of how
JavaScript sees the world or at least
this photograph that gave it
here are some other paintings that did
you notice that they're kind of
different but in some ways they're kind
of the same that's because our inputs
are the same so what's happening here is
that I'm using a machine learning
library written in JavaScript can you
believe it called synaptic Jas and in
this code block we have get pixel
function which I won't go into so
basically yet pixel sorry get pixel data
looks at the photograph and goes through
every pixel and gets the color from each
and every pixel in the iterate function
we have our system learning from that
photograph so in their code we have this
so Nannette synaptic j s gives us a
computational model of one neuron call
it perceptron so in this iterate
function we have two for loops and
that's because we're going through the
horizontal and vertical rows of the
original photograph then we have
something called perceptron that
activate
so this activate functions under the
hood is a activation formula or
mathematical formula which is which
defines the outputs that our neuron will
have as basically this very complicated
mathematical formula which would be
impossible to do by hand but it's pretty
trivial for computers so this
mathematical formula is basically
Sciences best guess at how a bio
electrical signal actually moves through
a neuron and so in the activate function
our single perceptron is looking at the
data and trying to figure out what it's
looking at
in the propagate function what our
neuron is doing is that using a dynamic
rate that is how often it's looking at
it looks at the pixel location and tries
to make a guess as to what that color is
here the preview function is the actual
drawing actual painting function so it's
taking the the canvases image data and
rewriting every single pixel that's why
we have two for loops because it's going
through every single row and every
single column and it's making it's
basically overwriting each pixel of
color with its own best guess as to what
that colored is so in and so in this
example what we're doing is we're not
explicitly telling hey at this pixel
location it should be this color what
we're actually what we're telling our
little JavaScript neuron or our neuron
implemented in JavaScript that hey given
this pixel location what do you think
this color shouldn't be judging from
what you saw
you'll also notice we have
requestanimationframe and so what that
does is that through each call so with
each frame or perceptron is continually
learning and that's why we see the
painting change over time now we take
the idea of creating an art system based
on machine learning we get deep style
transfer so in this paper a neural
algorithm artistic style the authors
basically created a convolutional neural
network so it's basically like our
perceptron the many many more neurons
and many many layers of neurons and so
what this neural network is doing is
that it's looking at painting and it's
figuring out all the distinct features
of this painting oh this by the way is a
screenshot from the paper so it's
looking at the painting figuring out the
distinct features and then given a
photograph also learning about this
photograph thinking what are its
distinct features what are all the rules
that dictate this photograph and then
one of the rules that dictate this
painting and then it tries to combine
everything it has learned into one image
so in this screenshot the source for
regressive is in
topmost right hand corner and in each
subsequent sort of picture it's applying
that painting style to the photograph so
code is an art medium but as machine
learning has demonstrated it can be an
artist collaborator so here's a
collaboration between me and JavaScript
we have to wait a while because it's
learning from that photograph from
before unless it crashed oh there it
goes
so in this joint venture JavaScript is
making decisions as to what color to use
where to make a stroke and how
transparent each stroke should be
whereas I'm contributing hey this add a
little bit of red to spice it up a
little bit sort of a review javascript
is an artistic medium that can do pursue
generation parameters ation painting
with algorithms creating and running
systems and self learning question mark
we have a question mark here because
even though I showed some deep style
transfer stuff javascript is not capable
of doing deep cell transfer stuff in a
timely manner because it does not have
access to the raw processing power it
needs you need like some super gain a
souped up video game machine to do that
but that's now maybe you'll be working
on some serviceworker stuff to get deep
style transfer happening
you also notice that these rules might
apply to other programming languages but
I think JavaScript is a unique artistic
medium because iterations are cheap
since it doesn't need to compile you can
continually make changes to your code
and then also continually refine your
ideas according to the piece or about
the piece you're making and also it's
easily accessible to everyone with an
internet internet connection this is no
way a comprehensive list if you're
interested in this stuff I would invite
you to further explore the capabilities
of JavaScript as an artistic medium but
also to not treat your artwork as an app
so what might be a bug that crashes your
minimal Viable Product might actually
have some very interesting aesthetic
effects so I hope this talk has gotten
you excited about making art with
JavaScript thanks
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>