<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Michael Erlewine: The latest from Mozilla Jetpack | Coder Coacher - Coaching Coders</title><meta content="Michael Erlewine: The latest from Mozilla Jetpack - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Michael Erlewine: The latest from Mozilla Jetpack</b></h2><h5 class="post__date">2013-01-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/n1LI_ESMz9M" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">ah
so I'm michiyo I'm going to be talking
about some giving you some latest news
from the Mozilla jetpack project and the
goal today to give you the latest news
um a little bit about me I'm a linguist
primarily and then coder and teacher
until sometime last week last year I was
working at mozilla labs anybody works it
played with ubiquity fantastic I I got
to have the lovely job of teaching
ubiquity many different languages so
that's what I did and that's the natural
language connection right now as a
community member as a Mozilla community
member i continue to talk about jetpack
as a jetpack ambassador and right now in
my day job i'm a grad student at MIT and
i live on the internet so uh the big
question is hack ability right that's
that's the big question we want to
address it's this right this is the hack
ability issue right so the web should be
generative right we at Mozilla and I
think many of you agree the web should
be a platform where people can change
their experiences people users should be
able to transform the interactions and
the types of experiences they're having
on the web on a very fundamental level
and we believe as the main broker
between a user and the internet for
those interactions we believe the
browser itself should be generative as
well and so Firefox's answer is add-ons
right and there are thousands of add-ons
out there i'll talk a little bit about
this platform real quick so
addons.mozilla.org I'm sure many of you
are familiar with this that's the main
public repository of add-ons there are
over 6,000 in the wild and they're
written in this mishmash of HTML
Javascript and then xpcom this
underlying sea-based component layer and
zool which is this xml user interface
description language so that that's what
they're written and it's the largest
extension platform ever over 1.9 billion
downloads just on amo alone over a
hundred and seventy million in active
use this is a phenomenal platform
embraced by users embraced by devel
bers but there are some problems so just
to step through them real quick so
installs need restarts now that's that's
annoying for users it's very annoying as
a developer of add-ons that's very
unfortunate they're not trivial to
develop so as I said it's it's a
mishmash of a number of different kinds
of technologies which you know are its
programming an add-on it is quite
different than programming for the web
unfortunately and we want to bring that
closer they require manual upgrades and
from a security point of view as well I
mean if we will have the security patch
we want to be able to push that out and
they're not designed for quick security
review so some of the incredible power
that we at the Firefox platform gives to
add ons is because we basically open up
the store they have all the chrome
privileges they can look at your
browsing history they can look at your
cookies they can look at everything and
because of that we have a security
processing in that we use at amo of a
number of different volunteers around
the world that are amo editors and they
go through basically line by line
looking at the code that's submitted to
a mo and for every upgrade right this is
a very time and labor intensive process
and we think we can do better so it's
2010 this was supposed to be the future
where is my jetpack well I'm very glad
to say we're working on a jet pack right
now at mozilla labs so I want to tell
you a little bit about this project now
so the idea is jetpack is going to be a
new way to extend Firefox and I'm sure
many of you have have heard about this
project as well it's important to note
that this doesn't replace zool based
add-ons the xpcom add-ons the add-ons
that you use now in Firefox it's not
meant to replace that in fact this lives
on top of it a little bit of the
highlights first of all it's easy so
it's going to be written in JavaScript
HTML CSS the same sort of stack the same
Ajax EAP is that you use now on the web
when writing a web application or even
for a server we're using those types of
design paradigms there
kinds of languages you're going to be
able to use your favorite libraries
whether it be jquery mootools whatever
and it's going to have a simple modular
a jack capi built into it to give you
access to the core functionality of the
browser instant install we think this is
going to be a huge win for users and
developers alike great development tools
so we're working on some tools like a
built-in memory tracker check for leaks
unit testing framework is going to be
built into this IDE integration I'm
going to get to that in a little bit and
finally you're going to be able to build
this thing in JavaScript HTML CSS the
languages you know and export it as an
XP I which without any dependencies on
something called jetpack users will be
able to install it directly and the only
difference they'll notice is that hey
this is a special kind of add on it
installs without restarts it's fantastic
so it's secure that's that's another
highlight so because we're splitting up
the API the browser API into these
abstracted Ajax EAP eyes which are also
modularized we're going to make it so
that when you write a jet pack add-on
you're going to say in the manifest I'm
going to access I'm going to make
external HTTP requests but i'm not going
to access the browser history i'm not
going to look at your tabs and not going
to edit your cookies and you say that in
the manifest and then because we've
modularized the capabilities and we were
sandboxing this code whenever you try to
access something else it's just going to
trip a wire and you're not going to be
able to do that so through this process
where where this is going to help with
the review process as well we think this
is going to help secure the code and
make reviews faster we're also building
the functionality for automatic upgrades
and we're working on exactly what is
going to be the target of that maybe
just security patches maybe just vital
patches but we'll see but hope but
that's something we're working on and I
think users will appreciate that as well
and it's built for the future we're
designing right now we're in active
development of a stable API which
hopefully you can live for the test of
time and hopefully will be compatible
with future
versions of Firefox so users will be
able to use your jet packs jetpack based
add-ons for years to come so I mentioned
IDE integration and you know what
exactly does that mean so the current
iteration of jet pack which I'll talk
about a little bit is built on right now
a set of command line tools which run
these processes bootstrap your code into
a Firefox profile etc during development
and then produce the XP I one of the
instances of an IDE that we're creating
right now is an ID on the web which uses
these same tools but of course you'll be
able to use whatever tools you like but
this is just something we're working on
internally so this is a demo I just
pre-recorded because live coding scares
me and this is a prototype of what we
have working on codenamed flight deck so
here are some extensions and libraries
that others have written in flight deck
I'm going to write a new extension
called control tabs my girlfriend's
always complaining when she uses my
computer that I have like 60 different
tabs open so hopefully this will reign
that in this can this can help me out
with that so let's see what happens when
we create a new one there's a manifest
file it's got some crud in the name so
I'm just going to pull that out just
make it Mitch oh there's it going to
update that save it there's a
description and we'll actually get
started coding this all right so the
first thing to do is access some api's
which we're going to be using some
different modules and so I'm going to
first require the tabs module and this
require system this is based on the
common jas module system and we're
taking a lot of inspiration from Narwhal
as well also i'm using a module called
simple dialogue which is actually not
built into the platform it's a module
that a friend of mine in japan wrote as
well which is accessible as a library
and to actually access it i need to add
basically add the files into my jetpack
aside from calling them i need to
actually add them in so they get loaded
all right so now
I'm going to add in a tab event I'm
going to say when there's a tab open
event I'm going to run tab control so
i'm going to write that callback now so
we'll just do a simple demo first i'm
just going to use the simple dialogue
basically this first i'm going to get
the tab count using the count method and
then I'm just going to display a simple
dialogue alert which is basically this
similar to window dot alert except here
we don't have access to window so we
have to use this module and I'm going to
hat say you have this many tabs open
right so just as a quick start so let's
try that will save that and try and
browser right and no restart required
the extensions installed i'm going to
open a new tab and says you have two
tabs open okay so that's that so go back
we want to do something more interesting
than that and we can so so I'm just
going to strip this back out and change
it so that if we have more than 20 tabs
open right I'm going to say that's the
maximum threshold then I'm gonna harass
the user myself by displaying an alert
but actually a confirmation yes no
confirmation that says you already have
too many tabs open right and I can let
you go ahead and open this but then I'm
going to randomly select one of your
other tabs and close it right is that
okay and you say yes or no and that will
return a true value or false value right
so if the answer is true if I said yes
go ahead and do that then we're not
going to mess with the current tab we
just open but instead I'm going to use
tab remove and I'm going to we already
know the tab count I'm going to pick a
random index using round and then floor
and pick a random tab index tab tabs
retrieve that and then tabs not remove
that very straightforward pick a random
tab close it if the answer is no if I
said no then what we want to do is close
the new tab that we are we just opened
technically so I'm just going to tabs
out remove
tabs out retrieve tab count minus one so
the last tab I'm just going to close
that the one you just tried to open so
let's try this out we'll try it in the
browser and just to test this I have a
bookmarks folder with 20 different
bookmarks in it they're just google
searches for 1 through 20 so i'll open
that in tabs so we get 20 tabs yes i
want to open 20 tabs so there we have 20
tabs right just 1 through 20 nothing up
my sleeve all right um and well Oh URL
encoding I like that so i'll check that
out um so i try to open that in a new
tab you already have too many tabs open
yes go ahead and randomly close
something else okay and so now I look
down and number 7 is gone alright so
this could be really annoying but notice
how easy it was to write this with a
very ajax e very straightforward api
much more straightforward than the
actual xpcom internals i might add very
straight forward with a fantastic ide
and this is just the prototype and
hopefully there will be other tools as
well that build on this sdk so this all
began with a blog post like many things
do back last year in May the jetpack
project was launched with a with a
prototype and since then the this whole
platform has really exploded a lot of
people have been reading writing jetpack
add-ons on top of this jetpack prototype
but alas this was just a prototype so
right now we're in this process called
the jetpack reboot and really it's very
straightforward this is the idea harder
better faster stronger that that's the
idea of the jetpack reboot so we're
rewriting this from the ground up we
started this beginning of this year and
so right now we have the jetpack SDK 0.2
please go ahead and download that
unfortunately right now it doesn't have
its really laying a lot of the
foundation of this we're trying to make
it a very production-ready very stable
sort of core very solid foundation but
it doesn't have any of the
I high level modules yet SDK 0.3 will be
out later this month hopefully by the
end of the month and that will include
some of the first high-level api's like
panel overlays the context menu API a
Dom selection API and the tabs so this
is jetpack this is the basic idea so
there's Firefox zulan xpcom internally
that's you and your JavaScript right and
this is jetpack right that's what will
take you from A to B that will connect
you and let you write fantastic add-ons
very powerful add-ons in Firefox in the
same sort of JavaScript that you love
writing every day so that's jetpack so
it's the power of this add-on platform
together with the bond benefits all the
benefits of a modern web api and so the
key terms again the key words are easy
secure and future-proof that's the
message so today 315 to 4 15 or so I'll
be in the game room hooked up to the
projector will be doing a little jet
pack workshop talk about it we'll look
at the prototype play with the SDK and
I'll talk a little bit about how to get
involved how you can follow this
development process as it keeps going so
I'll see you guys there welcome to the
future and thank you very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>