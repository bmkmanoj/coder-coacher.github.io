<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Laurie Voss: What everybody should know about npm - JSConf Budapest 2016 | Coder Coacher - Coaching Coders</title><meta content="Laurie Voss: What everybody should know about npm - JSConf Budapest 2016 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Laurie Voss: What everybody should know about npm - JSConf Budapest 2016</b></h2><h5 class="post__date">2016-06-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/zWEU8kNKi3Q" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">ways with the left pad jokes never gonna
hear the end of the left pad jokes can
everyone see that fantastic huh all
right now so not trapped behind a podium
gonna try and use the fancy web app
which requires internet access therefore
it's not gonna work no it's not oh it's
gonna work
Web Apps everyone so I'm Laurie like he
said I'm the CTO of NPM Inc and the
important thing to remember is that I'm
not the famous NPM guy the famous NPM
guy is Isaac Schluter not him I'm just
the guy that he picked to run
engineering and I'm here to talk about
the stuff that everybody should know
about NPM why am I talking about that
stuff because NPM has a lot of users
these days there's something like 4
million NPM users and they download a
billion packages every 7 days how many
of you use NPM raise your hands how many
of you use NPM every single day how many
of you work for NPM you're all buying
that guy a drink but my point is that
the NPM community is growing really fast
half of NPM users have been using it for
less than a year which means that our
Newser base is full of new people and
that is great
welcome to NPM but it means that there
are a bunch of features of NPM that
people who have been using NPM for a
while know about but people who are new
to NPM don't know about and you know
that's more than half of you so that's
what this talk is about fixing and I
think even if you've been using NPM for
a while there will be some stuff in here
you don't know about so come on web apps
let's start with the very most basic
thing this is the architecture of NPM
sitting on your computer is the CLI
that's the command-line client that is
the thing that runs when you run NPM and
when you ask it to install and and when
you ask NPM to install a package
the CLI talks to the registry which is a
set of servers all across the world and
it asks it what versions exist and it
tells them and then NPM picks from that
set of versions the best version that
matches the specifications in your
package JSON and then it downloads it
from one of three possible places first
NPM will check the local cache if you've
ever installed that version of that
package before even if it was for some
other project then it will install from
the local copy this is gonna be super
annoying
so people complain oh NP M downloads the
universe every single time it really
doesn't like if you've ever downloaded
that thing before it doesn't bother to
do it and if it's not in the local cache
it will check the registry and the
registry is behind a very big worldwide
cache called a CDN so usually when you
download a package you're downloading it
from very close to you you're
downloading it from some server that's
in your country which is why it's very
fast and it's only if those other two
fail that we go to our servers which are
in the US and in Australia and in
Germany so you're usually going pretty
fast when all of this may sound really
basic but the reason that I mentioned
this stuff is because about half of NPM
users don't know that the local cache
exists and about 20 percent of NPM users
don't know that the registry exists a
lot of people think that NPM packages
are just hosted on github which github
would be very annoyed about if that were
true because they download a billion
packages every week that would be a lot
of stuff from github for them to serve
for free for no reason of course it is
possible to specify a github URL as a
package dependency and if you do that
NPM will download from github and that
will work with any git hosting service
so you can use it with github gist's you
can install from a gist if that felt
like a good idea to you you can install
from bitbucket you can install from git
lab to my slides if you want to you can
also have your own private copy of NPM
called NPM Enterprise
it sits inside your firewall and it
hosts your packages for you
NPM Enterprise will store copies of
public packages as well as your private
packages and you can apply your own
policies for which of your packages get
married inside your firewall so you can
say just mirror the whole registry I
want some kind of outage insurance you
can say Mira stuff that matches my
security pallas you can say mirrors
stuff that matches my licensing
restrictions whatever you want it to do
and my slides are really messed up but
that's the simplest picture of NPM as
possible architecture so let's get on to
the really interesting stuff which is
the NPM commands starting with the most
important NPM command which is NPM
install NPM dash G this will update your
NPM this will get you NPM 3 which is the
latest NPM and it's not it's not bundled
with anything other than node 4 right
now and we recommend it it is both
faster and more reliable than NPM 2 and
that is you know that fact is new it was
not faster and it was not more reliable
until relatively recently if you're not
yet ready to upgrade to NPM 3 you can
use that command at the bottom which
will give you the latest version of NPM
to both NPM 2 and NPM 3 are updated
every single week with new fixes so lots
of people are dozens of versions behind
this next command that you should know
is NPM in it
NPM and it will start a new package for
you by creating your package JSON it
will ask you a bunch of questions like a
questionnaire but it also has a bunch of
smart defaults so if you're just pretty
sure that NPM init is going to get all
the defaults right which it gets right
most of the time you can just run NPM in
it - - yes don't write your package JSON
yourself this is the thing I'm going to
come back to a couple of times most of
the time NPM has tools that will write
your package JSON for you and it's
better at it than you are so you should
just let it do that a relatively new
feature of NPM is scopes there are so
many packages now there's like 280
thousand packages that if you're trying
to name a new package it can be kind of
a pain in the ass because all of the
good names are taken so the solution is
that you can publish packages
underneath your username and this lets
you use nice descriptive package names
because nothing under your username is
taken and the scope is part of the name
so you publish using the scope and you
install using the scope and you require
the code using the scope it's extremely
simple to use scoped packages can be
public like global packages are and
scoped packages can also be private
which is another paid feature there's a
couple of blogs in here here's an
advanced trick this is the one that I
throw in to make sure that nobody can
say they didn't find anything they never
knew before if you have a big team and
you create packages all the time and you
have some standards about what your
package JSON should look like you can
create a dot NPM init J's file in your
home directory and when NPM in it runs
it will pick up that file and execute it
and change the questionnaire that NPM
init runs which can be extremely useful
you can set defaults that are different
from the standard defaults you can skip
questions you can set a package naming
convention you can do whatever the hell
you want because it's just arbitrary
JavaScript running in there using a
package called prom xored which I'm not
gonna go into but you can do really cool
stuff and just share that your npm in it
with your entire team and sort of
suddenly all of your packages across
your team are initialized in the same
useful way one last thing about MPM in
it that some people don't know is that
npm init can always be safely rerun and
that's useful because npm makes smart
guesses about stuff if you are in a git
git repo and you run npm init and PM
will know that and it will add your git
repo to your repository field if you've
installed stuff into node modules in you
run npm in it it will automatically put
the node modules into your dependencies
field so even if you do that out of
order even if you npm init and then you
install some stuff and then you add a
git repo you can just run NPM at it
again and it will pick that stuff up
again and then will add it to package
JSON without blowing away any of the
stuff that you put in to package JSON so
it's completely safe and you can just
rerun it all the time to make sure that
NPM and it thinks that your package JSON
is up to snuff so like I said never edit
your package JSON yourself here's
another way to avoid doing
which a lot of people don't know which
is npm install' - - save that will
automatically add your package to your
the package - your package JSON for you
you can use - yes for short if you use -
- save Devitt will add it to your dev
dependencies you can also do - D for
short why should you be adding stuff to
your dev dependencies because then you
can skip installing them on production
npm install' - - production will skip it
your dev dependencies which will make
your production installs much much
faster you won't need your testing
framework you won't need a bunch of
helper libraries that you only use in
development on production so you can
just skip installing them and another
way to make installs faster is to use
bundled dependencies bundle dependencies
are included in your package they're
thrown right in there so they don't need
to be downloaded separately if you
bundle all of your dependencies then an
NPM install becomes a single large file
that you download and unpack without
having to do any additional downloads
which can make things a lot faster and
is a big time saver for larger projects
this is how NPM distributes itself and
PM bundles all of its dependencies
together I mentioned earlier that when
NPM installs it checks the server for
the current list of versions this means
that even if you already have the
current version in your local cache it's
still gonna need to check the server and
hit the server and go are there any
newer versions in this version that I
have which means that you still have to
hit the network and that check is
usually very quick because it's just
like a 304 most of the time because it's
not really downloading anything but that
can still be really annoying if you're
in a low bandwidth environment like
airplane Wi-Fi or the nation of
Australia and the cashman option is your
Savior here the catchment option
controls how long NPM weights between
checking the registry to see if there's
a newer version and the default is just
10 seconds so if you've got an install
that's 30 seconds long it can check for
the same package three times within the
same installation sequence which is not
super smart if I'm being honest so you
can set that to 60 seconds or something
else and your installs will often go a
lot faster
but NPM is more than just a way to to
install the pendants ease NPM has a
bunch of other stuff it's also a way to
automate the way that your team uses
your app that's one of the things that
NPM with the features that NPM is sort
of accumulated over the years is it's a
way of crystallizing the best practices
of your team into a machine rather than
just a list and one of the simplest ways
to do that is NPM default run scripts
you can add these to the scripts section
of your package JSON
unfortunately there's no automatic way
of doing it but then you then you and
your team can use NPM start an NPM stop
and restart and test to control the
basic operations of the app that you're
building
NPM tests is also used by CI systems
like Travis to run your tests
automatically so you don't have to tell
Travis how to do that so now you've got
an app or a module wait no hang on there
we go oh one other feature of run
scripts is that they have dev
dependencies in their path so if you
have grunt oh you have gulp or your tap
or you have mocha which you might be
tempted to install globally and run your
test with or run your tooling with you
can install them into your dev
dependencies and you can refer to them
in your run scripts just directly
without needing to know that they're
installed this prevents two problems it
prevents problems with different
projects that you have requiring
different versions of those things if
you've ever had two projects that
require different versions of mocha and
fail your tests in either one then you
can solve it by having them local to
each project and it also saves your
teammates from having to install those
global tools when they install your
project they just come along for the
ride with the rest of the project which
is super useful and it doesn't cost you
anything because their dev dependencies
you can skip installing them in
production so now you've got an app or a
module and you can test it and you can
run it and you'll want to publish it if
it's a package that you want the world
to see then you can do what people have
always done you could just run NPM
publish and using
using a global name but if it's just
your team or if it's a personal app of
yours you'll probably want to put it
under scope and you might want it to be
private so now we've got as far as
publishing the first version of your app
but the pub but the power of NPM comes
from the way that it handles multiple
versions and the root of that is
semantic versioning or semver semantic
versioning at heart is very simple you
know past it's hard it gets very very
complicated but at heart it's very
simple semver is a contract it's a
contract between the author of a package
and the users of the package that says
how big a change happened between two
versions the first number called the
major number is for breaking changes
it's for stuff that requires users to
change their code if they're going to
use this new version the second number
called the minors for feature changes it
means you've added something without
changing anything that was there before
and the last one called the patch number
is for bug and security fixes they
should correct bugs without requiring
people to change their code in any way
when you update your package you have to
update your version and the version is
part of package JSON so like most
changes to package JSON NPM has a way to
do that for you use NPM version major
for breaking changes use NPM version
minor for new features in NPM version
patch for fixes version also supports
all of the other sort of complicated
edge cases of the semper versioning
system but they're complicated so I'm
not going to go into them
version also creates a get tag at the
same time that it that it bumps your
version for you and it tags your your
get repo which is extremely useful so
you can throw in a dash M and that will
be applied to the as the commit message
for that get tag but of course semver is
a promise it's not a guarantee and
sometimes those things that you thought
were features they cause stuff to break
because you didn't do the feature right
and sometimes you're bug fix causes
stuff to break because people were
relying on the broken behavior
that shouldn't happen but it does so
what is a responsible NPM developers
supposed to do
well NPM shrink-wrap was invented to
solve that problem it captures your
entire dependency tree all of their
dependencies and their dependencies all
the way down and it saves them to a
shrink wrap JSON file which it puts in
the root of your package and it once
when you install your package elsewhere
if there's a shrink wrap file there NPM
will install the exact version specified
in the shrink wrap file but there's a
problem with that which is that shrink
wrap is kind of buggy sorry we're
working on that but in the meantime
there's packages like cling wrap and I
think shrunk wrap or something which
have had some success instead of
papering over the holes that exist in
shrink wrap right now but actually
fixing shrink wrap is one of the things
that the team is working on this year
but all of this so far has been assuming
that you're there's just one of you that
you're writing the package and you're
publishing it but in reality you work in
a team and you want other people in your
company to be able to use your package
and some of them should be able to
publish it but some of them should only
be able to install it and this is
especially important when working with
private packages the old way to do this
was NPM owner but there's a better way
now and that is NPM organizations to use
organizations we added two new commands
to NPM NPM team and NPM access these let
you put people into teams and give them
access to packages in a really granular
way NPM organizations are a paid feature
right now we are hoping to change that
so I apologize for this being a slight
plug as well the team command is pretty
self-explanatory you can create and
destroy a team you can add people to the
team with add you can remove them with
RM and you can see who's in the team
with LS NPM access is similarly pretty
self-explanatory access grant gives a
team read-only or read/write access to a
package access revoke takes that
permission away access LS packages shows
you what packages a user or a team can
see and access LS collaborators
it shows you what users and teams
access to a particular package so with
the plug over let's level up again we
went from one user with one package to
multiple users with one package and now
it's time for multiple packages imagine
that you have split up your system into
a micro service architecture you have
several micro services they have shared
logic so you split the code up into
modules that multiple services use so
now you've got an app and you've got sub
modules and you want to be able to work
on them at the same time the command
that you want to do that is NPM link
here's how it works in the root of your
package which is called Alice run NPM
link now go to your other package which
is called Bob and run NPM link Alice and
suddenly Alice is immediately available
in Bob any changes that you make in
Alice will be immediately available in
Bob and you can work on the two at the
same time this is a trivial feature but
it's absolutely essential to working on
large NPM projects NPM itself consists
of dozens of modules and it's impossible
to work on NPM without using lots of NPM
link so cool we've got multiple users
multiple packages if you want to level
up again the next thing is multiple
releases if you have a lot of users
you're gonna find this valuable you're
gonna have the stable version that most
people are using and you're gonna want
to have a next or a beta version that
new people are using of course you could
just tell people which the specific
version is you'd like one point five
point seven that's beta everybody should
try it out but that's kind of a pain in
the ass and NPM is here to remove pains
in your ass so you can use dis tags also
called release tags to do this you can
apply a disc tag at publish time by
using - - tag when you publish by
default every publish gets tagged it
gets tagged as latest and with you NPM
install what you're actually doing is
you're NPM installing at latest whatever
the latest tag points to is what gets
installed so but you can run anything
you can run in NPM install package at
beta NPM install package a test NPM
install package at whatever arbitrary
tag you've made up so once you've done
that you've got this beta tag and you're
like okay cool this version is no longer
beta this version is latest how do you
change
the tag once the thing is already
published that's where the dist Anka
mint comes in this tag ad applies the
tag you specify to the version that you
specify only one version of a package
can have a tag at any one time so if you
add it to a new version it's the same as
moving it from the old version you can
use remove to tack to remove the tag
entirely you can see what tags exist
with LS big packages like babel have
adopted a new release strategy where
they release all of the new versions of
their package on a next tag you know
just as ci passes it gets automatically
published and when everything has
reached the next tag they then do a
single operation that switches
everything on the next tag to the
current tag which is if you've got a big
NPM project can be a nice granular way
of doing that so one other way that you
can use tags is when you're installing
your dependencies you can run npm
install with - - tag and NPM will prefer
versions that have that tag this is
useful if you're working on a big
project with lots of people and some
people have started releasing next stuff
and you don't want to have to update
your dependencies you just say install
this project on the next tag and it will
pull in all of your dependencies on next
tags if you've got them of course
sometimes you make a mistake and you
publish a version by accident or you
have a bug that's gonna take a long time
to fix and you just want that version to
be gone an NPM unpublish lets you do
that
as you may have heard recently and
publishing a package can cause trouble
if there's a bunch of people depending
on that package so recently we made a
change in the way that unpublished works
which is if you unpublished something
you can unpublish it easily for the
first 24 hours and after the first 24
hours you have to contact support to
make sure that this is a thing that you
intended to do and is safe for everyone
to do and we're probably not you know
giving package aways package names away
to corporations anymore that didn't seem
to work out but if you've got a package
or a version that you don't want people
to use anymore rather than on publishing
it the safer and friendlier way is to
use NPM deprecated
people will still be able to install the
package they'll just get a little
friendly notice saying hey you shouldn't
use this package anymore it's much
easier and it's much safer and it
doesn't break the whole universe and
happy you know have to do forever jokes
about left bad so if you've been running
a project for a while you'll find that
some of your dependencies have been
updated but with breaking changes so
they won't automatically be pulled in
how do you find these updates that's
what NPM outdated is for NPM outdid will
give you a list like this one here
current shows you what you have locally
and wanted shows you the version that
would be in the maximum version that
would be installed by your sambara range
so if you've installed recently these
two are usually the same and if they're
not the same NPM update will bring them
into alignment with each other the last
column which is the latest shows if
there's a version that is outside you're
allowed range but still exists like a
breaking change so you can decide if you
want to upgrade without having to you
know just install new things to check
everybody's webpage so there's more
stuff about run scripts I called them
run scripts in here's why I did that
which is that in the script stanza of
your package.json you can define any
scripts at all and then you can run them
using the NPM run command so like start
and stop and test all of these arbitrary
run scripts they get dev dependencies in
their path and you can use them for all
sorts of things at NPM we tend to use
NPM run dev as a shorthand of starting
the server in development mode which is
nice are the people use NPM run set up
to initialize their databases the first
time so that you don't have to have like
a complicated wiki page about you know
here's how you set up your databases for
the first time when you when you hired a
new dev that's what I mean about package
JSON and NPM being a way of
crystallizing your your team's processes
into the code anything that you might
have put in a wiki somewhere you can
just slap it into package JSON and you
can have it version controlled along
with everything else so you no longer
have to tell everybody that's not how we
run tests anymore this is how we run
tests anymore that's not how you set up
the database this is how you set up the
database
so I already mentioned that run scripts
get dev dependencies for free another
useful thing that they get for Frieza
they get a bunch of NPM variables every
key in package JSON is available to your
run scripts in the environment as an NPM
package value and every configuration
value used by NPM is available as an NPM
config value even more usefully if you
create a config key like this one in
your package JSON you can put default
values in there and they will be
overridden by values in NPM s
configuration command configuration
files so as you can see in this example
I set a default port for my thing to run
on to be used by my start script forever
for instance it just wants to know what
port it should run on but somebody can
use NPM config to set the value of that
config and it will be overridden without
you having to constantly swap in
configuration files the final and most
useful feature of NPM run scripts that
I'm going to mention is lifecycle hooks
certain names for run scripts are
special this is the big list of them
these scripts will run automatically in
response to events so events like
publishing your package or running the
version command or running install and
you can use this to do all sorts of
things like really common use of the
install event is two compiled binary
dependencies if your package has those
but you can do other cool stuff you can
force the event to fail if the script
fails so for instance you can put a pre
publish script that runs your tests
which makes it impossible to publish a
version that doesn't pass your test this
can be a nice low friction way of like
ensuring best practices within your team
the other thing that I should talk about
that is super useful is the NPM RC file
or more accurately the NPM RC files
because there are four of them and this
is a frequent source of confusion what
the NPM RC files is they do is they
provide default configuration options
for NPM and NPM accepts over a hundred
configuration options writing them down
in some place is often pretty useful if
you put an NPM LC in your package root
you can that's a good place to put per
package per project configuration
settings that would be shared across
your team if you have stuff that's
relevant just to you like your assets
token and stuff like that you can put it
in the one in your home directory
there's also you know global ones and
and and you can also look at an PM's
built-in ones if that sounds like a good
idea to you
another thing that NPM RC does is it
holds your authentication token you can
use this token to authenticate other
services to NPM a really common use case
for this is CI if you are using private
packages if you don't you don't have put
your auth token directly into your code
you can do something like this where you
put the NPM token variable into your
into your NPM RC file it will get
automatically expanded if you set it as
an environment variable within Travis
this is a really useful thing to do and
Remy's post which I'm linking to there
has a lot of details on how to do that
the best way there are a handful of fun
configuration options which I'm going to
skip because I'm running a little bit
over time and so before I get out of
here I want to mention that there's a
few third-party tools that are not part
of NPM but they're so useful and so
popular that they're becoming intrinsic
to the way people write note code and
use NPM these days the first is bable
bable is a transpiler
it's a tool that transforms next version
JavaScript into JavaScript that can run
today either a note or in your browser
it can also transpile stuff that isn't
JavaScript like JSX or typescript and
lots of projects and tutorials these
days we're seeing just sort of assume
you already know how to transfer your
code and that's a thing that everybody
does so if you've been wondering how the
hell it is that all these people are
using es6 before es6 is globally
available Babel
how they're doing it another thing that
people do and assume that you already
know how to do is to make your note code
available into your browser there are
two popular ways to do this the first
and older one is browserify built by the
wonderful genius sub stack it is an
amazingly powerful flexible tool and the
second one is web pack which is a newer
more sort of batteries included solution
that does much of the same things they
will both help you transpile your code
and make it easily available to your
browser in a predictable way
another tool that we're finding super
useful right now is green keeper green
keeper is like NPM outdated in the cloud
it constantly checks for updates to the
packages that you depend on and it runs
your tests on them to make sure that
minor updates haven't broken you they
said that they weren't going to but they
might have anyway and green keepers
making sure that your tests are always
green get it and it will even submit a
PR to include the new change if it's
safe for your app and we've turned it on
for most of our repos a 10:00 p.m. and
the last third-party thing I want to
mention is the node security project and
they're two NS P n SP consults node
security projects data based of node and
security vulnerabilities when you run an
SP check and it will alert you if you're
using a vulnerable module so if you hook
an SP check into those life cycle events
that I was talking about you can make it
such that it is impossible for you to
publish a version of your code that
contains vulnerable modules which is a
really good idea
so one thing you may be asking at this
point is like I've just given you this
whirlwind tour of like dozens and dozens
of features what on earth is tying all
of these things together it does all
these random things what ties them
together is that they take something
that you had to do all the time and it
turns it into an automatic thing that
happens without you having to think
about it they take things that were hard
and they make them simpler and faster
the message of NPM is that NPM is here
to get out of your way we are not here
to add a bunch of ceremony that is not
what we are about we don't want to tell
you how to do things we want to find out
the things that you're already doing and
make them as simple as we possibly can
so if there's something that you do
every day and it's still really hard you
should
about it you should find me today and
complain to me about it and that's what
NPM will get out of your way to do next
so there you go that is the big recap of
all of the things that we think that
everybody should know about NPM I hope
you all learned at least one useful
thing and if you've got any questions
you should stop me in the hallway good
questions get good NPM swag and I have a
big bag of it to give away that I don't
want to take back thank you very much
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>