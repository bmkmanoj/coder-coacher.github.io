<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Simon Swain: Minimum Viable Warfare - Lightning Talk - JSConf.Asia 2015 | Coder Coacher - Coaching Coders</title><meta content="Simon Swain: Minimum Viable Warfare - Lightning Talk - JSConf.Asia 2015 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Simon Swain: Minimum Viable Warfare - Lightning Talk - JSConf.Asia 2015</b></h2><h5 class="post__date">2015-12-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/zeKNXaM2fsA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all right five minutes for Simon all
right
this animation is called minimum viable
warfare at the bottom we have a base it
can fire a single shot in its defense
raining down from the sky and the stars
their sole intent is to destroy the base
this is it this is the foundation of
some kind of game of simulation but I've
only got five minutes
so let's tweak the parameters here the
scar can fire two missiles at a time to
try and destroy the base this is wings
heavily in the skies favor it's gonna
win quickly every time
so let's tweak again this is more like
it here the bases can fire as many shots
as they want to try and defend
themselves from their missiles raining
down from the sky and impregnable
defense and then it's just a matter of
time but I have not got much time so
let's tweak again full blaze everybody
can fire as many things as they want to
try and defeat their enemy it's amazing
it looks like fireworks but the astute
JavaScript will observe the browser is
starting to Jiang what's the jig is
nearly tweeted 16 and you should own our
water tankers by now tanking is when we
ask the browser to do too many things
and too little time everything gets a
little bit shaky let's see some
Diagnostics there are two things going
on we have an update phase and a paint
phase in the update phase we do all the
mess required to work out where our
things should be on the screen and the
paint waves we draw them to the screen
to achieve smooth animation we need to
do this 60 times a second this gives us
a time budget of approximately 16
milliseconds to do all of our work if we
exceed this time budget the Diagnostics
go red and the browser starts to jam but
not all hope is lost
we're getting nearly 2000 things on the
screen 60 times a second before the
browser even starts the breaker switch
in more detail this is what we're doing
forever and ever we go update painting
this is called the game loop but do not
do it like this because you will burn
out your CPU so instead we use window
don't requestanimationframe here we ask
the rounds of the court us when it's
ready to draw a frame on the screen we
update we paint and the process repeats
in an ideal world the browser will call
us 60 times a second and we will get
smooth animations
we have a set of variables we use to
represent the universe we have created
we update these variables according to
some rules we use the values of the
variables to tell us where the toss up
on the screen with clear I painted
surface we draw stuff to it easy job
done but real life is never easy there's
no guarantee the browser will call us 60
times a second to do there's other
things to do and we are not that
important so we have to work out the
time difference between now and the last
time the browser called us and use that
to create a scaling factor for all of
our physics if we do this right along
the edge cases are covered here we will
get smooth animation when it's time to
draw a mutation our 5 canvas we have an
HTML tag we get a reference to they take
from the Dom we get a drawing context
from that reference we call methods or
make context to draw stuff in your
canvas in your browser on your screen
but to truly understand html5 canvas we
must understand how a computer display
works back when the first Star Wars
movie came out computer displays were
made out of a glass tube when in the
back glass roof was larger rectangular
on the interior surface of a cloud
rectangle was painted a token phosphor
at the rear end of the tube there was an
electron gun it would fire a stream of
electrons down the tube towards the
phosphor coated surface when the
electrons strike the fossil they will
cause it to glow temporarily red around
the stream of electrons was a set of
maintenance these magnets can cause the
beam to be deflected to any location on
the front of the glass tube now if you
have a region of memory and you
sequentially read the values of their
bits from that memory news the bellies
of those fits to modulate the electron
beam on and off this is Canada crossing
down the front of the glass tube you can
go as a representation of Aviles helping
those fists to be painted to the front
of your screen this is how a bitmap
display works we call this a raster scan
display the foundation of all could be
the displays in use today but there is
another way to do it back in the dawn of
continued back in the dawn of computing
history computers a file is powerful you
would implement your display in hardware
you would see the list of foreign
instructions to your display circuitry
these instructions will cause a Lincoln
beam to be deflected around of the front
of the screen much like you would
reliance on a piece of paper with a
pencil this technique is called Victor
display Victor the splicer one amazing
properties simply by multiplying the
intensity of the magnet set the flick
the beam as I scanned it around the
front of the classroom you can cause the
image to be scaled up and down with
incredible ease just for modifying the
value of one is 2 bytes of memory to do
the same thing with a raster scan
display requires of art of convex nest
you have to calculate the position of
every pixel you want to draw on the
screen tragically the technique of
victor displays be
lost to the sands of time but html5
canvas gives us the best of both worlds
we can rotate the scale and translate as
was incredibly safe it Nets around the
screen with abandon and if you look
closely you will see vestigial move two
lines you can I said either your direct
descendants of the original instructions
used to deflect an electron beam around
the front of a glass tube just how much
while the band oh no here you ask
here we try and draw as many shapes as
we can we fill up the screen with shapes
60 times a second before destroying each
type is translated and rotated weakening
2700 shapes on the screen a 5.5
milliseconds if you're trying to do 65 a
second animation you still have 10
milliseconds left every frame to do all
of your math and JavaScript can do a lot
of man in 10 milliseconds thank you with
five seconds left brilliant</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>