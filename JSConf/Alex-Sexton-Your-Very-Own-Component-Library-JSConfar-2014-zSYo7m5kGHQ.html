<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Alex Sexton: Your Very Own Component Library | JSConf.ar 2014 | Coder Coacher - Coaching Coders</title><meta content="Alex Sexton: Your Very Own Component Library | JSConf.ar 2014 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Alex Sexton: Your Very Own Component Library | JSConf.ar 2014</b></h2><h5 class="post__date">2015-05-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/zSYo7m5kGHQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I don't think it's right now I we look
pretty good now so I'm going to be
talking about component libraries and
you might say what's the component
library which is what everyone at my
company said when I said hey let's build
a component library so I try to make it
easier for them everyone had heard of
bootstrap and so at work I started
working on something called boot stripe
it's pretty good you'll get it it'll
come to you uh so i encourage you to
build your own component library mainly
so you get to make your own something
strap j/s comp strap whatever you want
to do stripes trap didn't work quite as
well as boot stripe so that's what we
want with but oh why right one at all
you could just build your application
and then when you get to a button you
style the button and then when you get
to a drop-down you style the drop-down
just like we've made web applications
for a really long time so I've prepared
a list of facts that are definitely true
about CSS the first CSS fact is that
once you write a line of CSS it can
never be deleted it sounds like a myth
what if you think about your app you're
always just a little too scared to
remove code and so you just add new
classes to go over those ones so i like
to call CSS an append only language
that's good you get code like this this
is my favorite I always see blocks like
this that you put this on a div it
literally does nothing but you're like
well is it overriding the padding is
that I'm just gonna leave this here this
is fine I think it's not hurting anyone
so never remove it yeah so the fact 2is
preprocessors are great as long as you
know exactly what the output this is my
favorite way of looking at nesting very
common output for you gzip lovers this
is like a your best-case scenario though
so that's pretty great CSS fact three is
that no two people write CSS in a
similar way I feel like I work with some
of the smartest people in the universe
and this is probably about as best as I
could ask for literally every type of
casing and then some casings that don't
actually exist so yeah I'm sure you
recognize the naming schemes from your
own code and that's why you're laughing
so CSS fact for is you cannot test to
CSS it doesn't run in a way that you can
get stuff out there's not really good
joke for this once I'll move to CSS 5 so
you can't upgrade to a new version of
bootstrap without an animal sacrifice
and I decided not to include an image
for that one so deleting code and
testing actually go hand in hand the
easiest way to feel comfortable deleting
something is to make sure that you have
tests to make sure it doesn't break
something whenever you delete it so
component libraries are well tested and
highly reusable libraries for for UI
components they would be ridiculous to
test if you did them inside of your
application so in a component library
you're often testing that when you hover
and it's active and the keyboard focuses
on and you're looking sideways that the
the the thing comes around the edges of
the button correctly and if you did that
inside your application every time you
had a button that would be ridiculous
but luckily with a component library you
can kind of focus on those nice detailed
things and so the reason why this is
important is because this is me on a
good day that's probably my best outfit
I look really sharp I had a recent
haircut I'm next to something involving
art
it looks like everything even matches my
clothes are on the right direction it's
pretty good day for me the code that i
read on this day is going to be
well-intentioned i'm clear thinking and
i'm going to do things for the right
reason this is me on a normal day was
about ninety percent of the time
ninety-nine percent of the time AV and
component libraries are all about making
sure that this version of yourself
doesn't ruin the app for everybody so
use your best days to build up
components that you can use mindlessly
on your worst days so you can do things
like keyboard accessibility I put in a
fancy thing Oh responsiveness there you
go oh I don't know actually how keynote
trans transitions work so forgive me
that was sweet focus states it's the
only way focus states can be interesting
as if they sparkle so active hover focus
like I talked about for and that's real
we really have styles that if you have
been using your keyboard and you're
pressing down and your mouse happens to
be over something like you can't have
some weird stay that's a real estate and
you've never considered it before I hope
but I hope you do in the future because
of this stuff so it turns this this very
crappy but well-intentioned Mario clay
you know it's fully sculpted like there
was no instruction manual there's
nothing anyone can do to help you make
your perfect fairly flawed Mario and it
turns that into this which is you know
you have building blocks you have pieces
and you have instructions on how to put
it all together and so we do the same
thing for boot stripe we have this
documentation that looks beautiful on
this screen and we have what something
is we have how to use it we have
examples of it being used and that
really helps create consistency for
developers on how they integrate things
but also helps create consistency for
your end users every time that they
encounter a button every time they
encounter a nav menu
we're going to know what's going to work
the same way each time bonus everyone
has like the admin toolbar back-end
thing and it's really great that now
whenever we build these stupid crappy
internal applications you can just use
your thing and it kind of looks like you
tried it's just bonus so how can you
make a component library or more
specifically how can I make a component
library and it's going to be any better
than just using bootstrap out of the box
that's a good question you you probably
could use bootstrap for a lot of stuff
but bootstraps core competency is
generic pneus it wants to be the
baseline it has no styles on buttons and
it's fairly accessible but everything
looks the same and people are pretty
tired of bootstrap websites by now if
you get in on bootstrap for early enough
maybe that'll be cool for like a month
or two so first thing you want to do is
choose a preprocessor not strictly
necessary but really helps if you're
parsing CSS you can do a lot of the
testing things that we're going to talk
about that's ripe we didn't choose a
very normal one we wrote our own called
KFC SS uh you guys have KFC here either
way s'okay of CSS is actually just a set
of modules on top of rework CSS so
mostly we're using open-source plugins
to do a lot of the things that you like
it be similar like miss if people use
myth it tries to model CSS for as
closely as possible so this would be
really good for steps talk where you're
kind of more Polly filling the future
than you are kind of creating your own
magic we also kill things like extend so
we don't get crazy nesting and we just
deal with writing a class name twice
suit CSS is a good starting point we
don't use suit out of the box but we
kind of forked it and made it work for
our needs this is from necklace at out
of Twitter and this is really good for
creating encapsulated CSS components so
you can reason about your code in nice
little cool blocks that that you know
exactly what they're doing so here's the
example on
the naming conventions which is mostly
what sue CSS is as a set of naming
conventions and you can say this is a
component and people like their eyes
bleed whenever there's a capital class
name but you get used to I promise it's
kind of like when everyone tells you jsx
is so ugly and then they use it in there
like oh jsx is actually pretty cool this
is great because you can always tell
what is a component in your classes and
will and what isn't and then you have
structured ways of saying this is a
modification or this is a descendent or
this is something else and so you can
kind of get rid of this whole problem
that we had earlier you can add in your
own checks to your system and I'd
encourage you to add in checks into like
you can write rework plugins more or
less if you if you choose rework in
order to jump into your CSS and pick out
things that are important to your
organization one thing that bugged me at
work is a color checking so I wrote CSS
color guard have you seen that and CSS
color guard is actually fairly useless
but I thought it was a cool idea and we
use it kind of at CI continuous
integration testing time but but to show
a good example here's gear most post
today from on Facebook about the road
Torres yesterday roadshows JavaScript
and let's say you wanted to know the
color of those three buttons you could
use dev tools but all of us have gone
through the real way that we would do
this which is to zoom into a million
percent I drop the darkest middle point
of the E and then it works every time
that's definitely going to be the
correct hex code so luckily there is an
algorithm that people in the television
industry created called cie de two
thousand sounds like a robot which is
also cool they they wrote this hella
mathy formula for figuring out the
differences of of colors to humans so
something with a low score would be very
similar a zero would be the same color
and so like yellows are kind of
harder to discern the differences
between then something like blue and so
it's not actually just like compared to
hex values and so you can get this
really fine grained way of saying how
similar these two colors and then you
can yell at your co-workers
automatically and say like hey this blue
is clearly should be Facebook blue and
you're like two hex characters off how
about you just switch it to our style
guide color also you're fired we have a
lot of api's at stripe we have a API for
firing people so it's very simple oh the
best part about writing CSS color guard
let's go back to that page I'm going to
run through all these again the CI ed
2000 algorithm this super Matthew one
that was an MPN module so I got all the
credit and someone else has to do all
the math pro tip so here's an example of
one of our test pages so you can test
the SS as long as you're testing
something very small well defined and
and relatively declaratively so this is
two ways of marking up a switcher or
toggle so you could kind of toggle
between those three things and we have a
disabled State because there's that and
we have an active state we're using the
is active and is disabled which is from
the suit CSS naming scheme you can kind
of see the three different ways that
those look we're not clicking on
anything we're not doing anything but we
can run that through our CI server we
can take a screenshot of it and we can
make sure that it doesn't change unless
we wanted it to change so if you
accidentally change the base blue color
you accidentally change the margin
around but buttons and some other file
this file will throw an error we can go
into that a little bit so I rework
pseudo classes this is another example
of why we chose to do KF CSS has small
modules on top of kind of your
preprocessor all this does is take
things like the pseudo hover class and
turn them into literally the word pseudo
dash hover so something like this some
selector colon active turn
into the real selector as well as the
declarative selector and then you can
actually add some things to your
declarative test pages so you can have
your button and then you can actually
add all your pseudo states and that way
you don't have to use a mouse to go in
and then drag over it and then try to
take a screenshot exactly as you click
down with the fake Mouse and then pull
out and and it's never good especially
when you're dealing with you know sauce
labs or something that you don't even
have control over so that's never good
so you can do all this and then you
actually get a much bigger page with all
the different states and like I said
before there is the is active focus
hovered state there and it looks
different than the other states and it's
correct and good so we run this test
every time we make a commit and if
anything changes say the margin around
the buttons we get this diff that says
hey did you mean to do this and that'll
actually fail to build if we want we can
commit a new image and say we intended
to do this and then you can actually see
the change that happens and this seems
like a cool video that I put together
this is actually just the onion skin
Swiper from github so now we have a rule
that in order to make a change in boots
stripe a designer must sign off on any
image changes so now every time anything
visually changes in our entire library
it either fails a bill because it wasn't
supposed to happen or designer says this
looked correct and and it's okay so
abstraction is key to some of the other
problems that we have the deleting code
is too hard with one of them and
changing opponent means that you have to
go find every single use in every app
that you ever use it in you may remember
trying to upgrade from bootstrap two to
three people try to write whole scanners
of your app to go change the classes in
markup and all that kind of stuff and
that really stinks so one of the reasons
we can't delete code is because we don't
know who's using the past versions and
who's using the new versions and so we
can kind of pull out the writing of the
mark-up in the inclusion of the classes
into its own abstracted library
it's a lot of people are saying this is
jae's comp you're talking about CSS an
awful lot so this parts for you so you
can turn all your CSS components into
j/s application components so you can
pick your favorite poison they all have
versions of of components that you can
use we actually have libraries for react
and ember at stripe there is a few
angular apps internally that I'm sure
will eventually get boot stripe angular
versions so never use your component
library directly which seems kind of
counterintuitive you never do this never
write a button with mark up with the
classes that you use notice we actually
do have a boot stripe prefix on all of
those things that way you could actually
technically use multiple versions or
anything like that that you wanted and
it's helpful EBS is our is our prefix
and I really enjoy writing that each
time so the BS button and the is being
modified as a BS button large but we
don't want to write that we created
initially ember boot stripe and we
created components just amber components
and this is a BS button and it has a
size property and internally that
modifies the class names on a real
button tag but now there's a single
location that writes markup and adds
these classes so if we realize that
screen readers don't like the way that
we've marked up our button in two months
we can go to a single location change
the way it's marked up and it's done
this actually happened with buttons did
you know with with the button class that
compiles to this but this actually is a
submit button I didn't know that the
default type of button was submit it's
not button type button type button' is
what you actually have to add to this so
later we went in and added button type
equals button and it no longer
accidentally submitted everything on
every page just great good side effect
so it also can automatically generate
your style guide for you so a lot of
people talk about a living style guide
and the common outcome is that you write
it once and then it's never updated
then no one ever visits it again and it
was a waste of two months and so you can
actually use your components in order to
generate both the markup and the
examples you just integrate your
components and any time you update your
application your style guide
automatically updates and so now you at
least have some semblance of a living
dead style guide that's still no one
visits anyways but at least you know
that it's correct if you want to see
more information about good style guides
the Lonely Planet team has this great
resource which is their style is called
a reso and I think it's fantastic they
have all these different examples you
should check out Rizzo by the lonely
planet who does expect it so deleting
code becomes a lot easier because we
have these small and cash elated file
with files with good naming schemes and
we have good tests and so you can come
in here and you can definitely say that
if I want to change the hover color
delete the hover color you know exactly
where to go in the file you know that
you can delete it and then you can run
the tests and know that only the change
that I wanted to make was made you can
also upgrade because now you're you're
never writing the the raw HTML you're
only writing your components and those
are encapsulated you can make the
changes you want and everything gets
upgraded everywhere you can throw in a
grid we use flexbox grid because flexbox
is cool and all of a sudden you can make
about ninety percent of your application
just by piecing together your you're
highly tested well-crafted what's good
them I had a joke I couldn't think of it
you're you're you're well crafted CSS
components all together on a page and
then you can focus on that last little
sliver that makes your application great
and good you're never going to be able
to just put together an application that
just immediately works and looks great
just because of your component library
but you can really really focus on the
on the things that makes each page
different or each interaction different
that's all thank you oh this is a
snapshot that I screenshotted from
Guillermo
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>