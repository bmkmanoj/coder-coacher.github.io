<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Christian Lilley: Build Scalable, Automated CSS - CSSConf.Asia 2014 | Coder Coacher - Coaching Coders</title><meta content="Christian Lilley: Build Scalable, Automated CSS - CSSConf.Asia 2014 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Christian Lilley: Build Scalable, Automated CSS - CSSConf.Asia 2014</b></h2><h5 class="post__date">2015-01-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Tk_0qYEFtAY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so let's talk scalable CSS I am a UI guy
full time it's what I do so I am
thrilled that you I Devon JavaScript
seem to have suddenly become cool senior
back-end guys back end only guys are
suddenly behaving very differently these
days they're becoming back-end guys who
are also willing to do front end their
their ears are perking up when i
mentioned that i'm doing angular
training they do a sheepish it'll will
can I come too and hard core java
architects I'm seeing they've got a new
tool to write they want to do
authentication or they want to do a napi
for storage or something and they'll
write it in note not just because
they're trying to be hip but because
javascript does useful things really
efficiently and really well so people
now they know note they know about
single page applications they get that
that change they get grunts they get
angular they get em ER they know about
parse calm and OS 10 itself is now
scriptable in JavaScript we have
JavaScript editors written in JavaScript
not 12 and they understand that the
JavaScript ecosystem has suddenly become
familiar to them that it does all the
things they expect it to do that it has
the tooling they expected to have but
it's mature in the way they expect it to
be whoo so truly we have a set of three
powerful you I dev languages at our
disposal that everybody loves and
respects now all three of them are equal
oh wait wait what happened you see
there's this awkward moment in
conversations about you i def
with an old job of great beard or
someone like that where we're talking
about javascript is like yeah yeah yeah
cool and then suddenly CSS comes up why
is that why is it come play yeah there
we go why is it that otherwise
intelligent rational people suddenly
become practically bigoted when we talk
about our lovely little language about
CSS so here's one especially telling
example this particular guy that I work
with is crazy ridiculous smart he's
afraid of absolutely nothing in the
technical world not even CSS in fact he
wrote the the default drop in SAS sheet
that our company uses so that you can
get sort of you know instant Brander
with all of your colors and fonts and
logos and everything else he's the kind
of guy who when he gets some gigantic
Excel spreadsheet full of you know
ridiculous business calculations that a
consultant came up with and he's told to
port all of that code over to a web
interface so that the logic can get some
data visualization tools in JavaScript
he says yeah sure I could do it that way
but that would be boring so how about if
I instead figure out how to embed
chromium inside of Excel and then create
the API for communicating back and forth
across the membrane right some advanced
JavaScript visualization tools inside of
that I think it does it all in like a
week or two why does that guy who can
stand with the best people in this room
or really anywhere say that CSS is an
anti language full of dark magic so
let's savor this expression for a moment
if if CSS were nearly a language full of
dark magic it would be something
powerful but evil like Voldemort but
instead my buddy is trying to say that
CSS doesn't even deserve
bad ass street cred that it's instead an
anti language and so it's inherently
something fake and synthetic and
unreliable and want to be more like
Britney Spears with our head shaved then
he-who-must-not-be-named which is a
pretty awful sort of comparison so
taking it for granted that my friend is
just wrong about CSS it's not an anti
language it's not full of dark magic
where did it get the idea and why do we
care what he thinks in the first place
so I told with a couple theories about
this starting with the idea that maybe
they're all colorblind and you might
think so based on the way that they
dress compared to stylish you I people
but but no they do multiple multiplayer
gaming and they frag the right people so
it's not color so maybe it's fonts maybe
they have an allergy to seraphis or
something maybe could it be could they
be responsible for the greatest
aesthetic plague of our time no the
scientists now tell us that the plague
of comic sons was principally carried
into the world by secretary as an
administrative assistance not by
back-end devs and if you've ever seen a
job guys been half as day tweaking a new
installation of IntelliJ to get his
monospaced fonts just right and his code
coloring just right you'll know CSS nor
is it that CSS doesn't do cool things
and doing jerky screen captures with it
CSS does awesome things increasingly it
does things that we would have had to do
the hard way in other languages with
javascript in ways that weren't hardware
optimized like our friend was just
talking about so what gives then so i
gave up the horizon and i just asked i
said to these guys who made the e
you face about CSS okay so what is it
really tell me give me specifics and
while the results of my survey are
entirely unscientific they give us a
starting place so boiled down to a few
things and a few things that we're kind
of shocking um things that we we all
pretty much take for granted in fact you
can't really train somebody in CSS
without explaining these things or maybe
not the third one that's a little
opinionated but but the other two and
especially this third one are kind of
fundamental all right well so what do
you make of that that that that's what
they complain about like is it it
there's two basic options i think one is
they just need better better training
right or maybe they need some motivation
i tried once saying well you know CSS is
really just or at least positioning CSS
positioning is really just math and
algorithms and so if you're not really
good at math and algorithms i guess i
can understand why you wouldn't like CSS
that went over really well I I don't
recommend it because it's not helpful
it's not that it's not really really fun
I recommend it if you just want to have
fun but if what you're trying to do is
persuade people that's not the way to go
so option two is to think again to think
about those things that we take for
granted those things like the Cascade
and specificity that we just take as as
Givens and I realized that maybe the
signal that I'm getting from these guys
I respect and unfortunately they were
all guys in my sample I apologize for
that maybe we can do better what we're
doing and we don't have to wait for
browsers to change to make it possible
we've been using CSS for so long now
that we've maybe become a bit
lined to the things it does to us to the
hoops it makes us jump through I come to
believe that the Cascade and the
specificity algorithm themselves are
very cool ideas they solve edge and
corner cases in very important ways but
because of them we've been fundamentally
encouraged to do things that we should
not do or at least that we should try
very hard not to do they cause us in
many cases to write CSS that's mushy in
precise overlapping and hard to maintain
code that normal humans let's think
about that the browser understands it
but humans don't an all code ideally the
reason we don't just write it ones and
zeros is so that humans can interpret it
and predict the results without needing
the browser's help without needing an
execution engine in other words to make
sense of what's going on so let's take a
fresh start let's forget about the
browser wars let's forget about the ear
I back when people thought that HTML was
a document format not a tool for
building awesome interfaces what would
we want from code that we built cool
interfaces from if we're starting from
scratch we want it dry we want it
maintainable we want it predictable
which are things that you'll hear every
programmer in every language talking
about constantly and i'm going to add
another one to the list that you don't
hear everybody say but that i think is
is just as important don't optimize
prematurely or premature optimization is
the root of all evil so can we do with
that how do we get there the specifics
particularly around optimization are
very much open to interpretation and my
version of the specifics is pretty
opinionated but these I think are some
general principles that we can probably
all rally around name all the things
I put that TM there not because it's
mine I did I owe it to a good friend of
mine named chris hoffman super smart
young coder and he makes the point that
one of the things that we're just not
taught you can go to the fanciest CS
program ever and nobody will ever tell
you that how you name things may be as
important as everything else that you do
in your application in terms of its
maintainability you can write a program
just for yourself and not care at all
what things are called you can use hex
codes the name everything if you want as
long as you read hex codes fluently
you'll be fine but the second you want
it to be maintained by anybody other
than yourself or even by yourself two
days from now after you've worked on
other things naming things is critical
classes we can disagree about when
exactly we should use a particular class
whether to stack them or not but we can
all agree that for some reason we've
gotten it into our heads that classes
you can have too many of them that you
can have too many letters in the name of
a class and I think we can make the case
pretty clearly that that's not true be a
lover not a fighter everybody can agree
with that right and the last one again a
little bit opinionated but I think
you'll see where I'm going it's time to
automate if you haven't done it yet so
challenge number one and specific layout
is the hardest thing about CSS people
figure out how to change fonts and
colors and CSS with in like an hour but
layout takes much much longer because
there's much more going on there's more
possible points of failure right so this
is the one common pain point that unites
all beginning or part-time CSS devs you
know those back-end dads who also do a
little CSS in confusing them in
aggravating them and I have I think a
solution too much of
what else
if you care about making CSS and CSS
layout in particular comprehensible to
other people I truly think that you
could get 90 yards down the field with
this one little gem not the whole way
but a lot of it the people who created
this wonderful little gem that you've
probably seen out on the interwebs
they're talking about floats I'm
convinced of it every bigoted anti CSS
developer that I talk about talks about
floats they say why the hell when I just
want something to go over there on the
right and stay put on the right and i
use the CSS feature that has the word
right in it does it not do what I want
or anything remotely resembling what I
want sure some things move right but it
turns around and everything inside of it
faces backwards and then it screws up
everything that comes after it instead
of this top one which would be a fairly
normal toolbar and then a header
underneath it or the one below it where
you want your tool bar over on the right
you use floats and you get this either
your headers screwed up in the wrong
place or if you are foolish enough to
use float right everything gets reversed
and your headers in the wrong place and
this is a simple example okay if you've
ever tried to throw a float into the
middle of a complex layout that has a
bunch of other stuff going on it can
just totally explode now the very
logical response of the people in this
audience vast majority is just use a
clear fix duh but let's be honest it's a
hack it's a dirty hack and anybody who's
in denial about a tackiness is in fact I
believe suffering from more than a
little Stockholm Syndrome floats were
invented for one reason
then one reason alone and alone to allow
text to wrap around an image that's why
they exist in because it was the guys at
CERN he practically invented it it was
meant to go around an image of like a
super collider or something they were
not floats were not intended to do what
we do with them so I know this hurts but
floats are the table based layout of our
time stop doing it unless you have to
support IE 6 or except in very specific
very discreet situations like you've got
that one thing at the end of the road
that just needs them move over there and
stay over there okay maybe but otherwise
start making fun of the people who do
basic layout with them don't hire people
who say they've been doing CSS for 10
years and then do it all with floats and
switch to better options so inline-block
even though it has its own
idiosyncrasies with vertical alignment
and white space at least does something
resembling what you expect it to do
based on its name and if you explain to
people what in line is and what block is
you can then explain inline-block and
have them go oh right I get it it's like
a paragraph that behaves like a
character and flows across the page but
takes up space okay cool you can explain
this to a trainee you can explain this
to one of the old job of gray beards who
are dabbling a little you I dev and
they'll be like oh yeah all right it's
not the inline block is is totally
perfect though flexbox on the other hand
is perfect and I want to marry it but
its father says it won't be of age until
ie8 market share falls below ten percent
the reason I love it is that it does
what it should the way your fellow
coders expect and if things do what they
should and you can explain it to the
other people on your team you win you
have a colleague who supports you and
doesn't call you a witch of practices
magic and you get to stop fighting you
get to be a lover not a fighter right
stop working around things stop hacking
and you can build stuff that behaves
rationally and provides a good
foundation for that flexbox future
whenever it does eventually come and
then my final note is just that if if
for anybody in the audience is like well
it's not that bad a hack I don't even
have to use extra HTML anymore to apply
a clear fix in order to do that you have
to have a browser that already supports
not using floats anymore okay so so just
just move on and then here's where I get
really opinionated and I'm going to poke
some people in a way that they don't
like I love accessibility but I think
that m's most of the time in most cases
until you prove in a use case for them
are probably more trouble than they're
worth but I'm gonna let that go because
it's it's there for you to just chew on
and meditate on so what's
maintainability ok we've addressed the
the one crazy pain point about floats in
a nutshell its readability and
reusability now very few people are
going to oppose readability and
reusability on principle right nobody
says I want my code to not be
maintainable to not be readable to not
be reusable what happens instead is that
some junior dev commits some stuff and
unless you spend a half hour staring at
it it's never going to make sense and so
you go to them and you ask and they say
well yeah this codes a little hard to
maintain but dude it's optimized like
it's a magic wand that excuses all sins
that you wave it over it does not and
the truth is that what we think we spend
all of our time doing is not where we
actually spend all of our time we spend
all of our time
doing this stuff so any habit that we
have that's about typing less or making
things be shorter we're having there be
less text on the page is probably anti
maintainability so what is
maintainability so dr. one of my idols
Venkat Subramanyam and others they say
premature optimization is the root of
all evil which I agree with but I think
that mrs. an important point or another
way of thinking about it it's premature
execution optimization premature runtime
optimization that is the root of all
evil we're always going to make a choice
about what to optimize for the second
you sit down and start writing code
you're optimizing writing code that is
optimized for developer productivity and
maintainability is never premature it's
never wrong you may go back and refactor
it later but you're going to do that
because you hit that sucker with a
profiler and you proved that in some
meaningful way your maintainable code is
producing sub optimal results some user
observable latency more than 100
milliseconds let's say if so only then
should you make non-trivial set
non-trivial sacrifices of the
maintainability that you've worked so
hard for in return for execution
optimization so let me be explicit let
me say it again straight up I'm not
against execution optimization I'm not
against giving our users fantastic quick
snappy near-native experiences or
against any particular optimizing
technique again if you're writing code
you're always optimizing for something
just at the outset know that it's your
developers that arm the most expensive
most precious resource that you probably
have
okay if you're working for amazon if
you're working for new york times you
already have hundreds of millions of
users you have customers and those
customers make you a lot of money they
are extremely precious your developers
will have to adapt okay but if you're
not in that position chances are you
need to optimize for what's rarest in
your shop when you decide to do
something else do it with proof not your
hunch not your assumption that you're
prejudiced the the evolution of the
browser engines has made a lot of our
old prejudices about performance
outdated we could someone far better
than me could spend an entire session
just talking about those things so I'm
just going to float it out there and and
let it go all right so we're all on
board with the main idea how do we get
maintainability how does it apply to CSS
here's my very opinionated perspective
on this
so let's look at details this first one
automate or die whoops oh I hate these
when you copy the transitions you didn't
expect automation automation is easier
than you think quick survey how many
people use a pre compiler for almost
everything they write yeah okay how many
people should have raised their hands
just now but didn't okay good thank you
honesty all right there's a lot of fear
uncertainty and doubt for people who
come out of HTML and CSS and design
about pre compilers they're like ooh no
scary difficult hard and really it's
optional it's not optional anymore it's
easier than you think and I strongly
strongly recommend if you're just
getting started with it try yeoman
yeoman provides you with an entire
workflow that includes a compiler it's
tightly integrated with compass so you
can give that a try but try anything
else but give it a try don't be afraid
of it you will figure it out point
number two and new age is upon us I'm
not going to belabor this point but what
I'm seeing all over the world it started
in New York and San Francisco and is
making its way everywhere is that the
time is coming when it's going to be
hard for us to have the jobs that we
want to have if we say nope I'm just a
in HTML and CSS and light JavaScript guy
this new age I think requires that
almost everybody get on board with
automation get on board with tooling get
on board with making your code more
amiable and even just with the idea that
CSS isn't just presentation it's not
just style it's code and it needs to be
maintained with the same tools that we
use for other code again we could spend
an entire session on millions of
examples about why that is about what a
compiler gets you but here's a few oh
and yeah a comparison I'm sure that
everybody in this room everybody
everybody everybody uses a reset or a
normal answer right if you if you aren't
you should the browser doesn't make you
do that the technology doesn't require
you when you first start writing your
code to specify your normalizer file
right just like it doesn't force you to
use compass or SAS or less or it's
stylist or whatever tool it is whatever
syntax it is that you like but we accept
now that it makes our code better it
makes our jobs easier and I think it's
time that it became a universal that we
also understood the same thing about pre
compilers all right so everybody's heard
okay anybody who's heard of a pre
compiler has heard that there are these
things called variables that there are
these things called mix-ins and the
question is what do they really get me
ok here's the first obviously we talked
about maintainability and how
maintainability is about readability how
many people really like reading hex
codes raise your hand who likes reading
hex codes oh and and who prefers rgba
that's a little easier right because you
can tell whether you added some opacity
to it at the end and if the numbers
really high you know that it's really
dark and rich and if it's really low you
know that it's really light that makes
it easy right to know which color which
hex code or which rgba that you're
looking at is ugly greenish blue right
so why not just start naming things ugly
greenish blue put that hex code in there
once when you define your variable and
now every other time you look at it it's
written for your brain it's written for
you
understand and now you're like okay I
can get behind that but where does the
program income in the programming comes
in when you realize that once you're
dealing with ugly greenish-blue you can
now do things like say well okay yeah I
was going to go to my color picker and
mess around with the sliders until I
figured out how to make five different
darker and lighter versions of ugly
greenish blue or my red in this case or
you can just use a compiler and let that
compiler do it for you and boom
instantly you've got all five of them
and you're still using names that you
understand you're using ugly greenish
blue minus ten percent now right and
everywhere in your application that you
need it you write ugly greenish blue
minus ten percent and you get it and
when the day comes that you're like you
know what this version isn't dark enough
what I really need here is ugly greenish
blue minus twenty percent a couple
characters you're done you just saved
yourself a lot of work you save the
people who are coming after you trying
to understand what you do a lot of work
and it's about a seemingly doping little
thing colors oh and themes anybody ever
do theming or want to do theming a
precompiler lets you define a few
variables for one theme and then all of
your base rules then define some other
variables for your other theme same base
rules mix and match boom you've got two
different themed style sheets you only
wrote one style sheet it gives you stuff
like that that's awesome and who's done
responsive everybody wants responsive
these days right have you ever seen
those monsters where there's an entire
style sheet at one size and then an
entire style sheet at another size and
maybe two more after that or if it's not
a whole separate style sheet it's just
one gigantic monster style sheet and
first you have to wade through all the
ones at the small size before you then
finally get down to the ones that are
the big size and the medium size and the
ones in between what if instead you
could say I've got this component and I
want that at one size it's going to
with the seventy eight percent and at
another break point I want it to have a
width of fifty percent or even actually
at another breakpoint I just wanted to
disappear altogether and I wanted to do
that in a way that's semantics readable
easy to maintain you can use mix-ins
like this please steal this that allow
you to do exactly that instead of three
different style sheets instead of making
your life really difficult you can use
mix-ins and all of a sudden you're
looking at something and you're saying
up when the screen is big make it big
when the screen is medium make it medium
what it's really tiny make it disappear
all in one space altogether all where
you can get your brain around it after
you've done ten other things and come
back and are like what was I thinking
that's what programmability that's what
automation gets you and all of that just
these few variables to define your
screen sizes these are actually based on
the boots crap boot strap screen sizes
should you find yourself trying to hack
bootstrap to use their responsive
patterns it's actually fairly easy to
just modify their their sizes by just
changing these variables all right so
what else can you do with automation
browser prefixes suck so you can use
mix-ins okay just define once that you
need all these different browser
prefixes for a particular feature slap
in the mix in wherever you're using that
feature and you're done or bonus points
if you use yeoman you'll see that yeoman
has a tool called Auto pre fixer okay so
yeoman is the next level out that's when
you have your CSS your programming your
CSS with compass then you're programming
your entire application in an
environment based on node it'll change
your life truly if you mess around with
browser prefixes this stuff will change
your life alright
next point Oh name all the things i love
this i think it picks up on some memes
although actually i don't even have the
pictures of the the cool means that it
references so it just sounds cute but
name all the things and name them
clearly so who was it that told us that
this thing at the top okay where you
aren't naming things were you just using
element selectors li a what's a good
idea why not just named those a's
clearly right why are we treating them
like classes or something need to be
rationed it's okay um and and i
recommend stop doing this using element
selectors even when you're first
roughing things out it's okay to use a
class name that you're going to change
later it's okay to use a class name that
you're going to change two or three
times that's a simple find and replace
what's not okay is when the new junior
dev that you hire spends three months
working around your redefinitions of UL
and table before they finally get up the
courage to ask did you really mean to do
that and can i change it please what's
even worse is when you come back to a
project six months later and you can't
figure out who on earth was responsible
for doing something so foolish as to
redefine course tiles instead of naming
them and you realize you're the only one
who's ever written any of the CSS that's
bad so stop rationing your classes okay
we act a lot of stuff that we see on the
web that tells us how to write our
selectors and to do things like specific
selector li a it acts like classes a
radioactive to use too many of them in
too much proximity to each other things
will blow up that for some reason
selectors without classes
are cooler like classes are messing up
our HTML they're not they also like to
make us feel clever think about the
first time that you ever used a pseudo
selector like first child or perhaps n
child 3 um you're like yeah look what i
just did huh you can't even see it there
all right yeah no i I've done that
everybody does that try it once figure
out how it works and then rip it back
out be afraid of that instinct to be
clever to to do things that you want to
reach over and pointed somebody and say
look what I just did because it'll end
in pain and speed wise classes are
efficient as it gets okay there is no
selector literally that is faster not
even an IDs far as I know IDs and
selectors are nearly always identical in
speed or very nearly so right but
specific selector space li space a is
not or is not the same so use clear
descriptive classes so that you don't
have to hunt for things so you don't
have to guess where things are class
names should tell us where to expect to
find something when we're looking at our
CSS when we're looking at our HTML there
should be a clear link between them now
sometimes the hardest thing about using
good descriptive names is just inventing
ones that make sense that's why there
are some great systems out there vem OCS
suit they will help you do that and a
lot of the time when i recommend this to
people people say i don't need to use BM
them however you like to pronounce it I
don't need to do that I namespace I
names based me some stuff and now name
spacing is not bad but if what you're
saying is that you want to use
unforgivably general
helpful names for things and that's okay
because you namespace you're saying well
I've made it statistically improbable
that I'll actually have a collision at
runtime you're saying I'm having it I'm
terrified of repeating that really
embarrassing bug that we spent a week
solvent that was actually caused by
giving two things the same name and
you're saying I really don't give a
rat's ass about making me and my fellow
developers more efficient I just care
about avoiding embarrassment okay name
spacing is not a bad thing but don't let
it be a substitute for doing other
things and don't over do it we're going
to see an example of overdoing it just a
second
so we've talked about naming things
clearly and that gets us to element
selectors and why I think that they're
bad and why I think relying on the
specificity algorithm to figure out
which one we were talking about or
thought we were talking about is bad the
specificity algorithm okay everybody
who's heard of the specificity algorithm
right it's that thing that makes those
five different competing rules decide
which one applies and which one doesn't
which rule shows up at the top and the
chrome dev tools and which ones show up
further down in the bottom yeah it's an
algorithm yeah it's math and I made fun
of the math guys earlier but basically
it's long division by four hundred and
seventeen point 23 carry the two round
to the nearest thousand and spin around
the mulberry bush right it's it's not
something that you can use meaningfully
on a daily basis and your back-end guy
that that dabbler in CSS is quite right
to be suspicious of it when they look at
your code and they see that you're
relying on it that you're using that is
the way to distinguish between a whole
bunch of element selectors and sub
selectors and descendant selectors that
incorporate things with really vague
hard to maintain names so I strongly
recommend avoiding element selectors
which are the number one reason that we
wind up fighting the Cascade and hoping
that specificity algorithm is on our
side today on the one good use for them
is resets and normalizes okay we're
truly Universal styles like declaring
this font everywhere all the time done
or links thanks sir could use them
because it's something that you'll use
almost everywhere or everywhere
everywhere and never need to redefine it
never need to customize it never need to
style in some sites not every but it
does it that way so what do we do to get
around our our vague element selectors
right when we can't figure out how to
get
rule that we want to apply up to the top
of the list and the chrome dev tools
instead of being somewhere further down
we use important using important is
pretty much always a code smell code
smell is a term that people throw around
a lot in other languages it means in a
nutshell it just I can't explain quite
why this is wrong in 10 seconds or less
it's just not it smells funny it just
throws off that odor of not being
something that I'm going to be able to
maintain important is pretty much always
a code smell so consider again we can't
go into the details here consider using
something like extend or include in your
precompiler to create a narrower class
to be able to redefine your classes
easily rather than fight the existing
one and where is so we're finally going
to get we're going to stop talk we're
going to talk about nesting okay this is
this is the final nesting and nesting
can mean descendant selectors it can be
over nesting in our CSS I'm fusing a
couple things together here we're going
to get to a description very shortly I
think of vem so the general use of
descendant selectors where you've got
these three different rules somewhere in
your website fighting with each other
competing with each other overlapping
this is anathema to knowing what's going
to happen okay to being predictable to
being readable and yet we've been taught
to do it since day one right doing
specific thing space Li space a it's in
like all the manuals all the tutorials
all the guidebooks about how selectors
work right but they lock your content
into a single context making it really
hard to reuse it someplace else or move
it
to someplace else it also makes it
really hard to move anything else into a
given context right so you use a
descendant selector on on on some stuff
and then you try to drop in a jQuery
date picker or something well guess what
it has tons more of those same elements
that you just redefined using a
descendant selector and now those are
all descendants of what you created
another kind of nesting a lot of folks
when they start using pre compilers
particularly if they come from a world
view that is all about name spacing is
they'll say oh great fantastic compass
will let me name space that crap out of
every single CSS rule that I have a
right and then I'll get this visual
indication that this second rule in
purple is inside of that other rule in
purple and then that other one is inside
of that and what you wind up with is
this example over here at the top where
you your five deep and we've only gotten
like 20 lines down this CSS file i have
seen examples of this where to address a
single element on a single page people
are using descendant selectors with 20
or 30 or 40 components that's really
really inefficient I'm not here to make
specific points about inefficiency I can
tell you with a for a fact absolutely
uncertain with with no uncertainty that
nesting your selectors 40 deep is always
bad a hallways whereas there is ZERO
difference performance-wise at runtime
between a class that has two letters in
its name in a class that has 50 letters
in its name okay think about that think
about that difference think about the
typing issue oh I don't want to type all
those extra characters well you'll be
able to read it you'll understand what
it does and it runs as fast or faster
than anything else that you've ever
ought to do the most important thing
that you can understand performance wise
is that selectors work from right to
left okay so that thing we do where
there's the ID space Li space a we think
oh well I'm starting with the most
specific piece over there on the left
which means that I've narrowed it down
man I found the one tiny little piece
and then it's okay if I just say well
give me all the lis inside of that
that's not how it works it's actually
the opposite of that when the CSS
matcher implements your rules it's going
to go through the entire page and find
all of whatever's on the right so if
you're doing specific selector that sent
my specific selector then Li than a it
starts with all the A's every single one
and then goes actually call them anchors
and starts with all the anchors and goes
up from there it has to reparse the
entire tree of elements above every
single a on the entire page to find out
which of them contains all of these
additional elements or you can use a
single class so the fact that we can do
stuff the fact that the specificity
algorithm in the Cascade let us do this
doesn't mean that we should in fact I
would argue that we should try start
getting away from it you can nest things
without stacking this is a general
example of one variant one syntax of BBM
where you can use the ampersand over
here to nest one style within another
style to indicate that they're related
that you're always going to find one
within the other but then the actual
compiled CSS down at the bottom does not
actually you make turn them into
selectors this gives you all the same
readability all the same ability to
express where you expect to find
something without all of the overhead
without all of the inefficiency all the
same benefits none of the disadvantages
and if you don't like those systems that
at least just you start using
indentation for your name spacing
instead of putting everything inside of
everything else it's a rule of thumb
nest selectors and stack classes when
you have to not just when the browser
will let you and neston stack whenever
possible mix-ins and extends rather than
your selectors themselves if you do that
if you use descriptive classes rather
than ones that you've stacked a mile
deep it means that refactoring is easy
overrides if they're necessary happen
exactly where you can see them in your
code instead of it being something that
you have to puzzle out in the browser
and the dev tools and if it comes time
to refactor for performance a lot of the
performance of folks are like no no man
and I have to use stacked classes
because I have to be able to reuse these
most commonly accessed chunks of style
if you it so if you take those most
commonly accessed chunks of style and
make them into a mix in it's easy to
refactor them into a separate class but
it's really hard to go the other way so
pros and cons there's quite a few but
we're going to blow through them in
general try not to and think about how
many of the reasons that we stack our
classes are because they're waving the
you gotta go sign and me in the back how
many of the reasons that we stack our
classes are because we don't those of
you who don't use pre compilers you
can't see this but once you do use them
you'll be like oh I was doing that
because I didn't have this ok and so our
very last point that I have like 10
seconds avoid unnecessarily complex
that means don't use elements because
somebody told you you should don't use
things because somebody told you they're
semantics and don't feel guilty not
doing it use the most flexible elements
you can get and not the ones that you
think you're supposed to use use the
ones that let you read maintainable code
and avoid the pseudo selectors it's not
that they're never ever okay but you
should use them as a last resort when
you have to not because it'll make you
feel clever to to find a way to squeeze
it in to get that number two item to
have a different style than that number
one item there's probably another way
thank
yeah so you've kind of like gone against
the grain you know the kind of practice
do you have any suggestions for like
further readings by that like where
would you start in this approach the
yeah the one thing I don't have in this
presentation is like a see also my
reference right um the I think you can
get a lot of what I'm going for by
reading the documentation around BM BM
is not the only one it's not my favorite
one but it seems to be the one that's
getting a lot of action right now and
it's the one that's focused on naming
things well on declarative clear named
on being able to whenever possible have
be able to look at your code see what it
means and have their be preferably when
possible one class on it that
documentation and then read the articles
about people arguing back and forth
about which parts of that are good and
which parts of that are bad which parts
mess with performance which parts don't
that is probably the best available
right now I don't think anybody has
written a book about this approach that
and compilers you know the document the
the compiler documentation and API
tutorials about how to do that and why
to do that these are to me the best
sources right now of how to start
writing clearer more maintainable CSS</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>