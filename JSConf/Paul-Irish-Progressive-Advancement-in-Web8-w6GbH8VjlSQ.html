<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Paul Irish - Progressive Advancement in Web8 | Coder Coacher - Coaching Coders</title><meta content="Paul Irish - Progressive Advancement in Web8 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Paul Irish - Progressive Advancement in Web8</b></h2><h5 class="post__date">2013-01-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/w6GbH8VjlSQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">ah
I'm going to be talking about
progressive enhancement sounds kind of
like a boring topic cuz like we've heard
it so much but this is more about like
how you can really put html5 and css3
into use today there's a lot of people
that think that it's something that's
unstable we have to wait or people that
think that we should start all over
something like that but we can we can
use a lot of it now there are a lot of
advantages to trying out this stuff one
is you know a lot of stuff that these
specs represent is things that we were
doing and now it's making it into more
native abilities so with css3 for
instance we don't need images the we're
going to end up with a much lighter page
wait at the end of it and it looks damn
good additionally a lot of times it's
just you know nicer html5 form controls
I mean we can have a slider just by
saying infotype range a color picker
although it's not implemented but soon
there's a lot of things that we've been
relying on 60 kilobytes of JavaScript
for that now just comes baked in the
browser and performance is in many cases
much much better when you're looking at
something like CSS transitions or CSS
animation you're going to be getting a
much better quality performance than
then a javascript-based animation but
there's been problems and solutions have
come around so this is popularized as
the html5 Shiv can we just like agree
that we're going to call it a shim from
now on John Rezac who originally talked
about this method has now recanted and
says it's a shim so the basic problem is
that IE does not handle elements that it
doesn't know about correctly what it
does is you can't style it so like here
we have this blah element right we want
to color it red IE doesn't allow you to
style it and also won't hold anything
inside
so just like if you put other elements
inside of an unknown element it is like
barfs all those elements outside of it
into the Dom doesn't contain so the
trick is a document create element
somehow you do that and everything's
just groovy so that that's the one
problem that we found and that we solved
and then just recently as more people
started putting a html5 in two years we
realize that printing is a problem in
nie that the html5 shim doesn't it
doesn't work like the whole DOM is
recalculated when it when it goes into
print so on so unknown elements are just
like they get the exact same behavior
and the technique that we've been using
didn't work so this is news as of about
last week john neal figured out a
technique and basically it's um IE has
these nice some on before printing mound
after print events and what he basically
does is takes the entire dom and like
holds it cashed but then creates a
shadow Dom with with like dibs in place
of all the articles and sections and
unknown elements for IE and then that
gets sent to the print view and then it
gets reconstructed afterwards so that's
now solve to this this piece of code is
now in the html5 Shiv j/s that is on
google code Remy sharp maintains that
and it's um it's going to be in
modernizer as well I think one of the
things that you know I want to make
people get a feel for is is that we're
not waiting for like you know a spec the
the html5 spec or CSS respect to be done
it were really looking at features so
this is a site that uh uh can I click
that no
I can't oh yeah sweet um this is a site
that I worked on with my friend Divya
and and it's basically just a
representation of what's actually ready
to use sorry Wow cool so basically
representation of what our support looks
like in browsers for certain features
for instance font face has total support
everywhere the only the last browser
that didn't support at font-face was
Firefox three-point what is mostly dead
at this point things like cross-origin
resource sharing so basically you know
cross-domain Ajax we're good nighy eight
we're going to number where else and
there's a lot of other things that that
have really stable support web storage
is in ie8 and I a compatibility mode
along with everywhere else so basically
I mean look at the feature not not the
spec one of those is content editable
did raise your hand if you saw this demo
this is so rad so on a von kesteren made
this and I'm going to show you the
source first ok so there's nothing in
the body it's all in the head and in a
style tag he's said that he wants the
head the title tag and style tags to be
display block and then the body is going
to be displayed on and then the style
tag is going to be content editable so
what we're looking at here is the head
of the document we're not looking at the
body and the style tag is content
editable so I can just edit the whole
thing Sam in a color oh yeah
that looks good this is six come on
really no WebKit it would have worked in
Firefox anyways a pretty rad so content
editable is another one that I mean it's
good to go it's support it's been in it
was an IE original feature and basically
everyone has since adopted the IE
feature they do a lot of things right
Jeremy just showed this site but I'm
going to show you a little bit of what
it is underneath the covers so these are
a SVG pieces of art done with done with
Raphael and this is a full html5
validating css3 validating site thus
pieces of art are right here script a
text x artwork the the art is defined in
CoffeeScript and and the code that
basically grabs them and throws them
into Rafael and then sucks them into the
page is also doing in CoffeeScript
lincolnshire poacher this guy's
australian dude and it's like probably
the coolest site I've seen in a long
time yeah that little arrow is like a
Unicode arrow CSS transitions on it it's
so good it actually works in IE 6 so
it's pretty I mean it's impressive
there's been some tools that have come
out to kind of make something CZ er you
know one thing with css3 is that if you
start writing it you're like all these
vendor prefixes this is nice and dark
awesome vendor prefixes get pretty
annoying and so I put out this tool with
some friends that helps fix that so you
can just you know use your mouse wheel
or whatever get a live preview maybe
we'll want the Box shut it to be
I think magenta is a little bit nicer
yeah it's good mm yeah um but anyways uh
things like um I mean I II has had these
IE filters for a long time and they can
do you know full linear gradients and
that that's been supported since I don't
know like I for something so we have
kind of synchronized syntax here we
could also handle rgba or any sort of
rotation is done via matrix math it's
pretty rad stuff I wouldn't want to have
to figure out how it works but it does
it so you don't have to and transitions
are I mean it's just like you know
everything that's on this page is like
an animated transition and all that was
needed to define that was just these
three lines well only this line really
we also have browser support listed on
this site so you know what you're
getting coverage is really good there's
a few other border-radius calm as pretty
sweet also border image calm for slicing
up doing a nine slice representation of
an image but then the challenge is with
a lot of these what happens when there's
actually no support in the browser you
want you want to be able to basically
catch that case and act accordingly if
you know for instance abort if border
image isn't supported in the browser you
want to know because you're probably
going to use a different technique so
that is why I work on a JavaScript
library called moderniser the basic idea
behind modernizer that does feature
detection so we're not actually doing a
user agent sniff and then saying oh well
we know that this browser supports this
because that's I mean is in
future-proof you know system so use
feature detection and actually test
everything user agent sniffing is not
cool how many people like went to do
there turbotax in like chrome and got
this page yeah sucks I was like really
and like yeah so they support safari and
and their user agent sniff didn't even
pick up chrome it's terrible so yeah
couldn't couldn't fill out my taxes in
my favorite browser the way that
modernize their works I'm gonna pull up
a the code of modernizer real quick as
that it does a bunch of tests um let's
grab one some of the tests are really
nasty okay so here's some cool ones so
this is a doing a test for html5 video
we create a video element and then we
see if there's a can play type method
that exists on it if it does that
basically we have support for it so
we're going to do a couple more checks
to basically see if there's it what
codec support we have in each of the in
audio and video this one's nice because
basically we were provided with an API
that says what do you support a lot of
the times that's not the case things
like session storage and local storage
can get really cranky like if you
disable them cookies you can actually
get exceptions thrown in Firefox when
you're doing a basic test for this so
there's a lot of real like edge case
stuff that we work around so we do a lot
of feature feature tests here and then
that gets that gets exposed to you as a
developer in two different ways we throw
classes on to the HTML tag and so
basically we have like you know this
browser supports canvas but it does
not support geolocation so you can just
style based on that maybe you're going
now going to show the little input box
where you can put in your zip code
because you're not able to query for the
geolocation the other thing is we create
a big JavaScript object with a bunch of
bullion's and the Codex and now you can
just like tests so the way that works
out you have something like border
radius and if there is a native support
you're going to use it but if there's no
border radius support maybe you're going
to like initialize a JavaScript library
that's going to do the rounded corners
or whatever something like box-shadow if
supports there hell yeah if there's not
it will make some mimicked like borders
on the side and bottom make it look
decent another idea is this is like a
geolocation geolocation bridge so way
that we use it was just going to call it
throw a call back to get location and
output where we're at inside of it we're
going to check make sure see if we have
native support if we are great we're
going to use that otherwise going to
grab the Google JavaScript API which
just that just requesting this file
gives you a client location data that
includes the Latin long and I think
city-state it's pretty good and free
modernize our small it's great it's got
F's assload of tests for all sorts of
shit and also I think you know using I
think the way that exposes the
information to you as a developer is
ideal but please steal the tests I mean
they're nice little atomic tests and you
can just gank it out and use that one
test if you if all you're looking for is
is their session storage support in this
browser that's Totally Rad Wow okay to
websites need to look exactly the same
in every browser no do they need to be
experienced exactly the same at every
browser no html5 ready yet no it's
fucking hey that's one
such bullshit this is good yeah your mom
does not check what websites she likes
look like in other browsers no see talk
a little bit here I'm yeah about them
basically how to talk to clients about
this I think the main way to talk to
clients about the fact that you want to
encourage a more progressively enhanced
thing is that emphasized I mean I mean
us as as front-end developers need to
emphasize that we value responsiveness
and the user experience for the for the
site and for the site's users as much as
possible and we want to preserve a
really perform and experience and adding
you know border rounding scripts to the
page for IE 6 and 7 is just not not
going to make the page any faster so
really talking about how we can make
decisions to to enforce that the page is
actually going to be performant and work
well in a clerk said or do you prefer me
to spend my time pack around issues on
all the technologies like I a 6 or would
you like that time spent making the site
look the best that it can on other
desktop browsers as well as I devices
and 12 will devices I mean that's really
that's really what we need to make clear
to our clients that this is the this is
the toss up right here I just have a few
demos using some of these features so
this is content editable and and it also
uses a WebKit mask image and then WebKit
a fill color of transparent and then
what WebKit text stroke on the edges so
it's all CSS there's no javascript uh is
this a reference implementation for ours
I should look like yeah yeah yes this is
this is exactly how they sure look
05 sweet um yeah let's see this um this
is pretty sweet I was really excited
when i did this except for the blinking
so I stole Mike Taylor's canvas demo so
I'm drawing on canvas but then I'm out
putting it I'm saving the canvas every
time it changes as a data URI and then
i'm using that data URI as a WebKit mask
image to basically reveal the HTML
content that's underneath so it's just
like standard HTML underneath it and we
just have a custom mask that I'm drawing
myself Chris yeah and yeah cheeseburger
so good oh and in honor of J's conf whoa
not cool dude yeah it's no pirate from
from web dings and so this is a text
shadow and it does use JavaScript so it
just changes the text shadow and makes
it more blurry as it goes away um
anyways I thought I had less time than
this I'm done
whatever uh yeah that's it I got a
question for you what's up um
performance start up time for modern
ideas for moderniser we're looking at it
all the tests run in somewhere between
30 and 90 milliseconds each canister
total total yeah it's quick I want to
keep it I mean I really want to keep it
as quick as possible and as light as
possible yeah actually creating a lot of
helmets he's changed yep yeah totally um
but uh and it has to run I mean it has
to run in the head of the page to
because we need to do those create
elements that needs to happen before you
actually use them so it has to run in
the head so we keep it tiny and fast</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>