<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>JSConf 2015   Gord Tanner | Coder Coacher - Coaching Coders</title><meta content="JSConf 2015   Gord Tanner - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>JSConf 2015   Gord Tanner</b></h2><h5 class="post__date">2015-09-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/2ZPpgIwcAN4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">anything one evening I'm getting a
little head of myself so quickly of
course react ISM our reveal jazz always
messes up for me here we are so like
Ryan said my name is Gor tanner I am the
co-founder and CTO at bit hound so last
year I gave a talk in track be I was the
only person to release a religion called
for ism on my talk on distributed
computing so this year I'm going to talk
a little bit more about something that's
a little closer to what I care about a
bit count what we do a bit hound we
analyze code to look for quality and
maintainability and it's trying to
figure out what objectively and suitably
is good code so um what I'm going to
talk something that happened at our
company is the concept of adding new
people we had a we had two new
developers coming on board and their
same day and we are doing our kind of
intro that first for our kind of chunk
of the day where I was getting their
machine set up talking with them giving
an overall architecture of overview of
how bit hound works and something kind
of cool happened that by lunchtime even
with talking we had both of their
laptops which were just freshly opened
at 9am out of the packaging had our
entire software stock up and running and
they were comfortable enough that we got
a couple simple pull requests from them
within that first like day and it really
got me thinking about the concept of
onboarding new people into our projects
and just that cart like how to bring
people on board to have them be
contributing and be productive quickly
so another thing that um that is
important is that this I'm going to be
talking a lot about my experience with
our clothes source project or our
application but a lot of this
information that I'm sharing
so works in trans files really nicely to
the the open source community we're in
an open source community new people
coming on board of your to your project
is in a largely asynchronous fashion you
don't necessarily have interaction with
someone who finds your project on github
clones it down reads it and tries to get
up and running to add add what they feel
as value to their project so there's a
little bit more of a upfront cost with
an open source project versus we're in
traditional closed source or like a
company project you have a face-to-face
or at least an engaged communicate
dialogue between the yourself and the
new developers so the key is is as I was
trying to figure out what exactly the
topic of this how to convey it the one
key thing I kept circling around to is I
was doing the hallway track with
everyone here and trying to explain when
they're like what exactly you talking
about is that nothing what I'm going to
say is new there's not going to be a
giant beam of knowledge transferred down
where I'm going to blow your mind we all
know this we all have this gut feeling
of where where our problems are on our
code base how hard it is get running
those little gotchas that have tripped
us up in the past so another thing as I
was putting together my my slides was
that there's not a lot of JavaScript in
it and that was unfortunate but don't
boo me off the stages yet so welcome to
the team I want everyone to like close
your eyes and think about that first day
on a job that first time pulling down
the code base to an open source project
you want to contribute and i'm sure i'm
going to give you an experience of mine
i came into a company I that I was
really psyched about and they kind of
gave me my computer and they said all
right set it up here's the wiki for how
to set it up so i went to the wiki which
the last edit of this document of new
developer machine
setup was about a year ago and I'm going
through the steps like step one like
install this version of sequel server or
whatever it was and no one had that cee
anymore so I'm downloading the copy and
you can't find that version it was a
step upon step of frustration failure
and just misinformation that it ended up
it was almost like a week before i even
had something running and so one of my
Jobs was during that first day is to
update that document all those problems
use you have or you're setting this up
can you just like add it to the document
so every company ends up with this
amazing document written by people with
about two to four hours of experience
with the code base on how to set up a
code base for someone who has 0 to 1
hour experience with the code base and
if you were to like think of any piece
of your project that is as important as
this that you would give that much
experience to you you probably want
someone to like at least has like a day
and a half experience I mean let's so
let's go back to the condo like git
clone your team your project now what
that is that is the entry point into our
project and realistically first
impressions matter so like we're talking
these are your new these are your new
evangelists these are your new teammates
and realistically this experience this
onboarding experience those that first
day does set the tone and the context
for your relationship with that person
and you cannot do that over again the
impression that they're going to make
during setting up your project on your
first day of your of their job with you
on their first time trying to contribute
this is going to set the tone of their
perceived quality of your of your code
and something that we always seem to
forget
at about when when we're at brings
League like this is these are usually a
new machine or a machine that has isn't
configured exactly like everyone else
has been working on this project for six
seven months or a year or so and the key
is we want to set we want to set people
up for success we want to want to set
them on the right direction we want to
make sure they don't find those little
caveats we want to guide them into
helping us because new people that's
what you want you didn't join the
company because you thought it was
horrible he didn't want to contribute to
this project because you didn't believe
in its goals so there's an enthusiasm
there that you want to keep and foster
into active in worthwhile contributions
so the first thing I'm going to talk
about is documentation I'll wait for you
to leave documentation not not a really
exciting topic but extremely extremely
important and something that happened in
the kind of github the the bit bucket
the newer the newer code hosting
platforms that was really subtle but
actually a really awesome transition is
that the readme file became front and
prevalent on the first page we all
remember back to our older source
control systems whether online there
were some documentation but it was
always hidden in a folder or is on a
wiki or somewhere but now at least with
with github with bitbucket with some of
the with all these online but the readme
is there front and center and that is
your entry point into working with these
new developers so if you're an
open-source developer and you're open
source project usually read mia's kind
of the how to install it as a user how
to use this API but don't forget that
you have the other half going in as
contributors and that's where the
concept of hacking file or contributing
but at least link
to it from you read meat because it's
you want to contribute us the healthy
metric of a successful project now this
is where I sorted the verge a little bit
from open source to close source so one
of my favorite slides love Flashdance so
the whiteboard session that first few
hours sitting down this is where
documentation and experience really kind
of diverge we all have those idea of
that mental map of our system those
little boxes we draw every time the
arrows going back and forth that's in a
very important session to have with the
new contributor to your project can't
quite do it in an open-source way but at
in in your environment in your in your
workplaces having that time to walk them
over the high level architecture is
invaluable and I always say for that
documentation I never want it written
down in a permanent place because it's
going to be out of date by the time I'm
done doing the whiteboard session so so
next with with where your kind of help
and documentation go are our command
lines so at bit hound I have this kind
of idea where we I kind of throw around
I call like command line driven
development I'm a terminal person I love
building together almost that unix feel
of smaller tools that chain together to
do something good and it's very
important that they are documented so
you actually find I would show it up
here but no one in the back would see it
but like all of our command line tooling
forbid hound from deploying to adding
jobs of the queue to checking status of
servers to provisioning new servers all
have internal help documentation built
into them not like like reams of
documentation but enough that you can at
least figure out what the command would
do and the arguments you need to pass to
it and those all get put into our
read me and but it's it's actually
generated from another script that we
have that has documentation that you can
just run and it scrapes all of our
command line tools builds it up throws
it into the command line markdown
documents so that people have an idea of
where commands are and how to use them
and what is available so next next on
the last kind of bigger topic of
documentation is code comments and this
is this is something where I'm going to
say things and it might sound like I'm
incredibly smart but everyone in this
room knows it and I'm just kind of
saying what smarter people have told me
is that there are a couple ways to
comment your code you can comment what
your code does or you can comment why
your code does that and we've all kind
of seen those comments that kind of
reference what the code is doing but
there's a better way to do that and it's
called code so you you know you can you
can stop doing that we have its self
documented least try to name that's
where naming of your variables naming of
your functions trying to have an
expressive form of coding is a much
better way of documenting in code but
with that being said what that frees
your code comments to do is to talk
about the the part that is really
missing is the why we can all look at
code you can kind of look and go okay
that's a darating over X and blah blah
blah and then you call off to this
little section over here but and and I
new developer coming in will be like oh
well I don't need to call over there
that's an efficient and bought and then
you realize that the only reason you
were doing that was six months ago that
like server like how i got over
overloaded and like let's just like
throw it off here so we can load balance
it that informations sometimes lost so
try to keep those little fugly places of
your code document it about why it's
fugly now any talk kind of about this is
i have i have a new bestie project is
vagrant
I can't extol the virtue of this project
as much if you've heard about it it's
great if you've used it I'm sorry if you
used it wrong because it's not a it's
not a welcoming project you're going to
have people like me kind of tell you
about in your me like this is amazing
and you're going to start using it and
it's not going to feel amazing and what
vagrant does it gives you easy to script
virtualized environments for your
development environment so rather than
having your laptop or your desktop or
whatever operating system whatever like
permutation you have bad ground allows
you to have a standardized virtual
environment that your code is hosted in
and something that actually happened
that bit hound that was really
interesting was we we do a very largely
distributed platform so all of our code
that gets analyzed as we're processing
your code gets sent out to a bunch of
worker machines and handled and messaged
back and forth um and we were working on
this for a while before we launched at
last ge'ez comp and i was working it on
my laptop and then we deployed it and we
came here like hey let's start letting
people on and I realized very quickly
that what works well on one machine
doesn't necessarily work the same when
there's two three four hundred machines
so some of those assumptions that I made
in my configuration when I'm working
here didn't quite scale when I was
working in the distributed environment
so what this allowed me to do was
virtualize a mini version of what
production is down to the exact
operating system that we're running to
the fact that even with our local
development we're running node in a
multiple servers service instances
behind the engine X caching layer with
its hosting self-signed ssl certs so
exactly what's happening on production
is what our local developers are using
and the job when a job it's cued it goes
through the same idea through the
messages to
a bunch of machines so all those
assumptions that we make that obviously
this message will be handled by the
machine that also handled this message
so we can share things which in a
distributed environment is never true
now there's a key to using bagman this
is kind of where where my experience
lies is as awesome as it is you want to
hide the fact that you're using vagrant
the only thing that should really be
evident when you're using bad grain is
when someone comes you and says my
machine stopped working you and say run
vagrant destroy and vagrant up and they
can create a new one and you can ask
does it work and they can say yes and
you can let let them go back to what
they were doing so the way to do this is
using port forwarding is the first thing
so yeah I will hit localhost 8080 air I
can use the tools that I'm familiar with
also whenever you're using vagrant
you'll have people say oh well yeah
vagrant up and then vagrant SSH into the
Machine and run this command and run
that over here while you're developing
or run the build that's where it starts
to get a key that's where those bad
vibes you get from backgrounds so this
is something my dev ops guy kind of
showed me that is good so obviously
those at the back can see exactly what
this says but what this is is a little
proxy script we have where we basically
run a command that it looks exactly like
I'm running it on my terminal and
standard in and standard out goes to the
first machine so those just very
important bagger and ssh that such
command and in quotes will execute the
command and if I go back to the first
one there's a little little secret here
just for those at the back there's a
dollar sign this one dollar sign and
there's a star dollar sign star that is
what is called
a splat or some people call it some
other things but what that does is allow
all the arguments that you're passing
into the one command just to be like
funct right on to the other into the
command that your ssh into it kind of
really changed how we were doing our
environment so I got rid of all that
crazy stuff so now when you want to
develop and bit out if you want to run a
command you're just running it in your
shell on your host machine and it's
executing on whatever virtual machine it
needs to as well as if I wanted to run
other commands that would interact with
logs or other things so going through
this this is kind of fun I was going
through our provisioning because it's
all hidden if you actually ever come
work at bit houndour or whatever you'll
see that all of our entire setup you
clone the repository and you're on dot
slash configure and it just sets
everything up and that's it and
eventually you have a thing and in our
deck right underneath like you r and r /
configure hit local host port 4000
because everyone forgets to tell people
what portree hosts things on and I was
going through finding all those cases
that would have tripped up so this is
kind of airing my dirty laundry but you
might you might have experienced some of
these so the first thing that was
interesting was MongoDB setting up a new
Mongo instance how many of you know that
when you install Mongo it doesn't allow
remote connections so the the rest of
you would be screwed so that all this
does is installs Mongo and does a little
perl script to comment out a single line
in the config and restarts Mongo and
suddenly it allows remote collections
because all of our workers are remote so
so next I was mentioning the the concept
of vagrant is sometimes slow so everyone
will like install vagrant and put their
code in it and they're running it and
like wow it's really slow well vagrant
is
it kind of saying like beggar and Oslo
is like complaining that like your
minivan is slow I mean you're kind of
missing some of the point but what we
can do with the background because reads
are slow on the standard like neared
folder you use something called NFS and
so what this is NFS comes installed by
default on OSX but not on Linux so the
Internet in our provisioning scripts we
is hable if you're running you linux
will install NFS and it all just kind of
magically works that we have performance
again another bug that that was
interesting was we hit this weird limit
with get a lot of our commands or just
kind of working with the get command
line or the get kind of porcelain
commands and well we hit up this weird
like HTTP POST post buffer limit and it
was just it only sometimes happens when
we're cloning or doing something with
larger projects and it returned with
like not a very helpful error but we
throw it in our in our provisioning in
our setup script so that no one else
ever has to worry about that like what
usually happens is about six months
after someone will start using our code
base and playing around with it they'll
see this line with like a comment above
it explaining why it's there and it's
kind of know like why are you so angry
that you had to put this in next next
actually is an interesting one um is 0
off one has this really interesting
quirk is when you're working with an
oauth provider clock time is very
important so if your clock starts to
drift from your OAuth providers clock
you can suddenly all sound like an OAuth
application that's working really well
locally and you close your laptop open
it like four or five hundred times also
and everything stops working and you
think it's that code you just edited and
you're like how did I break author
authentication with like this change
over here you didn't it was your clock
drifted so in our setup we just update
everyone to use a standard and like that
I'm server things like that's that's the
things
never make it into those documents and
then lastly is this is something I don't
even know the thing but there's a per
file user / limit of how many files you
can have open how many handles you can
have so we would hit this every once in
a while so we have our own configs where
we just dump them over so our processes
can open it like an obscene amount of
files so lastly we all know developers
are are never wrong and they always um
they always follow instructions to the t
and so I'll set up this amazing
virtualized environment this amazing
place where they can work and it all
works the same as easy to set up and
then it changes and we have to add in
New dependencies and we have to add in
other ways of doing things where we
switch the caching layer but like Jimmy
the developer over there just updates
his virtualized environments once every
six months so what this does this is
just you can't really see it but this is
our start script so this we have a bin
start which goes and starts all the
services can figures them all up so that
the app is running on your local
environment and it actually checks a
bunch of stuff it checks a lot of these
problems that we had it looks like a
unit testing framework it's in bash but
I feel like this one's actually refusing
the start because the version of your
virtual environment is too old and it
just forces them to keep that bit rot
from happening those older dependencies
they last time they ran like NPM install
was like I don't last Christmas but it
tries to keep everyone working on the
same environment so another thing that
this is starting to get a little a
little more opinionated is is live
reload how many to know what live reload
is how many people use a live reload for
those of you don't so there's bunch of
ways to do this the concept is is you
edit your code in your breath in your
editor and when you save it there's file
monitors and OH restart the services
that are affected by that
so we use a combination of a few there's
no daman there's live reload they can
integrate with grunt or gulp and all
this does is allow you to just edit your
code and it automatically will refresh
your browser or automatically restart
services and it just gives you a really
nice ability so you don't end up with
people confuse at all I edited this
source file but i forgot to restart that
like background processing job so so
this is this is an interesting one so we
all have unit tests we all have
acceptance as we all have smoke tests
and those are the ones we say to a new
developer coming on oh yeah I just run
the tests and all the always all pass
right so what we forget to instill on
them is how to actually test the system
so this is a this is almost an extension
of a whiteboard session where you
actually show them how to use all those
tools all those tricks that you've
gathered over the course of working with
this project on how to test it how to
use a system as a user and how to use
the system as so on developing the
system there's all those like hidden
places so we have like dashboards that
are available that we can watch the
status of jobs we have special command
line arguments that we can pass in to
simulate edge cases or to like shrink
jobs so rather than trying to like
process a large repository in waiting
three hours for the process or whatever
on a local environment we can tweak the
job a little bit to shrink it down so
it's a little more iterative in one
minute like time to from start to finish
and though that's not necessarily
documented anger but that's something
you want to pass on or else they're
gonna you're going to find that like
that feature that you thought would only
take a day for them to write it's like a
week and a half and you that when you go
to ask them why is it taking so long
like oh well every time I run this
command I wait six hours and you're like
oh just pass in dash dash don't do that
so the last thing is is always keep
learning you're going to the reason we
bring new people into our projects is to
learn from them your team doesn't have
all the answers your team has a very
interesting view of your project on how
to run with it so bringing new people on
board is a great way to learn a great
way to bring experience and tooling and
thoughts to help make this better for
the next people that are coming on board
and I'm not talking about that first
four hours if anything sit back and
think about how hard it is to go from a
brand new machine to working on your
project and try to make that easier for
the next person and hopefully we can
just end up with a lot more cool
projects so lastly in my shameless plug
they found we do have a promo going on I
highly recommend signing up it's a three
months free and fifty percent off for
the rest of your life if you sign up
promo code is jazz comp 2015 the promo
ends June first maybe June like fifth
who knows when we will remember to
remove the promo code but give it a try
even if you're like not sure I would I
wouldn't want you guys missed
opportunity for this promo code so crazy
user enter it in and let's all make
better code together thanks
you
me</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>