<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Francisco Tolmasky: Objective-J Language and Cappuccino Frameworks | Coder Coacher - Coaching Coders</title><meta content="Francisco Tolmasky: Objective-J Language and Cappuccino Frameworks - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Francisco Tolmasky: Objective-J Language and Cappuccino Frameworks</b></h2><h5 class="post__date">2013-01-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/UwSaR5PsJBQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">my name is Francisco Thomas key I'm part
of a company that I formed with two of
my college friends called 280 north we
have three products kind of out there
today you may or may not have heard of
them on the left is 280 slides it's kind
of like PowerPoint or keynote on the web
on the right is a product we just
announced but we have not launched yet
it's called Atlas it helps you build a
kind of desktop class applications for
the web and in the middle is what I'm
going to be talking about today which is
the cappuccino framework which is a set
of kind of open source libraries that we
released for building these kind of
desktop class applications for the web
and specifically today I'm going to be
talking about Oh point 7 which is the
latest version which we have not shipped
yet but the beta is available and I kind
of want to talk about some of the new
stuff that's coming with that but before
I do that I want to give kind of a
little bit of background on the
framework itself I'm not sure how many
of you are familiar with it so I'll just
kind of explain it a little bit and
usually what I do is kind of give a
primer of you know kind of information
and how we do things in cappuccino but
today I'd like to do it a little bit
differently and kind of give you the
background of what led to creating this
framework and it kind of started back in
2005 oh this is what I'm talking about
specifically objective J sorry I kind of
started back in 2005 I was still in
college then and we kind of started
saying hey you know this web thing is
catching on we should make some apps for
the web and at the time we had not
thought about cappuccino or objective J
or anything or just you know we were
really big on the open web and we're
just going to use javascript etc etc and
Mozilla just kind of announced some new
nifty things that they added to
JavaScript one of them was the for each
thing that you the for each method on
the array class and you know you all
know it for each does and I said oh
that's really cool like javascript is
getting better like I had not touched
JavaScript at this point for very long
time I'd but done mainly objective c and
c++ so I was just coming back to the web
and I was saying oh and it seems like
things are really coming along I'm going
to be
member of the open source society and
implement for each for WebKit so the
very first piece of code I ever
committed to WebKit was all those
Mozilla functions like index of and for
each for the array class and I was like
all right now we got WebKit and Mozilla
I'm sure i ii will put this in within
the year and we'll be all set this will
be great so four years later I still
does not have for each and we're not
talking like complex code here i'm not
saying like oh man IE still doesn't have
jit compilation no we're talking about
for each this is a for loop literally
all you have to do to implement this is
write a for loop and we still don't have
that nie and that kind of set the mantra
for what you know resulted in cappuccino
so that was kind of what Mozilla called
JavaScript 1.6 and then we started
having a lot of this kind of similar
effect another one was equi script for
in all honesty had ECMO script for
existed in 2005 we probably would not
have done any of what we did like I have
some problems with the ACMA script for
specification but there you know purely
little annoyances like I think it's a
perfectly fine language and had it
existed i would not have felt the need
to invent a new language or anything we
would have just made apps with this but
that didn't happen right I mean for like
a solid year we were told ECMO scripts
for its common this this is the real
deal guys and and you know from the they
hosted classes on this Mozilla you know
had the reference implementation and
then all it took was one meeting for
this thing to get abandoned completely
and then now my history is a little
fuzzy on this part because I kind of
stopped paying attention but I believe
this is the one that came after it kind
of went backwards a little and this is I
think this is called harmony it's kind
of a few of the things from four and a
few other things from other places and I
just checked Wikipedia last night and
there's now echo script five and I have
no idea what this does but the thing
that gets to me is like every time they
announce a new one of these ECMO scripts
like people get really excited like who
oh man things are going to change this
time right and and the same image always
comes to my mind when people have
reaction which is this like the
standards bodies were like you know here
comes a new JavaScript guys what
everyone gets excited so I think I speak
for everyone when I say good grief you
know and this is really unfortunate just
because if you kind of look at the
landscape outside the client-side web
things like Ruby Python Java scholars
gala it's really exciting out there it
for a number of reasons one I don't know
if you guys read read it or not but it
seems like someone invents a new
language like every week and you know
maybe the language won't survive but
like there's lots of really great ideas
and they all cross influence each other
and you know scholars is relatively new
and it's it's it's a really great
language built on top of the JVM but
additionally within each language like
so much is being done like you know the
difference between ruby 1.9 and 1.8 is
so great and they're always trying to
add things to python etc and i really
wish we had that on the client-side web
and we don't and it's kind of it's kind
of funny like we call it the open web
but it's really closed to us the
developers like very rarely do the
standards bodies come and ask us the
developers like what do you need it's
very much a we know how to make it you
guys just sit we'll figure it out and
and that's really distressing to me
again coming from these communities or
where i can say hey I want this feature
and a couple weeks later it's in there
and then to not have that so basically
there's there's kind of two ways to
approach this problem you know given
that javascript is not going to change
like we can't go in and change
javascript in every browser the only
option is really to build something on
top of javascript and what most people
do is precisely that right they build
some library that kind of makes
javascript insane we had kind of a
different approach which was to build a
whole language on top of javascript and
we call it objective j and this is kind
of the stuff it does i'll get into it
and a little
detail in a second but I want to tell
you why we decided to make a language as
opposed to a set of libraries like every
single language is equally dynamic like
if you want garbage collection and C++
you can get it you just have to
implement it yourself and you know you
make the garbage collected object class
and as long as every single object in
your application you know subclasses
that your whole program will be garbage
collected right if you want first class
function objects and C++ you can do that
too just make the functor class you want
classes and see fine right the wrapper
functions and this is what people used
to do right back in the sea days before
we had C++ and objective-c in cetera et
cetera people actually wrote rapper
functions around structs to simulate
classes and see but when we did that no
one said ah see see how elegant see is
you can do just about anything and see
no people were like man this really
sucks this should really be a language
feature and that's the way I feel about
a lot of the things that people are
currently doing with libraries today
specifically trying to fix kind of like
the class problems in JavaScript I think
there's a pretty clear difference in
your code between the things that
actually achieve goals for your
application like taking the cosine of a
number right like that that's that's
something that has to do with the direct
goal of your application versus the meta
work of your applications such as
creating objects or classes I think you
know functions and you know libraries
are there to provide you with you know
these kind of tangible functions that do
tangible things like you know draw a
circle or you know calculate the cosine
etc and the language should handle all
the meadow work and the reason is
because it's nice when you have visual
distinction between like I'm creating a
class versus you know again taking the
cosine of something and you know it's
not just for humans tools you know
really benefit from this too right like
if you have actual syntax constructs for
classes and that sort of thing then your
tools can correctly syntax highlight it
and make a little pop-up menus with all
the methods etc the other problem is
that since it's since today all these
kind of meta features are considered you
know
library domain basically every single
JavaScript library that comes out is
doing the same thing they all have their
own kind of unique class structure and
that's really unfortunate because you
know I shouldn't have to commit to
prototypes classes just because i'm
using the prototype library or dojos
classes because i'm using you know the
dojo library so what we really wanted to
do is say hey these are two separate
problems you know there's the problem of
creating applications and then there's a
problem of writing code so let's kind of
separate this out an objective J all
it's meant for is to solve what we
consider to be the holes in JavaScript
which I think a lot of people consider
to be holding JavaScript which is the
reason we have all these ECMO script
specifications in the first place so the
first one I think is a no-brainer right
code importing like I'm I'm still
surprised like how many companies have
dedicated teams that basically manage
dependencies in an application like this
doesn't exist anywhere else like no one
else has like job title of managing dot
h's for like a C++ like application only
in JavaScript where you can't clearly
identify the dependencies and so you
have to put them in the right order and
then can catch them together or whatever
so one of the main things that objective
J does is allow you to import code in
the same way that you would in Java or
C++ its import and then the file name
and the reason this is so much better as
a language feature versus you know
library feature is that so this is a bit
technical but you know if you import
code and then you write code and then
you import code right so in for code
import if it's a function that actually
goes and fetches the file which some
libraries do right I'm not saying we're
the only people that have code importing
but in other libraries it's just a
function you say you know import this
file and then it fetches it and evals it
if you do that you have to block
execution until that's done and now I'm
not saying that the actual fetching of
the file is synchronous it's still a
synchronous but you can't continue to
work until the file is fetched and
executed so the nice thing about having
this field language feature is that we
actually can look through all your code
see all the files you're going to import
and import them ahead of time so you
know what we're maximizing all the Ajax
requests up a heads up front because you
know we are language and we can see
exactly everything you've written the
second thing we add to javascript is
classical inheritance now if you guys
want to you know go to a cigar bar later
and discuss the philosophy of
prototypical versus classical and blah
blah blah that's fine but the reality is
a lot of people are really used to this
form of inheritance at the very least
it's as good as prototipo and UI
libraries really really function well
with classical inheritance and I think
this has proven itself because a lot of
what libraries do today in javascript is
kind of emulate this classical behavior
again the unfortunate thing of it not
being a language feature is that a lot
of these libraries don't get it quite
right they don't have proper support for
calling superclass implementations of
methods etc we get that all just fine
the other feature we add the next two
are kind of related is dynamic dispatch
and method missing if you guys are
coming from the Ruby world you're
probably familiar with this just long
story short you know you can basically
intercept any method call and do
whatever you want with it so you can
read your rerouted and do whatever
intori know you can swap classes at
runtime etc but by far I think the
coolest thing about objective J is that
it is completely open source and to give
you an example of what that means we
open source this and like September or
something and immediately a lot of
people said oh I really wish this had
you know the automatic setter get our
generation that ruby has and a week
later we added that language feature and
you're just not going to get that you
know if the language itself is an open
source so the other cool thing is that
you can take objective J and you know if
you disagree with some of the decisions
we made you can change it you know you
can create a whole new syntax you can
you know fix a bug that we deemed not
important enough for us to fix etc
another really interesting thing is that
the underlying run time since it is
completely written in JavaScript
actually opens the doors for writing a
lot of different languages not just
objective J I know if you guys are
familiar with Mac Ruby but it's
basically a ruby implementation on the
Mac that's written on top of the
objective-c runtime
and I know that there's someone trying
to do the same thing with an objective
JRuby or something but since the
objective J runtime is exactly the same
as the objective-c runtime they're
trying to do the same thing kind of
bringing Ruby to the client side on top
of hour run time so I think that's
really exciting the fact that you know
basically it's it's a set of features
kind of small talk like features that
you can use for any language we happen
to build the first one which was
objective J but you guys can go and kind
of start going nuts but one of the
really important things about objective
J is that it's what is called a strict
superset of JavaScript and that means
that every valid line of JavaScript is a
valid line of objective J so all
existing JavaScript libraries are going
to be play nice with objective J so I'm
not talking about cappuccino just
objective J if you still want to use
jQuery if you still want to use
prototype whatever you can use it with
objective J that's fine so this is just
kind of a this is our take on JavaScript
to putting it out there if you want to
start making libraries that have kind of
this you know classical inheritance feel
and have these features you can do that
so the other side of the coin of course
is the cappuccino framework itself and
I'm going to kind of rewind again to
when we started working on this stuff I
mean it's is still true today but what I
like to say is that you know the web is
the spectrum of different kinds of
applications on the left-hand side you
have you know completely static web
pages like New York Times we're getting
kind of less and less of these but you
know it's very much the original vision
of the web a bunch of documents
connected by hyperlinks in the middle
you have things like Amazon which is
again a bunch of documents connected by
hyperlinks but no one can deny that this
is actually an application whereas New
York Times really isn't you know you
haven't you can buy stuff etc I don't
need to convince you guys then you have
things like Facebook which really blur
the line right it is it
traditional page well yeah everyone has
their own page but each page can have
multiple applications in it and be
incredibly dynamic so you know facebook
is a really really unique thing that you
know only the web was able to kind of
enable and then at the very right hand
side we have things like Google Maps and
at the time that we were writing all
these frameworks you know I think google
maps may have been like the only one but
basically these are things that are
competing head on with what is
traditionally in the desktop space and
when we kind of started writing this
stuff most of the library's kind of
focused on that middle section like you
know adding dynamic behaviors to
websites versus creating a full-blown
application I think that that's still
mainly true today I think there are
definitely a lot more libraries that do
what we're trying to do kind of make
full blown applications but I don't
think there's any library that kind of
handles the whole spectrum I don't think
that any library would ever be able to
do that well so what we decided to do
was to make a library that just deals
with building these kinds of
applications and just on this right-hand
side again some examples are you know
our 20 slides meebo and Google Maps and
I think if you look at kind of the big
examples of these websites it's clear
that we're still not there yet framework
wise like if you look at me Bo I mean
what everyone's doing is kind of rolling
their own framework if you look at me Bo
a large part of their company is
dedicated to managing their UI framework
which you know a company that makes a
chat client really shouldn't be focusing
on and that would definitely not be the
case in the desktop world right they
wouldn't have some guy that's figuring
out how to draw windows obviously Google
can just buy 50 thousand companies and
we had just but but what I mean to say
about that they are also not using a
public framework that you are doing it
on their own zoho is doing the same
thing obviously we did the same thing in
open-source stars so I think it's pretty
clear that they're still pretty big void
in this space and again I wanted to
focus on the fact that cappuccino is
designed solely for this and usually
this is where people come in and say no
the web is totally different than the
desktop you don't get it
everything's like one of these middle
apps and and I do agree that it's it's a
lot fuzzier than you know all the way on
the right or on the are all the way on
the left but I think that there are some
pretty really clear-cut cases and a good
example of that is lacoste calm so
lacoste you know makes clothing and this
is their online store this really should
be a web page but instead it's this you
know humongous flash monster which takes
approximately 50 years to load and you
know they sell like three total products
and yet they somehow find a way to have
50,000 hierarchical flash menus that you
have to navigate through and then when
you finally find that pair of pants that
you want you can't even like email the
link to anyone because again it's a
flash app so I think this is a perfect
example of something that shouldn't use
cappuccino shouldn't use flash should
use traditional JavaScript and HTML like
Amazon but the opposite case exists to
mapquest is very very traditional web
kind of paigey and it really shouldn't
be like you know you type in the address
and it takes you to a new page you get
the map if you want to get a different
map you have to type in the address
again refresh again and it all feels
very slow it feels very
counterproductive as opposed to google
maps of course wait you know you just
type it in and you get the results
immediately so again I think there are
some cases where it's very clear this is
kind of like a desktop app just happens
to be in the browser so what we decided
to do was you know we know that making
api's is hard so we just said let's just
steal the best api that exists and of
course we were mac programmers and we
feel very strongly that the cocoa api is
a really really good one I think it's
hard to deny that the stuff on max looks
pretty darn good and that's not despite
the API it's because of that and
similarly that same API is you know
exists for the iPhone and the stuff on
the iphone looks pretty darn good too
and in our minds this has kind of helped
Coco prove its chops right you had
something that for 20 years was solely
used on the desktop and then they turned
around and like kind of blew the doors
off with the phone so I think that kind
of demonstrates that this is a pretty
powerful API
I that can do a number of things so what
we did was it's actually an open
standard it's called open step so we
took that and we threw it on the web so
now the same way that you make apps for
the mac is and the iphone is the way
that you can make apps on the web so i'm
going to give you a quick example this
is our appt 280 slides so again the idea
is to create this kind of desktop feel
so you know we have kind of built-in
search you know you can take in media
and we have like quick look and stuff
like that that you have like on your Mac
and you can do just about anything you
want and this works in IE and you know
mozilla and everything and and this is
all using exactly the same technology as
you would on mac OS 10 it's called core
graphics and you know you don't need to
worry about whether you have CSS
transforms or not it's just going to
work and you can use copy paste as you
can see and you know all from the
keyboard and also have undo and redo
that sort of thing and we have movies on
JS comp one which goes against the
suggested J has come wireless there we
go joist in quick look these two and so
load up the YouTube movie very slowly
sorry but you guys can't believe me that
that's loading oh there it is there you
go don't have to believe me so again
everything's supposed to be very drag
and drop and it works exactly like the
desktop you know copy paste should work
on everything not just text etc and you
know this thing is auto saving
constantly based on my undo stack so if
I have undos that means that my document
is edited so it knows to automatically
autosave and that's kind of the thing
that this framework does for you it kind
of handles all that sort of behavior
that you get for free on the desktop
let's go back here
yeah so yes that was building cappuccino
so I'm going to talk about the things
we're adding 40.7 so one of the things
that people kind of have complained
about with cappuccino and rightfully so
is debugging now debugging JavaScript
pretty much sucks but it's a little bit
worse in objective J currently and so
that's pretty bad and a lot of people
thought that this was because we were
like abstract away JavaScript or
something but that's not the case even
to our surprise it just happens to be
that we at 280 north are particularly
good at exposing latent bugs in existing
debuggers so the code we made like if
you did in normal JavaScript it would
have the same effect so let me give you
some examples the first one is if actual
I'm going to focus entirely on the
profilers except where we didn't most of
work so if you profile objective J code
you get something that looks like this
I'm sure all of you have run into this
at some point or another basically all
the interesting functions are question
marks like I don't know this is and that
makes it really really hard to profile
because we have you know thousands of
methods and one of them is really slow I
knew that already so that's that's
definitely a problem this is Firebug by
the way and a lot of people don't know
this but Safari also has a profiler and
we also don't work really well there I
don't know it can anyone tell what's
wrong I'll give you a hint I should be
you know making objective J message send
faster because it's taking up five
hundred percent of the profile so
clearly the all this was pretty useless
for our needs but again these are all
clearly bugs that would happen in any
library there's there's no magic that we
put in there that makes the profiles
show up is five hundred percent so the
kind of cool thing about our team is you
know we know the WebKit people pretty
well and you know this used to be our
day job we all used to work at Apple so
we got together with them in kind of the
last two weeks we said let's really
tackle this problem let's make you
no debugging objective J in at least in
WebKit for starters just an awesome
experience and so we did a lot of work
on the Safari inspector and a lot of
this work you're going to get whether
you use objective J or JavaScript we
added some really cool things so the
first one that we tackled was this
problem with anonymous function so the
way you get this kind of anonymous
function I don't know what you're
talking about thing is when you create
these functions without names right the
profiler doesn't know what to call that
so it just says ? or anonymous function
now there is a traditional technique to
kind of circumvent this problem which is
oh just give it a name and that works so
in this case that would work but there
are other problems that are related to
that for example this is kind of if you
do a traditional JavaScript classy thing
if you run this through Firebug you're
going to get this which is not very
useful I mean okay yes one of them is
slow I don't know which one so there's a
general problem with how functions are
named in profilers and this comes from
the fact that you know functions don't
really have names the function exists in
the ether and you have a variable with a
name that points to that function so a
lot of the profiler code is trying to do
tricky things to you know try to figure
out what name you want to see
unfortunately you can never be tricky
enough because you know JavaScript's
pretty dynamic and you can always trick
the profiler and so one really good
example of that is this if you have a
function that generates functions you're
never going to be able to name all those
generated functions very well right so
that's how it's going to show up in the
Safari profiler right useless as we said
and even if I do this that's not going
to help because now they're all going to
be called iterating so unless you do
some sort of ridiculous eval creation of
the function you're never going to have
a very good name for it and obviously
you don't want a huge performance hit
just to be able to name a function so we
talked to the WebKit people a lot about
this and we came up with a pretty good
solution we added a new property to the
function object it's called display name
and now you can manually set it and you
know it'll use that first before any of
its little tricks so for example what we
do here is you create a function and
then you said its display name
if you look in Safari very nice i see
the function with a thousand iterations
is the slowest one that makes sense and
the really cool thing about that is that
it makes objective j methods first-class
citizens in safari so when you use
objective j you're going to get you know
a stack trace that looks exactly like
objective-c on mac OS 10 so we think
that's really cool additionally we fixed
a bunch of these bugs that resulted in
like the ridiculous amount of
percentages and so forth showing up so i
think the Safari profiling experience is
really the best right now and i'm going
to show you why what makes Safari
profiling so cool is that you have a
number of ways to look at your code so
right here we we've been profiling the
application did finish launching method
of our application and in this top-down
view you kind of see everything that
happens in your program so obviously
since we profiled application did finish
launching you know a hundred percent of
the profile took place in that method
right so if we now uncle apps that tree
we see all the methods that got called
inside of it and how they got divvied up
so you can kind of start you know
following the trace of your program so
this is kind of cool but it's actually
not as useful as what Firebug currently
has which is kind of the flat list so in
Safari that's called the bottom-up
profile and if you don't uncollectible
you have a flat list with you know the
slowest stuff on top you can sort it
obviously so the problem with the flat
list though is that you're missing a lot
of subtle information for example if we
said Oh set frame size is pretty slow
you know it's number two I might spend a
lot of time trying to optimize set frame
size and it might Rack my brain over it
for a long time and say man this is just
a for loop there's no way I can make
this any faster which is where this
little tree comes in because the tree
shows you a reverse or inverse back
trace of your code so basically what
this says is set frame size got called
from these four methods now you'll see
something really interesting here which
is set frame size was only slow when it
was called from size
to fit it's actually really really fast
in all the other cases so it's not
really set frame size that slow but some
sort of dynamic between size to fit and
set frame size so you know perhaps size
to fit blows a cache that set frame size
relies on and you wouldn't really know
that okay you wouldn't really know that
unless you know you had this kind of
view and you can go all the way down so
this is really cool I think so again
Safari profiling is working really well
oh this is something else that's cool
you we have these buttons called focus
and exclude so if you want to get rid of
like every instance of a function in
your profile like I already know I can't
make that any faster you can just get
rid of it and if you want to focus on
just one function that becomes like a
hundred percent and you can focus on
that sub graph so you know debugging and
web kids going to be really great I just
got this code checked in last night so
tomorrow's nightly should have it which
means debugging so far is going to be
really great when safari four strips
which means that debugging with chrome
is going to be really great as soon as
they pull in those changes so we're
really happy with the way that's working
out what we're doing next is we're
already actually started working on
these same patches for Firebug mainly
the display name thing doing the kind of
tree thing is a bit harder I just don't
know enough about our bug yet the other
thing we want to do is build more of
these tools we want the exact same tools
for profiling memory basically and also
we want to explore this idea of dynamic
interaction between the debugger and
code more so this kind of display name
thing is kind of just the tip of the
iceberg right like the idea that you can
tell the debugger certain things and
we've got some pretty interesting things
we're working on in that regard so the
other thing that's coming in all point
seven is themes I'm actually going to
skip through this because I guess I
don't have a lot of time or do I I mean
so I guess I'll just blow by this really
quickly so we added themes to the latest
version of cappuccino that's the class
that handles it that's not what's really
important what I wanted to mention is
that you know not only do we think it's
really important to have a theming
engine but we think it's really
important for you know your stuff to
look really really good by default so we
hired a professional design firm their
name is sofa you may FIFA Millie er with
some of their products they also made
the cappuccino logo for us and we kind
of assigned them the task of making a
really really beautiful theme that looks
good both on Windows or Mac ie whatever
and they did a really great job it's
called Aristo you know you run it on
vista you know I II and it kind of feels
like Windows and you know you run it on
safari Mac and it kind of feels like Mac
and it doesn't feel at all like Linux
when you learn it in Linux but I think
that's a good thing and the other really
cool thing about that is that we're
completely open sourcing this this this
UI and I don't mean we're just throwing
the pngs out there but we've taken all
you know Photoshop files that you know
that they made over time and we're going
to dump that all into the github tree as
well so you can go in there and kind of
see how they develop their art you can
learn from their skills etc etc you know
we want kind of the same open source
experience for the artwork in cappuccino
as for the code so we recently announced
this thing called Atlas and it kind of
allows you to build applications for the
web but what a lot of people don't know
about is that you can kind of already do
this with the 0 point 7 beta using a
tool called nib to sit which I'll show
you right now so if you guys have a max
I don't know if you do hopefully you do
there's a tool called interface builder
that's what you use to make applications
on the mac and there's these interface
files called zibs launched said oh
so basically you just have a kind of a
little UI builder tool and what we've
done is created a converter that
converts from there zibs two are
equivalent formats I'll show you what
that looks like I'll do this kind of
empty thing first you just run the tool
on the file
go and
so this is just an empty window right
that's all we had so let's actually put
some stuff in there and you can kind of
see how this works so if we can go grab
a button we can throw it in here so it's
got these really cool kind of layout
tools so if I can Center the button by
just removing all the anchors and you'll
see there it shows you exactly what's
going to happen so I'm going to save
this file now and I'm going to run this
again and now when i refresh you'll see
there is a button inside that window and
as you can as you can see it's perfectly
centered in the window I'll show you
something more interesting it's putting
a slider and the text field so there's a
really cool concept in interface builder
called connections which allows you to
kind of bind objects together so I'm
going to tell this text field to take
the value from the slider when it
changes so when I run this again
you'll see that we also have the slider
and the text field and when I move the
slider around it just updates
automatically and let me just steal a
menu I can throw a menu in here
as you can see we now have a menu all
the stuff in there so if we want to edit
that menu we can just open this up and
we can add kind of a new item and loops
and this stuff moves a little bit hokey
but the mac people like it so i'll show
you too this was all the rage back when
webgate was first created we can create
an o-line browser grab a web view here
just drop that in
and I'm going to take I'm going to tell
this Web buta to take its URL from this
text field so take string your rail from
and I'm also going to add a button or
back button and I'm going to tell the
web you to go back when you press this
button and one last thing we're tell the
window not to be visible when I first
launch the program and instead I'm going
to have this menu item which I called
browser open the window so order front
so we run this tool
so here's the empty window again if I go
to other stuff here we'll see browser
that opens up the little browser window
and come in here there's apple com I can
go somewhere else and I hit back it goes
back amazing so one of the things that
kind of you I builders get wrong is that
you can basically do what's in the
Builder and that's it and then
everything else you kind of got to stop
using the builder for but what interface
builder is really great for is kind of
expanding it and I kind of want to give
you a quick demo of how we do that so
let's go to just a new project
so we're going to make a new class
so I'm going to make a new class and so
you'll get kind of a few love objective
J as I do this too and to make class you
use the implementation keyword and we're
going to make a new kind of view that
just draws a triangle on the screen so
we're going to call it triangle view and
it is a subclass of the view class so
there we go and to draw you implement
the draw rect method this is just like
Java and obviously Objective C so I've
got the snippet of code that draws a
triangle here for me it's not
particularly interesting basically we
just set the field color to red and then
make a veggie a path that starts at the
top center and moves to the bottom right
bottom left etc so now that we've got
this this class here we have to somehow
tell interface builder about it so what
we're going to do close this so we've
got a blank one now we're just going to
tell it to use the super class which is
the view I'm going to drop this in here
and I'm going to go to the its
properties and i'm going to say you know
what you're not a few anymore you're a
triangle view and i'm going to go ahead
and set its resize flags as well
hopefully if I've done everything right
here
there you go there's our red triangle
and since the resize flags are said it's
going to redraw you know correctly so
now we wanted to kind of interact with
other controls so we're going to try to
do is put a color well in there that can
change the color of the triangle so I'm
going to make a little more room I'm
going to move this down I'm going to
choose color well and throw that in
there and so before we can change the
color of the triangle the triangle has
to have this idea of a settable color so
I'm going to give it a member variable
which is a color now again I said that
objective j is a superset of JavaScript
so as you can see here I'm doing this in
a very strict way as you would like in
Java declaring all you remember
variables ahead of time you don't
actually need to do this it's more of a
stylistic thing like hey look these are
the variables i'll be using in my class
so again you could leave that out and
just add it to the class automatically
as you would with javascript so i'm
going to add a new method called take
color from
basically all this does is set its color
to whatever color the parameter you pass
in contains and I have to do one more
thing which is notify this view that it
needs to redraw itself because you know
the color change so normally when i add
a method like this interface builder
would pick up on it automatically but
since we're using saveetha edit and not
Xcode it doesn't but there's a really
easy workaround to that I'm going to
just click on here and add it myself
manually here into the actions so take
color from that's what I named it i
believe so now it's got this this idea
of an action that it can perform so i'm
going to connect the color well and
choose take color from so once again
i'll save it are we run this
oh yeah
so now I've got this color well oh it's
not working oh yes there you go see that
would have been really easy to find now
because debugging is just so grating
averaging there you go so are y'all
refresh it there we go now it's just
going to automatically take the color
from the color wheel and the other cool
thing about interface builder is that
you're not just limited to interface
elements you can actually kind of create
abstract objects on the fly so let's
just create kind of a useless object but
just for demonstration purposes it's
call it alerter and it just inherits
from the normal object class and it's
got also an action which is say stuff
and all it does is alert hey there so
I'm going to come into interface builder
and just like before I chose kind of
like the base view class I'm just going
to choose the base object class and just
throw it into here now the reason it's
going down there is because it's an
abstract object right it wouldn't make
sense to put it in the window so just as
before I'm going to say hey wait a
minute this isn't an object it's a
alerter so now we've got this alert or
object that will be created when we load
this interface and I guess we can add a
button to make it say what it wants to
say
and again we have to add the action
again because we're not using Xcode so
there you go and now I can connect this
to hear not shown
17
all it's not showing up and I know that
I shouldn't matter I mean I put this
here and try redoing it I'm sure it's
something simple oh there you yeah
almost felt it or something ok so now
it's in there and we'll run this tool
again
so fresh there we go so that's kind of
just an idea of how you create
applications in the cocoa world and thus
how you can use those same strategies to
create them within the cappuccino world
back to presentation here
so you can try out the everything I
showed you is part of this Oh point 7
beta it's actually not in the stable
release yet so you can go to github and
try it out you don't have to remember
that URL you can just go to our normal
one and it's listed in there this is our
website all this stuff I showed you is
completely open source and you can
download the stable release from here
and there's also a link to github where
you can you know try out the betas
here's some more information we're
always in the IRC room we have really
really bad sleeping schedules so one of
us is always awake during the day so you
can find us there and that's it I have
some time for questions now if you have
yes but in this kind of non-objective J
way they're actually using the run time
to build their own language I know of at
least three people doing that so one of
them being that Ruby thing we're we're
going to release you in the summer we're
working really hard on it it'll be done
soon so I guess something I should
mention is kind of what's the difference
between interface builder and Atlas one
obvious one is that Atlas runs in the
browser and thus you don't need a mac
for it but the other one is that you
know Atlas is a lot more internet
centric right interface builder was
designed for just building desktop
applications whereas Atlas adds kind of
these this idea of you know internet
controllers where you can just
automatically draw those little
connections to like Twitter or RSS feeds
and that sort of thing so that's kind of
what we've been working on another
interesting thing is that our plug-in
API is exactly the same as interface
builders plug-in API so all the existing
plug-ins for interface builder and the
Mac are just going to work with Atlas so
a lot of people have made finally you
know these really flashy controls for
the mac and you'll be able to upload
those to Atlas and use them to yes like
arrow keys and like man seeking man be
that's what yeah yeah that's all hilton
you see this working for some time ago
uh yeah Atlas actually supports the
iphone so one of the ideas we had was
nibs that this kind of interface format
that exists for the Mac today is used
for localization a lot on the Mac
because it can just make a completely
different UI for every localization
which is really I think the right way to
go a lot of times for example like in
Israel you might want your entire UI to
be completely flipped right as opposed
to kind of the the American one and we
took that same idea and applied it to
different platforms so you can have kind
of the same core code and then have a
you know interface file for the iPhone
and that gets launched automatically
when it's loaded in the iphone and then
you have a different interface file for
the desktop and that gets launched
automatically and each one would have it
has like its own unique set of widgets
like you know there's very I phony
widgets for the iPhone and you know
desktop you widget for the desktop etc
so as Derek J use of the end of the
posters and ads on
so the way objective J works is that
it's a very very thin layer on how the
JavaScript again it's it's a couple
features that we feel it should have had
such as you know classical inheritance
and that sort of thing so you can
actually write objective J without
objective J if you want you can use all
the library functions to do the same
thing I don't know why you would but you
could so the way that this kind of
automatically works that I'm typing in
this new language and it's just working
in the browser is that we actually have
the the compiler written in JavaScript
and it grabs your code converts it to
JavaScript and then runs it very quickly
now we understand that you know for some
really highly you know high-traffic
applications that can be a little suited
slow so we actually have a separate
compiler where you can compile it all
ahead of time and compress it all into
one file and do all the crazy things you
need to do for the web so you can choose
either one all right this is love you
can write it happen every day and I want
to play the desktop is today um kind of
so you can obviously just throw a
webview into a containing view but so I
didn't really go into this but you know
objective j doesn't use the Dom at all
etc as you saw I never touched any sort
of you know traditional w3c technologies
and one of the big reasons behind that
is that we wanted to be able to build it
on top of any graphics library so one of
the things we've been experimenting with
is kind of having cappuccino run
entirely on SVG instead and the other
thing we've been kind of experimenting
with is actually talking to the native
graphics library so on Mac OS 10 we
could just talk directly to core
graphics so that's definitely another
option that's not anywhere near done but
you could just take the throw of web
view into an application approach and
have it work
Billy so I e78 firefox 23 Safari all of
them opera attend job of a question
on the App Store the iphone app store so
we actually have a one that we shipped
that runs cappuccino we that's it
because we haven't released the code for
that but the code will be in there for
atlas we have an open source that part
yet so yes / no yes
yeah so we have an our own little custom
testing suite it's called oj unit it's
it's in the it's in the just github tree
if you want to look at that and for
documentation it's admittedly a little
sparse but the nice thing about the
documentation is that all the apple docs
for cocoa are exactly the same since
it's the exact same API so you can go to
developer.apple.com and that's pretty
good documentation but everyone likes a
sec
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>