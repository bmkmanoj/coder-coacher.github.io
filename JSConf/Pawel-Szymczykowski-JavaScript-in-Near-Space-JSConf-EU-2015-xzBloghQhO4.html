<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Pawel Szymczykowski: JavaScript in (Near) Space | JSConf EU 2015 | Coder Coacher - Coaching Coders</title><meta content="Pawel Szymczykowski: JavaScript in (Near) Space | JSConf EU 2015 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Pawel Szymczykowski: JavaScript in (Near) Space | JSConf EU 2015</b></h2><h5 class="post__date">2015-10-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/xzBloghQhO4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">Hi, everyone, today I'm going to tell you
about JavaScript in near space. It's actually
based on a project some friends of mine and
I have been toddling around with for about
a year. On and off. And I was just reminded
that it's actually yesterday was the anniversary
of the first balloon my friends attempted
to launch, it actually met an untamely death
four feet off the ground on a stray beard
hair, just FYI.Fully name is Pawel Szymczykowski.
If you're not familiar with the pronunciation
of Polish names, I've provided a visual pronunciation
guide there for you. If you can say Paul bell
ship check coffee ski, we'll call it close
enough (Applause) I'm from Las Vegas. I work
for a small company called Wegi res that does
on‑line pooling, I'm atmakenai on Twitter,
but adopt follow me, don't tweet anything
interesting. If you've heard of me at all
it's probably for this guy here it's Sumobot
yup your, an Open Source design kit that I
designed. It pucked up steam and started popping
up at a bunch of Nodebots all over the world,
and eventually movement used it for their
build event last year to demonstrate windows
10 orneriest berry pie the which was cool
but weird ‑‑ Rasberri Pie. I cented to
this book here JavaScript robotics, among
much dueler people than I am, some of who
are here today. I did a chapter on delta robots.
It's kind of like on the cover there. So why
space? Why indeed. For a lot of us the answer
is like yeah, Fuck yeah, space is awesome.
But for others maybe I'll try to quantify
my reasoning. So space is just this sort of
like vast endless thing that holds all of
these mysterious secrets, literally like no
place on this earth. And I think as a species
we just kind of yearn to explore the unknown,
you know, it's space, it probably holds like
the mysteries to lay itself, who knows.  ‑‑ mysteries
to life itself. I probably watched too much
Star Trek next generation as 
a kid. When office kid there wasn't a ton
of things going on, shuttles were pretty common
and Ronald Reagan was trying to build massive
space weapon, not cool, TNG was can ‑‑
I don't know if you've seen a lot of these
before, the first one there is Nodebots, those
are like the wheeled ones then node boats,
really popular at JSCofn in Florida. We have
node powered submersibles, open ROV is a remotely
operated vehicle that you can power with a
node web server. node Copters, I think it's
time for JavaScript in near space, more achievable
than outer space. And finally, I think just
because it's a challenging and interesting
problem, it's hard and there's a reason why
it's kind of the domain of countries and well
funded private companies like space X or virgin
Galatic. This is a side project, on a totally
different scale, still hard, it takes a lot
of different disciplines, lot of different
areas, it includes electronics and programming
and building things and radio operations and
like car chases and all sorts of things, a
lot of things can go wrong and they often
do, and take a long time to figure out. But
that's what makes it interesting to work on.
Yeah, that said, I do think it's definitely
a possible thing to do. As long as you've
set realistic goals and pretty persistent.
Speaking of goals, let's figure out what those
are, at least for me and my group. Step one,
kind of a no brainer so to get really high
up in the air. There are a lot of things that
go up in the air, drones are one of them,
they don't quite go high fluff to be interesting,
some of ‑‑ hey enough to be interesting,
some of the commercial oneless, at least in
the United States, we're not allowed to fly
them maybe higher than 120‑meters. There
are industrial, not industrial, really, but
like high‑end model rockets. I'm talking
about not the SD kits you can get in card
board tubes but 20‑foot ones that have massive
homemade engines, shoot up and they go really
far, they're not in the sky very long they
go really fast and tend to explode, so it's
not really in my comfort zone. What about
balloons, turns out in the United States,
sorry, I don't know about regulations in other
countries, I know there's a lot of different
countries represented here, but in the United
States, we have a federal guide of regulations,
including FAA guidelines and there's specifically
a section there about mer Moarded and unMoard
for photography and science oexperiments,
there's regulations but notary sufficient,
pretty reasonable compared to things like
drones right now which are new and scary,
high altitude balloons have been around since
the 1700, so they're kind of lax. They have
things in there like don't launch your boo
line over city or near an airport, kind of
a no brainer. Don't launch on a day with low
visibility, so airplanes know where you're
launching from, so they don't run into the
thing. Not really a problem in Las Vegas,
there's hardly ever Cloud in the sky, just
very dry and blue all the time. Things like
don't trail anything for longer than fifty
feet from your, balloon. Make sure whatever's
trailing with break less than 50‑pounds
of force in case an airplane runs into it.
You also have to alert the air traffic controller
about a two hour launch window where and when
you intend to launch. Finally you have to
have two ways of getting the balloon down,
one of them went too high and it came down,
so that's kind of in the bag. Pretty reasonable.
However, do they go high enough that we can
say that we've gone to space? In fact, ‑‑
in fact, yes. Wrong slide, sorry. So these
high altitude balloons or weather Baloos they're
also called can go up to 37‑kilometers,
there's an area called near space starting
at between 20 and 100‑kilometers. At that
point you can start to see the curvature of
the earth. It's really interesting, right
at that 20‑kilometers up, there's a zone
known as Armstrong's limit. At which point
humans can't safely go up without a pressure
suit, because the pressure is so low that
water will start to boil at body temperature.
It's exactly what I'm looking for, something
alien, strange that you can't see hear, and
it looks beautiful. By the way, it's not named
after Neil Armstrong the astronaut, another
Armstrong, hairy Armstrong, an airforce doctor
who discovered this (Harry) so obviously the
best thing to do would be if you could go
up there yourself and experience it. But that
would probably take a lot of balloons, and
I don't is there a pressure suit or even like
a pressed business suit. So that one's out
(Laughing) the next best thing might be to
send up some sort of sensors and collect interesting
data to see what it's like up there, poke
around, essentially build a probe and experience
it. Have a sort of out of body experience,
so that's what we'll do. And we'll use JavaScript
NY ‑‑ why JavaScript, A, it's a JavaScript
conference, I wouldn't give the talk if it
wasn't JavaScript. A lot of it has to do with
this piece of software here, Johnny‑Five.
It is a fantastic piece of software for controlling
hardware using JavaScript. It's written by
a man named Rick Waldron. I credit it for
me getting into JavaScript development at
all before that I was puddling along happily
with Java and Ruby, and I thought, this is
what I'm going to do now. For a very long
time, or pretty long time, I guess, Johnny‑Five
only worked with Arduinos, then one day, that's
fine, but maybe not so good for application
here, you'd have to tether the Arduino to
your laptop using like a USB cable and you
probably don't want to launch that up into
the air. (Laughing) but then, one day, I think
it was maybe two years ago or so, Johnny‑Five
got support for plugble I/O module and could
support any hardware anyone was willing to
write a driver for. And then a man named brine
Hughs and wrote this Raspi‑IO package to
support Johnny‑Five ton Rasberry pie, it
would run stand alone, you could do pretty
much all the things you could to with Johnny‑Five,
but it was suddenly untethered and you could
run it on this little computer. This is a
model, I believe it's an A plus, small, uses
less power than some other ones, perfect for
the task. Oddly enough Brian Hubhs is next
door is giving a talk on JavaScript community,
not robots but he's equally capable of both.
If you've done any work with Arduino's or
Johnny‑Five before, you might B. especially
if you poke around a little bit, you might
be familiar with sensors that hook up using
maybe two leads, one is like a ground and
one is a power. The sensor pictured here is
an MPU 5060, it's actually6 access exceller
rheometer and gyroscope, so at the minimum
if we were going to hook up in the traditional
way you would need six signal pin and a ground
pin, but there's other sensors on here as
well. That can quickly get out of hand if
you wanted to add support for more things.
Luckily, this particular sensor and a lot
of the more complicated sensors have an interface
known as I squared C that only uses four pins,
just the first four on that right side (I
2C) and I 2C devises are addressable so you
can chain them together and only use four
pins, very useful for this purpose. You don't
need to know anything special to use I2C devices
using Johnny‑Five you declare them and set
up a listener for data events. You don't have
to look up the I2C device address yourself
as you normally would if you're home ruling
Johnny‑Five will look thaw for you. And
once we get that data, we'll probably want
to store it someplace useful so we can look
it up later and reference it as a lacy web
developer, I tend to want ‑‑ as a lay
city web developer I want to use tools that
are already there (Lazy) you might be familiar
W. it's actually a logging framework. That
supports different log levels you normally
use it to logger reports and debug statements
from your Webapp. One interesting thing it
supports is JSON logging, you just set that
flag of JSON to true and you get nice JSON
objects that you can parse pretty easily later
on. And all we have in the bottom line there
is an interval to every half second. Look
at the status of the current data Blog we
were setting and just log that. This is a
sample of what that might look like, this
is from a drone test flight I did a couple
of weeks back, I believe, or maybe just, no,
not that long ago. And so this is one line
that has all the data for the three sensors.
Oh, the ones that I had chained up there were
a thermometer, sorry, a parameter for temperature
and pressure data and electric come pus for
heading and the exceller rheometer itself
(Compas) it's simple and very science tiff
looking data logger, I guess. (Baramat rer)
another piece of data we might want on there
is visuals. Using raspberry pie camera for
this, this is kind of no brainer, it's very
light, it's very cheap, it's about maybe 30‑dollars
US or something and there are modules for
it as well, they just wrap the native modules
on the Raspberry Pi Pi, ‑‑ time stamps
on the data and the pictures or video will
be insink automatically because they're U.S.ing
the same clock. (Raspberry Pi) then step three
is probably the hardest one, it's getting
everything back safely. Because if you don't
get your balloon back, you get a ten second
show as you watch your balloon float away
forever. That goes up must come down (Your
balloon) but it won't come down as softly
as you'd like. That's something that has a
lot to do with planning. The trajectory of
your your balloon will likely take depends
ton weather er, time of year and weight of
the balloon, luckily the folks at HAB.org
high altitude balloon hub have created a calculator
to make it a lot easier. Essentially you figure
out how much your payload weighs, payload
is a fancy term for the box that's on the
bottom of the balloon. How much you're trying
to lift up. How large your your balloon. They're
latex Baloons, they're very thin. Which is
why beard hair could pop it. Normally you
wear gloves and they come in different sizes.
But rather than selling them in diameters
they sell them in weights, so that's just
how much the balloon itself weighs. Still
applies that a 650‑gram balloon will hold
more gas than 250 program. You can fill them
with helium or hydrogen. Hydrogen is more
exblowtive, helium is less expensive and there's
world shortage chose it because it's less
explosive ‑‑ how much gas and how much
lifting force, once you have the rate of acceleration
and the ‑‑ you can put it into the bottom
boxes there and pinpoint starting point on
the map and it'll graph out where it thinks
your balloon will go, at which point it will
explode in the sky, that's the red dot in
the middle. You'll want to, before that day
preplan where you launch your balloon where
it end up hopefully not on top of a mountain
or secret military base. Do that before you
launch. Of course that's not foolproof because,
I mean, it's kind of an educated guess weather
patterns change. It won't cover the case where
a giant bird on ducts your balloon and it's
miles off course. An ideal would be to add
a G.PS tracker (Your balloon) you still need
to get the data to yourself, you're on the
ground watching a Balloo float away. WiFi,
RF modules don't really have the range (Wifi)
it in fact has a specific protocol for this
called APRS. APRS is stands for something ‑‑
automatic package ‑‑ something ‑‑
something, any way it tracks things and sends
their positions over short wave radio signal.
It does this by short wave radio the Ham radios,
usually the people who hang out in their basements
and they're talking to people and talking
their signal off the iOSphers trying to figure
out if they can get to Iceland from Idaho.
Those guys. It does that by ‑‑ the APRS
uses kind of a ‑‑ an encoding called
AFSK, audio frequency shift keying that encodes
the data as ‑‑ if anybody's old enough
to remember using a dial up modem ‑‑
that type of thing. And there's another protocol
underneath that that's like TCPIP. It's called,
I believe it's ‑‑ yeah, I don't remember
the name of it exactly. There's a routeing
protocol and then it sends bits of information.
It could be theoretically possible to rewrite
that. On top of ‑‑ in JavaScript using
Johnny‑Five adding support for the GPS radio
adding support for a transmitter module. It
would take a bit of effort though. And there's
already a really nice schematic an Open Source
software we called track, we know it's made
for Arduino, figured I'd add that and talk
to it over serial to the raspberry pie so
we can still get location data from it. You'll
notice there's a call sign there, because
short wave, the APRS frequency is regulated,
you do need a Ham license to operate on the
signal and to broadcast on it. So, my friends
and I will just sort of cram for the technician
class radio exam and maybe a week or so cram
and all passed. It wasn't hard, the exams
are all available on‑line, but we walked
away knowing really nothing useful about Ham
radio and how to use it, but we had call signs
and that's all we really needed. And the way
this APRS works it broadcasts this blip out
on this frequency. And it arrives at a special
type of station, these stations are all over,
called digital repeaters, they will listen
for things that are addressed to APRS. There's
a sample packet there below. KG 7 OXY my call
sign, these digital repeaters will route it
through the internet where a servicelike APRS.FI
will pick it up and plot it on a map. This
is the area around my home in Vegas, the dots
are stations moving cars or I don't think
there's balloons, some repeaters on there
as well. If you have that and internet signal
you can launch your your Balloon, grab some
hiking boots and go to where you think it
is and hike the rest of the way. And then
goal number 4 is actually doing it. (Laughing)
so that's the tough part, like a lot of things
that are involved space are usually behind
schedule and over budget, and this one is
no exception. We haven't successfully launched
this thing yet. But we're working on it. This
is what the completed payload looks like.
It's got all of the senators there, the raspberry
pie, the raspberry pie camera, the track Adr
oaryno, the Open Source kit and there's the
antenna and the USB power thing right there.
This is almost a complete. There's some issues
still with talking between the Raspberry Pi
and the Arduino. A little bit of conversation
about that with brine yesterday. And there's
also the worry about the antenna reaching
digital repeaters, which it's high enough
we'll see. It's good to test how the things
will hold up. Once they're up there especially
as far as the radio, it's a good way of testing
it. We're still working on this, the next
launch window we're looking at. This is like
weekends, a lot of us, actually one of us
lives in a different city now, we all work
in different places, but we're looking at
October 23rd for the next one. So, let's
see how it goes, there might be a sequel to
this talk at Thunderplains JS where hopefully
there'll be a section about well what do you
do with all that data once you have it. Maybe
see Thunderplains. And that's all I have,
thank you, these are my friends working on
this with me. (Applause) and I have Nasa JS
and ECMA stickers, if you'd like one of those,
come see me or hang around that table. That's
all all I got. Thank you. (Applause).</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>