<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Sandrina Pereira: How can Javascript improve your CSS mixins | JSConf Budapest 2017 | Coder Coacher - Coaching Coders</title><meta content="Sandrina Pereira: How can Javascript improve your CSS mixins | JSConf Budapest 2017 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Sandrina Pereira: How can Javascript improve your CSS mixins | JSConf Budapest 2017</b></h2><h5 class="post__date">2017-12-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/UUl0BZgjm3o" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi everyone thank you all for coming
yeah this is my first time in a big
conference like yes calm even as a
speaker so guys this is amazing this is
beautiful like oh I start so I'm Sabrina
I came from Portugal where I work at far
fetch as a white Vela / besides that
from design to front-end I'm a web lover
and today I'm here to share with you how
you can improve your CSS mix-ins with
JavaScript so I know what you are
thinking
Oh CSS come for yesterday now it's all
about JavaScript well guess what I'm I'm
going to talk about both CSS and
JavaScript but before starting let me
know
is anyone here that doesn't know
anything about CSS anything no one right
perfect
so how many of you are used to tools
like sass or less Oh quite a lot right a
lot okay what about post CSS Alf okay
what about the new wave of CSS NGS like
style components or glamorous some of
you okay
whatever the tool we use we've been
using them because CSS doesn't have
logic right you just write a class give
it some rules and you hope that it works
the good part about tools like sauce or
post CSS is that allow us to write some
logic here we have for loop where you
increment the ninja level from one to
ten and dagger the level the faster than
emotion will be another thing that you
can do it's as conditionals so if the
ninja level is ten it will be invisible
otherwise it will take some time does it
make sense
no but I hope you get idea okay another
thing that you can do it's at some
mix-ins I will talk more about them
later so all of this logic is really
cool until at the end of the day he will
end up with something like this let me
describe this for you you have a mixin
let as a each after 15 lines of calls
you have an include inside that includes
and after another 50 lines of code you
have a four with a thief with some
quests a class with some variables and
another includes and after that I don't
care I really don't care this is not CSS
it can be like you know what we call
this this is spaghetti code this is
readable code like I look at this and
it's like can't we simplify this I wish
I could handle all of these logic with
JavaScript and let me tell you if you
are not the guy who is writing this
someone else is doing that for you these
are the most popular post CSS plugins
that allow us to write logic in CSS like
mix-ins functions conditionals and at
the end of the month it's more than
alpha million of downloads that's a lot
of logic that you wish you could use
javascript and to do that you need to
use post CSS WIPO CSS well possesses is
really fast compared to sauce because
it's built with JavaScript and sass is
built with Ruby then it's modular so
it's easy to contribute like writing a
plug-in with those plugins you have
access to features that are impossible
with sauce and last but not least it's
really simple to start to setup in any
project with web pack or belt or
whatever so before jumping to JavaScript
let me quickly explain how a mixin works
with CSS in this case with post CSS so
you define a mix in and you give it a
name sites dynamics in can have
arguments like a function in JavaScript
let's give it a value inside the mixing
you can have whatever logic you want but
in this case let's keep it simple a
width and a height rule with the same
value that's it to use the mixing you'll
need to write hot mix in the name of the
mixing size and give it a value 20
pixels after that post CSS mix-ins will
do
all the magic and you will end up with a
width and a height of 20 pixels that's
it this is all you need to know about
CSS to follow the rest of my talk now
with JavaScript it's pretty the same but
with a function but there is one main
difference the mixin name is a file name
in this case size GS the mixin I'm will
recites another difference is the first
argument is a mixin note
mixing all is created by post CSS and
with that you can have access to the
context of the mixing but we all don't
need that in this example so you just
need to know that it's used at work for
CSS then you pass the the rest of the
arguments in this case of le then to
return the CSS you return as an object a
width and height of the same well pretty
simple pretty similar to CSS now the
only thing missing is to connect this
mixing to the CSS files to do that you
need to update the post CSS
configuration file that file is very
well all your plugins one of them is the
process s mix-ins possesses mix-ins as a
option called mix-ins directory where
you pass the folder that has all your
mix ins that's it now back to the CSS
file you just need to call the mix in
it's a global mixing so you don't even
need to import the mixing and all the
logic behind that mixing is handled by
JavaScript how cool is that this is
something new now what can you do with
logic that you can't in CSS what happens
to logic in JavaScript
let's be honest here guys how many of
you write unit tests JavaScript unit
tests oh okay okay is anyone here that
doesn't write unit tests in JavaScript
don't be shy come on it's okay come on
no one okay
some of you okay okay is anyone here
that doesn't care at all about tests I
saw you and I understand you i sir I do
I know why you don't write tests you
don't write this and you don't care
about tests because your code is so so
perfect so simple doesn't need to be
tested right what could be wrong or
maybe just maybe your code is so complex
it's like come on it works on my machine
don't touch it it will work on next
Monday okay well let me tell you my
story when years ago more or less I
didn't care about this come on
like I didn't care because I didn't
understand them but when I found myself
writing the same code over and over
again I understood I understood that
writing tests forced you to simplify
your code and that's not easy when you
write tests you need to know exactly
what to cause what to do and when you
know what to do you do less and when you
do less you can do better so in your
next project
don't forget about tests they will
improve you they will improve your calls
and they even if you don't know how to
test you can start today
by testing a CSS mixing with JavaScript
so let's do it
although the tests work a test is simple
as you expect something to match an
output so let's see how we test the size
mix in it start by importing the size
then you have a test function area I'm
using just just is a test framework
built by Facebook but you can use
whatever you want then in your test
function you give it a description slice
return the width and height then you
expect the size that it's a mixing node
and the value two we call tuned output
remember the mixing no this is why pasta
says that we don't need it
nope then you pass a value twenty four
pixels and then you just need to write
the expected output an object with a
width and height of 24 pixels after that
you just need to run the test see a
green checkmark and be happy you don't
need to worry about this mixing anymore
because it's tested you have CSS logic
tested with JavaScript so until at the
end of the day you can enjoy the rest of
the day how cool is that
it's really cool no I think it's great
that we have these tools that allow us
to create these small improvements in
our CSS because we like to improve we
like to evolve and that's our wave
evolution works not really let me tell
you our evolution really works ready
you're laughing but this is not fun
waiting for w3c to approve a feature and
then all browsers is supported so we can
use that feature this is a pain so my
question is is where is our CSS mixing
in this process we where is the size
mixing well it's not here it's not here
because we don't like to wait we don't
like to wait for a web evolution it's
too slow so what we do we create a web
evolution nowadays almost every project
as one of these tools
that's all where evolution works we like
to create we like to evolve we like to
be one step ahead and how web evolution
works like that you create something we
share it so people can see how amazing
is that or not and you use it until the
day it gets approval and this is what we
are doing with our mixing we already
creatives what about sharing you have
your mix-ins folder full of mix-ins that
improves your project your project
workflow what about the others maybe
there is someone else that needs exactly
the same mixing as you you could share
it so how can you share this I'm talking
about mix-ins for almost 15 minutes and
there is something that I have to
confess you there is one thing that I
don't like about mix-ins
the problem is with mix-ins is that when
you have a lot of mix-ins you have
mix-ins everywhere so what if I tell you
that you can simplify even more this
mixing instead of writing at mixing size
20 pixels you could just write size 20
pixels it looks simpler official doesn't
it it could be one day who knows and
this is one of the things that I most
like about post ESS it allow us to
create custom CSS in this case we are
creating a custom property
and to do this you need to write a post
CSS plugin so let's do it
to help you there is a post CSS plugin
boilerplate hungry tub and we only use
them we only use it in this talk so
first of all you need to import post CSS
to have access to the post CSS API after
that you'll create a post ESS plug-in
let's give it a name for CSS sites then
you'll have initializer the initializer
is a callback function that gives you
access to the CSS itself in a person
node like an ast with that you are ready
to transform the CSS with JavaScript
this is what you have on the boilerplate
so before starting to actually write
some code let me see if it's working to
see if this plug-in works I need to set
up a new project with post CSS after
that I need to apply to process s
configuration adding the post ESS size
plug-in then let's write some CSS that
uses that plug-in and then you also
fresh the page while you code until it
works doesn't feel right doesn't it
sorry to say this but know there are
better ways than doing this this is not
how you should test your code like I'm
talking about CSS mix-ins but we all do
this in our daily basis don't worry so
there are better ways faster ways to to
test a post ESS plug-in or your calls so
instead of having a refresh driven
development we can have a test-driven
development also known as TDD where you
start by writing the tests and then
write the code needed to make those
tests pass so let's write our test to
this plug-in so you start by importing
the plug-in and post ESS then you have a
run function this is what you have on
the boilerplate you can see a run
function the run function like a utility
function that saves you
writing expects something to match and
output in this case you are expecting
that the post CSS process result to
match the expected output
it might sound hard to understand but
you'll you'll understand that after that
you have a test function with a
description and then you call the run
function where you give it an input and
an output so if you write a class foo
with a size 1 pixel then you are
expecting the foo with a width and a
height of 1 pixel that's it and if you
run the test now it will file so let's
make it pass back to our processes
plug-in code the first thing that you
need to do it's to look for the size
property in your CSS to do that use the
world declaration method that you can't
filter by property in this case the size
when you have a match you'll have access
to the declaration itself and with that
you just need to do two things to get
the size value and all the weed and
direct properties the size value is
simple as declaration dot value then to
add the weed indict properties you use
clone before where you pass an object
with a property and the value now let me
see if it works we have class a square
class with a size 80 pixels and the red
background is anyone here that thinks
that this will not work
I believe it works I mean my code is
perfect right of course it works
come on now if it works on the browser
it will work on the test yes
no no of course it works what a second
oh it doesn't work my code is not
perfect anymore so we are suspecting the
width and height of 1 pixel but we also
receive the size 1 pixel there is two
problems here
CSS arrows on the browser are silent so
you will not see size is not the finest
on the console
besides that and worse than that the you
are with this you are having more coal
that you expect on your production file
and that's not good so in this case unit
tests l pellets and because in this case
we forgot to remove the size property so
to home of the size property it's simple
as declaration that he move that's it
now if you run the test again it will
pass simple as that
this is all you need to write a post CSS
plug in less than ten lines of code how
simple is that
and we let like what can you do with the
size eight eighty pixels that we
couldn't do with the mixing you can
publish it you can share it so from your
project you can level up to another
project and share it with everyone
actually this plug-in already exists is
called Poe CSS short size and you can
have more logic than just having a value
you can add a second value so we the
night you can have proportional values
and if you have a size you can have a
mean size and of course a Mac size there
are a lot of really good possi SS
plug-ins like CSS next allow us to write
CSS for it's like barbell for JavaScript
you have FTL CSS that transforms the
left to right from right to left
direction and the web possess a short
possessor short is a group of small
plugins like Poe CSS short sites that
allow us to have shortened properties in
CSS and you can check much more plugins
now so far my talk is all about GS in
CSS instead of CSS in GS but you can
also apply this at mix-ins
concept with CSS NGS tools let's see
with glamorous with glamorous we
the CSS in an object so to use the size
function in this case you can use the
spread operator to get the value which
style components is pretty the same but
instead of an object is a template
literal well you need to use the
placeholder the dollar with the brackets
and that's it so whatever the tool you
you use you can improve your CSS let me
let me say something here like I'm not
saying that CSS mix-ins are well like
they can do but they can do if you have
your small project yeah you can use CSS
mix-ins that's okay but if you have
bigger projects where you need to feel
safer about your calls you can use
JavaScript to help you you can test your
code you can test your CSS logic that's
really nice so a quick recap
how can JavaScript improve your CSS
mix-ins so say no more
- weird sass syntax and spaghetti code
and all of that you can enjoy javascript
es6 AST whatever you want you have a
full power and the rio CSS for the first
time you can test your CSS logic and
this is really cool this is what i like
most and if your mixing is really nice
you can share it with the web and that's
why I came here today because I found
something that improves my workflow and
I believe that might improve yours as
well because sharing is what make us
better thank you
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>