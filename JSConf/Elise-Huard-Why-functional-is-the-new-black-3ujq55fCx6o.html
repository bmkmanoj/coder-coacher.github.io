<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Elise Huard: Why functional is the new black | Coder Coacher - Coaching Coders</title><meta content="Elise Huard: Why functional is the new black - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Elise Huard: Why functional is the new black</b></h2><h5 class="post__date">2012-11-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/3ujq55fCx6o" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so I'll be completely level with you
until two days ago I didn't have a talk
and so I saw my slot in the schedule and
what I had was not working a plan B so I
had a plan B which was I'll show you
this slide right I'll dim the lights if
possible in this case probably
compromised and I'll play this music
I'll wait five minutes and everyone will
be out so fortunately I geared up a bit
and I can now switch back to plan a
which is a talk about I guess functional
programming so when you talk with people
about what functional programming is
it's actually remarkably vague everyone
knows what they mean but it's really
hard to put a deficient definition on it
and actually I met the organizer of the
functional programming meet up in Berlin
at a party on Friday and she said
ourselves they had a whole meet up on
that very subject and basically the best
it could come up with was well as much
as possible like Haskell so yeah so so
what what you could say is that well
it's related to lambda calculus in a way
lambda calculus was invented by Alonzo
Church at the same time as during was
coming out with this during machine and
lambda calculus just like the Turing
machine can be used to describe pretty
much any program we can run so the
difference I guess with functional
programming is that the syntax is
actually closer to what to the notation
that church came out came out with
originally
and it's not a it's not an accident that
this is the symbol for closure
representing a lambda okay so what is it
practically well it's all functions
functions all the way down so your
program is running a function which runs
functions and that's it there is no
global states or no global variables so
obviously like all good JavaScript
programmers you'll northern say are we
don't use global variables that's very
bad except we kind of do because when we
use console or we use documents or we
use window we're obviously using
something that is not explicitly in the
context of our function really no side
effects so basically you're not
technically allowed to do a console log
in your function because that's like
kind of veering away from the like
straight path from input to output
switch your function is supposed to
follow and no destructive updates which
may prove to be the hardest thing to
work with because it means you cannot
change any variables I guess you can
return something different but yep
basically that's it so who can point out
what's not functional about this example
not good enough yes so the side effects
console.log is obviously wrong but also
the facts that in the say gender
function you're using data that comes
from outside your function so you
shouldn't actually be using that
obviously this is not
a functional programming so some
patterns so actually javascript is
pretty good because it's got obviously
functions as first orders the
first-class citizens and so you can
create them and pass them around and
everything so everyone uses higher-order
functions whether they realize it or not
one form of higher order function is
taking a function as arguments and
obviously we'll do that callbacks of any
kind event handlers this is all taking
functions as arguments then there's
returning functions so we have functions
that we turn functions and actually if
you've been doing JavaScript for a
little bit you're probably doing that as
well this is like loosely based on a
project I worked on and like one of the
things we did was define like a more
general validate function which would
then call which would then get passed in
the actual thing to validate actual
function to validate and and so you
could define more more precise
validation functions by passing in
functions that will would actually check
your values later on so you can see
required fields gets a function in and
sorry I'm a bit confused and returns
whether there's an error or not so that
X that's an example of validates outputs
a function which you can then use later
on so utilities things you'll use quite
a lot when you're doing functional
programming map so when you do map on a
collection or
filter on a collection or reduce on the
collection so out of the box javascript
doesn't have anything very functional as
such because what you've got is
basically something defined on the air a
prototype but there are libraries out
there which will express things in a
more functional way like underscore.js
or slightly more esoteric ones like
dysfunctional one I found so basically
you can start throwing out some some
things you may use on a daily basis out
of the window like for instance the for
loop so for is actually it's not very
functional and it's also fairly clumsy
because it actually combines three
things so you could use a for loop to go
over a collection and that's basically
the same thing as wingham up or you
could do a for loop to basically only
change certain elements as basically
like doing a filter and then you might
want to calculate an end results by
going over collection and that's just
like doing reduce or left fold like the
functional types call it so yeah the for
loop is is is already pretty ugly to
start with because it's like straight
out of C but it's a it's also not super
good functionally so we're ramping up
slowly the difficulty started with very
easy and going a little bit harder so
currying so currying originally in
haskell is like the concept of you take
a function with several parameters and
you can kind of decompose it in
functions that take one parameter each
so you run your particular function with
the first parameter and then you had
your second parameter and every time you
output a function until you have the
function you actually basically want to
use
and well toy example here so yes I see
actually I have a bug already but so say
you have a very simple function called
phone listing if you try to run that
with just one parameter you'll get
undefined in Haskell this would actually
work you can just take a function pass
it one parameter and it will know you
want to function back to to actually
continue working you can kind of fake
this in JavaScript as well by for
instance defining a partial function
which will take your original function
and any any number of arguments you want
to pass it and with a little bit of
magic it will return a function that has
already applied those first parameters
so again to go back to the toy example
say that some actually changes this
phone every month you can decide that
basically you want a function for just
some Sam's phone number I see actually
my original example involved girlfriends
some girlfriends so I know it's some
Sam's phone number and you can define a
function for just Sam's phone numbers
and just use that does that make any
sense to you yeps not too not too hard I
guess okay monads so Mona's even that is
one of them words that make people's
brain dribble out of their ears just by
hearing it so actually wants to talk
about yogurt so I'll tell you a story
about yogurt so where I work we have
this cafeteria or we can have free food
and there's a big fridge where you have
smoothies and yogurts and drinks and
there's this particular type of yogurt
which you see here the brand name hi
hidden for you which actually is like
the most unhealthy yogurt you've ever
seen it's like
beef flavored and it has bits of
biscuits in it and and there's a very
limited supply so it basically they're
immediately gone and so right I'll do
the multiple choice thing now so we
remember those books you used to have as
a child where they said like right if
you want to find the Dragon go to page
55 or if you want to flee and run away
very very quickly then you go to page
102 well well we can skip the Monad or
we can do the mo nuts it's up to you so
if people who want to do the nomads okay
let's do the minutes so right yogurt so
um basically the thing with the whole
story around yogurt and mo nuts is that
things are named pretty badly so it's
normal that people don't understand
things the first time around because
it's really not that well explained I
think so basically with with monads you
create monadic values what is a monadic
value it's um is basically creating a
function which will enclose over a state
or over a value and that's it it returns
that function that's when you call it it
will return a value this is actually the
simplest function at the simplest Mona
you can have magnetic values or you can
have where it will just return the value
you just bust in so you create a
function which when cold will return the
value that was original passed in so
it's not that complicated and you can
make it returned a structure that
contains a little bit more like for
instance now the states which is the
number of our yogurt very important
so 2x to illustrate so we make a model
melodic value containing the value Joe
Joe is in the kitchen watching the
yogurt and you pass in the number of
yogurt you have originally 10 so to go
back here so you passed in Joe in the
value and you passed it then in the
states so what you get is this so so far
so good right yep cool so now you want
to start making the story evolved as
such because Joe and the yogurt you know
it's not it's not moving much so what
you're going to do is to bind that
magnetic value to a function and that
bind action will itself return a
magnetic value again so you can kind of
continue chaining the story so it will
it will also apply the function to the
original value you passed in as you see
at the end basically you pass the
passing the original function and it
will apply on the original value so
return again a function doing something
with state does it kind of make sense or
do you want to yep so ok Tom comes into
the kitchen I want to add a person so in
your normal everyday kind of you know
scripting you would probably do the
function above there which is saying
well whatever we have plus the new
person well here's the monadic way to do
it so you pass in the magnetic value and
a new person that just walked into the
room and you do a bind again returning a
magnetic value adding the new person
there
so this is basically what happens you do
at person with the magnetic value and
Tom who just walked into the room with
Joe and now with Joe and Tom and ten
yogurts in the room but not much yogurt
is getting eaten so far which is a good
thing and so you want to start working
on that act on the state's part of your
of your equation so you're going to
define take yogurt and take yogurt will
do a bind of the magnetic value and a
function which will again return a state
function a function with sorry states as
s-parameter and will act on on the
states so it will take one yogurt out
state minus one and so if we run the
take yogurt on the original states with
Joe then we have value Joe and state is
nine
okay so far still so so basically in
this way we can construct a long story a
chain of events which will be applied
one by one and it will be applied in
order and you can construct a coherent
story with like like you see you can see
a state the ten yogurt and it will lead
to a coherent results without ever using
like variables that you change so it's
actually really a purely functional way
to do what you've been doing what I've
been doing as well with objects and
variables but just using pure functions
so that is that is what what yogurt is
about really and I really really
recommend I mean I recommend looking
into it if you're interested and there
are all kinds of monads the one I talked
about was a statement but i really
recommend this presentation which is
like excellence and explains it with
closure but in stories so it's not like
completely hardcore it's actually really
well well explained so one thing that is
often associated with functional
languages is also lazy evaluation so
lazy evaluation you think of an infinite
kind of how can i say i guess stream GS
has been talked about here stream GS
allows you to to for instance define the
range of natural numbers and work on
them and not calculate them right away
now I put a question mark there because
I'm not sure lazy and functional I think
they are they may be orthogonal because
you have eager and lazy functional
languages and eager and lazy non
functional languages but it's definitely
an interesting thing to look into so
what's good about
programming it's easier to debug because
when you have a stack trace you find
your function you know you find out what
the input and the output is and you can
actually exactly reproduce what went on
because there is no nothing no things
being passed in that function or those
things being done in that function
outside of what you gave it so inputs
and outputs and then the point in the
stack is all you need it's easier to
test because you can again account on
the fact that all you have to test is
input and output so you put your input
in a function it gives you an output end
of story that's what you test so it's
also easier to refactor because again
like what matters is the signature of
your function so if you don't change the
signature you can basically watch
butcher the internals as much as you
want because the outside world will only
see the signature and some people say
again that's it helps for
parallelization now I think what's more
important for parallelization is using
the right concurrency primitives so I'm
not one hundred percent sure that's
parallelization functional programming
is like all you need but it may help
because at least you know there's no
Global's shared state there that you
should like that you will have problems
with like Heisenberg's or whatever so
it's functional programming I'm glad
it's stopping raining or no it doesn't
so it's functional programming heart so
I feel it is and actually I would
recommend you to try function purely
functional languages because if you use
just JavaScript or or whatever you're
used to use using
it may not force you to bend your minds
in the ways that will help you do
functional programming so I would
encourage you to dip into a closure or
even better has skill I've started to
like look into Haskell because people
who who are much smarter than me insure
me that this is actually the only way to
really you know take take on the right
the right kind of patterns in your head
so okay so I've been a while I've been
around for a while in programming so I'm
going to do a little rant a little bit
is um ok functional programming is not
new right I mean there was list in the
70s and back then that was the business
and the best thing ever invented and
then object-oriented programming came
along and suddenly that was all the hype
everyone wanted to do object oriented
and java and everything and so you kind
of get what i mean right like
programmers are like this right
programmers are kids in a candy store
basically they get a bit bored you know
with the daily routine and and so they
spot something new and shiny and they
basically basically run towards that new
thing and which is very understandable
but the core of the business is that
software is hard software of any size is
like hard you'll have human error you'll
have problems you'll have you know
working with different people and what
you need is is what you need is taking a
step back and thinking you whatever
paradigm you use if you don't apply it
well if you make mistakes and if you if
you don't double check yourself then I'm
afraid functional programming want to
help you and so so I'm always a little
bit skeptical about the new best thing
that came along however it might help in
some ways and to be honest I'm in the
same situation that's basically i'm also
always interested in what's new and
shiny and so I kind of gets the
excitement and I can also kind of gets
that there may be advantages when
applied really well that make functional
programming a really good thing to do so
thank you for attention
questions questions so if I understand
stuff like the way the monads are
implemented like in your example of how
you do it in JavaScript it seems like
that in that particular you're always
returning new objects right so it's it's
creating new objects every time you
return from one of those state mutations
is that right yeah i guess the essence
the essence of it is that you don't
return anything until you actually run
the function I see so so there it only
ever has one object allocated and never
allocates more uh well I guess it goes
kind of true the threat but eventually
yeah it outputs one objects nothing okay
yeah I guess my larger question is you
know I seem functional languages like
Haskell or closure or like really
optimized for doing these kinds of
things whereas I just seem javascript
isn't necessarily optimized for doing so
do you know like the kinds of parents
you showed are they typically relatively
efficient in JavaScript or I mean
obviously things like map and whatever
are fine but like monads are these more
advanced things yeah so I think like
what I should was obviously a
handcrafted thing and there are
libraries out there that allow you to
have something that syntactic sugar and
also I expect that if javascript evolves
in the direction of being more
functional you might have more inbuilt
syntactic servic sugars like a better
syntax for lambdas for instance so for
anonymous functions then you have now
but but but yes oh look into libraries
if you want to apply such things I think
so I like functional programming and I'm
happy you're talking about it but it's
actually a little slower then you if you
just do mutations and mutated everything
around and do you have any strategy how
we can make JavaScript engines optimized
for functional well i would i would
recommend reading purely functional data
structures like the
the really functional languages they so
like you say you never mutate anything
so basically you dope legates any data
structures your bass around so that may
have a cost in memory so what the
functional languages do is like they
share these as much as possible so if
you grow an array they'll reuse the area
that is already there and then sorry I
does it's already yeah yes sir so I'm
not that well informed that's not yeah
exactly well again like you one would
hope that if it goes more in that
direction that people would start
hacking on on that as well yeah okay
thank you release</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>