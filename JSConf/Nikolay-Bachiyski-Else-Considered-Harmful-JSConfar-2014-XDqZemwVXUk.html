<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Nikolay Bachiyski: Else Considered Harmful | JSConf.ar 2014 | Coder Coacher - Coaching Coders</title><meta content="Nikolay Bachiyski: Else Considered Harmful | JSConf.ar 2014 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Nikolay Bachiyski: Else Considered Harmful | JSConf.ar 2014</b></h2><h5 class="post__date">2015-05-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/XDqZemwVXUk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey everybody um I was
who it with an old joke so our
programmer is about to leave to the
grocery stores and and her husband asks
her honey can you please buy some bread
and if there are any eggs
could you please buy a dozen and ash and
she goes to the store she comes back and
you can imagine he his or his surprise
when she brings back a dozen loaves of
bread so we obviously have a have a
problem here right so what if the
problem is in the earth right if he if
he didn't give her any choice there
wouldn't have been any any trouble right
so unfortunately computers are really
bad at at working without if a closest
or without branching in general without
switch without ternary operators and
stuff like this because they will be
able to do only one thing this is not
really good right and culturally people
we also really like choice because we
currently further otherwise without
choice right we we are we really needed
so we will have to look at the problem
somewhere else and where else would will
be would be the problem people talk
about if a lot but people rarely talk
about else and you can see that in in
English books the word if he is actually
seen more than 10 times more than than
the word else which is a lot so people
like if a lot more than else and however
in in computer programs the world the
word if is actually seen on
or only four times more than else which
is which means the team computer
programs we have two point five times
more else clauses then if clauses why is
there such a such a big difference
between natural language and code
because we're kind of supposed to eat to
express with code war what we want to
say with natural language right and I'll
try to to give you a few reasons but but
first let us try to track a typical
logic statement with ifs and else's
right we we have on if with condition
one and this piece of code will will be
executed if condition number one is true
right then this piece of code will will
be executed if if both conditions one
and two are true right then we go to
announce where we have to change our
context in in in in the sense that
condition number two now now he has to
be false when when we are trying to read
the code and and this help and the same
thing happens for the rest of the
Earth's closest we have to always do a
context which every time we are we are
reading an else and historically context
switches has been really hard both for
computers and for people doing doing of
our everyday jobs so before we continue
on letter let us look at war what would
a statement containing only only if
clauses would look like without any
analysis we will have to remember that
this code will basic execute it only
when only when the first connect
condition is true this code will be
executed when both the first and the
second conditions are true the next
piece of code will be well when all of
the first three conditions are true
and finally the last piece of code will
be executed only the only the only way
when all four conditions are true so we
don't do any context which is we just
we're just adding more more context and
in general for four people and
historically change is bad people never
never like change but people actually
like building stuff and they like adding
more and more stuff nobody likes my
grating laptops but everybody likes new
new laptops right and so now I will out
take another try at explaining why there
are so many more else Clause is in
programming compared to in in natural
language and I think the reason is that
else clauses help us help us explain a
much more complicated logic and and we
use a more complex logic a lot more when
when we talk to computers then when when
we talk to people because computers are
a lot better at at understanding logic
right and unfortunately people are not
at all great at at understanding logic
we were just too lazy we are too bored
too too easily
and people also fall really easy for our
logical fallacies but I don't know how
many times have you tried to trace an
algorithm you wrote and it is always
incredibly annoying to to keep all of
the state of in our minds and and is
because people are just inherently not
great at following state just ask the
reality guys however people are really
great at at recognizing patterns I'm
pretty sure you can all read this even
though it is not any meaningful
texts right just people are really good
at for example as you can see they're
really good at recognizing text even
though all of the letters in the middle
have been scrambled there are also
really good at recognizing at
recognizing faces immediately I'm always
amazed how border control officers let
me in and out of countries really
quickly even though in my passport my
photo looks like this but but it usually
takes them like half a second to make
sure and to know that I'm just the same
person and usually it takes solver
software because they they now have
those small cameras it takes the
software usually a few seconds at least
people are are also really good at
recognizing sounds if you know a song
usually you you can recognize it just
from a--from a few beats and usually it
takes it takes some like 15 second
excerpt right so in all of sense we are
even a lot better than computers
recognizing various patterns and
Sciences has totally confirmed that our
brain is basically a huge and amazing
and really fast
pattern recognition machine actually
there have been some studies showing
that that our brain works were works
really like recursive probabilistic
refractor which actually science is
trying to use for for recognizing faces
so from Modi's week we can draw a pretty
simple rule that if in our programs we
use more patterns and less else clauses
it will be much easier and it will take
a lot less time for the person who reads
them to understand what is what is going
on
and by patterns I certainly not
necessarily mean design patterns but
from the Ganga for book if you're fans
of those in in my remaining time I would
try to show you a few examples of tricks
about how you can eliminate else clauses
from your progress the the first one
which is probably the most common and
easiest is is to emphasize the essential
part toward or the main flow of our code
here is a really typical example where
we if some data is is valid we do we we
do something with it and it's and if
it's not we return false right or no
sorry I'm sure everybody has has written
a lot of code for it for situations like
this and see we can the essential part
of the code is is now in pink and this
way we actually process the data the
rest is like there is a really neat term
called accidental complexity which is
all of the stuff we need to write all of
the plumbing we need to put so that our
our programs work the way we intended
them and here is a very quick way to
make sure that that our essential come
complexity the important part of the
code is emphasized if we if we first
bail if there are any any errors we can
achieve a few things first all of our
essential code can be can be together
also it will not be indented some
somewhere further in in our program so
that we know if if something is is in
the mainland indentation level it is
probably something important and not
just a error reporting code or error
checking code the other another trick to
eliminate health clauses is to use
polymorphism
actually you used to think that that
polymorphism was a multi-headed master
from the Greek mythology but it turned
out that it is it is the method of of
being able to use the same logic for for
a data with different types and I'll
give you another example here I'm sure
everybody has done something like this
we have to render a field or or whatever
object and this field can be can be in
different types like in our case if it's
a text we render an input if it's a if
it's a number we we have our special
component if it's a text area where we
render a text area or we throw some some
exception so if if our goal is to
eliminate else clauses here it'll be
pretty hard and we can go back to
polymorphism which to remind you it is
to find a piece of code which can work
somehow with with any type and the
common pattern here is that for each
type we have a specific component we
just render and free for example we
instead of keeping all of our structure
in if clauses we can keep it in an
object and we can use the type as a key
I'm sure all of you have have done this
all a lot of times it is not rocket
rocket science and I see a lot of people
actually do it but it's important to
remember those tricks when when we have
a bigger application or or we have a
really complicated to expression and we
wanna end you want to eliminate this one
bye-bye so if you are into into
classical P books and stuff there are
two things which can help you with using
polymorphism and give you a lot of
background on this subject one of them
is the classic strategy design pattern
you can check out gank of the for book
if if you are
before just please take it with a huge
grain of salt the other classic thing
which can help you with this is the
refactoring book by Martin flower and
one of the refactoring is there is code
replace conditional with with
polymorphism there are a ton of ideas
there about how to do that so people
really love up patterns and actually
they will often see patterns where none
where no patterns actually exist for
examples for example there is
experiments showing that if you start
showing people random dots when when
people are overwhelmed they actually
start seeing patterns because because
our brain cannot handle a really
complicated world how our brain is
always trying to make sense of the world
around us and for example way when you
get more and more dots which are totally
random for example here you don't know
that a lot of people do not see random
dots but they start seeing poodles right
or you've seen people looking at the
cloud and seeing are no monsters bears
or people looking at it already drunken
coffee coffee cups and trying to predict
the future it's our way of telling it's
our way of that our brain tells us oh
it's so too
too complicated I want to make it simple
again and here is an example where it
could be a problem in programming let's
say we have this these are a lot of you
a lot of even our statements right so if
if a person is reading it after probably
the second or the third they will get
the general pattern
oh we're just checking about type right
and then something happens for for a
specific type but there is a great
chance they will not see that we
actually broke the pattern in few places
so with this it is really important to
have our patterns in um in in in a much
simpler ways like for example if this
was in an object we couldn't he wouldn't
be so easy for us for us to break the
pattern the next trick is to is to put
more focus on on on reaction we are
doing and not so much on the intricacies
of the logic here is an example here is
the logic of a kid in us in the ass
spring season basically anywhere in the
world if it's a weekday it goes to
school if it's not a weekday but if it's
a Saturday it plays it plays football
and if it's raining it watches TV
because they can play food football and
on Sunday obviously kids have to do
their homework some some times and if
it's winter we like like birds really
like to hibernate so how how can we make
this simpler because when you look at it
you don't see any any actual pattern it
is just a random logic going back and
back and forth and here is what we can
do we can just focus on the action
themselves and and not so much on the
conditions people humans are are pretty
bad at keeping state so they usually try
to avoid it and very often we are pretty
explicit us in what we say so we will
usually not say that oh if it is spring
I will go and and if it's a weekday I
will go somewhere in instead we usually
say Oh on a spring on a spring shower
Saturday I would go play football and
you can see here that it is really easy
to see the pattern of all the import
stuff and these are the actions right
sometimes it is really hard to escape
the conditionals and and we don't have
to go into too much trouble so if there
is no visible way to escape from them at
least the least we can do is is to
simplify and make everything shorter by
by extracting stuff we we can extract
methods for example this monstrous thing
can just happen this by extracting a
function in the middle and giving it a
proper name or or or we can extract a
conditional and again giving it up a
proper name if people tell you that they
don't like so much abstraction it is
really important to point out that this
is simply rection and not abstraction
we're not observe abstracting thing too
much we're just putting it inside the in
a very well named functions and usually
it is pretty obvious what do they do as
a closing I would like to say that
writing code is actually a lot closer to
user experience and usability then then
we think because our crosses sits a
normal person and we need to make sure
that when when they read our code it is
easy for them to understand then and it
doesn't take them too much time in the
end people are a lot more important than
than computers and as mr. rubb about
sincerity in the really great structure
and interpretation of computer programs
that computer programs are written for
for people to read and only accidentally
for for machines to execute thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>