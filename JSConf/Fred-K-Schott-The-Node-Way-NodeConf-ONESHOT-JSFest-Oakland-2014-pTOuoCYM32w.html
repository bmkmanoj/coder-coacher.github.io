<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Fred K. Schott: The Node Way | NodeConf ONE-SHOT | JSFest Oakland 2014 | Coder Coacher - Coaching Coders</title><meta content="Fred K. Schott: The Node Way | NodeConf ONE-SHOT | JSFest Oakland 2014 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Fred K. Schott: The Node Way | NodeConf ONE-SHOT | JSFest Oakland 2014</b></h2><h5 class="post__date">2014-12-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/pTOuoCYM32w" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello hello hello
really did you guys hear me Oh awesome
cool well I can't tell that at all
alright cool how you guys doing nice
love that 10 a.m. energy yeah there we
go
yeah who here first event of G s fest
anyone anyone else nice okay nice i I
just got back from Stockholm so I
haven't been anything and I'm jet-lagged
as hell so if I start like speaking
Swedish or like pass out up here that's
that's on me
but yeah this is the nerd way and let's
get into it as Michael mentioned my name
is Fred I am on Twitter at Fred K shot I
write about note on my blog I tweet
about known and I work with note at box
so definitely pretty into it right now
and the kind of question I've been
asking myself over the last three months
but really kind of the last year is what
is the node ways anyone else heard this
phrase kind of thrown around yeah there
you go um
one person yes it's it's definitely not
like written about like there's anything
really about it at least that I've been
able to find ever but it's this phrase
it's kind of thrown around so I've been
kind of trying to wonder what that is um
give you an example
NPM mentioned in a blog post that uh the
node way is building lots of small
single purpose modules it's a pretty
common kind of way to use but also step
this control flow library mentioned that
it's providing control flow the node way
so a little bit different and then Isaac
wrote some documentation on a package
about how a callback gets called with
error and data as is the node way and
even more cryptically the node way
handed down from the ancient times of
node o dot three this is kind of
tongue-in-cheek because the question was
called node modules as the name of my
die t / our archrival and a forbidden
word in my religion can i configure npm
to not use it and the answer is no but
still even kind of tongue-in-cheek it's
it's being used and i've been trying to
find out really what does this mean what
is the node way it's just kind of
philosophy these guiding principles but
they're kind of kind of unknown and
people just kind of throw around this
this phrase
I think most people understand the broad
strokes of it like small modules over
large monoliths asynchronous code over
blocking code but once you get into the
kind of finer points and ask people to
kind of dig into that it gets a little
more muddled and then I'm was one of the
worst offenders of this I would throw
this phrase around everywhere and I
didn't really know what it meant and
really wasn't until I started working at
box you know I'd worked on projects
before with no died I built a few
applications a few servers I could
definitely I was confident I could test
I could good write code but I'd I would
find myself kind of making these
mistakes and it wasn't until I'd written
this entire file that was like oh
this is terrible
you know callbacks were all over the
place like just I didn't know what I was
doing until it was it was done and it
was done poorly so that's kind of where
I was 2013 when it started a box and we
were starting to look at node for kind
of the next generation of our web app as
a kind of success or to our PHP monolith
and so there's a nice little icon of me
and at the time you know as we're kind
of trying to build out and investigate
what this would look like we started
talking all these kind of really smart
people these really smart teams we went
out to Yahoo and talk to Dave glass on
the guys at PayPal buying crack in
LinkedIn and Adam Crabtree we talked to
all these people and there was kind of
like just sense of like oh these
guys these guys get it like the stuff
that we'd been doing the stuff that I've
been writing like it was it wasn't they
were smarter they just had a better
grasp of what they were doing um kind of
the way that they talked about what they
were working on and the way they wrote
code and the way they talked about that
code it was just kind of like oh they
get it so here was me and here was them
and I was kind of just frustrated that
like I wish think there was a way for
and someone who's not on a team and not
a part of a big company kind of to get
there because it wasn't about being
smarter it was just kind of about having
to grasp with the knot of the language
and the framework greater than just
going through tutorials or you know it
was only trial and error was basically
the only other way to get there that I
could see so over the next year kind of
as I worked I started kind of just
writing about all the cool stuff we did
a box all the stuff that I couldn't find
anywhere else all the problems we were
running into
testing module design patterns but also
like digging in the node and like what
happens when you call require you know
what happens when I load some hacking
node so that you could require an mp3
and get back an actual module would like
play and pause just kind of digging into
like the kind of gnarly parts of it and
yeah and there was nothing really out
there like that but this was like a year
ago and in the last year it's gotten
better but there's still just like
little parts of the same overall puzzle
so in the last three months I've kind of
focus taking a step back and focused on
the greater picture of what is the node
way and kind of what is the overall
philosophy because that scratch my itch
but it didn't really help anyone else
you know little bits and pieces that
doesn't really get you there
so what do we talk about when we said in
node why I kind of broke down this
philosophy there this is these guiding
principles as I came to understand them
into three sections structure async and
community they're about thrifty 15
points and all but I mean I don't have
too much time so I'll just go over the
basic ones structure being that node
really doesn't provide you that much in
terms of structure it really kind of
leaves you on your own which is powerful
but also kind of scary especially as you
start out what is a good module what is
a good file and what is a good
application you know how can you stop
yourself from making easy mistakes async
is the reason most of us really find the
langar the framework why most of us
start using though it is for those kind
of powerful async just ways of doing
things but it's also kind of the
trickiest part of node it's definitely
the thing that I got tripped on the most
when I started and everyone else who
I've kind of brought on board our team
it's easily the most kind of sticking
point as you get started so how do you
not make the same mistakes not end up in
callback hell how do you just do better
and then a community I would bet anyone
a million dollars it is impossible to
write node in a vacuum just impossible
you you need the community you're gonna
find yourself on github on NPM
installing things reading documentation
there's no way around that NPM and the
ecosystem and the community are all part
of node and note is part of that so how
does that influence the framework and
the and the work we do
so um so just a quick overview of each
of these three points um there's a lot
more of it on the website that I've kind
of put up to go through this which I
haven't really shown anyone so I think
this is like me announcing it but all
include yeah it's not ready to be gentle
but um I'll include a link to that at
the end and so let's talk about
structure
like I said node really doesn't give you
much it's basically just you tell node
to run a file and from that you and you
know run a file with one module object
it really don't give you much but from
that you can create these huge or maybe
not huge but powerful applications so so
how do you kind of stop yourself from
shooting yourself in the foot this is
what most people mean when they say the
node the node way or at least one of the
main kind of two things build small
single purpose modules the reasons for
this are many I think one of the biggest
ones one of the things that kind of
struck me the most is that especially
coming from the front end you use jQuery
use underscore use these big libraries
that do everything for you because
that's kind of what you want you want to
add one file and then you're good then
you have everything you need
but with JavaScript and all the
flexibility it provides and node and the
kind of module loading system and an NPM
that entire ecosystem you don't really
you don't really have to do that anymore
you can actually just choose the tools
that you want so in that kind of world
it makes sense to just build these
smaller tools these smaller libraries
helpers and then you're just able to
have so much more freedom around those
you can plug them in take them out
replace them update them all without
having to worry about you know this
entire other library and the rest of the
things that you're doing when you do
that one thing like I can't imagine
replacing jQuery in a front-end codebase
like you would just be nuts but
replacing one small little helper is
super easy um and you know replacing it
is something better upgrading it or
what-have-you
so yeah choose the right tool for the
job definitely don't just spring for
some big thing because you're lazy it
will save you time and it will just make
the community better if you do that
there's a kind of caveat to that kind of
don't just build don't build yeah
there's a caveat to building small
modules which is don't get carried away
it's really easy to kind of take the
to the extreme be like every function is
its own module I'm gonna put it up on
NPM which is awesome I mean all the more
power to you but at the same time are
you really helping yourself are you
helping the community it's very easy to
look at a thousand line JavaScript on
video this is too much let's just move
all these helper functions into helper
zjs and there you go I've cut my file in
half but I would argue that you haven't
actually reduced complexity at all
you've just sharted it more or less
you've moved around all this code and
now as a developer you have to move in
between files to work with them you have
to check helpers j/s and Crocket for
whatever you're trying to find for
whatever bug you're trying to chase so
it really makes it harder on yourself to
do that there if there's a benefit to it
that you see if someone else would like
to use it if you see it being used
within your own code base by all means
please do it but for the most part there
should really be a benefit to doing it
other than just smaller files the
purpose is single purpose is simpler
modules not just smaller files let's
talk about async async is the reason
most of us come to node it's definitely
the reason it was invented or the
biggest purpose was to kind of instead
of this multi-threaded world of you know
a rails server having 20 different open
connections and each one as it waited
was just locked the original problem was
how do we solve that how do we make
something that can be highly concurrent
and can do other things while it's
waiting for database calls API calls and
so that's kind of the selling point
almost but at the same time it's also
it's also very tricky so you have to be
careful you have to leverage i/o
whenever you can that's really how you
get the most power out of node you know
don't write blocking code use callbacks
use whatever you can this is where you
get to kind of squeeze the most out of
node but at the same time you have to
avoid heavy computation whenever
possible let's say on a normal rail
server like the like what I mentioned
before you want to parse this giant JSON
blob or giant blob of text into JSON all
of a sudden on Rails that's easy you
basically one thread is doing that it's
chugging along and all of the threads
are able to handle all the other
requests but with node that's your one
thread and as its doing that it can't
look at anything else it basically can't
handle nuke request coming in and it
can't send new requests old requests out
it's kind of stuck while it's doing that
so kind of the biggest problem you'll
run into the kind of most hidden problem
or most common hidden problem is they
are blocking yourself without even
noticing so avoid that at all at all
times offload heavy work to a background
worker just kind of try to avoid it if
possible and then invest in clean a sink
it's really easy to write bad
asynchronous code through no fault of
your own just through you know you were
in a rush you didn't know what you're
doing some other developer came in and
then all of a sudden your codebase is a
mess it's it's really easy to do that
but you will pay dividends to invest in
actually cleaning up any sort of
callback how a mess you see and the kind
of node
philosophy and the guiding principles
kind of have a few best practices
involved one of them being returned
early in front-end code you'll see a lot
of these kind of nested if-else blocks
and conditionals and well that might
make sense in that world in the world of
kind of callbacks and all this nesting
it really kind of benefits you to try
and make your good as linear as possible
try and get out of these statements when
you know that you're not going to do
anything else this is a pretty trivial
example you know the same number of
lines on both side but you can imagine
with different callbacks being called in
each and different control being passed
to different parts of your application
it really kind of benefits you to have a
very linear way through the code and
also don't be afraid to get help with it
um you know there's a lot of kind of
promises verse callbacks or you know
there's a lot of flame there but really
no matter what you want to get help with
you should especially to get into the
kind of higher-order stuff like how do
you call a bunch of callbacks at once
and then finish up when they're all done
you can get a lot of power out of that
by just using someone else's well-tested
you know well used library instead of
writing your own because those bugs are
hard to track down
so the async helper module really good
at that promises are good that whatever
you want to use use it don't be afraid
to get help and lastly community
community is a huge part of of node the
ecosystem is huge one of the biggest
is it the biggest now yeah wait wait
wait that's all there so it's this huge
kind of ecosystem and then the community
is just so kind of involved with each
other I mean you're all here this is
awesome
so whenever possible leverage the
ecosystem or there's a module for that
there's always a module for that I
guarantee you everything you thought of
there probably exists something someone
has already thought of it they've
written it they're given a name and
hopefully they've even written tests
hopefully big big f but yeah there's
there's no reason that you have to
reinvent the wheel every time especially
with such a big ecosystem that doesn't
mean don't if the the situation calls
for it but try and reach out to maybe
the module owner first see if you can
contribute back to the community what's
already there and make everything better
before going out on your own also read
out modules for others to use I think
it's really easy especially in other
languages again this world oh you're the
only person using this your this is your
team's code and that's it and they all
know this one thing that you've learned
two years ago so no need to document
that but with the ecosystem and was
working with so many other people you
really need to kind of build for the
stranger built for the guy who just
found your your module just on NPM
browsing because that's what people
before you have kind of done that's how
that's why the module you're using is so
kind of well thought-out there's a lot
of just kind of thought put into that
and the ecosystem as a whole so whenever
possible try and write modules for
others to use write your code for others
to read if they need it again it'll only
mean more patches more pull requests
more issues just greater involvement if
you make your code easy to understand
read and use and last embrace the
community like I said it's an amazing
community you guys are all here this is
awesome but also like on github NPM
people are always always talking to each
other talking about stuff the IO Jas
thing is pulling everyone back into node
which is great
just don't be afraid to reach out to
people on Twitter anything really
embrace the community both for your sake
and for everyone's sake you'll really
enjoy it more and yeah most importantly
most importantly enjoy it
thank you and then so that's the link
yeah it's be gentle but um there's a lot
more kind of stuff there that I didn't
go over so yeah check it out
definite let me know what you think</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>