<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>[JSConfEU 2009] Alois Reitbauer: Tracing JS Performance | Coder Coacher - Coaching Coders</title><meta content="[JSConfEU 2009] Alois Reitbauer: Tracing JS Performance - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>[JSConfEU 2009] Alois Reitbauer: Tracing JS Performance</b></h2><h5 class="post__date">2013-06-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/0mm1jCjv8Fw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so I think we just start off maybe
some other people's and more people will
show up but possibly because this is a
presentation on that Internet Explorer
that's not why so many people are
joining anyway I want to give you now an
overview of performance diagnosis in
Internet Explorer as you know there are
tools around for fire for Firefox as
well as for Safari but when it comes to
internet explorer there hasn't been
really a lot of options around still a
lot of people still using internet
explorer and there's the user community
is quite big especially when it come to
Internet applications a lot of people
actually using internet explorer and
there are performance problems in
internet explorer and just go so
everybody can do to solve them and how
to use a free tool and die natur is a
tradition to resolve the performance
problems here so beyond today mentioned
that love and software is about being
sexy and creating an impression and
thinking about that I again looked at
the Internet Explorer logo and realized
something here's some similarity did
this holy angel here but so its inlet
explorer really that's holy is it really
behaving that well well obviously not so
it's a thing the most hated browser out
there but still like trying to create
this image of the Holy Internet Explorer
well as this is not the case the
question is what can we actually do
about it so there are two approaches on
how to solve problems with internet
explorer the first one is doing voodoo
so yes yes in internet explorer voodoo I
can well that might not work that well
but at least you can try ready to solve
the problems or not the other approach
is for the german-speaking ones you can
read it for english-speaking ones
Internet Explorer has to stay outside so
we say okay simply we don't care about
Internet Explorer
skull people better use other browsers
because things are working there better
however reality is just a bit different
a lot of people aside using internet
explorer and we also have to find
problems in there I'll show you that
it's not that complicated as you might
think actually so will you see people
often when they're searching problems
and Internet Explorer especially because
proper tooling is missing that yes like
the guy here who started searching for a
nasty performance problem in his early
20 is now possibly being in his eighties
and still might not having found it's a
lot of years of toiling question the
more information you get the easier it
is for you to find out what their actual
problems might be the faster you are
resolving in those problems and it took
a quote here from a very famous book up
since sue the art of war which says if
you know the enemy and you know yourself
you need not fear the results of the
hundred battles so how often did you run
into either a functional problem or the
performance problem an Internet Explorer
so we're fighting couple a couple of
hundred of those battles the goal here
really should be to get a better
understanding of what's going on in
internet explorer and how you can find
out what's happening there and this is
what my talk will be about showing you
how you can find problems in internet
explorer I put a couple of topics that I
want to address here the first one is
normally you want to get fast overview
what's going on in your web application
just don't you don't want to initially
drilling through those details but
initially you want to get it faster will
be what's going on this application from
a networking perspective from a
JavaScript perspective also from a
rendering compass package is just you
can understand where is my problem
actually just what a javascript problem
network problem rendering problem
whatsoever so before going into the
details of resolving a problem you want
to know what it actually yes then one
part of that is understanding the flow
of time so what has
and over time when was something
downloaded from the network when was
some JavaScript execution how did this
JavaScript execution lead rendering two
additional network downloads and I like
to really get it fast over we would
happen to an application especially if
you think about really rich Internet
applications taking Google Mail here's
an example there's a lot of going on
constantly and no just want to have some
understanding with what's happening in
there what might have caused a problem
next one is the network one of the
low-hanging fruits and performance
optimizations for rap application so
what's going on in the network layer
what has been downloaded how long has
things taken to download have things
been cached or haven't they been cached
how much time has been spat on the
network on the server time for dns
lookups and the life that you want to
know okay if some javascript has been
executed or some event has been fired
what has actually been executed and you
want to get the whole loan that kind of
aggregated view just for one specific if
an event what did this actually lead to
and the browser that's what we refer to
pure pass will be providing a
transactional tray so for every single
click instead of that was aggregated
values that if you have a couple of
hundred user interface interactions you
don't have any idea which really what's
really going on in the browser here one
thing that's very often coming to coming
when you talk about browsers and
performance and what we heard a lot
after we initially released our diners
with aging seditionist tell us more
about rendering surrendering is crucial
to us we want to understand rendering
times we want to find out in detail how
rendering in the browser works what
effects rendering why something render
it what does it take so long what's
really going on there next one is
collaboration so very often you're not
working alone it's good as long as
you're me developer workspace but
someday your users or testers might come
back and say you know it's simply not
working so you can ask them okay what
did you do and then you go to the
page yourself try to do it yourself
which works quite fine if it's publicly
available don't need us the details of
those users but it's not and as soon as
it's a real world web application you
know it's private content and the like
you won't get all this information you'd
rather have the use of actually being
able to show you what he's actually done
and you being able to analyze the data
on hand additionally you what don't want
to go over to that user and say okay now
I'm just starting your browser with my
debugging tools in and type what you
just did I mean that's simply not the
way it is actually working so do you
rather want to capture that content so
you can capture it send it back to me so
that I can have a look at it and finally
able to become a bit too to testing so
how you can use use it for testing
purposes how you can integrate
performance analysis into testing and
find out what's going on and testing you
also show a short sample here so to show
you a bit how you could work on all
those topics I'll use a really complex
web site I think probably one of the
most complex HX website out there which
is the start page of Google ok it's at a
complex one but I've chosen it because
it has some JavaScript inside it has
some matrix going on on the page so if
you type in the keyword you will see
that you get these quick results and
I've chosen this example simply because
it actually shows you how you can use
the tool instead of having a very
complex example where a lot of
JavaScript is going on so if I were to
choose facebook to show you the same
thing first of all you could get all my
facebook messages that I don't want and
secondly the application is much more
complex to that it will hide a bit of
day the process behind it rather than
we're looking at what's going on the
application so just jump into diner who
is a tradition that I just launched here
so what I'm just doing is really
something very easy to do I'm just going
to
the google web page okay I'm over there
fine I'm doing now I'm just typing here
and what you see here it's just
refreshing this list and this is
obviously getting loaded from the server
dynamically at runtime so there's a
matrix going on so nothing really
spectacular but still enough for us to
see something going on what's going on
the web page okay so aside the first
thing that we want to see that we want
to get a fast overview work what's going
on well it's quite easy if you look at
one page but still what we've looked at
is so what do you really want to see
going on in the browser when something
happened so what do you want to
understand first of all here we had our
URL and there are a couple of typical
things you look at from a performance
perspective when looking at the website
and we try to some more aggregate all
this information in one page so that you
can get an inch lower viewed
understandably so where could my problem
be like here we resources so answering
basic questions how many resources has
been loaded over the network and how
many of these horses has been loaded
from the cash so we just hit the page
twice it just can look at those two
pages and say okay do we get all the
condom from the cash that we want to get
kept on the cash or now so as we see
here all images obviously come from the
cash part of the javascript is coming
from the cash as well just the HTML and
other portions of javascript and not
coming from their glory from networking
and not coming from the cash especially
for validating your caching strategy
this is quite used for the CEO exam then
from a networking perspective where you
actually want to understand is whether
you will spend your time on
so there are a lot of different points
on a network where can spend it here for
dns lookup for initial connect with the
time on the server or a transport onto
the time that is really used for sending
back the counters because if something
just takes long you don't necessarily
need why it's actually taking along so
it's the server taking so long to
produce the content is in slow network
or as we've also very often seen is it
possibly a DNS lookup that's just taking
that long of time and additionally what
we didn't have here because the website
was actually quite simple other
questions to answer like okay how long
did you actually have to wait until some
resource could be downloaded so as all
if you know browsers have a limited
number of connections that they can open
/ to main too long actually did it took
for two down if you buy it for a certain
resource secondly what kind of
JavaScript trigger there so where's most
of my JavaScript I'm coming from is it
coming from script blocks keyboard
events are the sources and additionally
which job portions of JavaScript consume
most of the time on my website so which
in which we call it here api's seed
libraries with a couple of different
JavaScript libraries it will ck in which
of those libraries did you spend most of
your time here just to see a bit more
content I'll just oops sorry come back
here and I'll let it load so obviously
it is a bit slow I just refresh it here
in real time and we will see the same
here for the next week west so we see
that again javascript is not coming from
the cash wherever image he isn't HTML is
now coming from
from the fraternity from network and
from networking perspective physically
spent actually most time on the server
and I do a lot of networking time here
the second part is that they understand
the flow of time so what did really
happen over time what do we have to
actually have to do hear something that
you will want to see is what will he
have what did you really do what is it
will it take maybe to take a bit more
complex website let's take that actually
it's quite fast as well taking one other
it just happened okay that takes a bit
longer okay going back here
so what we simply summer pier is the
time spanned from a cpu perspective
javascript so when with javascript
executed when did we render something in
this case from which domains have things
been downloaded and additionally we see
an event timeline here so we see all
major events like unload events it has
been treated say or longer taken tindie
a lot event and what was done after the
unload event so we see here that than
just something get downloaded some
rendering occurred rendering was
scheduled again and again some rendering
and some JavaScript execution right in
here so especially if you're running
longer death and you won't understand
what's going on it's really helps you to
get it first quite nice overview what's
really going on in the web page cuk hard
what has really been done over time in
those different performance relevant
areas of your application the same for
sure your guts whatever one wants to see
what it happened on the networking
layers that's also over time so just use
this page for one specific reason okay
because we see here breakdown of all the
pages have been downloaded how big it
was where it was retrieved from the
cache or not status codes and alike and
also all the content in here and here
also the split up in a different times
of time so here we see the wait time to
that's one of the examples were actually
have to wait to get it socket so there
is already parallel down that what's
going on on that page how much time was
wait time connect times over time
transfer time so we'll chance to see how
those different timing sum up to the
download of a specific web page as well
as we've seen all the request and
response headers that you see out there
so classical network analysis that you
see here what was going on from that
prosper
if finding out where the actual problems
in a specific page might be helping you
to understand to understand that and
what has words but what's going on in
there and you can also specifically sigh
just want to pick one of those resources
just a specific page and see what heart
download wasn't also here a timing chart
you'll see what the actual time has been
spent on like here we have this big blue
part if you look at that blue is
actually the transfer time so it took
some time to transfer here we mostly
were waiting for that if connections so
it helps you to get a quick I understand
what's actually going on the web page
download as well as seeing the actual
accountant additional is if you have now
identified our page we want to find out
what what was actually going on here
like in the Google page that's why I'm
coming now to what we call this tracing
analysis so what we show here is a
really old types of activities that were
happening on the specific page you can
choose which ones you actually want to
see so network activities rendering
activities and the likes you see here
really what what's happening at Google
we see here script execution as well as
you see the code browser down here you
see also the code parts which would have
been executed so it's actually execute
this is just kind of sweating mechanism
in here just as times at the sequently
triggered validating that field and like
and here again rendering activities and
also rendering being scheduled here like
taking this example here
okay seeing what's going on here and
especially as a rendering while but
actually caused rendering to happen so
we see it atrophy layered calculation
and also scheduling of layout in here so
that's actually quite deep inside her
rendering in the browser works because
where you ask me just see that you did
something and sometimes it takes long
for the page to be rendered again but
what have you actually done in your call
that cost that ran the ring in the
browser it had to happen or just your
browser Lee should CPU going up so here
you really see for example that we have
here a rendering layo task so really
following what the browser is doing so
how rendering here in the Internet
Explorer is for example working it just
takes specific component numbers them
like you see scheduling layer to just
say if you have a certain JavaScript
mastered just lay outing is just
scheduling and it's picked out add a
certain layer later time out of the
queue and then we rendered and you can
correlate those the actually rendering
activities due to the JavaScript code
that actually curl cost at random
because it might have happened seconds
before that you're just creating a lot
of events it for sample setting all the
CSS Styles creating all the winner
rendering activities on certain elements
and then you can also jump to care where
has it actually then been rendered or
here going back what this has actually
caused the rendering here as well as
really looking at different executions
like here we have a script execution
what will he was going on in the script
so here we see a variable being set in
asynchronous execution do Willie can
follow those asynchronous xq executions
over time and see what's going on we're
even flexible enough to just bit small
here capture all the arguments for
example freedoms that time out to see
what the time would actually was it has
been said here or what has been executed
so you will also get all those details
out of you too what were the parameters
methods were invoked in so very often
I've seen that when people started to
debug kind of thing
problems I don't immediately start off
debugging and say okay now and with
stabbing through all of the steps
because first you want to understand
what you actually have to be back so
just recently worked with one of our
users and they said well just what i'm
doing i'm selecting something in this
drop-down field and i'm jumping to the
next control and then certainly the
select field gets refreshed and what's
really going on first did before really
going into real debugging with debugging
tools just really looking what was going
on in the page and when this control
actually was accessed by which code and
finding out what actually triggered that
access of the component at the end we
found out that it was a very would say
nasty bugs it just funny God into that
text field it validated the content of
the text but it was it at type a typing
text field at help for the selection of
the Select box is realized oh I'm empty
so I'm selecting the 0 and it's really
fun debugging those things so what I
really get here is equally what's going
on over here and especially when you
have like me here we have our key
appearance on specific controls like in
this case the LST object which is the
only one in Google I can also say here
I'm just show me the LST stuff now
filter variable other controls and it
just see my keyboard events here for
example for that specific controls
that's for typing in here and to take
into the keyboard he will see a
scheduled rendering then so that's what
happening when he actually typed when it
will leave the key in the Google search
just rendering here and it's not
immediately updating it but it's setting
a timer so after some time executing
JavaScript and a JavaScript execution it
really is updating it field that's been
actually done by setting a specific Rick
script i can download
sometimes however just wondering at what
actually took the most time on my
webpage so checking and a google page
here in this case it was the one drawing
for sure and as well as this layering
task so what I then came d was a kid
what actually tweak its layout in tasks
I just can't kind of backtrack back
trace the ones that have happened here
like we see here okay what has triggered
this week calculations delay or decay
there was some rendering going on before
that which in JavaScript execution you
can't really walk back and also see the
code down here that is actually
triggered those dismantling and
californica where we've spent most of
her execution time and also how off and
half things actually been invoked here
on a certain web page so i can just sort
here and become we see that here we had
637 recalculations schedules for we had
leading light LED a layer of the
specific element here having the
possibility to drag back which call code
actually cost that layout thing to
happen it was just telling me before the
other things actually work how does
those things are going on here to do all
the way I do the real layout things that
really helps you to get an understanding
of its really going on in the pages from
actually quite different perspectives
and it's quite easy and straightforward
to resolve those problems so well that's
quite nice if you do it on your own
development machine if you're working on
your development machine but what
actually happens now if you want to send
this over to a colleague so what do you
do now so you know at the developer you
just realize that something
Kings are you getting back to people
that turn onto another develop to take
care of it what we've done here is we
simply side as soon as you close the
browser one other word now we see that
our session automatically gets stored
and which is can export it to a file and
make it available to other people just
sending it to them wire email so instead
of explaining to them what you actually
did on that page it would actually
happen you signing over right over it's
all this information and as you've seen
with all the function parameters are
things were called and then it can use
it to really analyze what's going on sir
it's especially helpful if you have your
end-users working with the back page and
telling you every clicking around the
baton has been slow cool now I know what
willing to look at ya so you see it just
started three if they'd see what's going
on there and then just send it over to
us and then a developer can analyze it
and have a look at the data that's
pretty much how you do the analysis here
on let's say and when you really have a
problem or would you want to investigate
what's going on in the page find out
what what's really happening here
another use case that we've seen is what
are you doing automated testing so you
have your water scribd you know if or
selenium scripts they do some functional
testing for you or do some automated
testing for you how can you collect this
kind of data they are able to might have
to read deep like it and see what's
going on especially if you're doing
testing and multiple browsers on
different platforms you want to like in
this case multiply Everson's you want to
see what's going on as I want to
automate the whole process what's what's
going on here
and therefore prepared a small sample
for you this case it's a water script so
what we're doing simply here which is
saying that we want to actually trace
for the specific water invocation and
additionally we have the possibility to
set specific marks in the code so see
okay this is what we were doing at that
point because especially if you're
running a longer test it might run for
10 minutes or so at some point
completely lose track what has happened
in the application now okay so you had
there was a problem in the past with if
you have when we updated feel XY sad
looking this up in its way Swilley can
get a real nightmare because when was
this happening it has good well he could
work with timelines but at the end it's
not really working well so you hear of
possibility to add additionally some
marks in here in the code so this was
I'm just loading the window here that
there was after loading the window then
typing here is ringing again and he
google it was after typing the string
and he'll click Submit and this was
after hitting the search then SEK what
kind of the page were really at what
kind of time so I'm just like executing
this now
so we see what we see in the background
it launches an Internet Explorer it's
going to the google page it's typing in
right ear here and at the same time we
start to record all events here
and if now have a look at the code oops
we get also our nice Marcus here because
of how long specific actions have been
taken say here is the UK that was after
loading the page so that's all the
loading stuff off the page that was all
the keyboard typing here without still
keyboard typing and that was as was
after typing the search string in here
and okay in case of submission just
realized that I was the other problem
submitting that page because there was
something changed they could be website
but nevertheless you see you cannot
attract those events especially in
script which makes it easier than if you
run into a certain problem to see what's
going on while also seeing what has been
going on before that time and
automatically stores this information
for you and after your ugly test runs
you automatically have available Otis
information for your diagnosis purposes
so whether you really want to go into
kind of a performance diagnosis approach
or its kind of post-mortem functional
debugging of your application the good
thing is it runs fully automated you
don't have to care about it and you just
get the results after your action test
ones so it was kind of a quick tour
through diner to raise HX edition I
think we could give you some overview
what what it can do for you if you
really want to find problems in the
Internet Explorer where the performance
related or functionally related those
who have been hunting down problems in
Internet Explorer probably know that
it's not that easy set a tool is
completely free so you can download it
and use it as you like just go to a
website and have look at it so we're
currently in version oh that's really
somebody I've seen as the orders we
version of our for a tool here we have
always been using it in a couple of
real-world examples and real-world
websites and we were quite
also other people like their tools if
you don't believe us for example Steve
Soros has already used the tool and I
was blocked about it he's also round you
can ask him have you seen the good two
of those guys you like it if you don't
trust us you might resume and more than
us a lot of photos I've tried it as well
we don't want to mention the website
that said okay just have a look at us
because we have some performance
problems you know that's not so good for
them yeah but this version of all rights
we are constantly evolving the tool
adding new functionalities if you go to
the website as a forum you can post
commands questions and get in touch with
us the zebra version order three at the
moment but we rock so we always have
solved couple of real-world problems
with the tool people find it useful
covers quite a broad range of things
that you wanted you and web performance
analysis that's actually the feedback we
got if you're using Internet Explorer
already asked you check it out give it a
try when you are into problems see what
if you can find yes you can download it
from a check the diner twitter com is to
form their old information contact
details for us as well so you can easily
get in touch with us and find out what
the tool can do for you as well you can
get in touch with me so i dub I email
we're a block or wire Twitter so I'm one
of the guys being responsible for
pushing a sixth edition forwards here
give feedback try it out and see what he
can do for you any questions yeah
yes 678
yes and other platforms are on a road
map but initially we have chosen to
support internet explorer because we've
seen their first of all most of the
problems coming up and especially for a
bigger enterprise applications most of
them running in Internet Explorer
secondly there's no retooling for
internet explorer I know most developers
like to use Safari and like to use
Firefox so we're planning to support
those platforms as well but for the
moment we focused on IE but it is on our
roadmap to support other platforms as
well as a tool
you will have to have them installed
because what we are just doing we're
just actually putting an Asian as a
plug-in into the browser and just see
what the browser is actually doing so
it's not kind of a browser emulation
thing or whatever it's really
intercepting what the browser is fully
doing and then you can't ask them and
using those process but as soon as you
have it install it will work in all of
those web browsers
and your questions</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>