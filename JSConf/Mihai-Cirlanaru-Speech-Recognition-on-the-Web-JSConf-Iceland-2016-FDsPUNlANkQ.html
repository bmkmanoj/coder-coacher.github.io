<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Mihai Cîrlănaru: Speech Recognition on the Web - JSConf Iceland 2016 | Coder Coacher - Coaching Coders</title><meta content="Mihai Cîrlănaru: Speech Recognition on the Web - JSConf Iceland 2016 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Mihai Cîrlănaru: Speech Recognition on the Web - JSConf Iceland 2016</b></h2><h5 class="post__date">2016-09-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/FDsPUNlANkQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">thank you very much for having me here
and I hope people are not yet sleepy so
just to make sure we'll do another
exercise can I have everyone raising
your left hands and now both hands and
stay there for a second i promised my
mom awesome thank you guys so thanks so
much for having me here it's amazing
Iceland Reykjavik it's beautiful and
it's also quite awesome to be surrounded
by so many JavaScript enthusiasts eager
to learn and share their experiences for
the next half an hour hopefully less
I'll be quick to not keep you longer
here I'll be talking to you about the
topic I'm very passionate about speech
recognition and most excitingly of all
I'll show you how you can empower web
applications with voice triggered
interactions first off let me just tell
you a bit about myself one second so I
work for sports technology company
called huddle which builds analytics
tools for Cote coaches and athletes at
all level to help them win and second
have a technical difficulty here
just my spit always happens speaker
notes going on so going back I want to
tell you a short story so I've been
playing around with speech recognition
for about four years when I was studying
it for my master's degree and I was
quite intrigued by how hard of a problem
this is just imagine all the various
factors like accent pronunciation
articulation roughness masala tea pitch
volume and speed that influences how it
performs in practice speech looks a lot
like this it's continuous sound wave
whose amplitude varies based on the
sounds involve the speech recognition
process typically goes through the
following steps first is pleased the
sound wave by silences into what are
called utterances it's basically words
or other non linguistic sounds then each
utterance is split split in frames and
for each frame we have something that's
called a feature vector which is
basically a sort of number representing
distinguishable properties of that sound
and once we have all these things we
employ a classifier that takes a series
of models to identify and do the
matching process based on them those
properties and figure out what the
speech is about so just a quick brief
overview have an acoustic model that
contains coup stick properties for
distinct units of sound a phonetic
dictionary with maps the words to their
respective phonemes as they're called
these units of sounds that constitute
words and the language model that allows
to make the search space easier based on
already recognized where
to be able to find the relevant ones
based on probability quicker and the
speech if you wonder it is actually
hello world just in case you're
wondering in practice speech recognizers
are assessed based on two things
accuracy and speed for accuracy it's the
word error rate which looks at the ratio
between the insertions substitutions and
deletions over the total number of words
in the reference feet and you can see
quickly in an example there what that
means and speed is the real time factor
the decoding time over the speech time
so now just to make sure I didn't lose
you can we do that exercise again so
everyone left hand quickly right hand
and wait a bit awesome perfect so let's
see some use cases so probably a lot of
you are familiar and you might already
use personal assistant apps like Siri
and in practice speech recognition
engines like the one that powers empower
Siri are of two types the ones that are
speaker independent so basically
regardless of the speaker so all the
things like pronunciation accent they
don't matter they're supposed to
recognize their speech and speaker
dependent which basically it involves an
extra training step for a particular
speaker where they need to read some
predefined template sentences to
fine-tune the recognition process and
increase the accuracy and just to
continue on with my story earlier
towards the end of my studies I had a
great opportunity to put in practice
what I learned about speech recognition
in the research team at Mozilla and the
project was to build a speech
recognition engine for Firefox OS and
for those of you who are not familiar
with Firefox OS does the mobile
operating system at
missoula built and they're heavily
developing it that's based on web
technologies so being a research project
for focus was more on exploring what's
even possible in terms of speech
recognition on the web mainly using
javascript rather than having something
solid solid production ready so during
my time there I've built a pure
JavaScript speech recognizer that
performs the speech recognition process
on the client without the need of any
cloud-based solution that where you just
send the speech and it you get the
results back and I would show you a
quick demo of that feel free to ignore
all the details there they're not very
relevant for the scope of this talk so
the idea is I'll show you an example for
recognizing digits which is made
possible given four digits the models
the language model phonetic dictionary
and acoustic model are quite small and
can be easily loaded on the client so
let's try out some numbers three two one
here you go and as you can see in the
console it basically shows you the
result it also shows it on the page and
some performance I was talking about
real time factor here you can see 0.0 82
basically a real factor of 1 means the
decoding happens in real time it takes
the same time as it took for the speech
and for this example you also see three
different solutions which are one
different than the other that's
basically in the process of recognizing
speech it takes different probabilities
and you see some various kors there
which might not make much sense but it
ranks the possible outcomes and in this
case as I chose here the what's called
an best hypothesis I chose free so I got
the top free awesome
going back to the this project that I
built if you are interested to know how
it works and all these kind of details
feel free to fly me after the stock or
ping me on Twitter or the J's comp slack
and little did I know around the same
time I was researching this and building
that speech recognizer at Mozilla a team
for from google were writing up a spec
for what they call the web speech API is
basically defining JavaScript API is
that would allow developers to
incorporate speech recognition into
their web pages and about a year later
in 2013 these were supported
experimentally in chrome version 25 and
these were building up on top of a
feature that chrome released from
version 11 which was to have speech
input with this attribute called X
WebKit speech for input fields to allow
to users to use the voice to input data
into forms and now let's see how these
api is looking practice you first need
to instantiate the speech recognition
object and since the api's are still
experimental they do need a browser
prefix for chrome not for firefox though
some of the most relevant configuration
attributes for speech recognition are
the language one which allows you to set
the language that will be recognized and
chrome google supports 32 of them
including icelandic as i found out an
attribute that allows you to specify if
you are interested in interim results so
as the speech
goes on you get results up might liver
also the continuous if the speech should
be listening continuously and finally
the max alternatives which is something
similar to what I showed you with the
end best hypothesis and there are a few
event handlers provided for the speech
recognition in their face and I would
recommend you check the full API at that
link there however the minimum needed to
get you started our own result which
gets called whenever you have a speech
recognition result on no match when no
match was found for the current speech
and one error when an error look for in
terms of controlling the recognizer have
a pretty self-explanatory API start and
stop and before we wrap things up I just
want to show you how the speech
recognition result format looks like so
this is basically the event that comes
into the own result event handler and it
has a few properties is final which says
if does the final result that the
recognizer has the high confidence about
the index in the result so that the
speech has multiple results and then an
array of speech recognition results
which contain again various properties
but the one you're interested in is the
transcript which tells you what it
actually recognized those who has one
that says the confidence which gives you
confidence score so this seems quite
straightforward and did anyone notice
anything and I guess you probably
already see as a spoiler on the
for the past few slides I was actually
not clicking anything to switch between
them i was using speech recognition to
talk about speech recognition and let me
just reset this so that you see it
happening live so as i was saying come
on you can do it as I was saying I was
using speech recognition to talk about
speech recognition and how meta is that
right it's quite cool and you can see as
a type well it likes to make jokes as I
talk as well so the grayed out text is
what I was mentioning earlier the
interim results and now we detected a
keyword and it decided to go crazy on me
so the grayed out text was the interim
results and start out again perfect here
you go and when it becomes wide that
becomes the final result exactly you
know it best so you might be wondering
can I use this now is where is it behind
those like crazy browser flags and that
no user will know how to turn on when
they're using your application and
unfortunately the support is not that
great it's only chrome and opera that's
poured it out of the box
and Firefox with the special web speech
recognition flag and as far as I know
Microsoft is working on adding support
for that and that might be unfortunate
but as we all know with web api's takes
a while until they become the norm and
all the browsers implement them and on
that note I hope you will use this
knowledge to build very exciting apps so
thank you very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>