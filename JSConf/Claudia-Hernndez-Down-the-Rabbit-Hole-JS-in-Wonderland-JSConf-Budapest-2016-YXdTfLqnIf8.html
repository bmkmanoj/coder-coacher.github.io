<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Claudia Hernández: Down the Rabbit Hole: JS in Wonderland - JSConf Budapest 2016 | Coder Coacher - Coaching Coders</title><meta content="Claudia Hernández: Down the Rabbit Hole: JS in Wonderland - JSConf Budapest 2016 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Claudia Hernández: Down the Rabbit Hole: JS in Wonderland - JSConf Budapest 2016</b></h2><h5 class="post__date">2016-06-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/YXdTfLqnIf8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">first of all thank you very much for
having me here today I'm so excited to
be in Buda this is my first time and I'm
loving the city I don't want to ever
live here but um Who am I who is this
random girl here in stage uh my name is
Claire my missus I said before and I am
a Mexican front-end developer in a
digital agency in Paris and if you have
any questions comments or complaints or
perhaps you want to see my awesome
pictures of Budapest you can now find me
on twitter as Kosti for because for the
following half an hour I'm actually
going to be your own personal wardrobe
and I'm going to be showing you a
collection of oddities and unexpected
behaviors that I hope that are gonna
surely make you mine strip but first of
all just a little bit of a disclaimer
because I love these flavors
um I ain't no expert but I'm a highly
clearest person and I just need to know
how things work so today I'm gonna share
with you some of my personal discoveries
in hopes that it will help you as well
um discover some of clear up some of the
weirdness JavaScript caches that you may
encounter integers are individual asset
a script developer so what I'm gonna
show you next is actual unseen footage
of Brendan Eich mountain for creating or
at least it's how I picture him a
imagine in JavaScript but of course I'm
just kidding I don't when I getting shot
with mister like um what hold up am I
really kidding
javascript is the kind of language where
nothing is what it is cuz everything is
what it isn't and um contrariwise what
is it's not you know what it's not yes
you see oh no a person just trying to
myself with you guys before I even begin
talking but um in all seriousness if
you're curious about the previous
examples
they're just either the result of
inconsistencies with floating point math
that okay to be quite a fair it's not
only an issue in JavaScript but also you
know their own languages that uses
floating-point numbers they're also the
result of either the way JavaScript
interprets okto integers and
so knowing the fact of the difference
between reference and primitive types so
you know the thing is that javascript is
awesome that's why we're all here
because we love JavaScript well then
that javascript is really easy to learn
but it's even harder to learn completely
so once I fit this we're gonna enter the
first part of our journey to wander line
Anna our first stop is man if you can
get all three laughing so man literally
stands for not a number however a type
of man is a number so um JavaScript
please get your trip together it's like
you know in really simplistic terms
nanny's use the return value of a
mathematical operation that fail and if
you try to perform an operation without
both operands being numbers are you will
get man in the same fashion if you try
to perform an operation without without
with numbers that are not defined such
as dividing 0 by 0 or the or getting the
square the square root of a negative
number you will as well get man so you
know what man is actually trying to tell
us is like hey I try to perform this
mathematical operation what I spell so
here this fail number instead so yeah
you know the problem with nan is that
perhaps the label name is a little bit
misleading maybe it would be easier to
think of it as our own fail number
invalid number back numbered I'm
thinking of it as not a number because
bottom line nan is still a numeric type
however it represents a value that could
not represent a valid number so you know
it's a script ezpz mathematical
operations cannot crash or cause errors
they just give you nan so what if we
wanted to know if a batter is not or not
this was your first guess oh let me tell
you something guys nan is not equal
greater than or less than anything
including itself and you have you
already know this but do you know why a
man is not equal to man
so to give you a little bit of context
nan is actually part of the I Triple E
754 a floating point standard that to
keep things short he finds that there
are 16 million 777
214 different different floating-point
values as man so what does this mean
this means that there are so many
different kind of man's that it's highly
unlikely that one man is equal to
another now so yes indeed none is not
equal to none and at this point I guess
we can all say that man stands for not a
not a number if we actually want to know
if a value is man we can use the - the
built-in function if man let's talk
about now so type of know is object what
we all know that no is a primitive the
value and therefore type of no should be
no but you know interpret things are
never what they seem and unfortunately
this is a well-known mistake it's even
written on the Indian dogs everyone
knows about it but then is that this is
a mistake in a specification due to
historical reasons involving the way
reference types were implemented in the
first version of JavaScript and in words
of Rendon I unfortunately this is about
that cannot be fixed because it will
just break too many sites so what would
happen in this case if rabbit is no yeah
we will get an error and one of the main
takeaways of this talk that I want to
give you is that um you have to be aware
of these kind of errors there are a lot
of things going on in JavaScript and you
we just have to realize that these
things can happen
so yeah the good news is that we can
always make some corrections in our code
add extra validations in order to make
sure that we never fell into these
errors so now let's talk about sorting
arrays that seems like a little bit more
fun so what can we expect from a
function that it's all sort
I get definitely not this outcome
because normally in planet Earth for
comes before 25 and 33 no right but not
in JavaScript so what's actually
happening here the thing is that the
elements to be sorted they are
transforming two strings and then they
are comparing lexicographical order you
know what is this lexicographical order
I'm talking about basically it is the
same way you will look through a word or
a know you will
for a word in a dictionary or in a
telephone book so let's see like in
alphabetical order so in this example
yeah the first one is really easy blue
will come before before read it slow no
brainer but in the second a case since
there are numbers and they're being
converted to strings ad will come before
nine due to their Unicode code point
value and what is this unicode code
value basically it's just the ID of any
Unicode character so in similar terms
let's just say that 80 is
lexicographically less than nine so it
starts to make a little bit more sense
if you want to get the coke invaluable
character you can use JavaScript a
function called pointer so going back to
our example in this case we now
understand that yeah yes you need four
is lexicographically greater than 25 and
33 but this was not the outcome that we
were expecting on the first place and
what we're missing here is that actually
the store function can take a compare
function as a parameter and if I compare
function e supply even that a and B are
the elements to be compared if a is less
than B you will return minus 1 and a
will come before B if a is greater than
B you will return 1 and B will come
before a unique a and B are the same
they will turn 0 and no changes will be
made and if you are as furious as I am
you might be wondering like what is the
actual algorithm used by the sort
function to make the actual sorting and
when I was doing some research I
realized that Firefox for example it
uses the merge sort algorithm and I
think the WebKit browsers use some
variation of the quicksort algorithm
just fun fact so going back to our
previous example we can simplify our
compare function by just subtracting B
from a because it would also give us a
valid comparison value and we can
finally arrived our expected result
which was an array sorted in numerical
order
Anna now let's talk about the mysterious
still the operator so how many of you
guys know what this operator actually
does ok so not so many um I wasn't asked
next like who has used it on other
programs what's seen that you were not
much how many of you guys actually knew
the name of this operator because I
always okay because I always will say
like
away the operator but it's a click old
TV anyway so I'm gonna give you a few
seconds just to see the code and try to
understand what's going on here do you
see any pattern
can you guess so the thing is that
actually the till the operator is doing
just this small algorithm where n is the
the number next to the to the right of
the operator
so um unless you're actually using that
a specific algorithm in your application
what else could it be good for so
actually be pretty cool for functions
returning minus 1 and let me remember
one like index of and index of function
returns minus 1 when I give an element
is not found in a given array so let's
all consider this this small array over
here which is the guest list for the tea
party that we're gonna have a little bit
later and you know we can see if an
element is in that area or not by just
check doing any of this comparison we
can check if the if the result of index
off is equal to minus 1 but all of this
can actually be simplified by using that
tilde operator and in this case
basically what the tilde operator is
just taking the result of the index of
function and it's converting it into a
false is 0 and any other value will be
automatically true
so in simpler terms we can say that the
tilde operator is just transforming the
result of the index of function into an
appropriate boolean value that we can
use in our comparison and you know there
is some discussion store this because
there are people that think that this
can lead to a cleaner code because
instead of just writing all those
Messier comparisons we can simplify and
use these and there are other people
that don't think this is clear enough
because imagine for someone that has no
idea what the operate this operator does
it's quite confusing just seen these so
I don't know I'm just showing you what
the possibilities it's up to you
depending on the project that you're
working on it's up to you to decide
depending on your so either way it's
it's a cool trick let's say and now
let's talk about for loops because they
can be also really really interesting
and when I was reading a JavaScript book
I came across this really weird looking
for loop and you know after doing some
research I realized that people coming
from a seed background didn't found this
for loop as we decided but you know as
I'm the courier person I am I just
needed to know how it works
so now I'm gonna bring you back to your
programming 101 course you know back in
the day when you were learning about
programming so excited to code and
you're let me have a variables and loops
and everything and I'm just gonna remind
you about something really basic for for
loops have three parts they have a
initialization for a condition for in an
iteration part so what I actually didn't
know is that all of them are optional so
we can escape the first world because
yeah we can basically just declare the
variables outside the for loop we can
escape the second part and the condition
part is missing it actually ultimately
access true or even we can escape the
third part anyway skip the third in this
particular example the condition part is
act innocent at the same time as
iteration part or we can even skip
everything as I show you in the
beginning and basically the middle part
is acting as true and basically this is
the same thing as a while true so this
is just like an infinite or endless loop
so a miss resolved and now let's talk
about on define so we don't know that
only fine is just a variable that has
been declared but at the moment holds
not by oles so this piece of code
shouldn't comment shocking for anybody I
hope the thing is that only fine is part
of the global object so what would
happen if we actually try defining on be
fine so actually the outcome of this of
this code really depends on the work of
the browser that you are using so for
all the browsers you can actually
redefine only fine but in modern
browsers discuss already been fixed and
yeah I get it well it's becoming less
and less of a problem if you're actually
giving support to older browsers you
have to defend yourself against the
possibility of other code redefining
you're only fine because the thing is
that javascript rarely runs in isolation
it often Browns mix with code from
third-party libraries and we have to be
aware as I told you with right we have
to be aware of these things and actually
have
a ninja's try to defend ourselves and
you know these doesn't entirely prevent
us from overriding only fine because as
strange as it might sound
only fine is not a reserved word in
JavaScript meaning that you can actually
use it as a variable as well so just a
little bit of a recap what have we
learned so far not a number it's a
number null is an object the sort
function sorts lexicographically by
default the tilde operator can be pretty
useful with function return n minus 1
and all parts are in a for loop are
optional and only fine can be defined
sometimes am i boring you guys exciting
hold up because the man JavaScript party
is just about to begin and just a little
bit of a disclaimer disclaimer because I
told you that I love disclaimers um the
following content is designed to
challenge enemies programmers not make
to be suitable for practical use and now
I'm gonna talk about non alphanumeric
JavaScript and what is this not as fun
America nonsense I'm gonna get into that
in a minute so before that this just all
remember a really key characteristic of
JavaScript so javascript is a non type
language which means that you don't have
to specify the king of data that a
variable will hold when you're declaring
so it's really up to the interpreter to
determine this and when we meet slaves
we can obtain in bulk implicit
conversions that can lead to really
crazy results so what I'm gonna show you
next is how to write valid JavaScript
using only square brackets parenthesis
the curly brackets the plan separator
and exclamation point I surrounded crazy
these actually wards you can test it out
right away in your developer tools keys
it's it's part of a JavaScript magic but
I'm gonna start grading easy don't worry
ah in this first example of what we're
trying to do is we're negating an empty
array so we're first in JavaScript to
treat that empty array as a boolean so
if you're familiar with the concept of
truthy and falsy values you will know
that an empty array is a truth value so
negating a truth value of give us of
it's in a second sample is more easy so
we're just negating a force and we're
getting through so from two ampoules
it's really easy to get to zero and one
because we're just converting true and
false to serum one using that unary plus
operator and this is not the same
operator we normally use for
concatenating strings the actual usage
of the unary operator is to convert
things into numbers so now that we have
one in and zero and one we have a base
to create any other number so you can
picture that that's just adding one plus
one plus one plus one plus one easy you
can convert things into strings by just
adding an empty array because empty
array are coarse to string this also
works for four numbers and what would
happen if you actually wanted to convert
like bigger numbers into this weird non
of an America's stuff that I'm saying
um well instead of adding one plus one
plus one until infinity obviously nobody
has time to do that we can basically
just transform every single digit of the
number into string then concatenate the
whole string and convert the whole thing
back into a number using the unary plus
operator as I shown you before so that's
what a hundred and twenty-three looks
like in non alphanumeric JavaScript and
you can test it on right away and it
works your console will actually print
out a hundred twenty-three so we can get
more stuff using this weird technique we
can get on defined by trying to access
and a non-existent element in an array
we can get none by casting an object
into a number and we can get the string
object object by trying to cast an
object into string so now that we have
access to all of these words and
vocabulary such as true/false object
only fine blah blah blah we can convert
and convert them into strings as I show
you before and access them as if they
were Eric's so in this way we can get
even more single characters from which
we can get even more words that actually
means something to JavaScript in
and you know Martin clipper the creator
of Jays book which I'm going to talk
later
really cleverly called these JavaScript
Scrabble because you know basically what
we're doing is we're just we're just
creating new words from the my level set
of characters that were getting from the
previous technique and to keep things
short because this is a 30 minute taught
we basically can have access to
functions such as call count cap
constructor join slice or filter I know
you are with really willing to see this
in action and I'm gonna walk you through
this really little simple example that
actually just alerts one in your browser
and it's really easy don't worry so this
first part is just an empty array okay
that nothing nothing we're over there
the filter segment is just accessing the
filter function of that empty array
which is a function the constructor part
is getting the constructor for functions
and the constructor of functions takes a
parameter a script that returns back a
new function with that script as its
body so finally that last parenthesis is
just executing that new function in the
outcome of this as you might have
guessed it's just an alert one in your
browser and that could behind that is
the actual code that you can use so
crazy I know
so I know it's really it's a lot to take
in it's really weird but the good thing
is that there are a lot of online
converters that you can check out in
order to test this technique to play
around I really recommend you guys to
see the source code of some of the of
the online converters because they are
they can be really really really
educational so just check it out and
well there is a yellow TV more by
Patricia Palladino there is a J's for
the moon there is it Saturday yes there
is Jaya screw it and most well-known is
Jay's fuck the day is fought by American
clapping and seriously there's like no
limit with this but when I was doing
research for this conference I realized
that I came across this get hot ripple
from a guy that basically just rewrote
the whole thing curry library using
non-alphanumeric JavaScript it's like
what this is a source code like people
have way too much time on their hands
like and at this point you might be
wondering like okay that's really fun
but why on earth would I ever care to
learn this or why would I ever do this
so if you think that this is totally
useless um I think that hackers beg to
differ
I saw this tweet by Martin clip a few
weeks ago in which he pointed to a
security article from a security
researcher that Faneuil vulnerability on
eBay in which basically you could just
insert malicious code using non
alphanumeric JavaScript and well this
kind of makes sense since apparently
eBay just filters HTML tags such as
iframe and scripts but it's totally
unaware of code inserted in a different
way so oh and if anybody asked you about
this you didn't hear it from me I don't
want a people hacking eBay you think it
for me so yeah I also really really love
these things will make a sensor for a
change and sadly we're reaching the end
of our journey but of course I cannot
leave without talking about our
functions and es6 because I want to be
part of the cool gang so we normally
know that functions create your own
scope so this piece of code would
word because the deeds that were
referring in the inner function of the
city malfunction is no longer the same
DS that we began with it's not on the
scope of the full function so you know
developers have found workarounds for
this such as declaring variables in the
outer scope in order to capture the
properties and then referring to that
variable in the inner function yeah it
works but it's confusing and it's messy
it's like then you have variables that
are cool like bar selfie Kobe's bar data
code is visible that it's just like way
too confusing and maybe I don't like it
and the thing is that our functions
don't have a disk at all and actually
our functions don't have these arguments
super or the new target if there is any
reference to they mean they will just
lexically resolve up to the outer scope
so that's really really cool and the
previous example can just be rewritten
with that with an arrow function because
if anybody will work and we don't have
we don't we don't have the need to
actually use those ugly-looking
variables that I showed you before and
even if you were like so stubborn and
you actually wanted to use to harbor
inner these to an arrow functions no
matter what you just can't because
arrows functions don't have these at all
and therefore the bang method has
nothing to operate on so in this example
even when we try hard binding a hundred
to the arrow function it doesn't work it
still prints out 42 so I get that the
bottom line is that arrow functions are
not about less typing or seem that sugar
for functions they actually have an
intentional behavioral purpose that we
should all know and use accordingly and
what's it all a dream
no it wasin this is true this is just
how JavaScript works in it's great it's
amazing and amazing than that this is
why I love this language and you know
why why should we care about all of
these things that I just show you first
of all knowledge is power we have to
know why we're writing the code were
writing and how it works
secondly is
it's really the future the future of
JavaScript really depends on the
willingness of its developers to push
the limits to create new panels and just
move the community forward it's all
about breaking rules also we have to
remember that playing is learning it's
really JavaScript quirkiness that
encourages to play around with it to
make mistakes to just mess around in the
console and ultimately it will just make
us better developers just being in
constant interaction with the language
itself and lastly it's about the power
of the language and this is a quote from
a book that I read a while ago that says
JavaScript survive not despite its flaws
but because of them and before I
completely completely finish I want to
read you guys this quote that says the
best JavaScript developers are those
cops s about language explore and play
with it every day and in doing so
develop their own idioms in their own
voice these by angers underscore from
his book it came in he wrote a script
that I really really recommend you guys
three it's really awesome
and that's all for me thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>