<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Karen Farzam: The Route to HTTP/2 - JSConf.Asia 2015 | Coder Coacher - Coaching Coders</title><meta content="Karen Farzam: The Route to HTTP/2 - JSConf.Asia 2015 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Karen Farzam: The Route to HTTP/2 - JSConf.Asia 2015</b></h2><h5 class="post__date">2015-12-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/i2ezuw_RV78" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so hello my name is a Karen farzam I'm
coming from hong kong at french you can
tell after two seconds usually so i'm
the co-founder of a startup school w hub
which is a platform for startups and i'm
also the co-founder of a woman who code
in in hong kong to promote gender
diversity in web development but
actually i see a lot of woman here so i
think it's really great so well done so
i'm going to talk to you about HTTP to
and how to unlearn your optimization
skills so HTTP hypertext Transfer
Protocol basically it's a foundation for
data communication it's the most use
protocol over the web today it's been
first released in 1991 and then we went
to like two versions and in 1999 through
HTTP 1.1 and then you don't know why but
it's like 16 years later we're talking
about HTTP two so 16 years in like tech
is like one century right so I'm going
to explain you why it's released now the
foundation of it and how you can use it
so in 1999 the web look like this if
some of you can remember I'm not even
sure and today it looks like this so not
only is a design hice change but other
stuff as well actually I was also
looking at Google in 1999 and if you
check it it hasn't changed so I just
remove it from the examples so not only
the design has changed but also the
requests and ends up a load so if you if
you look at the chart you can see that
the total transfer size grew like
drastically and also the total of
requests
so basically with the number of requests
adding up we also see that the website
are getting really really slow and also
because the round-trip time is really
high so basically at the web developer
it's like okay what can we do to reduce
HTTP requests right all our hacks are
based around this so currently like
websites are like this and we want it to
be more like turbo right because what is
important is for it to be like super
fast so currently all of us are using
HTTP 1.1 and we are using it but instead
of like fixing what's wrong we're using
a lot of workarounds so let's go through
them first we have sprinting so this is
like really bad right it's like putting
images together in order to select just
one so it's really bad for caching it's
really bad when you need to change one
it's really bad to access it but still
it improve the speed of the website then
we have this horrible line which doesn't
look like anything you cannot even say
what this image is about so it's like
super bad but still even like Facebook
use it to cook to their website so they
must be a reason we also have in lining
which is you all know it like really bad
but we still use it for some cases and
another thing that we have is
concatenation okay it's like we have all
this javascript file all the CSS file
and after we put them all together in
order to reduce the number of HTTP
requests and we're using a lot of tools
in order to make it like all together
but the thing is that when you think
about it it's like when you download one
page you need to download the whole
website coding right so it's not really
efficient and when you think about
caching it's like
you update just one line of code you
need to refresh everything so actually
we're not using like what HTTP really
have to offer always TCP have to offer
as well it's really inefficient and when
we learn to code even as learning it's
like okay you learn to do this so it's
part of web development all these
workarounds then we have Charlotte so
basically with HTTP is like we're going
to limit the number of requests
connection that you can do but as it's
not fast enough we increase the number
of hosts so everything that we do is
just hacks and when you're looking at
the data which is the other graph the
green one that you see is that all the
unnecessary data that you are actually
downloaded to websites because you want
to make it faster so it's not also
server friendly because you're using a
lot of them with that you actually don't
need so yeah when you think about it
it's bad it's just super bad so what can
we do so they said okay let's fix HTTP
so they're what they're trying to do is
to make a protocol that is rdt sensitive
less already sensitive obviously and
also to fix a head of line blocking and
to stop the needs to making that many
requests and also to keep everything
because obviously as HTTP is the most
used protocol they cannot change it and
change the way it works right it's more
about changing how it proceeds the data
because we need to keep like the same
API the same everything the same URL
like nothing needs to change for the
user it's just for the web developers
that it needs to change so 2015 16 years
later
welcome to http too so what is it about
so who is behind basically it's like the
IETF which is HTTP beast group so a lot
of developer and other type of people
and where does HTTP to come from
actually in 2012 Google decided to
relieve speedy so speedy was a way to
download like faster and it got actually
a lot of traction so the IETF decided to
base HTTP two on speedy but it's not
done by like Google anymore it's really
independent because people like kind of
worried about this and in may 2015
finally easy RFC was released RFC is
kind of a weird word because it means
requests for comments but actually it's
already released so I find it kind of
strange and speedy is actually disabled
now so you cannot use it anymore so what
is HTTP to HTTPS a binary protocol so at
the web developer you might find it
really useful that it's only text
because it's really easy to check all
the answers and everything but when you
think about it the fact that it's going
to be binary make it's more compact and
efficient and it also prevent from like
crime attacks on the websites so that's
actually good and it reduces also all
the errors due to the text that it can
brings because you have a lot of space
coma and all these kind of things so
it's actually difficult to parse and to
know like when it ends and when it
finish so with the binary it's going to
be more efficient now we are talking
about header compression when you're
looking at the header that you have
actually you have a lot of redundant
data so now you have edge back and this
will actually reduce the header for like
sixty six percent which is really huge
because now you don't have any
compression at all so it's actually very
good so and as you can see it's even
better than than speedy so it's really
based on it but they really improve it
after it like zoom one or two years have
been working on top of it so now also
you're going to have priorities in the
requests using weights and dependency so
basically you're requesting for websites
what it can do is that it can identify
where you are on the dome and depending
on where you are it requesting priority
what you can see so basically it's going
to ask for HTML first then CSS sends the
images and you can put weights on each
of these requests and based on this
you're going to receive them in advance
and this will also remove the head of
line blocking because you won't need to
wait for the request to be finished in
order to have the rest basically it's
like you you're ordering something and
it gets much much faster and also the
thing is that you can also stop the
request even when you have it so now you
have something that is actually very
cool which is the server push it's like
you at you ask your server for requests
and then the server will anticipate what
you need afterwards and it will give it
to you so when you think about an
analogy it's like imagine you're in a
restaurant okay so yours a brother and
then the kitchen is the server and then
your protocol are the wetter so in the
first version of HTTP you would order a
sandwich and then you will have your
waiter com go to the kitchen come back
with the bread go to the kitchen come
back with a ham and then you know with
the cheese and everything then you have
HTTP 1.1
and then instead of having like one
wetter you could have for waiters okay
so each one of them will go and come
with something and they will stay at
your table until everything is there
when you think about like the number of
weathers you need that's not very
efficient so now with HTTP two it's like
you asked for a sandwich you have one
waiter because you only have one
connection it goes to the kitchen she
comes back with your sandwich and she
even brings you the coffee it's awesome
right and you can even say no I don't
want the coffee and it's like you don't
have to pay for it so it's really really
powerful then you have multiplexing so
multiplexing is like this little train
but that you see so all the streams are
divided into like headers and data so
you send the streams and when it comes
back it comes it can come back in
different order and your browser will
know where to put it and to reassemble
dips so it's great because if something
is blocking or is taking more bands with
it can actually get the other one in
priority so that's all the problem that
we use to have with HTTP 1.1 so in terms
of implementation actually most of us
didn't know it but it's already there in
terms of browser and in terms of server
for Firefox and Chrome it's actually
enabled by default so you might already
use it without knowing to and in terms
of server a lot of them are supporting
it so when you look at the web actually
you have more requests that have been
that are done in HTTP to right now
rather than HTTP 1.0 so it's getting
there really fast so basically for
normal humans it's really good it's
going to be faster which means a better
user experience
which means like more attention on your
website you know everything that comes
with it everything that we want and for
developers that's going to change a
little bit first of all we'll need to
like unlearn everything that we've
learned to do we will need to rebuild
our website to change how it's made to
make it more functional because actually
the thing is that all the hacks that
we've been doing when you're using HTTP
two it's actually slowing it so you
actually really need to remove it and to
stop all this concatenation sharding and
everything that we say before so you
really need to remove it and maybe what
we will need to do is to have a special
request for HTTP one and a special one
for HTTP to the thing is that HTTP two
works like a different language what
will happen it's like the server will
come back and say hey do you speak HTTP
two and if the browser saying no then it
will just give you the default one so
actually you don't really need to notice
it so go and explore HTTP to thank you
very much hey my name is Jacques dodgy
so i have a question like when browser
makes a request so you say the server
will anticipate and even if i ask for a
sangwich it will bring me a coffee right
so how it is guessing that what else I
might require with that request how is
it guessing that it's a HTTP to know how
it is give like if I asked for HTML but
you said that it might anticipate that I
might require the CSS file as well and
it will send the CSS together yeah it
will so how it will guess that what else
I require because you will set it up
actually you will have all your
priorities and everything so the circle
will know so that's how it's going to be
able to anticipate it so you kind of
need to configure it how much is
deployed now and what
that kind of time frame for uptake do
you think so basically in in terms of
browser I think about sixty percent of
the bra so supported right now and in
terms of deployment among the top ten
thousand websites it's supported around
I think it's fifteen or twenty percent
so it's actually pretty big yeah you say
that we need to remove some of the hacks
that we're executing today to speed up
things in HTTP one can you give some
specific examples of the actual hacks
that that you would expect us to remove
all the ones that I said at the
beginning it's Friday like
congratulations browserify anymore don't
use concatenation yeah yes so so that's
where it comes like kind of complicated
because you also need to check on your
website if your user are using HTTP two
or HTTP one in order to kind of guess
which one you need to implement as well
right you need to run a test to see what
your users are are doing right now if
you're mainly implemented in China and
they are using IA for like old version
you obviously won't be implementing it
so I read a lot about the discussions
that's been going on is how do you
actually set up something how do you
load your project being able to respond
in HTTP 1.1 with all the hacks that
we've been doing and how to upload it to
be able to do HTTP to and that's not
really clear gotcha okay when do you
think HTTP you will be like the major
thing and the way like a pacing 1.1
because of meeting at it's like not
supported by a lot of still not
supported by like tom cat oh yeah i
think there are a lot of developments to
be made but when you think about the
fact that it's only being released in
May which is like what four or five
months ago I think the gross can be like
super fast so people are really talking
about next year being a major change in
it but
is that we'll still need to use HTTP 1.1
a lot so the real question is like how
can we put both together</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>