<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Brendan Eich: The future of Javascript | JSConf.ar 2014 | Coder Coacher - Coaching Coders</title><meta content="Brendan Eich: The future of Javascript | JSConf.ar 2014 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Brendan Eich: The future of Javascript | JSConf.ar 2014</b></h2><h5 class="post__date">2015-05-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/u56b_HUj47E" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I'm going to talk about the future of
JavaScript I'm always talking about the
future so as santa ana said if you if
you don't study history you're condemned
to repeat it I think that's true if you
do study history too so the future of
javascript is java because that's also
the past i'm only slightly kidding i
have to go back to nineteen ninety-five
which was when i was small and
javascript was created in a mad tearing
hurry and i was thinking about this not
only because of andreas is talk about
j2me jas but also because i don't know i
missed the 90s box calm had this picture
in their piece about how that was the
last great television season 94 95
there's like my so-called wife and party
of five and friends that's when i got my
big break this is me before my hair went
gray
javascript had something to do with that
I'd go to back then you couldn't find
things on the web like you can now now I
think you can find a lot of a lot of
computer science papers not all of them
some of them are still locked up behind
you know paywalls but back then you had
to go to real library and actually read
bound journals and that's what I did I
would go to this place this is Margaret
Jack's hall at least the front corner of
it in Stanford University count in
California and I would go read papers in
among the stacks I also maybe I went
there because i read that John doar said
he's a famous venture capitalist that
any idiot could make a lot of money just
by hanging around Margaret jacks hall
that's the computer science offices
that's where the computer science
professors have their offices and office
hours that's where the computer science
library is that's the library that I was
going to I didn't I didn't become a
successful venture capitalist
unfortunately but I did read a paper or
two including one about java bytecode
and this was right before I did the ten
days at work to create the first
JavaScript engine I was still thinking
about Java even though the Java VM that
the friend of mine Kip Hickman at
Netscape it started building had been
killed Netscape was doing a deal with
Sun and bill joy at son said we can't
have to Java vienes because they they
wouldn't have bugged for bug
compatibility Netscape has to use son's
source code to actually make there be
only one implementation of Java
otherwise it'll fail now he was right
though I think bill joy was right if we
tried to reverse engineer or even got
source code access and built our own jbm
we would have had lots of bugs getting
the interoperate and indeed when
javascript came out and Microsoft
reverse-engineer there were a lot of
bugs in both engines and we had to write
a standard down and work for many years
to standardize JavaScript evolved the
standard build test Suites like test 262
it's really taken along
time so Java has multiple
implementations but I think all the
competitive ones are proprietary and
Java has test Suites but it also has a
lot of code behind firewalls so who
knows how all it interoperates anyway I
was still looking at Java there's this
paper by Gosling from 95 it's a nice
little paper it talks about java
bytecode java bytecode has has some
issues most of the bob codes are typed
some are overloaded for multiple types
and you have to do crazy analysis to
verify the code and do definite
assignment analysis and do other things
to make sure it's safe javascript was
all untyped so i couldn't use the inside
in this paper about modeling the types
as you read the code modeling the stack
machine that Java uses in an abstract
way doing abstract interpretation but i
did use that idea for the decompiler
that i put in you know when you make a
function turn into a string in
JavaScript engines ever since I wrote
the first one that I'm familiar with
some of them actually go find the source
or save the source and give you that
source back as the two string result the
ones I've built up until somebody
Mozilla ripped it out the other year
used a decompiler so they would actually
take an internal form like a bytecode
and turn it back into a string and i
used the idea from this paper to build
that and I also thought at the time why
do we need typed bytecode Java already
has types in its you know class files as
descriptions of all the types of the
static and instance fields and as type
signatures for all the methods why do we
need to have types on the bike codes to
here's another thing from the paper it
shows class vector this is just like old
Java and then it shows the java
bytecodes you can see they have names
like a load I Const I for integer a is
usually for array there's no DS here or
B's for boolean or bite but it's typed
mostly but not always which is screwy
when Anders helzberg was doing
the clr for C sharp and net all those
languages at Microsoft he fixed some of
these problems by making the the dotnet
intermediate representation use untyped
by code and typed assembly metadata COI
data so you could always figure the
types out from the the fields and the
static members and all the signatures on
the methods you didn't need to have the
intermediate instructions carry types
and proliferate but there were other
problems he that CLR by code did not fix
or the intermediate code for dotnet did
not fix i meanwhile javascript was there
kind of slow in the 90s but still going
somewhere and finally taking off in the
last 11 years I'd say so now it's 2014 a
lot of water under the bridge Java is
pretty much dead on the client plugins
like Andre etc or malware vector
especially turns out the Java plugin I
think Brian Krebs security analyst said
that it was the number one in its day
it's probably not anymore number one
vector for malware that people would pay
for for black hat malware that's bought
and sold assam j/s is a thing it's a
subset of javascript it's like carving
nature at the joints like Plato said
it's it's finding inside JavaScript
thanks to the bitwise and shift
operators that I put in that we're in
Java and C and I put them in cuz they
were and see it's finding the subset
that is typed in a way that can be very
efficiently compiled to the machine to
the metal and es6 is all but done
there's there's you know Jason's talk
this morning had a nice chart
summarizing it but here's the here's the
more hard-to-reach art and if you look
at who's winning it's usually oh it's IE
now the technical preview for IE now has
the most of es6 implemented good for
microsoft followed by echo jsb somebody
on you in netscape cristo shock well by
tracer
arvid sins compiler that compiles es 62
JavaScript yes five and then Firefox 35
is as second after the browser in the
front which is IE ouch so es6 is kind of
the last of the big it it was so big and
so connected we didn't want to cut it up
into pieces but after es6 we're going to
do smaller annual releases i'll talk
about this in a few minutes ESX did
absorb typed arrays so there's that word
typed again now these aren't like Java
typed like you have to write down those
types but these are you know in 32 array
and you know float32 array these are
very important for working with the GPU
and with simdi units which are also
coming up and then typed objects in es7
kind of take away the wackiness the
fixed length nature in particular of
typed arrays and allow you to have
descriptions runtime descriptions of all
your types of your properties if you
want to so typed objects will allow you
to imperative Lee through an API not
declaratively say what the types of
properties in an object are and they can
be packed together they can be flat I
can be extremely efficient it's kind of
a generalization of typed arrays so then
we also have typescript and something
that it inspired according to the
facebook guys flow and flow looks very
very good because they done a
sophisticated analysis or set of
analyses really that allow them to
capture a lot of the idiomatic
JavaScript without just giving up and
saying I can't I can't type this I'm
going to just make it to type any
everyone's really keen on seeing where
these things go but back to the class
example from Java I've rewritten in es6
using typed arrays using a little bit of
as in j s typecasting like andreas said
if you see that vertical bar 0 that's
bitwise or 0 that is a cast to in 32 and
you probably know the other idioms for
doing this there's triple right shift 0
is cast you in 32
and twiddle twiddle X is a conversion to
int and you can do other things pretty
efficiently you can use plus as a unary
operator to make arbitrary value become
a double so as Matthias relies on these
type casts this isn't exactly pretty but
this will generate in a modern engine
that can handle the syntax like maybe
the IE preview 1 this will generate his
good code as any Java VM would on that
old Gosling code so I I say the J svms
are basically taking the dynamic untyped
route to the same promise land that Java
was was promising which didn't get
delivered in the browser by job I got
dillard by JavaScript we're almost there
with typed objects and typed arrays I
think we'll be there as Darth said the
circle is now complete i guess this
makes javascript darth vader and james
gosling is 0 we want anyway let me talk
about standardization because there
there's always angst about how long it
takes to do a standard and es6 is big i
was involved in es for which helped get
the standards body back in shape through
the harmony peace process that i
brokered but thank you standardization
is going to go faster now that's Ian
Hickson signature line I don't know if
its original to him things that are
impossible just take longer we're not
going to take years and years anymore
we're doing we're doing better here's
how they look though in 2011 when I
spoke at TX JSI I took a picture of the
tc39 meeting right before then and it
looked like that and then there's also
some some famous artists and Italy did a
picture of crock and me
the Crocs play-doh and I'm Aristotle and
I'm like cool it you know quit pointing
up I actually miss crock hehe doesn't
come to tc39 anymore and I looked around
at the last meeting and I didn't see him
and I actually felt sad even though he
gets pretty grumpy but we need we need
the grumpy idealists we need the
play-doh where would Aristotle be
without play-doh so now even without
croc it's kind of a loss we have tc39
doing its work on github my image is too
big you can actually see almost
everything that's happening there I
think all the the the tests are moving
there I believe the specification is
going to move there it still has to be
done in word if you can believe it
because of the way akma and iso work but
modulo the word issue it's also an HTML
as a first-class source for the
specification and people can send poll
requests the meeting notes are kept on
github and also available on ES
disgustin org they're captured
originally on I think it's alec sextons
okay so clap etherpad or somebody's
anyway well at my tc39 is no longer
working in smoke-filled rooms or arguing
in robes in the greek marketplace of
ideas we're actually working on github
which is good news and for es7 and
beyond we're going to work on an annual
cadence where it's like the chrome and
firefox release process if proposals
don't make it through a multi-stage
waterfall they just don't ship that year
they have to take a later train so the
trains almost ship on time so es7 should
be implemented so pieces that are
actually implemented now should be
implemented next year and finalized
there's almost a little bit of dotting
the i delay finalized in 2016 and as you
know es6 is going to be finalized middle
of next year so standards are getting
better not jason did such a good job of
covering es6 that i thought i'd just
talk about a few es7 things that you
might not have heard about how many
people here use promises in some library
they're good okay so you may know that
generators which I think Jason didn't
cover or any f6 and I'll show them in a
minute but this example from Luke Hoban
from Microsoft on the he was on the atma
committee until last year shows if you
were using promises to chain animation
say you had an array of animations and
you use this nice es6 for let annum of
animations loop to iterate over the
values of the animations array it's like
four in but it's over the values then
for each animation you'd have to chain
using a promise and using p10 to call
that animation and it's kind of a
verbose and then at the end you'd have
to worry about whether there was an
exception in which you probably ignore
and you finally with a final dub then at
the bottom return the return value of of
the last promise the fulfilment value of
the last promise which is what's being
captured by this red variable you know
so if you just let everywhere there's no
VARs so that's that's okay but you can
do better with with generators so in es6
function star makes a generator sort of
like python inspired by python with some
simplifications and the task jayus
library from Dave Herman has a function
called spawn you pass a generator
function function star to a spawn call
and you get a scheduler in the
background that will resume that
generator for you and that generator can
then yield each animation and terin
notice that there are no promises here
anymore the promises are hidden inside
the spawn machinery in the scheduler
that test j/s implements so already this
has gotten a lot simpler because it
doesn't that promises with their lambda
callbacks and it can use try-catch
directly whereas the previous slide had
to use the promised catch method and
couldn't use try-catch notice also the
arrow functions here which make it nice
and short wouldn't put on my slide
otherwise but even with arrows it's a
little much whereas with with TAS TAS
and spawn and generators it gets shorter
and you can use real exception handling
with try catch
what we want to do for es7 is go one
step further and this is again I think
due to Luke home and originally
Microsoft and I think this isn't good
consensus in the committee and that's
allow a sink to be used as a non
reserved conditional keyword a
contextual keyword in front of function
so that you can make this chain
animation a sinc function be a nascent
function and once you say it's an async
function up there at the top then inside
it you can say a weight and you see the
await takes the place of the yield in
the previous version and there's no
function star and there's no spawn call
you don't need to use task j/s the
scheduler gets absorbed into the es 7
version of the language so async
functions will not only de promised a
file out of your code they will remove
generators and task GS boilerplate and
allow you to write something like this
which i think is pretty important
because we're JavaScript's go on your be
a sink in the browser forever and it
should be even if we have lots of new
ways of composing workers and we might
end up making ways to make the non
foreground UI thread workers block a
sinks the way to go so and that's
through a note too so I wanted to share
that and then quickly run through other
things that are on board the may know
about simdi I'll give a little demo is
single instruction multiple data its
architecture acronym that describes
vector units short units that short
vectors that contain integers or
floating point numbers pack usually for
32-bit floats or for 32-bit ants but
they come in different sizes 8 16 bit 16
8 bit generally they're multiplying 2
128 bits Intel's more recent work also
has 256 bit long vectors and they all
get pissed up into power of two sizes
for integers and floating points pretty
important for speeding up DSP code game
code physics code graphics code typed
objects i mentioned value objects which
include notably finally in 64 and un six
for real and that means we don't want to
just hard code these so we're going to
make user-defined operators and literals
in the language so you can have your own
operators probably makes sense for
people using matrices and vectors even
mutable objects could have operators and
you can go to town and async generators
I showed you a sinc functions async
generators would be sort of what they
sound like that's something that's being
worked on by Jafar sign of Netflix so
the s7 is going to be smaller you can
tell this isn't nearly as big as that
giant kangaroo chart and maybe some
stuff will get cut but we'll get it done
it'll be back next year implemented next
year and finalized into the beginning of
the following year and that's exciting
but nothing beats a excitement like a
demo so I'm going to try to show some
things here first of all this is the
demo from the Intel folks showing how
simdi can speed up your co here's a
Mandelbrot generator and if you don't
have simdi it starts off a little under
30 frames a second then it degrades
because the complexity is growing as we
zoom in if I say use simdi it zooms up
by almost factor of 4 and it will it
will again fluctuate depending on the
complexity but it's still roughly
between three and four times faster
because it's getting that for full speed
up for the parallelizable parts of the
code by using for float32 24 and 32 s at
a time it's using vectors so all the
additions or all the multiplications
happen at once so game developers and
people writing all sorts of things will
benefit from this now I don't want to
make this long it's all about games but
it kind of it's important to give games
there do because they stress test
everything I think I saw the CTO valve
many years ago at game developer
conference say that only games were
really pushing as applications as a
class of applications only games are
really pushing on
you know concurrency parallel hardware
vector units simdi GPU programming
aggressive memory management so games
are like the really hard case and this
demo I'll start with is the banana bread
game based on the open-source cube 2
engine a C++ code base that's compiled
to JavaScript beat by M scripting it's
compiled to as MJS this version this fun
because it embeds doom the free version
and and so you can be in the outer game
I'm gonna have to kill this bought
before it kills me there's a ball that's
going to come out in a minute and you
can see this inner game is on the wall
there and if you okay remove bottom if
you hit vertical bar now I'm playing the
inner game that proved this isn't the
video on youtube as somebody accused me
of running I'll let you guys tell me
which game first episode second episode
third episode is your clap dirty all
right this one I'm going to use please
don't kill me I believe control shoots
yes the arrow keys turn so I'm the outer
game is like WASD to move around and the
inner game is arrow keys I think I can
strafe yeah I can strafe with greater
than and less than and / those something
not sure what and there are monsters in
the inner game this is like oh yeah do I
have to like how do I hit that there now
I'm in trouble so I'm playing the inner
game it ah tackle demon all right come
on died either ow
ok
now what's what's really cool about this
is there's a where is it oh it's my
off-screen banana bread thank you let's
get out of this there's just a few
hundred lines of JavaScript to glue the
inner game to the outer game using a
worker this is from alone Sakai you can
see he sets up a worker that contains
boon jas boon is the name of the free
doom code and that's in a separate JS
file and it runs as the workers source
and then using sort of a proxy and ad
hoc proxy he glues the inner game into
the outer game so he sends these
messages with names like standard out
standard error window canvas along he
can do resizes and renders he has to
clone events has to worry about mapping
the keys through but this is like a
trivial amount of blue code to take two
games that weren't written to be
embedded one in the other and then put
them together it shows how JavaScript on
the web in general are really good for
mashing things up for composition if you
had to write a C++ mashup of these two
games it would be a nightmare so that's
that's cool and then this is unreal
engine 3 which is still a good demo on i
mentioned java bytecode here is the new
java bytecode this is this is the actual
it's going to take a while it's big it's
as I'm Jay s so it looks quite
voluminous but more fun to see the game
let's go here so this is I hope it's
going to make sound I hear it any else I
think it's only me
somebody has to stick a mic here oh good
and then i'll show you my mad skills
these are
it's it's fully playable smooth 50
frames a second and I'm cheating a
massively I'm in god mode it's daddy
you're really nice effects if you look
at the God raised the Sun see the ray
tracing this is all WebGL and as MJS
working together this works in all the
browsers are trying to make this work
really fast however they do it more
power to them all right killing spree
okay so then I think the last demo I
will do makes if I can show you the
assembly code though this is the source
there's some handwritten stuffs you see
it's very pretty but then it's prepended
it's concatenated as a source file to
the Asmodeus code which is not so pretty
but there's your modern bike code right
there's um there's your Java has a
number if greater than or if equal
branching conditional branching
instructions javascript has the if
statement Java has you know integer
operations there's your or zero that's
that's your cast to integer so I just
wanted to show that okay last thing is
not only the epic Unreal Engine but also
the unity engine has been cross compile
with them scripting and its runtimes
ported to the web so unity is supporting
html5 WebGL as a first-class target
Asmodeus is the first class target this
is dead trigger 2 it's pretty fun the
best part of this game is this the
Sentry chickens they have machine guns
on their back
so they they take care of those zombies
for you know no problem and again smooth
gameplay oh he's trying to crawl after
me huh they got him he's kamikaze guys
will try to blow you up so best thing to
do with them is a grenade I'm not in god
mode here but I'm doing okay I can take
some help just in case now there's that
big kamikaze guy watch out uh-oh grenade
second grenade oh good
so like I said games are fun and all and
kind of violent but they're also the you
know the the that if you can dodge a
wrench you can dodge a ball test so if
you can run these games you can you can
run a lot of code and that's why I
always close these talks with this
homage to Wesley Snipes in passenger 57
another nineties movie was not that
great Wesley he's always awesome when he
gets his martial arts face on but almost
been on Jas it was it was never going to
win it was this incredible underdog for
too many years and then when it started
coming up there was still flash there
was Java plug-in pretty much all
JavaScript now all the browser vendors
were acting serious about it we're
evolving it we're going on to a rapid
release process we're adding all the
hardware api's you need to do everything
with the machine and it's kicking Javas
ass so almost bet on Jas thank you very
much
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>