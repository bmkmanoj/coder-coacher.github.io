<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>[CSSConfUS 2013] Lea Verou: The Humble Border-radius | Coder Coacher - Coaching Coders</title><meta content="[CSSConfUS 2013] Lea Verou: The Humble Border-radius - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>[CSSConfUS 2013] Lea Verou: The Humble Border-radius</b></h2><h5 class="post__date">2013-08-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/b9HGzJIcfDE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi everyone thanks for being here before
I start going on about border-radius I
should introduce myself I guess I'm Lea
Veeru you can just call me Lia I work
with w3c at developer relations and if
you've ever heard my name before it's
probably one because of one of my
open-source projects the most popular of
which our prism tablet and prefix-free
if I've had more time I would probably
go on about them but I should rush has
anyone heard about them before quite a
few people thank you so when I started
designing this talk I wanted to make to
design a creature that goes along with
it I kind of personify border-radius
and I thought how would border-radius
look if it was a cartoon character or
something like that and I I thought it
would look something like these
characters and children's books that
everybody thinks they're uncool and
nobody talks to them and everybody makes
fun of them because you know they're not
cool but they end up saving the day and
being the hero so that's what I pictured
you might find it amusing but maybe not
so when you first meet it border-radius
looks kind of like this you may have
seen it before I guess you have so there
is one value it controls how curved the
corners are basically the radius of the
semicircle at those corners and if you
increase the value that radius increases
and if you decrease it it decreases as
well and you might have heard about how
great its browser support is you don't
even need to use prefixes anymore
although I and you didn't you never
needed to use prefixes in operand ie
although I've seen monstrosities like
that like Oh border radius or m/s border
radius but those things never existed so
yeah that's all there is to it to border
radius like there's nothing else to know
about it
so thanks for coming enjoy your lunch
bye bye
wait a second I think I had more things
to say yeah cuz like if if that's all
what Irenaeus is about why does it need
six pages of the specification to
describe it it seems pretty simple right
so one thing is that you can have
different radius per corner I'm sure
most of you have seen that before so you
can have two three or four lengths if
you have one it controls the radius
where all corners if you have two the
first one controls the radius of the top
left and bottom right corner and the
second one controls the radius of the
top right and bottom left corner like
this you can have a third length that
controls the bottom right corner and if
you have four of them each controls its
own corner separately and they go in
clockwise order like everything in CSS
everything that accepts multiple lengths
in CSS goes in clockwise order not just
border-radius so to summarise when you
have two lengths they each correspond to
a different longhand property and why do
you need to use long hands they're quite
useful in case where you have something
like this so you only want to set one
corner to be different but using the
shorthand requires you to repeat the
value three times so it's much bird but
much better to use just this and use the
long hand like butter bottom left radius
zero so don't repeat yourself anything
you anything you code in CSS you'll
eventually have to change it at some
point so make it easier for your future
self so this summarizes how it works
when you have two values it corresponds
to two declarations if you have three
values the first one corresponds to just
one corner at the top left and the third
one as well and the second one
corresponds to two corners
the bottom the top right and the bottom
left and when you have four values each
one just sets one corner so I'm sure
many of you have heard that you can set
different values for a different
coordinates before so this is where
things started to get interesting
here we have a typical water radius
declaration for which sets the top-left
corner at 900 pixels and all the other
corners at 90 pixels it could be it
could look like this but for brevity is
it's like this so the dimensions of this
box basically I can just spell them out
and nothing will change
I think the width is 400 and 540 pixels
and the height is 420 pixels so as you
might have noticed the 900 pixels does
not fit so you end up with something
really strange like when I increased the
border it is here did you notice that
every single radius changed and just
changed into the top-left radius but
they all change right at that why did
does this happen and the reason is that
since the border radius does not look
that we specified does not fit like if
the board if the browser tried to apply
this border radius we've set like 900
pixels and 90 for the other corners so
we need it to have at least 900 990
pixels on every dimension but we don't
our width her height are not smaller
than 990 so the browser needs to scale
our border radius down and there are
many possible ways the census working
group could decide to go with this but
they they decided that the browser will
scale every radius on every corner by
the same amount so that the proportions
between the radiuses remain the same
even though the actual radiuses changed
so in this case we ended up having
radius of 38 pixels on the top
right bottom left in the bottom corners
and a radius of 381 pixels on the
top-left corner which is not what we
specified but they have their same ratio
between them the first one is 10 times
as much as the other ones so in the
wording of the spec when the sum of any
two adjacent border radii exceeds the
size of the border box us must
proportionally reduce the used values of
all border radii until none of them
overlap if it doesn't makes much sense
in that kind of wording just remember
when I said if it doesn't fit the
browser shrinks all the radii so that
they fit by the way both radio and
radiuses are correct so that's where the
grammar now Z is around here and if you
find mass easier to understand it looks
like this every every radius is either
the specified one or the width
multiplied by the ratio between the the
two radiuses on that side and by the way
I'm using my family for this equation
mathema was quite awesome where it's
supported and when it's not supported
you can just use the CSS fallback here
I'm using Firefox so it is supported so
it's just native math ml and as a recap
what we just learned or already knew
your mileage may vary so we can have
different radiuses per corner and
clockwise order separate properties for
every corner available like water top
right radius and if the sum of two
adjacent radiuses or radii exceeds the
length of their side they're reduced
proportionately which is I think the
most important thing to remember from
this section this is a quite cool demo
that somebody made just using border
areas well in some JavaScript and just
using border radius and another like
super advanced way just using different
radii per corner and I think it looks
pretty cool like you can click the boxes
and make like infinite shapes and it
just adjusts and it uses CSS transitions
no yeah well so it you can make infinite
shapes with it so we've set out to
create an ellipse with what we've
already learned about water radius so
obviously when we have an ellipse every
corner has the same radius so we don't
need multiple lengths here so here we've
specified 210 pixels it's half our
height if we reduce it we see what
happens and if we increase it we can't
increase it above 210 because what we
said before so nothing we try seems to
create an ellipse and that's because we
can't create an ellipse with what we've
already seen we need to use border
radius in different way so you can add a
slash and specify different horizontal
and vertical radius so here this is
equivalent to what I've had before
because they're both equal let me show
you and but now you can adjust either of
them separately and there you have it
there's your ellipse or you can do like
any number of different shapes but in
this case we wanted to make an ellipse
so let's go back to that the problem is
this looks like an ellipse that's what I
wanted but if I increase the width it
doesn't look like an ellipse anymore
does it it just looks ugly I'm not sure
how that shape is called but it's not an
ellipse yeah so do I have to go back to
border radius and change it every time
my shape changes actually well that
could be one solution but there's a
better one so we can just specify it in
percentages like 50% horizontally and
50% vertically and since they're now
equal the specified border radiuses
the same both horizontally and
vertically even though it doesn't
compute to the same radius we can even
remove the slash and just have word
rates 50% so now regardless of our
dimensions we have an ellipse so we've
seen how we can make an ellipse but can
we make like half an ellipse with
border-radius
we can use percentages and different
radius per corner to make half an
ellipse so what is half an ellipse
horizontally it has 50% radius and
vertically it has a hundred percent
because it's like the curve takes all
its height it has 100% radius in the top
two corners and zero in the bottom
corners so let's try this and now we
have half half an ellipse and if we make
the dimensions if we make the width half
of the height we can have a semicircle
okay now we've seen how we can have an
ellipse and half an ellipse but can we
have a quarter ellipse the quarter
ellipse is actually even easier than
this so obviously the width needs to be
equal to the height so let's try
something like maybe 400 and what is a
quarter ellipse the top left quarter is
100 percent both ways both horizontally
and vertically and all the other corners
are zero so it would look like this
that's a quarter of a circle and if we
change dimensions we just have a quarter
ellipse and we can have lots of
interesting shapes with if we use
border-radius wisely so just to sum up
here's how it works
the number of values before and after
the slash can be different here it just
happens to be the same but here for
instance we have four values before the
slash and three values after the slash
they're expanded into the browser
expands them into four values
independently select you can have one
value before and like for after it and
another thing to note is that when
either of the two is zero both compute
to zero because you can't have something
with like a 50 pixels vertical radius
and zero horizontal radius how would
that look so they they have to both
compute to zero so what we just learned
we can have different horizontal and
vertical radii percentages and
border-radius refer to the corresponding
dimension either width or height border
readers can take up to eight lengths if
you're crazy enough I've never needed to
use eight lengths I don't think but you
can and when either of the two radiuses
is 0 both compute to 0 so here are a few
demos that demonstrate that this
complexity in border radius is not just
intellectual masturbation of the CSS
working group but it's actually useful
so Simar I was like really awesome with
CSS made these buttons and he've used
like every single thing I've mentioned
so far to make them and I think they
look so cool like look at this shape or
this he's used he used elliptical radii
in different once per corner to make the
illusion of depth and the 3d effect is
just box shadow so you should go there
and have a look I think they're awesome
this is less practical than the buttons
but I think it's quite fun it shows like
all these shapes are just border-radius
and here's a little example of mine I've
used percentages and border-radius here
for the languages whoops yeah that won't
work
sorry Firefox okay yeah I think that's a
hundred percent so I've used them here
for the languages and here for the
button and the whole thing is just CSS
there's just a background texture for
the pebbles and all the shapes and
everything is just CSS so how many of
you ever wondered why is Bohr radius
called water radius why isn't it called
corner radius like all the examples I've
shown
you before just use they don't use any
borders so why is it cold like that why
did we name it border-radius
this has anyone how many of you have
wondered about this at some point okay
maybe I'm weird uh well I used to often
wonder about this like corner idiot
sounds like a much better name it was
called border-radius
because it rounds the border box which
is the same there's no difference if you
don't have any borders but in this case
the forty percent the forty pixels
refers to the outer radius the inner
radius is smaller oh not this again
yes zooming
so here we just saw that if you've
zoomed in Firefox the computed values
are that it reports a difference that's
why I can't like 21-point something now
I assume doubt and it's correct so the
inner radius is 80 pixel is 20 pixels if
I increase the border the inner radius
becomes smaller and well obviously it
can't get smaller than zero but you
might end up not having a radius at all
if your border is too large and the the
inner radius is actually the specified
border radius minus the width of the
border and if you have different border
widths in every side that still applies
and you might have different horizontal
and vertical radius on the inner side as
you'll see in a few minutes
so in the wording of the spec the
padding edge in their border radius is
the outer border radius minus the
corresponding border thickness in the
case where this results in a negative
value inner radius is zero which is what
I just showed you if you prefer maths it
kind of looks like this the inner radius
is the maximum of zero because it can't
be negative or the outer radius minus
the borders the border width and this is
how it looks when you have different
order widths per side so if you notice
here I've specified a regular border
radius just to the part of a circle you
can see that it works fine for the outer
edge but the inner edge is an ellipse
it's part of an ellipse it's an
elliptical curve so and there's the same
thing here the outer radius is 40 which
is part of the circle but the inner one
sorry but the inner one is an ellipse
which is something we may or may not
like so assuming we like it everything
is great but if we don't like it and we
want to change it so that the inner
radius is part of a circle we don't care
about the outer radius but we want this
one not to be elliptical
we don't like this we want this to be a
circle so how do we go about it
we can just override border top right
radius and increase the horizontal
radius so that it balances the border of
widths we have so we can specify 50
pixels horizontally and 40 pixels
vertically
note that when you're using the long
hands to specify different horizontal
and vertical radius you don't need the
slash there are so many cases where I've
used the slash and I was wondering why
is my CSS not applied this is not
correct this is so now we have a regular
curve on the inner of our box and
obviously the outer the outer radius is
elliptical so in some cases we might
prefer how this looks or maybe not but
now you know how to do it
so what happens when you have different
border colors beside so here we've got
we have this border color but let's
assume we want to enlist to create the
illusion over harder shadow so we
specify black on this side as you can
see there's a hard transition between
the two colors and it's only affected by
the the difference between border widths
the ratio of the different border widths
it's not affected by the border radius
at all we can change it and the angle
remains the same the same as when we
don't have any border radius I recall
there were so many discussions in the
CSS working group about what this angle
should be took a long time to decide on
something so this might be inconvenient
for cases where we're trying to emulate
this kind of 3d effect but it can
actually be quite useful for some other
cases like if we reduce the dimensions
here
you might see where this is going and we
specify one single border width so and
we can change this to any colors of our
liking like I don't know this or green
and red and whatever I've actually used
this before to emulate a Wi-Fi signal
with like one of those and
pseudo-element inside so I think it's
fun so I wanted to show it you may or
may not agree about its usefulness or
practicality but you can't disagree it's
fun so what we just learned
border-radius rounds the outer border
edge the inner border radius will be
smaller or zero even with a circular
radius inner one might be elliptical if
different widths are involved and if the
borders have different colors the
transition will be abrupt and diagonal
the angle thing I've showed you so
border borders are the border properties
do follow border-radius do all CSS
properties follow border radius let's
take a look at box shadow your note you
can notice here that water box shadow is
also rounded and it has the exact same
rounding as our border radius we can
tweak its rounding if we change the
spread radius like if we make it bigger
by 10 pixels it's rounding will also be
bigger and as we increase the spread its
rounding increases as well because
that's what looks more natural and
obviously we can also do the opposite if
we if we specify a negative spread
radius its rounding will decrease so
book shadow does follow border radius
but other properties don't like outline
you can try all you want but the outline
will not follow your rounding regardless
of what rounding you have or what
outline you have it just won't be
rounded
in Firefox you can round it with this
horrible proprietary protocol most
outline radius and let's specify
something like I know 40 pixels it
doesn't even follow the border radius
you have to specify it you have to
specify it separately and only it only
works in Firefox and it's pretty
horrible so is there something better
than we can do remember what we've
showed before about box shadow we don't
need those stinky outlines we can
emulate that effect with box shadow if
we just specify box shadow with no blur
and no offsets and just a positive
spread radius we can have the same thing
and it just naturally follows our border
radius quite nicely so we don't need
those outlines and it even behaves the
same it doesn't affect layout just like
outlines which is what if we could use a
border but border is affect layout and
we might not want this so what we just
learned box shadow follows the curves of
border radius and spread adds to the
border radius or negative spread
subtracts from border radius which is
basically the same thing outline is
always rectangular it doesn't follow it
but we can emulate an outline with box
shadow so here's another thing that most
of you already know but some of you
might not have thought about since water
radius accepts length values its
animatable so we can make pretty cool
animations with it like here we go from
a smaller radius to a bigger one and we
can do things like this which is kind of
like it's dancing or we can do things
like let's try something like this like
a semicircle of sorts
which kind of looks like it's jumping
you can make many cool things if you
think of anything else that's quite cool
you can submit it here it's a gallery of
animations and it only has two about
border-radius right now everybody just
submits transforms I am so sick of
seeing animations with transforms I mean
they're cool don't get me wrong but
let's explore some other possibilities
so what we just learned what a radius is
animatable we can animate between any
two radiuses percentages and viewport
relative units to pixels whatever and
border-radius effects they hit the
testing area so here I should specify
overflow:hidden because otherwise I have
an inner object so you can see that if I
hover here the effect is not triggered I
have to actually hover on the area on
that area on the rounded area that's
white border radius was a huge
revolution from the background image
solutions where we're using not just
because it was easier but also because
unlike other solutions it effects a hit
testing area so here's another caveat
border-radius is all fine and
interoperable if you're using it in CSS
but what if you're using scripting is it
interoperable interoperable there so
here we have a border radius that has
like pretty much almost everything I've
told you so far it has percentages it
has different units different values per
corner curves that don't fit on their
scale down so what happens if you're
trying to get the computed style so
let's suppose we're getting that element
and we're calling it computed style on
it and we're querying border top left
right us most browsers return a hundred
percent which is what we specified
Firefox is being smarter and it resolves
it a hundred percent of pixels and it
also scales it down to what was actually
applied because here we don't have a
that's hundred percent we have 360
pixels in two hundred and eighty and if
we try to get the top right radius
similarly all browsers return eighty
pixels which is the m's we have
converted to pixels so they at least
bother to do that but they don't do
anything else Firefox is smarter it
returns the actual used value which is
really convenient that's why I'm using
Firefox for this presentation otherwise
I wouldn't be able to do this school
showing the curve thing I don't you use
Firefox on rate on a daily basis but
it's really useful for this talk so what
we just learned
there are incompatibilities in scripting
in border-radius Firefox converts
percentages to pixels all other browsers
report percentages and when the radius
doesn't fit
Firefox report scaled down sizes all
other browsers report specified sizes so
I have five more minutes okay so some of
you are I'm sure many of you are quite
advanced and he knew everything in this
talk so this is my secret weapon this
section have we seen everything about
water radius so far are there any
changes coming so in CSS backgrounds and
borders four of which I'm an editor
there's a really cool property I didn't
come up with it Ellicott Ahmad did but
it's an amazing property which is called
border corner shape so border color
shape will get keywords and currently
gets one keyword but in the future it
will get will change the spec and it
will accept different keywords per
corner so if you have curve you get the
default effect that we've seen in this
talk a curve just gives you curved
corners you can have bevel that just
cuts corner at
that creates this sort of effect and
it's not just useful for this effect
only you can have a number of cool you
can do a number of cool things with it
like you can do polygons of sorts you
can do diamonds you can do triangles
let's see it would be 50% horizontally
and 100% see hexagons triangles we're
going to huge lengths today to make
triangles it should be simpler or you
can do like arrow shapes like this this
is simulated with SVG by the way that's
born according to shape is not supported
anywhere yet so you could do like this
bread crumb kind of shape with it as
well and there's also a scoop value
which creates this effect which some
people call negative border-radius and
you can have a notch value which is
arguably less useful than the other ones
just creates this effect but you can use
it to make crosses and stuff so but
according to Sabre is really cool but
even if it gets implemented it will but
it will be a while before it does is
tomato will be at least a year before we
get the first implementations and that's
if those who don't want it in the spec
don't win so what can we do until then
and we start using background images for
those effects there is another way we
can use gradients and that way we can
tweak them from the CSS like now I'm
just changing the size of one of the
corners and here we have four linear
gradients and each occupy a quarter of
our element that's why background size
is 50% you can see it more clearly if I
change this like every one of those
gradients of
you PI's 1/4 here and you can do
something similar with radial gradients
as well and you can still tweak them
quite easily although in some browsers
they're they're a bit Elias they're not
the smoothest background images
so as I'm mirroring to an end in this
talk you might feel like you've
forgotten many things especially
everything especially if you've learned
something new today which I really hope
you did so what can you do if you feel
you're forgotten anything first off my
slides are online so if you've kept
notes that wasn't good idea all right
you can use these resources to remind
yourself well first to our web are from
webplatform.org how many of you have
heard about web platforms org yay
they're getting more so webplatform.org
is an effort by w3c and several other
companies like Adobe and Microsoft and
Google and opera Mozilla and like all
the big players of the web to create a
single documentation resource with the
community because it's it's a wiki so if
you find something wrong instead of
complaining you can fix it and it's
vendor-neutral it's not conceited it's
not controlled by a single vendor like
all the other resources we've had so far
so I think it's quite amazing I have a
few stickers with me if you know if
you'd like one just find me afterwards
and this is the link to the
specification I didn't include the link
to the CSS backgrounds and borders for
specification because that's still in
edit or draft and I kind of felt guilty
doing so but if you can find it quite
easily because you know editor drafts
are not normative or anything there
aren't specifications are basically just
ideas oh one minute over time so before
I finish and before I go into the Q&amp;amp;A
section that we probably don't have time
for it for here is the question I
usually get after my talks how was how
did you make this was was the web
application yes it's a web application
the
our slide deck was built with open web
technologies the slideshow framework is
something I've released like two years
ago but I keep adding to it it's called
CSS as the illustrations are built with
SVG mr. bharat radiuses face as animated
with smile and the equations displayed
will were built with math amel like I've
already mentioned so thank you very much
this is how you can contact me and this
is the link to my slides thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>