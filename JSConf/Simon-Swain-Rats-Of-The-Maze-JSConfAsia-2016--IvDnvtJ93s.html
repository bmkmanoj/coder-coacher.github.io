<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Simon Swain: Rats Of The Maze - JSConf.Asia 2016 | Coder Coacher - Coaching Coders</title><meta content="Simon Swain: Rats Of The Maze - JSConf.Asia 2016 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Simon Swain: Rats Of The Maze - JSConf.Asia 2016</b></h2><h5 class="post__date">2016-12-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/-IvDnvtJ93s" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">you
you
the year is 2048 30 years ago we
outsource the very runnings of our lives
to machines machines they learn the
machines learnt too well today all
computing resource on the planet has
been consolidated in a vast maze churn
out of solid rock no humans have access
to the maze reactors makes an ideal home
for millions of flesh eating rats your
mission is the end of the maze sabotage
the power source of the machine and free
the human race from it's self-inflicted
automated prison
you are our last best hope but until
today no human has survived
is of the rats rats
you
you
human hackers have penetrated the
machines networks and obtained some
basic intelligence on the configuration
of their defenses
before you enter the maze we will
provide a brief overview of what we have
learned so far the machines hired deep
in there may is from where they control
our world disable their power to free
all humans each maze has a reactor find
the reactor sabotage escape follow
markers to reach your goal we have
identified three primary variants of
vermin the breeder at the baby rent the
killer read superior machine engineering
creates rat breeding factories
destroy rats have no messy in a tight
situation you're super Zappa will help
you survive
before you enter the maze we will
provide a brief training simulation
are you ready you look
you
you
you
you
you
you
you
the maze exists as a grid
we represent the noise in memory as a
one dimensional array we can easily
translate between the XY coordinates of
the cells and the grid and the zero
indexed elements of the array that are
these cells each cell is a
self-contained simulation implemented as
a function object it has attributes that
describe the cell and arrays to hold the
collections of actors that exist within
the cell one of ourselves attributes are
its neighbors a 4 element array
representing north east south and west
if a given side of the cell is closed
the corresponding element in the
neighbors array is known if a side of
the cell is open corresponding element
holds a reference to the function object
that is the neighboring cell this lets
us create a traversable graph of cells
that are connected together and have
cells that are completely isolated from
their neighbors giving us access to a
bountiful abundance of powerful
algorithms to make a maze we start with
a grid of completely disconnected cells
pick ax sell a random any cell will do
pick a neighbor of that cell ensuring
that neighbor has no connections of its
own create a mutual connection between
the two cells which the cell we came
from on to a stag repeat the process
from the neighboring cell we selected as
we work our way through the grid we
build up a list of places we visited
when there are no more cells to explore
we pop an element off the stack and work
back the way we came following up any
unexplored cells we find along the way
when there's nothing left on our stack
we know we formed a perfect maze
each cell is a self-contained simulation
it is a floor space and collections of
actors that interact with each other
within that space a game loop runs 60
times a second driven by window don't
requestanimationframe each frame we
iterate through our array of cells
giving each one a chance to run at
simulation so its actors can observe
their environment and react accordingly
the simulations use simple counters
periodic waveforms and the probability
of events occurring to modulate
parameters and trigger effects each
class of actor has a set of interacting
behaviors combining several simple
behaviors together can make for complex
results when an actor moves to the edge
of a cell and that edge is closed they
reflect off the walls exert a kind of
short range as some topic anti-gravity
expressed as a force vector and applied
to the actors velocity causing them to
move away from the wall if the side of
the cell is open the actor has moved
into the neighboring cell with a bit of
math applied to their position to
reflect their entry point the human
exhibits are consuming impulse to seek
the reactor sabotage and escape the rats
exhibitor base
slaton behavior with a cluster and move
together as a group or maintaining some
separation from their friends the killer
ants have the same base behavior but a
possessed to seek the human and devour
flesh both basic behaviors be holding us
be able to find our way through the maze
we always have an origin and a desired
destination because we have a perfect
maze we can always find away from one
cell to any other from our origin we
expand a search frontier through every
connected cell we can find as we search
we record the place we came from and
calculate the cost in terms of distance
for us to get to each cell if for a
given path there are no more cells to
explore we terminate our search on that
path if we reach our destination our
search is complete and we use a list of
places we came from to determine our
route we can enhance this over to the
cost calculation for each cell based
roughly on the distance from that cell
to our destination and following the
path with the lowest cost to help us
reach our goal quickly when the human
enters amazed he uses the formula to
determine the route to the reactor the
steps of the path are contained in an
array of cell indexes arranged an order
from start to finish from the seller
humanism we determine the exit that is
connected to the next step in the path
and apply a force vector to the human in
that direction pushing them out through
the exit and into the next cell until he
reaches the reactor when it's time to
escape the path is reversed
it would be too expensive to calculate
the path through the maze for each
individual rent so before updating each
cell determines the route through its
neighbours to the human applying a force
vector to all killer rats on the cell
pushing them out through the exit
creating the illusion that they are
seeking the human to devour his flesh
when a maze is created we need to seed
it with interesting objects some cells
have a special object in them like the
reactor or a ranch factory the first
cell in the maze is always the ingress
the human enter through the last cell is
always the reactor the human follows a
path from the ingress to the reactor and
back we can treat the sips of this path
is linear and pick points at random or
according to some rules placing items in
the cells referenced by those points we
can also place items off the path so
they have an effect on play but don't
interfere with the humans movement a
level counter is incremented each time a
maze is completed as the human
progresses through the levels the mazes
get larger with more devious entities
hiding in their depths the occurrence of
monsters in the first floor levels is
hard-coded but beyond that some cheap
tricks are employed to create the
illusion of forethought if we take a
level number and apply some modular
arithmetic we can activate a disabled
the occurrence of certain effects and
objects based on the result every third
level zooms to follow the human every
seventh liver has extra power ups every
13th level is a tiny maze
the future is uncertain but one day soon
the human race must enter the maze of
the rats
thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>