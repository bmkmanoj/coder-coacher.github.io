<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Rob Kerr: Science in the Browser - JSConf Budapest 2016 | Coder Coacher - Coaching Coders</title><meta content="Rob Kerr: Science in the Browser - JSConf Budapest 2016 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Rob Kerr: Science in the Browser - JSConf Budapest 2016</b></h2><h5 class="post__date">2016-06-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/mz4N3U5f2tg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so good afternoon everyone I'm really
excited to be here talking to you today
my name is rob kerr i'm from IBM
research and I've come all the way from
Melbourne Australia so as it says up
there I'm going to talk to you about
science in the browser today I'm going
to talk to you about how I use a web
browser to orchestrate and visualize
simulations of neurons which are brain
cells but more generally I'm going to
speak to you about my experiences
working at the intersection of science
and web development but before I get to
that and if this will still work I'm
going to tell you to origin stories and
like all good origin stories these
involves science so the first of these I
think a lot of you'll probably be
familiar with and that is the birth of
the web so the web was created back in
the 1980s to help scientists do science
was created by that's the science lab
was created by tim berners-lee at CERN
and it was created to to solve a problem
particle physicists from around the
world needed better ways to access and
share the data that they collected while
they're out soon as Tim sort of put it
the data collected from different
experiments would be stored on different
computers you'd have to log onto these
computers manually you'd often have to
learn a new program or programming
language to get at the data and so he
saw the web as a way to simplify this to
make it easy to access and share the
data between like within the community
and shortly after this the web spun out
of the scientific community to become
what it is today oops so the second
origin story guess this isn't working
quite like he expected the second origin
story that i'd like to tell you is one
that i think very few over you feel
familiar with that's the story of how I
came to be speaking to you today
so like most of you sorry like many of
you here I've come to the web from
somewhere else my background is in
neuroscience it's in developing
mathematical models to try and
understand different parts of the brain
and how they work this was something I
was so interested in fact I decided to
do a PhD in it and PhD specialties are
difficult it's not because you have to
be super smart that that does help but
it's because you have to work by
yourself on a single project for years
and years no one else really knows what
you're doing ultimately no one else
really cares if it's successful it's
your project and because of this the end
of a PhD is a time of stress
disillusionment and procrastination now
I didn't make a jacket out of receipts
instead what I did I taught myself Ruby
on Rails and as a sort of a project to
help with this something to build I
built a rhyming dictionary which I felt
wrong I built a rhyming dictionary
called any rom-com which is online if
you want to check it out and so I used
Ruby on Rails to build the backend for
it and then I decided I wanted sort of a
visual interface so the users could not
just do a normal sort of rain but they
could like match different parts of the
word and even do portman toes and that
sort of thing so i told myself a bit of
angular to build something and i found
myself really enjoying this I'm not just
because i had a thesis i didn't want to
write I found it really satisfying to
use code to construct something visual
something you could see and something
that people could interact with I think
that probably resonates with the follow
of you here but eventually I handed in
my thesis and got a job with IBM
Research to continue doing euro science
but now I'd had this taste for what web
could do I knew about this whole other
world of stuff and perhaps that could
help with my research but before I get
into that I'm going to give you a bit of
context and a bit more of an
understanding of what research it is
that I do
so this is going to work at all oh well
yeah place it's a really good transition
so I'm going to do it for the
transitions right yep
okay oh we're not Marin okay that's good
now we've got we've recreated the
failure and you leave that open because
I'm going to need to me later yeah it's
going to be fine so this is the other
monitor and so now if I click this and
wait wait wait wait wait wait wait wait
wait
it's going to be good
gosh right right right right right Leigh
from current slide is that it it's a
wide slot that's what I wanted
well this is excellent because you're
really going to like this transition so
this is a plastic model of the human
brain it represents a hunk of meat that
sits in our heads and is responsible for
all our memories and motions and
decisions it gives us our sense of self
and our ability to comprehend the world
it allows us to learn to move and to
speak information from our senses such
as our eyes our ears and our fingertips
is all sent to the brain to be
remembered to be understood and
potentially lead to actions yet how the
brain accomplishes all of this is still
largely a mystery and finding out is one
of the fundamental goals of neuroscience
one thing we do know however is the
brain is made up of an enormous network
of neurons of cells called neurons ready
for it so the human brain contains
approximately 86 billion neurons and
each of these makes 10,000 connections
with other cells in the brain it is this
large dense network of cells that
scientists believe give rise to all of
these abilities that I just mentioned
but let's zoom in now through some
individual neurons what we see is that
these all have a common structure they
have a cell body called the soma they
have incoming fibers called dendrites
and have an outgoing fiber called an
axon this axon end branches and it forms
connections onto the dendrites of other
neurons yet despite this basic common
structure there is a large variety of
different neuron morphologies found
throughout the brain so here are some
examples and examples of even more of
these can be found online ok so now
going to mirror
at a website called neuromorphic org you
guys can say that yes so this is an
online database of neuron morphologies
and that have been uploaded by
experimentalists so what happens is
experimentalists get fluorescent dye and
they inject the eject the dye into the
neuron cells so that they stand out from
the other neurons they then take a
series of microscope images at different
depths and they then get these images
and they painstakingly know they get
their students to painstakingly trace
through these images in order to
recreate the full 3d morphology now here
we see some images of these sort of
morphology so these are static 2d images
so they give you an idea of what the
morphology looks like but what they
actually look like is this they're
actually text files so each row in this
text file corresponds to a point on the
neuron the first the first done column
is the ID each row then has a type so
milord end Raider axon has XYZ
coordinates and as a radius telling you
how thick the fibers at that point and
then starting from the cell body which
is negative 1 they all have the parent
point the idea of the parent point and
in this way it construct sort of the
tree that is in your arm now very often
in science having a good way to
visualize your data is is key this is a
prime example because just looking at
this file we can't see what's going on
we can't see what this neuron looks like
so what I decided to do was to build
build a simple tool to to visualize this
morphology and existing tools were
already out there that's how they made
those images but I wanted to learn three
jazz and I also I wanted something sort
of simple in and easy to use that I
could extend how I want it so i'll just
show you a demo of that now so this is
let's make it a bit figure so you can
see so here i can upload that file we
were just looking up
and we can see it loads here it's a bit
small but now we can we can rotate and
zoom in and see the full 3d morphology
so here we've got the blue and purple
fibers at the dendrites so the incoming
fibers the cell body is sort of just a
point and then in white we've got the
outgoing axon so this neurons upside
down to the one I showed you previously
and so this is nice i now have sort of a
visual way to interact with my model but
okay now I've got to do this again
settle in each digit
yes
jump forward so I now have I now have
this nice way of interacting visually
with my data but for a moment let's get
back to the problems in science that Tim
berners-lee saw in that he was trying to
solve with the web how are we doing
today well it's now like easy to just
browse online through scientific
publications of researchers from around
the world they can share their code and
their data with us and I can point to a
number of websites in just in
neuroscience of loans such as new and
more food org where you'll find
carefully curated data sets in addition
to this there's open source software
available to do different types of
simulations and analysis and put all
different fields within science yet how
different is this really to before the
web arise arose it's now trivial to
access all this data i agree but all of
it requires a high level of technical
expertise to understand and to use what
if we started using and sharing
interactive visualizations to let us
fully explore the data without needing
to install anything what if we started
sharing interactive tools for performing
analysis and simulations that could be
run by anywhere any that could be run by
anyone anywhere researchers want to be
able to share their findings they want
to be able to share the details of these
findings this is good for their career
and it's good for science in general
they just haven't had good ways of doing
this when they were specialized software
that was required for performing the
analysis simulations and even doing the
visualizations however this is starting
to change recent developments in browser
technologies such as WebGL and
JavaScript libraries such as 3gs and d3
make the browser a compelling place to
build useful visual you is for
scientific tools I would say it's much
easier now to create these online tools
than it is to create a native app to do
the same thing and it's much more easily
shareable and right so let's get back to
me and my neurons I was nailed will to
visualize these in 3d
and this is great but so what what I
actually wanted to do what I actually
was interested in its understanding how
these neurons worked and try to build
models of this behavior I was interested
in what it was that neurons actually do
that when they connected up in these
larger networks somehow leads to
cognition somehow leads to us so to give
you a bit more of an understanding for
what we know about neurons let's go back
to our diagram so neurons communicate
with each other within this network by
sending bursts of electricity called
spikes or action potentials they send
these out along their axons to the
connection between neurons called
synapses when an action potential
arrives at a synapse it creates or any
juices in the target neuron in the
dendrite of the target neuron a much
smaller pulse this small pulse then
travels towards the soma just too too
excited a little bit and if there's
enough of these small pulses arriving at
the same time the neuron gets very
excited and it produces its own slack
its own action potential which travels
out along the axon to signal other
neurons in the network and this is in
this way they communicate and this is
often recreated artificially in
experiments through using stimulating
electrode that injects current directly
into the neuron and it was for doing
experiments like this one like like this
that two English scientists back in the
1950s called hodgkin-huxley developed
the first mathematical model of the
electrical behavior of a neuron they
they did these experiments on squid
giant axon which is a disappointingly
normal-sized squid that has a very large
axon and it was the size of this
accident that allowed them to do these
experiments with the technology that was
available to them at the time and they
won a Nobel Prize for this work which
they shared with a Melbourne researcher
in fact called tongue coach John Eccles
now I didn't have any code to show you
today but it's okay because I've got
something even better I've got some
equations
now you don't need to understand these
equations but they tell you how the
voltage and the difference teta
different ion channels within a neuron
change over time they're still widely
used within the neuroscience community
or some variant of them and I use this
type of model in these type of equations
for my own research so the simulations I
run i divided a neuron up into small
segments called compartments and this
set of equation gets applied to each of
those compartments in this way I can
simulate what it would be like to inject
current into a neuron or bombarding
you're on with synaptic synaptic inputs
like it like it does in the brain so
what I wanted was a visual tool to let
me to let me change the parameters of
this model and actually see what I was
doing to see the morphology and to see
how the parameters varied over that
morphology I also wanted a way to for a
simulation that had been run look at the
outputs look at what parts of the neuron
responded to can't be injected at a
particular point so I decided to build a
tool to let me do this this is something
I've spent a decent portion of the last
might say two years on I've learned it's
taught me a lot and I've gotten a lot of
help from other people that I'm very
very grateful for and what I've built
I'm very proud of it's my baby and I'm
very excited to be I'll show you today
so that what I'm going to demonstrate to
you is first of all how I can figure a
simulation and change the input
parameters and then I'm going to show
you a simulation that's already been run
we can visualize the outputs and see how
the new one response so let's push our
luck and do this again where is my mouse
okay so here is here is the new
interface it looks quite similar to the
old one we've got still the purple and
blue fibers representing the dendrites
and the white one representing the axon
we can still zoom and rotate the cell
body is now represented by severe so we
can see how large it is and this is all
a bit small so one big edition is now we
can select a compartment and select a
piece of the neuron and look at the
properties of this so we can look at the
XYZ coordinates and the radius so things
about the morphology but we can also
look at some of the active electrical
properties of the neuron we can look at
its axial resistance and we can look at
different properties of ion channels
that exists within that part of the
neuron I can select multiple
compartments and let's just change one
of these parameters for that let's make
it a lot lower so that was easy but we
can't really see what we just did it
looks the same so what I decided to
build was a way that we can color the
neuron by the different parameters that
we have in the model so I can color it
by this parameter we just changed
hopefully you can all see that there's
purple and blue there so what we're
visualizing now is the conductance
density of sodium ion channels now these
kind of control how excitable the cell
is so we've got very high values high
densities of these in the summer and in
the axon and lower values in the den
drive and then much lower values where
we manually change them so this is this
is pretty useful and I can also color by
other things like the radius so you may
have noticed this is just a line drawing
of a neuron now at some point I plan to
sort of make this and into actual
volumes that I render but it's not a big
priority because these fibers are quite
thin relative to the overall size of the
neuron and it wouldn't look overly
different but this lets us quickly and
easily see what thickness the fibers are
we can see that this is this thick trunk
going sort of vertically through the
neuron we see that the fibers get
being as you travel out so i'll just go
back and color by the type again so
importantly though i want to be able to
inject current insist neuron 22 given an
input basically that we could then
simulate something it could respond to
so we can go down to this tab and I can
inject some can't into it i can add an
electrode just amount of it and using
three jace i made this little graph so
you can see the current overtime for
this electrode and we can change this i
might make this pulse come in a bit
later maybe it's larger maybe it's much
wider pulse we can also change it so
that there's multiple pulses through the
simulation so let's now go to a
simulation I prepared earlier so this is
quite similar to the one I just showed
you here we've got current being ejected
at 50 milliseconds into this part of the
cell and if I go down the bottom we've
got this visualized tab and we can see a
similar sort of d3 line graph however
this one represents the voltage over
time this is an output of the model
we've ran a simulation of this and we've
got this response this is how the neuron
responds and so a line graph like this
and we can do it for different
compartments so I can do it for one down
here and we can zoom in on this this is
sort of the typical typical output of a
neural simulation you find how the
voltage changes at a particular point in
the neuron usually the soma but for
certain questions this isn't really
enough so what I decided to do is the
same way i was coloring the neuron by
different input parameters i can color
the neuron by the voltage and so we can
see now it's all gone purple so purple
here represents about negative 65
millivolts it's the resting state of
this neuron before any inputs come in
and so what I'm going to do now is play
forward over the time where we inject
current into the cell and we're going to
see how the neuron responds to this
so if I got in here and press play you
can see where we're up to here current
was about to be injected up here and
enough can't it enters the stoma too
excited and to produce an action
potential so I'll just play it back over
this again so we can zoom in and rotate
as this is happening thank you
so back to power punch
yes good so believe it or not spikes
like that are occurring billions of
times the second in your brains this is
how we think and do everything now I bet
most of you are pretty surprised to be
learning about neuroscience at a
JavaScript conference to me this is kind
of normal this is what I do but I
understand that this is somewhat niche
it doesn't really relate to what most of
you would do day to day but the point of
this is not about neuroscience the point
of this is that the web is changing
science in general modern web browsers
now allow us to deliver interactive
visualizations to fully explore data
into to visualize simulations coupled
with this we've got cloud-based
technologies which can power these
interfaces now I haven't shown you this
yet but that simulation of a neuron you
just saw that was running the cloud by
pressing a button within that web app I
could run a simulation of a neuron and
not care where the computation happened
and the point of this is that it didn't
have to be a neuron that I was
simulating in fact using what i learned
from building this tool me and others in
the lab built an analogous tool for
simulating the weather it's a bit lazy
of me so i'm going to show you a
demonstration of this now and i think
this will help you appreciate how how
generally applicable the web is to
science and how much can change science
in general so going to do this a few
more times
okay so here is our interface for our
weather simulation tool thank you now
you can see it let's make it a bit
bigger so we're no longer looking at a
three-dimensional view of a neuron this
is something we're all more familiar
with we're looking at a map so we're
looking at budapest here and we've got
this big rectangle around the city so
this is this is the area that we might
want to simulate the weather for we can
make that much larger and look at a much
larger grid and get the weather for now
decent part of europe and we can hold on
ok i need to make the internet work
before we do the next bit but that's
okay and i can choose where it is so i
could go to where i live in melbourne
australia and we could look we could
simulate the weather there and i could
we could perform a simulation of or a
forecast rather of the weather going
forward several days into the future or
we could do something else that's quite
common which is called a hindcast so
this is where we go to a previous point
in time and simulate using existing
weather observations create a much more
detailed simulation of what the weather
was or would have been in that location
and so it's an example of that that i'm
going to show you now for the weather
over Barcelona so here we see a heat map
of the temperature or the surface
temperature for this region that
includes Barcelona and I'm going to play
forward over a couple of days so we can
see how this changes you'll see it go
yellow over the land during the day as
things heat up and it will stay
relatively constant over the
Mediterranean so if we play forward like
this we see this is what is predicted
the the weather to be like and we can
see the outline of a mountain range
there where it doesn't get quite as warm
I think that's the Pyrenees
yeah so back to PowerPoint and while I'm
here I'm going to turn off Wi-Fi and see
you how that goes can you see that no
excellent
so meteorology and neuroscience are very
different fields but despite that these
two apps share a lot in common in both
cases we were able to move everything
online to use cloud-based resources in
both cases we did away with the need to
install files or sorry to organize files
or install software but having a web app
that can do this this is my web app that
is able to orchestrate these simulations
to store the inputs and to store the
outputs this is by no means trivial and
it certainly wasn't to me luckily though
I work with a lot of amazing people at
IBM Research whom I could learn from and
who could guide me in this the other
benefit to working for IBM is that I
have access to these new web and cloud
technologies that are available because
we we acquired the companies that
develop them so I've deployed my web app
in bluemix so this is a service built
around cloud foundry for deploying web
apps and it lets you connect in other
services very easily like databases so I
use a database to keep track of the
simulations in their state and these
simulations have to run somewhere and so
I need to put these on virtual machines
in the cloud and they run using C++ code
that was in fact written by my manager
and this c++ code runs inside a docker
container and it generates upwards and
it has to put these outputs somewhere
and we want them somewhere where they're
very accessible from where the browser
can access them easily and for this we
use object storage which is terrific for
large size data files that you want to
make easily accessible to the browser
you can create a temporary URL and so
both of these things can be offered to
us to an IBM acquisition called
softlayer and so this is the basic
architecture and you'll notice there's
nothing to do with neuroscience or
meteorology here that'll happens in the
browser locally or at the very back end
in our docker container this is
generally applicable to any sort of
scientific problem or in fact any
problem where you need to analyze data
or performs
relations and so do you see what's
happened here from its birthplace in
science the web has come full circle and
is now offering new possibilities and
new opportunities to science and it's
for this reason that I'd like to see a
larger overlap between the scientific
and the web communities and to this end
a friend of mine Isabel and I developed
a course to teach academic researchers
about the web give them basic web
development understanding of HTML and
JavaScript and CSS and how to use a
visualization library called III so we
developed this course sorry I'm supposed
together we developed this course and
his Isabel tweeting about it and we
developed it all online on github so
that other people can contribute and
more important other people could use it
to teach it wherever they were and in
fact before we even have the chance to
teach it someone else picked it up and
decided to teach it they taught it at
CERN believe it or not it was part of a
student summer web fest and I just think
this is really cool cern is embracing
the fruits of the web that they helped
create so before i leave you today i
want to show you something that was
unfathomable back when Tim berners-lee
first proposed the web I want to show
you a simulation of a neuron that's
happening in the cloud in real time from
the browser so in real time we're going
to to watch the electrical activity
travel through this neuron as it's being
simulated assuming that demo gods allow
us to okay everything's looking pretty
good
let me jump back here so this is where
we were and if I jump back out we can
see this was one simulation in a gallery
of simulations so the green ones the
ones that have been previously simulated
and the yellow ones are new ones that
we're still configuring and haven't yet
haven't yet run and and this is this is
great because this is all online so
people collaborating together can access
and see what their what each other are
working on they can put a new model up
and tell the others possibly on the
other side of the world to check out the
new model I developed what do you think
and so we can create a copy of this
simulation here a new copy that we can
modify and then simulate and this is
going extraordinarily well so this is
the simulation we're looking at before
let's now add a few more inputs so let's
add let's add one up here and let's make
it happen at 75 300 that's good but it's
a bit boring let's add another one here
so let's make that happen at 100 and
let's make it last 400 hundred
milliseconds and let's make it really
strong let's give it a thousand Pico
amps okay so I've got the simulation
ready now so what we can do is go up the
top here and there's a button called
simulate so i can press that and it now
says it's running so what's happening
now is that all our new inputs were sent
back up to the server and it was told i
want to simulate this so it puts the
data in object storage and it puts this
job in a queue saying please simulate
this I then have a worker that picks it
up and and downloads the data it needs
and starts simulating and as it
simulates it'll output is not working
as it's simulating it will start
outputting data he does not yet let's
give it a bit longer I have a back-up
plan so as its as simulating it outputs
data into object storage which is the
browser can then check to see whether
it's there and if it is it can download
and present it to us before the
simulations even finished doesn't look
like we're going to be so lucky today in
fact i think the simulation is maybe
finished
no I'm uneven that's right I once again
prepared one familiar so just imagine
this is still running in real time so
I'll play this for you now so again
initially we'll have the same pulse that
we injected last time and then we'll
have one a bit further away so up here
and the next one will come in no one is
going to be awkward pauses exciting time
this one so what's it well and so this
one isn't enough to excite the cell and
then in a little bit we'll just really
hammer it so as I mentioned my manager
he wrote the C++ code that runs the
simulation and he kind of insisted on
doing this because he done a bunch of
times and he knew exactly how it needed
to be done but this is the first time
he's been able to watch as the
simulations been running and really see
what was happening in the cell this is I
think something that science badly needs
in all fields of science I see it as the
future of science and so before I go I
need to affect about that and spoil us
know you can see that
and so I'm used to giving academic
conference talks and those always end
with an acknowledgement slide sorry
that's what I'm going to do today so the
first person i thank is Glen Madden so
he was who got me into web in the first
place and he continues to be a mentor in
anything web related secondly like that
Isabel Kiril kornek who I mentioned
earlier with whom I developed the d3
course to teach to researchers she also
is happy to supply endless feedback for
any project I've been working on I'd
like to thank certain members of the web
community who first suggest that I could
speak at a JavaScript conference like
this and for helping me craft my
submission but I'd like to thank all of
you this is such a welcoming community
for someone sort of coming from the
outside seriously you're great I'd like
to acknowledge IBM research IBM Research
Australia who sent me here and who have
supported this work and encouraged me
and I'd like to acknowledge all the
people I work with who have contributed
to this so it specifically Tim and
Jordan there who built most of the the
weather the weather up that was only
partly me and as I mentioned my manager
John Wagner who who wrote the C++ code
that ran in the back end and finally I'd
like to thank jay is conf Budapest for
having me here today and for being
awesome and and before I forget I'd like
to thank Jake for fixing my presentation
and finally I like to thank all of you
cheers
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>