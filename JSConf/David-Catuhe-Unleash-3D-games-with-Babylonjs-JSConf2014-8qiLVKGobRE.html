<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>David Catuhe: Unleash 3D games with Babylon.js [JSConf2014] | Coder Coacher - Coaching Coders</title><meta content="David Catuhe: Unleash 3D games with Babylon.js [JSConf2014] - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>David Catuhe: Unleash 3D games with Babylon.js [JSConf2014]</b></h2><h5 class="post__date">2014-07-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/8qiLVKGobRE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I'm really convinced about is that in
the next couple of here we will see a
lot of 3d games
I mean Triple A games running on the
browser right now with the initiative of
for instance musiah with SMGs and some
stuff we're also doing with IE we are
pushing the limit of the web and without
plugin just by using a WebGL we'll be
able to have really great games that's
why with some friends of mine we decided
to create something to add web
developers creating games without having
to deal with math shaders WebGL plumbing
which is a bit annoying we wanted to
have something really really simple I
mean we wanted to have something that
can allow you guys to create a game and
just focus on the game and not the
plumbing we create for that
Babylon's yes and for the next 20
minutes I will try to shrink my time we
will I will show you how to use it
my name is David k2 I'm working for
Microsoft and I will do three crazy
things I will use Windows I will use IE
and I will use Visual Studio so yeah it
will be just different here is my handle
at Delta crush feel free to contact me
on Twitter and my email is there and my
blog is here so first of all I would
like to show
you owe to use Babylon Jia's so let's
move here try to sounds good
okay so just I just did visual Co to
have some kind of look whole web web
server
okay so the only thing I need is to
create a website it's not related to
visual studio I'm joking you can use
whatever you want just as long as you
have a web server so let's just use a
blank website here and I would just drop
in double NGS treat oh that's
interesting
you can't see it okay let's duplicate it
should be great a better yeah sounds
good guys okay so I will just had a web
page let's find a web page right there
and I will call it index that HT in this
web page I just had here the villains
yes the only thing you need is a canvas
who is we already played with WebGL here
okay let's say 5% okay
absolutely I can is it powerful
yeah it's Visual Studio did I mention
that so let's call it canvas and what I
want to do err just had some CSS quickly
just to be sure that my canvas will use
all the screen so HTML body and canvas
will be full screen and 100% with same
thing 8 sorry about that it's just to
have something
really beautiful to see you to show you
okay sounds good and what I want to do
here let's close that it's at the script
and in the script I will just create an
engine an engine is for you the best
tool to not deal with WebGL the engine
will do everything related for to WebGL
for you so you just have to create a new
Babylon dot engine object right there
give it the canvas let me grab it
yep and canvas canvas okay and use it
here when you treat the engine the
second thing you have to do is create a
scene the scene is the container or
everything you want to display on your
screen so it's like in in movies let's
create a new bubble on that scene and
the scene only need to know who is the
engine once the scene is created you can
treat a camera so the cameras view is
your point of view where are you in the
scene there is a lot of camera there are
a lot of different camera in babylons
yes I will use a rack rotate camera the
architect amira is a camera that will
rotate around a central pivot okay so
it's really convenient to for instance
look into some specific object it's new
Babylon that arc rotate rotate camera
let's give it a name like camera to
value this is a different angle there is
two angle to position an object on a
sphere I could add alpha and beta so
let's say 0 the reduce of the speed of
the sphere let's say 10 and the center
which is the center of the pivot it will
be here Babylon that vector of 3.0 and
finally the scene once the camera is
created we can ask the camera to get all
the control on new canvas I mean all the
input church mouse whatever
we'll be under by the camera if you want
to adjust to do some gesture to
pinch-to-zoom whatever the camera will
take care of that for you and we'll move
accordingly so the camera just have to
call attach attach control on the canvas
then we need a light so let's create
something like a small stone which is a
babylon dot point light this point light
should have a name light will also have
a position it's just a point dot and we
are in 3d so we need the vector three
it's X Y Z let's put it in say for us
somewhere there and always the scene so
we have the camera we have the light the
missing stuff is an object it's create a
sphere it's double on that mesh that
creates fear so sphere has a name it has
a definition remember that you are
walking with 3d so everything is based
around triangle even a sphere so if you
want to create a sphere we have to
define the desolation which means all
mini triangle what the definition was
the resolution of our sphere so let's
bathe on 32 the radius of the sphere
will be let's say 3 and the scene and
that's it the scene is complete what we
need right now is to ask the scene
Trender as fast as possible ok and on
modern browser we have something called
requestanimationframe which handle that
for you each time the browser wants to
display your frame it will call you will
do what you want to do and then the
browser will display your frame on
browser that doesn't support that you
can use a timeout for instance so just
to be convenient here we can ask just
the engine to run the render loop which
is the technical term with the anonymous
function and during this function the
only thing we want to do is just call
one there on the scene and I think I'm
done
if there is no bug
oh it's a sphere the bad idea is that a
rook hotate come around a spherical
object so you won't see when I move you
just just see the light moving a bit but
I when I move with my mouse and I
retired around my sphere what I can do
right now it just adds some texture
let's play with that quickly and we let
this one and this one because right now
the sphere is a bit let's say simple the
material is for you the convenient the
convenient way to not deal with shaders
I will go back to that after but right
now I just have to declare a new double
on that standard standard material this
material will have a name and a scene
and the sphere will use it as a material
okay the material we allow you to create
shaders without having to code the
shaders for instance I want to use a
diffuse texture the diffuse texture is
the texture that will be used for the
basic color of the object according to
the light
okay so right now the object is white
when the light is on it it's white where
there is no light is black okay and
right now I want to have an object a bit
more complex I want to use texture to
define the core of the object where the
light light it so it's a new Babylon
that texture the texture is html5 dot
PNG which is in my project and the scene
is just to see far better we have
something interesting the light is a
specific position and the light is not
moving I'm just rotating my camera
around the object what I can do quickly
is just use my render loop here to say
that light that position is equal to
camera position position so the light
will be on my head like this so when I
move
the light will move with me interesting
what can I decide also and I have plenty
of options right there but I can decide
that the diffuse texture right there
which is a PNG and so the texture
contain alpha I can define that alpha is
enable so the shaders we understand that
when there is an alpha value equal to
zero the pixel let's not be drawn okay
just by adding this line the object
right now is not a complete sphere and
as you can see Babylon GS is removing
the back face just to be sure that we
don't display too much faces but in this
case we need to display the best the
back face so I just asked the material
back face culling to disable that fault
and then I can see inside my object I
can go further and I can add something
name the bump if you are a gamer the
bump texture or normal map is something
really used it's a technical way to
simulate a volume without having to deal
with triangle in fact the object is only
a two triangle really simple but with a
texture applied on it we can simulate
the modification of the light we call
that the bump it's a bit complex if you
want to develop that but with double NGS
you just have to say that the burn
texture same way is a new texture that
we can use here and this time the name
is normal normal map dot jpg and as you
can see we can fill the volume nothing
different on the geometry side this is
the same object which I can play with
the touch obviously and as you can see
we feel the volume because the light is
not perfectly applied the surface of the
object there is some scratches and we
can fill the volume all right
back to the slides not a good idea right
if you are like me I hate learning new
things using documentation I know that
lots of people spend a lot of time
writing documentation but I ate that I
really ate that I prefer experimenting
I prefer learning and trying my new toys
on some kind of sandbox of things like
that as a developer I think I have to
switch again to duplicate sorry about
that
yeah as the developer I created for you
a tools call the playground let's go
with it you can experiment it right now
it's under LMGs dot slash playground
it's a place where you can try specific
gg-get features without having to deal
with creating an HTML and XHTML hmm
sounds like I could use my local version
as you can see here oh that's great okay
grant no problem with that let's go to
the playground you should have the same
thing online almost my network is just
broke down yeah I know trying to make it
work I'm sorry guys
what a wonderful demonstration No
I'm connected
just for your pleasure okay
so let's imagine the playground looked
like this stuff it's a place where you
can on the left side you have some kind
of editor where you occurred editor
where you can type in and select
whatever you want to do and you can just
try it immediately because the right
side of the application is just live
example of what you just code and I
would have loved to make it work
oh thanks good okay so yeah this is the
best tip of my demonstration so here you
have a playground where you can see and
just on the left side you see that you
can create a camera a touch control cat
light just what I did and just try
things each time you want to learn new
thing we have some kind of tutorial
right there for instant let's play with
shadows okay so as you can see loading a
set okay it's okay so you just have this
kind of environment it's a night map
it's a plane deform using a texture and
there is a donut flying with two shadows
which is the interesting pattern of the
flying donuts and all the code is here
it's less than 30 lines of code we
really try are to be sure that each time
you want to do something it's with the
minimal amount of code you can go in
some kind of advanced mode if you want
you can deal with shadow you can deal
with everything related to WebGL but for
that the beginner of the other people
that don't want to mess with that you
just have to stick with the first level
API here you can see I create two lights
each light some specific stuff around
shadow which is they're called shadow
which in a retro cell and the shadow
generator will do everything for you in
we generate the map apply it on the
object you do everything for you all
right
you can also quit I'm sorry about this
presentation it's easy because each time
it change the resolution you can also
deal with shadows it's the interesting
part shadows can allow you to go really
deep into eye quality visual I mean you
can create things like that with a new
tool called CY OS which means create
your own shader okay it's this time you
will have specific object sphere
tohru's my prophetic not and you just
have you know the vertex shader and the
pixel shader and using this small amount
of code which will be
heute hit on the GPU side its GLSL it's
a specific language it look like see you
can explain to the GPU all each pixel
are rendered and if you want to play
with that there is some sample here the
basic one is just reading the texture
then we can go a bit complex and adding
some kind of black and white and adding
cell shading like in video game and
phone which is the name of the guy that
find oh the light equation is defined
and bla bla bla bla bla and you can play
with some kind of any things like the
the wave everything sorry everything is
just GLSL is just shader code and if you
want to do that guys you can experiment
using CIOs and then you can use it on
your own code and I prepare for you a
specific sample right there so same same
story I just reference babylons yes and
there I create a script with the type
which is not JavaScript just to be sure
that the browser don't want to compile
it
it's the code that I could be passed
from there the first one here and the
second one the FairTax and the pixel
shaders I put them here and then I do
the same thing in credit canvas and
Engine has seen the light tutor Wizard
cam and the material I use right there
is a shadow material meaning you take
the control over all a pixel is defined
you have to create the shadowed put that
code into your page and just choose the
subject so if I run this page my donut
here I apply on it some kind of cartoon
red effect just by creating the shadow
material right there
we try to keep things simple you just
have to mess with WebGL you just define
out salaries and all the stuff all the
plumbing is done then
you can see here it's some kind of
developer demonstration I mean it's a
sphere donuts okay if you want to treat
a game unless you have some great idea
we've done it and sphere it will be
limited let's say you will have to work
with graphics or 3d artists and to do
that they won't use sublime text visual
studio whatever they will use their own
DCC they will use their own data
creation tools and one of them is
blender it's a free open-source project
extremely powerful where you can treat
really beautiful scene we decided to
support blender and to do that it's
pretty easy let me just read something
the best I can do is create a monkey
head it's easy for the record this
monkey head name is Susan I don't know
why and as you can see there is a camera
right there so it's perfect there is two
object I will just had a plane here I
will zoom it to be sure it's a ground
for me okay and what we did we added
some specific functionality into blender
to allow you to control up specific
properties and when you want you just
want to export Babylon GS file right
there and you just have to load it into
your page so let me just select
something here I'm not really okay here
you can see some specific double NGS
features for instance for my ground
I want my ground to check collision
meaning I don't want the camera to go
through the subject I want the camera to
consider it as a solid object okay then
for my camera right there I also want to
have collision and gravity and the
gravity is like in on earth it's don't
going down then on the monkey Edie I
will add
seeing different I will as physics I
want the ad to use the physic engine and
be considered as box for instance with a
mass of 1 and for the cube I will do the
same thing I would consider it as a box
with a mass of 1 and the ground I will
consider it as a box but I don't want
the ground to fall down I want the
ground to remain where is it to remain
static so I just defined a mass of 0
it's a bit strange doing that I just
have to export everything on my desktop
for instance and blender will generate
for me dot W on file you can load that
using this kind of code
and by the way I will show you also the
sandbox
during the same time trying to load
things so the sandbox is just a place
for designers to just drag and drop into
the browser the generated file just to
be sure that there I look okay they can
try and simulate all the object will
appear when it will be render up using
the villains yes yeah that's it okay you
just drag and drop thing yeah and you
can see that there are physic and I can
move with my camera and if I go out of
the world oh I'm just falling down yeah
this strange to load this kind of file
is just one line of code same thing you
just have to call scene loader
scene loader dot load and it will load
for you the file and everything will be
accessible a new scene is created for
you a new camera a new object everything
as I shown you prefer just before but
with just one line of code because it's
coming from blender we also spent a lot
of time working on different in fluid
input you can we handle the touch the
pointer event staff even on Chrome and
Firefox because we are using NDS which
is a polyfill for pointer event we also
use a device orientation so you can move
your tablet or whatever and just control
your camera via to al joystick with two
fingers on touch mode like in on the
phone for instance and a live cam
arrives you want to have a 3d effect
with red and green and Okaloosa with
just one line of code you can plug a new
clothes on Babylon's yes and have your
head movement that can control the
camera something I will just show you
quickly and I will go to this one
because we support this is the Microsoft
moment because we support html5 and
JavaScript has native language you can
just create a new project which is name
Universal app drag and drop inside
everything like double mgs the curd that
you sorry the curd that you want to use
yeah oh you have the code to load
something here but we don't see no do
not import mesh we load the scale the W
on file which is just there and if I
execute that on my emulator right there
it will be a new native app yeah it is
curved it's not mine not yet and using
touch you can I don't know if it's a
good game but you can play with the
scale perhaps I can win some money with
that I just have to publish that on the
application stuff Windows Phone I can do
the same thing we Windows 8 nothing else
just put your JavaScript code and it
works and finally but not the last as
you probably noticed I'm French and
Ubisoft also and we decided to work with
them to prove that a big brand
I mean Ubisoft can create games on the
web obviously there is a lot of problem
we have to deal with like IP protection
and things like that it's another part
of the problem but right now the
feasibility the things that studio game
studio can create a game and push it on
the web we did that with Assassin's
Creed pirate so if you want to try it
it's Babylon GS running with the assets
of Assassin's Creed pirate the game is
pretty simple editor it's a race you
have to go through all the the Waypoint
ideas you can change the weather if you
want yeah it's better it's Florida
I do all the race in one minute and ten
seconds just to let you know do what you
want and for you developers we also
launched a contest and you can win Xbox
one obviously we've Assassin's Creed
pirate black chess edition this is the
only way to win that specific edition I
don't know what they are inside I'm sure
there is a lot of cool stuff you just
have to go there so let me show you if I
can so create your own shaders /a CPF
for Assassin's Creed pirate race it's
the same shadow editor but you can play
with the pirate ship the Assassin's
Creed pirate ship and you can try to
create a specific shader for that ship
okay
no not yet and if your shadow is the
best one you will win the Xbox one and
the Blackshades edition okay so I go
quickly on that
everything is free everything is on
github it's not a Microsoft related
project I will like to insist on that
it's my project it's a personal project
I spend all my night my wife rather
recognized me right now on that it's
open source you can contribute it's pure
JavaScript no we moved to typescript two
weeks ago it's pure tres typescript
right now but you can contribute if you
want using javascript everything that
you may want to have in a CD engine
should be there if not just let me know
and I will at it so it's it's a
commitment some specific and useful link
thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>