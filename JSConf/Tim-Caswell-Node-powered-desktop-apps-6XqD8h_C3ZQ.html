<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Tim Caswell: Node powered desktop apps | Coder Coacher - Coaching Coders</title><meta content="Tim Caswell: Node powered desktop apps - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Tim Caswell: Node powered desktop apps</b></h2><h5 class="post__date">2013-01-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/6XqD8h_C3ZQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright so I didn't get picked for a
track a slot so I brought a node talk to
a track be slot for jay is calm even
though node comp is like what two days
from now three days from now but
whatever this is cool stuff I promise so
my proposed talk for jay is confident
got rejected was whatever cool thing i'm
working on at the time and i guess that
was too vague I don't know and so
something I've been playing with my last
on a week is making desktop apps in node
who thinks it would be really cool to
make native desktop apps in JavaScript
yeah but what do you use for you I HTML
gtk cute I don't know well when I use
all of them so let's talk about the
progression of JavaScript you know when
javascript was first made and Brendan
Eich was an intern it was to add some
sutter was the internal point I remember
sorry when Brendan Eich was invented the
language it was for adding interactivity
to web pages so they could compete with
there and explore and so we have like
mouse over image swaps form validation
eventually this awesome thing called d
HTML came out I even started my own
company like back in two thousand making
d HTML games clearly that company died
but if you go to Wayback Machine and go
to my website you can see a quote in
there where I said the future is HTML
CSS and JavaScript and that was 10 11
years ago so that's pretty good right
and then we had the ads all JavaScript
powered adds a pop up over your content
or you hover over link accidently and
it's an ad crazy stuff and then we have
Ajax we're like hey we don't need to
make round trips and so we started
making actual applications in the web
HTML was not made for applications HTML
was made for linkable documents and it
shows in CSS one and two vertical and
horizontal treated very differently
because you're constrained a window
which you flow vertically and so they
act weird an application you kind of
treat them symmetrically so it doesn't
work well
so we've we've worked around that we got
css3 now which helps a ton and then
WebSockets came out and we can do really
low latency like games and you have
WebGL and JavaScript on the front end is
a really really powerful platform that's
why this conference is so awesome and
then a year or two ago server-side
JavaScript start taking off and as a lot
of you probably now work a lot on node
and then I don't know what's after that
but something that I've been working on
is mating making actual native apps
written in JavaScript and so I'm just
going to show you guys a few the things
I've been experimenting with hopefully
do some live coding that hopefully
doesn't crash my laptop and she'll run
out of time at that point so oh I should
have been doing this all right so first
I used to do gtk programming I admit it
it's it's kind of a cool platform the
object model is kind of weird but I did
it from Python so it's okay i don't have
deal with the sea so Tim smart not me
made static bindings to gtk and it's on
github you can look at it and with that
you can go here let me go to that right
now i just downloaded it and i believe
it's an MPN so let's go to test that is
not big enough is it no how about how
about that is that good more I'll need
some room I'll try one more how's that
monster-sized so
so if you've done gtk before this should
look familiar so we got H boxes windows
in trees which is a text field we've got
progress bars and he's going to add some
stuff to these and render it to the
screen so this is basically gtk c code
but written in JavaScript and this is a
node program so you can do node kitchen
sink jas and there there's a native app
it looks weird but if we do this crazy
window manager there you go so you got a
button and you click it and the
callbacks can see it says I heart gtk
it's got a text field change events so
that's kind of cool right this is an
HTML this is what it is JavaScript
really neat right but it's static
bindings which is good and bad so it's
very fast but it has to be bound
manually so you either have to write a
whole lot of code or start noticing
patterns and generate a whole lot of
code but either way it's a lot of work I
mean the Python guys been doing it for
years but it's still a lot of work so
numb three has this cool thing that
they've released now called gir G object
introspection repository I believe and
basically what it is is all the source
code is forced to have annotations
saying this is the type and this is a
return value and all this cool stuff and
then this other program comes in after
the fact and takes that source code and
creates this massive XML files and then
another program takes those XML files
and generates these type lib files but
all that's done for you and then there's
this library called GI repository and
what it'll do is it'll take these type
lib files and use an FFI you can call
anything in the node ecosystem and you
only have to bind to no gir this isn't
done yet if you go to my repo there it's
pretty much just to read me so I'm
looking for help on this but I think it
would be really cool if node had first
class bindings for this there's already
two JavaScript bindings one is using
spider monkey and one is using
javascript port from web kit and the
spider monkey one is actually what runs
the window manager in gnome shell
and gnome 3 so the new Nome actually has
a JavaScript powered window manager and
I think that's really cool so while I
don't have a working gnome one yet a
note node one yet what did I call that
thing so I work at palms so my sample
app is always that mythical IDE so this
is a seed jsf i implement on require so
it looks more like a note app but you
you import gtk make a window this looks
a lot like the other one but this is all
dynamic there's no static bindings to
gtk anywhere and then that's not node I
run that and hopefully this works so
this is so I've got tabs I've got a gtk
source for you here text editor I've got
a tree view over here it's not fully
implemented but as you say it it's a
desktop app I could maybe finish this
out and make an IDE that's optimized for
my mobile system at work and it'd all be
JavaScript which would be really cool
now the problem with all of this is I
was working on this for the demo and I
got stuck for about a day because my
notebook which is the tab view in gtk
wasn't displaying and I don't even know
why maybe I had the wrong version
compiled I was getting segfaults all the
time and I just couldn't see it i said i
wish i had WebKit devtools you guys have
heard about that right because if
something doesn't show there you just
inspect it look at the CSS oh it's got a
width of zero that's why it's invisible
now in gtk it's all opaque if someone
knows a way to inspect that that'd be
great as far as i know it doesn't exist
and well it's really fast and it's cool
you get access to all the built-in
native stuff it's also very painful for
a web developer so I started another
project and this is actually my first
node extension written and see I'm not a
Sikh odor but it's not too much and
right now it just binds to WebKit gtk so
it only runs in Linux but basically a
node process pops up a window that's a
webview
and talks to it right now it talks to it
over websockets but hopefully I want to
have better integration where you can
even share context and pass references
around but basically you can make html5
css3 and JavaScript apps that run as
desktop apps kind of like you guys have
heard of titanium and there's these
other ones there's the single what I got
single site browsers and there's a lot
of things to this but I work on node a
lot so I want this anode i want i want
WebKit bindings for note i think that
would be really cool and so what are you
going to use for a GUI tool kit when
you're making a desktop app you can use
whatever you want I work at Palm so i'm
going to use n yo there's going to be
talk about that later and i'm making a
text editor so i use the ace component
that the Ajax or guys made and it's a
really good editor so start up the snow
tap and this is a WebKit window and this
is looking at my hard drive node is
doing all the file access that's talking
number web sockets to the WebKit so
let's go met it and look at my own code
so nu AI de at j s so there's that is
that big enough i hope so i pull in a
whole bunch so this is the node server
that runs the backend and top cute is
the library i wrote and so you give top
cube an HTTP response handler and it
spawns a private HTTP server responds
the WebKit connects the two together and
you're good to go it pops up a window
and i'm using socket i/o for my
communication so it's basically just
bi-directional RPC so here's the read
dear command for reading this left
column whole bunch of ugly node code but
hey a sink is cool it's really fast and
then easier one to read a file I just
use the read file and then and that's it
that's the that's the node side so let's
go to the front end so there's a so
there's n yo socket i/o so here's my
index.html so I load n yo create the app
there will be a fuller demo of n you
later on but basically you got these
kinds would you like classes and so I
gotta flex box here with a file listing
in it and then flex there with a kind in
it they were flexes because the work
tool bars under them and there's just
some methods and so it's it's object
during a JavaScript and I don't know I
think this is really fun I like I like
writing JavaScript it's the language I
know well I do it for my job all day and
sometimes some of my task or rather you
know repetitive and like to when i'm
working on a mobile device I want to
edit source code on my desktop so that I
have version control but I have to push
it to the mobile device to test it and
sometimes I want to like run these
special commands to like clear the cache
or restart the app or just you know
utilities and it'd be really great if
there is a unified tool for this so I
tried to start writing one and I said I
really need a graphical interface for
this so this is my experiment and you
guys get a short 20 minute talk about
her 15 minute looks like so I'm looking
for help from the community I've talked
to a few people I'm get a show of hands
who would prefer native bindings to gtk
and whatever the desktop has and who
would prefer HTML so let's do native who
would love native bindings with
JavaScript a few clearly this is a bunch
of web developers who would like html5
all right well i'm working on both in my
free time this is nothing palm official
but hopefully these projects can take
off so thank you for your time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>