<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Kurtis Rainbolt-Greene: Using Babel in a Modern Working Environment | js.la July 2016 | Coder Coacher - Coaching Coders</title><meta content="Kurtis Rainbolt-Greene: Using Babel in a Modern Working Environment | js.la July 2016 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Kurtis Rainbolt-Greene: Using Babel in a Modern Working Environment | js.la July 2016</b></h2><h5 class="post__date">2016-09-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ukYjkZGE84Y" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so uh I don't know why he said I
was really good at compilers and trans
powers like it's just a straight-up lie
but I know a little bit about them uh
but uh thank you so um first of all like
I'm really glad about the order of the
talks because what we got before this
was a talk in the practical about making
sure your stuff works and I'm going to
talk about making things weird and you
want to know your stuff works when you
make things weird so right test please
so the talk is titled you use people in
the modern working about but the secret
title is future tool okay so just follow
me a little bit as i'll talk to you
about what i think is like one of the
best tools to come out for modern
software development in a long time and
I know that's like a high bar it was
really up there but I promise it is so
two things about the slide one you'll
notice that it's gray and it's got very
good grammar right and it's a truth
slides like this will always be facts as
far as I can do so it's like this their
opinions opinions of mine and so they're
almost fact right and then and so for
example software pretty much rocks like
that's an opinion a lot of people hate
software I hate some of my software so
here's another one that this is a
training I have some notes right okay my
notes are one I talk fast so if I talk
too fast just say something boom I will
have time for questions that's an
opinion because I should have started
the timer on my android that I set out
five minutes ago and I didn't announce
too late okay so fact Babel is a build
tool and it will always be a build tool
it wasn't always a build tool but it is
now and people use it was built old who
uses Babel as a build tool cool just
make sure is anybody who uses Babel for
not build tooling yeah that's why
thought okay so it is a build tool but
it's more right like fables assists
Pilar okay so who knows what's this
Pilar is no okay so let's over some
basics okay compiler permit transferred
source another computer you know okay
this is this is not basic but you could
probably google this in well you can
google this and get this information
because this is what I got from boom
transpiler there's another type of
compiler although compiler is a type of
compiler a transpiler is program that
transfers some source and two
chromosomes so one of the first
transplant is that out there not the
first but one of the first I became a
modern mainstream was called unholy and
when it is it turned straight up turned
Ruby jump into Python and it didn't do
it by like reading it had rooted first
of all I've read some parser which is
wild something you don't see in
languages these days they come with
parsers usually they're good but a road
is from parser it was bad and to it
didn't try to do any sort of like
comparative infinitely you didn't try to
be smart if it's all an if condition it
just wrote it if condition on the side
just printed it out you know so like it
was very slow it was it was it was
written by a fellow by the name of why
lucky stiff but um that was one of the
first like modern huh yeah shanky chunky
bacon first modern transpiler so okay
this is Pilar so this is you notice the
color is different opinion because this
is it like a real word so trans right
transpose this poem is a program that
turns source into source which like okay
what does that mean right so first of
all let's learn some Latin trans means
across right like transcontinental this
means same side ok so this what language
is this probably ok yes JavaScript
specifically yes I es6 right so if you
take this code and you put it in a
source file and you run your babel build
tool on it assuming you have some think
of some rules and conditions set up you
will get this out which is also
JavaScript and it means the same exact
thing a hundred percent so like why is
there two things that mean the same
thing and why would you write one the
one way right well a couple of things
one in like in browsers Const can mean
can give you a warning or even in error
in some implementations if you change
the value which is good because you want
to be
that when you set this value don't have
to think maybe what if it changes what
if it's changing on the line well with
comments you can be sure it's not going
to change in fact I prefer a concept of
our almost 100 sent also you get things
like default which is nice you have to
write that low or condition so a cyst
iler is special because it follows this
rule you can go you can break up words
you can destroy people's futures in
terms of what they want for language but
you can't break what people have already
decided all right so when you have
something like Babel and you try to when
you write your sub you something like
payable you won't always be able to
write the oldest JavaScript you can
think of like in terms of syntax that
will always work because they can't
break that right they're not allowed to
it's it's part of the rules so that's
what that's what makes it not a
transpiler it is his hobby it will
always go from JavaScript to JavaScript
okay yeah that's right like I put that
word right so here's a good example of
this I'm gonna mix of these that you
would never write this unless you have
like legacy application and the fact
that's a good value of Babel i think is
we have this two types of doing the same
thing one old school in one new school i
mean i guess and they're the same that
they actually work and babel will just
turn that to this there's nothing
doesn't have to touch it at all right so
that's the rule for cysts pilots and
Babel is this is powder so I want to
pause it the opinion here says powers
they solve who's heard of the lisp curse
come on anybody okay that's fine that's
fine fine so it's an old-school article
um back before they were called blogs
and you can go look you google this
curse you'll get it but basically it's
this right so lisps um and forth they
were easier to modify and forth you
could actually change the comment
character in line and any code after
that would fail if you were using the
old comic character it was cool with
this you could just do that kind of crap
right and you can't do that in
JavaScript until now right so now you
like oh well that's that's terrible i
want to do that and so liz curse
essentially like let's say you wanted to
design a concept of set cassette did not
exist
javascript rates and some especially
Matt like things like math they didn't
exist so you design a version of map
that defaults to undefined when the key
doesn't exist and you define a map where
if the key doesn't exist it raises an
exception and if you try to use each
other's code is broken nothing happens
right who's who's wins last comes in
that's what happened with Lisp so Babel
works Babel saw Babel fixes this problem
because community and JavaScript came
before modify ability right Babel adds
modify ability but we had community
first list doesn't have an NPM fourth
doesn't have a rubygems they just don't
exist because anybody can change
anything so here's a good example right
so this is amia six well it CS 6 plus
right so we have the arrow function
right and we have the export default and
be able just turns it into this which is
like massive write it like a that kind
of sucks but but in like Babel doesn't
care what you write because it's got
some rules on how to turn it into things
that actually work right and it can be
long so it's not just like changing
things around it's actually figuring out
what you wanted and giving you a
reasonable approximation of what you
wanted in something that in a way that
will work on basically anywhere so I
also posit that jess is born feature
without soap on something was up if you
don't have babel you don't have a lot of
stuff without Babel you probably don't
have jsx for a long time who here uses
jsx all the time do you like jsx okay
you know you barely get that you Barrett
don't probably not going to get that
without something like Babel you don't
get cool things like es6 as easily
without papal who remembers CoffeeScript
okay maybe you still use it okay who
remembers iced coffee script okay this
happened the last time I asked that
question and that's like that's
terrifying to me as someone who like
work designs programming languages so
CoffeeScript didn't have asynchronous
functionality and some person out there
was like I really wanted to have
asynchronous functionality in
CoffeeScript owner was like we'll go
build your own coffee script then and so
we did like he made something that was
that was common script but with
asynchronous functionary or like
advanced AI can't remember what it is
that's how bad it is he built entire he
forked coffeescript and added some cool
functionality and no no I don't even
remember and I'm into the stuff and I
remember why like you I think it was
about asynchronous a single weight or
whatever and he's been all the time and
no one members it because no one's
willing to switch their entire stack
over to some other person's you know a
transpiler just to use asynchronous
tools it's just not something you do in
a workplace but Babel you can write so
here's some cool stuff from Babel this
is the practical side part of the
application right here is a but I family
this a couple of days ago and it is like
the weirdest thing I've seen but it's
like this stuff just preface the stuff
I'm showing you is was commonplace back
when you did Lisp you just did this
stuff so this is a mpm package you can
install it in like five seconds well it
has weed you can stall it put into your
Babel setup and you can start doing this
it doesn't you want to switch over you
don't get compile a new version of node
you don't have to clone somebody's fork
that they have maintaining on their off
time which is like it's part of the
thing and it gives you this so these are
this is some JavaScript and comments
anything on the other side with that
symbol that double arrow symbol is an
assertion so when you run your code it
will actually fail on this line with an
assertion error so you can write your
tests like right next to your code right
and this is a subset of a larger set of
label plugins what and other big thing
eyes I don't have slides for this
because it's like it's too hard to come
to contain inside but it allows you to
write commentary and then access that
commentary as an object and your repple
and then interface with that so if you
want to make a web view for your
documentation that's like really fancy
you could or if you want to have tests
that reference to your document is wild
so this is this is like the one of them
here's another so this is actually
inside of Abel's core official packages
so there's Babel plugins out there that
are official and they are in the
repository along with all those stuff
like stage stage 0 or ES 2016 or
act right those plugins that there are
in and that in a piece preset you're
supposed to discover them this is
interesting so this one here's some code
and you write that bit and you run your
Babel and to build and it's throws this
here right that's kind of neat like it's
it's like it's informing it's looking at
your system and saying like hey did you
mean foo are you sure you met bar like
foods only thing they're so but I mean
to be fair this is probably like
something you should be doing on your
linter like there's a there's a there's
an area to figure out we have to figure
out of the next four years like where
does the concern of Babel lie so here's
another one trance this a long NPM
package name and there's a lot of these
out there but just bear with me so it's
your inline environment variables so
let's say you have this code who's
written this like a la people right this
is comment right it turns it into this
which then if you throw uglify JSON it
turns it into this which event also
turns it into this right like this is
yeah i mean like it just just removed a
whole bunch of code and like you don't
have to see that and development or
production cuz like that's not going to
happen true is never that's never going
to else so this is probably an asset
pipeline concerned though right like you
probably don't want your babel do it but
it can it can alright so baby will plug
in future plugs i found today and if
this so you import is enabled from my
features and my features is this is like
in femoral file and it says a if you
have this feature than code and when you
run babel build when you build your
Babel and transpile it or when you run
it it does this like if it's as enabled
or not so you can turn off features in
production and locally for your building
and it becomes a really we interesting
thing where it's like ah you know what i
really don't need to do a be testing in
my tests like if you've ever done any be
testing a website and then written tests
that is a pain because you're like why
is my test failing oh it's because it's
on the other side of the test you know
and now i need to have already tested
like okay if you're in this a/b test if
this house aps then do this and then
it's pain so why don't you just turn it
off you know boom gone during tests you
can do that and of course since it falls
there's nothing else here's another one
i use just
everywhere so who's ever written this
right like this sucks no one wants this
Babel route just let you write this and
it does it right ah practical right let
me turn the brightness up okay so I i
use papal in my projects constantly and
I've seen a lot of people who use papal
in their web applications and they just
kind of like see it as a build tool and
I see it as more right so i'm going to
show you i don't know how much time I
have left okay okay so i'm going to show
you two projects i'm working on right
there side projects and they both use
papal in different contexts so harvester
is a process that runs constantly and
harvests information it's not for the NS
I don't worry and it so it's like an
applet you can think that this is like
your your your regular web application
if you will write like it's not a web
application but you like the patterns in
here are basically the same so first of
all you'll notice that my build script
just Babel builds everything that's not
test and it's in the source directory
and dumps it into transpired source okay
um and then if i want to write run
random scripts I just do this and it
just like pipes the file you just like
hey I do mpm run script fuji s and it
will run that with my babel setting so I
if I just want to run something and they
have all my wash scripts right that's
that's not important that's not part
Babel so that's that's like that's a
tooling that you've got with maple you
can either run something like you would
with no name you fever type node where
we can run something to build it from
file to file right it's actually like
compile it so here are the Babel plugins
i have i've listed it in out know most
of you were probably gonna be using
presets right yeah okay and that's why i
started using as well when I started but
I found like I wanted there were things
in those presets that I didn't need
because it node 6 had just come out and
this is what i use so i just these these
five things exports because that's not a
node 6 yet object spread because that's
not in node 6 yet exponential operator
which I have never you
probably could probably delete and the
commonjs because no one hasn't figured
out what it wants to do for requires yet
well it does but it doesn't know how
it's handled with objects and then d
structuring because it doesn't have that
yet so like all these things like notice
haven't pulled over yet and i'm using
and i'm giving myself the ability use so
this lets me run on node 6 and use these
fancy features that node 6 hasn't come
out with so i don't have to wait to use
cool features right so and i think that
yeah so that's this is the only plugin
so this is a web application it's all
the dev dependency so it's not in
production right so you build your thing
and you got this directory this trent
transpile is and so we'll look at it
oops okay so these are the files it just
builds them that's all we can actually
look at them let's look at one source as
credential prayer that's a good one
those of it this is what pops out you
know I'm just gonna quit page in then so
first what's the use strict up there
because like I guess that's the thing in
JavaScript I don't know I was like I've
never had to deal with it cuz Babel does
it for me the parrot quote went out i
started doing node like six months ago
and like i've never had to think about
you strict because i use Babel like
that's cool right only as I feel like
it's cool there's a whole generation of
mistakes that I can just ignore um
probably to my detriment they're
probably gonna be like something later
in oh my god what is this and it's like
oh people hid it from you i did some es6
stuff and then some export stuff and
then it does ram de like this is the
file it outputs just keep comments for
some reason maybe i should give her
those who knows point is it does that
and here's the actual file oops so
here's the actual file it's right there
so I just like import zip program to
import something from a relative file Oh
interrupt acquire keep ok and then so
I'm sorry yeah Jay it's good point thank
you very much most of all I'm not doing
anything special in the file the file
does think my file doesn't care about
where it's going because maples handling
that so it just creates these files and
it that's all it does and so now I've
got
so this is your web application right
you'll pull it up you push it up it'll
build it'll use the transport directory
and then you're done this is an NPM
package and actually you know what I'm
going to just like quickly switch to
another immigrant package because I
don't think this is actually published
so I have like a couple of published uh
they're not here ok so here is Christ I
should not done that how's that that was
a mistake no ba Jules ok so here is a
package i push it's called SQL watch and
stir that all does it just watch your
SQL files so here so there's two things
to note here right whenever you push up
to NPM who is publish a package ok if
you ever like I had to commit your
distribution directory and then push
that up to mpm and it's all sucks cuz
it's compiled company you don't have to
do that that's that's not something you
have to do so i'll show you how why so
right here is the important part i
delete the transvaal directory i make it
again because there's no RM make der
sadly when I just compile it and then
that that's it that's the entire thing
of that right so that Paula to transpile
directory and then in might get ignore
ignore the trans file directory so I
never commit my generated code I suggest
that's a pattern you should take on
don't commit generated code you can
always make it again you don't need to
keep it that's hoarding so then an NPM
ignore just as the same thing so NPM
ignore copies from your get ignore but
you just so you just copy of your get
ignore and it admit the trends mouth so
that transpile goes to NPM people can
download it now they have their or
source transp awesome horse and the raw
source so here's this is just this
that's all okay so that's like that's
just that's just Babel and for those two
projects it's the same like if I do a
trance pal soch source there's a father
and it's just this big file that I don't
care about so now for like what is what
is a front and project look at him so am
I so going on time where he's gone okay
uh okay so
oh look at the here we go so this is a
front project an internal project I'm
working on and it's just like a stat
screen and this is the nightmare that is
the Babel here so this is like where
baby look starts to break apart right
for browsers it's like that's like the
packages and that's actually thin down
it used to be twice as long because I
was like experiment I was like oh baby
was cool I'll do everything and I just
like put everything in there and there
was actually one point where I had one
that was like oh its entire job was to
okay so you know how you do I don't do
this but you know you do VAR a comma B
equals and then 1 comma 2 where you'd
like group your variables that I never
liked found that interesting but there's
actually a plugin that does that for you
a Babel plugin that does that for you
except it breaks when there's another
ordering plugin and it just shows random
code in between and turns out
javascripts not cool with that so it is
like freaks out and you get this error
message is like looks you try to assign
like an entire chunk of code to a
variable but it doesn't look right
anyway so like you can get dangerous
with these I mean it's all generated
content so like it doesn't matter you
just like regenerate it without the
thing that you messed up but you tell
you can get too bad space like all this
is like half of this is only because the
browser's don't have these things all
right I think this is actually what i
consider greenfield browser babel like
this is like stuff greenfield doesn't
have and there's other stuff okay so i
have cost time for questions but feel
free to hit me with questions you
yep so okay that's a good question so
unlike the previous speaker and there's
no like right way to do this I I see if
I can't find it so I keep my test in the
same file as the code that they're in so
not saying file same directory so here I
have source and Loeb here's a test so
here's hi ban term it was an index file
which is this thingy and the test itself
which is mocha chai and mocha chai is
isn't is in es6 so like I just run that
but um mocha has a specific thing a test
here we go so you can list all the
compilers that you want it to like run
through that's a dozen um and so like
there I found like I guess your question
is that what's overhead like okay oh
yeah so there's almost none like my here
I'll show you that's that's how much
time I have to wait like that's it and
then I don't even believe that for tests
because it's doing it mm rains which is
even faster like half the cost of this
is writing to file secondly for tests
like there's almost no performance
overhead I've noticed if they are it's a
mistake in the plug-in you're using like
most of them are very especially the
Babel specific ones are highly optimized
to for debugging it sucks like hard like
node inspector didn't work for a long
time there's an I can't tell you all the
fairy tales but it sucked hard node
inspector just didn't work um trans
power plug I wish I could even show you
when you like have a function that
doesn't work especially a narrow
function it's just like man it's it's
somewhere um and you just have to deal
with that it's like like the path to is
like inside some virtual memory space
and it's like oh okay great what one
thing I've learned to combat is don't
use arrow functions I know their fancy
use them for like small things but like
I used to do I used to use error
functions everywhere and it was a it was
a nightmare and you'll notice it like
I could I would have earlier in my notes
career I would have made that narrow
function one hundred percent and now i
don't and i was like oh you know like it
doesn't matter because the file name is
the name of the thing and it turns out
that sucks in debugging because it just
like it has no name sometimes and then
even when it does it's like f1 and you
just don't know where that's at um so
yes debugging sucks it's still better
than what it was because i feel like i
have like this is the good language me
other questions you that's where it is
yes you know so i tried to avoid plugins
that require extensive configuration
that said there are some really cool
ones like one that like gives you
shortcuts to paths and you have to map
it in your RC one thing i found the
problem is there's just no way easy way
to share this this type of file like
this won't work in another node project
because maybe it's for a browser and
it's not meeting enough and that the
only one option you have is to make your
own preset but now you just created work
for yourself right it's like honestly i
found an easier time just copying and
pasting and then like oh it's so yeah
it's a pain plus like you for every one
of these you also have to have an so
there's package.json like and then
package ACLU into list as a dependency
so that can be fun to keep a track of
not so like because maybe like you
remove one from your RC but you forget
to move from your installing it's just
there so yeah no no no it's it's it's I
try to keep that as simple as possible
because I went wild and it sucked any
other questions yes so yeah actually at
my work which is Lauren wolf we're
hiring please talk to me we we have a
reactive Redux front end that's like
heavily stable to a rails application
and we use web pack and um I mean web
pack is a build tool with a lot of lot
of functionality Babel is way more and
there's a reason like if you notice like
react native is using fable and not
because web pack is it popular it's
because like they will let you just
really crazies off but
web packs is not going to give you this
functionality does cool things with the
loaders like that was really neat I felt
you can do some dangerous things like
I've seen someone install webpack JSON
loader and then like time zone data and
then just app goes because it's just
like a memory it's got all this JSON
data any other questions no no nope it's
just it's a one to one although you can
make it do a single file it's a one to
one thing your your job in fact the
browser one does the browser plugin
stuff does but no it's like it's just
turning a file of JavaScript into
another file of JavaScript with the
context of the asda net now you can do
broader like say hey do in like you're
in Babylon which is the parsers like do
this if you see something else in
another ASC tree but it's best to just
like take what you've got and turn it
into something else
you
my name is Sarah rush I am Sarah rush on
Twitter and Sarah forward and backwards
on github I am senior front-end
developer at purebred breeders and if
you are looking for an adorable purebred
puppy we can help you find one i'm also
really into knitting and comic books a
little back story i worked at an ad
agency for six years it was my first job
out of school i launched somewhere
around</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>