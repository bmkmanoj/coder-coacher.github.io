<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Domenic Denicola: The Extensible Web: JavaScript All the Way Down -- JSConf EU 2013 | Coder Coacher - Coaching Coders</title><meta content="Domenic Denicola: The Extensible Web: JavaScript All the Way Down -- JSConf EU 2013 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Domenic Denicola: The Extensible Web: JavaScript All the Way Down -- JSConf EU 2013</b></h2><h5 class="post__date">2013-10-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/8LZ5Lxrs0E0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">you
so historically I'd say the web platform
has really been this kind of clutch it's
grown organically into more or less a
mess it has no sense of cohesion most of
the API is that we have to deal with
have been poorly designed by C++
developers and they write them in this
binding layer called IDL which was
originally meant for korba if you can
believe that and and you know even more
so than just the the problems with what
we already have there's a things we
don't have there's the major gaps in
what we can do on the web compared to
native apps compared to desktop apps
compared to mobile apps and even for
those things we can do we end up doing
them mostly by drowning ourselves in
large JavaScript libraries that polyfill
like this functionality that we need or
let us create a new select element so
that we just really we can style it so
why does this happen what's what's the
problem with the web with this platform
that we've we all love and work on well
the problem is really in the process I
claim and the deal is that generally
when we introduce new features into our
web platform it's done via this this
complicated waterfall this months or
years of mailing lists standardization
where people debate to no end like the
my new details of how exactly the
perfect API should work from their
perspective and they write it down in
prose or in this this web IDL interface
definition language and there in the end
they're really driven by this scenario
solving idea where they say oh we have
this problem we need to solve it let's
let's throw some C++ over the wall
attach a tag name to it and then say oh
here you go here's your API so we get
this fundamental capability that we want
but instead of getting a kind of exposed
in a way we want to use we get this high
level thing that just burrows down from
some tag down to C++ we can't customize
it we can't work with it in the way that
we'd want to if we'd written it
ourselves in JavaScript and all this
time you know you eventually get this
thing as troublesome as it may be well
you try and use it and you end up
telling the standards body as wow it's
it's kind of a hue
mess and it solves half your problems
and half the time I mean indexdb is kind
of the quintessential example of huge
mess but this is just a general issue
with most the api's today and yet
despite all of this like somehow as a
platform we've we've done just okay I
mean well okay maybe better than okay
maybe we're the most successful platform
ever how did we manage to do that well
there's a few few techniques that we've
used as a community we've wrapped we've
said you know your API sucks let me
build a better one jquery is the most
famous example of this obviously but we
also do this amazing thing which was
called prolly filling we're saying
wouldn't it be cool if we could select
elements in the dom using CSS selectors
and the sizzle is born or wouldn't it be
cool if we could create custom tags that
have their own behaviors just like
normal HTML tags and thus something like
angularjs is born so these are these are
prolly fills right like a probably this
will fill in for the future of our
language and of our platform and
eventually they do but but sometimes
that isn't enough sometimes we need to
transpile write our language itself
fails us so we create things like SAS
well i'm with which extend CSS with some
pretty darn obvious features or
CoffeeScript it just gives us a more
expressive language to work in these
have their problems but but in the end
they helped us a lot towards a more
expressive platform finally in one case
that's particularly close to my heart
you know we even built an interoperable
standard among a bunch of implementers
of a certain pattern promises from the
ground up but I mean in general for all
of these things that we do we say we do
them because we need our platform to be
better and so we need to make it better
ourselves so the extensible web
manifesto is this thing we put together
a few months ago saying that the
standards bodies are really ready to do
their part in this this game that's
platform that we're trying to create you
know until now we as the community have
been shouldering all the work we've been
writing our massive JavaScript libraries
or trans piling just to reinvent basic
functionality and get
we want but there's a better way where
we work together with these these bodies
and these implementers towards the
future and so you know well one way of
putting this you know a good analogy I
think is what the standards bodies have
realized is that the web platform is our
language but like all languages it must
evolve and there's two ways that this
primarily happens two ways in which we
extend the web forward as we say so we
need to extend our basic vocabulary our
basic pieces of this language and the
second part is we need to start
incorporating slang I want to go over
some of the things like what does this
mean when I say extending our vocabulary
there's really two key ideas here first
we need to explain the features of the
platform that are already there so you
know going back to the language analogy
wouldn't it be weird if we had these
compound words like sci-fi but we didn't
actually have words for science or
fiction well that's that's kind of how
it is on the web today if some standards
body maybe the the French making up
words rolled wide consortium just handed
us the word like sandpaper but we never
actually had a word for sand or paper
individually that's that's the problem
we face today where we have these high
level features but they're not built
from anything that we could actually
reuse and create new words out of create
new new things out of we just have all
this magic compound concepts in the
second part of extending our vocabulary
is giving you new low-level features
that you can use right if you wanted to
invent the word sci-fi somebody better
have come up with the concepts of
science and fiction first right and just
like that on the web there's a lot of
things we just don't have words for and
we're slowly getting there but still
native apps are hurting us here they're
saying we have the ability to access
this device feature we can do the
clipboard but you can't so we need to
extend our platform in a way that's that
takes these into account so with this in
mind like what are what kind of
initiatives are underway to give us this
this new vocabulary this new feature of
the web platform what has the extensible
web philosophy kind of yielded and what
can you look forward to well well first
one the most fundamental gap in the
platform i think is is how these darn
tag things work
and custom tags is a feature that tries
to explain that because think about it
right now you feed a string painting
some angle brackets into the browser and
then they get turned into these
JavaScript objects with these wonderful
api's and we call that the Dom how does
that even work right like what what what
tags how do they work we'll custom tags
explain this process they say you
register the mapping of tag names to
element prototypes with the browser and
then when the HTML parser gets its
string it says oh well I see this tag
let me give you this prototype and this
is great this is this is the
democratization of HTML essentially this
is saying that you are now on the same
level as browser vendors when you want
to create new semantics and new widgets
for your web and what's even great
better about this right is you have no
more of these crazy widget libraries
with their own weird semantics no more
jQuery UI with its option magic function
that sometimes as a setter and sometimes
as a getter and sometimes calls a
function no more dojo digits if you
remember those no more bootstrap
craziness div class equals button no
more win j/s with its wind control
property off which all the magic happens
right like just you have tags and they
turn into elements and they behave like
normal Dom things with getters and
setters and properties and methods and
just like you'd expect so now we have
the ability to do this in our platform
and this is coming but even you know
what about all the existing tags right
half the reason we have these widget
libraries these jQuery UI is and so on
is just this so that you can create your
own custom select because otherwise you
can't style it you can't you can't
customize it I mean in general this is a
problem with our existing platform right
we have these tags these magic tags like
select or input or details or video with
these pieces that you can't really reach
even something as simple as Li has this
bullet which is like where did that come
from you know what's the explanation for
that there's this extra stuff the
browser is doing but you have no idea
how well so the concept that we've come
up to explain this with to explain this
is the shadow Dom the idea that there's
a Dom behind the Dom that you can
normally access we're all these hidden
little pieces the the controls the
placeholders the bullets whatever
where they live and what's great is that
once we have a basis for these hidden
parts of the Dom in reality instead of
in C++ magic land then we can hook into
styling and rebuilding and extending
these controls instead of having to
rebuild them entirely in JavaScript with
all the accessibility issues and
behavior issues and cross-platform
issues that come along with that and so
I you know a couple of days ago as
researching for this and I saw this this
beautiful beautiful line on the blink
dev forum which I want to just take a
moment to read to you which is I'm
working on transitioning the select
element from a custom renderer to shadow
Dom tears of joy guys you know after so
many years of having this this horrible
select element having the designers be
like no you need to create a custom
select soon soon we're going to be able
to style select and customize it and
make a combo box and everything will be
beautiful so a good example of both
adding new capabilities and explaining
the old ones is Web Audio because Web
Audio is about new capabilities in a
large part you can do fundamentally new
things like we've already seen a few
talks today on positional audio audio
synthesis really great stuff but if you
remember the first time audio gone to
the web was back in 2009 we had this
audio tag which is kind of the
quintessential throws some C++ magic
over the wall to you given this high
level construct with limited
customizability and just like all these
this restrictions right that's from the
extensible web perspective the audio tag
should essentially be explained in terms
of web audio and that's the direction
we're trying to go we're trying to say
all these you know high level things we
need a way to explain them and audio is
just a great example of that and more
generally for new capabilities we're
getting a lot of these in the platform
more and more as we go a lot of
Mozilla's Firefox OS work is pushing the
boundaries here saying we need to have
all these capabilities and so things
like full screen notifications you
location and so on this is the kind of
thing that we're going to get parodied
with native apps and what's cool is that
we've prioritized these things we've
said you know the extensible web is all
about saying these are the most
things to get in the platform because
these are the things we cannot do we
don't need to design a perfect new
database API we need to design you know
full screen finally you know the last
piece of extending our vocabulary is
extending the base language JavaScript
that we work in and the features coming
up in Ekron scoop 6 and X America soup 7
are going to give us these capabilities
and so they're kind of subtle but like
for example in Equus script 6 there's a
lot of work going in to make sure the
built-ins things like array or date or
so on are extensible so instead of
having to rebuild the entire date
parsing logic just because you need to
be able to format dates you'll be able
to do you know class moment extends date
you know instead of and in so proxies is
another good example of this you know
things like Amber or backbone or so on
you know they all need this this custom
object model that can intercept all the
gets and sets and method calls well
right now they end up rebuilding a
parallel object model you know the
saying oh you have to use get set and
all this crazy stuff well proxies will
actually be able to use normal
JavaScript semantics to allow you to
build your own objects of the type you
need and in es7 will have object not
observe and which allows you to observe
arbitrary properties of an object
perfect for data binding and similarly
weak references which is a great thing
that will be able to use to bind view
models and models and so on together and
not have to worry about cleaning up
after ourselves I'm in this in this way
and so now that we have this capable
platform right with all these new
low-level capabilities and with our
existing capabilities you know composed
out of low level primitives will be able
to stop rebuilding the entire platform
just to customize one piece but there's
one thing left you know the second half
of the extensible web which is that we
need to tighten the feedback loop
between developers and standards bodies
and in short we need to incorporate the
slang that you guys are already building
over and over into the platform itself
because think about it you you've built
all these great things out of low-level
tools but now you're downloading
megabytes of JavaScript or trans piling
from some other you know non non
standard language and fracturing the
community you know because you need to
get your base platform up and running
this is why I almost every web page uses
jQuery you know the platform hasn't
stepped up to the plate and incorporated
jquery's innovations back in but we're
trying to change this to right so so one
of the greatest you know easiest
examples of this philosophy of saying
you know we've been doing this for a
long time let's do it you know let's put
it in the standard is the template tag
you know everybody knows script type
equals textext handlebars or whatever
like all these these crazy custom script
tags that you use to put your templates
well we finally recognized that this
pattern is something that we actually
need support for in the platform it
needs to be optimized it fast a native
and injection proof and that's why we
have this template tag which is now it's
now in the spec it's being implemented
in browsers you know even more like
higher level something like dialogue
right you know j.crew UI dialog has been
around in a venerable workhorse and a
pain in my ass like for many many years
but it's the best thing out there well
wouldn't it be nice if we actually
recognize that this is a common pattern
and put it in the platform so that's
exactly what is in there now we have
this dialogue tag represents a dialogue
has open closed result return value like
we can actually say Oh developers are
doing this over and over why don't we do
it for them so that's what we're trying
to do here you know turning to CSS right
like these basic basic things like like
variables or reset style sheets or
nesting of you know when you offer your
CSS well there's actually the people in
charge of CSS have realized we need to
start doing this we need to incorporate
this we need our base language not to be
just a compile target but actually
something that's reasonable to write it
so there's specs you know variables and
hierarchies you know borrowing from SAS
but also unset which is this ability to
basically create reset style sheets in
one line star property unset right and
so that's that's the basic idea there
pointer events a good example
Microsoft's been pushing this very hard
but they're pushing it for a good reason
because we've got all these libraries
abstracting away saying oh you know both
touch and mouse are pointers and when
somebody clicks or touches I want to
create an event
of course that seems pretty obvious in
retrospect but that's what pointer
events are giving you because and now we
don't have to create those libraries
unifying them and unifying these
concepts and you know of course
something very close to my hardest
promises you know when you have a
pattern that's been adopted by jquery by
dojo by angular by ember by wind j s and
by yui maybe it's time to put these in
the platform maybe it's time to
recognize we have consensus on an async
primitive and that now we can build on
top of that so what's next what's next
for this extensible web philosophy that
has brought us all these goodies and is
still bringing them to us well this is
just a sneak peek but you know perhaps
the most important thing that we need to
get right next is streams so we have all
these crazy abstractions with great
names on the platform right now great
interfaces great API is like file reader
you know Rita's array buffer yoo-hoo xml
hvd request best API ever you have to
pass true not to block the browser
getusermedia right like there's just
another example some other way of
getting a streaming streaming set of
data postmessage you're posting these
messages across iframe boundaries you
know you have to build your own
streaming protocol on top of that object
URLs which are I think one of the
greatest most ingenious but also most
disgusting hacks in the history of the
web platform where you're like oh I have
this this URL representing a stream of
data from from the webcam or whatever
i'm going to set image SRC equal to that
and we have media streams which is this
new way of saying oh well stream data
the video tag I mean it seems like just
like with promises we're missing a very
important piece of slang here that the
platform is already created and no Jas
has led the way but there's a lot of
lessons we can learn from DOJ's mistakes
so to get something that'll work really
well with the web platform and unify all
these crazy different concepts and then
make our life easier because in the end
we want to be able to take all these
different sources you know URLs which we
fetch data from camera data binary
payloads which are in the cache already
we want to pipe them into different
sinks we want to put them in image tags
we're going to put them in video tags
audio tags I'll put them across the
boundary to other I
James we want to have custom ways of
consuming them and transforming them and
building things in the browser so that's
that's I think one of the most exciting
and most fundamental pieces missing but
you know another good example is
something you know the basic act of
doing an HTTP request right because
think about how much complexity we have
built into that system in the browser
right now there's cross-domain
protection there's redirect following
there's there's the actual
deserialization process you know if you
want access the raw bytes that's not as
easy as you'd hope there's cookie jars
right maintaining and drawing where your
cookies go there's caches you know does
this stuff go in the cache or does it
get pulled directly from the website
what we need to do you know to provide
developers with what they really need to
build the kind of servers we want and
websites we want is to provide the basic
building block just the fetch and then
all of these different features of the
platform are just options to fetch or
layers on top of fetch and so that's
what we'll be trying to do you know is
provide the correct primitive not
something as high-level its xhr or as
you know with one semantics for script
tags and one for link tags you want
something like this another and this is
when I've been pushing because I asked
around in chat rooms you know what are
you missing and people tell me over and
over is we need we need Z libs or we
need gzip we need zip and so so there's
active investigation going on how are we
going to get gzip exposed to you guys so
that you can actually start g zipping in
the browser right this is something you
can write in j us and people have
trolley filled this they've created a p
is that we'll we'll use binary data and
actually do compression in the browser
which is awesome but the browser has
already got some sequel us sitting there
ready to do this for you that should
just be exposed and and perhaps my
favorite because this has just happened
a couple days ago is class elements
extends array this is the new node list
no more stupid you know though for each
is not a function it's like no now we
can actually have something that extends
array has a race semantics you can do
map filter for each whatever and that's
what will return
and what else I mean I mean what do we
need guys what's preventing you from
building the web apps of your dreams
well I want you guys to tell us so so
get involved right and the best thing
you can do to get involved you know just
just off the bat with your existing
skills is prolly fill okay so there's
only so much standardization bandwidth
to go around you might think that
there's these people up in their their
ivory towers at Mozilla and Google and
Microsoft like I will type out specs all
day turns out there's actually they
don't have that kind of time right so if
you can create a de facto standard like
jQuery or an open specification like
promises a plus the world is waiting for
you to take on that and to show us what
the web should look like so for example
if you wanted to figure out what a
Xeelee of api for browsers look like the
best thing that you can do is first
learn what the constraints are and what
the use cases are not just your use case
not just no JSE's use case and not just
your your i love whatever use case right
you need to figure out what are we the
problems that everybody is trying to
solve that'll make this a good general
purpose solution once you have that then
you can design an API and a library to
probably fill this gap in the platform
something that kind of shows off how is
this going to work and then the last
step and this is what I think a lot of
kind of like the the new jazz developers
don't do they're often their little
world saying oh we'll build this awesome
thing you will need to evangelize its
use you need to ship it to everyone so
that everybody sees oh this is the
perfect way to do z lib this is the way
that at this is the great API this is
general purpose low-level exactly what
we want and so when everybody recognized
this is the clear solution for how to do
z lib in the browser it's going to be
really easy for the browser vendors to
just say oh let's put that in the
standard done and i want to emphasize
that in general this this extensible web
philosophy has teeth okay it's not just
a bunch of guys wrote a document and and
now all the implementers are going to
ignore them or all the standards writers
are going to ignore them so what's cool
is that the the w3c technical
architecture group which is kind of the
over the
standards by the body overseeing all the
standards bodies I mean had four seats
go up for reelection recently and 44
reformers as they call themselves were
elected at once so yet these people are
you who to cats alex russell marcos
cazares and an event kesteren and so the
extensible web philosophy is really
something they they're pushing and
giving this as a mission to the
technical architecture group now this is
the ultimate technical body which gives
governance and guidance to all of the
standards than all the specs that we see
and we've already seen fruit from this
from this technical architecture group
overhaul they've given some really great
feedback you know mediating between
developers and between their own
understanding of JavaScript idioms to
the Web Audio group trying to make that
a more idiomatic and more easy to use
and more low-level spec and generally
just make it less magical and more
JavaScript and what's also cool is that
all their work is being done on github
and and more and more specs are being
done on github at their urging so this
is happening we're really starting to
get a web that we want and wed that we
can participate in how to make friends
and influence standards bodies more
generally like if you have beyond just
prolly filling the kind of thing that
you already you can build libraries
today if you want to be involved in
helping the web succeed and guide us
towards better standards right then
let's talk okay I mean it's a
complicated subject but this idea of
interfacing with standards bodies and
interfacing the people who write
standards is something I've been diving
into over the last half year or so it
started with my promises work but it's
expanded into many other things you know
finding the right approach is delicate
right these people are very used to you
coming onto their mailing list and
saying let's add a radar prototype top
my favorite thing and then there that
you just flip the bozo a bit and and
they're like oh well who is this guy we
don't need to tell like listen to him
but if you if you kind of approach in
good faith and have a use case and don't
have a prideful demeanor they're really
happy to listen and I've had a few
success stories where I've kind of
talked other developers through how do
you know what's a good way to approach
this this problem and how should you
talk to and and what channel should you
use in this area already and and by this
time next year I'd love to have a lot
more and i'll be giving a talk at lxj
s with this title and by the way so stay
tuned if you want to know more about the
exact process so I finally I want to end
on a hopeful note right because it's
easy to think about all these cool
things that I showed you earlier and all
these cool things that I talked about
coming and then go to back to your job
and get depressed because you have to
support IE 8 or Android 2.3 but but
that's really not so bad when you
consider the alternative this is the
price we pay for the open extensible
multi-platform web as opposed to
something like say dot net where it's
like Oh everybody upgrade from three
point 0 2 4.5 sucks if you get left
behind that's that then there's only one
of us so no choice right we need to work
through this collaborative process
cooperative process build a shared
language that we can all you know use
together so in the end the future is
longer than the past and and i look
forward to not only living in that
future but also helping to shape it
together with all of you
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>