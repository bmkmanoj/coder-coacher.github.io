<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Jordan Matthiesen: Modern mobile app tool-chains [JSConf2014] | Coder Coacher - Coaching Coders</title><meta content="Jordan Matthiesen: Modern mobile app tool-chains [JSConf2014] - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Jordan Matthiesen: Modern mobile app tool-chains [JSConf2014]</b></h2><h5 class="post__date">2014-07-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/adLlCFbz49w" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">everybody I'm Jordan from Microsoft I
work on our visual studio development
environment there as specifically i'm a
product donor for the javascript and
typescript editors in visual studio as
well as tooling we provide to build apps
for Android iOS Windows and Windows
Phone using javascript which I'm going
to talk about today a little bit about
me real quick so I've been a Microsoft
for a couple years before that I've been
working in the industry outside of
Microsoft for about 14 years as a web
developer at all layers of the stack
we're really focusing on JavaScript on
the client side so that brought me
around to doing a developer tooling for
client application development so I'm
going to talk to you about today is this
new tooling we just put out a preview
release for to build for multiple
devices using javascript like I said
that we do this using tools out in the
open source community that we're also
working to give back to and my real go
all out of this is to disturb the
conversation with all of you around
building a modern mobile app tool chain
by showing you what we put together but
really focusing on how we built it on
top of these tools talk about the
challenges that we faced when we're
dealing with and kind of our next steps
around that I'm hoping that for
takeaways you might get some kind of a
tool you'll want to put in your own tool
belt you have to do some mobile
development it might be a visual studio
it might not it may be one of the tools
I'll talk about here and I also at least
to just give you some food for thought
about this space introduce you to it a
little bit if you're not familiar with
it so first up you may not know this
today but with visual studio we've got a
JavaScript developer for writing apps
for windows and the web and we know from
talking with a number of developers that
you need to do other devices as well
android/ios you want to be able to build
for those with a largely a shared code
base
and we've got our tooling today for
Windows we get great feedback from users
about it that they like the productivity
it provides we wanted to bring that same
functionality to Android and iOS
development this model but looking at
that we didn't want to reinvent the
wheel and make a whole new thing for
this we wanted to really take advantage
of what's out there in the community see
what's out there that works really well
for this style of hybrid application
development already and see what we
could use their how we could give back
to that helped grow that space so is it
on the road here we eventually landed
after looking at a number of options on
the Apache Cordova project so if you're
not familiar with this Apache Cordova is
the open source project on which Adobe's
phonegap is built and the way these are
tools both work is that they let you
write native applications for these
devices plus many others in pure HTML
Javascript and CSS and their set of
tools that will package up those apps
wrap it into a web viewer web browser
type of control in that application and
then let you get a native device
capabilities through a set of uses
plugins JavaScript plugins and you can
also use the plugins to normalize api's
across the devices because not every
device is the same Dom that every device
exposes the same sets of things so you
can use this plug-in model to work with
that so this is a preview be released
back at the start of the month and
actually a little bit later today we're
putting out an update of it to address
some top issues that we've heard about
from customers it's an early look at
where we're going with this it's not our
final release quality it's more of a
thing just to get people looking at it
giving us feedback see if they find it
useful it's kind of started a rating on
it like I mentioned built on Cordova
we're both a number of other open source
tools here as well so there's also the
Cordova CLI which is a node-based
command-line interface to Cordova that
you can go on NPM install the crew of
the CLI and get get it locally you can
do create build run emulate your
applications through that interface we
also have node in the mix since Cordova
CLI uses node we're also doing the core
of our build functionality as a node
script and I'll show you a little bit of
that
on top of that NPM we use for dynamic
acquisition of the tool chain when users
first bill to bring down Cordova help
bring plugins in from the repo that they
have for Cordova plugins there's also
this thing called Apache ripple that i'm
going to show you this is an extension
to google chrome but lets you do local
development in the browser kind of get
you maybe eighty percent of the way
there in your development when you're
first getting up and going to lay out
you you i get looking nice before you
have to jump over to an emulator a
device so we use that as well and take a
hard dependency on having a chrome to
support that so along with using open
source we also make sure being good
citizen here so we're helping to
contribute back to these projects so so
far we've already been contributing some
to the core of cordova and the curved of
the CLI now worked on a new contacts
player additive existing contacts
plugins a new functionality for like a
native contact picker across all the
devices and helped build out web sequel
and index DB plugins so that you can
work with the API of your choice for
data access without having to worry
about necessarily which device has that
which device is this and then made a
number of other plug-in fixes across the
board and we did all this with the help
of a team we have called microsoft open
tech so that i'm going to go ahead and
jump over and show you some of this our
first example here we'll start at
running over in ripple this first
example isn't quintessential to do
example it's built using angular if you
look at the project structure it's going
to be very similar to other client
application projects you might build the
only thing unique with cordova's there's
this res folder and in there you've got
things for managing your icons like
splash screens for your mobile
application there's also a config dot
XML file there that is a place for
central config settings that can affect
the way the apps get built out on all
the other platforms so here's our
application running I can add it to do I
can clear to do I've also extended this
demo here to attach into native Native
device capabilities with a video button
there I can't use in a ripple because it
doesn't emulate the video but I'll jump
over to an emulator in a moment we can
talk about that but real quick this is
ripple extension lets you do some things
to simulate capabilities you may not
have on your
local device you could similarly
geolocation type of stuff here change
your device and orientation so again
this can be good for getting you up and
running initially get the app to certain
point that before you then want to go on
to an emulator a device to really tailor
it so now we're go to the android
emulator and while this is running i'll
talk about how this is going right now
what's going on so you look at our
output window and you'll see some things
going by as this build script is running
again this is a node-based build prod
experience we've got we're using cordova
from the cordova CLI and running through
a number of steps in here to manage the
main part of the build so we take the
files away you've got instruction in
visual studio package them up put the
layout on disk the way that the cordova
CLI expects them pull down the right
platform support plugins and then pass
it on to the cordova CLI to do the build
package the app and then it's going to
make like the APK in this case get it
back to us and then i use cordova SE li
again to deploy out to the device so you
can see a message here about the deploy
starting i'll switch over to the android
emulator and we can watch that firing up
so another thing that's happening right
now see how the windows will lay out for
us here is that we also want to hook up
our Diagnostics tools we have for Dom
exploring the jas console debug
experience in visual studio over to the
emulator this would also happen if I
were working on a tethered USB device I
could deploy to the device get these
diagnostic tools hooked up to the device
it's maybe something you've seen done
with chrome where you can hook up to
like an Android device we're using the
same mechanism that chrome uses here so
for example this is going through the
chrome remote debugging protocol to
establish the communication back and
forth to get the Dom Explorer working so
I can go through and peck out items on
our page and it's looking over the live
Dom of the app can inspect an element
and if I were running on a device right
now and I was in this inspect element
mode I'd actually be able to hold that
up push out a limit on my screen and
it'll select it back in the Dom explore
in visual studio we've also got the
console so I could look at how this is
writing out to local storage and explore
that in this case the video button I've
cleverly hidden a bug where you can see
here there's something wrong with our
capture video function I can find my
line number and go there and so makes
sense it's somewhere in this line
because things capture video so i can
set a breakpoint come and try that
action again and then the breakpoint
that will get hit back in visual studio
and you can work through and
troubleshoot that takes a little bit of
a moment for the connection now if we
look through here we can explore and see
that the navigator object is 0 is okay
device looks like it's okay but
obviously there's something wrong with
capture video so you could explore
through and either use this window to
browse down and figure out how I get to
that and realize I might be using the
API the wrong way or at coding time I
could have used our intellisense feature
to work through and get to capture and
help remind me of how the API works so
again those capture video it run with
that so we'll reload that change back
into the the emulator so i'm showing you
javascript right now but we also have
support for typescript is another thing
you could use if you know the language
and you like to work with it we've got
templates for both javascript and
typescript a book that we provide
that'll give you a default intellisense
auto complete story for these standard
libraries and plugins you might want to
use
so the thing that's going on here for
how we're going to set up the
Diagnostics tools that I can talk to is
that through chrome you can actually
attach to a remote debugging port to set
up those diagnostic tools with Android
you need to take an extra step and use
this tool called the Android debug
bridge that we're using behind the
scenes that lets us get at the app
running on the device attached to a
remote debugging port open by that app
then establish the connection and that's
how we do the back and forth with the
debugging protocol Sarah app is loading
and I should be able to click the video
button and this is just a mock video
capture that they do in the android
emulator I'll come up here and you'll
see the balancing box and you can take a
video of it and use that to test out
video functionality the last part the
demo I'll show you how we handle the iOS
build I'm going to go over to a iphone
simulator some of you if you've done
some development like with cordova
before or phonegap you're probably
thinking about you need to have a mac to
do that bill you can see i'm running on
a macbook here we have to oh no don't
break on me let me just don't do in case
I did something surprising
so the way we handle this is that over
on a Mac they might have in the office
or in this case I'm running in parallels
I've got the side by side with my Mac
open up in the terminal and I've
downloaded from NPM we've got a package
for a remote build agent so this runs on
here watching for requests to perform a
build so visual studio unless I've got
an error back there again and
unfortunate i guess i won't be able to
demonstrate that one digital studio
would make a request here send the files
over and then that same form of that
same node build script will run do the
build on the Mac using Cordova there
create the application package from for
an iOS app and and run it in the
simulator or if we were deploying to a
local device it would also send that
back over and then from visual studio I
can work through itunes to install that
package onto an iPad or an iPhone that
showed you a quick demo there of how
we've got android and iOS support to
simulators with a ripple their emulators
that they provide and how we make that
work we've also got support for Windows
and Windows Phone devices I don't have
time today to show you those but that's
in there as well so now you've seen a
little bit of all right let me talk a
bit about where we're going and some of
the challenges that we have to deal with
some of these are of our own creation so
first for example the building windows
HTML apps the security model is such
that a number of popular JavaScript
libraries don't just work when you pull
them in if I tried to run this app just
now against windows I'd actually get a
security error right away and we don't
really provide great we don't provide
official guidance or samples to
developers on how to work around that
how to deal with that so we're working
to see what we can put together there
that at the same time won't compromise
the security model but we'll make that
easier so you can work with the
frameworks you know and want to use the
Cordova platform support we have for
Windows and Windows Phone isn't as good
as we'd like it to be a chunk of our
contributions that waited were to help
bring that up to snuff but they're still
more we need to do in that space to make
those really good targets from the
Cordova tooling and then we've also got
the debugging experience against windows
phone is rough right now we don't hook
those diagnostic tools up at all we want
to see if there's something to make make
that better somehow
talking about a little of where we go
next with the tooling along with Windows
Phone we want to be able to hook up the
iOS diagnostics tools we want to find a
way we don't have that same tool chain
where I can use something like a DB to
connect to this and communicate with the
app running in iOS so I want to figure
out how can we get that going seeing it
the same set of tools in vs for the Dom
explore debugging against all these
devices the emulator workflow you might
have seen how it's a little slow there
going on the android emulator and you
have to bounce between different
emulators like phone and iOS we want to
see if there's a way we can streamline
that workflow and make it a little more
comfortable so the right now can just be
a bit of a slow clunky process the
another challenge of God is around
keeping up with the really rapid release
cadence of open source software each of
these projects is versioning
independently and we want to make sure
that we can when we have to ship a
release of the product it's around a set
of these things it's really a robust set
of all these pieces working well
together and we've had some challenges
when we first were putting this together
for example working with an ant the new
version of it bumped and it's used as
part of the Android SDK to build we
weren't prepared for that and took us
out for a few days in our testing
efforts because the system just wasn't
ready for this change some change in ant
that took us out and now we're faced
with the Apache Cordova project has just
bumped a version and we need to see how
do when do we roll that out to users
what are the new bugs we have to deal
with around it and prepare for those
that's a space we need to keep working
on finally one other couple other
challenges that against these ones here
are a little lesson in our control a
little more external factors but you
need to use a mac right now to build for
iOS devices we have some users that
either can't or don't want to use a mac
for this so we need to have an answer to
them how we could support that and then
in the end the enterprise chunk of
enterprise customers some of them are
very comfortable with open source to
have concerns around security or really
support getting support of this
combination of things so we need to work
and find out how we can alleviate some
of those concerns help them out with
that
I'm going to now talk through a few
ideas I had as I've been working through
these on ways that maybe we all could
help out the general cross-platform dev
community through some different open
source projects so first one that might
be kind of obvious is contributing to
one of the projects I mentioned here the
Cordova and Cordova CLI are some places
for great opportunities to help out in
productivity and and helping developers
get through some repetitive common tasks
like dealing with splash screens and
icons right now is a bit of a pain
because you've got different formats for
each device and you can't just create
one set of icons and then splash screens
that just go across everything it's a
bit of a pain I also wonder if there's
something somebody might be able to do
around making it quicker to refresh or
changes back into the app you'll notice
i did a free a full rebuild when i made
changes what if we could somehow have
your change get just pushed into the
running application and you see it
fairly alive you get that rapid kind of
iteration process we're used to with
tools on the web and just opening our
web browser and making quick changes
building our best practice examples for
mobile frameworks or app patterns I
think it'd be kind of cool to see
something like the to do MVC project
that might be around best practices for
building out mobile apps there's some
things you got to deal with around the
the changes in performance on the
devices sort of battery life there on
and off connectivity and I think some
best practices might be really
interesting to put out there to help
developers have a place to go to look at
working with a variety these frameworks
or would what are good ways to match
them up I talked about typescript
briefly as something we support if you
like you working with typescript you
might have seen typescript definition
files these are sort of like header
files and see they define the shapes of
api's you can work with we provide some
to help developers kind of get a nice
tooling experience around Cordova
plugins but for and there's a huge
community out on the site called
definitely typed on github that you
could check out and if you don't see a
library you like up there you might
contribute back create some typing's
build something that can help that
tooling experience it's a space that
over time we're also looking at how can
we help the JavaScript editing and
visual studio and elsewhere through
typescript files and then I mentioned
plugins a little bit throughout but
there's a place on Cordova that's a
plug-in repository
and they've got things like a barcode
scanner plug-in that's where the camera
media capture API at plugins or AB this
is a good place to check out that you
might find some things were there api's
you'd want to like polyfill across these
platforms as well maybe contribute back
to those plugins and finally share your
likes dislikes wishes feedback with
those projects some of the ones I
mentioned work with these tools you know
let people know what you think and let
us know I'd love to hear if there are
scenarios you faced and doing mobile
development if you tried it out yet if
you try out our tools and you got some
ideas I'd love to hear from you about
what you think could be done differently
what you wish some kind of tooling would
help you deal with problems you're
facing so on that i'll leave you was
just a set of links to the stuff i
talked about so you can get some more
information my contact info is down
there as well I'll be here the rest of
the day flying out way too early
tomorrow but I'd love to hear from you
guys in person or online and yeah thanks
for your time i'm hoping i can come back
maybe next year or so and give you an
update on this thanks a lot</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>