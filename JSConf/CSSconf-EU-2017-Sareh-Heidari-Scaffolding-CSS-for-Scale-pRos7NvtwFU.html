<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>CSSconf EU 2017 | Sareh Heidari: Scaffolding CSS for Scale | Coder Coacher - Coaching Coders</title><meta content="CSSconf EU 2017 | Sareh Heidari: Scaffolding CSS for Scale - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>CSSconf EU 2017 | Sareh Heidari: Scaffolding CSS for Scale</b></h2><h5 class="post__date">2017-05-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/pRos7NvtwFU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello thanks for the warm welcome it's
great to be here my first time visiting
Berlin as well so what a brilliant
occasion to be here and thank you
just one moment we will try this again
rias great so hi I am Sarah hey Gary I
am a web developer I work at the BBC
news it's been about a year and a half
I've been working there and it's my
first web development role so it's been
pretty fun pretty fun real severe so
i've the project that I've been working
on for the duration of the my time there
has been the redesign rebuild of the
news front page so as pretty cool so and
what's been part of this is that there's
the whole set of the backend so it's a
reaction server side but also the
front-end so a whole new CSS framework
and setting up walls from scratch so I'm
going to start with a little bit of a
question first off how many of you have
ever visited the BBC News website hands
up cool so that's pretty much one with
Trivedi and okay so and half again if
you've used it in like say the last week
okay cool see you also still good number
cool
so just to give a bit of context is like
you're not alone there are 650 676
million weekly visitors to the site and
actually what surprised me when I first
found out it's actually about around
two-thirds of them from outside of the
UK so that song found that pretty
surprising last time when I was looking
at with that so another question how
many of you have ever visited one of
these web service sites
hands up okay I think one or two great
cool some more single people maybe great
so these these sites these are all
separate and new sites are around 29 of
them and 29 different sites they have
different languages different kind of
news agendas and news stories being
shared on them and what's pretty cool
about them is that they're actually all
have a based on the same code base as
like the English recited so for example
under abuse among those the Spanish
language site and that's got around 16
million monthly visitors site
so yeah so as a half around almost 60
million monthly visitors to all of those
sexes with nine different languages odd
service sites and what's pretty cool is
that almost all of 99% of users are
actually from outside the UK so
interesting challenges there and and
what's pretty cool is that we're going
to launch a few more sites are very soon
and we're in South of Asia and look
through Africa as well so areas which we
had little connections bandwidth perhaps
memory some slower connections and
things like that so really really
interesting challenges in terms of
scaling to different regions and then
generally if you not just BBC news and
what service there's like other services
so that do you see kind of losses or a
night air and things and then there's
this kind of really high target to kind
of get some chance empty million like
users worldwide so like within a little
about five years or so so yeah so huge
numbers kind of difficult to kind of put
them into context so that's going to be
enough of this just the big statistics
really and I'm just going to like just
all that down to like what what that
intro review about so lots of users lots
of pages what we really care about is
like reusing things so as you can
imagine like having lots of their sites
it's like it doesn't make sense to
rebuild everything for for all of those
things it will be like a maintenance
nightmare
so as much of a reusability that we can
get in our systems are better and want
our sites be localizable which is so to
be able to just change the script some
languages and things and to make them
lightweight so especially for some of
the different regions that we're going
into where they're outside of Europe and
outs of the US and things that are slow
connections that we can can ensure that
our pages are able to get to them as
fast as possible so and so these things
you might say thinking alright I'm not
actually working on a big site I'm
actually working on a breeze like like I
don't have like 60 million
what is this like relevant to you how is
this talk actually gonna be relevant and
what I think more like the last three
are actually relevant to like no matter
what kind of site you're you're so well
could be thinking about kind of and in
terms of our little lightweight
lightweight like who doesn't want a site
that low class that's pretty liberal
user experience really feasible to our
player cave in this life that if you're
thinking you know the next billion users
are probably going to be in different
reasons why why wouldn't you want to
tabs be able to write some content
outside from your services to like
different in different languages
Andrey's ability like we want to make
our life easy right we don't want to
keep like building the same things over
and over again and if we can reuse
things that's just next mixing Center so
yes I think this although like the main
case I'm going to be talking about my
examples I'm going to be talking about
over out the BBC news site I think that
lot are there will be things that you
can take away to like whatever kind of
size of projects that you're working on
you know if there's like a Hobby weekend
thing as well right so that's a bit of
the introduction and this is kind of how
I'm going to talk through the rest of
this so I'm going to like introduce
brand sound so BBC Grand Stand is the
CSM framework that we've using and it
was actually built by BBC Sports so
separate team and the main creator Sean
bent he was he he thought that as well
and used for like live pages and things
which are kind of like line updates to
like sports events so you can get up to
the minute as assortments and then that
was like kids use the news and things
like that so we're like okay you use
really well we should like think about
reusing this for for our new sites in
general so that's the kind of background
so well I'll talk a bit about the ins
and outs of grandstand and then how it
has helped us to to ensure it to be like
a CSS for our site to be like
lightweight localizable reusable and
touching on at the end about how would
you actually go about building your own
yeah so how did you where would you get
started like can you just pick up grass
and use it or do would you actually need
to start from scratch so what kind of
all the topics we'll talk about soon so
grandstand yep so this is a kind of an
intimidating list okay you don't need to
know all of these things we kind of
going through them a little bit of time
I found it pretty difficult when
starting out understand like these
abstract concepts and things so instead
of just kind of going through the
one-by-one and just talking about the
theory behind it all
I thought I'd start off with examples
because I find it much easier to
understand things for examples alright
so as you surfaces like the front pages
we've seen years on some desk looks like
a bit more of an industry breeze that
will be a lot of people do that set
films
remember so let's actually look at three
different parts of the of the page
layout and this will three things up
close so the first one is like a live
poll so actually on that website it does
also it's got CSS animations the second
one is the timestamp soul or clock icon
with like how long text saying how long
ago the story replaced last updated and
finally like a media icon like media
play video icon with the heading so okay
you might look at these and think all
right so these are actually very
different like the different colors this
like a different like and typography
that the sponsor like the different
iPhones do like there's nothing really
similar with this but actually if you
look kind of a bit closer you can
actually see that under the hood
counseling and there are similarities
here so for example you'll see that
there is the text and to the left of
that there is an icon which is exactly
the same height as the text
in which some of that and it fit the
spacing between them right so that's a
very similar hand so that's like
different components because ever
they're not nests they're not identical
you know different styling some things
but other hoods those have a similar
base pattern so we can actually use that
we can actually extract that out it's
like a bullet patterns school a bullet
pattern because like Phillip points
something so it kind of reminds you of
like kinda web came up some bullet
points and all that kind of thing so
yeah so what was this pattern a block of
text icon with the same height of it and
space et and I'm so pretty pretty simple
but it's been used in multiple places so
actually this is this is the kind of
emblem atmosphere this is actually a
memetic of like what this grandstand
framework allows us to do so we separate
out lookup of the abstract so what we
want is to make sure that component so
those three different components that
look pretty different they you don't
actually repeat that CSS from the
structure all of the time so we pull out
the common part right so that's that's
the whole list of all everything can
grandstand and actually the bullet
pattern that we just looked at is an
object it's it's it's basically it falls
under objects and actually there are 11
different objects in I had in the
network instead of going through all of
them are just like refer you to the
doctor because but I think swivel it
happened kind of this is just the Matic
sort of one that's a flag so you can
have an image that makes the text align
of the middle because we know we don't
want to all center-aligned things
basically all the time I hand we'd like
to just have something quickly to see
you and breathe so there's the objects
before we go onto the next subject I
want to just have a look quick aside
that in grants and we want to namespace
all the things so what does that mean so
you want to namespace all of our classes
you know we don't want to have a class
name that actually conflicts with
another class that's something that
somebody else for a double go because
see yet so you know every
class name in existence as enough edges
maybe maybe you do that's brilliant
but I don't know working the blue team
maybe I like say that I don't know
exactly every class meeting but every
other cumber member to member his room
so so this is actually name spacing
really helps so GF gfs so this is the
kind of start of what we have the start
of our class name I've ever think in the
free book so first an and because we are
dealing with like the absolutes a
pattern which is an object and we
actually do fix it with GFO so when you
look at the class in your email into
your inspector or something like that
you can you know exactly what it is it's
like a person object happens and we
actually use them so so there's a gso
bullets and Lizzie assumes let's
understand of the icon and there's also
GSA's billet underscore text and all
that so that's how it kind of builds up
so okay those are our objects
what else does grandstand have really
what else can you use so there's a whole
other set of paths called utilities as
you might expect the chaotically you so
it's the GS you starts off with all the
classes start with the GS s you so
what's included so this link reads
everything like margins padding slopes
display all of that why do we need to do
that why can't we just just write by the
name enlarge and write 15 pixels from
all of that it's really straightforward
right well what we want is we want to
standardizing so for example margin
right we've got GS um are large and
right is short we want short class name
cz and so when you add that GS um are to
that like live the live pulse section
and you get that full orange gap so that
there aren't margin that the pair so
it's pretty straightforward it just adds
it to the you don't need to kind of
write custom CSS for this particular
component to do that you and likewise I
mean it doesn't necessarily look look
the best idea to design here because I
just wanted to show the same example but
if you change the GS um are two GS u ml
so margin left then it all put the same
margin on the other side so that's how
you can kind of look at them service
that's just margin but they're the same
kind of setup for padding like padding
top and bottom and all that as well and
display display block and display:none
and relays as well so all of the things
that you kind of need to to get get
running early so okay so there's the
utility now what assessable so we
grandstand isn't just and like compiled
CSS is actually fast that we for
pentathol down
and so what SAS tools well they have a
lot like color variables and things so
we have like Evan which is like columns
dark very dark gray and you'll have mix
ins which I will talk about later and
how they are relevant and how they're
useful particularly related to
localizing localizing our grids and
things so so ok the staff tools and then
there are like three other sections of
the parts of grandstand and I actually I
don't like technically like passive
grandson activity grand centers though
it built up but it's you can see the
select gel typography gel grid and gel
iconography so these are this like cool
the beauty like global experience
language and this is decided across the
whole organization safe knees for
iPlayer music all of the different kind
of big products of the BBC have decided
on like like a share typography a chef
grid system all of this so that there's
continuity between the site and so that
there is continuing with us throughout
the kind of BBC exterior
so that's what that means global
experience language so I'm a typography
so we've got a census so the the UX
themes have got together and created
results out of typography what's pretty
cool about it is if you clicked into the
sunlight design systems and things it
decides is actually the pixel sizes and
the line height change at different
break points so to enable you if you're
on the mobile to have a large enough
larger kind of size so it's clear
whereas if you're definitely probably
want it smaller so that so that's it
so so there's a lot a lot of works on
behind the scenes to to set us up
there's a job for it so if you use
different different observers just like
a percentage brave spirit which so but
you've got one column if extent two
columns etc and we've got like set
gutters between them to make sure at all
of our libraries looks like unique
toothpaste and gel iconography so SVG
icons that shared across the board this
is just a one very small selection there
are all sorts of different ones and like
every sport imaginable has an icon that
we use for uses in news we're pretty
we're basically in use of some of these
for like videos audios images things
like that so okay so that was a bit of a
whistle-stop tour of different parts of
Grand Stand
actually you might notice things just
rearranged a bit I talked to little
through them and like that particular
order because I thought that made more
sense in my head anyway and but actually
what Grand Stand the structure and
grandstand is that you pull in all the
gel like Google and gel foundation so
the grid photography item in the first
and then you have your like your like
product specific things so the objects
in utilities afters and tassels that's
the kind of
hierarchy of items and there is a much
much more detailed like write-up of why
this is kind of like inverted triangle
CSS and how roberts has given numerous
talks on that so do recommender I'll
sort of share the notes and slides of
that so to explain why a particular our
Iraq is needed when you're reporting in
okay
so we've talked about all of you
separately right okay there's typography
classes and all of these things well how
did you actually build a page with them
how do you build build components so
that you need to make a site lookit you
need to first make sure that these
classes don't really overlap because if
you have lots of classes that kind of do
the same thing that's kind of overwrite
each other then you just end up there's
a little bit of a muddle and it takes a
while to for all the specificity stuff
try to avoid conflicts especially if you
see as much as we can so just go with
things that the class society you don't
overlap so when we actually implement
them you can add these kind of classes
and different combinations that builds
up your components so what does actually
mean so for example here this is like
example headline for example and the
font so the gel will salute gel is the
prefix for like the typography and
things like that
which is let's base in jail so gel
Waterloo is the typography size and
there's the bullet pattern because you
have the bullet icon in your text and
there's a marginal write to seem like
the live path as we like
so before there's like a lot of space
there thank you great so you've got this
for like save the main heading of your
server your main page but what if you
wanted like a small heading further down
do you need to actually redo this
component but with a smaller typography
and actually you do all you really need
to do is you replace that one class the
one typography class you replace the
dill
what's a little Vidal pica and it just
gets down
perfectly and it'll work so some
breakfast so you can actually just reuse
something we're just replacing that one
class okay so that was a bit about how
you build up things now we're talking a
bit more about how you can actually
localize the system right so what does
the localization actually mean okay so
you might think okay if it need to me
like as I need to write write stuff in a
different language what content needs to
be perhaps a different language so you
might have your navigation saying like a
home busing rules their home is in the
difference which Anu you might have a
different script UMass different
typography if your writing so for
example the BBC Arabic site has an
Arabic script so that's different and
layout so you might think okay wait wait
a minute why doesn't my whole layout
interchange that makes no sense I would
just rather have one layout and for it
to just work for everything that's
almost true that's why you can't do that
in lots of different circumstances
except some languages are right-to-left
and not just right and you might have
hard-coded margin-left everywhere so
what do you do if something like that
just a bit like like how can you can
change this it's a property like how can
I have can you handle that so so it sort
through different different kind of
issues that are here and how with
grandstand so you can resolve that you
can solve them okay so first I'll show
you what it what the result is so these
are like these slices of content so the
top line is in Thai and from Thai site
and the bottom one is impatient to meet
steep Asian yes and then you can you can
for all the different kind of products
that you that we have the web service
sites you can also create places so you
might notice that ty is left to right
that's a heading there and the person
one is right to left so it looks kind of
thing
but you know under the hood they are
slightly different and let's talk about
why so so the first point on
localization was type what something
with typography life okay so let's look
at these two examples one less is in
English and then the one on the right is
in Persian they have the same font size
they have the same line height they have
the same all of that however if you read
through both languages you'll notice
that it's actually much harder to read
the text on the right because of the
style of the type of real word you need
to kind of focus a lot more and it's
just it's really like bunched together
and things like that so it's more as a
as a reader of that type by by just
having the typography that works well in
English and for latin scripts with the
spacing between letters and pay online
and that doesn't really work when you've
got different different scripts so it
wouldn't work for a locker sort four or
four become things and for us are the
scripts so we've got different them
Chinese and Japanese and all sorts of
different scripts that we care about so
what do you do
so you actually adapt them depending on
with what setup cube if you decide okay
now I'm actually I want the Latin CSS
file and what can I do to get that right
and if I want the Arabic script CSS what
do I do to get that right there are a
few different things so the line Heights
font sizes and H breakpoints so what we
do in practice is that developers and UX
designers less closely and usually with
editorial staff so because not everybody
in as multilingualism some of the team
are not everyone speaks all 29 of the
languages so it's usually best to get
somebody from editorial you actually
speaks language to come out and give
their opinion on whether it's clear or
not so yes so that
so to get actual feedback woman is this
clear enough can you see it well in your
salon you're fit mobile phone so we
localize typography sir so about the
grid what does that mean to localize a
grid so you might have noticed ferns in
Seleucia certain grants are definitely
in the grid we've got direction left to
right and we have text-align:left to
make sure the text is aligned properly
to the side of the side of the page side
of what block but what do you do when if
you want to create if you want to just
swap it so that the fifth component
works with everything on the right well
what we use and we have users not
specific grants and we use the elf
flower and the previous iterations of
the site but it is in Gulu included here
in grandstand is this the split function
so it's it's the function that you it
takes two parameters if it's like if the
site is left to right which is in most
of our sites are like the all but four
of them all over so like 20 25 of the
sites are left to right so we kind of
default to that being the main default
selector right system and if it's not if
it's right to left so that Arabic pÃªche
do and will do and Persian and then we
choose the value the second value second
argument so this is a function as a
whole so takes two values in if
right-to-left is true then return the
right to left value in all other cases
you return the first one so so just like
a single like if statement since to make
that work and that is really useful so
so yeah so so basically that will double
flip so all of your values you can flip
them around so they work out of the box
but what happens to properties well if
you've actually got a property with
margin right how do you make that work
so in a school setting you use that
right to left is false
initially for example and the margin
right value start off with for example
is this margin right and if if it's
actually right to left so in an Arabic
case or for personal cases or all of
these cases it just flips the value
around so that value becomes the the
opposite story and that just kind of
works which is cool and so yeah so same
with margin same with padding you just
you interpolate it with that syntax so
the hash brackets telephones and and
then it works that way so those are the
two ways the first one is to have in
something the value is the second one is
how to interpret for properties to
localize them cool ok so let's talk
about how it can be localized a little
bit of that reusability and the
lightweight being lightweight because
we're reusing all of these classes they
don't overlap so you don't need to
override a lot of things all the time ok
so that's a bit of a tour about that how
do you actually get started building
your own and why would you want to build
your own can't you just use this out of
the box well a lot of stuff you can some
of the colors say you might not want to
start your sites the BBC News red you
might want to have your own colors or
the object patterns you you might
realize when looking at the style of
designs that you that you want to have
on your site that you don't really have
lots of I con next to text that you have
you have lots of images next to like big
chunks of text although just lot it
something else that you might want to
abstract into it into a different
pattern you just basically look at what
you what you want to use a lot and
decide what patterns are worth pulling
out so that they're reusable ok so
building your good
jaren grandstand so to set up it's
really cool really important and free
useful she set the standard spacing unit
so no more one pixel Edison yes this has
been a bit of a point of contention but
everyone's now kind of slightly on board
because it becomes more more unified
across across different pages and
different components just good
breakpoints on time for presenting this
will this would be like a whole other
tool in itself and probably somebody who
will they use experience to have a
background it will be best to let safe
to talk about it but really you'd want
to have very points that are suited to
your context so if you've got lots of
text that that you break it up in
there's enough as enough of spacing
between the two even lines of text and
things like that so that's like a whole
arts and science in itself and your
color palettes so yes you don't want to
just be clumps with the BBC news read as
much as everybody I'm sure loves it you
you feel choose your own right and for
localization then you'll have the
traffic census variables and typography
sizes styles and sizes so the things we
talked about you can just use the ones
from grandson come over because they
should be just like a little box for
your posts as well right and kind of sum
over how to make sure you keep it
lightweight
I think this is very important because
and we we start off with the system it's
very sensitive easy to to just keep
adding to it because you like great it
works it's awesome let's just go any I
thought this other use case let me just
add that one thing and all that's like a
few months later there's another you see
it let me add that other one thing and
then it could end up being a really not
lightweight this sort of pretty heavy
assistance so so really the discussions
to have and I do say discussions even if
it is as to yourself or with other
teammates as do you really need that
extra variation is there any way that
you can use the current building blocks
to get close to what you need
and and finally and I think most
importantly is communicating with others
so if you're a developer to communicate
constantly into the designers and a
product advocate your users so in our
case that can be editor or it can be
like like you us users and can you think
you taking on feedback and even if you
are actually working by yourself and
it's their own project communicating to
future you if such an important and it's
such an important thing and I don't
think can be like overestimated business
because you will write a class you will
add something to add ie 11 support and
you will forget six months down the line
if you don't add a comment next to it
and you'll be like why do I need this I
should remove this to cake mix my CSS
lightly and you break I 11 support so
yes so we definitely like to communicate
to our future selves so we add comments
and things throughout our code and
install that helps of onboarding us last
so so many members of your team and
things or if you want to share your
project with other people online and
that they can understand that you're
coming from on what the citizens you've
made and why you've made them so yes so
so to kind of sum up so we talked a lot
about BBC grants and what are all the
different sections and and why they're
needed how it enables sites to me like
lightweight reusable and their
collidable like all of your little
components and how you can get started
with building your room say thank you
very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>