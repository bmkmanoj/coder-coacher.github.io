<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Amy Cheng: Building Your Own Internet of Things: How to Connect All of Your Stuff to the Interwebs | Coder Coacher - Coaching Coders</title><meta content="Amy Cheng: Building Your Own Internet of Things: How to Connect All of Your Stuff to the Interwebs - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Amy Cheng: Building Your Own Internet of Things: How to Connect All of Your Stuff to the Interwebs</b></h2><h5 class="post__date">2016-03-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/M6QHORfmwq0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi my name is Amy Chang so I'm a web
developer the Brooklyn Museum in New
York City and I'm very excited to talk
to you guys about how you can connect
everything you own to the Internet so
I'm going to go over some existing IOT
devices and then I'm going to go over
some tools that you can use to create
the IOT device of your dreams so what do
I mean by IOT device and smart device
basically i'm referring to objects or
devices that are not necessarily laptops
or desktop computers that can
communicate the internet or other
devices that are connected to the
internet or on the saint or are on the
same network as the IOT device so via
bluetooth so simply put an IOT device or
smart devices any devices aware of the
Internet we already own a lot of these
things we have smartphones we have
fitness trackers some of us might have
nest thermostats and smart light bulbs
and air conditioners and canary security
systems that we can all control with our
phones from anywhere but what are the
ramifications of this what happens when
more and more stuff is connected to
internet well it means more and more
stuff can listen in on us on the screen
is the Amazon echo which is vertically a
virtual assistant in a device you can
integrate other IOT devices with it and
you can sort of asked it to go to Amazon
website and buy stuff for you and we
know for a fact that the Amazon echo is
listening in our conversations paying
close attention to locations that we
might mention in a conversation as well
as commands and it needs access to the
internet because in the device there's
not enough processing power to do
natural language recognition so we're
just trusting amazon that they're not
mining our data earlier this year eter
was discovered in the privacy policy for
samsung smart TV so this line was
discovered in the privacy policy for
samsung smart tvs please be aware that
if you're spoken words include personal
or other sensitive information that
information will be among the data
captured and transmitted to a third
party so there are two very scary things
about this statement that it can hear
sensitive information and the second
scary thing is
third party part it's like who's this
third party is it not Samsung is it an
advertising company or is it something
even scarier another ramification of
more and more objects having unfettered
access to the web is that things can get
hacked so earlier in july of this year
report from wired sat in a jeep well was
being hacked so while the reporter was
in the street the air conditioning was
being messed with radio stations were
being changed and very scary breaks were
remotely disabled so on the flip side of
things even though things even more and
more objects are listening in on us
warmer objects are listening to us it's
not inconceivable to think of having
Samantha from the movie her existing in
the next 5-10 years so having a virtual
assistant that's paying attention to all
our needs maybe even having a
personality that complements our own so
Lauren McCarthy this artist created this
app called people keeper people keeper
is a mobile app that can integrate with
your fitness tracker and the goal of
people keeper is to pay attention to
your vitals while you're talking to
people and the goal of this app is
basically to tell you or to let you be
more aware of friends that might be
emotionally toxic for you
as more and more things are connected to
the Internet if we have more and more
options to hack things to see their own
needs on the right is a tamagotchi
that's so when tamagotchis first came
out what in the late mid to late 90s
they were not connected to internet well
someone got a few of these Tamagotchis
cracked them open and put Wi-Fi module
in them and basically created a high of
Tamagotchi so just a bunch of
Tamagotchis that could talk to each
other on the left Netflix so a few
months ago Netflix put our tutorial on
how to create the netflix switch so with
the press of a button you can order
pizza you can turn off your smart lights
and you can turn on Netflix so the fact
that objects are surveilling us kind of
invading our privacy without us knowing
about it have the capability of being
hacked for someone far away cap it's a
very dystopian future dystopian outlook
for the future of IOT but on the other
hand things that listening us things
that are our best friends and things
that we can modify to suit our own needs
paint a utopian picture of the future
but what most likely is going to happen
in the next 5-10 years is that IOT is
going to fall somewhere in the middle
between dystopian utopian dystopian and
utopian future but is there a way to
kind of nudge that a little bit towards
utopian and I feel like that it there is
a way to do that we can participate in
the conversation of what is IOT what can
and what can smart devices do for us by
making stuff we can create things that
are more secure and more accommodating
and at the very least we become more
educated consumers and we learn a little
bit more about this technology that's
all you're going to be more pervasive
more pervasive over the years also IOT
devices do not have to be limited do not
have to be limited to the stuff we can
buy at brookstone or Kickstarter if it
doesn't exist or doesn't work the way we
wanted to we can make it
so for instance I want to create a Smart
Plan now there are plenty of sensor kits
that you can buy to monitor humidity
temperature even the nitrogen levels of
soil but I don't want to do any of that
so I use an Intel s in an old old ipod
touch and a light sensor to create plant
pot plant but is basically a very lonely
house plant since it doesn't have ears
you can text it and once in a while
alike ask the room to like talk to it
also has a light sensor and if it
detects that there is not enough ambient
light it'll send a message to its screen
and be like hey could you shine this
flashlight on me so let's go through a
design exercise let's build a smart dog
what constitutes a smart dog so we have
a dog and we need a way to sort of
handle all the information coming in
from the environment or from the dog and
we in a way to connect to the internet
or connect to an device that does have
internet with Bluetooth that's number
two number three we need a way to gather
information about the dog or about its
environment and we can do that with a
sensor a Bluetooth Low Energy doohickey
or a webcam there are so many options in
terms of micron controllers and more and
it seems like every hour someone's
putting out a new board but I'm only
going to go over five for this talk so
the first one is the Adafruit flora it's
basically designed for it's basically
designed to be sewn into fabric as such
it has a very compact design and large
holes large holes that you can stick a
sewing needle through now the flora does
not connect to anything on its own
you'll need a bluetooth module and an
added fruit does put out a mobile app
that will let you configure this
Bluetooth module pretty easily next we
have the parco photon parco float the
photon does have an onboard Wi-Fi Wi-Fi
module it's also pretty cheap at twenty
bucks the park also has this neat mobile
app that lets you find the correct that
helps you find
the correct Wi-Fi network to connect you
as well as configure the input/output
pins on the board you can also use
javascript to act as the glue between
the photon and park old cloud services
oh I forgot to mention so in order to
program the floor I you use Arduino the
photon is also our Juno code what's diff
what what's different about the tehsil
too sorry i couldn't find a picture of a
hand holding it the tehsil too is that
the Tesla tool has onboard Wi-Fi but
also compile a compiled JavaScript on
the board itself next we have their
joint on you which also has onboard
Wi-Fi what's interesting about the unit
that has two processors one that you can
call code with Arduino and the other you
can install Linux or there's a specified
Linux image that's compatible with the
Union so that Linux image that's
recommended for you in comes installed
with Python but you can also install
nodejs on it if you wanted to the next
one is the Edison so the Edison itself
is that top is a that kind of SD card
looking thing that's in between the
thumb and the index figure everything
else is an optional breakout board so
the Edison it is also another embedded
Linux board it has onboard Wi-Fi has
also has an onboard bluetooth module and
the operating system called yak doe last
I heard it was called yocto has ombre
head support for arduino code nodejs C
C++ Python as well as wolfram alpha is
programming language it also has USB
ports so you can plug in USB devices to
the SN you just have to make sure to set
the Intel s in the host mode so what's
interesting about the Intel Edison is
that has pretty beefy specs I think it
has about 40 input/output pins and
several gigabytes on onboard mmm
ree storage as well as ram it's designed
it's marketed towards the word for like
enterprise wearables thing so I think
Intel's goal with the Intel essen is to
have other manufacturers use the Intel
Edison module in their own devices as
such is not as beginner-friendly as
these boards so beware you might be
spending a few hours getting the onboard
led to blink so how do you choose a
board well you have to consider the form
factor do we want to create a cough
collar for our dog if so we could
probably use the flora but the thing
with the cloth a thing with electronics
is that you cannot put them through the
wash so when you're designing a cloth
collar you're going to have to sort of
design a cloth pocket for the Adafruit
flora any associated any sensor modules
you want to use as well as a battery
pack but maybe the neck of your dog is
pretty strong could we have it carry
around a big box of electronics around
its neck maybe we don't want our dog to
be wearing wearing circuits and chips
maybe we can create a sort of an station
by where we know a by an area we know
that our dog will frequent and then we
can just leave it plugged into the wall
if we leave it plugged in the wall we
don't have to worry about battery life
because when you're using batteries you
will not know unless you design a
separate interface for it you will not
know when your battery is low and the
only time when you will when you do know
them went batteries lows when the thing
stops working another thing you want to
consider is what you actually want to do
with the irt device are you going to
have multiple sensors you want to do
image recognition do you want to do any
fancy math if so you'll need a board
that has more processing power
okay so now that we've chosen a board we
have to now that we've chosen a board
maybe we can start looking at sensors
right now so the Adafruit flora has its
own family of modules there's a growth
kit which has special editions for the
forward we know boards as well as an
Intel Edison and then there's the Exodus
wearables kit for the Intel essen so
with the X with the exit now whereas
will kit the sensors are kind of smaller
compared to other modules and it's
specifically designed for like wearables
now these sensor kits usually come with
sensors for detecting temperature
movement so there's accelerometers that
kind of thing but I invite you to get
creative I know a particularly bad habit
of mine when it comes to designing
physical computing projects is that I
limit myself to sensors and capabilities
that are available in the kits that
happen to have it's not necessarily a
bad thing but you know you could always
think bigger so did you know that
there's a gas sensor so gas sensors have
heaters in them and as gas passes
through the gas sensor it produces an
electrochemical reaction and then
voltage is produced by this
electrochemical reaction voltage that
can be read by the microcontroller now
what can you do with an internet-enabled
dog and a gas sensor and in the course
of your research if you find a sensor
that you want to use but doesn't have an
organic chem and isn't arduino
compatible you can create your own
breakout board for it so for an old
project of mine I wanted to create an
installation that reacted to incoming
and outgoing radio frequencies now at
that time there was no Audrina already
sensor for that but in my research I
found that someone had created a
breakout board for the sensor so what's
on the right is the manufacturers data
sheet and what's on the left is a
circuit board design for an Arduino
ready breakout board for that sense
so problems you'll have to solve when
you're trying to create your own
breakout board for the sensor is which
pin is power in how much voltage does a
sensor take where's the ground pin what
kind of where the data in pin is where's
the data out pin what kind of protocol
is this sensor using to communicate with
the microcontroller is it an analog
sensor so does it fluctuate between 0 to
5 volts is it a digital sensor does it
have on and off states is it I to see is
it cereal also when it comes to power
what resistors and capacitors or
whatever will I have to use to regulate
the voltage because if you are using
incorrect voltage with the sensor you
can either fri the sensor or the
microcontroller will get gibberish as
data maybe you don't want to sense
things with environmental sensors let's
say my dog Poochie has this very this e
to add the trash and I don't want to
like have it do it I don't want the dog
eating out of the trash we can use a
bluetooth low energy doohickeys i don't
know what the correct term is so we can
use beacons and eddie stones so beacons
is the name of apple's indoor mapping
beacon a Bluetooth Low Energy doohickey
and Eddie stones which is still
relatively new is the name of Google's
indoor mapping Bluetooth Low Energy
doohickey um excuse me so bluetooth low
energy devices constantly broadcast
messages out into the ether hoping for a
mobile app to receive those messages so
beacons emit three strings of IDs
there's a major ID a minor ID and a
generic ID Eddie stones broadcast URLs
so they're designed for mobile app use
but you could use JavaScript to create
some code that will listen in on beacons
or Eddie stones and so let's say we play
some be a beacon next to the trash and
then each time the dog collar to text
the beacon we can have a computer nearby
with speakers be like
poochie don't eat the trash okay so and
then we can also use webcams they are
doing a compatible webcam so you can
also use use it you can also use usb
webcams the things with USB webcams is
that you'll need a beef your
microcontroller because you'll need USB
drivers the UVC drivers which I think
stands for a USB video control but so
after you have all the drivers installed
and if you have any room left you can
also install opencv to do more advanced
image recognition oh and another reason
why you need a microcontroller will
slightly be for your specs is that
you'll need to be able to stream by it's
coming from the webcam into a file okay
so okay so now that we have our my
controller and now that we have our
microcontroller and we have data coming
in from the environment about the duck
itself it's time to send all that
information to the cloud and do stuff
with it now there are plenty of
third-party services you can use there's
tembu which has dropbox integration
there's also spark data so sparkfun who
a spark fund which sells electronics has
their own kind of API service that lets
you kind of send data and store it on
their servers then Park whole also has a
cloudy API for its family of devices
Google Amazon IBM are also getting in on
the IOT game so they have more
enterprising level for cloud for cloud
services specifically designed for
physical devices those are more
expensive than the first three but they
do have I think trial or free plans I
know IBM does have sort of a starter
membership that you don't need a credit
card to sign up for and they give you
about like half a gigabyte of half a
gigabyte of RAM which might be all you
need or you can build your own cloud so
for plant ba i created an API that I
hosted on the same
Intel Edison that was also getting
information from the sensor so some of
my dependencies I used express I use
HTTP obviously and i think as i
mentioned before i was using the Trillo
twilio API to get text messages so i
have the twilio an ode to leo mpm module
i'm also using body parser to read the
responses coming in from chilly oh and
I'm also using a vente meteor i'm also
using events to just keep my code
organized so there are three main API
endpoints that I created one was the
true Leo specific API endpoint so this
endpoint was what truly would send a
post request to each time a text was
received oh so I hosted all this in my
local network but I used a tunneling
program to allow Trillia access to it
the other endpoint I used was / lights
so each time plant bought detected low
ambient light it would send a post
request to slash light and each time I
detected that had enough light it would
send a post request to has light and
each time those endpoints were hit they
would admit an invite they would admit
they would trigger an event and each
time those events were triggered
triggered certain metrics certain
messages showed up on the display on
platt pot or instead of building an API
you could just tweet everything and
there are plenty of node plenty of
tutorials they'll teach you how to use
node too often into Twitter and to send
tweets from anything anywhere so let's
tie everything together with code let's
assume our smart dog part what we want
to do with our smart dog is that oh I
think poochie's getting kind of fat and
I want to build a fitness tracker for
them so I have an accelerometer so here
I'm using Johnny Five the JavaScript
robot turmeric to communicate with the
sensors and i'm using requests the
request mpm module to send post requests
to my
api so in line 14 and line 12 we are
initializing the board in line 14 is
when we start triggering all the logic
when L the code has finished
initializing so I set the pins in line
16 16 to 18 and each time the Excel time
the data from the accelerometer has
changed I'm doing stuff with it you will
notice online can you see those line
numbers are you'll notice on line 7 that
are created this log object so each time
new data is coming in each time a new
data is coming in I'm adding a time
adding keyvaluepair so a time stamp and
the actual data object coming in from
the accelerometer and what I'm doing
with this log object is that I'm
actually detecting changes I'm
performing some mathematic a magical
mathematical formula detect on actual
things happening because with sensory
sensors can be a little bit too
sensitive and I don't want false
positives oh by the way this is all
pseudocode and I haven't really tried it
out but if you guys got working just let
me know oops so okay so we have the
accelerometer set up let's say we also
want to detect where the dog is like
translating around in the apartment here
i've set up i'm using the Eddystone
beacon skin sent at Eddie stone beacon
scanner mpm module and in lines 39 241 I
am paying attention to whether or not a
beacon has been found and if a beacon
has been found I am sending a API post
request I'm sending a post request to
our API Oh a note about creating your
own API so in these examples I've posted
the API locally on some machine
connected to the same Wi-Fi network as
the IOT object but you can totally set
it up out there on the web on a server
somewhere like a digital ocean droplet
or Heroku instance of issue with that is
that you'll also have to add some
security or
some rando IOT device can use your API
and we don't want that because then
we're just like repeating the mistakes i
mentioned in the earth and earth earlier
in this talk so now that you have the
tools to create your own smart dog to
create any to make all your dumb stuff
smart go forth and connect everything
you own to the internet thanks</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>