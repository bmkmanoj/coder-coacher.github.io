<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Chris Lienert: Using SVG Circles For Charting - Lightning Talk - JSConf.Asia 2018 | Coder Coacher - Coaching Coders</title><meta content="Chris Lienert: Using SVG Circles For Charting - Lightning Talk - JSConf.Asia 2018 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Chris Lienert: Using SVG Circles For Charting - Lightning Talk - JSConf.Asia 2018</b></h2><h5 class="post__date">2018-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/qvkI44LLDWM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is very short talk about doing
donuts with SVG you might think it's
pretty simple if you know SVG because
you know you just do a circle it's not
that hard but what I found in practice
doing this is it needed mats and even
though I did university level calculus
I've forgotten every last bit of it
somewhere along the way so I had to
learn how to do maths again just to do
donuts when you get donuts out of maps
and math is probably worth it I'm just
gonna change the view here so we can see
but there's a little bit of CSS just for
colouring but it's not really relevant
and where it goes I mean I'm wearing my
CSS t-shirt there's no JavaScript in
this whatsoever
so here we've got just a regular
doughnut of the top I've got one with a
half circle and we'll get a full circle
so the idea of what we were trying to
achieve here was to show progress
basically we need donuts if you're doing
this for the circle it's not too hard
but when you're trying to reduce the the
length of the line it takes a bit of
thought so looking at the code here what
we're actually using is you've got usual
stroke width which determines how wide
something is we've got the out of circle
which is a stroke width of 12 it is a
circle so it has a radius of 12 so
radius of 12 stroke width of 12 it takes
up the entire container the problem is
if you want to actually leave a hole in
the middle of it so looking at the red
circle here it has a stroke width of 10
it's a radius of 10 so it's slightly
indented so we can see what's going on
it has a stroke - array now this is
something I've not really come across
before least like you can this is how
you do like dashes in SVG so a little
bit on little bit off but the problem is
when it applies to a circle my first
thought is maybe this would work in
degrees or something like this when I
looked at it it wasn't very well
documented so I can I had to find out by
trial and error and I even found out by
looking at one of my colleagues code who
tried this came up with the solution
that seemed to work but then we found
out the maths was completely wrong so
what we really need to do is actually
look at how do you calculate a radius or
something and that's math it's 2 PI R so
if I want something in this case I've
got my unpop the font size a bit that's
readable enough anyway for my red circle
my stroke - array is 62.83 1/8 what's
that what it is is I increase the size
of that two times metha pi
my radius which is 10 and my answer here
is 62.83 1/8 NASA made it all the way to
outside our galaxy using 4 decimal
places so you don't need any more than
that if I want to reduce this all I need
to do is multiply that by what I don't
want it to be so if it only wants to be
a half circle I can multiply by 0.5 so
there's my result actually let's put
that in there 31 point four one five
nine and now I've got a half circle and
then you can go with anything so my
inner circle I've got here it's not
actually rendering right now because
there's nothing there
my strike - array is 0 52 which is
basically from the start to 50 point 2 6
5 5 which is 2 pi 8 don't show anything
and then start the - again so 2 pi 8
let's reduce it a bit we'll go go by
point 5 so I've now got 25 point 1 3 if
I modify this 25 point 1 3 to 7 oh and
I've broke it and I'd done my math wrong
ha ha live demo I've done something
wrong all right over 25 not 23 ah
[Laughter]
what is it not setting properly and
there we go so that's how you do do not
see an SPG</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>