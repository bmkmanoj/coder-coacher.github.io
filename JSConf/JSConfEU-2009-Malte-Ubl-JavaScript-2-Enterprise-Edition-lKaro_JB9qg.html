<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>[JSConfEU 2009] Malte Ubl: JavaScript 2 Enterprise Edition | Coder Coacher - Coaching Coders</title><meta content="[JSConfEU 2009] Malte Ubl: JavaScript 2 Enterprise Edition - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>[JSConfEU 2009] Malte Ubl: JavaScript 2 Enterprise Edition</b></h2><h5 class="post__date">2013-06-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/lKaro_JB9qg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey everyone so my talk is called
JavaScript 2 Enterprise Edition I'm
gonna come back to that title later on
first of all about me
I work as in Estrada which are those
people here I do work on metal object
system for JavaScript called Jews and
I'm blogging at non-blocking from IO and
inspired for this nice IKEA so far I'm
on twitter as creme force so first of
all we're now I said I was going to
speak at jazz Kampf my employer asked me
say a few nice words about sinister art
so you all want to work there so we come
to that blah blah blah blah but I have
some important facts there's currently
one service ijs project in production
there's two active CouchDB projects
running there's one service i JS project
and development there's two earthling
projects and planning and there's ten
million dollars in the bank so that's so
much for since Roger copy today is j2ee
and why is it j2ee some people called
jews j2e
and i'm gonna talk about why there could
be that kind of misconception when i
have a quote from John Mayer who was
talking this morning and said Marvel and
the Jews for always pushing the
boundaries on managing JavaScript to
their women so but up this small picture
here that's what we do like you know
embracing and extending the language and
what you end up in the end is something
like this like you know when you look at
this picture you know that's working
because there's no complexity of course
so ya j2e
I I don't suppose everybody hates me no
but I still had to put these up here so
so so let's start over
what is Jews Jews is a metal object
system for JavaScript
so of course question is why meta and
there's a simple answer in this picture
strange loops of fun so I don't know who
here read grid I shall pass by Douglas
Hofstadter I'm actually not done yet but
I'm working on it
about one page per week and there's nice
pictures in that book so what's the
magic object system fun thing about is
this questions like does the metaclass
have a meta class and the meta cares of
the metaclass automatic list of the
metaclass does it have a metal clasp and
then there's things like juice is
written in itself so who wrote itself
and there's really simple answer
actually it's JavaScript object little
holds for the win which I call loop
unrolling for objects so of course we
can't you can't really write something
in itself but you can write the stuff
that itself write down and that's
JavaScript objects and so that's why and
that's the only reason why I built Jews
because I wanted to see can one build a
bootstrapping
object system in JavaScript and the
answers yes so developing juice itself
is fun so that's why I do it and
developing with Jews in my opinion is
fun too so yeah and to prove it I
invented this and I took this from the
new SQL Berlin make up scientific model
of object system awesomeness and
languages and there are capabilities
let's start with classes of course Java
can do them small talk pretty much
invented them Ruby has them in
JavaScript you can do it if you know how
to do it of course and with juice that's
really easy prototypes and you might
agree disagree on some of these points
with me but it doesn't really matter you
can't do my Java no way in small talk
there's of course a way but you can't
really and Ruby no and JavaScript of
course
and what's juice you can still do them
so it's not really a class system
they're still prototypes around um same
thing with packages you have them in
Java yeah
having newer versions of small talk but
doesn't really work you have them in
Ruby Java trip of course you can't
emulate them in the comments folks that
were looking really hard on that and
there's those in juice mix-ins the Ruby
proof programmers that didn't boo on the
last talk they know or total those are
and you have Emma juice then there's
trades I don't know does everybody know
what that is the trade is something like
a more modern concept in object-oriented
programming
it's mixture between a mixin and an
interface so I say you need to implement
that and for that I give you that and
the stuff that I'm giving you only
depends on the stuff that I want from
you
then there's its really simple concept
it's really powerful
then there's method modifiers so say
after that has been done I want to do
something else that's something that's
of course really baking JavaScript hard
and other programming languages and
really easy with juice and then there's
yeah of course but it's more fun if you
put fail there there's five portions
what are type coercion you want to have
an integer and somebody puts you a
string in there and you to say times two
and block everything fails that you can
declare and juice your this is an
integer and whatever you put in there
try to at least convert it to an integer
and do that declaratively and that's I
don't think that's available and in any
language it is like in Perl Ruby
whatever they have type conversions for
the simple cases but you can say I want
things that look like a rocket to become
a rocket whatever so let's have a
conclusion here we have an epic fail on
the left side for Java Smalltalk kind of
failed in history
Ruby's medium fail javascript is good
for gurus because you can of course do
all that stuff it's not so easy most of
it or some of the time and juice is the
clear winner here
there's there's one more thing that I
forgot I've also added couch to be to
that list and it can do none of those
things
well I admit that's kind of apples and
origins so yeah let me talk a little bit
about juice it's all about embracing
JavaScript because I love the language
and it gives you a large hammer when you
need increase expressivity
so in German that's I try them
simply write it down and next up I have
a couple examples for ya doing stuff
with juice first one is this how to
write a point you say okay this is the
class and it's called point and it has
two instance variables one of them is X
the other one is Y X is writable and
readable and Y is writable and writable
and both are initialized with 0 unless
another form of initializer is provided
and there's also method and it's called
clear really easy and that's the
JavaScript object and you can
instantiate it you can call methods
there's those metrics set X and set Y
methods because you declared that those
instance variables has accessors with
the is rw4 is readable and then of
course you want to do inheritance and
you have the class point 3d and in it is
a point and it has another instance
variable coadley and after clear has
been called on the object we want to
clear z2 so we put it there so I was
talking about method modifiers after the
method modifier there's also before this
around this override there's augment
Auckland is cool item I'm not going to
talk about it but it's for great minds
you can look it up so that's that's
classes there's of course modules and
you can put classes and modules really
boring
I was talking about trades actually in
induced echo trolls because they're not
truths trades because that you have
stayed not in this case Andrey declare
that the role comparable requires
classes or prototypes implementing that
role to provide the method comparable if
you do that you so nice
then you will get those methods equal to
a greater than great greater than or
equal to which you can then apply to a
class when you say the class currency
does comparable and has a method compare
so that class now can be asked to be
equal to something else so much for
roles let's go on to prototypes so you
can declare prototypes and Jews I'm
gonna go more into what meta classes are
in particular so difference between
something declare there's a prototype
and something declared as a class it's
that things declared as a prototype
every instance that is created will get
its own meta class instance so whenever
you make changes to buyer that meta
class to the object then they will only
apply to that very single object yeah so
and by the way because we Umbro
embracing for the typical inheritance
there's a detach method on every method
every object insensate from jews classes
that detaches that object from the
original meta class instance and it gets
its own and you can do it everything you
want back to type coercion type coercion
to declare type and it can use something
else and you say where in this case if
value is larger than born in smaller
than five then it's that's actually a my
small number and
then there's um otherwise it's not and
there is a coerce function that says
something from Jews type string is
getting coerced to a number via return
new number and string in other words of
course it can set the string and it will
be automatically cursed and oh that
might feel x 2 will then alert 6 I think
it would otherwise too good for a matter
of convenience and that's that's how its
declared so in the attribute you declare
this is a juice type my small number and
you activate coerce it has to be
activated because it's really expensive
and you don't always want it as you can
see you can declare attributes on
attributes that's of course because
attributes are do have metaclasses too
so not all in class the metaclass about
attributes and methods and whatever do
have to I think might have been a little
boring but there's more code coming
because of course that was all really
boring so let's drove into a meta class
programming declaring a new meta class
is really easy you just declare a class
and you inherit from juice dot class
because that's the regular meta class
and then you can declare new methods on
the metaclass
and there is a special thing that I want
to talk about is you've seen those
things in plastic locations like methods
and has a Nissa those are actually
methods which will be eventually caught
in the meta class so you can completely
control what they do and you can declare
much more of those properties like it in
this case with programming stuff to
enable us to declare events within
classes so here we define that mess
handle flop events and then afterwards I
go forward you have a class declaration
you say this the metaclass of this class
is the controller Matic class and then
you have can have those events
properties and declare events which will
be bound to the documents and which can
other things can publish to so that's
just some way on two declaratively
declare stuff which is cool and while I
was working on this presentation
actually on the way back from Burlington
where I lived in Hamburg I had any to
give I'm a Twitter it of course before I
started working on it
but of course it's really ugly that
declaring handle prop he wins whatever
name mangling not done well so we can
make that even nicer if you use meta
meta programming and so I implemented
actually within the Jews class handle
properties and you know there and now
the original source code looks like this
so now the new meta class can declare
that implements the property events
which is in my world way nicer than name
angling and of course now you can also
eat more easily override whatever that
handle properties do and yeah it's fun
anyway that's so much for the short
introduction to juice there's always the
question telecom was overhead yes using
Jews will really slow your application
down about this much so it's not really
slow and if you're doing for example
jQuery programming and at document ready
time you're binding stuff to a class to
all objects or all text with a certain
class that takes a while and it's so
much slower than compiling
normal Jews code that it doesn't really
matter so you can use it and we do use
it in production quite a lot speaking of
the Dom its tested well to work with
jQuery prototype actually with some
limitations because I have a prototype
keyword and it doesn't work so well with
prototype and it works well with dojo
and Yui of course and everything else to
it because it doesn't do much so this is
of course a message to Jews is not like
in their journal as if to any other
framework which is something used extra
and more important especially at this
conference is that it allows the server
as well and we actually do use it in
heavy production on Rhino and there's no
reason to not work if we ate in
SpiderMonkey and when I first joined
Sonora I worked on a c-sharp project
instead of course I poured it tunes to
jscript.net which was kind of tough yeah
I said that already so it's been on in
production on the server side since
early 2009 and it didn't crash too often
getting back to why it should use those
strange loops are fun they really are
and when you use juice you have really
cool strange loops and you have
increased expressivity which I call
strange expressive 'ti and yeah go for
it
give it a ride at code.google.com /p
slash juice - Jas there's an ISDN
channel and of course everything's on
github and that should be it thanks for
listening visit my blog and follow me on
Twitter any questions
any questions
yeah
I think the question was multiple
inheritance of course you can overwrite
the handle prop is a method or implement
it's or whatever and allowed to accept
an array but I didn't of course and what
is possible is to declare as many roles
as the class can do as you want so you
can vote for traits there's actually a
mathematical model for composition which
avoids most of pretty much all of the
pitfalls associated with multiple
inheritance and so you can you can wrote
these roles for that and you should</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>