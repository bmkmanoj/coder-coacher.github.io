<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Remy Sharp: Build anything | Coder Coacher - Coaching Coders</title><meta content="Remy Sharp: Build anything - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Remy Sharp: Build anything</b></h2><h5 class="post__date">2013-01-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/SPyIcrKbmhI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">and bacon side and so Chris gave me a
title about a week ago in fact that was
talk about whatever strikes his fancy
and I did consider actually just
bringing like a lego star wars and
building it in front of you and and
talking about that but it took me 12
hours to do that over Christmas and I
figured I'd only at 30 minutes so maybe
I should talk about kind of html5 stuff
and I've kind of gone back and forth my
title I realized that that this new
title isn't very forthcoming but then
the more I kind of ran through my slides
and look at what I wanted to talk about
I realized that the point I'm trying to
get across is that we're at a point in
technology with browsers where we have
this web stack where we can actually
build anything we want to now a lot of
you in the room I assume are hackers and
geeks that when you look at something
you have an understanding of how things
work and that's what kind of incest what
inspires me to look at you know an
object and say right I've got an
understanding of how that works I can
see all the broken down pieces and I
know how to build something like that if
I want to go and make it better if it
doesn't exist today I can use that that
desire to make something new and better
and i think that the technology we have
in browsers today but even years and
years ago allowed us to build anything
we want to and i want to talk about i'm
gonna talk about kind of how to get to
that but also what you can do in your
website so your web apps today that is
this kind of bleeding edge technology
but you can use it right now today you
can go back to your offices and your
work and actually go and plug that in
and add it in okay so um I'm going to
rewind look we're back and just explain
kind of where I'm coming from and I
started I started programming years and
years ago but and had a kind of 14k
modem this isn't mine i had a 14k modem
back in the early 90s and connects up
over the internet or the internet or
whatever the internet was back then and
my dad of Sion like hands up who knows
what a sign is one palm pilot newton
anything that old basically old
was you loud assets where oldest
okay anyway so I had this thing and make
my dad has thing and I wanted to build a
little game for it had this idea and I
want to actually write some code that
would make a thing on this this piece of
technology right so I got my dial-up
modem and I connected to bulletin boards
or whatever I was connecting to and I
downloaded this thing that was an SDK or
started downloading this thing it'd take
about eight hours of nine hours assuming
the connection didn't drop I didn't even
know what SDK stood for let alone API or
however how any of this actually worked
and when I eventually had it down I had
this big zip file of stuff that I had no
idea what what to do with it so I want
to look to the documentation and it
never happened I mean I I tried out
visual basic at the time and that kind
of got me there but I wasn't really I
had that desire and I knew that I should
be able to do this but I I couldn't
quite get there like I could write
programs my spectrum but not for real
kind of computers so in 97 I got my
first taste of HTML and I foot wrote my
first webpage and I wrote my first nasty
piece of JavaScript i wrote i copied and
pasted it someone else's code where lo
and behold you could roll your mouse
over a text link or is actually an image
and swap the image out all right pretty
cool at the time thank you but I also
got this you know where to computer fair
got a 286 and I had a browser in the 286
I discovered javascript and I discovered
actually there was a thing called
windows shell scripting host is
basically jscript in the machine I could
write little programs using HTML and
JavaScript that would that would make me
that there would run as applications so
i discovered that i could write code in
the browser in something like notepad no
you know big kind of a IDEs no massive
SDK that i had to download the browser
would be on a CD that i can get from a
shop and I could use you know Netscape
or I could use IE i think it was three
at the time i discovered these things
called HTA
so I can take a file and change the
extension from the HTML and change it to
HTA I could double click on it it would
run not in the browser but as a little
mini application and I had this idea
that I wanted to change my desktop image
every now and then automatically rotates
it right on windows 95 that didn't exist
or they may be a programs but I couldn't
get on the internet to you know this is
I only had the internet University not a
home like not like today so I made an
appt I was able to build something using
the web stack over 15 years ago and
we're the point today where I think that
we should be able to do this completely
from beginning to end we should be out
of build applications without having to
have some objective c wrapper and i
don't mean I'm not bad-mouthing phonegap
by love phonegap but we should be able
to do this with the web stack I mean the
boot to gecko phones that everyone now
has is a perfect example of where we
should be in technology today so this is
kind of my my path to that that the end
point and there are other pieces to the
puzzle but and I imagine that we need
some kind of data storage in browsers
right we're getting these pieces we need
real-time notification whether that's
actually coming from a service or from
the actual application to notify the
user that something's happened we want
that real-time push notifications we
want desktop integration that doesn't
mean i don't mean actually kind of
launching from your Start bars or your
Applications folder but I mean you can
drag a drop into the browser we should
be doing this today I spoke to a guy
marketing a couple of days ago and he
was saying that I asked him how do you
attach a file to your email if it was on
your desktop so he just drags it into
outlook and off he goes so what if
you're in gmail how do you attach a file
to your email it's like well I click on
browse file and go find the file and now
some why doesn't he dragged into the
browser so well because I that's the
browser like that's all it is I don't
want to leave that page we can do that
today and we should be doing that today
and encouraging users to realize that
you know the the browser isn't limited
by its edges it can bleed out more
access to hardware and that's coming we
want I want to be installed locally to
the machine I want to be able to give
you a USB stick with something like Jace
pin which I've written put it on a USB
stick and you can have that installed on
your machine whether or not you're
running Windows we're not you're running
a mac or linux or whatever whether your
favorite browsers firefox or if your
favorite browser is cream and eventually
i want to get completely naked not like
that but and i want to get rid of the
browser Chrome I don't want to have the
edges of the browser's I want this to be
fully bedded into or give the user the
appearance that it's fully better than
its the operating system okay I mean
overrun if I keep showing you that by
the way so these are a few things that I
wanted to go through that make your that
you should be putting into your websites
today if you support and it's very
likely you support IE seven eight nine
whatever you've got there's these
browsers that have limited technology
support this is progressive enhancement
or most of it is the point is everything
I talked about in this section you will
benefit from it if you include and it
will not affect your application if the
browser doesn't have it natively okay
the first one's the most obvious one
have yourself some html5 goodness okay
just stick the doctype if anyone's not
using this doctype already go back to
work delete the XHTML 1.1 doctype you
have put that in your paste of validates
and you've saved yourself some bites
over the wire your sis admin guy or go
is happy as hell are they not saving
that much but use that today another
really simple thing is hopefully know is
anyone using kind of XML parsing and you
pretty don't want to be a hand up
because you might get here yeah I was
working on an application recently where
we were actually passing XML from the
server back into the client it there's
no point in doing this we've got native
JSON parsing inside of the browser okay
hopefully everyone's aware this web
storage which that there's no reason to
use cookies in a lot of situations
cookies have their place but web storage
is the solution
cookies the solution to the limitations
we have inside of cookies the 64k limit
or the 128 cookies that you can have in
ie7 or whatever the actual number is and
the API is the specifications written in
a way that you can treat session storage
your local stores is a first-class
objects inside of your browser you don't
have to do set ice and remove get item
and remove item you can just treat it as
a regular object has some kind of
persistence inside of it so the API
defines get set and remove item as
guetta setters removers or delices there
has been recent discussion about the
performance of local storage there's no
discussion of session storage in that
that performance conversation and
basically Christic quite a detailed post
on the the hacks Mozilla website
recently and he opens with we have to
stop outer casing local storage I don't
agree with this personally but it makes
a bunch of in a decent points if you're
sticking a two and a half Meg file or
you know base encoding into local
storage it will be slow to come back out
again and it's a synchronous API you
should be treating local storage like a
cookie cookie killer okay it's a
replacement for cookies not a
replacement for app cache so be sensible
about your your web storage ease but the
thing I think is really important about
web storage that we and the reason why
we shouldn't get rid of it is actually
web storage has events so as i type in
this window that date is being
synchronized every other window via a
storage event so i just listen for the
storage event and i run my callback
think about the people who are using
HTML presentation software they could
have two separate windows up one with
the presentation the presentation view
where I have some notes I have the
upcoming slide I have a timer and one
that shows you the actual you know the
slides for you guys as I move forward on
this window I press you know impress my
clicker it sends the the forward key it
moves forward but it stores the slide
that I'm currently
on which triggers an event on my main
window that pushes the whole thing
forward ok I've got synchronization
across windows via those storage events
which is baked into web storage which is
in ie8 ok so web forms where form of
support is really not not as good as it
should be in my opinion but you have
problems like this I was googling for
the for the regex for a valid email
address right and I started off with
this and then it carried on getting
longer and longer and longer until you
got something like that right the reason
for it is that those that list that's a
list of valid email addresses if I was
writing a regex there's no way that I
catch the one that's double quotes at
example org and the thing is with client
side validation you have to do on the
server side anyway so just use input
type equals email you should go back any
registration form you have now use that
you get your free validation you still
have to double up your validation on the
server side we don't have to have your
JavaScript guy right though regex on
this client side and your Python guy
right the server side regex I mean maybe
you're sharing the regex which is great
but this is free validation make use of
it is baked into the browser's it's it's
in a lot of the latest browsing the ones
that don't have it so I ate it doesn't
have it all it will do is hit your
server and say it's not a valid email
address and come back because it's got
to work without javascript in the first
place right so the history API is a
really awesome API for fixing that tiny
little arrow at the top of our browsers
Ajax came along and we kind of well I
certainly went oh this is awesome and
then I produced a lot of websites that
didn't work properly anymore the back
button was completely broken I was
basically replicating what I was I was
looking at flash websites and going well
the back buttons broken you can't
permalink any other content you know
they completely broken accessibility but
look at my ajax solution right same
problem I was reinventing their their
their issues but the history API give
me that that last piece of the puzzle I
assume most of you already seen this on
on github but as I'm navigating back and
forth between the files the URL at the
top is updating that's the important
part this application works without
history API their progressive enhancing
their making the experience slightly
better by not reloading the entire page
or just Ajax loading in the little part
of the web page then they want but most
importantly the URL actually updates and
represents where I really am and if I
navigate just to you know the code view
it actually works this is the basic part
you know that there's the moat this
progress enhancement in its most basic
form detect sorry build an on JavaScript
version or build the version for your
lowest common denominator detective the
history push state support is there in
the first place progressively enhance
you might want to use history jes
instead instead of actually the the push
state because the support in what older
versions of iOS isn't that great not a
great scrap but yeah go pace yourself on
the back and have a tea or you guys have
Cote right yeah right a coffee yeah have
a coffee several copies so this is a
this is a little bit controversial and
you probably is controversial but I'll
explain why you should be able to use
the app cache the offline API for
caching specific assets not specifically
to make the whole thing work offline but
to take a large part your application
and drop that into the app cache and
make use of that now the counter
argument for doing that i was talking to
jake yesterday who's going to be talking
about this as well in detail rather in
hixson who did the wrote the html5
specification the reason he says not to
do this is because the browsers have
caches and already you're basically
reinvent your you're exploiting a
feature of the app cache you shouldn't
be using that the browser should be
doing
caching job for you but if you come to
my application I give you my 200k
uncompressed javascript file and then
you go to another website and it loads
enough JavaScript that eventually just
pushes my 200k out when you are back to
my website on my app that's no longer in
the cash app cache allows us to say for
this specific domain for this URL Jay
has been I want you to store this file
this specific file and I want to make
sure that's always in the cache so it is
actually better than the browser's
default cash because we're being
explicit about what we want it to store
Steve Souders good performance guy to
back up my point I guess he said at the
breaking development conference in
September last year you might as well
use it for offline performance there is
a caveat the caveat is I'm not spoiling
Jake's talk by the way as much as might
throw a second me a minute yep the
caveat is this performance benefit only
kicks in if it is in app cache mode so
if you're on a page that hasn't had
hasn't used the app cache at all I
realized about 20 minutes ago that it
doesn't actually engage the assets that
are locally stored so you need to make
sure that the manifest is being
triggered on your whole application Jake
will go through more detail tomorrow and
if you're lucky he will pull off this
move for you as well okay so websockets
to me are extremely sexy i don't know
how technology became sexy but web
sockets very sexy eventsource is kind of
like the ugly brother and but it's
really cool when you get to know it's
like you see past the ugliness
eventsource if you don't know is basic
real-time events from the server to the
client side and but what's really
important about eventsource over web
sockets is that it runs over HTTP so it
means that if you have a piece of
technology like an android that doesn't
have flash support so you can't polyfill
web sockets you can replicate the
whole event source API using javascript
now what I've just done here is I work
with the Android Manhattan I had a
debugger I don't know how to open up
console I know there's some weird you
know I don't know cheat code to get it
to work but basically what I did is I
took a little app that I've written
myself for workshops Jess console and I
just said when you type in this listen
command open up or start sending every
message i right in my desktop window up
to the server and if there is a script
tag that matches that listen command in
a mobile device like my android here
it'll connect up on my server and just
push the messages back and forth between
three devices so the console that logs
on my phone come out on my desktop and
all the commands I run on my desktop go
out on my phone but because there's no
web sockets on Android or Android 22 or
21 or whatever this was at the time and
because there was no flash there I
couldn't polyfill the web socket so I
had to use JavaScript to do this and I'm
using a vent source which means that if
a scent event sources their native lip
it works out the box if it's not it's
using the polyfill which gives me all of
the the real time eventsource attributes
and my code works right on an old phone
oh it's not that old but a phone that
didn't have the technology natively and
I've got real-time events in my browser
I should say I see a lot of examples of
people using web sockets for things that
are just pure push-based messages to the
to the browser things like prices things
like real time charts things like ripped
on news really that problem is better
suited to event source but if you want
to go cross origin then you've got a
whole different problem but I'm only
talking about what you could do today so
this technology you can use today this I
this is something that I think we should
definitely if anyone had is it just a
hat show of hands anyone on their
website any website they've used before
got like input type file for anything
wouldn't it be cool if you could just
drag into the browser and drop and off
you go browsers support that
this is me trying to post a tweet of a
with a screenshot right I drag it into
Twitter and I get to see the picture I'm
now lost the tweet if Twitter's here
here's some free code and you may not be
here what I well what I want to do is is
dragged into the browser and it reads
the file right and something in chrome
and I think Firefox supports as well if
you drop the file onto the browse button
you know the file input has browse next
to it you drop your file onto that it
will actually read it and by fluke I
discovered that I could drop it onto
that tiny little icon because that tiny
little icon is actually sitting on top
of the Browse button and it works but
it's a tiny hit target right this is the
code that fixes this I mean it's been
its generic but it fixes it the first
thing I do is I set up a drop handler or
I set up a drop function that will only
get attached under a specific condition
and it says prevent the drop from
happening the drag-and-drop API is
completely backward if you've ever read
PP case blog post then you will learn a
lot of swear words it's it's about drag
and drop its superb but it's an awful
API you have to cancel the event that
says he just drops and the reason you
have to do that is to stop the browser
from redirecting off to that that target
file and then I read the files that are
inside of the data transfer files you
could support you could check whether
this is ported if it's not don't do
anything about it I'm hooking this on
the root element so the HTML element
right at the top I'm saying if you drag
anywhere into that that window it will
pick up that drag-and-drop event you can
do maybe Twitter adjuster on the actual
tweet window right I'm saying if I drag
over that element then go and listen for
the drop event so this drop event isn't
always listening in the first place only
if you drop if you drag over a specific
element or you could make this generic
but even less generic rather and then
anyway when I drag when I end the drag
event it removes the drop handler
and then I'm sure Twitter would add if
we've actually dropped inside of the at
the you know the element has a tweet
check that I'm inside this element and
then read the files put it into the
browser and now the experience is just
that little bit better and it still
works in IE a or any browser that
doesn't support actually IE does support
drag-and-drop which is insane but they
don't have the file API so there won't
be a complete this transaction but this
whole experience still works we've just
made it better in a bunch of Oliver
Brown browses some future proofed it
right it's we need to teach users that
the browser isn't just we don't we're
not limited to those you know for ages
basically so that's my a few things I
hope people go back and actually add to
the websites quick smart like soonish
and I want to touch on like the the bits
that are nearby the hardware access
being able to get real-time
communication one of the things that
when I've given kind of html5 workshops
comes up every single time how do I get
to the webcam and how do I get to the
microphone well there's now an API that
gives us that this is just a video
element that is listening to the webcam
it works in opera mobile and it works in
canary and you do have to enable it I
know he's pretty good-looking as me but
the codes relatively sure all I do is I
say get this user media I give it
specific arguments that are the audio in
the video it gives me a call back that
has the stream I Jeff I point my video
element to that stream as a few hoops
you have to jump through and web key at
the moment where you need to create an
object URL but this is how the codes
supposed to work to get access to these
pieces of hardware this is a screenshot
of a opera mobile I was amazed this
doesn't work I didn't think I thought
this was in labs not in production build
of opera mobile they have the advantage
it's not baked into the operating system
like Safari is a slow updating browser
because you have to get the whole OS but
it's still quite early you can't get the
audio stream working it's just it's not
in canary working properly at the moment
it's not in Opera Mobile they're adding
it I posted this
and and then Rick basically said yeah it
does work wherever rick is I saw his
hair somewhere evident there we go there
is a way of getting the audio stream
there isn't it there's a connection
Pierre a peer connection API which does
actually work so I've got a few minutes
left a challenge for you if you were if
you want it this is the screensaver that
I use and the way it works it's not it's
it's a you know its native native app it
fires around these particles in the page
and you know it looks pretty but these
this reacts to sound so if there's
ambient noise around my laptop it'll you
know make these kind of starbursts which
should pretty make me happy this is web
RTC reading the audio stream then we've
got a processing of that audio stream
and visualization of that using WebGL or
the 2d API and then we've got the full
screen API these are in these are in
browsers today they may be bleeding at
browsers but we can do this today and in
theory you should be able to do on your
mobile phones I heard Brendan was
looking for a decent like startup screen
you could do this in theory these are
all open api's so someone build that
thank you the last part going chrome is
going naked and I realized that like we
have this full screen API and which I
haven't talked about at all but there's
an API that allows you to make any part
of a web page full screen which is great
but now we want to be able to get to
being in a strip away the whole or I
want to get to be at a strip away the
whole of the whole of the browser chrome
and i'm not talking about headless i got
a lot of people saying oh you want
phantom j/s i'm not talking about
headless browse the one that doesn't
that runs without any view i'm not just
talking about full screen I want it to
be a web app that uses web technology
that a basic iTunes is a web app a whole
of itunes
just WebKit the whole of I to the apple
store on iphone is WebKit the only
reason we're aware of that is because it
broke one day and there was a whole
bunch of broken images inside of it and
a lack of CSS it feels native right I've
got friends in bryson who will anyway he
goes on about UX all the time and how
nate is so much better than web because
we can't get that performance but if we
have an iphone app that feels like its
native and the only reason we realized
it wasn't was because it broke it's
possible it's not that the technology is
lacking it's the the actual quality of
the design and the UX and so on anyway
so IE still has this HTA technology i
looked at it windows 8 has it I double
clicked on the file looks at user agent
string and it is IE 7 I had no idea how
to get hold of ie7 inside a Windows 8
this is a way of doing it so that's not
viable at all a chrome has the spanner
tools and you have this great shortcut
so if anyone's using a pc or Linux you
can create a shortcut to the application
you get an icon in like your desktop or
your your start bar and you can double
click on it it runs as a little app
basically it's full web but you just
don't have the browser chrome around it
that's pretty close except it doesn't
walk on a Mac and I can see a couple of
max around we as developers tend to use
them for whatever reason that there is a
really detailed post about why it
doesn't work on Mac and what's required
to do it which I think it's not case if
they're not doing it it's it's a hard
problem to solve when they're trying to
plan it out carefully there's also the
question of Chrome or Google have an
interest in the Chrome OS which doesn't
have applications it's just the browser
so why would they allow for you know a
full application you know maybe there's
some conflicts of interest there but
this isn't good enough it's hidden away
inside of the spanner tools create
application that needs to be much more
exposed Opera have these w3c widgets
which are actually really close it's
/ zip file that has a bunch of assets
inside of it I am almost done by the way
sorry a bunch of assets inside of it a
config icons favicons you double click
on it you can get you know your full
view you can have transparency in the
window zhe doesn't have to be a you know
square window can be round like you know
some of the air applications were but
for whatever reason none of the browser
seem to be picking up this specification
is a part of the w3c the other browsers
haven't implemented this asshole I don't
know why it seems to be very close I
don't think the language is right I
don't think we should be using XML for
our apps yeah Mozilla have a very early
draft of a spec called web RT which
looks possibly promising it's a manifest
file that describes the application
describes the launch path describes the
permissions that the application should
have and it's it since if you look at
Firefox now actually you can see
navigator dot web Mars apps install and
you can give it the URL to the manifest
and I think of some options and a
callback for success or failure and you
can actually trigger an install of an
application this is for their web store
but this is apps being installed this is
from Robert nylons talk a little while
ago some links not post the slides and
so on but it's an example of a manifest
a web app manifest and that's fairly
descriptive that tells me i think
there's also a permissions section that
I've admitted that would say these are
going to have so much disk space access
it's going to work offline and we can
use the standard web technology that we
used to using what I want to see is dot
web app files that I could give to you
and if your favorite browser is Firefox
excellent if mine is opera or and yours
is chrome then I should be able to
double click this file and it will pull
up the viewport the North you put the
rendered view and that's the application
and I have access to the same access as
if it were a browser but I can make it
work offline I have this web app
technology
so for me the interest or whether the
discussion isn't really about html5 I
mean some of the tech I mentioned is
html5 some of it isn't the most
interesting part is the JavaScript part
i want that language to make easy to
build applications i want to be able to
build anything so that's me i think
there's a break going on right now if
you want to ask me questions you can or
you can come up during a break and
bother me bring beer that makes me
answer them much much easier so thanks
for listening</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>