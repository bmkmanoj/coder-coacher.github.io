<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Fiona Tay: Inside The Airbnb Brand Evolution - CSSConf.Asia 2014 | Coder Coacher - Coaching Coders</title><meta content="Fiona Tay: Inside The Airbnb Brand Evolution - CSSConf.Asia 2014 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Fiona Tay: Inside The Airbnb Brand Evolution - CSSConf.Asia 2014</b></h2><h5 class="post__date">2015-01-31</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/sM3oDSPK_tE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi everybody very glad to be here
speaking to you guys about it so I'm
here to talk about our Airbnb brand
evolution which we launched in july of
this year so before I can talk about the
brand evolution I got to introduce a
little bit about the history about
Airbnb so who here in the house has ever
used Airbnb before whoa yeah so Airbnb
was born in 2008 when originally known
as air bed and breakfast so our founders
Joe and Brian they they were they were
running out of money and they couldn't
pay rent but there was a big conference
in town called a design conference and
just like CSS come actually and they
were thinking what if we hosted a bunch
of people and let them stay in a house
and you know charge them like fifty
dollars a night and so they do have a
bunch of air beds and hosted some guests
there and give them breakfast and from
then on they known as air bed breakfast
and over the past six years the company
has grown a lot right now we have 119
listings in 190 countries and and and we
are on track to host over 30 million
nights of stage this year so given that
you know maybe we don't want to be just
another internet company for bubbling
blue logo this isn't this off some of
the internet companies they all have new
logos and and as we are maturing into a
hostelry company maybe we need to
advance beyond the contour of life we
are blue we are techne and
we are cool or something so the the
designers last year they set out to work
on a new brand identity is a bunch of
designers and hanging out and looking at
different pictorial representations of
things that are important to a brand
like listings and hosts and so after
they came of this cave and it came up
with the new brand and presented to us
so you guys may recognizes this is our
new logo it's called the Baylor but
internally and kind of called a pretzel
because it kind of looks like a pretzel
and then we had a new vibrant color
palette like very you fool very exciting
colors and the new brand would have a
better focus on our community I guess
and a horse and all these things around
the globe so this came through my the
level of my team in january of this year
you know basically turn the old old
website into like a new website and so
we set out to make your reality and let
me talk to a designer differently have
this understanding of what every brand
is you know just change the logo at a
few hex codes and you should be done in
like a couple of days right okay well
it's wrong because everyone is basically
an engineer's worst nightmare first you
got you have a hardship date there's no
flex 2 is a fickle you need to change
the whole website three initially top
secret and for you need to do with
legacy code and not just any legacy code
but legacy CSS which is not very fun so
then we started thinking about how we
could ship this project and remain sane
at the same time and this is tree of the
main principles that we had first having
a say in CSS architecture so that we
wouldn't find ourselves hand changing
like thousands of lines of CSS second
being able to test and measure the
progress making sure that on the launch
day
everything goes right and I still have a
job and the third is scalable across the
site because we have so many different
products that we need to change so first
thing talking about same CSS
architecture just we want to have
approached the CSS that doesn't drive
anyone nuts which may not be that easy
because the CSS so Xzibit one of typical
CSS code this is actually real quote
from our site so I'm not exactly the
most proud of it as we heard from a
Christian earlier today you should not
have any ID selectors and injustice two
lines of code we have over like five ID
selectors so it's very sad so given this
state of the CSS imagine going through
thousands of lines of CSS and removing
all the rounded corners text shadows
standardizing the 13 or 14 or I don't
know 200 sheets of free doesn't sound
fun right and what kind of accessory
baited it for us is the Airbnb over the
past six years has had a tremendous
group which is great because I have a
job but it's bad because it's hard to
focus on quality and we have so many
different business challenges that we
are trying to put out the latest fires
and building the latest features and
it's so hard to focus on quality and so
the amount of CSS we had just kept
growing and growing and growing and to
me at CSS the power CSS is that at some
point about like let's say a thousand
lines of code you have your a past that
point you are unable to like read over
the code and figure out what it's doing
because it's it's so real it's not real
it's rarely tested you don't know that
in fact of your change and it's just so
easy for you to slap on an ID like
Christian said to to just fix that that
visual bug that you have and so I kind
of want to bring in the sentiment
this guy called Michael feathers who
wrote a book on dealing with legacy code
and the definition of legacy code is
basically any code that's untested and
by the definition all CSS is legacy code
all right table because by definition
CSS is not it's usually not tested you
there's no way to understand in fact of
your changes so in a way it's kind of
true but that's not the end of the world
that's actually a better way to do CSS
and this is a quote thing the easiest
way to keep your quarantine avoids to
write less of it and that applies for
Ruby code or JavaScript code it also
applies for CSS code so what does it
mean to write less CSS code so we have a
concept of CSS frameworks they can write
once and reuse so that nobody you don't
need to reinvent the wheel for every
single button inside you can write a
room for one button and it just works
and bootstrap and foundation are two of
the CSS frameworks as right of the box
and so luckily for Airbnb even though we
had to deal with six thousands of nigel
CSS we were actually working on my
natural CSS framework that we called 02
which was based upon bootstrap but
called down for a specific use case and
we have been working on this for about a
few months and we've begun rolling out
to be about ten percent of the pages by
the time the rebrand project started I'm
gonna make a side note about why we call
it 02 because it sounds very sciency
it's kind of a nerdy job because 02 is
the scientific notation for oxygen and
you can't have air BnB with oxygen
so so we had this framework called 02
and and on the left is 10 to look like
at a stop the project and so we had this
idea you know given our new rebrand
feeling rebrand designs what if we just
update the skin 402 and you see on the
right is all the same elements but just
in a slightly different style and
preserving the same Dom API like four
button in the old way it's called a
button primary and it's a blue button
and then in a rebrand ways it's still
called button by it just has a slightly
different color and this is kind of
magical because if we basically promised
like all the engineers across the side
and if you use o 2 components you get an
instant rebrand because whatever means
is that if you use auto components will
just change the CSS framework out for
you and you don't even need to do
anything get new styles so this is an
example of a page that use only Oh two
components and and when we just change
out the different version of 02 it looks
completely different and it's a great
formats because then you can scale the
rebrand across the site without having
to write that many lines of CSS and
everyone wins so another aspect I wanted
to make sure is making sure that we are
testable that we are progresses test boy
immeasurable making sure that we don't
have any surprises on launch day given a
bit of a hardship they won't make sure
that on July 17 that everything works
and then hopefully have to have a job so
what we did was that we made this button
call that a lot of people to switch
between the odd version and the
rebranded version and we call it the
branch st button and by the branch st za
co and he was very excited about it
because he was like now I can go on
airbnb com and you know just click this
button and see what my
my baby my site looks like after the
rebrand but it wasn't just Brian De you
stood beside even though Brian really
care a lot about it what we did was we
wrote it out to all air BMA Airbnb
employees so that designers engineers
produce product managers could see the
most up-to-date version and we roll it
out to Airbnb employees all across the
world in Seoul and Beijing a new delhi
and it was really incredibly effective
for us because anybody in any team could
could go to the normal page and just
scroll down to the bottom and click a
button and see and see what it would
look like on the day of the launch
here's an example of our product called
meetups which is up allows you to RSVP
to meetups organized around the world
another example would be a wish list
which is like Pinterest for Airbnb just
one click you can preview what I would
look like on the day of the rebrand and
just and following up on the idea of the
different or two versions basically the
secret sauce is that we would check if
the user was an admin and if they had on
they were requesting the rebranded
version and just serve up a different or
new package for that actually this is a
big simplification because we had to do
some other technical challenges like
caching making sure that our secret rear
ended early but basically those idea
behind it in this concept of having this
single button to test really important
to give getting really quick feedback as
changes were made to the system for
instance that what the designers wanted
they wanted to UM change the design of
have so what we did was we made a change
to o'toole we wrote it out airbnb com
and then the designer could could see
what it look like across the site but by
just clicking that button and this quick
iteration cycle a lot of catch some
really interesting box or some really
bad CSS box if you rewrite like a few
thousand signs of CSS you're going to
break something but you can't break
something come talk to me so they can
hire you for every and be so anyway the
bug that we caught was that when their
designer notice that a red links and
alerts so kind of ugly so they asked can
you make it them white so typical
engineer say is very easy I just write
some code so here's a sample code that
that one might that you might write to
UM to make those to make links within
alerts white white and underlying so I
just wanted to take a few moments to
look at it and see if you guys can guess
what the unintended side effects is kim
hill is about element selectors so
basically what happened was that when he
had anchor tags in in buttons it would
overwrite that behavior because it had a
bigger specificity than the normal
button selector and therefore buttons
over the site look like this can you
imagine what would have happened if this
had gone on launch day i probably
wouldn't be here talking to you guys so
that that's one that there was a great
thing about this allow us to iron out
along the box as we went along and then
the third thing I want to talk about is
scaling the rebrand so for most of you
guys who have used Airbnb you probably
think of every video comments a really
simple website just booking and hosting
like maybe hosts need to respond to
messages and I know that's about it how
many pages can then be is about five
right well as I found out reduce project
airbnb.com comprises of booking and
hosting and basically like a ton of
other products and so our approach was
to the promise that we made to
engineering so say if you got your pages
on 202 that you gain instant
rebrand and this look really well for a
bunch of all different pages like
meetups meetups was by Otto finding it
those it just into the rebrand landing
pages we got it 202 in an instant
rebrand Disaster Response a product that
allows host volunteer to host the
refugees and wish list and and I worked
really well for us but after sit but
then we come to this some parts of the
system which is legacy code so the
dashboards if you guys have ever used a
dashboard the main idea behind it is to
consolidate all the key features that a
user might one into one place so that
they can easily access it and that's a
really good idea in principle what
usually happens in the real world is
that more and more features just get
sucked into this dashboard and it just
gets so complicated and for Airbnb while
Dad was look like was first get a
dashboard then me and all the user
settings things like connecting your
facebook your facebook account and then
we had random authentication stuff like
connecting your two factor
authentication and then we had advanced
calendar views you guys have probably
never seen this but apparently our host
care a lot about this because it allows
them to see their listing visibility
across different properties editing your
profile important calendars basically
everything under the sun is in within
this single dashboard products and so
when we looked at this product and and
try to think about what we could do
about it we were asking ourselves the
question can we even snap this 2020 so
for a lot of the old pages it was really
simple to just convert it over 20 to
because there's a single page and it was
very simple adapted but for dashboards
it was a lot more complex because it was
a monolithic set of features we couldn't
just change one page because then you
look
the others there was one of CSS
everywhere tons and tons of sprites and
stirred it was our teen and crafty code
because all the dashboard features
probably written ones like three years
ago and no one touch it again so we were
thinking about it so we talked about how
can we how can we rewrite this whole CSS
without going nuts and so we thought we
needed a more nuanced approach to it and
so we came up the idea of 14 dashboards
so what do I mean by 14 what we what we
did was we create a separate branch of
the entire dashboard application that
was using o2 and we relaunched it only
to admins so for every page within the
dashboard we would check if the user was
allowed to exit view the go-to version
if they were admin and in that case show
them the 02 version and if not show them
the whole shitty version and this is a
really complicated approach compared to
just updating it to odo but it was
really necessary because this is just
like so complicated and so big that
rewriting the CSS is just kind of
untenable and for all the property code
that we that that nobody really knew
about we try we engage different teams
to work on it so like for instance a
really complicated calendar page we will
ask the team that down host to look at
it because it would just be too scary to
touch and here's example of us using a
sauna to talk to the payment scheme and
ask them to help out for us and so over
a span of four weeks via 14th we pop we
 it in and did a first pass over
all the different pages and then we
spend another two weeks finding on a box
which is you guys probably know finding
boxes using pretty long process and the
third part was whiskey profit which is
not really a part but never mind
and so on after we we had snapped it 202
in and and then so here's what it looks
like after that nice and clean and we
deleted over thousands of lines of code
after merging the fork so the last thing
I want to talk about is is it's the
overall project what does it mean to be
successful as a rebrand so it's really
interesting because like for a lot of
projects you can see that the success of
our project is a fifty percent more
users all we have we have increase in so
and so metric but that's not really how
r e breads work the main purpose of a
rear end is to revise an existing brand
and make it feel fresh and new and I
think the biggest testament to that
would probably be this quote from
somebody from a designer actually saying
this is one of the best roles that I
have seen a long time there's a
long-term vision for the brand here that
we really started to take hold and like
to say over time this will be a very
recognizable icon on properties all over
the globe and it's especially impactful
because as a digital bread airbnb com
presence to the user is is our website
our guests and hosts me each other from
website and they spend lots of time
there and so and so the visual identity
of Airbnb is really tied to airbnb com
and so I after this horse protect we had
20 engineers working on this 500 plus
pull request 941 files captain over
10,000 lines of CSS leader and I think
one of the biggest things that biggest
things I liked about this project was
opportunity to get rid of all legacy CSS
and bring us into a fresh new world
where we can have river and a well
encapsulated CSS framework I used to be
really afraid of touching coat on
dashboards because basically to make any
changes
we need to trip either at an ID selector
or throw to the thousands of light of
CSS and being able to go to a featurette
just start writing CSS and not be afraid
of breaking things is such a wonderful
and freeing feeling and cell area and in
this whole project we managed to get
everything on o2 and for the first time
every page on airbnb com is implemented
using our own in-house UI and a
consistent de la design language and so
that's basically all I have for you to
share about the rear end you guys have
any questions hi my name is honest I am
a question you said you build up on the
Twitter bootstrap framework and you
picked your own stuff I don't know that
so how do you maintain that like you
have you been up on Twitter and if they
come up with a new version of bootstrap
do you put that changes in or you
maintain your own framework or like how
do you move on with that I guess it's
not really so much as from Twitter
bootstrap as inspired by Twitter
bootstrap because our set of elements is
actually quite different than Twitter
bootstrap tara has mucho mÃ¡s a lot more
component than us so we are basically
ours is like a inspiration rather than
or for it oh cool hi thanks for the
great talk I was just wondering if you
had any experience with or many
suggestions for what I made it ceases
testing like you my views on a build
server or a continuous integration
environment oh it's a continuous
integration solution for CSS yeah like
what a mega because it seems like the
pattern it's more menu or human based
testing but something to be kissed by a
computer yeah so that's actually a
really interesting question because like
I use I used to do a lot more real
engineering and like in the case you can
write spectable what it looks like and
unfortunately that doesn't really exist
for CSS your build tools that allow you
to compare screenshots before and after
using an integration of capybara I
believe what we haven't really tried
using it because for us one of the
biggest things is just manually testing
across the set of browsers we support
which is quite extensive like including
supporting ie8 so sorry I can't really
recommend a good solution there if
anyone else has any ideas for your chime
in hello what if I say that you change
from the old you I to the new 22 a new
point and if I if when you are trended
you are registering a plan and develop
are adding new features how do you
handle it
I mean you need to do something in old
UI and so for the bout majority of the
side we simply dropped in a different
I'm CSS framework so it was up to the
developer to check that with the new CSS
that it look good but for dashboards
because we it we actually had to
a tell everyone that you have to add
your features to both and and designer
debt and mine which was which was not
easy by was the only way to do it ok
thank you right big engine Fiona thank
you so much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>