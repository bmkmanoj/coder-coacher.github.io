<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Marcy Sutton: Three Cheers for Keyboard Accessibility  [CSSConfUS2014] | Coder Coacher - Coaching Coders</title><meta content="Marcy Sutton: Three Cheers for Keyboard Accessibility  [CSSConfUS2014] - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Marcy Sutton: Three Cheers for Keyboard Accessibility  [CSSConfUS2014]</b></h2><h5 class="post__date">2014-07-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/wNunEYxZLPE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so this is kind of an impromptu talk
that I decided needed to happen because
I see really inaccessible stuff on the
web all the time and just this last week
I saw a website that was very popular
and I decided that because it was
popular but it was inaccessible it was
worth talking about it a little more so
I'm going to talk about keyboard
accessibility and I'm Marcy Sutton I'm a
developer at substantial in Seattle
which is a 60 ish person product
development studio and i build websites
and mobile apps there it's not really an
accessibility shop but I add
accessibility to all of my projects
whenever I can so out of any of us have
any of us broken an arm before have you
ever broken your arm have you ever run
out of batteries in your mouse and had
to use your keyboard all right so you
have a reason may be that you can't use
a mouse what about if your vision
impaired or blind I mean you guys are
looking around the room doesn't seem
likely but maybe you know somebody that
is all of a sudden you find that you
can't use the mouse and it really sucks
when somebody hasn't taken the time to
enable the keyboard it doesn't have to
be that way either we can make things
accessible with a little bit of effort
so because this is an impromptu you talk
I'm just going to do some demos and we
can see what happens so the first demo I
want to do is of whitehouse gov it's
actually it has some alternative text in
it it's not the worse for accessibility
but for keyboards it's pretty awful when
I first looked at the site I was using a
mouse so I could go around the website
and see these big hover menus but if I
start tabbing through the website I get
a dotted outline around the logo and
some visual feedback but not
much and then I get lost I don't know
where I am I can look down at the status
bar and see that the URL is changing but
I have no visual feedback if I go back
into the menu where am I I don't even
know where I am video I happen to know
that the video link is in the photos and
video tab of the hover menu all they had
to do was enable this menu from the
keyboard it might have taken some CSS or
it would definitely be some CSS it might
have taken a little bit of JavaScript
but it's really not rocket science to
make this work with the keyboard that's
one pretty simple example that there's
no reason for it like you can make that
work a lot better so I mentioned a
website that people have been talking
about a lot that they were all oh wow
look at how they stream lines that work
the workflow to buy a plane ticket
compared to united com it's you know so
many screens less to make it through
this workflow but the website is not
accessible it's pretty bad so it's
virgin america it's their beta website I
get that it's a beta site I don't want
to be too harsh on them because I know
that things are a work in progress but
given all of the Polish and the yay we
made it more fun to navigate but then
the blatant disregard for a keyword or
screen reader is really unfortunate so
when I first looked at the site I
started tabbing around the page and
again I see the status bar changing at
the bottom but I have no visual feedback
I have no idea what's going on here if I
hover I get some feedback but nothing if
you want to use a keyboard at all and so
it's really a bummer when I test a
website like this I have a couple
different tools see can we hear that i
turn on voiceover on my Mac just by
hitting command f5
Fiona laying inside of a list to click
this link press control option space so
i can test it with a screen reader to
see what does what would a blind person
yet so I'm gonna reload the page loaded
so I can see some visual feedback but if
I'm really using voiceover inside an
HTML content if I'm using voiceover it
doesn't matter if I can see it um so I'm
just gonna start tabbing like Virgin
America okay they put some text there
even though it's like an image logo
that's good like 0 items okay so i've
got some text I'm gonna keep tabbing
link link link link link link flight
alerts link Oh God elevate link sign in
link sign up link San Francisco okay
hold on there were there were buttons
there there were these radio buttons
right inside an HTML content where how
am I can't get to those control options
space if I click one of those buttons it
actually you can use the mouse but you
can't use the keyboard no you can't like
nothing on here can receive focus it's a
real bummer trip ah so when I use the
mouse to get the focus there then all of
a sudden I can get to it but who's gonna
do that the only text element inside of
a list multi-city San Francisco linked
list six items Boston MA boss link so
sometimes the way supper read things out
a little funny but we we can see what
they made inside the list to click this
link press control option in space
actions menu two items yep I'm a
voiceover a newbie I don't use it all
the time so you can use voiceover on
your mac on your iPhone you can also
install virtualbox on a mac and then you
have access to Internet Explorer which
you can use jaws which is a the most
widely used screen reader you can
actually get a demo version that's free
of Jaws I didn't know that until
recently it's a really good testing
tool you can use it for 40 minutes at a
time unrestricted and it's really good
way to test the most widely used screen
reader you can also get firefox
obviously on any platform but you can
get NVDA for free on for windows which
you can use through virtual box those
are a few the tools that I use to test
these things but as far as keyboard
access goes with the Virgin America site
I just started tabbing through it and I
could see that it had a blatant
disregard for focus styles and taba
below elements so being a curious
developer I open the dev tools just to
see what what kind of code did they use
here so if I go back to the home page
here it is an angular app lovely which
out you know on its own it's not
angular's fault that it's inaccessible
it's just really unfortunate that they
didn't make things work from the
keyboard so some of these items that
that I couldn't focus on I want to see
what those are made of so there's
actually an anchor in here it's maybe
not the most semantic element for it to
be an anchor if it has an empty href
value but I'll grant them it at least it
has text in it but since I can't tab on
to the thing it's a real bummer actually
I think you can tab on to it you just
don't get any visual feedback so you
don't know which element you're on which
there's actually you could argue that
screen reader usage is a smaller number
of your overall audience but keyboard
usage is huge and I think the only
reason that we don't do it more is
because the experience sucks and we can
give up so we do so for the Virgin
America website all they really had to
do was define the focus style along with
the hover style and they didn't do that
and it's super easy to do so you can
easily find the stuff out just by
opening the dev tools and tabbing
through a web page and see what kind of
expiry
it's you get so I'm going to go back to
my little slides here so that's a bummer
right people are launching these
beautiful sites they get all this
fanfare like woohoo it's a shorter
workflow to buying a plane ticket unless
you're on a keyboard or screen reader
and that's a huge bummer but there are
some websites that do it a little better
nothing's perfect but one that I like a
lot and I'll admit I'm a little biased
because I worked on it but targets
corporate website everything that they
build has to be accessible and so this
was a really fun project to get to take
a beautiful brand and make something
really interactive and accessible so for
this site there were some really key
features i wanted to add including skip
links so i can jump two major parts of
it so for this we have three skip links
i'm going to go to the main navigation
and i can skip right bye unlike the
white house website where we tab down on
the main nav items and we were forced
through all of those off-screen links in
this case i skip right on by even though
if i hit enter it expands and it shows
me more items and then i can tab in so
from a key keyboard or screen reader
experience i am basically creating a one
to one whether you're using the mouse or
the keyboard so if i have the mouse i
can hover over and that if i want to pin
it then it works on a tablet it works on
a desktop with a keyboard or a mouse and
i even wired up the Escape key which is
really awesome so that any time you're
you have something open you can just hit
escape and get out of it so if i go back
to our skip links now I'm jump down into
the content and I can start tabbing
around and these tiles were really cool
too because I can tab on to them hit
enter it flips onto the back side and
then I can go to this link otherwise if
that was off screen because the tile
isn't flipped yet I don't want to be
forced
onto some link that I can't see because
then I have no idea what it goes to in
this case I can flip the tile then I get
to the back side of it and if it has a
link then I can go to it so that's
pretty cool so I can go to that link so
this this website was a really good
opportunity to keep the design appeal up
and not have to compromise too much for
the sake of accessibility and I think we
can we can create really interesting UI
patterns and not have to sacrifice
access so one other example that I've
been working on recently and this is a
really fun app to work on it's called
distiller and it's actually a whiskey
recommendation engine and when I got
onto this project it's not that it
wasn't supposed to be accessible or that
people didn't want it to be it's that
they just didn't know any better and I
think that's the case for a lot of
websites is that we tend to develop for
ourselves and we don't really remember
that there's people who can't see or
can't use a mouse so for the whiskey
site distiller I really wanted to make
it accessible because how cool is it to
go and have a shelf of your own your
favorite whiskey's online I think that's
pretty cool and I have blind friends who
think that's pretty cool we have a
feature we'd love to add I don't know
logistically how or when this will
happen but getting whiskey delivered to
your house would be pretty fantastic
especially if you are blind and you
can't go to the store like heck yeah I
think a lot of people could see the
appeal of that so for distiller we
actually added a feature where you can
reorder the bottles on your top shelf
and it's a drag and drop feature I'm
actually going to open the version of it
on my machine because i don't think it's
been deployed yet
so when I started working on this oh and
my my localhost content is not whiskey
really um but this had a mouse only drag
and drop feature and I thought it would
be really important to make that
accessible I asked around a few friends
and making drag-and-drop accessible is a
non-trivial task I actually don't even
know how you would do that so I just
kind of reused some of the same
functionality but enabled it with the
keyboard so in this case I added some
skip links which we have in the top left
corner I think those are the ones that
haven't been deployed yet but it's jumps
you into the content I want to jump you
farther into the content because I still
have these links on the left side that I
need to tab through but these were not
accessible at all before like I think
you could tab on to them but they didn't
have any visual feedback so you had no
idea where you were so now I have a list
of three bottles on my top shelf and if
I want to reorder them the way that I
would do it before is I would click this
button that says reorder bottles and I
get a little draggable icon like a in
this case we're using the hamburger icon
to tell you that you can move it and
we're using a little jquery sortable
plugin every time that you drag
something on your list it actually rips
out the dom and then replaces it and so
your focus is lost that's something that
I'm doing a lot of research on with
JavaScript MVC's right now because this
is a pretty widespread problem it's not
unique to this website I think the
Virgin America angular site probably had
similar problems I didn't even have to
dive in that far to find problems but
when in this case something that we'd
implemented it needed help and that's
okay it's something that we can improve
so for this I made it so you can tab on
to the button which was a big
improvement and you can hit enter on it
and because it was ripping the button
out to you would lose focus so it now it
sends you back onto the
and I can toggle it to turn this edit
mode on and off so now I can tab on the
list and I actually get feedback that
tells me which item I'm on and it makes
it actually usable so if I use the arrow
keys I can reorder it and in a screen
reader voiceover on Chrome profile
vertical line to steal our window bottle
two of three Bushmills 21 year old use
arrows to reorder button as keyboard
focus so i added links or text up screen
to tell you where it is bottle one of
three mils you want your old use arrows
to reorder button lists five items so
when it reorders it actually updates the
number that's off-screen so it'll
dynamically count how many there are and
then right now I have three out of five
it will out of how many bottles you have
on your top shelf right now it will
count them up put the number in and then
for whichever item that what whatever
index that is in the list it will update
it as you move the list without that you
don't have enough context to know what
the heck is this thing and how do I move
it I don't know like what number is it I
mean we would go through all this
trouble to make this list resour table
with the arrows and you'd have no reason
why you probably wouldn't even use it so
this is one feature that I really got to
hammer on and improve the accessibility
of and I think it turned out pretty good
there's a lot more work we have to do to
this app because of the way that the Dom
gets ripped out and re-rendered like
some pages you aren't notified when the
page changes like say I go to my
collection at least in voiceover
voiceover all I'll do that again expert
whiskey recommendations vertical line to
steal our window two items Marcy some
profile accessibility is rad share
production there's open space on your
collection one some ideas get a
recommendation link search for whiskey
length group has keyboard focus so it
doesn't actually tell me when the page
changes when I click to a tab you are
currently on a group inside of HTML
content to do items in this group press
ctrl option shift down arrow what I did
do on the other hand though that that's
part of the way there
link sir visited link visit visited fit
visited link sign out visited link my
top shelf list two items visited link my
collection current age the thing i did
that got it part of the way there it's
making its a current page so i have some
visual feedback that tells me it's like
that's the current thing but otherwise i
have no idea so i added text off-screen
that changes when you change the page in
voiceover it doesn't tell me when the
page changes so that's something I'd
like to add but in Jaws on Internet
Explorer on Windows it actually does
pick up the change and that's the most
widely used screen reader so that's
pretty cool I was happy to find that out
it was actually a really smooth
experience I can actually show that what
that looks like so VirtualBox is a free
vm that you can download and you can get
all these different versions I have an
IE 11 version and with that you can go
and grab any browser like I said earlier
the free demo version of Jaws is a
really sweet way to test the stuff USA
so jaws tab row minam hanky banister
original blend bottle actually this is
mbda toggle Oh favorites I'm gonna kill
that NVDA get out of a notification
overflow this one reads everything as
you hover on it running at Bushmills 21
year old heck running heaven no no no no
NVDA it
yes quit so I can open jaws just like a
normal application it's an application
that runs on top of a screen reader
which is super interesting like when I
first got into accessibility I had some
there was some mystery about what jaws
is how it works I actually didn't know
they had a free demo version until a few
months ago and its unrestricted you can
use it for 40 minutes at a time Oh
doesn't want to let me open it come on
jobs hook us up gia jaws dialogue okay
13 boot sorry guys all right well I
think that experiment maybe not going to
work Grovyle d stealer internet explorer
button tool to should have planned that
a little better well one thing that we
could do is go back to either distiller
or there's actually more to the Virgin
America site that I thought was really
interesting so I turned voiceover
voiceover on last night and started
navigating to see what beyond just the
keyword stuff what would happen wrong
cruel virgin america window virgin
america HTML content has keyboard focus
so i'm just gonna like close my eyes and
try to use this thing and see what has
it early on link virgin america link
link link i have but i know where the
stuff is linked flying with us link
where we fly link pls link flight status
link flight alerts ling-ling visited
link link san francisco okay I'd like to
go to San Francisco
you are currently on a link inside of
HTML okay so the page change control
space I am on a new page i happen to
know because I could see it but I had no
idea that the page change so that's the
problem i was talking about with
distiller that we don't know when the
page changes so we need a little bit of
help to notify the user so say i pick a
city no idea and again any feedback
maybe i want to go to Portland there was
a notification at the top of the screen
that said something and I don't know
what that is so actually I handled that
and distiller just the flat sweet marci
second profile accessibility is rad
share collection there's open space on
your collection on some ideas get a
recommendation link search for whiskey
length group so I'm gonna sign out and
I'll get a similar notification expert
whiskey recommendations vertical line to
steal our HTML content forty-one percent
for you are my side out alright so
that's something that they could do on
that site to make that better and the
technique that I used is called re alive
regions this isn't so much CSS related
but it's really basic HTML thing that
you can do where you basically you're
watching an element and if you put Aria
live and then an attribute in this case
I put assertive and that says hey
whatever you're reading this is the most
important thing and it actually had a
property called rude before because it's
supposed to be rude like hey stop what
you're doing read this thing and in the
case of an alert box something that
needs to be read right away that's
useful so actually we can go and inspect
that in distiller and see what it looks
like so in this case here we have a div
that says re alive assertive and it what
that means is when the page loads it's
watching for changes so all I have to do
is append content into it and it will
read it so let's do a little experiment
i know i have jquery on this page so i'm
actually going to go look for it re Ally
of assertive okay so I have a hold of an
element I'm going to get this prepped so
that it won't be hearing all the typing
and voiceover but if i append something
to it I really hope this works voiceover
all chrome expert whiskey
recommendations vertical line to steal
our window dollar are an expert whiskey
recommendations vertical lines are still
are HTF group editable expert whiskey
recommendations vertical lines are still
our HTML content voiceover off well I
don't think that worked and I wonder why
that's really interesting so it actually
has the content in the div that I
appended it to but it didn't read it and
I would argue that that's probably a
limitation of voiceover because I had a
lot of trouble getting that to work as
well and I found some times it was as
buggy as leaving the browser and coming
back and then it would work so that
ended up yeah being really challenging
so I would recommend looking into re
alive for these types of applications
and that can improve notifying a user
when something is changing because as we
saw with this site virgin america site
not only did it have a lot of keyboard
access problems but there's really a
lack of notification so it's really some
user experience issues do you guys have
any questions
sure yeah oh yeah it so for that so here
i have the panel open i tend to put
escape on the body so that I'm always
listening for it so that way i could be
somewhere else like so the use case here
is the keyboard if i skip to the
navigation Oh navigation we go back to
the top I went all the way to the
flutter so if i go to the navigation and
i'm on this nav and then I keep going
maybe because if i click off it'll close
it but I'm anywhere on the document and
I hit escape I want to be listening for
it whereas if I'm scoped to something in
the nav with jquery or some other way of
binding that event if I'm scoped in too
far then I won't actually fire the event
and we like to use event delegation
anyway and target elements in a
different way so for the scape key in
particular I like to scope to the body I
actually I had one other thing quickly
it sounds like we should wrap up but I
threw together a little gist of the code
i use for the distiller sorting for the
the top shelf stuff and for that i made
a really simple little JavaScript object
for the key codes so that I could
basically put those really magic numbers
that like when you hit the scape key in
the event object you get returned the
number the key code so rather than
having those sprinkled throughout my
code
I put those all in one configurable
document and then I can just reference
it with like some variable name that's
one way to make that better and then I'm
always listening to the Escape key and I
can check which key code it was because
you're actually listening to any key
event but you only want to do something
if the condition is right and those
conditions are was it the Escape key and
am I on the right page am I sorting yeah
totally yeah so for this on top shelf we
listen for the Escape key and then we
trigger an event and that's a nap level
event so that way we are always firing
the event and then whether or not the
listener is bound and it will actually
do something about it it makes it so
that you don't have all this logic
buried in an event handler you actually
have it like moved into some other easy
to maintain place and then this sortable
list observer is only dealing with like
the guts of the sortable list and then
it hands off the like starting and
stopping of the the disabled sorting
event is actually in a different object
yeah oh yeah in that case you would
probably want to scope it using
delegation like make sure that you're
actually on the right thing like
actually on this gist I have some events
bound here and I'm listening to the body
but then I'm diving down into anything
that has a data behavior of sort handle
so that's agnostic to the type of tag it
just looks for the sort handle which is
only available after you push the
sorting button because it rips the Dom
in and out it's actually not even
present but the event is always
listening and when that condition is
true then it will do stuff yeah cool so
thanks for showing up yeah yes so key
press and key down there are slight
differences in which keys are available
so you have to do a little monkeying
around cool thanks
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>