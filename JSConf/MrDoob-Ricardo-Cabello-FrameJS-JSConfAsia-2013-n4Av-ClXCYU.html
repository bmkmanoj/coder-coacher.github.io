<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>MrDoob Ricardo Cabello: Frame.JS - JSConf.Asia 2013 | Coder Coacher - Coaching Coders</title><meta content="MrDoob Ricardo Cabello: Frame.JS - JSConf.Asia 2013 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>MrDoob Ricardo Cabello: Frame.JS - JSConf.Asia 2013</b></h2><h5 class="post__date">2014-01-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/n4Av-ClXCYU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">you
hi everyone I'm gonna be talking about
these new library I've been working on
these leaves new library framework Oh
fringes fringes I still don't know very
well how to define it but uh I'll try by
now saying that it's a real-time
animations editor for the web and
hopefully at some point it's also gonna
be by the web like people is gonna be
contributing some effects and some
filters and stuff like that I always
talk about demoscene but I need to talk
about it a bit as a background so back
in the end I used to be a little bit
active in the demoscene like ten years
ago or something like that back in the
days the demoscene they would do what
they do is bunch of people that they try
to do some real-time animations that
they showcase what the computer on the
platform can do like in the same way
that nowadays we're doing WebGL they
must ensuring what what y'all can do
back then they will show you what like a
4x6 will do or like I wanna make a condo
so this is how I know we can see well
this is how a code is should look like
on the first ones like as simple as it
gets
you'll have like a loop that he will be
running every frame and they were
checking if the time was less than five
seconds and it will you will put all
this chunk of code of what it will take
to render like a title of the demo for
instance and then if the time was less
than ten like if it was bigger than five
unless and ten and you have all this
code for like running like running in
this cube and then same thing for the
plasma cube or I said the plasma of
course you always have to get like that
girl in which at some point that will go
after this time was twenty seconds
this doesn't really sound like a very
scalable setup like if you had to work
with other people you have to work with
a like a designer coefficient or
something like that like a musician like
for editing it will take like way too
much time like a big I will say like
what about making these like five
seconds short or stuff like that so they
will have to modify the whole code and
then compile again
I just wouldn't scale out very well so
at one point people started to build
their own editing tools so this is one
that in our team we built well I didn't
really do much like I wasn't a developer
back then I was using graphics so the
guy on my team built this one and it was
pretty basic like as you can see you
have like some layers at the bottom and
it was this was pretty much determine
and every point was kind of to set up
some effects some thoughts into that
effect and then we had this was another
example of a timeline oh my god narrator
this one has a little bit it was a
little bit more advanced like it had is
a curve to you so it had the same I also
had like a timeline bill that you had
all the blocks like it and usually like
in Premiere like after effect you will
have this bill but also has this curve
panel that you will be able to do some
curves that it will like you have like a
fade effect that you have like a like a
camera that goes when teased you will be
able to modify that apply that curve to
any value from that 3d scene and this
one was the last one that we used it was
everything everyone each one was done
with a different guy and somehow I was
working with those guys and I - we used
those tools the good thing or these this
one was also very similar to the
previous one like he also had a team
like timeline I also had all this like
this was like the curve Bo Adam what he
was amazing all these is that all those
parameters that you will change you will
you will see exactly in real time
immediately what it will affect like how
we look like suddenly I cannot share the
tools because they were for Windows and
an item because that was always anymore
but all these we can see there was a
screenshot so it will be nice to be able
to do a better than more them but I
think you can get a little bit of an
idea of it so the output of the
animations that we did a demo so the
problem the output wasn't really amazing
because all these was like Howie
work like no one was paying for this we
will compete with each other and
basically we we will work in a new
animation or any of them or like a two
weeks before the competition so you only
had time like like two weeks to build
something the developer do so will like
over the year will be like working on
his free time like building these tools
but the output it was always you always
had to say like but it was done in two
weeks you know don't judge it that way
like it's not like after effects
animation which that's kind of the
reasoning of all this stuff like I saw
that it was a lot of potential on this
like it was the whole real-time and
everything was amazing and I always so I
always was very impressed with it means
that After Effects didn't have like
things like that or like any other like
famous editing tool like it was in real
time so it's an example show like this
one that we're seeing here I again like
Thanks
so so these these demo for this one I
was doing all the modeling on 3d studio
max we had some exporters also we will
build our own exporters so we will
export from there to our own format and
then it will load in this in this tool
and then do all the editing and all the
movements I don't know maybe the camera
movements I think the camera also were
done in 3d see the marks but we'll use
modify a little bit like how everything
is growing and all the processing and
things like this so the thing is like
all these that which is like the demo
tape which is so it can easily be done
like with WebGL it's the same thing like
we just happen to be using like DirectX
back then but that could be like easily
done in WebGL and I'm I wish like the
web's were a little bit more like like
this these kind of graphics and the
pollen was the Ptolemies that we still
needs better tools to build this kind of
thing right now is everything is for
developers so far like we need more like
to be able to remove from each of the
people doing graphics and 3d stuff so
exactly one year ago comes eventually
one year ago I was invited to touch yes
and I used that as an excuse to start
building like a library like it's a
building this tool like I wanted to
recreate a tool that I just show like
this is this previous one I wanted to
recreate this one I wanted to have it
again back but so I thought like what
about trying to build is like in
JavaScript and make it open and making
like a Bella before everyone and see
what happens when a tool like this is
available for like people and people can
build like their own models for their
like effects
anyone can play with it a little bit
like flash was like an open-source flash
in a way so I built like a very like I
quickly built like I think it was
probably like two weeks or something
also which is how to build like a
prototype of like a first version of it
this is not a seven how it look like a
looked at how many wars on this but I
think it idea
so this is this is using this was done
thank you
this was done using this shader effect
like fragment shaders that you can find
on like a shot it's like shade the
toys a comma like GLSL sandbox so I
think well I I give some credit here for
the reasons that I took but I had to
build something very quickly so in this
case and I just built like some basic
modules or you will pass any fragment
shader and then a time or like some
properties to it and then do like a play
them just in the right time so this at
this form that this soul was not very
useful like it can only you know show
the blocks and you can kind of jump to
any point but for instance Mikey can
that's the way he only things they can
use like move the flash maybe this was
just a simple module that it will just
like to draw a quad on top of it with
some opacity and at the beginning will
be one and the ending will be zero so
just when you move if you are kind of
flashing the screen and the same thing
right here you can move like one that
effect explaining and but like that's
that's pretty much what I have like a I
was saying that I will be nice if you
click here and then you had some
properties there and that's about it but
like even besides the things like that
but I that's pretty much all I had so so
then it's ed much later there was this
event in Spain like ESCO ESCO party
which is is the random party that I used
to go like when I was 10 years ago and I
had I haven't done like for like maybe
four years or five years so this year
were like are maybe I can go like a LAN
party looks like this if anyone is not
aware of this like it's a ton of people
katana computers and in this one they do
some demo swing competitions so I wanted
I thought going back to this one and see
if I correlate something
and I send myself the challenge of like
he is going with the Chromebook like
these $3 crumbled and see was I what I
could do with it like I kind of found it
interesting that this device this
machine had the same power that they the
computer that I was powering ten years
ago with the screen on there on the
compute on the big tower on the back and
now I could just carry over this is
super super to device and see what I can
do with this with this thing so I lock
myself in the room for like two days
before they contain competition and to
see what I called Oh like I only had one
song and then I had to build out of it
something with it it was a bit
challenging because this is running
Chrome OS and and whenever you're doing
something with crumble any browser you
have some security limitations
you cannot load textures so you can
unload some like even JSON files so I
had to basically have to use like lower
like three tiers and use all the
primitives that they had available and
build something out of it so this is
what I built
Thanks so was it oh wow
it goes back well as an experiment on
this one I try adding like as if it was
a video so you can forward to any point
in time if it allows me yeah like if it
was any kind of idiot but the good thing
then the nice thing of this is that even
in these it happens that this resolution
right now is pretty I don't I don't
think I have done anything at such a
high resolution so in this case the good
benefit is that if you had a video it
will look a little bit blurry but this
is still as crisp as the projector can
be so for this I just the same I just
the same version of the tool or the
editor that they have from the J's
basically I just added a few things like
now I call like zoom in the timeline to
kind of navigate a little bit quicker
and maybe a co like resize the effects
and mobile it a bit but uh but that's
actually I was also like we able to like
clone an effect so like if I had this
like a I could have another flash there
if I wanted to make his move it out
towards when he goes away like whatever
and here you can also remove some and in
this case it was actually useful because
whatever I was doing here and then I
call like a sports so this which is
basically like a kind of format like I
still try to move define this is a JSON
format that then I run time whenever you
using the editor button you can use a
player and that's this is what the
player basically needs and also you also
need like the modules and is like this
so from here I call like edit the whole
thing like duplicate things and explore
it and
it started to be able to be useful but
for instance if I wanted more if I
wanted to modify like any anything in it
like I still couldn't like change any
parameters from here so if I one here
for instance if I wanted this in scene
from module I had to go back to the code
which this is how it used to look here
for instance you want to change instead
of being the Lighting's of the thing
with I know what can I change yeah so
the having this red color like we can
just change it how to below then kind of
go back to the same place but now you
can see that the lights around it is
yellow and I guess it will be binary
change also the sphere like this one
so now I said that having this rather
sing in the middle like we have it in in
jello and everything just looks like as
it used to be but you know and still
like this is not a very nice process
like you still need to go back to the
sublime modify the the effect and
everything and this is enough this is
not like it's something that you want to
have like a graphic like a designer's
deserve so actually there was something
interesting for them
another feature that I had to add for
this or that they managed were the
example like for this demo was so we're
swimming into the timeline we make for
instance for this part let's put the
music very well think thinking that can
be like kind of a pain I having some or
all those things but you can with the
audio Pia you can reduce the playback
rate this is basically how you think you
keep listening to the whole thing it's a
very slow favorite rate and in your
listens it's kind of if the music wasn't
darker now it is cinema dark today I
managed to get this thing and it's kind
of the basic of what I usually need
so four months later since then I was
invited here and then I used this as an
excuse to add like more improvements to
this so one of the things I like the
first thing I want to do was like
friends in this case like now when I do
a click here now you can finally like
modify you can modify the text in it
like you have some parameters of this
thing so in this case we can just change
and for like no you're going to change
it even one whenever it's playing if
that's something you want to do for some
reason
and to do a little bit more like
something interesting we can also move
the camera to say something cheesy
only have too many other promises this
one like here we can change instead of
being the flashy and this kind of blue
why we can change it to be like what
about the color and we already see how
it's that's what that was kind of the
first thing then I all these that wasn't
it's not like very nice like for
instance in this scene we set up Anna
you can say it like we set up the XY set
the position where the camera starts and
the actual set of a position where the
camera ends and this is not like a very
nice way of like animating things so so
the next thing was implementing some
sort of curves into it so you have like
a camera position and then like on the
previous tools that we saw like you'll
have like an editor for the curves
sadly the editor for the cases is I
still don't have it but the curves
internally it's working and I have it
actually I think was in this non the
next one
yeah like in this one this color module
has a dissipating but this color module
has a curve applied to it internally
let's see if I can get this work so
you'll see that the value it's
decreasing or like it's increased
decreased in actually because it just
goes from like opaque full of fake black
to the trans friends so you can apply
any kind of curves internal like linear
curve the spine curves or any kind of
even my sinus weight to any kind of
frequency to any value that you have on
the on the engine or the top and here
now for instance in this effect not that
yeah we have some parameters we can also
move we can move the timer for instance
like if for whatever reason we we wanted
to try it we wanted to see how it looks
from here Mike
that's probably too close
I don't think from this one you want to
try something else
so yeah like this first thing is still
working progress I need to like another
panel on like where the ten money's to
be able to certainly try to do need to
decide how the format is and how it
whether they're in sync with the block
or whether they are like using their own
time or whatever but this is kind of
something like this is kind of the
latest version and this is how it
starting to work for the module like
this week for the module system this
week I started to like I had something
like really ugly before implemented it
was everything was like in in global
scope like you will define like like
like image module equals function and
then everything every other module knows
the name of the other modules so that
was obviously ugly and I'm this week I
started doing a new try to define a new
module code for it a module part of me
this is what I have so far but I had to
fill it that this is not the best thing
like probably something like requires
yes or like AMD or something that I had
to look how is the best way to intern
and all this stuff but this will be like
a module like this code is like what
what you will what you then like you
just a J's father you can drag into the
tool and use that as a resource for
anything like it can be like a flash it
can be like a 3tc and it has some
parameters or whatever so this is kind
of the basic of it like like a module
has like parameters and any function
that it is whatever you need to create
something or whatever it's like you need
to initialize any kind of geometry so
things like this the loads still not is
not implemented yet
the start is whenever the effect that
whenever the module is gonna be rendered
for the first time this is being called
so so you can setup your effect and then
the update is just a method that is
called like every frame that the module
is rendering and it's sending the
parameters it's like say the animation
is moving or like there is some sort of
movie for like core animation or
anything like this but you get it from
the parameters
so for instance this is how module looks
for just a single flats color like in
this case I'm using three but this you
can use whatever you want like it can be
done like for any other like any other
library it like this is agnostic it
doesn't it doesn't know what three J's
is so in this case for instance we're
withdrawing this flat color and so so in
3d one year what you want to do for like
one during college is the plane is
creating a orthographic camera which is
always going to be like this it has no
perspective and then you create a plane
and then that plane has a color so in
this case we're creating a autographic
camera and then a scene then a material
isn't select a material which is the one
that we're going to change the color on
then create a plane geometry which is
just a quad that we need to draw with
like a mesh with the geometry in this
material so this in this is kind of ugly
like and right now the this effect needs
to know about the render where it is but
the runner is another module so this is
the dependency issue that I still need
to work on and then all with all this
set up and you have defined a module and
then you have the parameters that is
like color put aside color and then like
this is the default value and you can
specify some ranges especially for Matic
floats which is like a normal number of
decimals so for flow will be like for
like opacity and then in this case we
don't have a window needed start so we
don't need in it or anything because
it's always going to be there so this
this one has a update method that in
every every time that is being called
every render time is going to set the
the color the material to whatever the
parameter color is and that primary
color don't change because we're kind of
we have I mean we can have any curve
applied to it same thing with the passes
it just has the opacity and then it
renders
so in this case we have like we have
like the weather what you'll run there
like kind of an on top of it which only
does initialization it doesn't really do
anything an update and then it has this
scene that it renders that scene and
in this case you need to flush something
unitive like any flat color that it is
another renderer
with this sin and this is more less how
it's looking so far so the next thing
when I work which is kind of the obvious
sorry it's kind of the obvious thing
like yeah this is free interesting and
really useful especially for me because
I know how to build this thing on how to
where all the parts are but it will be
nice if it was like something on the
edges for that you go here and then you
can use publish so publish is basically
means exporting or creating a sip file
with the HTML file and everything that
you need so you can upload it to your
website and then publish it on your
website and this is one it's not as easy
as it sounds like I'll try to work on it
for the like as the next thing also for
like also the features editor need
something like this yeah this is pretty
much what I have so far
and that's it it's certain sources and
github already it's always been there so
you want to guys your anyone when I have
to take a look-see bit at some point
like feel free
thank you much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>