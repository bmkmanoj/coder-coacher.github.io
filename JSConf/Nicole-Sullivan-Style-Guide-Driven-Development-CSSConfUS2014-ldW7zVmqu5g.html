<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Nicole Sullivan: Style Guide Driven Development [CSSConfUS2014] | Coder Coacher - Coaching Coders</title><meta content="Nicole Sullivan: Style Guide Driven Development [CSSConfUS2014] - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Nicole Sullivan: Style Guide Driven Development [CSSConfUS2014]</b></h2><h5 class="post__date">2014-07-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ldW7zVmqu5g" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I'm gonna talk today about style guide
driven development on a project that
I've been working on at pivotal labs how
many people here have done test-driven
development Oh awesome so a whole bunch
of you do you mind if you haven't done
test-driven development raising your
hand I see a few ok so basically and
this is gonna be my summary of
test-driven development because from
what I've seen so far everybody that
I've ever asked about it comes up with a
different answer for exactly what it
means but the rough idea is how do you
work incrementally and write tests that
are going to figure out whether you're
on the path to getting your code to do
what you want it to do or not and then
how do you then later use those tests to
to make sure that your code still works
when you make other changes and that
sounds fantastic but sometimes it kind
of works with CSS and other times it
doesn't really and so in my project we
came up with something called style
guide style guide driven development
which I think the pivotal labs New York
office actually sort of started using
that term first and I'm not even really
sure where they got it but it's been
working out pretty well so I want to
tell you a little bit about it I'm
sewing to talk about a few things first
the goals the challenges our plan how we
execute it on it and the results that we
got and it gets super important to focus
on results because it's something that's
really the right approach then it has
good results so our goal was to reskin
the site to match some new branding we
had this site which was you know very
heavy and was loading super slow and
generally weren't happy with it there
were a bunch of things that that just
weren't right and the designers really
wanted to change it too these were the
sort of intermediate designs we came up
with we had a two-phase project the
first one we called we called B flat
because we knew that we weren't going to
get to do a huge change in the way any
of the UX worked we just needed to
flatten things out and get some of the
excess UI stuff out of there and then
very shortly after we did another
redesign which this is what we ended up
with
basically we didn't know for sure that
this would be such a different design
when we were going through it but even
still the component system that we built
and the style guide really helped us get
through two major redesigns in something
like three or four months so the
challenges there were a lot of them
actually first there was so much CSS 91%
of it unused but on a standard page it
was like 314 KB uncompressed it was not
so much slowing the page down I mean
that was part of it but it was just
really unwieldy to work with we had
custom CSS per view it's a rails app and
rails really wants to encourage you to
write CSS a separate CSS file for every
single view that you have in your app
and you kind of have to fight it to get
it not to not to have you do that source
CSS tended to be either deeply nested
and specific and so not reusable at all
or it was extremely global almost
impossible to know the scope and where
it was used and what in fact you'd break
if you changed any of it we also had a
problem with layout proliferation
layouts and rails are your sort of
top-level templates that your starting
points for your app it seemed like for
basically every single page we had
created a new a new starting point
layout even though they weren't actually
substantially different
what tended to be different in them was
actually the content area and when we
would make changes we've quite
frequently forget that we had another
layout for you know some random page and
end up with end up with one of our
layouts being broken because it wasn't
up to date we also kind of had partials
inception someone on the team before we
all started must have really loved
creating partials we had partials for
things that weren't shared anywhere we
had we had like nested layers like each
partial would have like a line or two in
it and then it would point to another
partial a line or two and it would point
to another partial you get like 12 deep
before you could finally see anything
about what was going on in your partial
we also had a sort of more buttons more
better philosophy we had like 20 or 30
different kinds of buttons different
sizes you couldn't
and always see that they were different
they look like the same orange button
but actually they were you know pixel
difference or they looked exactly the
same but they were actually coded twice
and so you'd end up with extra images
because of course everything was done
with images it didn't have any css3 so
it's really hard to change designers
would ask for what should be a simple
thing like I'd like to update the button
styles for the small green buttons and
we would give them estimates like well
that'll probably take a week which is
just not the amount of time it should
take to change a button style over we
also had jQuery soup and a lot of it
everything was these custom widgets and
one-offs setup on the page rather than
reusable we had like six different ways
of toggling something which just seemed
a little bit crazy we've also put our
frameworks in our assets file which in
rails that's where your own code is
supposed to go which meant that people
felt like it was ok to change them
because the Heron assets and so we end
up with like all these different
frameworks all in assets and slightly
modified from their originals so
basically impossible to upgrade we also
had a sort of epic stories that were
sort of difficult to estimate they give
us a story that was along the lines of
redesigned the marketplace page and
we're like yeah that could be you know
that could be a few days or that could
be a few weeks it's super hard to tell
how long that's going to take we also
had a crazy deadline constraint we had
about six weeks and the design wasn't
complete when we got started basically
our PM was supportive but at the same
time he knew that we had to get the
first version of the site out and he
basically said I need to see some
progress by January first and if I don't
then I'm gonna have to call the project
off and we're gonna just have to you
know reskin it whatever we have to do
whatever crazy terrible CSS we have to
write and I was like no no please give
me time we're gonna do it definitely
didn't want to write more crazy on top
of the crazy that we already had it was
a little overwhelming the constraints
were pretty tough so we started thinking
about how to get there we know what we
wanted to look like
what we have was too fragile and brittle
to really get it there incrementally so
what did we want to do we basically
decided that we needed to build
components and start using style guide
driven development to sort of rescue our
project from the the chaos that had gone
into I should mention as well our
velocity was really low we were having
trouble releasing features which is
something that happens to teams when
they get into a place where their
front-end code is really messy it gets
really hard to get something new out
because you're having to work around all
this legacy to get anything released and
some components helped us structure the
site and now I'll give you a little demo
and this style guide is actually live on
the web so you can check it out I will
tweet out the link later but it's at
console run pivotal do and it's slash
style guide and we decided to build on
top of bootstrap mainly because the
product wasn't defined yet we didn't
know exactly what it was going to be or
what it was for the designers were still
doing a lot of user testing and still
figuring out like why would somebody use
this it's a tool for the product that I
work on is a tool for being able to
scale cloud applications adding
instances and and things like that being
able to check the health of your system
and make sure that your your apps are
running well and that they you know
being able to change different setup of
them live and on the cloud and so it's a
funny product to be working on because a
lot of people who are going to want to
change these things are going to be much
more comfortable in a CLI than they are
in a web app and they're going to want
to go to a CLI so our designers we're
still doing a lot of research to figure
out why would somebody use this over you
know over the CLI over the tool that
they're pretty comfortable with and some
of the things that we'd found out were
people said they'd use it on mobile so
you know what if I need to scale the app
because I get an incident report on my
mobile phone I get an alert but I don't
actually have my computer with me
I could add instances or I could restart
the app from my mobile phone and so
that's some of the stuff that we're
still figuring out what it's for and so
building on top of bootstrap meant that
we didn't have to know
what we were doing ahead of time we
weren't making the most optimized system
we were trying to make a system that we
could iterate with and then and then get
better swim a whole bunch of different
kinds of components in here from alerts
to app status this is where you would
stop or restart your app different
different kinds of things that we would
use all different sorts of buttons fewer
than we had before which is fantastic
our colors and things like that so this
may seem like a lot of colors but we had
way way way more before so this is sort
of continuing to constrain it down to
sort of a more reasonable number and
different different kinds of things
Gravett ours and grids and health
indicators all kinds of stuff oh and
we've since broken it up into different
areas because we're having trouble
finding things but the categories aren't
necessarily working that well because
you still don't know where something's
going to be anyway so that's roughly how
the style guide works so you know we
might have progress bars or whatever
else so when somebody needs that we
actually use Hamel for the most part so
they have a Hamel example exactly what
they'd have to copy/paste in order to
get that into a particular page and then
we have the rendered versions of each of
those so the goal is to make it really
super easy for people to use existing
components much easier than it is for
them to make up their own stuff
basically um so here are some of the
results some of the numbers that we got
we had a lot fewer layouts we moved from
about seven layouts to two which felt a
lot better we needed to have one
simplified layer States so that we
didn't have
we weren't dependent on having data
available for our error states to render
correctly but still we were pretty happy
with that change we had 21 image
requests before at 82 KB down to 2 image
requests at 21.9 KB so pretty good
pretty good improvement in image size I
think frankly we could go a little bit
further but you know we've got a little
work to do in order to do that our CSS
moved from 314 KB to 128 from to me
that's still big that's
a lot but we're not at the point in our
app where we're ready to be optimizing
for like the the high use case we're
right now still like figuring out what
we are and what we're gonna do and what
we're building and why people use it and
stuff like that so that seems like a
good middle ground for us right now we
also moved the compressed CSS from 44 KB
down to 22 yeah still a little high
especially given that we don't have a
mobile version of the site the the
site's responsive and just works well
you know as best we can just works on
mobile so that means that you know
unfortunately that much that much CSS
getting sent over the wire is kind of
high definitely something we're looking
at for that inflection point when it'll
be the moment where we should really
start reducing that and so we went from
90% unused CSS to 69% the unfortunate
thing is 53% of that comes from
bootstrap
which is a little bit we don't want to
modify the framework because that would
make the upgrade path hard but if we use
the framework we get a lot of stuff we
don't want and that's in spite of
actually having pulled in all of
bootstrap commented out all the at
includes and then uncommenting them as
we use them so we're not pulling in
everything just what we need but any one
bootstrap file actually has quite a bit
of stuff in it and so you know while we
might not need like maybe we only want
regular progress bars or not animated
progress bars it all sort of comes
lumped in together so it's something
where we're thinking about and starting
to contribute back to bootstrap so that
we can make it a little more granular so
how did we do it that's that's a little
bit of the results and how it turned out
but how did that happen
our hypothesis was basically that
components are hard and and pages are
relatively easier and that components
are actually a feature that should be
validated when they're documented in our
style guide faster design feedback meant
then we'd had a better sense if we were
going to make our release if we were on
the right track we basically started
having a story first that would be crate
X component and put it in the style
guide and that became really helpful
because straightaway if
sort of built it wrong the designer got
a chance to see it before we were you
know eight miles deep into building a
particular page the the PM got to
validate that it fit with what he was
expecting it to look like we would also
kind of skip a bunch of the fine-tuning
of the animations and then do that in a
final pass with the designer once it was
in the style guide but before it was on
the page and that worked out pretty well
for us so the result was smaller more
manageable stories a much more
predictable delivery and our velocity
shot up
I think the funny thing about about when
a team starts moving faster is that just
moving faster and itself is super
motivating and when you get that
motivation like you're like oh we're
getting work done where we're churning
through things all of a sudden it feels
much more viable to be able to output a
large volume of work we also moved to
bootstrap three tip they could take
advantage of better support for modern
browsers and some of the responsive
stuff which I found really cool
we had a dependency on something called
Rails admin which unfortunately wanted
bootstrap too which is super annoying
but we ended up being able to break that
by only including that in the admin
pages which are not actually accessed by
real users and put it in the agenda to
later build our own admin pages so that
we wouldn't be dependent on that we also
used something called hologram from
Trulia for our style guide and Susan Lin
is in the audience today and she she
worked with me at Trulia just before
they actually created hologram so I had
made a style guide generation tool in my
company and I thought it was awesome
it was so complicated you wouldn't even
believe it and I was like oh this is
fantastic this is the best style guide
generator ever and the moment I stopped
working with truly they were very polite
while I worked there but the moment I
stopped working with them they switched
away from that style guide tool
immediately and built their own and I
was like oh but then I tried theirs and
it was actually fantastic it was so much
better than mine you wouldn't believe so
then I switched over to theirs instead
it's a really great tool it basically
allows you to have markdown and your CSS
so if you look up here I know it's a
little bit light to see
you basically have a markdown comment
doc and it gives you the title the name
in the category and so based on the
things that you put in there and you can
put tables in as well and you can put
your actual documentation and markdown
right near the CSS that it's actually
documenting which for us was a big key
to actually keeping the two synched up
as long as those were in separate files
it was just too easy for them to get out
of sync with each other one cool thing
you can do is also have a sub component
so here you have the same the title name
and category that you could have skipped
the category in this case because it has
a parent panel so it's a square panel
and it's a parent of panel and that
allows us to do the the nesting and the
style guide automatically without needed
to do any work to actually make that
happen we also found that the
combination of this and bootstrap 3
we're actually writing very very little
CSS and yet having a pretty clean
experience the generated style guide is
going to look something like this with
all of our different classes documented
in the table the modifier class that you
need to make that happen there and then
underneath the rendered example &amp;amp; hamill
example we've since taken on a larger
scope which is to be used by a bunch of
projects that are actually not written
in rails so now we're going to be used
by a project in Java project and go and
that's just too stupid so we're going to
be fully front-end and we're going to
basically break any dependence we have
with with any back-end languages so
gonna have to have HTML examples in
there and full JavaScript rendering
which is sort of an interesting
challenge we'll see how that one goes so
what we found was the designers really
work in a view related world they work
on a page at a time or a flow at a time
they're really thinking page by page by
page and that that needed to be
translated for developer consumption
like basically we needed it broken down
into components but they really needed
to be thinking globally and so we did a
lot of sort of work on how to do that so
basically this is our marketplace page
and they're different sorts of services
that you can add to your AB databases
and
testing services and things like that
sort of standard things and so the
designer might look at this and sort of
be thinking you know of this as an
entire page an entire experience but
when we thought about it we were
thinking of it as little pieces and so
there was a lot of tension of whose job
it was to actually break it down into
component stories one of our PM's felt
like it really should be done by the
designers but they hadn't had experience
in breaking something down into
components so that didn't quite work and
then you know on the developer side we
wanted to take responsibility for it as
well but we weren't always aware of
where the design was going and when it
was ready to be broken down so it kind
of ended up being everybody's job so we
would start breaking something down we
would build you know boxes and we'd
build the media block and some of this
existing and bootstraps some of it
needing to be modified we'd build
headings and body copy and three column
grids getting them just right for us
making sure they have the right gutters
and making sure that they they layout
properly in the way that we need that
they're going to flow and change
according to page size so that ended up
being a lot on me at first I ended up
doing a lot of the translation step and
actually found it really hard to teach
that to people I'm I would love
suggestions if you guys have it for good
ways to teach people to break down pages
into components still not 100% sure but
I know that they're they're a lot better
at it from pairing and working together
doing it very definitely are several
people are starting to be able to do
that and the designers started to talk
about components once the once the page
is done and the the experience has been
sort of crafted been the conversation
turning to practical things started to
naturally turn to components which is
great but still I think we have a ways
to go and that um so this is an example
of a story that we would have in in
pivotal tracker the tracking software
that we use but you could have it in any
kind of tracking settest software like
my company used to use github issues and
and that works fine too so basically
create box components and document
document them in the style guide so
boxes
it says at the bottom boxes only include
borders background should go in
background components and contents will
be created separately so this is a kind
of instruction isn't necessary now but
in the beginning it was really hard for
people to tell from a mock-up which bit
of the thing they were supposed to be
building we had all these crazy sketches
weird people would outline in magenta
that was supposed to be built and try to
X out the bit that wasn't supposed to be
built and now I think people just have a
natural sense for it but it was a little
bit difficult in the beginning and so
then we would have examples of the
different boxes images of them uploaded
to the bug because no matter how you
describe something it's just much better
to see it when you're building something
visual and that that worked out pretty
well and we create tasks sometimes for
each of the kinds of boxes that we were
going to build and that helped just keep
us sort of organized and see how much
closer we were getting to to being done
so how many people here have seen me
talk about object oriented CSS at all
okay so a fair number but not everybody
forgive me a little bit I kind of wanted
to add a little detour into what makes a
good component some of you if you've
seen me talk about oo CSS are probably
gonna have seen this before but I didn't
want anybody to be left behind so added
about 10 slides of this so let's get
into it
so basically if we think about building
boxes we have to figure out what is a
good component and what makes a good
component how do you define how much do
you put into it and how much do you
break it into separate pieces and this
is something that I find you know when
you first get started in CSS or maybe in
any language because I find myself doing
it in Ruby for sure you really want
rules you want someone to tell you like
X is the way to do this thing and so
people will ask me should I make this
into one component or should I break it
into into two classes or should it be
one component and then a modifier and
often my answers are sort of sort of
like trade offs you know I'll say okay
well the positives of putting it all in
one are that you would only have one
class to apply and you get all that
behavior the negatives are if you want
to use that separately from this you
really can't you're going to have to
make yet another new
and then talking about breaking it out
saying well you know would it make sense
to a user - for me a user as a developer
sorry would it make sense to a developer
who's using the system to know what
those individual pieces mean my sort of
guideline on that side is not having
anything that can't be shown and
understood in a style guide and the
reason for that is you know float:left
might feel like a really really great
class to have you know how floats work
and you know that you have to clear them
and you know all the ins and outs of
what might break if you float something
but I don't want to assume that the
people using my style guide to build
functionality know what a float means I
don't want them to have to think about
the guts of how CSS works when they're
interacting with it um so that's sort of
the trade-offs that I kind of try to
think of and try to walk them through
but it's hard right it's it's it turns
out like nothing really replaces a smart
developer making good decisions in a in
a given situation and I think that it's
it's difficult there are pros and cons
on both sides it's a little bit of the
anatomy of a good component let's look
at an example from Facebook this is
basically a media block example so it's
an image on the left and stuff that
describes it to the right this is in the
Oh CSS open source project on github
it's also in bootstrap now so you can
check it out there as well all of these
are actually a media blocks they're all
images with stuff that describes it to
the left or to the right they may look
different they may be different sizes
and things like that but they but
they're the same object so the first
thing to think about when you're trying
to figure out if something is a good
component is to figure out what do you
know about it now with these we know
they can be nested right because we've
got we've got a nested one over here
with a little envelope inside of that
particular that particular media block
we know that they have an optional right
button because that one also has a
little X on it where you can close it
away we know it's got a clear fix
because you don't want some content sort
of running up inside of the the media
blocks that you already have on the page
but maybe a little bit more important to
think about what we don't know
about it because what we don't know
about this object it's where it's gonna
be flexible where it's gonna solve more
than one problem rather than just the
problem at hand
so what we'll notice is the image width
and decoration vary we don't have any
idea how big the images in fact it could
be it could be a movie it could be
anything it could be video or other kind
of content as long as it's fixed with
the right contents also unknown in some
cases it's a list in some cases it's
just a simple link in some cases it's
fairly complex with links and lists and
all sorts of things put in it so we
don't want to assume anything about
what's gonna be contained inside of this
media block and the other thing is that
the width is unknown so we've got one
little one up there but we've got
another one that's really wide and if we
made this exactly 467 pixels wide
because that's how wide the sidebar
happened to be in this particular
iteration of a particular design and you
could only use that media block in a
case where that was true and that's
gonna be a really limited subset of
times so making the width be flexible is
super important as well we also want to
separate structure from chrome in the
top example it's a little hard to see
here there's a blue background and in
the bottom example there's a white
background we don't want to tie those
things together because then if we need
to make a green one or whatever other
color we would basically have to rewrite
all of the media block code and we don't
want to have to duplicate it so it's a
few lines of HTML this is the CSS
example rather than the bootstrap
example they weren't basically the same
the class names are just a little bit
different and then it's just a few lines
of CSS as well really simple on the
media there's a clear fix in this case
it's an overflow:hidden clear fix but it
really could be anything I found out
from talking to now at CSS coffee you
that from Facebook that they're now
using an overflow:hidden clear fix but
there are several different ways that
you can do it and all of them again have
positives and negatives good things
about them and things that are that are
harder and that you have to work with so
then it's just some float left and float
right and a little bit of margins to
separate out your your images from the
content there next to I'm so pretty
simple all in all and yet this is my
this is my facebook stream
on the right-hand side I've highlighted
everywhere that they used a media block
in order to layout content and I made it
a partial opacity so you can see where
it's darker red that's basically where
they're nesting media blocks inside of
each other so with just this one little
component it's pretty powerful and you
can you can actually do a whole bunch of
different kinds of layouts just with
this this one thing I think of it as one
of the most fundamental building blocks
of the web because almost every site or
app that I've worked on has one of these
the Facebook HTML size reduced by about
50% when they were working on this it's
kind of interesting because a lot of
people will say to me oh but you're
gonna have a lot of class names and your
HTML size it's gonna go up but
consistently with the different clients
I've worked with I ate CML size actually
goes down I think the reason is that
sure you may have a case that's super
optimized where you have like oh I only
needed one link and I was able to put
the icon in as a background image so you
only had to have that one that one node
in order to do it but the truth is that
usually if you have multiple ways of
coding the same component over and over
some may be coated really well and some
may be coated by a back-end developer
who would really rather not be writing
any CSS at all and who knows how they'll
end up doing it or how many nodes
they'll add so my feeling is that
overall the size reduces because the
consistency increases but that's you
know sort of me making up a story around
it all I really know numbers-wise is
that it does reduce you know when you
when you componentize so what makes a
good component correct granularity is
really really important how do you solve
only one problem and solve it well when
which problem are you going to have
solved by this component which things
aren't you going to try and make it do
flexibility what don't you know
particularly width and height you want
to let the content control your height
and grids control your width rather than
having individual components have sizes
you want to keep your specificity low if
you want to be able to combine
components it's really important to have
low specificity so they're not
constantly overriding each other
encapsulation is important to which
nodes actually belong to this media
block and which are just they happen to
be children but they're not
part of the media block itself and
modularity and predictability as well
the media block shouldn't behave
differently just because you put it into
a different column or you put it into a
different page developers won't trust
your code if they think that something
may not behave the same way on different
parts of the site so here's the the tile
panel that we built and the designs for
it it was sort of interesting I think
it's typical of designs and illustrator
when we got it from the designer we
noticed that the the icon and the text
was always centered even when the footer
showed and didn't show on hover and
we're at first said oh goodness like how
are we going to do that and we at first
tried not to but it looked really bad
you had a big gap under there when when
the footer wasn't showing then we made
it like a Plinko board where it just
showed on hover like you know really
fast and that didn't work either
so iterating with the designer we were
able to come up with an animation that
showed the the footer slowly it faded in
and faded out and the content rose up
and rose down along with it something
like a 300 millisecond animation and so
by working with them and actually having
them sit down and do design dev pairing
we were able to get something that felt
like it worked pretty well but without
having to have it specified to the ends
degree I really hate the illustrator
with the red line marks on it that say
exactly how many pixels should be
between this thing and that thing
it drives me crazy I don't think that we
always know that and I think it's really
hard to keep it consistent across pages
there's no way to do a DIF of an
illustrator file and to figure out that
oh whoops we used a slightly larger
heading in this one or we've added an
extra Pixlr to of space below this guy
so I think it's much more important to
define the default spacing for the
components and then put them together
and let them let them sort of deal with
themselves so we then did a sort of
visual acceptance of the components so
in the style guide context the PM the
design took time to review and
independent of the individual page it
was used on this felt really good to us
because we were struggling when we try
two views based CSS with ending up
calling things really specific stuff
like it would it would be like the the
marketing marketing footer and things
like that and then we'd end up using it
on another page and it started to feel
weird because it wasn't a marketing page
anymore they just happen to want to have
the same footer so doing that acceptance
independently helped us write cleaner
more generic code so we converted the
marketing page first mainly because it
got designed first and it was a little
more concrete because and mainly because
as well all the components for that page
got done first we really wanted to start
converting pages as soon as possible
because we were afraid the PM would pull
the plug on the project if we took too
long and so we wanted him to start to
see project progress and to see that we
were getting somewhere so we basically
then at a story once we'd done the
stories for all the components for that
page
we had another story which was implement
the marketplace page design with
components it was it was quite cool to
get a story like this because once we
had all the components together it was
like hooking up Legos and you know we
would put all the components together
and in basically a plain HTML or plain
Hamel document with lorem ipsum in it
and then we separated out actually
hooking up the backend and hooking up
the data side of things and doing that
again in two steps helped it to be
faster and cleaner especially for the
developers who weren't as familiar with
component systems they got a chance to
just figure out components not have to
do that along with figuring out hooking
up the data and from my side where I'm
less familiar with back-end it was great
because I got to do the hooking of the
data side without having to also think
about whether I'd properly indented my
panel and that kind of stuff all that
was solved ahead of time we had feature
flags for all of this so that we could
still regularly deploy usually we like
to do incremental deploys but in this
case it was just such a big change that
we couldn't have some one page of the
site be green and another page of the
site or all the other pages be blue so
we decided to feature flag the whole
thing and do one big giant deploy I'm
sort of considering that incremental
release or the big bang approach and I
like incremental release
I think it's a lot easier to be sure
you're not doing something crazy or
users are going to hate but in this case
it wouldn't it wouldn't work for us with
the constraints of time that we had so
the thing that we were trying to do more
than anything was to make an unsightly
clean spot and this is something that a
friend of mine came up with years ago
when he loved to restore old cars and he
would talk about when he'd gotten a
really junky old car and he would clean
part of it and how just cleaning that
part made such a contrast so that you
could actually see how dirty and how
much attention and time other parts of
the antique car needed to bring it up to
to restored condition and so we kind of
did that with our site we had some
pretty messy code it felt pretty
overwhelming and a bunch of people had
sort of tried to start getting things
cleaner and it no one had gotten
traction our velocity was super low and
we just weren't getting things done and
so then we decided the unsightly clean
spot approach we weren't gonna try to
get everything better we were just gonna
focus on getting the front end code
better just gonna focus on components
and we're gonna completely ignore the
Ruby for a while and once we did that
and we actually made an unsightly clean
spot we could see oh wow that's the Ruby
our endpoints are not working for us
because we need we actually need this in
the front end and we're not getting it
in the way that we need so I think it's
actually a pretty good way of starting
to starting to clean up a messy code
bases don't try to like spread your your
refactoring around the entire code base
evenly focus it on one bit and like
really get that bit making sense I think
at least for us that worked really well
so when converting a page first we
created the layout with the static
components and then second we wired up
the page to the back-end dynamic content
so we would end up with something like
this where we had a Hamel but it you
know was all basically first lorem ipsum
and then we would actually hook it up to
our endpoints and get our you know
service offering names and descriptions
and things like that once we finally had
put together everything so we had we had
all the components we had the page done
with we
components and then we had all the data
hooked up then we did another stage of
acceptance where our p.m. would look at
the actual page and test all the flows
and make sure they made sense as well I
would give design a chance to look at
the entire page in in its context and
make sure that the decisions we'd made
in the in the microcosm of a particular
component actually made sense when they
were blown up to a page level design dev
pairing was amazing for this we got to
do refinements we got to do animation
timing and interactions it just wasn't
possible to communicate that in static
mock-ups Adobe products are really tough
for for anything where you want to
communicate about how something changes
over time or or anything like that so we
found that it was much better to do a
rough version in pure HTML with just
some basic design feedback and then
actually sit with the designer and do it
together and then we discovered our
designer could code as well which was a
fantastic thing to find out now we're
making him code all the time
so we all scented color and spacing
tweaks when they didn't match the
mock-ups so sometimes he do things like
change the background color when you
know normal iterations right he had used
a pretty dark grey kind of a battleship
gray for our background and it really
looked cool but in a bunch of cases with
different content and didn't work very
well so slowly over time he'd lightened
it in the mock-ups but we didn't realize
so in design death pairing he would pick
up things like that and say oh you
didn't notice I'd lightened this we need
to change the gray that's the background
of our our page and so more sort of
mushy results like less numbers based
but I think just as important if not
more important we now have no view
specific CSS at all it's it's completely
gone making making changes to the CSS
isn't terrifying anymore I mean I have
like 10 years or 13 years of experience
writing CSS and the CSS that we had in
the beginning I didn't dare change it I
felt like I was going to break
everything if I touched it anywhere
nevermind people who were just getting
out of college or who had done back end
and hadn't done a lot of front end it
was really rough
and so now changing our CSS you know
exactly what's going to change as a
result
the scope is a lot easier to determine
all of the components are in the style
guide which in terms of a testing
strategy has worked out really well it
means that when we add a new component
we can check the style guide rather than
having to check every page of the entire
site and that has been really super in
terms of having I spent less time on
testing and more time actually getting
features out there way fewer partials
it's possible to actually tell what's
going on in a page because we made
sensible partials when something was
reused we made it into a partial when it
wasn't we didn't and that has been
that's been pretty helpful oh we got rid
of jQuery UI and bootstrap too which is
fantastic I think one framework is
enough for anybody and we did not need
to have so many hanging around and more
importantly maybe for the user the
design is consistent and now when the
designer wants to change something like
he just came up with a new design for
all of the buttons we can do that and we
can do that quickly
you know that's now in our story instead
of a multi-day or possibly week story so
before when people were starting a new
story the question they were asking
himself was what markup and CSS do I
need to write now when they're starting
a new story they say which components is
this page made of and that's a really
fantastic change that's that's made a
huge difference in terms of how we work
together and how much fun we're having
building things not wasting time
reinventing the wheel but instead
spending our time making the stuff
that's really going to make the product
different and innovative and you know
building the new thing instead of
building the old things over and over
thank you so much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>