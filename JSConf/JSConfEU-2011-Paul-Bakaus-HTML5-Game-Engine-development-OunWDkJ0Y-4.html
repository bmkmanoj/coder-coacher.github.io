<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>[JSConfEU 2011] Paul Bakaus: HTML5 Game Engine development | Coder Coacher - Coaching Coders</title><meta content="[JSConfEU 2011] Paul Bakaus: HTML5 Game Engine development - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>[JSConfEU 2011] Paul Bakaus: HTML5 Game Engine development</b></h2><h5 class="post__date">2013-06-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/OunWDkJ0Y-4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so um did I want to expect that I'll
explain how to write a game engine if
yes then don't worry I'll explain some
great stuff but not how to write a game
engine tonight so getting closer H my 5
gaming in 2011 as Martha already
mentioned I've done a talk last year and
this year will be bit more a more closer
to go first of all me I'm Celia of Sigma
Germany zigga germany was dextrose
before and has become Zynga Germany I'm
the greater of the others engine
prototypes um that I have released last
year went through the Twittersphere lon
and Jake we are and i also love shiny
things so I love getting shipped down
syke Germany is the first European
development studio that Zynga has
created and this is sounds bit cheesy
but we are really creating the tech of
the future that's what we're doing we're
doing our emt development over here just
a quick words about a singer whose
singer singer the world's leading social
game developer most people connected to
farmville say the bill and I have to
have to tell you that I wasn't a social
gamer before a joint Zynga I was a
traditional console gamer so I didn't we
understand social games um and struck me
that social games can actually reach
each numbers of people and a very very
different target audience much broader
target audience so we now have more than
60 million daily active players who play
our games and more than 230 million
monthly active players that we can reach
through those games that's what makes it
really exciting we also started to be
really global so now our games are
played in over a hundred sixty six
countries in six in different languages
and what made it really really exciting
to me as
now if you look at console games you
know they're fun and they played a lot
but if you look at social games you see
certain pattern right social games if
you look at if you compared to TV you
know our games like cityville and
farmville I actually you know consume
more entertainment time of people's
lives then popular TV shows like Dancing
with the Stars no American Idol stuff
like that so it's a great way to reach
of really broad audience well let's get
started flashback so first of all in
april 2010 that was the first time where
we showed the others engine prototype
one so was a the kind of a medieval
world where you know guys were walking
around stuff like that then that was on
a mac where we displayed it then in june
2010 we did a new prototype that was you
know based in a modern word and most of
all about community it was all about
running a cross-platform so we're a
video that showed it running on ipad and
that was the exciting new scoop there
then in fifa 2011 I realized that
browser games the term browser game is
actually diluted and force founding a
new term called open web games because
that's what we wanted to build we wanted
to build games that are cross-platform
plugin free and run across any device
and I still have the feeling that we
were running faster than what technology
could give us so we're running away from
technology as our time and now it's
interesting how it's all develops now so
looking back you know from one and a
half years ago how did it browser tech
evolve and this is you know there's a
lot more stuff that's happening but this
is what really relevant to us so WebGL
let's talk about that first WebGL is
exciting and it's really exciting to us
because it allows us to you know build
stuff in 3d or you know accelerate 2d
stuff in 3d however if you look at the
adoption pattern of web
she'll when child's now almost two years
old um yes actually that also the spec
is really now has made you but the first
implementations we saw you know one and
a half years ago so um and still the
only thing we're seeing right now our
demos and not only are some of them are
really cool but they still look like the
demo scene from the 90s and now that can
be really read oh and retro and sexy but
if you want to write a new console you
know console game or something that
looks like a console game something
that's really exciting and attracts
people you know I haven't seen a single
use case for WebGL get that really you
know makes makes a huge huge experience
that's bad and I hope you can see
something soon canvas whatever canvas
our canvas is adopted broader than web
shell but we still have to issue that
for now the main use case of canvas
remains being graphs and charts and
that's very unfortunate so no canvas has
the advantage that it allows you to do
everything and the downside that it
allows you to do everything and most
people don't most people don't realize
in the game word is that as soon as you
you know have to manage your scene graph
for drawing yourself and not leave it to
the browser um you're moving all this
bottleneck that was on the browser
before in native C code and move it to
JavaScript so now everything's executed
in JavaScript and you have this huge j/s
heap that people you know sometimes can
count do you work and that that's a
problem so still not really deployed
widely if you look at you know the top
hundred pages that people use you know
it's really hard to see where face for
where canvas is used now this was from
couple slides that I have published last
year and fortitude is still true audio
is still broken there's still the codec
battle iphone problems you know one
sound at a time weird security model so
you can only activate sound when you
click on something there's still memory
issues and you can't cash sound so
that's not obvious but if you create
cache manifest on your mobile device
there's no way to catch that sound in
there that's a big issue device api's
are still missing so stuff like camera
file system access on mobile devices Oh
everything that we want to play with and
then there's some non obvious stuff like
we have access to the gyroscope for
instance nowadays and an hour in tation
change however gyroscope information
right now is completely useless because
you can't prevent orientation from
changing so as soon as you have a ball
and on an iphone if you want to like
rotate your phone to move the ball right
the phone just you know changes its
orientation arbitrary and that's
problematic so those things are not well
thought out yet now this is a big one
for me right mobile debugging on mobile
devices it's not there is not existent
there's small parts of it in Android but
not what we need so really you know you
have this great debug extension in
WebKit that most people don't even know
about that gives you information of is
something drawn on the GPU or is
something drawn on the cpu gives you
information on memory leaks and memory
consumption and all these interesting
information that we need to build a
performant game engine and all of this
we don't have a mobile so it's just you
know really bad now that's all about
bashing let's talk about the good part
so some of you might recognize this one
web could overflow scoring touch that's
amazing because for the first time ever
you know there's a property you can
actually have you know if you want to
construct a a application that has a
fixed hair of fixed footer he would take
the inside content and and do an
overflow overflow auto in there and then
you can flick through and now finally we
can do that so it looks pretty native
web sockets and iOS
so that's also something I I really like
and there's numbers improvements over
web inspector yourself if WebKit is one
of your many level platforms it sucks
that you know back then Firebug was so
much better than the inspector that you
always have to switch back Firebug to
look at what's wrong and nowadays the
web inspector is actually really great
finally you know hardware accelerated
hardware accelerated cameras that's a
big one for us um it's really gaining
traction it's a med apart from snow days
so I 9 has it I 10 obviously Firefox
Chrome on vista and windows seven well I
say this I'm window 7 because windows XP
is still a big bottleneck and it's a 551
also has it on line that's very exciting
so that's that's the review that's not a
bit about html5 so html5 is still the
hot new bus as we all know and the way
to get hired is to tell you know I'm ha5
developer but what does that mean so one
of the big issues i see with html5 at
this point is this situation so if you
look at iOS 5 you know you see around a
thousand five hundred native api's and
compare it to you around 20 api is on
safari that we we get access to you and
that you know i mean that really says it
all right so we need more api's we need
those camera API is file system API is
we need a lot lot more love bye-bye d
vendors and also html5 you know is
really something that everybody wants
but nobody can get um so it's like this
nice shoes and that that I mean
basically as I think nobody actually can
plus nobody knows how so every company
wants to jump on the html5 band working
but there's no talent there's no
resources there's no training you know
you can't just Google
this stuff I could just you know Google
no give me an isometric game engine in
JavaScript theory run why is that right
so theory run is good deaths good deaths
don't want to learn html5 so what we we
all have heard that probably see we too
is companies don't have the balls to
ditch and explore smaller than nine and
this is something that I'm particularly
mad about so because you know those
companies will probably argue but you
know a large percent of our users surf
with these process um now there's this
nice quote by Steve Jobs and this is a
real exciting part where it says you
know that the TV networks are in
business to give people exactly what
they want and it's very very bad so you
know we think about you know all those
crazy channels and then TV programs say
you know this is but this is
that people actually want to watch and
there's other TV programs that give
people what's exciting so you know what
we what people would should really think
that is traditional game makers you know
make people buy new hardware and those
companies don't have the balls to force
them to update the 10 year old browser
and that's bad so we should stop
thinking about you know what can we make
better for ie6 users but really think
about how do we have them upgrade their
browsers because it's luxury to just be
able to download free software and
install it you know traditional
traditional game makers didn't have that
luxury they had to buy new hardware go
to store to play their games and it
still worked so upgrade the web so it's
still a problem with html5 gaming asian
of 5 was not created with games of mine
the WTC and what we g historically had
no members from gaming companies and
it's telling so there was simply no
focus whatsoever on on gaming also wept
are seldom good game devs and vice versa
that's something I've learned in the
past that's something i learned when
looking at myself i started as a web
developer and only very slowly became a
game developer and that transition in
any direction takes a lot of time and
that's the third significant issue we
don't have which I des to build build
stuff we had one of the talks mention
that I think the first talked talked
about tools and I totally agree we need
tools the reason why I flashes so
insanely popular is it has great tooling
the slash IDE is really really useful
and we don't have that this IC efforts
being done but we're not there yet so
let's talk a bit about with zynga and
our specific role you know as singer
CIGNA's technician is to make the web a
better place for games that's what we
want to achieve how do we achieve that
well a couple things we do WTC
participation dialogues with browser
vendors game engine development and open
source so WCC are Zynga is a pretty
fresh member of WCC we joined februari
2011 and we started to actively proposed
new specs the stuff in there that seems
non obvious to most people like one of
the things that we proposed was was a
point events opacity proposal where you
could basically say you know take this
opacities threshold on any element and
then make the point events go through
that opacity so imagine you have you
know a element and you want to have
rounded corners on that element if you
hit on the edge of the rounded corner
you still hit the element and that's
stupid we don't want that and for
graphics is more interesting so you have
a house right and you want to be able to
click the house behind that but you're
still on the rectangle of the first
house so those use cases we have all the
time and they can solve a lot of
problems for traditional web companies
well
we are having an open dialogue and very
well exchange with most of the big
browser vendors um so whether it's you
know Google Chrome Firefox Safari or
Internet Explorer it's really important
that we talk to the implementers because
they usually and you can do our two
obviously there's there's no reason why
you can't it's really important to have
a voice and tell them what we need
because they're usually looking they
come from all different perspectives and
they're not necessarily implementing
what's good for you there's sometimes
implementing what's good for them to be
able to do all right so they focus on
the things that they can do quickly and
easily but this point events a positive
thing for instance is really really hard
to do but everyone agrees that is a
great addition so a couple of those
interesting things that we propose block
orientation change multi-channel sound
on iOS mobile device debugging so those
are just some quick examples so that's
that's what we do to bring the web
forward but then finally and this is
probably the most significant point open
source um and this is exciting because I
talked about that a couple months ago
said you know we do have plans
eventually to do open source because we
want to give away something and and
learn from giving it away and really
excited to announce that open source
that Zynga starts today
so today for the first time ever you're
getting access to two projects that
we're open sourcing they have been beta
internally for quite some while and we
we think we are now ready to give you a
sneak peek um so today will be will be
soft launching two of four projects that
we want to lounge this year and the two
we're launching is view pouria something
i call viewport and scroller jukebox and
speedrun are more focused on actual game
development so they're well sweded for a
different audience will be releasing
them later on so let's talk about
viewport first now imagine you are
running a page on your iPhone and you
want to create a web app right so you
have this blue element that's left
bottom 0 it's red element that's chopped
right zero stretch it up to a middle of
screen and that due to what what you get
right so you do a normal may not view
port um like the thing you learn
everywhere and it's what you get but
people want to scroll away this your L
bar that's on top because that your
elbow doesn't need to be there if you
want to play a game or if you want to
maximize your if you don't want to have
to do Alba so this is crazy hack that
everyone knows scroll to 01 on the
window just call away the you elbow now
what keeps happening is this so everyone
who's done mobile development we have
probably have seen this before so the
stuff scrolls up but now left bottom 0
is not you know where you expect it
anymore so you have this blank space
here that keeps keep staying there and
euphoria change that so view porter
if your neighbor if you plug in the
viewport a plug-in to your page it will
do that so it will scroll away
everything it can find including debug
bars your elbows whatever we're hittin
the if you want to the native resolution
so you can always the speed and pomp
improvement and it will always create
the right viewport dimensions
dynamically on Android and iOS devices
so left bottom 0 is actually left 10
that's what it's all about so it's
around 6k unified iOS and Android
handles orientation change so twisted as
much as you want you I remember we were
rotating devices for four weeks or so
was no fun it can also normalized epi
that's pretty exciting so let's say you
won't you have a element on screen that
should be you know a centimeter in size
on any device you can do that you can
say you know my base DPI is 100 and it
will do 100 on any device so we look the
same on iOS for iphone 4 look the same
on iphone 3gs and any kind of android
phone and can also map device pixels to
screen pixels so that was the important
part for us because that's a huge
performance gain so if you trigger the
native resolution on the device you
might have you know some trickiness
around handling layout but it's really
used to be fun so that's URL I will this
is not public yet aftershock I'll give
me 10 minutes I have to see all ready
for you to check out so it's all in get
up so next next topic so this is what's
your friends some of you might know it
it's pretty popular in two years what's
your friends it's just a traditional you
know looks like a traditional I iOS
application and you have this chopped
fixed header and bottom header and in
the middle there's the game board and
this could be any web app so you know in
the middle you have a every year that
you can scroll right
and in a classical web app you would
probably do position fixed on the top
and the bottom and then have dinner card
and scroll or you do an overflow auto
container in the middle ultimate work
however they never worked on mobile
before and why is that that's because
that's what most people don't realize
panning is not scrolling so on mobile
devices on ios and android and webos
anything that's touch-based you have
this concept of actually panning the
view port rather than scrolling it so
the viewport size is a bigger size than
the device for you know desta optimized
websites and in order to not not cause
too many reflow issues they're not
shifting the screen size to be really
tiny their basic allowing you to pen the
whole viewport and panning is in
conflict with sprawling so you couldn't
have both but now there's there's a
couple of companies that tried to fix
this and to private solutions that so
this I scroll that created in JavaScript
ends just as transforms and cradled a
library scroll ability is doing the same
I think using CSS animations Google Mail
has it has its own implementation um
actually even Apple has its own
implementation of written in JavaScript
for their mobile web apps which is
hilarious but no that's hence the way
they did too so everyone has to find had
to find a workaround for that because
there was you know you could have of
overflow order before but you would need
you know two fingers to scroll the
content there was no nifty acceleration
or anything now as mentioned already we
got web could overthrow scrolling touch
now and that's awesome it's really full
of win but oh wait um so it's full of
win and really allows you to scroll
really nicely but what about canvas
right let's say I want to do a game
that's on canvas so you have your canvas
screen maximize two hundred percent and
you wants Colin you're right you could
do a 10,000
thousand pixel canvas but i'm pretty
sure that you would run into performance
problems here um so for canvas this is
obvious not a solution you need
something if different so meet the
scroller squad is our second plug-in
that we're releasing today and we're
really excited about it the squatter is
one hundred percent event-driven it's
just logic and it's not applying
anything to the Dom or you know any
values anything that's really related to
lay out that means it can handle dumb
canvas SVG web chair whatever you want
to trample because only what you do is
you tell it that someone started
scrolling if we do all the mathematics
and logic for you and five events so you
can basically say whatever you want to
and modify your scroll values internally
say you know if you have a Dom element
it's as easy as you know sticking CSS
transform values on the element and just
shifting it around the whole logic is
done but applying it handles more than
scrolling so it handled zooming snapping
blocking paging because that's also the
things that you can't do with web could
overflow scroll and with the other
solutions so on the game board on a
traditional isometric game board like
farmville in cityville you always want
to have to ability to zoom in and out
and that's something god for instance
WebKit overflow scrawling couldn't give
us so again this project is I'll get up
later on and feel free to play with it
and we're looking really to a lot of
feedback so that's the scroller and I've
got to show you preview right away so
let's see
here we go so that is the canvas
implementation of scroller um this is
how to compare around you know it has
locking you can flick it you consume it
you know you can flick and zoom at the
same time but you can do on it on the
apple stuff you can have stuff like it's
all program magnet so you have an IP i
right you get all of that us back there
you can do whatever you want with it
enable everything on the fly scrollview
certain coordinates and zoom tool ever
now the good part is that the native
demo so this is native we just wanted to
compare it to the actual a touchpad
deaths in LA and Mac OS X scroll demo on
dumb so this is this is done this HTML
looks really excited at the same it's
the same thing it's the exact same logic
you do it for canvas you do it for dom
and the only thing you're doing
differently is the actual applying of
the values um this plugin can do more
than that so for instance we have
snapping in there so let's say you have
those small rectangles and you won't
snap to them so here's what's doing it
also does YouTube page so paging
horizontally and paging virtually so
here we go that's the scroller
you
so finally I have no idea how much time
I have but finally talked a bit about
the future so let's take a look at Ava's
engine and single engine now Alice
engine has been a prototype we threw it
away when we started working the real
deal we want to start all over and
credit really performance-driven engine
so what you've seen on the others engine
was around 5,200 elements that moves on
the screen or like not even move but
were rendered on the screen and what
we're dealing with right now is more
than 4,000 elements on screen that we
render and that my might or might not
move around so that's a really big shift
so it's 10x increase of objects stuff is
smaller stuff moves around and speed
real deal so um the what we've realized
is when doing the development for over
15 years now we realized that we had
some expectations and some assumptions
that we did back then and some of you
might remember me always talking about
how to dumb is the right solution to do
gangs because canvas is too slow and I
said I over and over and over now
actually it's not true anymore and it's
not it's not true anymore to some extent
but that's really interesting so dumb
it's now first of all dumb is now faster
than in HTML so if you create something
in the end of Dom like with native dumb
operations it's faster than playing
supplying stuff in HTML that's something
that totally changed from work from two
years ago so two years ago I was always
talking about use in HTML wherever you
can just put it all out there and this
has changed canvas is now faster than
some dumb in some cases so on iOS 5 i'm
pretty sure if you're building a game
canvas will perform faster on windows 7
canvas will perform faster there's no
need anymore for external CSS so we have
this technique where we use external CSS
to you know not as much as you know
stuff in the NHL stuff you're rendering
out so now
you can just put all in line CSL inline
CSS on the elements we just work equally
well maybe even better and that's
interesting to us because we really see
the the technology shifting from time to
time and luckily we have been able to
adapt it really which are they so that's
good what our engine what we are we
working on so if you if you work out
something and flash for instance right
you usually have a way to render and
that's it and then you have you know all
kinds of game modules but we have this
technique where we implemented hot
sweating in the engine so we're prepared
for whatever comes up we have all the
engine logic implemented generically
like the scroller but we can hot swept
any renderer at any given time so we can
hot swept to an HTML renderer for
windows XP or switch to canvas render on
Widow 7 or switch to something else on
web shell so that that makes it really
really really flexible so some examples
of craziness that we're doing on the
engine and stuff I'm looking forward to
talk about in the next next couple of
J's comes arrays were way too slow for
us so that's interesting so we have a
lot of loose in our engine we're looping
through a lot of them handling objects
handling what you draw handling what you
animate and we had we actually
implemented a custom linked list on top
of JavaScript that is dramatically
faster than arrays in our use case where
we're insane it inserting a lot of stuff
into the into the list and removing a
lot of stuff dynamically so that's
that's the basic stuff we're doing it
out with any jobs which is really none
obvious or depth sorting so every game
has this challenge that you know you
need to sort objects that are behind
others in the correct way so you know if
you have an iso game board obviously you
know this example here looks bad doesn't
make sense and this example does so um
you have
as those routines you called depth
soaring and perfect depth sorting
something we've worked on by slicing
images it's really weird and really
wicked and we worked in it for a long
time we have read countless books and
this and none of the books were giving
us perfect depth sorting so those are
the kind of problems for trying to solve
and honestly I think we're getting close
but we need help to get the final pieces
done so we're really looking for
engineers that can help us please apply
today talk to us if you're looking for
ridiculous J as challenge because we can
certainly give you great challenges and
we really want your single journey so
join the fun visit our booth visit you
know this awesome short URL and other
than that see you soon yeah thank you
we got plenty of time for questions and
I'm sure there's going to be lots of
them so go ahead hi I also work at a
games company and I know many of the
problems that you talked about are
familiar to me I was thinking in terms
of tools where do you think that the
best option could come from do you think
it have come from Adobe and something
ready to flash or something else
entirely I'm not correctly I think I
think Adobe we seen Adobe trying to
enter the html5 gaming hi5 space right
and then produce tools I think all of
them are very early and now we also see
now companies like unity that already
have a great 3d game ID and bringing the
new platforms like they recently
announced you know having having flash
as their deployment platform so I think
those traditional game engines could
could really be be able to port to WebGL
and stuff like that so that's an option
but I think there's also room for IDEs
that work for web engineers right
because I see a lot of web developers
that want to enter the game market so
it's just different target audience you
know for traditional game developers
something that unity is great and for
for people like me i would i would
rather wish for a you know I de that
looks a bit like fireworks but it's
really all about games so let's see i
don't know i was a question about the
linked lists you mentioned which are
faster and louder than errors why are
the faster and what are they implemented
on this eres themself the link lists are
I can't talk too much about it because
I'm not the one that implemented it but
even if you want to talk about it yeah
what so previously there was always the
problem so we will see there was always
the problem with Jasper performance
being too slow so custom data types
which we you would normally use and C or
C++ didn't make any sense because he
always had off creating objects and all
staff dynamically at one time what's
wrong well was pretty much destroying
all the games you would gain for me yeah
from the algorithm so of course in
linked lists it's pretty much all or one
unless you need random access but but
you hardly ever need random access in
our cases so of course having an old one
linked as for removal or even well I
implemented it so that you could even
have 0 1 contains that's also pretty
useful so in the end it's all one was as
0 N and since we have thousands of
objects and stuff in there that
obviously will speed up syncs
automatically all right thank you
Heather you mentioned it would be
awesome if you could export from unity
which is a great development tool and
really nice to to WebGL there was a
project called J 3d which does exactly
that it was announced at on games start
like a week ago ok interesting have to
check it out thanks well any more
questions
do you still use jQuery in your engine
yes as a matter of fact we do wish to
use jQuery um we now Jake where it can
be bottleneck right so you have to be
careful about where to use it um it can
dramatically speed up co-development but
if you have a very hard render loop it
probably doesn't make sense use it in
there so we're trying to replace
instance of jQuery where we have you
know a lot of optimization to do but
we're still using it across the engine
so definitely great if there's no more
questions give Paul another round of
applause please thank you
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>