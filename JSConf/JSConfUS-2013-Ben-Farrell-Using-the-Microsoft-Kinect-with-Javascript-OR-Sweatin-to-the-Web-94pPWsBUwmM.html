<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>[JSConfUS 2013] Ben Farrell: Using the Microsoft Kinect with Javascript OR Sweatin' to the Web | Coder Coacher - Coaching Coders</title><meta content="[JSConfUS 2013] Ben Farrell: Using the Microsoft Kinect with Javascript OR Sweatin' to the Web - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>[JSConfUS 2013] Ben Farrell: Using the Microsoft Kinect with Javascript OR Sweatin' to the Web</b></h2><h5 class="post__date">2013-08-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/94pPWsBUwmM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">gonna start up a do little warmup um so
yeah here we go here we go some exercise
warm-ups all right I'm my shadows
blocking okay gonna die alte let's see
maybe out in the crowd do too far away
all right let's just get started alright
so let's shut this guy down and we'll
start my little note process here and
get to some slides so this is my
favorite part of the thing so I run
right over hey we're sweat into the web
we come right in so yeah this is called
sweat into the web because we're gonna
we're gonna move around we're gonna move
our bodies to the web my name is Ben
Farrell you can catch me on twitter at
be feral forever so it's I'm having a
fun time with all this stuff so let's
let's get going so about me I hey um so
yeah I like to call myself a creative
developer um I like oh I just got why
you were clapping thank you the gestures
yes those I've been practicing these to
make sure they went okay and yes thanks
for the applause but I like doing like
fun interactive experiences games I like
whatever whatever happens happens and
sometimes that happens
hello so I like doing fun games and
different interactive experiences and
there we go this happens why you're up
on stage so and so what I wanted to get
started with is in the 80s we were all
sitting on the couch this is the typical
scene from the 80s sitting around eating
snacks being generally like were kind of
fat and lazy so yeah we were we were
really lazy this only happens when I'm
on stage so here's another picture Al
Bundy he's really lazy uh again 80
typical 80s stuff uh just being lazy
sitting on the couch eating snacks no
good you saw it happen I did it um so
but then something awesome happened so
TV has always been a sit-down medium
since the 1950s when it was just kicking
off and the obesity crisis was just
getting started in the 80s you know my
parents were like no snack food no junk
food we're gonna ration your TV time you
can't watch ducktales you can't watch
you know Batman and stuff but uh and you
know it was largely blamed on TV and
snacks so what happened that was so
awesome it was the 80s fitness craze and
we had we had this TV they didn't active
since the 1950s Richard Simmons he
transformed it we took this in active
medium I wish I could gesture this sucks
so instead of sitting on the couch
Richard Simmons and friends like Jane
Fonda and people that got us to clear a
space on our living room floor and we
did some cardio so we took this in
active medium and we we changed the way
we watch TV for the better but at the
same time we had a we had a Nintendo
taken off Nintendo wasn't the first game
console but you know intend to
popularized it with mario and everybody
so we had that medium taken off but
guess what it wasn't any better gamers
you know you were sitting in front of
that thing and you need a TV and like
using your consoles reaching into the
bag of chips it wasn't it wasn't any
better but maybe it was cuz it hello
Nintendo came out with a power pad in
1986 it wasn't that popular at a time
but it got you it put the buttons on the
floor and let you dance around a bit and
got you moving by just placing those
buttons in different locations so that
was great how is it thank you now it's
finally working all right Dance Dance
Revolution guys this isn't funny Dance
Dance Revolution 1998 it really took off
the game pads on the floor so it was it
was really taking off Japan got a 1998
first really really popularized this
because we had we had music and we had
dance unlike Nintendo's 8-bit days and
we had like really weird characters
moving around but you know it heart game
controllers they were just funny looking
things with buttons that were display so
I mean you think of a guitar hero the
buttons are just on the fretboard
they're the same controller buttons
we've already had same with Dance Dance
Revolution they're just displaced I
won't lie to you it's incredibly fun
using these things they're awesome to
play and the experiences we had were
just they're just fun so you know
Nintendo you know they took this and
kicked it up a notch so we have an
accelerometer built in so you know I can
I can tell the orientation of where I'm
putting the controller and I had an
infrared optical sensor so I can point
out the TV and like figure out where it
is on the screen it also had the buttons
mashing buttons and directional pad so I
can still play my same games and you
could move around a little bit so we're
getting there wireless connectivity via
bluetooth no wires anymore awesome I
always try and I always fail it only
works when I don't want it to work so
then Sony came along and guess what they
had the eye and eye toy for ps2 and ps3
so they took these cameras they're just
normal web cameras they
they don't do anything fancy but they
hooked them up and they did some
computer vision stuff I'm not that
familiar with computer vision stuff but
you know they had edge detection face
detection pixel tracking head tracking
and they also had a 4 array directional
microphone or a 40 or a microphone so
not just having like four microphones
you could tell hey users over here years
is over here or you could cancel out
some echoes and around the room and you
could get rid of background noise so
everything was a lot more clear with
four microphones with different sound
sources coming in and then you know the
problem with web cameras is living rooms
can get dark what we're playing can get
dark and you know there might be weird
lights all over the place that shine up
and cause lighting to be weird and so
what's what Sony did was they put LED
balls they put them on the tip of the
controller and they lit up a different
color for every player and the size and
the position you still use this computer
vision with a simple web camera but they
give distance in motion and they know
better where they are especially in a
dark room and they also built into the
accelerometer just like the wii for you
know rotation and improved motion data
on that controller so things got better
they're starting to get more active all
is cool now microsoft they came onto the
scene so they have the typical RGB
camera they have the typical for a
microphone but what they have is what
they added to it is a infrared depth
finding camera so let's look at that a
little bit but I digress because we're
talking about consoles here we're all
web developers so let's think about this
a little bit connect i think it was in
2010 they came out with the the kinect
for windows sdk and they supportive
application development see sharra blah
blah blah there's bindings for so what
they could there's this project on the
scene called Kinect j/s it was pretty
cool it created a flash and air
WebSocket server and sent all that web
dad
over to javascript through a web socket
and that's how connect jas work cell
it's a cool project I tried it out it
was it was a good time the official the
official official windows sdk it costs
to or two hundred fifty dollars but the
not so official kit if you can get one
for a hundred dollars or under and
that's where that's what i call poor
man's connect hacking so you can get an
xbox kinect and i found one online for
like 70 bucks used and you have to get a
ten-dollar USB splitter for the power
supply so you're connecting with USB
you're connecting with a power AC
adapter the windows sdk works great on
this it's not legal for commercial use
though so that's that's the thing that's
how microsoft gets you on this and they
also lack the firmware to give you a
proper near mode so if you get really
close to the camera it's not going to
necessarily work properly but again i
digress because we're web developers
right so how can we how can we get
around this no microsoft or maybe some
Microsoft I don't mind Microsoft but I'd
rather not be all Microsoft so open
source awesome open source library for
3d sensing open an eye foundation they
call themselves the standard framework
for three sensing they are
cross-platform so ubuntu you know linux
OS x windows it also works with a kinect
but that that scenarios windows only
unfortunately however if you get a
camera like i have this small guy right
here that's an that's an asus it works
with those other cameras i'm running
this on ubuntu it works on OSX works on
windows cross platform cross-platform
goodness it's awesome so like I said
asus x john pro live is what i have
there's also the the primeSense carmine
primeSense was the original people that
came up with this technology licenses /
microsoft for the original Kinect so you
can get those for 119 to two hundred
dollars it's smaller than the Kinect no
motor so like the the Kinect has a motor
and it can follow you around the room
really creepily and no extra power
supply is needed I'm not plugged in via
an AC adapter here I just plug
right in USB in my computer all as well
some of these does some of these guys
don't have microphones you can use your
own sound setup that's fine yay working
again so not so open source Oh die skip
the slide no I didn't ok so there was
open and I and that gave you cool depth
finding data 19 minutes all right
exactly what I have not to open source
so there is a the open and I stuff nest
gave you depth depth data so like how
far everything is close to the screen
but we got some middleware and a lot of
people are making middleware for this
one of those people is primesense so
they're trying to they're trying to get
this out there and they give you
skeletal tracking user detection and a
few gestures so that's that's cool
however you know it's all still C++ but
let's take a look at what these cameras
do first so if you were talking about a
normal web camera playstation I they'll
typically use edge detection so if you
go to photoshop you can take a look at
you can use edge detection on a photo
and you can get the edges and that's
kind of how these to my understanding
that's kind of how these places you know
they'll they'll do gestures and object
tracking and whatnot they'll get the
edges and work from there so but an RGB
plus D camera depth being depth they'll
they'll get a they'll get all the depth
data so the the lighter stuff is the
closer to you the the darker stuff is
farther away and you know behind the
scenes if you put on infrared goggles
you can see tons of beams shooting out
at people and that's how they the beams
will shoot out at somebody or that an
object in the background bounce back to
you and that's how they see and that's
why that's why I like in this slide you
know it's not very fine-tuned it's kind
of sketchy it's kind of blurry so that's
that's that's what's going on there
because these aren't very small infrared
beams so there's not they're not very
fine-tuned for performance here but it
still works because you can interpret
that depth stream get you know my hand
is over here my head
over here my torso is over here so you
can get full skeleton control for this
but again I have to die grass because
we're talking about C++ um and yeah we'd
probably rather be stuck on she sharp on
Windows but luckily I can make a plug-in
for this and I made an oj s plug-in so
hopefully now we can get crack and sweat
into the web so it's actually on NPM MPM
install new emotion i have it on github
right here so my point in here is not to
sell anything or anything like take it
learn from it break it apart for kit
whatever you got to do I just want to
see cool experiences on the web using
browsers and no Jas so example of what
we can see here is you know I can I can
go in and start a skirt start a skeleton
listener so I add a left hand or right
hand I had a call back at a certain
interval 50 milliseconds being my
default and I can take a look at okay
and my callback function i'm getting a
parameter my skeleton I get XYZ
coordinates for any joint I want X Y Z
rotation for any joint i want my my hand
being a hundred percent excited being
not extended at all so there's the
thought kind of things you can get if
you look look at the skeleton so I you
know it's it's fun stuff it's a really
fun stuff an event listening I can I can
see Oh is my user out of the scene or if
it would do that there we go alright so
yeah when my users out at scene when it
stopped tracking when it start tracking
all that good stuff and I can listen for
gestures to so swiping down up left
right I can figure out a wave on my hand
and yeah so you can write I'm running my
own gestures and sometimes they're not
very good especially in situations like
this when things are going crazy but i
like that i like the skeleton stuff
myself the best and uses its it's a coup
it's really fun to use and other than
that you can create cool 10-foot
interfaces so like the xbox I
you're sitting on your living room couch
and you're controlling an interface with
your hands there's also innovative games
using your whole body to to get out and
make a game interacting with public
spaces how many time you know there's so
many touch screens out there and they
all get smudged up in greasy what if you
could create some public space
interactive experience where you don't
have to touch a screen you just use your
hands in thin air real world analytics
this is a cool thing that somebody did a
cool application so there's a company
called shop reception shop reception I
would have never thought of this they
mount like a couple connects or whatever
whatever cameras on top of a shopping
aisle and they look down on people and
they gather real-time metrics on when
people take stuff from the aisle stuff
from the shopping display and they'll
get heat maps they'll get analytics data
so this is something I would have never
thought of and people are doing it with
these cameras so it's like a real-life
google analytics for you but here's what
I don't want to do and there's a book
called brave new world and it's about
the only we're talking about natural
user interfaces and natural user
interfaces are the type of thing where
you're interacting with something very
naturally not using a mouse and clicking
around just walk up to something and
figure out how to use it and they i sell
i stole this from their book they made a
great little point so we all wanted
power gloves back in the eighties when
we were kids at least I did I don't did
anybody have one yeah like two people so
uh and why was that I mean I I don't
think my parents don't want to be a buy
one but um the reason they were a
failure was there was like two power
glove games ever made they could also be
played with the standard controller
therefore you know you didn't see any
you user experience innovation on these
games it was just an awkward controller
you use it looked so cool but at the
same time what are you getting out of it
kind of nothing so the author of this
book kind of says you know why bother
with this when you can we can try other
things and you
no I kind of put the connection my brain
to Kinesis IO Kinesis IO is a project
started last fall or summer and they
came up with this whole thing with the
Kinect and you could take div tags and
mark them up with special CSS styles and
and you know Markham up its interactive
and what it would do is go through your
DOM and look for these things and say
hey this is interactive this is gonna
I'm going to make it you know I can
click by putting my hand up in the air
and holding it there for a while so
that's how I click links i can scroll
around on the screen i can use a cursor
so all cool stuff when you think about
it but if you really think about it why
bother because we already know how to
interact with a web page and this is
kind of an awkward way of doing it I
don't mean to be disparaging of these
guys but you know maybe we could create
better experiences with with these new
natural user interface tools we have the
hardware so that's that's my why bother
so like I said we're talking about
natural user interfaces they should to
reiterate they should really be
intuitive we're talking about gestures
we're talking about motion we're talking
about speech 2d gestures are already on
all your mobile devices you can pinch
zoom flip photos and guess what speech
is also a form of natural user
interaction we're talking to our devices
now so we're talking to a Google now
where we're talking to Siri and so some
rules people are already doing this
stuff especially on xbox and microsoft
is already coming up with some rules for
this so they're one of those rules for
games use the game mindset in games you
know people like being challenged they
like they don't mind looking a little
silly like I'm doing with all this stuff
so and they're eager to learn they're
eager to improve um but for applications
if if I'm using a slide deck for example
I gotta walk right up there I gotta
start using it right away I don't want
any guidance
no learning curve I want my app to be
immediately functional or people will
just not want it and I have some gesture
guidelines of those going along here so
what you want to do is create a good
balance of intuitive and intentional so
when I say intuitive i mean i like i
said i want to walk right up to
something i want to start using it i
want to i want to know what's going on
and intentional means you know my
gestures haven't been working out well
with you guys here but you know i don't
want to do anything accidental like i
have been doing here with you guys so if
I start getting really excited about all
this stuff I don't want my stuff to go
off and advance the slide so you gotta
strike a good balance there between with
your gestures and I want to see gesture
progress so when I raise my hand here
you can see the majestic Star ting to
start and then I can see it canceled so
I have some good visual feedback there
one of my arms getting raised when I'm
ready to go and do a gesture so I have
some progress steps in there am i plug
in so yeah I'm hoping you guys try it
for yourself like I said you know take
apart my plug-in learn from it whatever
you want to do web sockets are probably
the most obvious way to use this
technology so what I have is a plug-in
for node the new emotion plugin and what
it does is just connects over web
sockets and sends moat and sends data to
the browser and like this guy is a
reveal j/s obviously it I have a I have
a plug-in going in reveal jas to pick up
this data and listen for gestures but
the another cool thing i found was
making a desktop application with app
j/s or node WebKit so node WebKit take
some it takes your your node project and
slaps a WebKit front end on it and
bundles it all up on one project and I
tried that with this and it works great
so check out node WebKit I have some
links at the end for this and then you
know the other reason I want want to
check this out is because open and I the
foundation they're a little biased of
course but they project a 15 billion
dollar 3d sensing industry by 2018 it's
a little far the future
but I like to get it like ground floor
on stuff like this so and start playing
with stuff just go this fun and
primeSense the company that makes some
of these sensors they're being sold in
bulk to device manufacturers so you'll
see just let us see them in Smart TVs
you'll start to see him in smartphones
all over the place so I think it I think
it's a cool cool thing to try as web
developers to get out there and start
even if you know my plugin who cares but
if we can start experimenting with ways
to do the stuff on the web and start
experimenting with innovative ways to
get all this stuff going and I think I
think we can get a jump start on this so
yeah so here's some links you can find
my manifesto on all this stuff on sweat
into the web com here's my my github
repository and then my website and then
a node web kit which I mentioned for
wrapping all your apps up as a whole
package so yeah that's my presentation
but i want to show you guys a quick
little demo that will traditionally work
better than this one and i think like
you know everybody i talked to when they
do stuff like this they're all over the
painting demo so i made a made a little
painting demo let's see
and I also let me switch it over to
https because I wanted to use google
google chrome chrome 25 they have a web
speech web speech get api in there so if
we switch it over to https it can always
be on and always be listening to you so
let's see if it can hear me i hope it
can maybe the micros are weird but so
we're gonna so I have some my painting
in here so if I keep my hand in like
this it's not painting but when you
reach out your hand which i think is a
good a nice way of telling it you want
to actually do something it starts
painting and so we can paint along and
then we can start erasing things and you
know like I said like bring your hand in
and it doesn't do it anymore you're just
going on the screen with your icon so we
can start painting and you know if I
shout at this thing so when we hide the
mic give me a purple paint brush I think
the sound is weird on that one but so
yeah that's that that's one thing you
can try to do with the skeleton data
since I have a few minutes let me show
you let me show you guys another little
demo here
so here's a little demo where you start
as an egg and then when you get on
screen it should hatch let me refresh
there we go started to hatch while I'm
pick me up
Oh No okay there we go so magically it
hatched I know you guys you know you
didn't see it or anything but let me a
lemon yeah okay we're back to an egg so
when you go in front of the screen again
oh come on seriously let me start let me
start that oh jesus only happens when I
love in front of you guys all right come
on there we go so the the interaction
mechanism here is we're seeing the
rotation of each arm and we're
controlling the the birds arm was that
and the the physics on those are really
wacky to have to tweak it but you can
start flying away if I get high enough I
can start floating down and I think my
computer just died
that was that was really rough so I'm
gonna have to put on my extra sweatband
here thanks guys much appreciated
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>