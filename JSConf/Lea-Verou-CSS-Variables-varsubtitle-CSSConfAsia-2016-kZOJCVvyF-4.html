<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Lea Verou: CSS Variables: var(--subtitle) - CSSConf.Asia 2016 | Coder Coacher - Coaching Coders</title><meta content="Lea Verou: CSS Variables: var(--subtitle) - CSSConf.Asia 2016 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Lea Verou: CSS Variables: var(--subtitle) - CSSConf.Asia 2016</b></h2><h5 class="post__date">2016-12-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/kZOJCVvyF-4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone it's great to be here
even though I was already introduced I
feel I should introduce myself to you hi
I'm Lea here's a fun fact you might not
know about me
I'm originally from Greece and
specifically from the island of lesbos
which technically makes me
geographically lesbian probably one of
the very few you'll ever meet in other
news I like making stuff you might have
used some of my work most all of it is
on github I'm an invited expert in the
CSS working group my day job is doing
HCI research at MIT
HCI is just a fancy term for usability
and I've written a book people like it
on Amazon and actually there is a it's
one of the prizes for the competition
afterwards so go to the competition and
you might win one of them so CSS
variables not to be confused with sass
or less variables completely different
things so the first ever CSS variable we
probably got was current color it came
from SVG and by now it's supported
everywhere the way it worked is it
always resolves to the value of color so
if I change the color property here the
color the the current color and the
gradient changes as well however even
though this is great this was great
before we got native CSS variables and
we could hack a lot of things with
current color as you can imagine it's
very very limited so CSS variables are
kind of an expansion of this concept
it's like current color on steroids CSS
variables are basically custom
properties that start with a double dash
like this and we used we refer to them
like this and we can use them everywhere
so basically I can replicate the
functionality of current color like that
before I move on I'm sure you might be
thinking this is a terrible syntax a
double dash that is disgusting why not
just use the dollar or
the up sign like less and sass so there
are two reasons for this the first is
that we want people to be able to use
less and sass variables and CSS
variables as you'll see the stock CSS
variables do a lot of things you cannot
do with less and sass variables so the
idea is you keep using your preprocessor
of choice for the things you can do with
preprocessor variables and you use CSS
variables for the things you cannot do
with sass so because the syntax is
different you can use the dollar
variables of sass and you can use the -
- variables of CSS and they both work
together just great you could even have
a dollar blue sass variable and set it
aside and set the CSS variable with it
and it would just work so you might be
thinking okay I understand that the
syntax had to be different but why does
it have to be so ugly so the other
reason is we wanted something that is
compatible with existing CSS parsers and
CSS properties can only contain letters
and dashes so we needed something that a
can be parsed by existing parsers and B
will not clash with any properties we
define in the future and that's where
the double dash comes from essentially
it the inspiration for it was the the
prefixed properties like - WebKit - it's
basically and a prefixed property with
an empty prefix through story so after
this little parenthesis you might be
thinking okay you replicated current
color with CSS variables but I could I
can do that with current color and have
wider browser support so why are you CSS
variables useful why should I care let's
define another property corners and we
can go here and say 100% minus whatever
value corners has and now I have made
another custom property that controls
the size of these corners that I can use
anywhere and you might be thinking okay
in this in this case you could just
write 20 pixels right there or 1m or
whatever but you
haven't really gained anything right
however when I say anywhere I mean
anywhere I can take this corners
declaration and put it in an inline
style and it still works and since I can
put it in an inline style I could also
set this with JavaScript and actually
the last section of this talk is exactly
about this all the cool things we can do
when we combine CSS variables with
JavaScript because that's the biggest
difference of CSS variables and sass
variable CSS variables are live they can
be updated at any point even by a pseudo
class or JavaScript or inline Styles
anything so beyond the syntax of the
double dash to define the variable and
the VAR function to call it there's also
another thing which is the full-back
value let's say deep pink here and let's
give this black or whatever and this
fallback is applied when the variable is
not set which is also useful and we'll
see some caveats later on this talk so
the first takeaway is that CSS variables
work exactly like normal CSS properties
in fact the spec for it for them it's
not called CSS variable variables it's
called CSS custom properties for
cascading variables yeah it's kind of a
long title so here's a simple HTML
structure just six divs three parent
tips and three child dibs and here I
mean I'm using I'm setting a dash dash
outline variable on the first one just
this outer div the white one and I'm
also saying that everywhere that the
outline variable is set set the outline
property to that so you might have
noticed that even though the inner div
doesn't have any dash dash outline set
it still gets an outline and the reason
is that CSS variables are inherited
properties which is useful in many cases
for example you can set them on the HTML
element and access them from any element
but in some cases you might not want
this behavior
for that you can use the universal
selector and set them to initial and
because inheritance always has lower
precedence than explicitly referencing
the element even with the zero
specificity of the star selector then if
you haven't set the outline variable
explicitly on the element then it will
just be initial which means no value
which means this declaration is not
applied so the second takeaway is that
CSS variables are inherited properties
but you can change that so you get you
get the best of both worlds there is a
default but you can change it so you
might be thinking ah I couldn't think of
a cool use case for variables I have
this image folder and I have these
complicated backgrounds and maybe I can
use variables to set my background image
so you might try something like this for
your first attempt and then you might
think hmmm how do I concatenate a
variable with a string maybe I should
drive it's the same thing I do with the
content property which is placing the
strings next to each other so you try
something like this and you're
disappointed to find it doesn't really
work so at this point we're like okay
let's let's explore this maybe we should
try something else maybe we should put
the entire URL here and just put var
inside the URL here and maybe that will
work nope that doesn't work either so at
this point we're kind of desperate and
we're like ok I'm gonna put the entire
URL in here that that must work right
this must work nope
why is this so these are three different
issues with three different reasons the
first one that we tried is a CSS
limitation we currently cannot
concatenate strings
the content property is an exception
it's defined that in the content
property you can put strings next to
each other and they're concatenated it's
not a CSS wide thing we will probably
eventually get some syntax to do this
but right now we don't have any
the second one that we tried is a CSS
bug the URL function is very peculiar it
has very weird parsing rules one of
which is that if you see a closing
parenthesis then the whole thing is
terminated so it does not really
understand variables it was written
before variables and it's an exception
you can use variables in any other CSS
function we've seen them in the
beginning in radial gradient but not in
the URL function this will also be
solved eventually but right now you
can't and the last one is a chrome bug
I'm using Chrome for this presentation
and it has a bug so and the actual bug
is it's not that it doesn't understand
URLs in variables is that it doesn't
understand relative URLs in variables so
if I go here and copy my URL and put it
here it works if I make it absolute go
figure well actually there I can explain
this issue in a bit more detail so the
reason that chrome has this bug and it
works on Firefox but not in some edge
cases is that it's actually under
specified how browsers should resolve
you a relative URLs in variables and you
might be thinking well what is there to
resolve it's pretty obvious what should
happen yes if all your CSS is in one
file it's pretty obvious what should
happen but what happens if you have your
variable declarations all over the place
if you have one CSS with some variables
another CSS that calls these variables
and the third CSS that calls variables
from the second one so do these
variables resolve relative to to a B or
C and actually this is this is debated
in the CSS working group right now so if
you go to that github issue if you have
an opinion on this because basically
what should happen based on the current
definition of CSS is that variables
resolve based on the place where you
call them which is C but some people
have said maybe this is not very useful
so if you have an opinion please come
and tell us keep in mind that most
people in the CSS
are not actually web developers so they
have no idea what web developers
actually want so input is very useful so
right now until these issues are sold
CSS variables + URL equals chocolate ice
cream some more WT apps because this is
CSS after all an empty value is invalid
- - foo colon semicolon is invalid
that's not a WTF that's pretty expected
what might not be expected it is that
this is valid and the value of foo is is
a space character also lowercase foo is
different than uppercase foo CSS
variables are case sensitive unlike any
other CSS property yeah so I mentioned
fullbacks
earlier which is the second parameter to
the VAR function and you might be
thinking wait a second CSS is cascading
stylesheets after all isn't the Cascade
supposed to provide a fallback like
can't I just specify a declaration
before the one with the var and that's
my fallback not quite so this the
fallback is applied not when not when
the browser doesn't understand variables
but when the browser understands
variables but they are not set so as you
might imagine if the browser doesn't
understand variables at all the VAR
function is invalid so the second
declaration is ignored and the first one
is in effect so if there's no series as
variable supports the entire background
will be read however if the browser does
support CSS variables but accent color
is not set anywhere or it's set to its
initial value explicitly like - there's
accent color initial then we get orange
and of course if we set accent color to
a specific color we get that one
otherwise variables would be pretty
useless
so if accent colors yellow green we get
yellow green so here's the thing what if
we set accent color but we set it not
but to something nonsensical for the
background property what if we set it to
I don't know 42 degrees which is
completely useless in backgrounds what
happens then
how many think it's gonna be red raise
your hands how many think it's gonna be
red nobody correct how many think it's
gonna be orange if you shake hands there
that's a good guess but it's not correct
the actual color we will get is
transparent which may seem completely
crazy but hear me there there's a reason
and the reason is we cannot get of
course we cannot get red by the time
we've gone to the second declaration the
browser has already thrown away the
first one we can't get red we can't get
orange because accent color is actually
said we have a value for it what happens
is that the second declaration becomes
what we say invalid that computed value
time and this means we we have thrown
away all other declarations by then we
cannot use them we cannot fall back to
red we cannot fall back to orange what
do we do we go to our initial value
which for background is transparent for
the color property would be black for
you know if for border would be known
every property has an initial value we
jump back to that so forth take away
invalid that computed value time is a
new concept that we defined when we
defined variables and it means initial
it's exactly the same as the keyword
initial so oh and these fullbacks is
something we can also daisy chain the
fallback for color one can be color two
and the fallback for color two could be
color three and so on also
you might think if especially if you're
coming from a prop from a programming
background you might try to do something
like this in the second day of the one
that's inverted maybe I want its size to
be one and bigger so I do something like
this for size plus 1 M and I'm like why
doesn't this work instead of getting 9ms
I got either something very small or no
height it's like no height has been said
at all what's happening here so the
thing is CSS is declarative there is no
instruction order for a given state and
a given element appropriately only has
one value you cannot have this is the
value of the property before this
instruction or after this instruction
there is no such thing there is no such
concept of instruction order so actually
because because every property needs to
have one value it's not possible for it
to be both its previous value and its
value plus 1 M that's just nonsensical
so in case such cycles are detected and
this is a very trivial cycle you might
also have cycles like a refers to B in B
refers to a and so on
if such cycles are detected it's exactly
the same thing as if the variable was
set with initial value and if the
variable is set to its initial value
this is also set to its initial value
because this has this doesn't have a
fallback and its initial value is also
so it's exactly the same as if we
haven't specified any height for that
element so fifth takeaway cycles make it
make variables invalid at computed value
time so here is a small trick question
there so let's see how many have been
paying attention so far so the last two
lines are exactly what you've seen in
the previous example when I explained
for bucks
background red and then background var
accent color with a fallback of orange
and then we have to accent color
declarations
one that sets it to a nonsensical value
and one that sets it to itself so how
many think that the result is gonna be
read show of hands
nobody correct it's not gonna be read
how many think it's gonna be orange once
I found their second a few hands and you
are correct it is orange
why why why did this happen so remember
before we said that if it's fits
forty-two degrees we will get
transparent because it's invalid that
computed value time and it goes back to
initial which is transparent the thing
is right now the value of accent color
is itself which means it computes to
initial because it's a cycle the first
declaration is actually red hearing it's
completely ignored the second one
overrides it so it's as if it wasn't
there so the trick here is that the
second declaration is exactly the same
as if we said accent color initial and
because accent color is set to its
initial value we get the fallback which
is orange because that's when the that's
when the fallback is applied of course
if the second declaration is not there
we get transparent which I find kind of
ironic we get the fallback when we have
an invalid declaration there but when we
don't have it we get transparent I think
that was kind of interesting so I know
that at sample at this point many of you
might be thinking okay oh this is cool
but what somebody please think of
browser support
how many browsers really support CSS
variable surely it's not many it's
probably just Chrome right I've heard
this from so many people actually it is
not just Chrome it's every single
browser except edge and actually even
though I know that you might be thinking
oh god why are these Microsoft guys
spoiling my life continuously I hate
them I want to change from being a web
developer and go raise farm animals
because of Microsoft don't think that
way
has changed they're actually quite nice
now they're trying to support standards
they actually support some standards
that other browsers don't and
specifically about CSS variables they
have announced that it's in development
and it will be in the next version of
edge so very very soon every single
browser will support CSS variables and
of course until then we have a lot of
tools at our disposal we have the
Cascade as usual background red
background var which we can always use
to provide for bugs we have app supports
which as you can see here is supported
by every single browser including edge
since that's 13 so if you want to apply
some different CSS for browsers that
support CSS variables and some different
CSS for browsers that don't you can use
the app supports rule and any CSS
variable and any value works there so I
just news - - CSS : variables just to
remind myself what this is about
and of course you can also use the not
keyword to apply some CSS to browsers
that do not support CSS variables and of
course as you can see here this is red
now because Chrome does support CSS
variables so it's ignoring the entire at
supports block another interesting thing
about variables and especially a
difference that CSS variables have from
SAS variables so or less variables let's
assume that every time I say SAS I mean
less as well I'm not trying to like show
preferences there so in this case we
have a div that is sized 33 V H sorry 33
V W horizontally 33 V H vertically which
basically means it has exactly the same
aspect ratios the viewport and it's one
third of the viewport so we might be we
might think I don't like repeating this
33 like what if I want to set it to 30
and I have to do it twice
that's not very dry right so I want to
set a variable that says size and I set
it to
so then I go here when I save our size
be a VW and var size be age and then I
look at what I've done and I'm like what
suddenly nothing works anymore
so the reason this doesn't work is that
variable values are basically token
lists the browser doesn't see this as a
string that says 30 that it we can just
put next to V 8bw
it sees it as a number and then it sees
VW as an identifier so essentially for
the browser it based it resolves exactly
the same as this which is an invalid
value so width width and height are
invalid at computed value time actually
not even a computed value time they're
invalid values and you just get their
initial values which is Auto so what can
we do in this case what we can do is
it's a little more syntax but we can use
calc and multiply the number with one VW
and of course here let me copy this and
here we multiply with 1 vh yes it's a
little more syntax than SAS but that's
what you get when you have live
variables that have structure to them
it's not just old spitting out strings
you might think what if I try to save
myself at least one calc so what if I
say 30 VW here so I set the width to
just var size and then here I go and
divide it by 1 VW and I see that this
doesn't work why doesn't it work I would
expect it to work 30 VW divided by 1 VW
it's like elementary school maths the
reason it doesn't work is that dividing
by lengths is not supported in calc yet
and the reason it's not supported is
that when we specified calc the
whole concept of something being invalid
that computed value time did not exist
yet so we were like but what if the
denominator ends up being zero and then
what do we do in that case its division
by zero and we couldn't make it invalid
that computed value time because the
concept didn't exist so we can only
divide by numbers so take away if you
have a number in a variable you can
always convert it to any unit you want
by just multiplying with one and that
unit in calc but if you have a unit
there is absolutely no way to convert it
to a number you just can't do this maybe
you can do it of course you can do it
with JavaScript you can do everything
with JavaScript but with CSS there is
just no way to do this so which brings
us to our six takeaway you should use
variables for pure data not CSS values
only use variables for CSS values if
it's something very quick that you've
defined like in this specific rule and
you're just gonna use it in there but in
most cases just use variables for pure
data you can do anything to pure data if
it's just numbers you can always convert
them to anything you want if it seems as
values like 10 pixels you can't really
do very much so many how many of you
have used CSS animations or transitions
about half the rest of you should
definitely try them out they're very
cool so those of you that have tried
using CSS transitions and animations
might be thinking at this point hmm CSS
variables are cool you know what would
be even cooler CSS variables and
animations you might be a bit
disappointed so here I have an animation
very simple animation going from yellow
to blue and I'm thinking what if instead
of animating background color I say
background color is the BG variable and
here instead of setting background color
we set the BG variable it should work
right conceptually it should work I'm
animating this value and background
color is always set to this
in this values live why doesn't it work
so the reason it doesn't work is that
even though variables are token streams
and they're lightly parse the browser
kind of pretends that it doesn't exactly
know what type they are so they're like
the browser is like oh I don't I don't
really know how to interpolate this so
nothing really happens actually there's
also a browser bug in play here what
should happen is that you should see
yellow and blue abruptly going from one
to the other with no transition you
shouldn't be seeing transparent that's
that's a bug but you wouldn't be seeing
a transition sadly so this is the actual
quote from the spec from anybody who is
into that CSS variables can even be
transitioned or animated but since the
UI has no way to interpret their
contents they always use the flips at
50% behavior that is used for any other
pair of values that can't be
intelligently interpolated so this is
also what it's supposed to happen when
you use display for example in your key
frames or any property that doesn't have
a defined interpolation many browsers
don't actually follow that so it's kind
of a mess right now but yeah at this
point CSS variables + animations equals
chocolate ice cream of course Oh in the
future you'll be able to define what
type your variables are by using
javascript so you'll define a CSS
property a CSS variable in your CSS you
will animate it with a CSS animation but
to tell the browser how to animate it
you'll have to use JavaScript okay
that makes sense so one thing is even
though you cannot animate the variables
themselves you can use variables in key
frames so if instead of having yellow
and 0ca I wanted to have color 1 and
color 2 and this would also be defined
in the root element or whatever because
they inherit so let me copy this and I
can go to my animation here now returned
it to its original state and now I'm
gonna use variables in it as you can see
this works just fine
so using variable references and
animation keyframes is fine
it's animating the actual variables that
you can't do also you here's here's
something that might baffle you at first
it did buffle me when I first discovered
it so here is a transition when I'm
clicking on the slide notice the active
pseudo-class there when I'm clicking on
the slide it turns blue because of the
second pseudo class and I'm using CSS
transitions for that but what if I said
background VAR color and then I said
colored here through yellow and color
here to blue as you can see this
actually does animate so when I first
came across this I tweeted so it turns
out we can use CSS variables in
transitions but not animations this is
very weird and I got a reply I think by
table Atkins that basically what's
happening in this case is that it's not
the variable that is animate there is
transitioning it's that the change of
the variable is triggering a transition
in background so if I restrict my
transition here and I say only
transition the color the darkest color
property there's no transition anymore
because that's not the actual transition
I'm seeing if I change it to background
color now I get my transition back
because that's the property that is
actually transitioning
so now that I've discussed the basic
syntax of variables some common use
cases this is probably one of the most
basic components that we all use but
when I say in this slide pretty much
extends to every component including web
components but this is probably the
simplest one ever it's just a button
it's a flat design button so the the
border is the same color as the text and
then when I hover over it the border
color becomes the background color and
same here and I have a pink variation
whoops
with the pink class where I define
different colors so that when I hover
over it and everything it every color
that was black in the previous one is
now pink and as you can see I had to
basically define my colors three times
on every variation so how can CSS
variables help with that I can define a
color variable and set the color
property to that variable and I can set
it here as well and here as well and now
I can go here and just set the dash dash
Cola variable and we get rid of all this
code and it just works exactly the same
way even more importantly I don't need
to have predefined variations anymore I
can ditch this altogether and I can go
here and I can say this and I can have
infinite variations and of course I
don't have to do it with an inline style
but say this is a more complicated
component and I've released it to the
public and people want to skin it I
don't need to provide predefined
variations for them they can just set a
color property and set it to whatever
color they want which means both smaller
CSS and more flexibility for people
using the component and also it's not
just about greater flexibility and
smaller CSS it's also about
encapsulation encapsulation is a concept
from software engineering which means
basically that people using a component
don't have to know how it works
internally and they can
they can use it and its internal
implementation can change and they don't
have to change their code
so notice how the background just
abruptly changes when I hover what if I
wanted to use a transition and I wanted
to say instead of using a background on
hover I want to use a book a book shadow
an inset box shadow with no blur and a
spread of one and instead has to be
after the color right so as you can see
and let's restrict this to book shadow
so as you can see now I've changed how
the cacao the hover works and if it was
if I was using if people use it seeming
my component had to override my
declarations I would need to notify
every single one of them that actually I
changed how the component works and now
you don't override the background you
override the book shadow and they would
have to repeat my book shadow now their
existing code works notes no notice how
I themed the second button by just
saying color blue it still works even
though I changed how the button
component is implemented so it's take
away CSS variables enable theming
independent of CSS structure which i
think is very important especially if
you're you're using third-party
components or your developer your
JavaScript developer and your CSS
developer at different people also one
last thing you might be you might not
you might have noticed that I I set the
color to black here
this means that everybody theming my
component has to override this with
their own color declaration which is
easy if my component is just a tag but
if it's like button dot my components
don't my framework whatever you know
some weird selector like that they would
need to have something with was at least
the same specificity and it gets really
messy so it's actually better if I
provide a fallback like this but then I
have to repeat the fallback three times
with
kind of not dry it's very wet we enjoy
typing it stands for so you might be
thinking the whole point of variables it
is to reduce repetition now you're
repeating this fall back like multiple
times one thing you can do is use
variables for that as well let you can
define a different variable whose value
is this and then instead of using this
Kolar coma black everywhere you can just
use this internal variable and when you
release your component you just tell
people you don't tell people about -
there's color if they don't see your
code they don't know about it if they
say you're cold well they're on their
own and you just tell them if you want
to change the color of the component use
that color it's kind of like private
variables but by convention instead of
actual private variables which is
basically what JavaScript had for ages
so I guess it's fine so the ninth
takeaway is that default default values
are possible and yes I totally made up
this term default default values but I'm
convinced it will catch on so you can
define another variable and set it to
your your public variable with a
fallback another huge use for CSS
variables is responsive design there's
often a gutter variable and then people
set margins and padding's related to
that and now you can have a media query
that just changes this one variable and
you don't have to change anything in the
rest of your design this is of course
this is a very simple case of this it's
only using it in one place but you can
still see how when I resize the window
at some point I get the smaller gutter
size
and of course there the common use cases
that you use SAS variables for these are
kind of obvious so I don't think they're
particularly interesting you can always
use SAS for them still so it's I think
these are kind of implied so the fence
takeaways the CSS variables make
responsive design easier so after the
common use cases let's see some cool use
cases prefixed properties are one are
one of them sure many people use
autoprefixer Zoar prefix free or
something like that but these days were
moving towards not having that many
prefix properties so it's kind of
overkill often to use another prefix
surfer like this one property so CSS
variables can help with that let's so
you can use the universal selector use
the trick I mentioned earlier about
canceling inheritance which is setting
the variable to initial and then you set
both of the properties you want to
replace with that variable and now I can
use that variable everywhere and it
works exactly the same as the normal
clip path property so let's try doing a
clip path here a polygon let's hope this
works
because writing a clip path on stage is
kind of tricky than 50-percent
horizontal and 100% vertical I'm trying
to do a diamond like a rhombus shape and
then zero horizontal and 50% variable
okay that is it that's it it worked and
now I can apply it on any of these tips
I want you can see it's not
inadvertently inherited I can apply it
the same clip paths everywhere basically
works exactly the same as the normal
clip path the only caveat is that you
cannot animate it which is a pretty big
one because clip animated clip paths are
pretty awesome but if you don't need
animation that could be a solution so
CSS variables enable you to set multiple
properties at once if you use this trick
also CSS variable
unable you to set property shortcuts
kind of like mix-ins with only one
property so in this case I wanted to
have a purple shadow and only define the
X Y in the XY and blur of Ambler offsets
instead of having to define the color
every time so I used the same trick for
canceling inheritance you'll see it in
all of these demos and I say I set box
shadow to whatever the value of purple
shadow is if it's defined plus Rebecca
purple because I wanted the color to
always be Rebecca purple and then I can
provide only the extra parts that are
missing oh of course like I could always
do something like this instead and here
specify poke shadow with four of this
color it's two ways to do the same thing
and which ones better depends on your
specific use case and how big this part
is and it you should use critical
thinking and decide what's better for
your specific use case but it's
interesting to keep in mind that CSS
variables let you create single property
mix-ins like shortcuts to properties
what programmers would call function
carrying in a way like it's kind of
similar to function carry property
carrying CSS variables also lets you
create your own long hands like poke
shadow is a property that just has that
we only have box shadow we don't have
box shadow XY blur spread all those
separately but we can hack it with CSS
variables so here I've defined all this
property all these variables I've set
book shadow to all these variables
all of them have fall backs notice that
in this one the fallback is actually a
whitespace character except blur which
means I have to set at least blur and
then I can set all the other ones so
let's set it to 10 pixels and then let's
get box shadow color set it to blue I
don't know something let's make this
bigger
okay and then on let's say on hover this
I think I've run into a small bug with
my editor let's hope this works
book shadow color red and it works so
you can see how I was able to override
the call only the color of the book
shadow without having to override all
the other parameters so Thirteen's take
away CSS variables enable you to create
custom long hands and also you know how
it's really on knowing how every time if
even if you just want to prepare a
little text some text somewhere and
nothing more you have to write an entire
rule well you don't have to you can just
set a prepend variable and then you can
set a before rule on the universal
selector this is implied and the content
is the value of the prepend variable
which means if the prepend variables not
set we don't get anything as you can see
right now but if you want you can set
prepend to some value like let's say
Yolo and you get that text without
having to write a whole new rule like
you could have other CSS properties here
and of course this also works from an
inline style as well if this is for the
cases where this is useful so CSS
variables also enable you to kind of
define your own properties in some cases
which i think is cool so CSS variables
aren't just useful for with HTML they're
also useful with SVG here is a pair of
eyes this is the SVG used to define them
it's okay if you don't understand it the
main thing to understand is that is I've
assigned the class of iris to the actual
iris here
and I've applied some CSS to it and and
I can change the CSS and have the eyes
move however this is these are kind of
arbitrary values if I want the eyes to
look all the way there well all the way
here it's 25 pixels and if I want them
to look although all the other way all
the way there it's 75 pixels which is
kind of a weird value to remember so
instead I can use a CSS variable which
goes from 0 to 1 and use calc here and
say if it's from 25 pixels to 75 so plus
50 pixels multiplied by the value of the
look variable and now I can move the
variable from 0 to 1 and it just works
so CSS variables + SVG equals love CSS
variables and JavaScript are also very
interesting combination you can use the
normal methods that we already have to
get in set CSS variables how many of
your chrome are not comfortable with
javascript by the way how many of you
are comfortable with javascript how many
of you did not raise your hands in any
of the two questions anyway for those of
you that are not comfortable with
JavaScript I promise that the code in
this section is very short and I will I
will explain it as I go
so get property value lets you get the
value of the of whatever CSS property
you pass into it from the end line style
if it's if your property is not
necessarily on the end line style you
can use get computed style with the same
function name and to set the variable on
the inline style you can use set
property why is it set property and get
property value I have no idea I think it
should be get property but who knows and
just with these few functions we can do
really cool things for example this is
setting one event listener to on the
mousemove event
every time I move the mouse it's setting
to CSS variables on the root element on
the HTML element Mouse X and Mouse y and
their values are go from 0 to 1 and they
reflect how much I've moved my cursor
relative to the viewport width and the
viewport height so let's see how I could
use this here I have a simple radial
gradient in the center and I can replace
the static 50 percent with 100 percent x
mouse X and you can see that now it
moves with my cursor horizontally and I
can even do this vertically and now it
moves with my cursor and I can change my
gradient and I I don't have to change my
JavaScript because my variables are
generic enough that I can just transform
them as I need in my CSS which is
excellent if the CSS developer and the
JavaScript developer different people
because you don't have to go to the
JavaScript developer and say hey I
actually changed my mind could you like
make a small change there and they're
like bloody hell you keep doing this I'm
so fed up with you you designers you
keep changing you keep changing your
mind and I can't do this anymore no no
more of that you just know the developer
to set some basic CSS variables and you
use them in your CSS as you see fit and
if they're generic enough you can use
them in multiple cases here I've used
them for a gradient remember this I can
actually change this variable to Mouse X
and now the eyes move with my mouse
cursor and it's exactly the same
variable I didn't have to check to write
any new JavaScript code for this also I
can now use the values of inputs in my
CSS if I just you if I just write a few
lines of JavaScript that set a value
variable on every input element so
here's a slider it has a gradient on it
it's just an input type equals range
there is a bit styled and it has this
gradient on it and the gradient is
static but I can change it to be dynamic
so the values of the slider is zero to a
hundred so I will multiply one
percent with the value of the slider and
now you can see that as I move the
slider the gradient moves which can be
very useful for some styled sliders and
this doesn't look very nice but I'm sure
the designers among you can come up with
a lot more interesting use cases also
I'm sure you've seen all these
containers that scroll and you and they
do cool things as you scroll they show
progress bars and things like that you
can just have a scrolling class go over
all the elements with the scrolling
class add an S scroll event and then set
the scroll variable that is how much
have you scrolled and it goes from 0 to
1 again and you can use it here I have a
linear gradient nothing happens if I
scroll right now but I can change this
20% to calc 100% x 4 scroll I'm trying
to go a bit fast because of way ran out
of time but I hope you guys are enjoying
so as you can see now I if I scroll I
get this background progress bar and
again with the same variable I can do a
huge range of things if I want to change
the the background and make it red and
only at the top I can do that I can even
go and say actually I want the
background to be a color and HSL color
whose hue changes from 0 to 360 not
serially 50% lightness depending on how
much I've scrolled which is kind of
crazy but I mean the sky's the limit
so the last takeaway is that CSS
variables are a revolution for
separation of style and behavior CSS
developers and JavaScript developers can
work in the in their preferred way and
ss variables basically define an API
between the CSS code and the JavaScript
code so one of the arguments that react
people often used for moving all the CSS
code to JavaScript is that CSS is not
flexible enough and you cannot have CSS
response to like scroll events and
resize events and input events and all
sorts of things well now you can and you
don't have to move your presentation to
JavaScript to achieve it you can just
set CSS variables so you can keep your
style where it belongs and you can keep
your behavior where it belongs and
everyone's happy so these are the URLs
of the specs and one last slide about
what's coming in the future
mix-ins and variables are not the future
by the way this is variables are the
present every browser supports them
except edge which is coming
mix-ins are the future because they only
have chrome support right now you define
mix-ins basically by a variable whose
value is multiple decorative
declarations I can add a border here for
example and then you call it with an at
apply rule which is useful for things
that are static mix-ins sadly it's not
very useful for things that need
variables because if I use a variable
here for example let's say color and I
set the variable here to let's say
orange I get as you can see nothing
changes the variable is resolved based
on the calling scope which is here which
is kind of useless because why would you
declare your variables well you've where
you've declared your mixin but still
it's it's it's something for example it
would be useful for clear fix or all
these mixes that don't really change so
that's about it thank you very much I
hope you enjoy it
you
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>