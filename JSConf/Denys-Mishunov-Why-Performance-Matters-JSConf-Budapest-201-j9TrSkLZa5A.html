<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Denys Mishunov: Why Performance Matters - JSConf Budapest 201 | Coder Coacher - Coaching Coders</title><meta content="Denys Mishunov: Why Performance Matters - JSConf Budapest 201 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Denys Mishunov: Why Performance Matters - JSConf Budapest 201</b></h2><h5 class="post__date">2016-06-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/j9TrSkLZa5A" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so yes more often than not what somebody
says performance we tend to think about
speed but even though be not exactly the
same this substitution has a really good
background in forms of statistics for
example warmer dhadkan figured out that
one second of performance improvement
will give them two percent higher
conversions rate doesn't sound that much
but we are talking about company with
482 billion u.s. dollars in revenue and
let me tell you that two percent of this
number can buy you ten countries like
samoa islands that's quite a lot of
money another perspective on performance
recently designed by financial times
revealed that one second group in
performance will leave them without four
point six percent of conversions drop in
two seconds will leave them without five
percent of conversions and three seconds
of losing performance would steal almost
eight percent of conversions rate from
them that's a lot of users but probably
the best perspective on performance gave
Wikipedia last year when they were
searching for what performance engineer
they simply calculated the number of
readers that wikipedia has and put it
this way that by cutting page load by
100 milliseconds you would say Wikipedia
readers 617 years of weight annually
this is quite unexpected but very
illustrative case of what is performance
these statistics answers the question
why performance matters users buy more
users click more users download more and
that's pretty much all I wanted to tell
you about why performance better today
thank you well you didn't think that I
would leave just like that idea huh if
things are that simple why do we keep
talking about this performance thing and
if performance is solely about speed
then how do we explain this this is
statistics for gizmodo com and if you
get to the numbers well that's quite
shocking load time almost 20 seconds
visually complete 20 seconds and this is
on the cable connection there has to be
something wrong with these statistics
because gizmodo.com is the site that
during the last 30 days gained more than
33 million unique users and more than
112 million views ok statistics apart
let's see how this side behaves in the
real browser we type in URL and this
side is almost instantly here where are
those 20 seconds huh we'll get back to
this example a bit later but to those of
you who still think that performance is
about milliseconds kilobytes number of
servers sorry requests I haven't used
for you performance is not about
mathematics performance is about
perception and that's why today I'm not
going to tell you how to supercharge
superpower your page loading time by
using some fancy tools and techniques
like service worker because well nobody
can tell you this better than Jake hello
I'm Jake hello Jake instead I will give
you a different perspective on what we
call performance and in this journey
today will employ the most powerful and
interesting tool that we have at our
disposal our brain have you ever had
this experience when you spend days
weeks working on your performance
optimization strategy you deploy
everything but neither your customer nor
your boss notices any difference you
know that times are lower you know that
performance optimization works but your
users
well your users just don't care in 19th
century German psychologist and that but
and later his student Gustav Fafnir
postulated a law that surprisingly
enough they called better faster law
this law defines a value called just
noticeable difference this is minimal
noticeable difference between two
stimuli like power difference in power
difference in power of light and time is
no exception to this law but experience
and research show that for the short
periods of time of up to 30 seconds and
these are other times that we are
particularly interested in when we talk
about the web development Weber
factional law can be replaced with
simple twenty percent rule why am I
talking about this and what does it have
to do with us web developers well let's
assume you have an event that your
customer is not satisfied with for
example page loading time so in order
for your customer to just notice the
difference after your performance
optimizations you make you have to make
your page loading at least twenty
percent faster anything below that will
make your users thinking oh well I don't
see any difference there is one catch
though we are talking about noticeable
difference and noticeable does not
necessarily mean meaningful if you still
think that twenty percent is more than
enough to spot the difference then I
have another example for you i will show
you two versions of the same page while
without optimization and one with
optimization your task is to spot which
one is faster are you ready are you
ready great site number one site number
two
who thinks that site number one was
faster okay who thinks that site number
two was faster wonderful who thinks that
this is matrix and this side doesn't
exist that's correct you see that there
are people who think that first option
is faster and there are people who think
that the second option is faster
technically there is no correct answer
but if we check the numbers the first
one was load was taking 1.6 seconds to
load and the second one used two seconds
to load and majority of you told that
second option is faster do you still
believe in absolute numbers in this
example we are talking not about 50
milliseconds difference not hundred
milliseconds difference we are talking
about 400 milliseconds of difference and
if you still think that we can blindly
rely on absolute numbers here is my
second example to you hello I'm Jake
sorry Jake I just couldn't resist but
for some tennis I hope that all of you
have wonderful content so far and my
voice doesn't make things worse even
though I deliberately delayed the audio
on this clip by 100 milliseconds just
won't notice anyway is our brain is
really good at synchronizing the
information it gets from five of our
senses into one consistent perception to
compensate for any delays unless the
delays become is proportionate and in
this case we experience this annoying
out of sync video your turn buddy yeah
so
thank you that is thank you our brain is
cheating us our brain does not allow us
to rely on absolute numbers now remember
all those days and weeks you've spent on
your performance optimization strategies
to just shave off 50 milliseconds your
users just don't notice of course one
can argue that it is milliseconds there
and 15 more seconds there in total can
give quite significant defaults
improvement and I do agree the problem
is that all of these performance
optimizations require development time
that your users might not be willing to
give you so far what I'm talking about
today is quite depressed if isn't their
time but you know what let's try to turn
our depression into the opportunities
since we're talking about performance
and perception let's figure out how our
brain perceives time and in particular
how brain perceives wait first of all
pretty much any event consists of two
phases active phase and passive phase at
the phase is characterized by mental
activity it can be mental activity of
any kind like pure mental activity or
mental activity related to some physical
activity but the point is your brain is
busy on the other hand the passive phase
is characterized by idling your brain is
no other option rather than just sit and
wait well you sit on brain wait using
some techniques we can manipulate this
balance between active phase and passive
phase in order to deliver different
perception to the user why do we need to
do this because when users complain to
you that something takes too long most
probably related to the passive phase
because active phase duties mental
activity is not considered away at all
by the brain so our task as the
developers is too
boys and techniques to reduce this
passive face by increasing the active
phase of the ways frankly I feel myself
a bit uncomfortable standing on this
stage and talking to such a brilliant
audience about such simple things but
when it comes to performance perception
and brain it is really that simple is
really that simple to trick our brain
let's get to some techniques there are
multiple techniques to manage this
balance between active and passive face
but of them boiled to two most common
ones the first one being pre-emptive
start let's assume you have an event
that you want to make your user perceive
as a shorter one in the pre-emptive
start technique in the beginning of our
event we put the active face so that
user perceives this wait this event as
the shorter one just this blue part
let's get to the example and I will
begin with the offline example that I
will never get tired of in 2009
adminstration of Houston Airport started
getting an enormous amount of complaints
on the lawn damage handling time well
administration decided to help
passengers and increase the number of
stuff on the baggage handling line that
we use the overall time of the baggage
handling 28 minutes everybody who
travels a lot knows that the time from
you from the moment you leave the plane
to the time you get your bag on the belt
eight minutes is really really low
surprisingly enough the administration
didn't notice any decrease in the
complaints so they started investigating
this case a bit deeper and they figured
out that indeed baggage handling time is
eight minutes but the problem is that
for an average person to get from the
plane to the baggage carousel it takes
only one minute the remaining seven
minutes the person just stands by the
carousel and waits for his back to show
up
employing the perception management
technique administration came up with a
very simple trivial but nevertheless
very effective solution what they did
they just started routing the arrival
planes to the gates further from the
baggage carousel that led to the
situation when an average person now
needed six minutes to get from the plane
to the baggage carousel and only two
minutes just stand and wait so six
minutes of active way and only two
minutes of passive way guess what the
number of complaints drop to zero
another example Mobile Safari on iOS I
guess this feature called blue top hits
that is enabled by default in the iOS
how it works so you open the browser you
start typing the URL there are two
things to note here first one title top
hit so based on your history on the
history of your visits it's probably
tries to guess which side you want to
visit now quite trivial operation but
there is another thing to note here the
network activity so what happens in this
moment once the party shows you the top
heat side in the background it also
tries to preload this site for you at
the same time you type in URL so that
when you're done with the URL the site
is almost instantly here you don't spend
time waiting for all the assets to be
downloaded another example of
pre-emptive star technique is the site
that I'm working with you never know and
one of the things that we do good is
selling the main names obviously enough
there has to be the search page for the
domains and it works as any other domain
search page in the wild users just type
in the domain name click go and they get
the results with the domains the point
is that to get to build these three of
domains we need to make an API call that
for some technical reasons cannot be
stored on the client and cannot be
cashed we have different prices
different till these and it all
dynamic and this API call is not the
fastest call in the world nevertheless
we don't feel like our users have to be
penalized for this so we start making
the API call and pre-loading all the
results and pre building the Dom tree at
the moment the user hits the search page
so user comes to the search page types
in the domain name and we already have
all the don't rebuilt in the background
so far so good but there are moments
when users can search for the domain
from another side sorry from another
page where he didn't hit the search page
obviously enough he doesn't have the
search assets yet like for example on
the front page if you load the front
page you check a network tab and you see
that there are no search related assets
download it because you're not on the
search page but let's see what happens
when the user focuses on the search
field once the user is focused in the
search field we by default we assume
that the next step the next page he will
hit will be the search results page
that's why we needed we start
downloading the search assets make the
API call and start rebuilding the Dom
tree right here on the front page before
user hits the Go button to deliver these
search results as soon as possible when
he gets to the search page this is about
preemptive star technique another one is
called early completion where we have
the same event that we want user to
perceive a shorter one but this time we
put active phase at the end of the event
most probably the most obvious examples
of this technique is pretty much any
video streaming services like YouTube
for example it all starts with a passive
phase users get to this side click the
play button and they wait for the video
to be downloaded so the original event
is full video to be downloaded but users
do not wait until the full video gets to
their browser in the passive face all
the time once the first chunk of the
video possible for viewing is downloaded
the video begins and user is immediately
triggered into the active phase because
his brain is busy with mental activity
analyzing the visual information on his
screen even though the original event
keeps going in the background let's get
to our gizmodo example and see whether
where do they hide this 20 seconds that
we lost if you check the film strip of
rendering process of this side we will
notice that gizmodo starts rendering the
elements as soon as 1.5 seconds actually
a bit earlier but you're to the scale
here and this is the critical moment up
until their users are in the passive
phase they have not no other option
rather than just wait but once the side
starts rendering the things the brain is
triggered into the mental activity this
means that user is in active phase and
he doesn't mind and he doesn't care how
long does it take after this point
whether it's 30 seconds 40 seconds to
load the rest of the site he already has
information to consume he can start
reading today do not get me wrong i do
not advocate for ignoring the the
industrial standards I just tell you
that when users are in passive face
they're very sad seriously we are we all
hate waiting and this is the sweet spot
where we want to put our users as soon
as possible and as i said i do not
advocate for ignoring industry standards
industry advices on absolute numbers and
all the things because frankly all even
though i'm telling about perception all
these perception techniques are driven
with technical means so in order to
employ all of this we still have to load
our assets as synchronously we should
block rendering we should still keep
compressing oh here comes a sink of
course async comes whenever it wants we
should keep word using workers like
service workers hi Jake we should keep
using resource hints to preload prefetch
resources that we will need on other
pages of our side but instead what I'm
advocating for today is next time you're
working on your performance optimization
strategy to use the most powerful and
interesting tool available at our
disposal being our brain and ask
yourself a question is there any other
way to do this and I couldn't finish my
talk better than the quote by Apple in
their basic performance tips that's as
the perception of performance is just as
effective as actual performance in many
cases thank you yes I hope I hope my
talk didn't keep you in passive wait but
we are looking forward to the active
phase that is being lunch so that
question disposed because I cuz I got a
microphone okay so when you're which you
show content on the screen that is isn't
currently active with JavaScript like
would you add stuff visually that isn't
yet clickable and how do you sort of
cope with that sort of thing so these
stuff that is not clickable is probably
it depends on the amount of this stuff
if this is the only one button on the
screen obviously users will try to click
it and will be disappointed today's I'm
clickable but if you have another
information to consume to give user to
consume then I think that it's totally
fine to add this element uncle' well
maybe with some tool tip or something
that says that yeah okay some more thing
is coming but probably you should you
know I when it comes to performance
every case is quite separate so
you have to analyze and you have user
testing whether it works for them or not
but it I would I would not mind putting
the unbelievable element on the screen
as soon as possible as long as the
functionality comes make sense thank you
very much so yes this now takes it to
lunch time lunch is just upstairs if you
have particularly</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>