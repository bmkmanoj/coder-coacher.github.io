<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Zell Liew: Animating SVGs - CSSConf.Asia 2015 | Coder Coacher - Coaching Coders</title><meta content="Zell Liew: Animating SVGs - CSSConf.Asia 2015 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/JSConf/">JSConf</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Zell Liew: Animating SVGs - CSSConf.Asia 2015</b></h2><h5 class="post__date">2015-12-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/6fdIva47wZE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I
today I'm going to talk about animating
SVG's and the main bulk of it is about
SVG's and i'll show you how to animate
with different methods possible before i
begin care have a show of hands how many
people use SVG is really cool nice
alright how many people know how the
enemy as you choose with CSS nice SI my
sm IL not a lot ok great and javascript
ok cool so good so I'm Zell and just I'm
not going to talk a lot about myself
because I have a lot to cover so just
two quick things I wrote two books one
is learning Suzy which teaches you how
to use a Suzy framework and the other is
automating your workflow and you can
find me at my website zell dash week 8
com or my 200 Zelda with you I have no
idea why I put that your eyes my I don't
know I'm thinking when I created a
website but anyway so the slides are
going to be up on this link if you want
it so grab you later and so today we are
going to go through the basic SG stuff a
very very quick one then some animation
methods to see how we can enemy refugees
then we are going to go into more
complex one and then we're going to see
some cool real-world effects very
quickly let's go into the basics so why
svgs I believe in using SDGs because it
has good use good browser support
basically any browser support svcs right
now it's star level it's highly soluble
and do a lot of things with it and the
best of the best of all is scalable
meaning you can build animations for the
mobile for the desktop and beyond it's
up to you going to the basics there are
multiple ways of using SVG's for example
using it as an image tag or a CSS
background-image like this or an object
tag which i don't see many people using
it and inline SVG
and well multiple methods we're not
going to cover so much from the basics
in this talk right now so we're going to
just use inline SVG's because it's the
one that supports everything just to
make our lives easier so animations
methods they are basic skate 3 CSS sm IL
which stands for synchronized multimedia
integration language and javascript
browser support for this korean
emissions are pretty good CSS is IE 9
plus so as long as you can use CSS
transitions animations you're fine SM al
if you are going to support IE 0 or
prime mini you well you can use it and
javascript has the best support so far
it goes way back to even I use six if
you use some like some good libraries so
the first part is hilarious talk about
translation meaning like moving disease
from left to right and rotation you see
why rotation and in a while because it's
a little bit complex first of all here's
the SVG we are going to use this is the
square that we have cool so if i run
this you see a square hopefully yeah ask
away okay animating with CSS first of
all you want to use CSS when your
animations are simple we do have a lot
of different weird timing functions you
don't have to think too much about the
lazy and stuff like that and you want to
any properties that only CSS can animate
which is most of them except for the
past date harting things like that when
targeting SDGs in CSS you can either
target the SVG element that works very
very much like the same as HTML div
elements so we are not going to go into
that the other one is to target the
elements within the SDG itself there's
slightly more complex when it comes to
animations because things start to
change a bit so first of all translation
I believe many people you already know
how to use transitions so
melling don't have a debt but
transitions if you say if you do a
transform you're basically moving it to
the left by our pixels you can also use
animations like the important thing to
notice the keyframes over here if you
know the cleveland syntax you can
basically do animations just like
transitions in with SVG's nothing to
worry about so the left and right thing
is pretty simple however when it comes
to rotation is not as straightforward as
it so right here I've written rotate 360
degrees so take a look at how this SDG&amp;amp;E
runs it's kind of because it goes out of
the box and then it comes back again if
you notice it it hovers over this H over
here so this is the orange endpoint of
the SVG transition well if you want to
translate at the center we have to set
the transform origin to fifty fifty
percent and hey it works however the
problem is that this doesn't work in
firefox if you're not working if you
understood working in firefox you have
to set the transform origin to pixels or
any other unit that firefox use this so
if you are going to do rotation with SVG
animations the best not to use CSS if
you want to support Firefox then let's
go on to SMI elbow you'll be going to do
the same thing you want to use SML
likewise when you use simple animations
you need slightly more control compared
to CSS you'll see why later and you'd
like to support IE or prime mini the
enemy similar animations you can use the
enemy tech basically similar animations
you're going to use you're going to
write it in the SDG itself it's kind of
like writing HTML and inline styles at
the same time so you can you either put
it within the element like this is the
rectangle we have earlier and animate
take within or you can use an ID and use
a hitch rack link to the ID
so the enemy Tech has need to tether
needs to have a minimum of four things
the attribute name which is the thing
that you want to move around the front
value the two value and the duration so
I remember saying that you need even is
slightly more control you can use simul
it gets against a like click and then it
moves here we are moving X which is the
location from the 02 the current
position it's like a translation thing
by 100 pixels or 100 SVG units there is
also another form of using simul and
that is with the enemy transform tag the
addition is that you have to have a type
of say translate on rutila things like
that and this is the x and y values
likewise you can say click and it
translates now next moving on to
rotation and when you rotate you have to
use any may transform tag because you're
going to transform it no other methods
otherwise likewise when you click on it
it slides all the window and comes back
again this is because it rotates around
the top left on it now we can fix it by
setting the central origin right in the
signal element self by sandia say a
hundred and it rotates properly so this
is slightly more confusing because you
have to like count the pixels in there
as well it's not so helpful if you're
going to work on rotations the way to
write more than one animation in Samuel
is that you have to add new text and you
can chain them together by using an ID
on the previous animation and then say
begin so I click on this if it will
rotate next I'll change color so this is
how severe animation goes next let's
move on to JavaScript we use JavaScript
you can use it for complex animations
like the one else the CSS thing that was
shown just now there was mostly
JavaScript and some CSS it supports all
browsers we don't
have to worry about it and rotating
SVG's obviously because it's a lot
simpler you see the libraries that you
can use to enemy svgs a tree sap and
stamp SVG there are also other libraries
you can use but we are going to use G
set because animation is much simpler
with reset and la colina so first of all
we are going to add the twin max thing
in G set by using the below code the GSF
syntax is like this twin max dot method
elements the duration and your
destination how you look like at the end
of the animation so let's say we are
doing translation that means twin x 2
we're going to rotate to the s3 bill
which is specifically for SVG's so we're
going to translate the exit from 50 to
100 right now and we click on it it goes
like this rotation likewise if you put
like rotation 360 straight away it will
rotate around its own origin which is
slightly different from the other
properties but you can set transform
origin to 5050 and you will work
flawlessly in all browsers now if in the
rare case you need to rotate around the
SVG origin you can say set to aren't
tomorrow which is the bottom right
corner and it flow out and come back in
again so this works in all browsers as
well well now we are done with the
basics I hope that wasn't too fast so
this one we are going to make something
more complex so because my friend Jing
here likes to play basketball we are
going to do a basketball animation that
goes like this so if you notice there is
a translate X which goes from left to
right there is a balance animation so
translate y and then that's a rotating
animation at the same time in this one
the SVG for the ball is pretty huge
there's three paths elements so we're
going to copy it and put it into the
cold pan
no all right there you have the Balkans
yeah see you see that for CSS when
you're walking with the ball in your
mission because we are going to use
transforms all along it's an easier way
if you wish we add more group classes so
you catch more elements to play with so
one way of doing it is like this I'm
going to do a quick one
and then we're going to close some tax
I'm not going to worry about indentation
right now so now for CSS i'm going to
use animations because when you're using
bounce is going to be hard to set the
easing function so in ball x regular and
it hit from left to right and ball why
we are going to bounce it and borrow
typical and rotate it around its origin
so take know that because we are using
funds from origin fifty-fifty it doesn't
work in firefox the keyframes for ball x
and ball rotate is pretty
straightforward so you can paste it down
here boy axis moves it to the left ball
wide that's ball religious rotates it so
here it rotates perfect now the CSS for
this one is slightly more complex like
you have to count the different timings
and then you have to give the correct
translation to it and you have to set
the timing functions to easing and ease
out properly otherwise the ball doesn't
balance so now if you run it you have to
look at this whoa oh I think I had a
typo error here all right doesn't seem
to work properly okay there's a ball why
and here's an a missing oh really yeah
its role in the CSS at the time oh ok
thanks so now if I click click run it
drops you can see that animation is
slightly jerky no way because it's hard
to gather any missions correct have a
look at once again it's kind of jerky
because it's hard to calculate the
timing functions and how it translates
and start a bit now let's move on oh
this is this is the one I was supposed
to show you anyway
great now as we go on to SM al we're
going to rotate it the same way so one
is going to be x1 it's going to be why
and once we need rotate likewise we are
going to use three different groups but
instead of using classes we have to use
IDs because this is the only way to
select stuff in samil so let me just
switch over hands set this to class IDs
okay great so bowl x will be and you
make transform well X and you set it to
let me just remove all of this okay and
you may transform ball x from 0 to six
hundred for 2.5 seconds so now it it
translates properly so that's good now
for rotate we are going to rotate it
around its origin at 50 50 likewise just
2.5 seconds so like this technology we
have to use and you may transform over
here and for poor why this is the killer
part because you have to transform it
and transfer you have to translate it
from up to down the values you see here
are like timing functions sorry the key
times here is like timing functions that
we have in the keyframes so this is
fourteen percent twenty-eight percent
and so on and the values here is a wide
translate value and the X translate
value so we have to like bounce it up
and down then you have to set the count
mode the key spline which stands for
bezier curves and stuff like that then
you have to copy and paste the Bezier
curve itself into the simul it's going
to be a pain in the ass if you have to
read we use this animation so let's just
copy it over and go into it
now refresh great we have something like
the CSS ball that we have the
calculations are exactly the same so you
see that the it bounces a little bit
show clearly as well because we have to
calculate the whole thing by ourselves
next with JavaScript with javascript is
a lot simpler because we don't have to
worry about all the different transforms
and translate g700 for us without a
problem so we can just use a class so I
mean I'm just going to come back here
and remove both X and bo why I'm going
to give a class of what i call it
borrowed here all right and we're going
to remove the anime transforms and the
extra key tags all right so if we head
back into the JavaScript let me just
copy this over first and then we'll
explain in here okay so in here we are
using two different timing functions the
first one will be easing will be at ease
out at the same time it's going to
translate it from left to right and
rotate it so if we run and click on this
it rotates and it translates properly
the second one at the same time we're
going to do a bounce with a using
function and now if I run it Oh
and click on it you see that it bounces
and you also notice that the East thing
is a lot easier to control because we
can use easing libraries instead of
trying to call it one ourselves so using
g-type is a lot simpler than using CSS
animations or JavaScript and new inches
when you have something of this kind now
let's move on to some cooler real-world
effects the ones that we are going to
talk about our line drawing and shape
more thing so line drawing you'll see
something like this I mean it draws by
itself the method for doing this is that
you have to use SVG with a stroke if it
doesn't have a stroke this method
doesn't work so let's just remove
everything else and just place the SVG
in no way I don't need this ok the first
step of the line drawing thing is to
divide the strokes into a race into
smaller pieces by using a stroke dash
array property in CSS next you have to
offset the stroke slightly by saying by
using a stroke death offset method the
numbers here are calculations that you
just are just random numbers that you
can use so if you move over it it really
kind of looks cool just that it doesn't
have the full line by itself then you
have to make the strokes longer so it
covers the full path so these numbers
are you have to go and try and calculate
it by yourself so this is kind of like
the different way so if we want to make
it the correct way around with to set
the stroke dash offset says so it
doesn't show up and we animate it in on
transformer on animations alright so for
line drawing in summary which is going
to set the dash array to the path length
and the dash all set to the path length
as well the challenging part with this
is getting the path lane without and
making sure
it works across all browsers and all the
devices especially when responsive
design comes in play so this is usually
easier with libraries you can use your
own JavaScript method to call the SVG
path and get the total length of the
path or you can use some libraries like
fever CS we should enemy a multiple
paths or you directly without any
problems or you can use something like a
preset draw SVG plugin or segment which
is very new it works exactly the same su
set as we g0 plugin with the exception
that you have to pay for it then the
only the good thing about this draws VG
thing is that you can start your path
anywhere and if you animate it however
you like so if i take if you take a look
here i started a path from the middle
and then roast it up and that is not
very doable with library site vapors
unless you really hack your way through
alright that's for a line drawing so
we're going to go into shape more thing
for shame of me am I going to do this
well um this is well i got from co drops
so it's pretty cool if you don't know
code drops please have a lot here be
your mind will be blown by the
animations they have in there so the
trick to use to doing this Boing Boing
thing is that need to have a starting
path and the path when you click on it
so like the ending path the main thing
here is that the path the number of
points in the past must match all the
way I mean by that so if you know some
SDGs you'll know that m starts for
stands for movie tall which is the start
of a path and then if you take the
number of lines here she is one thing
just look at the alphabet so you know
how many points they are this s and
that's s so that's like 44 points here
yes MC s 1 s s and that's another s
somewhere here so that's four points in
both methods then there are two ways to
do this you can use G sets move SVG
plugin which is paid once again or you
can use snap
ji ji ji said natively doesn't allow you
to work with past very well oh yeah
there's one more way to do this and
that's the ISA meal but when your past
messes up you'll be so let's do how
it works right now with the morph SVG
plugin this is pit so right now we're
doing here is that we have a stat path
which is the circular one and the end
path which is the the oval one we're
going to set visibility to hidden so we
don't see the over one then we're going
to click on the more the button we're
going to set the start to the end so the
cool thing about morph SVG is that you
can set it to the IV of the path that
you want it to moth into so let me just
remove this and take a look so I do a
run now it will move in there and stay
it right there without any problems just
the coolest part about the morph SVG
plugin then now if I want to bring it
back then we just have to set a delay or
if you use time there are other methods
but this one is simple we can just set a
delay so and it bounces back after that
so something like this quite simple with
both SVG but of course some of us are
calling our misers like myself included
oh wait let me just talk about this like
remember I was saying that all the
challenges with morphing part shapes is
that you have to have the same number of
paths I'm sorry the similar points on
the path well the good thing about more
of SVG is that you can forget about that
and this is the only library where you
can do so like soco to elephant and
rhino to star and back into an elephant
and to a circle again this is there's a
lot of complex path especially with the
rhino and elephant
but it's simple when it comes to the
SoCo and the star well if you are
working with SVG if you are creating an
SVG yourself this is going to be hell a
lot of work but if you used rice which
she doesn't worry about it and they will
animate for you automatically so this is
pretty cool anyway for the if you don't
pay money like me so you can use snap
lcg which is following this link here 00
i have a link up there so you can click
on it if you want to so in this case we
are going to do it slightly differently
we're just going to have a path that is
the initial shape so I'm just going to
replace everything and remove everything
here all right we have to circle once
again then just make it simple we're
going to say we're going to specify the
start and end pop and JavaScript you can
make it nicer by setting it on an
attribute of the element if you want to
so we're going to initialize nap and
then select the path which is kind of
what it requires then the start and end
path night when we click on the button
for the first time we have to make the
oval shape so this is done by using the
enemy method the mena here is the easing
function provided by step SVG traveling
oh my god so the using function here is
provided by Nina it's kinda like ji
sub's easing function with us I think
it's not as powerful but you can't use G
set with as standby so he just like this
right now so you can do that then once
it's completed we can pass on a next
parameter which is the on complete
function and then we animate it back to
the start path so this is how we can do
it so I'm just going to copy it a reflex
okay cool now if you take a look at this
once again it goes by own again so the
the thing about stem SVG is that you
might think that stem SVG doesn't play
very well with she said that's kind of
true you can also call it this key self
has this whole thing that you can use
the call snap SVG animation method but
it's going to go one way so you can do
complex animations regarding that so
just be aware of it if you want to
combine the two of them then just a
quick summary the more thing
your past must has the same number of
points for the initial and ending path
unless you are using more SVG and yeah
with that come to the end of the talk I
noticed you used a lot of default
timings like easing out and so on is
that something you'd normally do or
would usually customize them well I
normally do use the default easing
functions because I find that it's more
important to select the right timing
rather than the easing functions because
of the easing functions are they are
really pretty good so the more important
things is to set the delays of the
animation and the timings of the
animation correct rather than play
around the eating of course if you are a
pro with the eating stuff feel free to
play with it I'm not that good of that
personally yeah I saw that a chrome is
actually deprecating the SMI o syntax
yeah so would you suggest not using that
at all well personally I don't really
like the sm Hale syntax myself because
you can't use it like across multiple
elements you have to copy and paste it
and it's going to be deprecated into web
animations API which I unfortunately
haven't had a chance to look into yet I
would believe that I would 46 SML and
use JavaScript or CSS animations
stay as much as possible and have a look
at web animations API once it stabilizes
and take a look at how that goes I just
want to ask you about the performers own
mobile phone as I know the mobile
browser or whether you or all the
message to wrong as which you will cost
some serious fed drugging and other
performers issue so are you worried
about performance issue is it's an
actual issue we have encountered so I
just wonder if you have some tests or
project using mobile devices yeah um
currently no I don't have like projects
that I street where I use mobile
animation straightaway but so far from
my test it depends on how you use the
animations yourself so like if you use
transforms and don't repaint the browser
as much as possible it's not too much of
a problem or you can use gchat which is
amazing because it works very well with
purpose and as performance is absolutely
solid so for me i'll probably just to
lay around with this two methods and see
whether it works well or not if it's
really shitty then I guess the
animations might be a bit too much or
maybe try to cut down animations because
if you are using a mobile browser and
you need to reach out to depot with at a
high speed and they don't have to
internet connection then maybe dead part
is not so important after all or maybe
it might be it depends on what you're
trying to do it</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>