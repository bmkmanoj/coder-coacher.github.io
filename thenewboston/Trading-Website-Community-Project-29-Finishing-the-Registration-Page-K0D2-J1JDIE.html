<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Trading Website Community Project - 29 - Finishing the Registration Page! | Coder Coacher - Coaching Coders</title><meta content="Trading Website Community Project - 29 - Finishing the Registration Page! - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Trading Website Community Project - 29 - Finishing the Registration Page!</b></h2><h5 class="post__date">2012-04-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/K0D2-J1JDIE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">herbal where did it go right there so
now we're basically entering a new um
what's it called not a row a new record
in order table and that record is just
going to store the temporary information
for this user now remember this when
they have clicked that link on their
email and verify that that is a valid
email and they aren't a bot or aren't
trying to spam our page we're going to
take this information and plop it over
to this main users table but right now
we're just going to start in tempe users
because this is pretty much the people
we don't trust yet so again what we did
is we store their information in the
temporary table now what we need to do
is construct that email that we're going
to send them so the first thing I even
want to do before I construct that email
is I just want to add a simple if
statement and I want to make sure that
this query ran successfully now whenever
you set a variable equal to a MySQL
query it runs this query and it returns
true or false it returns true if the
query ran successfully it returns false
if there's like air or you spell
something wrong so let's go ahead and
ensure that this is not false because if
it's false then we just want to go ahead
and give them an error message like have
our script die we don't want to die but
we want our script to and it could say
look good not insert it into database
and then we'll go ahead and write that
my mysql underscore air so that way we
know it's in the reason i like to do
this is because say there was I don't
know maybe we typed empty users rung
well if we're running our code and
testing it and the information isn't
going into the database then we're going
to make whoa is there a bug in the
database is there a bug in my PHP code
are my files not uploaded this way we
can clearly see what's going on and I
actually don't want that semicolon right
there but that's why I throw a lot more
error messages than the normal
programmer just forward to bugging
purposes else now remind you this is
going to return true if the query ran
successfully and false
if it ran unsuccessfully so if it did
run successfully and that information
was inserted into the temporary table
then what do we need to do well what we
need to do is we need to construct that
email so let's go ahead and store the
body of the email inside a variable
called message and the first thing i
want to write is just add a double
quotes to activate your purpose should
spell this race is going to be sent to
millions and billions of people when
this website gets popular to activate
your account please click on this link
and you actually need to add new line
new line whenever you're writing an
email it doesn't interpret the HTML so
that's why you need new lines instead of
breaks so after this let's just go ahead
and actually this next thing I'm going
to type and if I try to explain it while
i'm typing then it's going to be kind of
confusing so I'm going to pause the
video and hold on I can't figure out how
to pause this freaking thing all right
so clearly as you guys can see what we
did is after we said to activate your
clamp you're a clown now activate your
account please click on this link we add
a couple breaks and then we gave them a
link now the link that they need to
click on is a link to this activate PHP
page now of course we didn't make this
script yet but we will eventually and
what this page is going to do is it's
going to grab the email from the URL
which is the email that they registered
from and that code that unique random
code and it's going to match up that
code in that email and it's going to say
okay we're in this temporary users table
is this code equal to the code and email
equal to the email and then it's going
to say okay if I have a result which I
should I'm going to take this
information and plop it over into the
users table so that's why we needed the
code and their email and that's
basically what this activation script is
going to do a really easy and awesome
way to deter against all your spam and
BOTS and just fake stupid users so now
check this out
didn't actually mail the user anything
yet we constructed an email or the body
of it at least now we actually need to
mail it through PHP so how do you mail
people stuff through PHP well use the
function mail and it takes three
parameters the first parameter is their
email so of course their email that they
entered in the form will just go ahead
and steal that the second parameter is
what do you want the title of your email
to be registration confirmation I spell
that wrong hopefully and the last thing
is who do you want to email it to what
do you want the title of the email to be
in the body of your email or the meat of
your email is just the message so there
you go now the last line of code we need
in this register dot PHP is this we want
to redirect them after we sent the email
to a prompt and what this is going to do
is take note that this is a prompt one
and this is prompt to this is just a
page that says congratulations we've
sent you an email to like finalize your
registration or whatever please click on
the link that we sent you before you can
use the website so after it gets done
doing everything they're redirected to
another page and then they have to go
look at their email click it and they're
good to go ready to use the site so how
awesome is that that is all of the code
we are one hundred percent done with
register dot PHP I actually have to you
know to bug this real quick and see if I
have any errors and if I do then I'll
show you guys what the errors are and
how to correct them in the next video if
I you know type the extra semicolon or
something but if not then the next thing
we have to do is make that activation
script so thank you guys for watching
and we're going to subscribe it and
hopefully my mic wasn't muted and I'll
see in the next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>