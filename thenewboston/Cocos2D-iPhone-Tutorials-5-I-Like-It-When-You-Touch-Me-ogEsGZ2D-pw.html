<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Cocos2D iPhone Tutorials - 5 - I Like It When You Touch Me | Coder Coacher - Coaching Coders</title><meta content="Cocos2D iPhone Tutorials - 5 - I Like It When You Touch Me - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Cocos2D iPhone Tutorials - 5 - I Like It When You Touch Me</b></h2><h5 class="post__date">2010-08-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ogEsGZ2D-pw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright guys so welcome back to your
fifth cocos2d tutorial in this tutorial
we are finally going to begin covering
user interaction having the user
interact with a program yeah that's the
definition we user interaction if I had
to spell it out for you so specifically
where we're going to be covering in this
story is touching and touches and touch
events and stuff like that so what we're
going to be building is a program that
whenever the user touches the screen the
spray slides to where they touched and
continues on its way it's pretty cool
program um you guys are going to be
impressed i think but a lot of people
are having errors and when they run
their iphone simulator they actually try
to touch the there max with their finger
but you actually need to use the mouse
and click it instead so you can't you
know use your finger on the iphone
simulator you got to use your mouse so
you know if you're having trouble
understanding that then maybe i'll make
the sorrel with that later on but yeah
that's what you got to do so with that
being said let's go ahead and start
typing some code you see under this in
port right here we need to import one
more thing for this tutorial in port and
that is si si hopefully pops up touch no
not handler dispatcher that ah ah crap
dispatcher there we go and I think I'm
gonna sneeze soon am I gonna am I gonna
I don't know I can't tell I think it's
like a minute way right now it's like a
minute 30 away right now anyways so go
ahead and import that CC touch
dispatcher and this pretty much is the
header file when we need to that allows
us to use touches so before we just jump
right into coding our touches methods
there's one more thing that we need to
do we need to register this view to be
able to respond the touches so here's
how we do this go ahead and inside
you're in it and inside the if statement
might as well add one more line decoder
right here and that's this line
CC touch dispatcher and put shared
dispatcher just like that it's basically
writing itself add targeted delegate I
can't even see what's going on right now
all right but look sorry all right let
me see add targeted delegate and this
pretty much means all right we're going
to be coding a bunch of different touch
methods so where are those methods and
just go ahead and press self right here
and for a priority don't worry about
this now just go ahead and press 0 and
swallows touches sounds pretty gay but
anyways just go ahead and put yes and
this basically means um can I respond to
touches or can I accept touches why they
said swallow's and I think it's
something gay joke but you know I'm not
sure so now that you have that this
class is able to respond to touches so
go ahead and outside all of your other
methods um you know we're going to be
coding a new method right here so let me
say this before I even move on now that
our class is set up to receive touches
there are four touches different types
of ways you can touch your iPhone screen
there's CC touch began CC touchmove CC
touch ended and CC touch canceled touch
began is when you first lay your finger
on the iphone screen touch moved is when
you're sliding your finger touch ended
is when you lift your finger up and CC
touch canceled is when you're like in
the middle of one of these moves and
like your phone rings or something so it
cancels it out a lot like the standard
touches on the iphone itself on the
iphone framework but this is specific to
cocos2d so again if you remember i named
for touches touch began touchmove
touchend it and touch canceled the touch
began method is required so this has to
be the first thing you always code so
it's actually a bulleen there we go and
just named CC touch began and all of
those are good by default and all we
need to do
in here for this tutorial is returned
yes since you can see right here it
takes a bulleen so it's expecting one
back so I make sure it's easy touch
began in touch with a man event good
it'll pass all that along re so again
this method is always required because
in order to you know get touches move
touch ended touch canceled you need a
touch to begin with so that's why this
touch is required but check this out
touch move touch ended and touch
canceled all of these are optional so
the only thing we're going to worry
about in this tutorial just for you know
the sake of teaching you guys how to
code one method is touch ended and this
happens whenever you lift your finger
off the iphone screen so this is a void
and CC touch end it just like that and
keep all your parameters by default so
what do we want to do whenever our touch
is ended well what we want to do first
is figure out where in the view Did you
touch so CG points in this name it
location and set it equal to touch
location in view looks pretty good and
then for here go ahead and put touch
view and in for saying all right when
you type a touch and event where are you
getting this stuff from this is what is
passed in right here touch an event so
what this line of code are right here
what this means is pretty much this
where and the view Did you touch and
take that and store it in location right
here so after this what we need to do is
this right now we have a point and it's
stored in location but this isn't a
point that we can use in order to use it
we need to convert it to a GL point and
these are the points that you use for
drawing and moving your sprites around
the screen I know you know it would be
easier if they just had one type of
point but they don't so what we need to
do is take this location point and
convert it to a point that we can use so
CG point and just go ahead and type in
converted location for converted point
and just go ahead and do this CC
director shared
director thought it would pop up but you
didn't you bastard all right convert to
GL location and in line and what this
means is pretty much this take this
point right here and convert it to a
point that we can use in store and
converted location easy enough and I
probably got a error type and all that
but and by the way i'm talking about
directors and the tutorial coming up
it's going to take quite a while so
that's why I'm not covering it right
here so now that we have pretty much the
point that we can use where we lift it
up our finger let's go ahead and use
that somehow let's go ahead and take
that chick the hot chick that's moving
on our screen already if you can
remember my story and move her to this
new point so chick the first thing we
want to do is stop all actions and this
will take it see she's moving already
it'll cancel that move temporarily why
we do this alright so we want to cancel
anything she's doing already and we want
to run a new action and that is this CC
move to action with duration and just go
ahead and put like one second or
something and what position do you want
to move to converted location just like
that so let me build this real quick and
see my heirs wow it actually succeeded
I'm kind of impressed about that so
check this out here's our program or
chick is moving on the screen now let's
go ahead I'm pressing down letting up it
moves there now I'm pressing down
letting up it moves there pressing down
letting up it stops what she's doing and
moves there so go behind the pig I see
so that is pretty much the basics of how
this works so again I talked about
you're going to need to import the use
touches of course you need to import
stuff all the time you need to register
this view to be able to respond to
touches and now the meat of the story we
get the location of where ever i clicked
on the screen I take that location and
convert it to a CG point that we can use
I stop any movement or actions that
she's already doing and I give her a new
action that says this all right wherever
you are move to where I clicked and
that's pretty much all I'm doing pretty
simple I and of course you click here
but when you're running on your advice
it would be a touch so there you go
there's your basics of touching in
cocos2d and again all this director
stuff and anything else you don't
understand it's just other details i'll
be covering it in later tutorials so
anyways thank you guys for watching and
don't forget subscribe i'm going to go
buy some doritos and you uh you i'll
check out my forum or by my apps or
something like that so anyways thank you
for watching don't forget subscribe and
I'll see you guys later</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>