<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Android Application Development Tutorial - 142 - LocationManager and Location Permissions | Coder Coacher - Coaching Coders</title><meta content="Android Application Development Tutorial - 142 - LocationManager and Location Permissions - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Android Application Development Tutorial - 142 - LocationManager and Location Permissions</b></h2><h5 class="post__date">2011-08-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Q5U2cbJNBM8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's up guys welcome to your 140
second Android tutorial for the new boss
in and what we're going to do in this
tutorials basically we're gonna draw our
pinpoint right when our activity starts
based on the location of you know the
user of the phone so it's just gonna
place a pinpoint right where they are so
we're gonna have to do is use the GPS to
find where the phone is to get the
location from you know by triangulating
the different providers so it's it
sounds kind of complicated but it's not
going to be too difficult the first
thing that we need to do is we need to
set up that bitmap that we're going to
draw or that point that we're going to
draw and we're gonna do that within our
oncreate method of our map activity so I
just want you guys to scroll down to our
first alert place a pinpoint button
we're just gonna copy this whole thing
within the on click method just hit
control C scroll up to our on create
maybe leave a comment
placing endpoint at the location that
way we know everything under this line
is just for a location we're gonna paste
that there and also the other thing that
we need to do is set up a geo point and
we're gonna call this our location set
that equal to new geo point and we're
just gonna call this like we're going to
call this latitude and longitude or lat
and long Longy like that maybe and then
where else can have to set up those
variables to be int so we're gonna say
and lat is equal to 0 to start out with
int Longy it's also equal to 0 and there
we go we also want to change this
overlay overlay item that we're passing
in to be this geo point our location
so right now it's just going to draw
again our pinpoint at location zero but
what we're going to do is we're going to
change these longitude and latitude
values to basically where the person is
using this application and we need to do
that through a location listener so
that's going to kind of again like I
said triangulate the position of the
phone according to different towers and
all that stuff so what we're going to do
is we're going to go up to our activity
and we're going to let it implement a
location listener so we're gonna say
implements location listener like that
and again we just have to hover over
import and we also have to add the
methods that we need to implement so
we're going to add those and scroll down
to the bottom we have four new methods
on location change on provider disabled
on provider enabled and on status
changed so we're going to be setting
those up I know this this class or this
you know this activity is getting quite
lengthy
we aren't probably gonna do too much
more in Google Maps or the Maps API
after we're done with this location
listener so just keep that in mind we're
gonna go back to our you know the New
Boston basics project here in a little
bit but I just want to show you guys a
little bit more for Google Maps
activities so now that we have those
four methods set up at the bottom what
we want to do is we want to create a
string reference that our whole class is
going to refer to as well as a location
manager so we're gonna first set up our
location manager
I call this location manager and that's
just going to help us manage basically
the location so import that as well and
also a string reference and we're going
to call this tower or towers so there we
go we have those set up I know they
probably don't mean much now but I'll
try and walk through this section a
little bit slowly even though it's not
too complicated
it seems to me anyways have been kind of
going quickly through some of these
tutorials so sorry if I lost some of you
guys but for the most part I just want
everyone be caught up at this point so
probably all we're going to do in this
tutorial is set up our location manager
and add our permissions to our activity
that we're going to need so again under
replacing pinpoints comment we're just
going to set up our location manager
which we call the LM and we're just
going to set this equal to B we're going
to cast it as a location manager and
then we're going to use a method that's
going to get the system service which
we've used a few times now I believe and
we're gonna say context dot location
service basically all this is going to
do is retrieve a location manager for
controlling the location updates those
methods that we just added or
implemented so again we're just gonna
say location service hit enter and now
we have our location manager set up
let's also set up our permission so
we're gonna go into our Android manifest
add a few more permissions so we can get
you know kind of either rough estimate
of where the person is or fine location
so we're going to add both of those so
we're going to go over to our
permissions say add permission uses
permission and then we want to use the
one that says access fine location and
access course location so we're going to
add that and then add another one for
our course
location I'm just in case we can't
really get you know a fine-tuned
location we're gonna be able to access
roughly or rat so save that and there we
go those are the two new permissions
that we need for location manager and
working with the specific location of a
person using the application so there we
go we got that set up and that's pretty
much it for this tutorial again we set
up our location manager that's going to
help us kind of you know manage the
location and we added our permissions
and I'll catch you guys in the next
tutorial have a good one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>