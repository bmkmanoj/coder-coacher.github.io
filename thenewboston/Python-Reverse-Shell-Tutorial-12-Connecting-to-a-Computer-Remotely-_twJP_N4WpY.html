<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Python Reverse Shell Tutorial - 12 - Connecting to a Computer Remotely | Coder Coacher - Coaching Coders</title><meta content="Python Reverse Shell Tutorial - 12 - Connecting to a Computer Remotely - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Python Reverse Shell Tutorial - 12 - Connecting to a Computer Remotely</b></h2><h5 class="post__date">2015-12-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/_twJP_N4WpY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I already hostage so welcome back and
let's just go ahead and recap what we
did so far so so far we built an
interactive prompt that we could type in
our own with custom commands list and
then of course we added the ability for
clients to connect and then whenever
they did connect if we type list again
we can see their connections and in the
last video what we did is once we have a
list of connections we can actually
select a computer from that list using
its ID number so we say select 0 hit
enter and it says we are now connected
to that computer and it doesn't say
turtle anymore it actually gives us a
new indicator of their IP address so we
are now pretty much remotely connected
to whatever targets computer we want and
from here we can just write anything we
want Echo tuna and those commands run on
that computer and also what I did is I
set it up where after you throw in your
commands um the interactive prompt
changes from their IP address to the
current working directory so now if I
want to you know move back and you know
what I do dir then there you go so just
like before that's what we're gonna do
so again in this tutorial we took care
of all this stuff the selecting thing
and now we want to be able to actually
send commands to that target so close
out of this close that to that by the
bing bada boom mm-hmm thought I could
find something to rhyme but whatever art
so connect with remote target to client
and I'll just write define send target
commands and we actually need pass in
our connection object right here and
check this out I'll show you guys where
we call this art so whenever we're in
our interactive prompt what we can do is
we can type in list to see all the
computers that are connected or if they
or if we I guess I should say type in so
and then we select one of the computers
then it's going to get that connection
and then we're going to call this
function that we're going to be
programming in this tutorial with that
connection so at this point like I said
we're connected to one target the target
that we want to send whatever commands
to so I'm gonna write while true because
remember I think all right so we're
gonna add another loop that's going to
be an infinite loop and this is gonna be
the loop that says what command you
wants and what command do you want to
send so that is why we aren't in turtle
anymore we are in this little
interactive prompt that's connected to
their computer and now if you're like
alright what if you want to disconnect
from them and what if you actually want
to get back to look at turtle and see
all the clients that are connected well
we can add a special keyword like quit
so basically any of these commands are
gonna run just like you were typing them
on their computer but whenever we type
quit we'll hop out of the loop or break
the loop and it will put us back in
turtle cool cool all right so while true
what I want to do is just listen for
commands so we'll say inputs and then
this is just remember this is just
whatever we are typing that we want you
know pretty much their computer to run
so I actually want to add an if
statement so I'm gonna add a length
string encode command and greater than
zero and I'm not gonna really explain
this because I did it this is pretty
much the same as the first part of this
tutorial tutorial series when you're
just controlling another computer so
this part isn't really any different so
once we have that I'm just going to take
that connection and send them whatever
we typed so STR encode command so if our
command equals echo hey then it's just
going to take that and send it to their
computer so now what I want to do
I want to get the response basically
after they ran the command what was the
output of it and I just want to store it
in the variable client response so
connection received and the buffer size
can be 20 480 it's plenty of space in
utf-8
I remember the reason that we have to do
all this encoding and decoding is
because whenever you send across the
network it's in bytes ones and zeros and
whenever we get it back we want to
convert it to a string because humans
aren't very good at reading ones and
zeros so now we can just print out
client response and just want to end
this with blank line now another fan
want to point out is what I'm going to
do is I'm going to set it up that part
of their response is their current
working directory so see if I have this
so you see that whatever we got back
this was actual results here let me show
you so this was actual results of the
command such as echo tuna and part of
the response after this on a new line
was their current working directory that
is when whenever I type the command like
this this didn't have any output but we
still got back their current working
directory so all that takes place on the
other script the client script but there
you go
so after this actually what I want to do
is this I'm gonna test for one thing and
that is if the command is equal equal to
quit then we're just going to break out
of the loop so remember this loop right
here all it does is it loops forever and
ever and ever
and it just looks at whatever you typed
in and then it sends it off to their
machine but we just don't want to do a
fixed amount of times maybe you want to
do it once maybe you want to do it 50
well it's just gonna look at all those
commands in do it normally but whenever
you type in quit it's gonna break out of
this loop and then whenever this loop
breaks
then this loop can continue your turtle
because right now whenever you're
connected to another computer it's
hanging right here and it's not
iterating through turtle so there you go
kind of tricky but whenever you like
look at the full source code it's going
to make a lot of sense so this pretty
much means break or quit your connection
from that specific machine and I also
want to do some exception handling so
accept and if you guys are like why
would we have an error right here well
one reason is whenever you're connected
to another computer you can start
sending it commands
maybe echo hey move directories look you
know maybe edit some files add some
files and then if they ever shut off
their computer or log out or whatever
then you may get an error thrown so what
you can do is you can just print out
connection was lost and then we also
want to break the connection that way so
there are two different ways that we're
gonna have our connection broken with
another computer the first way is if we
decide to break it by typing the key
word quit the second way is if they
break it somehow maybe there's a hiccup
in the network or maybe they shut off
their computer whatever so in that
instance we're gonna say connection was
lost and then you're just going to put
us right back in turtle so there you go
umm pretty much this right here this is
the stuff that's going to go in threat
too so threat two is taken care of so
remember we said thread 1 which is
handling all the connections it's taken
care of thread 2 which is actually
interacting with another computer is
taken care of now we actually have to
build those threads real quick say which
part of the program we want to run in
each thread and then we can just run the
script it's gonna be awesome so I'll see
you guys in the next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>