<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Django Tutorial for Beginners - 35 - User Model and Creating Accounts | Coder Coacher - Coaching Coders</title><meta content="Django Tutorial for Beginners - 35 - User Model and Creating Accounts - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Django Tutorial for Beginners - 35 - User Model and Creating Accounts</b></h2><h5 class="post__date">2016-03-31</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/aCotgGyS2gc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all right so I'm going to scroll all the
way down to the bottom and check it out
so you know before whenever we wanted to
create a new object we use create view
whenever we wanted to show a list of
objects we use list view details was to
get the details of one object well since
we're kind of customizing a bunch of
stuff we're just going to import or
inherit from generic view so I'm going
to make this class called user form view
and again we're going to inherit from
view and let me give myself a couple
lines there all right so the first thing
you need to specify in here is what is
your form class in other words what is
the blueprint that you're going to use
for your form and of course that's just
the one that we created over here user
form now the next thing you need to
specify is something called a template
name now we don't have this created yet
but it's basically on the HTML file that
the form is going to be included in just
like we use any template so the template
name and we're just going to make a file
called registration form registration
form HTML and this is just going to be
really simple actually probably just
copy everything from here and just plot
my new form in so what else so now what
I want to do is I want to show you guys
one of the coolest things about
class-based views you know how basically
whenever the user goes to the forum the
first time like at album form then
they're just making a get request so
that's it they're just getting a blank
form now whenever they hit submit what
it's going to do is it's going to submit
here let me actually go ahead and show
you guys alright so here you can see
that whenever they submit this form then
where does that information go well it
actually goes to the same URL right here
so how does it get handled differently
because whenever you submit a form it's
not a get request it's actually a post
request so in other words
we're using the same URL to handle two
different types of requests a get
request which pretty much means just
give this form for the first time or
post request which means the user filled
out information and they want to submit
the form so from here what you can do is
something like this you can say if
method equals post and method equals get
and that logic is going to work fine
because you know whenever it's a get
method then that means that they just
want the registration page the blank
form and whenever it's a post method
then that means that they actually
submitted the form so you can split your
logic up like that but then you got a
bunch of code and I mean we're going to
be writing a bunch of stuff in here so
it's going to get cluttered however
there's a better way to do it and that
is this whenever you're using
class-based views you can actually take
your get and post logic and separate it
into built-in functions so the built in
function for get requests is just get so
self request so again whenever the user
wants this form and it's a get request
it's going to call this function right
here now of course you guys know what's
coming next whenever they submit a form
and it's a post request then you can use
this function right here and then all of
your logic is separated from one another
and look how beautiful this is I just
want to make out with my computer right
now alright so let's go ahead and take
care of the get request first and let me
add a comment so this is basically just
going to display a blank form a new user
coming to your site and they didn't sign
up yet they don't have any account so
what we want to do is this we want to
make a foreign variable and set it equal
to self form class in other words we
just want to use this form the user form
and what context that we need pass in
there none so by default it doesn't have
any data that's what the user is trying
to fill in some data in it so now we
just need to render it like we have been
doing everything else right at render
and there you go so we need pass in the
request self
template
and this basically means all right for
the forum where do you want me to plop
it in what HTML file that one right
there and the last one is just the form
itself so the form form so in other
words offices doing is displaying a
blank form to the user nothing new I
mean we did it before in like the first
tutorial so now we get to the fun part
what happens when the user actually
types in their information in hits
submit well now we need to go ahead and
register them add them to the database
so I'll say process form data right here
so instead of pass of course the first
thing we need is a reference to the
actual form however instead of none we
actually want to pass in whatever
information they typed into that form so
that is actually the request post so
whenever they hit submit all of that
gets stored in this post data right here
that we can pass to the form in the form
can validate that data so this is
already built in Django functionality is
going to validate it and make sure it's
correct in other words this is always
going to be true as long as they didn't
you know use some weird symbols from
China or you know like they forgot to
fill in their username or something like
that as long as it's valid data
maybe they typed in a character for an
integer or whatever so we're going to
write if form is valid then what do we
want to do well
eventually what we're going to do is
we're going to take their information
and we're going to store it inside the
database however before we just take
their data and plop it right in our
database we usually want to make some
checks and balances and do some you know
further validation ourselves so what I'm
going to do is I'm going to make a user
object and this is just going to be a
user object using whatever they typed
into the form so form dot Save and what
you also want to put here is commit
false
all right so it's important to know
what's going on right here what this
does is it just creates an object from
the forum what it doesn't do is it
doesn't save it to the database yet so
at this point we didn't enter their
information into the database we're just
pretty much just storing it locally so
we can do whatever we want with it so
what do we want to do with it the first
thing we want to do is we actually want
to get the clean or normalized data so
actually let me add a comment
so cleaned normalize the data all right
so what clean that is is basically data
that is formatted properly in other
words let's say that you wanted the user
to input a date you know how everyone in
the world uses a different date format
Europeans Americans whatever well this
is going to do is it's going to
normalize it in other words it unifies
it so everyone's using the same format
and it just make sure that it's ready to
enter your database properly so for the
username in order to get the clean
version of the data it just formed clean
data and then you just write whatever
field so username and password so this
is actually the data that you want to
plop in your database so that is the
username and that is the password now
there's one other thing that I need to
explain and that is how you set the
users password so whenever you're
setting their username you just write
username equals oh I actually want to
change that to Tom actually that's going
to be Bucky
whatever so you may think whenever
you're changing their password it's just
going to be vacant one two three and
just do something like that however the
one exception is whenever you're
changing a user's password you can't do
it in this way and the reason for that
is because passwords aren't just normal
text if you look they're this weird hash
value so if you just try to change it to
plain text you're going to get a whole
bunch of errors so whenever you do need
to change the users past
this is how you do it you take that user
object and you call a function called
set password and this is where you pass
in their password so again whenever you
need to change a user's password this is
how you need to do it so after this
everything is set properly you can now
save the user so this line of code
actually saves them to the database so
at this point after this line runs
they're going to appear right in there
so that's what registration is boom
roasted the user is now registered for
the website and they are in the database</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>