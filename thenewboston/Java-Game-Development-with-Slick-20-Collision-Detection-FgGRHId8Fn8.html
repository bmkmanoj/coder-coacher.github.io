<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Java Game Development with Slick - 20 - Collision Detection | Coder Coacher - Coaching Coders</title><meta content="Java Game Development with Slick - 20 - Collision Detection - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Java Game Development with Slick - 20 - Collision Detection</b></h2><h5 class="post__date">2012-06-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/FgGRHId8Fn8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay guys welcome to your 20th video and
in this video we're going to be working
on the collision detection but before we
do that it's going to be a lot easier if
we allow Bucky to move in any direction
so right now obviously he can move up
but that's all he can move if I type
left-right down
he can't move in any direction but up so
let's go ahead and fix this right now
so we already pretty much coded the
basic framework of it now we just need
to add three more if statements one four
down left and right and let me go ahead
and space these out a little bit more so
this of course is the up direction
whenever the user hits up on their
keyboard the other one is down and
whenever we do this instead of moving up
he moves down and instead of increasing
the Y value we actually need to decrease
the Y value now for right and left
actually let me go ahead and do left
because that might make a little bit
more sense all right now for whenever
the user hits left will change the
animation to moving left and also
instead of the Y position we're now
working with the x position so what we
want to do is we want to add to X and
for the last one right
this is moving right and whenever he
moves right of course that isn't the Y
because Y is up-and-down X is left and
right and whenever he moves right we
need to subtract from his exposition so
hopefully you got that right plus minus
1y y X X looks good to go I probably
messed something up but let's go ahead
and play this game and test it out you
move up down left and right okay so I
didn't mess anything up now let's go
ahead and tackle the problem of
collision detection so as you can see
right now whenever Bucky goes off the
map he just keeps going into space
however whenever we are making our map
we want him to stop right here so what
we want to do is we want to get all of
the values that are going to allow us to
pretty much determine where the edge of
the map is so go ahead and first of all
we'll get the most up the topmost
parameter so we'll say that the topmost
parameter remember the only thing that
we have to worry about is Y so we'll say
that when y is equal to 162 then we
shouldn't allow Bucky to go any further
so just remember that 160 to go ahead
and write it down on a sticky note or
something so now we need to get the
bottom most parameter so go ahead and
walk all the way to the bottom of your
map and let's say that is what's it's
looking like 600 so negative 600 Bucky's
should not be allowed to go any lower
than that now we need to get the left
and right and I know this is you know
kind of boring watching me walk around
but okay now we're only looking at the x
value so the leftmost will say that this
is like 324
okay so leftmost Bucky should not be
able to have X value more of 324 or else
that'll mean he's off the map and my map
is kind of big so I don't know what can
I talk to you guys about well I got a
love seat deliver today and when
whenever they delivered it they didn't
even knock or anything they just started
walking in my house it was kind of weird
but anyways now that were to the other
side of the map check it out
so now the x-value for this will say
that this is like I don't know 8:40
we'll say you're right around 8:40
negative a 40 so Bucky's x-value should
not be able to go lower than negative
840 so go ahead and write all those
values down like I just did and once you
have all those values you can begin the
collision detection so where do you put
the collision detection well obviously
you only wanna you know determine if
they pretty much the topmost limit make
sure he can't go above that so if you're
walking up then you need to check that
Bucky's y-value isn't greater than 162
so right under probably easier if I
added a comment just because that green
comment stands out up down left
right and by the way even though you
know I just you know kind of played
around with it and walked around the map
and I was pretty much just looking at
these coordinates on the top left
whenever you develop a game for real
then you actually would want to you know
um look at the image size and look at
the size of you know your character and
do all the math but you know for just
demonstration purposes I'll just kind of
wing it see whatever it's close to but
anyways you know just telling you guys
that this isn't really a professional
game or making it you know spoiler alert
but basically this is how you test for a
collision detection if what we're
checking here is Bucky's y-position
because remember we only want to worry
about the Y position because we're
moving up right now and we only want to
make sure that the Y position isn't
greater than 162 because the top edge of
the map was where Y was equal to 162 so
what if Bucky
Bucky's Y position is greater than 162
but what we need to do then is say dude
if your Y position is greater than 162
and you're about to go off the upper
edge of the map then just go ahead and
I'll show you guys a really short way
just go ahead and move in the opposite
direction so remember he's still going
to be look like he's facing up however
it's not going to let him move any
further because it's going to be
subtracting that value instead of adding
it so basically whenever we add a value
to the Y position the map appears makes
it appear like Bucky is walking up
however if we don't allow any more
values to be added to the Y position
that makes pretty much very simple
collision detection and allows him not
to go any further so let me show you
guys what I'm talking about
so now whenever he moves up instead of
just walking up the map it's going to
say okay now check it out I'm pressing
up but it's not going to allow him to go
any further because we set that if
statement that says okay if you get to
this edge then stop moving the map stops
moving therefore it looks like Bucky
stops moving so that's how you do very
simple collision detection and whenever
you have something like a building or a
tree you have to use both the X and the
y but just for the edges or the borders
of the map you only have to worry about
one coordinate at a time so now let's do
the same thing for the other ones down
okay so if buckey's y-value now is a
less than negative 600 and basically the
rule is this go ahead and copy this
which is the natural movement of Bucky
and change this sign right here so now
the down position or whenever Bucky is
walking down
he can't go off the bottom edge of the
map now we needed to do the same thing
for left and right so I might as well
click this out so if Bucky's exposition
which is basically his position to the
left and right is greater than 324 then
what this means is do the opposite of
this which pretty much means move the
map in the opposite direction right like
that now just go ahead and copy this and
paste it right here all right so let me
look on my sticky note if though is less
than what do we say negative 840 which
was on the right hand side of the map
then what we need to do is make the map
go in the opposite direction so now
hopefully if I didn't mess up any of my
values then whenever I hit play now
Bucky can not only move up down left and
right but he hits the edge when he goes
up too much now let me test down and
this is where I find out if I mess
something up I'm just going to keep
holding it and awesome
okay we got our top and down working
come on okay looking good so far we got
one more to go guys by the way I usually
do mess this up so this is actually a
pretty impressive that I got all the
math right on the very first try and
come on stop stop yes
freaking game time all right so
basically we got Bucky moving around his
world the
the other thing that we need to take
care of is remember I said that I'm
going to add functionality that whenever
the user hits the Escape key then a menu
pops up and it gives some choices to do
various stuff so that's where we have to
work on in the last tutorial probably
one more tutorial tutorial into our very
simple game is complete
so thank eyes for watching over you
subscribe and I'll see you guys then</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>