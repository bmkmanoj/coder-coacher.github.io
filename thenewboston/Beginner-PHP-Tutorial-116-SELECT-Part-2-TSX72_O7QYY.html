<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Beginner PHP Tutorial - 116 - SELECT Part 2 | Coder Coacher - Coaching Coders</title><meta content="Beginner PHP Tutorial - 116 - SELECT Part 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Beginner PHP Tutorial - 116 - SELECT Part 2</b></h2><h5 class="post__date">2011-04-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/TSX72_O7QYY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so if the query is a load of rubbish and
doesn't make sense even if it does
return it wouldn't return because it
would fail but query success doesn't
necessarily mean it's returned any rows
it just means that it's structured
properly and its end is run correctly so
let's just test this first of all you'll
see that we've got all query failed okay
so let's see what could be wrong
okay I've included this extra comma here
which I didn't mean to
so now let's refresh query success but
now you can obviously see if we do
something like an extra comma or say we
don't include an extra apostrophe on
there we'll return a query failed so
you'll know now if your query has worked
or not
what you can also do is if the query has
failed you can return the specific error
so what we can do is echo MySQL and
error and that is of query run so what
we can do is we can refresh and this is
a success however if we do something
like add an extra comma in and we
refresh we get this my sq oh no not
valid okay yeah sorry umm
there we go so you don't need to supply
an argument in here it's just my skew
our error and what this will do is this
will pick up the error from the last
query run so else echo MySQL error now
let's read this you have an error in
your SQL syntax check the manual that
corresponds near corresponds to your
MySQL server version for the right
syntax to use near from food order by ID
so that's the rest of it so what we can
determine is just before from food we've
got this comma so we can delete that we
can refresh and our queries worked so
now that our queries worked we need to
grab the data of our query and display
it so the best way to do this would be
to use a loop because we have multiple
rows to return if you look we've got
pizza and salad query is just going to
return if you would just echo out the
values it's just going to return one of
the rows but what we want to do is we
want to return all of the rows so we do
this using a while loop and inside our
condition for the while loop we need to
reassign avere or we need to assign a
variable and we need to create an
associative array from our results now
remember an associative array and
contains a key which is in a textual
form and a value in this case a little
and an associative array return from
this the keys will be ID food calories
and healthy and unhealthy or in the case
of our query we're just selecting food
and calories so our associative array
will contain the key food and calories
and the value will be each one of these
so what will be this one first then this
one so we can then return them in a loop
so what I want to do is I want to say
while row equals mysql fetch
it's said a sock I guess but we're
actually this is actually short for
associative so my SQL fetch associative
and we reference the query that's been
run so we've executed our query here
here what we're doing is grabbing an
associative array of our data and
assigning it to the array and it's named
row okay well you can call this query
row so query row is now an array because
we've grabbed our data from our query as
an associative array and put it into
this variable okay so now let's see what
happens when we run the code and it will
be nothing so nothing's happened so we
haven't failed but we've created this
while loop in which we can echo out the
data from each row now how do we do this
usually for best practice I reassign the
variables so what I do is I say food
equals and I own we need to now take an
element of the array so we need to say
query row food and I'll do calories and
then I'll explain this okay so we've got
a variable now called food and we've got
a variable called calories and they're
both equal to the reference of this
array remember using square brackets and
because it's an associative array array
we're taking the value from the field
name food and the field name calories so
this food here and this calories here
correspond to this and that the first
time around this loop food is going to
equal pizza and calories is going to
equal 1,000 the second time around this
loop remember cuz we're using a while
loop food is going to be equal to salad
and then calories is going to be equal
to 200 so all we do now
let's run it first to make sure we don't
have any errors
always good to check as we go along note
no errors returned so let's say echo
food a break in fact no we can say food
has
calories so we're just basically
concatenated on text between our
variables so and then we can break down
so the first time around the loop we're
going to say food has calories calories
so this will be pizza has 1000 calories
the second time around the loop we say
salad has 200 calories so let's just
test it out and see if everything's
working okay so now for the first time
that you can you can see that the query
has returned the data we're looping
through each of the rows that have been
returned by our query and we're echoing
out the results so now essentially what
we've done is taken data from our
database via PHP now what we can do is
change our query round slightly so we
can retrieve different information so
for example at the moment this is pizza
first then salad now what happens if I
want to order it by ID as we've already
seen I want salad to come first then
piece I want the last added row to come
first so that's simple we just modify
our query up here order by ID descending
so we're ordering in descending value
let's come back to our PHP page and
refresh and you can see oh no we've got
an error so okay order by oh yes sorry
of okay I've duplicated this we've
ordered by ID but we want to order now
by descending so order by your ID
descending let's refresh</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>