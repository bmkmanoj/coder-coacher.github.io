<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Node.js Tutorial for Beginners - 13 - Creating a Basic Server | Coder Coacher - Coaching Coders</title><meta content="Node.js Tutorial for Beginners - 13 - Creating a Basic Server - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Node.js Tutorial for Beginners - 13 - Creating a Basic Server</b></h2><h5 class="post__date">2015-04-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/pYOltVz7kL0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright guys welcome back and in this
video I want to show you how to create a
really simple HTTP server so remember
that nodejs it's a little bit different
than plain vanilla JavaScript because
plain JavaScript was made for the web
browser so if you're just on a desktop
or a laptop chilling in your living room
you could run some JavaScript and that's
all good but the code that we write in
these next couple tutorials this is code
that's going to be on a server so in
other words whenever you create a
website people are going to try to
connect to that server wherever it is
make a request for let's say like some
arm like web file or web page or some
info from your database whatever and
your server is going to be responsible
for looking at the request and sending
them back some information or some files
whatever so that's actually how you can
picture it actually let me go ahead and
right-click and make a new file maybe a
little bit easier to understand server
j/s so this is we clean this up and
actually we don't even need this fjs
we'll just run everything in the server
JS file so yeah I know whenever I'm
making these tutorials I'm on a Windows
machine just sitting in my room however
think of it like this the code that I
write in IntelliJ in these next couple
tutorials this is code that's going to
be on the server and whenever I'm using
the browser just think of me of like
some user who's trying to connect to
your server like I know like over in
California or wherever so again this is
code that's going to be on the server
and when I hop over to the browser I'm
just some user trying to connect your
website all right so let's go ahead and
get started now if you think all right
making a server sounds really hard we
probably need to download some like
operating systems like Apache I heard of
that before probably to stick that in
here somewhere well it is actually
incredibly easy and that's one of the
things I really love about node J s so
one of the things that we need is the
HTTP module that's already built in so
require HTTP and I'm just going to store
right in a variable called HTTP and
check this out the only thing that you
need to do to pretty much turn your
node.js code and pretty much create a
server is this your HTTP object call a
method called
create server now the parameter of this
takes one thing and that's a request
listener essentially this is going to be
your callback or what code do you want
to run whenever user tries to connect to
your server and of course this function
that we write in here it's going to be
something like send them back a wet file
or web page or some info from our
database whatever so we didn't code this
yet but I'm just going to call it like
on request and also another thing I want
to point out is whenever they connect to
your server your server has to be
listening for a request so I'm just
going to say listen and inside here the
heck of that pop-up inside here you just
put the port number and I'm just going
to put eight eight eight eight now
another thing I want to do real quick is
whenever we start this program I just
want to log something now in the
terminal just so we have a little
indicator that I'll write the server is
now running so I'll put console log and
I'll just put like a server is now
running alright so what we did already
is we created a server and whenever we
start this program it's going to be
listening for traffic or listening for
users to request through this port and
it's going to just log something out on
the command line so whenever a user
tries to connect to our server what we
want to do is we want to call this
function on request so since it's going
to be looking for a function called on
request we of course have to build one
now whenever it calls this function this
callback function it's going to pass in
two parameters two pieces of information
the first one is the request object and
this object is pretty much just
information about the user's request
other words you can learn things like
what information were they trying to get
what webpage where they trying to
connect do all that stuff any
information about the users requests we
can access through there
now the other object we need is response
so our response is the object that we
can send back to them so if they're like
looking for a web file we can send it
back through the response we can also
send like status information like okay
the connection was good or you know we
couldn't find what you were looking for
here is a nice old error for you
whatever so again the request is from
them the response is what we're sending
back and hopefully you know it's like a
wet file or something like that so the
first thing I actually want to do is
this
I just want to print something out so we
can visually see what's going on so
whenever user makes a request I'm just
going to log out a user made our request
pretty creative I know and actually let
me show you guys something cool and this
is actually something that confuses a
lot of people and I'm not going to
explain what it is right now but um
whenever I run this there's a little
weird um thing that you might not expect
something happens twice and you may
think it only should happen once I'll
explain what's going on in a second but
whenever a user makes a request the
first thing I'm going to do is print
something out in our terminal just so we
can visually see what's going on and
then I'm going to start building my
response what I'm going to send back to
them so for the response the first thing
I want to do is write head write their
art so before I hit enter check this out
this takes a couple different parameters
a status code now whenever you are
sending something back to the user there
are already a bunch of status codes that
you may already be familiar with 200 is
pretty much the status code that says
hey everything went okay um you
requested something I'm sending it back
no problems you probably already know of
404 as well
this means that um whatever you
requested I could
find what you're looking for something
property didn't go according to plan
there are a couple other ones as well
and you know we'll talk about those
later on the next piece of information
is just header information and it says
what type of data are you sending back
to them and for now just send like a
simple plain text and these can also be
like files buff right now um we do is
you call context type in capital letters
and then since this is an object you
need a value so text plane and that with
the semicolon all right so what we're
saying right here is we're going to send
you back in our response everything is
going good so far in the type of data
that I'm sending back is just plain data
just like a string so now you actually
have to write some string or some data
so response right pretty much allows you
to write your response and I'll just say
like here is your response whatever or
here are some data how to say that
alright now the last thing you need to
do is you need to call response dot and
and this just signifies that the
response is ending in it actually sends
it off so let's go ahead and run this
and check out what's happening
so server is now running and actually
before I do that let me stop it so this
program is it running at because I just
stopped it and check it out so obviously
whenever user wants to connect to it
this would eventually you know be some
web address but for right now we're just
running it on localhost which is the
address of whatever program your server
and pour a Taytay and remember in like
the fort first tutorial we set
everything up so if we just try to
connect to it right now try to refresh
it it says this webpage is not available
it's saying that because remember this
is pretty much our server and our server
is not running yet because even though I
just run it I stopped it so we pretty
much have no server or no program
running right here so check this out
whenever I run it it says server is now
running and this program is now
listening for users to connect so now
what look what happens when someone
connects with it it prints out here is
some data why did that happen well check
it out
so it was pretty much listening for a
user to connect and whenever they
connected it just log out a user made a
request and then it printed the URL of
pretty much what webpage they were
trying to access so it says okay user
made a request and the user made a
request favicon hmm you see I only
refresh the page once or try to connect
it once so why did it make two requests
and this is the thing I wanted to point
out and it tricks a lot of people up
whenever a user connects to your
computer or excuse me whenever a user
from wherever they are they try to
connect to your server what your browser
does is it first sends a request for
whatever page they are looking for in
this case just the home page and it also
makes another request behind the scenes
for the favicon in other words this
little icon right here you see the new
bus and is like a little um red square
with the arrow and github is like a
little black cat or whatever so a lot of
people arm whenever they're first
starting out they're like why is you
know it's sending like a double request
every time that's why so you know I just
thought I explained it so again moving
on whenever we get a request from a user
what we say is okay hop over to this
code and pretty much run this chunk of
code this callback method right here so
first I'm going to log something out and
then I'm going to set up my response
says okay everything's running good so
far I'm going to send you back some
plain text and then we just send them
back the text or whatever information
they were looking for so that is why we
got this little bit of code and again
I'm going to refresh this or actually
let me just hit enter and go there again
so now that would signify another user
trying to connect and look at
happens we now get another request from
another user so again there you go and
eventually we're going to be sending
back files instead of just little stupid
strings of data but now they understand
the basics of it oh yeah
that's that so thank you guys for
watching don't forget to subscribe and
I'll see you guys in the next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>