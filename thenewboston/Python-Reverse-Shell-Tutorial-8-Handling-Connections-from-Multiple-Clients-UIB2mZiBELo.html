<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Python Reverse Shell Tutorial - 8 - Handling Connections from Multiple Clients | Coder Coacher - Coaching Coders</title><meta content="Python Reverse Shell Tutorial - 8 - Handling Connections from Multiple Clients - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Python Reverse Shell Tutorial - 8 - Handling Connections from Multiple Clients</b></h2><h5 class="post__date">2015-12-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/UIB2mZiBELo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">Oh Artie hostas welcome back and in this
video what I'm gonna do is I'm gonna
show you guys how to set the function to
accept connections from multiple clients
now I was just gonna make a function
that did that took a bunch of
connections from whoever saved them all
to list but what I also wanted to do is
I wanted to make a way that this
function could actually reset all of
your connections so most of the time
you're just gonna have to run this once
and it's just gonna be listening for
people to connect but if you ever have a
bunch of old connections or I don't know
just a bunch of people you don't want to
connect to and you want to refresh them
all you're gonna run it again and it's
gonna be kind of a dual purpose function
so I'll just write accept multiple
clients and save two lists all right
looking good night looking good all
right so it's fine I'll just colleague
accept connections all right so the
first thing we're gonna do is we're
basically going to close any existing
connections now remember whenever we run
this for the very first time we don't
have any connections any addresses no
one connected to us but if we ever run
this again then it's just going to clear
out any existing connections so let's
say for see in all connections remember
we're going to store all of our
connections in here eventually
what we want to do is take each
connection and close it that's it so
it's going to loop through all the
computers that are connected to our
server and just close all the
connections now after this I just need
two more lines of code and that is since
we're gonna have a bunch of information
in these lists this is going to have
everyone's IP address and this is gonna
have the connection object I actually
want to just pretty much clear out those
lists so delete all connections and I'll
show you guys something else cool so if
you ever want to delete an item from a
list then you can either just do
something like that if you ever want to
delete a range of items in the list then
you can do something like this
and it's gonna be every item from two to
six and then if you ever just want to
clean out your list like a wipe it
cleann get rid of everything then if you
don't have anything then this is pretty
much signifying the start to the end so
pretty much just wipes out your list
real easy way to clean everything and
all connections and all addresses so now
all of our connections are closed and we
pretty much have nice fresh list to
start now remember whenever you run this
for the first time we're gonna have that
by default but it doesn't hurt to toss
it in alright so after we clean
everything out and we ensure that we
have a fresh clean slate what we're
gonna do is we're just going to start a
infinite loop so while one now this loop
is gonna run for the entire entirety as
long as this server script is running so
pretty much you know forever as long as
it's programs running so what we're
gonna do is just this we're just going
to accept a bunch of connections and
then whenever a client connects just add
it to the list and then later on we'll
be you know choosing one of them but for
right now that's all it's gonna do so
remember whenever they connect you get a
connection object and address
information from s except now another
thing I want to do is I want to set
blocking to 1 now I don't need that
right there alright so whenever I stop
blocking to 1 this is pretty much saying
I don't want any timeout I'm they're
pretty much the same as each other so no
timeout and now all I need to do is add
their information to the list so
whenever someone connects would you say
all connections we're gonna add the
connection object and also addresses a
pin address all right so whenever
someone connects we get some information
and then we just add each bit to the
proper list and then I'm just gonna
print out something so we know they
connected and everything worked fine so
just print a new line I'll say
connection has been established and
might as well print out their IP address
so we know who just connected so address
0 and remember this is their IP so
remember the address information is
actually broken up into the IP address
and port and we really don't need to
print out the port this is just a little
indicator to us so just print out the IP
address now if we ever get an error what
we can do is we can just print out pints
WTF mate
all right print outs how come I get all
right error accepting connections and
there we go so check it out we already
have a function to create a socket bind
it and accept connections now the
important thing we need to remember is
this all is going on our very first
threat so this is pretty much a complete
program so what does is it sets up the
sockets it says ok we have the ability
to connect with other computers and then
this is just gonna run forever in the
background and all its gonna do is it's
gonna listen for someone to connect and
save their information so we're gonna
kick that off for thread 1 thread 1
taken care of so in the upcoming
tutorials I'm going to show you guys
what threat to is gonna do basically
we're gonna say ok whenever we're ready
look at all the people who connected
we're going to choose one from the list
and then we're gonna say you know what
I'm going to connect to that machine and
start sending it commands so pretty
stinking awesome I'll see you guys next
video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>