<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>C Programming Tutorial - 47 - The Heap | Coder Coacher - Coaching Coders</title><meta content="C Programming Tutorial - 47 - The Heap - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>C Programming Tutorial - 47 - The Heap</b></h2><h5 class="post__date">2014-08-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Buq071iqYAM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright guys so up to this point the
memory that our program was allowed to
use was pretty much limited by whatever
variables we declared and what I mean by
that that was kind of a weird sense so
in the last tutorial we made a simple
array called movie and we put 20 and
what this means is that whoever runs
this program they can type in the name
or the title of a movie and they can
have up to 20 characters so pretty much
whatever variables we make reserves a
memory on our computer and that is what
our computer program has access to
however this creates a huge problem
whenever you're talking about computer
programs and that's this what if you're
running a program and you need more
memory than your variables reserve well
this occurs because say you made a
program I don't know let me think of
something like for business owners to
keep track of their employees well you
don't know how many employees that owner
is going to have because you're going to
have five is you're going to have 8,000
well we actually need to know this
before we start making these variables
because it would be really handy so that
is why I need to teach you guys about
something called the heap now I want to
explain one more concept and exactly
what the heap is so all of the programs
that are running on your computer right
now actually if I do
control-alt-delete then I and show you
guys the programs it's probably going to
mess with my screen recorder but
basically all of the programs that are
relevant running and all of the memory
that is being used up right now only
accounts for a certain percentage of my
computer's memory and you can actually
see it right here
see I'm only using 22% of my computer's
memory right now everything else is a
leftover memory that my computer is not
using this is called the heap and with
this extra memory what you can do is you
can access it with your program do
whatever you want to do with it and then
give it back to your computer when
you're done with it
pretty freakin cool so it's it's pretty
much like extra memory that you can
borrow I probably should have just said
that what it saved me like a minute of
talk
but now you guys really know what it is
so in order to use this extra memory let
me go ahead and now show you guys the
two simple functions that you need to
use and in the next tutorial I'm going
to be showing you guys an actual useful
program but for now let's understand the
concepts so we'll say we'll make um
actually I probably should just code all
of this real quick but pretty much right
here
it creates an integer pointer and it's
going to point to the first item in the
heap so after this what you can do
something like this so this points and
we'll say that this is just to store
like I don't know like the points of
players on my team or something that's
what was going through my head and let
me type the syntax out first because if
I try to explain it it's not going to
make any sense so int guys probably
already know what that means in this new
one Malik what the heck is that five
times sizeof int and it might as well
type the rest of this all right so what
I just said let me give myself some
space to work with so what I just said a
few minutes ago is that the heat is the
leftover memory that we can borrow
whenever we need it and give it back
whenever our program ends
so first how do we borrow the memory
from the heap well what we need to use
is this function called malloc it pretty
much means allocate memory or get memory
from the heap so the only parameter this
function takes is how much memory do you
need well what we are doing first of all
is we're going to store a bunch of
integers in this memory so that's why of
course I use the in pointer makes sense
now I don't know how many bytes in
integer is and I don't know if it's
stored differently on different
computers maybe an integer is 4 bytes on
this computer maybe it's 8 bytes on a
Mac maybe an integer is 8000 bytes I
don't freaking know I don't freaking
care and it's not important because we
don't need that
type explicitly how many bytes integer
is we just say the size of integer and
if this if an integer is 4 bytes it's
going to return four if a float is eight
bytes it's going to return eight so this
um little bit of code right here saves
you from finding out how many bytes each
system stores and it's variables or each
type of variable now this right here
just says okay multiply however many
bytes of integer is by a certain number
in this case five so pretty much this
allows us to store enough memory or
allocate enough memory for five integers
so it looks really confusing but this
entire line now that we broke it down it
says okay go in the extra memory in a
reserved space for five integers simple
enough now the only other piece to this
little thing right here is this int star
so what this is basically as we know
before is it's int type cast pointer so
a typecast pretty much means treat this
as an int pointer and this pretty much
means that you need to use it whenever
you're storing int from the heap arm so
again you know what typecast does you
know what a pointer is and should be
pretty easy to figure out pretty much
this is an int typecast pointer whenever
we're storing intz use the in typecast
pointer whenever you're storing float
floats use a float typecast pointer
tomato tomahto so the first thing to
save memory is malloc the only other
function that is new to us is this free
so remember I said all of this leftover
memory in your computer
we're only we pretty much only need to
borrow it
for the duration of our program once
we're done with our program and we close
out of it oops
run program there once we're done with
our program we can give it back to the
computer so whenever we want to give it
back you just use free and then type of
course you see right here the name of
whatever you're allocating in this
instance points so sometimes we're going
to run programs and we're going to need
extra memory this
how you get that extra memory and this
is how you give it back so now that we
understand the very basic guys there's a
lot of crap to talk about concerning the
heap and this is actually the very very
basics of the heap but now that I
understand that I'm going to show you
guys in the next tutorial how to
actually build a useful program instead
of just you know talking about the
boring concepts but for now thank guys
for watching and we going to subscribe
and I'll see you later</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>