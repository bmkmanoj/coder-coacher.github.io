<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Stock Market Analyzer - 16 - Counting the Days | Coder Coacher - Coaching Coders</title><meta content="PHP Stock Market Analyzer - 16 - Counting the Days - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Stock Market Analyzer - 16 - Counting the Days</b></h2><h5 class="post__date">2012-01-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/HpXDHzvJYX4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all right guys tutorial number 16 let's
go ahead and jump right into coding so
the first thing we need to do is we need
to make an if statement so we want to
say okay if the number of rows equals 1
and remember to use two equal signs here
if number of rows is equal to one then
that basically means tomorrow does exist
so if tomorrow does exist then we want
to go ahead and grab the data from it so
in order to grab I'm just going to go
ahead and use that fetch row so row I'll
just in this one row two cents and
remember we only have one basically
result we don't need to loop through
anything because this is ensuring that
there's only one result whenever we made
our query so Row 2 equals in order to
get the data I'm just going to go ahead
and use mysql fetch row and what this
pretty much does is fetch the row from
where's my results result to right here
so it's going to fetch a row from that
now i want to store the date what do we
query the date and the percent change
for tomorrow or the following day so i'm
just going to call it tomorrow even
though it's really the following day and
not like tomorrow like today's january
nine tomorrow january 10th i'm just
going to call it tomorrow date but
probably the best thing date now i want
to mention this whenever you use this
mysql fetch row it's going to return to
you an array now it's going to return
you an array in the data isn't an
associative array so the very first
piece of data is 0 the second piece of
that is one there is no third piece of
data because we only got the date and
percent change so whenever I do this
remember my array is stored in row two
this is actually an array so in order to
access the first piece of data just go
ahead and pass in 0 and we know this
because it's basically the order where
you made your queries so this is the
date and I'm going to sort in variable
called Tom date
and I'm actually just going to go ahead
and copy all this crap right here and
Row 1 Row 2 piece of data number one
which is actually the second piece of
data is going to be the percent change
so if I just go ahead and copy this I'll
store this in variable called percent
change and now what i can do is i can
actually use that information so let's
go ahead and while we are still inside
this if statement we want to make a
separate if statement so if tomorrow's
percent change is greater than zero that
means that the following day the must
the stock price a must have went up so
let me go ahead and grab this variable
if tomorrow's percent change is greater
than zero then the price of the stock
has gone up so what do we want to do we
want to add 1 2 next day increase so let
me just go ahead and copy this and add a
little + + add one to that so whenever
the stock goes up we want to add one to
this counter right here another thing
that we want to do is we want this sum
of increases to pretty much be the total
of how much of a change is there because
you know if it goes up one percent
that's good if it goes up fifteen
percent that's even better so later on
we want to use the sum of increases not
determine how many times it went up but
how powerful was that change I think
that would be a good way to prescribe or
describe it I said prescribe it sorry I
got medicine on my head so basically the
sum of increases plus equals the
tomorrow's percent change just like that
so now I've got to get rid of my dumb
old thing right there and now what I
wanted to do is add one to the total now
the total is basically just that
counting variable so basically if
tomorrow's percent change is greater
than zero then that means that the stock
goes up tomorrow so whenever the stock
goes up we want to add one to the
counter add whatever percent change it
was to the sum of the increases and also
add another counting variable to the
total
now what we want to do is we want to add
an else if and we want to say else if
tomorrow's percent change is less than
zero and this means okay now if the
stock goes down tomorrow or the
following day then what do we want to do
well we basically want to do everything
but in Reverse so let me just go ahead
and copy these paste them right there
and put the next day decrease will add
another counter right there some of
decreases and we don't do anything on
the right-hand side because that percent
change we already factored in it's going
to be negative because it's less than
zero so this is going to end up being a
negative number and this is going to end
up being a positive number but
nonetheless we add a total for
accounting variables and the last closet
we're going to make is a simple else and
what this is going to say is ok if the
if the following day it didn't go up and
it didn't go down well then it must have
had no change at all so let me go ahead
and where is my next day no change go
ahead and paste it right in there and
for this I'm just going to go ahead and
put well I totally lost my train of
thought right now next day no change
plus plus I just zoned out started
thinking about cough drops it's pretty
weird and I'm going to add one to my
total right like that so basically in
this story what we did is we tested the
following day and said ok the following
day if it goes up then add whatever I
need to to my counters the following day
if the price goes down then take care of
that and also if it doesn't change the
following day then we just want to keep
track of that debt as well so in the
next story where we're going to do is
actually let me see if I have time I
don't know in the next story I'm going
to be doing all my other weird
calculation so thanks for watching to
subscribe and I'll see you guys later</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>