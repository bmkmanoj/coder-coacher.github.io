<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Beginner PHP Tutorial - 178 - Auto Suggest Application Part 4 | Coder Coacher - Coaching Coders</title><meta content="Beginner PHP Tutorial - 178 - Auto Suggest Application Part 4 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Beginner PHP Tutorial - 178 - Auto Suggest Application Part 4</b></h2><h5 class="post__date">2011-04-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/A1Ug1a7aZgQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so now what we're doing is we are
we're checking for a connection to our
MySQL server then we're checking for our
database so just for now I'm going to
echo out okay so let's go back and check
if this is working I'm going to just
start typing something in here and you
can see that okay is displayed so that's
absolutely fine we are connecting to our
database and our server in our database
correctly so now what we need to think
about is the queries that we're going to
perform on our table so let's just go in
go ahead and go in here and I'll explain
a bit about the query we're going to be
using the like keyword which is inside
our SQL query and like is going to take
is going to use a percentage sign to say
do we want to check if it's like from
the left and the right hand side so it
could be let's say we could type a into
the search text now Alex Garrett has an
A and a Oh Garrett has a couple of days
in Billy Garrett has an A in Craig
Malcolm has an A in and so did all the
other records so therefore these would
all be returned now let me just show you
what that looks like
that looks like like and then a so in
other words our search text so search
text equals a our query is going to look
a bit like this obviously there's going
to be more to the query so we're
creating a full query but we would
retrieve all results because all results
have an A somewhere in it if we were to
do this this means search text from the
start and then anything afterwards so
what we're doing now is oh we don't save
that what we're doing now is is we're
searching for a and then we could say a
el e so we're searching a le than
anything else
oh don't save it again so um so yeah
this is the way we're going to do it
we're not going to use a percentage sign
at the end of each one
but we are going to use one at the end
to correctly display our search results
because we don't to be searching you
know with keywords inside of our words
if that makes sense if not you'll
understand a bit later and there is
another tutorial on this that I've
created so you can go and have a look at
the like the like keyword so let's start
creating our query let's go ahead
straight start creating it I'm going to
say select and what do I want to select
from the database I want to select the
name so if we go into our database we've
got the name here so I want to select
the name and we're selecting from the
table is names so let's go back into our
database have a look at that we've got
names there and then what we're doing is
we're saying we're name oh we're name
like remember I said now usually you do
this if you want this if you want to
search for a keyword inside here but
what we're doing is we're just saying
like and we're specifying the search
text and then the percentage sign
afterwards so is searching for anything
in the front while we're searching for
us specific in the front so a le would
produce Alex Garrett and Alex Malcolm
and then anything after that otherwise
it would just be an exact match so we
create this as a wild-card it's called a
wild-card so we need to think about
security in here as well so let's escape
that there and re concatenate that on
there and we need to oh no sorry let's
get rid of that and put that back in
there okay so now what we need to do is
we need to say MySQL real escape string
I do have some videos on SQL injection
that you should have a look at if you
don't understand what this function does
it basically protects protects against
SQL injection by escaping certain
characters inside of this string now we
can actually run the query so query run
equals MySQL query and we've just simply
run that query so now what we can do is
we well what we need to do is we need to
return a list
of all names retrieved from this
statement so if I type a there will be
it's going to count will be one two
there'll be two names retrieved because
if we start with an a anything after
that
is a wildcard so we've got a for Alex
Garrett and a for Alex Malcolm if we
type a le X for example these two will
still be returned if we type a le X
space G then only this record will be
returned because we're matching this
part and the rest of it is a wild-card
so hopefully now that makes sense if you
didn't understand before so we need to
use a while loop as we've done in some
of my previous tutorials we've looked at
creating an array from our query from
the results so I'm going to say while
query row equals mysql fetch associative
now what this function here is going to
do is fetch an associative array from
the records that we've returned from
this query and we specify the query
inside of it just like that so now what
we can do is we can access each element
of the returned results so I can say
just print out the name obviously we're
not selecting the ID from the table here
so we're just going to have access to
this name so let's echo out name equals
so we're just basically setting the
variable called name here so name equals
query row remember we've set the array
as this variable here so we're using
square parentheses as an array and then
we can just type in name there because
it's an associative array so this value
here of name will match our field in
there so hopefully that makes sense as
well and we're going to append a break
on X we want it to look nice when we are
displaying it as the user is typing
otherwise they're all going to be in
line okay so that's about it let's go
back to our page and refresh so I'm
going to start typing a character I'm
going to type a hopefully I actually get
something back
no hmm what let's go back and have a
look at what we might have done wrong
okay yeah we're not actually outputting
anything that would help say yeah I've
assigned em the value of the name from
the database to this variable name and
we can simply stick echo in front of
that amount just display out to us</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>