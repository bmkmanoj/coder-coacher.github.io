<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>jQuery Tutorial - 135 - Creating a day/hour/min/sec countdown plugin | Coder Coacher - Coaching Coders</title><meta content="jQuery Tutorial - 135 - Creating a day/hour/min/sec countdown plugin - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>jQuery Tutorial - 135 - Creating a day/hour/min/sec countdown plugin</b></h2><h5 class="post__date">2011-08-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ryB1mkigmo8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so using settings and date we can now
grab the date that the users passed so
now that the options are out the way we
want to go ahead and actually create or
outline the function that we're going to
be running every second which I'm going
to call count execution so function
count execution and this will be our
function that essentially takes the day
and makes a calculation from it and
works out everything basically in places
that inside of the div so this is going
to run every one second and because we
want it to run every one second down
here a bit later on we're going to be
creating an interval so what I want to
do is just before I do anything here is
go ahead and take the this selector and
apply it into its own variable so I can
use it globally so I'm gonna say var
this underscore cell or just get rid of
that they're equals
this so that's basically my this
selector remember later on we're going
to need to change this dot days dot
hours dot means dot seconds for for each
value and what we're going to do inside
of this function which we're just going
to go ahead and execute down here is
we're going to convert the date that
we've supplied as a string into a
timestamp so I'm gonna set a variable
called event date and this is going to
be equal to date pass and in here I just
want to supply the string which remember
is settings date now I want to divide
this by a thousand and the reason for
this is that it will give us in
milliseconds and we don't want it in
milliseconds we just want it in seconds
by all means if you're creating a
counter with milliseconds then this
would be fine but in this example we're
using the seconds so what I want to do
is now go ahead and let's just go and
alert the house so
let's yeah that's just inside of this
function alert out event date so we'll
see what's been done with our string
that's been passed you can see that it's
been converted into a timestamp okay so
now that we have the timestamp we can go
ahead and grab the current date so I'm
going to create a new variable called
current date and this is going to be
equal to jQuery or sorry we can use
dollar sign now and what we want to do
is that would be with brackets because
it's a function divide that by a
thousand as well because this will
return in milliseconds and we don't want
it in milliseconds we want it in in
seconds but we want to floor this value
so I'm gonna go ahead and say math.floor
and that will just floor this value so
it will round it to the nearest whole
integer so let's go ahead and alert
event date and then a space and then
current date so we'll see that these two
values will differ we've got the event
date here and then the current day here
now to work out the amount of seconds
between the two of them we want to go
ahead and create a new variable called
seconds and that's going to be obviously
the event date so the event date that
we've specified - the current date so
this will be sorry not with brackets so
this will be the amount of seconds
between the current time and the date
that we've specified in the settings so
pretty simple we now need to go ahead
and work out the days and hours and
minutes but for each time we do this we
need to make sure that the other values
will update so for example when seconds
gets to zero and then starts counting
from 59 we want to make sure sorry No so
if days is say one day we hit we you
know countdown our hours then we need
days to change and if the same with
minutes if we if minutes gets down to
zero we want hours to change if seconds
gets down to
we want minutes to change so we need all
these values to be updating it's all
well and good grabbing the seconds and
you know making the calculations but we
need to actually make sure that each
each time each value updates so let's go
ahead and do days first let's say days
is equal to and I'm just gonna pull this
over I will write out first we
essentially want to take the seconds and
and divide it by 60 times 60 times 24 in
order to gain the amount of days we have
so that will give us it's just really
standard programming knowledge and we're
gonna floor this value as well so I'm
going to say math.floor and inside here
we want to take the seconds and we want
to divide it by 60 times 60 times 24 so
now days represents the I will just line
all these up days now represents the
amount of days from the second okay so
we'll go ahead and just alert out days
and you can see that let's just refresh
you can see we've got one and the date
that we actually specified in here is
10th of August today it's the 8th of
August and I've specified this at 12
p.m. so it is in fact one day and then
it will be something hours so we now
know that this works properly if I was
to go ahead and change this to say the
15th of August when we refresh you can
see we've got six days until the 15th
because it's the 8th today and then
we'll add on a few hours for that so we
know that the day's works now however
what we want to go ahead and do is
specify the hours and minutes but we
need to make a calculation bit of the
seconds before we calculate these</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>