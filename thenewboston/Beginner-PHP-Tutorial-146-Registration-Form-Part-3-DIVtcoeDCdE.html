<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Beginner PHP Tutorial - 146 - Registration Form Part 3 | Coder Coacher - Coaching Coders</title><meta content="Beginner PHP Tutorial - 146 - Registration Form Part 3 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Beginner PHP Tutorial - 146 - Registration Form Part 3</b></h2><h5 class="post__date">2011-04-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/DIVtcoeDCdE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so we've completed our form validation
essentially and if our form isn't filled
we keeping the values anyway in case
well so users don't have to re-enter
every bit of data now what we want to do
is we want to compare the two passwords
so down here after we validated the form
we need to say or partly validate it we
need to say if password doesn't equal
password again do something otherwise
complete the rest of the registration so
in here if it doesn't equal we need to
say and passwords do not match okay
otherwise now we say ok so let's um
register at PHP right so I can type my
username in there let's go down into our
first name and surname first so I'm
going to type pass one two three and in
this one I'm going to type pass one two
so this is one less character next
therefore they don't match so let's
click register and we get the error
message passwords do not match so let's
try again
password oh no pass one two three pass
one two three click register it's ok
they match so now that we're okay here
we need to start the registration
process but what we need to do is we
need to check if the username already
exists in the database so how do we do
this now we need to create a query let's
just pull this down so we can have a bit
of space the query is going to be select
and we're going to select username from
so let's just pop this in prostrates
select username from users so remember
selecting let's just go back to here we
select username from users
where remember the trailer so where
username equals and now what we can do
is substitute in the user name that the
user has supplied here so you can say
user name now if this returns a row
what's going to happen is it means that
the user name already exists we're
returning a row which means we've
successfully selected something where
the username exists already
so now let's run the query let's click
put that into a new variable so query
run equals mysql query query and what we
need to do now is we need to count the
amount of rows so we say if MySQL num
rows for query run so remember the query
running is equal to 1 or is greater than
or equal to 1 in in in the in the sense
of this login and registration system it
will never be 2 or 3 or any any higher
so we can leave this equal to 1 because
remember this process the whole point of
it is to not duplicate the username so
if the username equals 1 do something
otherwise do something else in the case
that it does equal 1 we need to say the
username concatenate on username that
the username supplied already exists
okay so otherwise we're saying ok so at
the last part of our validation where
we're validating we're now not the form
but whether the username exists so let's
go back to our register page blank that
let's type in a username Alex password
pass 1 2 3 pass 1 2 3
first-name Alex surname Garrett now when
I click the register button we're going
to do all the checks with all your
spoken about but now we're going to
check if the username exists so let's
check if that works will click register
oh it says ok
okay so let's double check everything
select run in that query if my SQL query
numrows equals one else okay okay so
let's test how query because it doesn't
seem to be working as of yet let's pop
that into our SQL tab up here to see
what happens okay so let's paste that in
and click go returned an empty result
set so oh no sorry that's going to be
equal to Alex click go okay so we are
returning that value and let's think why
we're not getting any results
okay so let's echo out the username here
just to go along with the process as we
do it so let's go back to our page here
and type in our password again
it's okay so obviously there's a problem
without query somewhere because that
username should be fed in properly now
let's try to I mean it might be
something simple that I'm completely
missing let's try and echo out my SQL
num rows of our query that we've run see
what that produces okay we're not
getting anything from that so that means
that no rows are being returned okay um
yeah right okay okay so what I've
stupidly done is perhaps you should
learn from our mistake is we have this
lovely file up here called connect dot
PHP which I haven't actually included so
all of this is absolutely well just the
query is useless so let's go up and I'm
going to require connect dot PHP so I
can connect to the database and
therefore perform these operations
correctly so let's go back here and
we'll re-type in pass one two three pass
one two three click register the
username Alex already exists</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>