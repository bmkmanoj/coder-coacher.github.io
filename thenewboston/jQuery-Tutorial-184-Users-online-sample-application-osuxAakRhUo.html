<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>jQuery Tutorial - 184 - Users online sample application | Coder Coacher - Coaching Coders</title><meta content="jQuery Tutorial - 184 - Users online sample application - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>jQuery Tutorial - 184 - Users online sample application</b></h2><h5 class="post__date">2011-08-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/osuxAakRhUo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so we'll go ahead and start to write out
the the code in just a moment now we've
outlined our functions and we know what
we're doing inside this file here we
want to go ahead and actually send the
request to the file so first of all when
a user enters we want to put the user
name or send the user name over to users
PHP so we use a dot host HTTP request or
a post HTTP request sorry and this will
take two parameters we're not going to
have a callback function because we we
don't we're not required to actually
call back any data so we need two
parameters you notice I've used curly
brackets here this is for the variables
that we're sending and this here is the
file we're sending to so users dot PHP
is inside let's just take a look is
inside a directory called PHP this is my
directory we've got index dot PHP here
and we have PHP folder here and uses it
is inside there so we're sending this to
PHP forward slash users PHP and the
variables were sending when we're
sending two different variables the
first one is the username which is equal
to user underscore name remember if
you've looked at a post request before
this is the variable name we pick up in
PHP and this is the value we're giving
it I II this here the second variable is
the action and in this case the action
is join or joined or say okay so now
that we've done that what this is going
to do is it's going to send the user
name to users dot PHP with the action
joined and we want this to be placed
into the database so quite simple let's
just go ahead to users dot PHP and we'll
start to write this out so the first
thing we want to do is say if is set
dollar underscore post user underscore
name and we also want to check for
dollar underscore post action
so in ext jeaious we've sent user name
called user name and action that has the
value joined so that's username and
so if these are both are both set I have
they both been passed to this page we
want to go ahead and register the user
the first thing I'm going to go ahead
and do though is just set this into a
variable I'll set these two into
variables so the first one is user
underscore name and that's equal to
dollar underscore post user underscore
name and the second is action which is
dollar underscore post action so let's
just go ahead and tap these over tap
that over there okay now you'll notice
that I'm not sanitizing username I'm not
performing any you know HTML entities
function on it or the MySQL real escape
string function on it because our
functions are going to handle that for
us and the reason for that is we would
always use MySQL real escape string or
any other sanitization inside of a
function before we place it in the
database and this just means that if we
reuse the function we don't need to
sanitize the data ie user name before we
send it to the function so that's just a
little tip there as well okay so after
we've retrieved the username in the
action we want to check the action
obviously we're passing three different
potential actions to this users dot PHP
file we're either passing joined here
list here or left here so we want to
pick up on this action variable so I'm
gonna say if action is equal to joined
in this case this is the only one we
have yet we want to go ahead and we want
to call the user joined function and we
want to pass the user name to it so
we've outlined user joined up here and
now we've called the function once the
action is equal to joined now just a
quick note the reason I'm using
functions is simply because it keeps it
tidy at the top of the page and then we
can just call the function down here
instead of all the code that is going to
go in here being down here it can be
kept up at the top so the once the user
has joined we call all the action joined
has been stamped we call the user joined
function so let's go ahead and fill in
what we need to write in user joined
so the first thing to do like I said is
to sanitize the data so I'm gonna re
reset some data into this username
variable and this is going to be just
user underscore name so this is a new
variable or we're rewriting the existing
variable with this value going into here
and we want to go ahead and perform some
sanitization so misc
MySQL real escape string that will
somewhat protect against SQL injection
and HTML entities will mean that we
convert HTML entities to well we convert
HTML scripting or tags or anything to
entities just so it's not displayed as
HTML and it's displayed as formatted
text there's just normal text so now we
want to go ahead and place this name
inside of the database so let's go ahead
and use MySQL query function inside here
we want to insert into let's go ahead
and look at our table so you can
reference our field names so insert into
users so users and that's values and the
value there's only one which is user
name so now this is this will actually
be working let's just go over what we've
done already so when the user enters
they enter their name this is sent in
the form of the variable username to use
a stop PHP here with the action joined
inside users dot PHP we pick up on the
fact that the action equals joined which
we've checked for and we've reassigned
into a variable called action if the
action does equal join we call the user
join function and what this does is it
sanitizes the data and then places this
name into the database table so let's go
ahead and browse our database table
you'll see that there's no records there
MySQL returned an empty result set when
i refresh the page I have the option to
enter my name so now the process starts
so I'm gonna go ahead and type in Alex
and press Enter
obviously we don't have any day to
relate to the screen because we haven't
started actually retrieving the list
data yet or the list of names but when
we browse our database table you can see
that my user name has been placed inside</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>