<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Android App Development for Beginners - 52 - Adding and Deleting Rows | Coder Coacher - Coaching Coders</title><meta content="Android App Development for Beginners - 52 - Adding and Deleting Rows - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Android App Development for Beginners - 52 - Adding and Deleting Rows</b></h2><h5 class="post__date">2015-01-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/GAyvtK4cWLA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright guys welcome back to another
tutorial and in this video actually
before you started I want to tell you
guys a little story I don't know if you
guys have been noticing my in like the
last ten videos I've been breathing
really heavy actually have been having a
hard time breathing and also I know you
guys can't see my house but my house is
been getting really dusty really quickly
all of a sudden like I would clean it
one day and then the next day it would
just be dusty again and I'm like alright
I know I'm not that dusty of a guy so
what the heck so when my last video was
processing like five minutes ago
I had an idea to go down in my basement
and I looked in my it's kind of like my
heater where all my air goes through and
the filter for my air duct system it was
caked in dust so as soon as I open the
metal door and I looked at I was like
holy crap that is what I've been
breathing so even now you guys can
probably hear me I just changed it like
five seconds ago but uh yeah definitely
found the solution to that so good
health here I come and it'll probably
take a while for you know um like all
the fresh air to run through and for
thus to collect but public service
announcement check your air filters for
your duct system even if you've been on
like breathing normal because I don't
know all right Wow I wasted a minute and
a half telling you about my breathing
problems so let's get started with the
tutorial so again whenever your database
is first created it calls this and all
this does is it creates a new table so
on upgrade means okay I changed my
database structure or I just want to
upgrade my database for something so
what do we want to do in here well what
we need to do is we need to execute a
query and essentially we're just going
to say drop the current table or delete
the current table and then create a new
one so hopefully you would have new code
in here maybe you would like more
columns or less columns if you wanted
less columns but the first thing we need
to do is delete the current table
so drop table if and this needs to be in
quotes because it's a string
alright so drop table if exists and
after this you just rate the name of
your table so table products so this
right here drop means delete in SQL
language so this is going to delete the
table and in the next line of code
obviously if you just left it like this
you would have no table to work with so
what you need to do is you would
actually need to call that on create
method again in pass it along DB because
it takes this parameter so again that's
all we're going to do on an upgrade
delete the current table and then create
a new one with the new structure
whatever it is alright so we took care
of all the housekeeping stuff now what I
want to do is I'm going to add three
more really easy methods now remember I
said this class right here is for
working directly with your database so
we're going to add one method for adding
a new row which is essentially a new
product to the database we're going to
add another one for deleting a product
from the database and I'm going to add
one more and the last method is just
take your database and convert it to a
string now the reason I want to do that
is because then we can print it out
right here alright pretty cool so the
first thing is hold on a sec just take a
drink
Wow that tastes good all right so where
was I all right so let me just say add
um a new row to the database I probably
should start commenting all of these
methods I think I'll do that from now on
probably a little bit easier to follow
so public void add product now whenever
we add a new product to a database what
we're going to do is we're actually
going to pass it in a product object
because each of these objects is going
to have an ID and a product name so what
we can do is we can just put product
product and then we can extract the
information and it'll be a lot easier to
work with that way so what we want to do
here is write content values now content
values is a really handy way it's
actually a class that's built right into
Android but it allows you to set a bunch
of different values for different
columns and then they allow you to
insert all of them in one statement so
it just makes inserting rows into your
table really quick and easy if you don't
really follow along with it you will
understand in like two seconds
by the time we get done coding this
method so right now I'm just going to
store it in a variable called values
it's essentially a list of values that's
all so new content values all right so
the first value we want to put in here
is put in as you can see it takes two
parameter the first one is what column
do you want to be storing this in well
we'll just say that the product name is
all we're worried about and the second
one is what is the value that you want
to put in that column so whenever we
pass in a product what we can do is we
can actually call a method called get
product name and that's going to
retrieve the product name for that and
of course doesn't take any parameters
so essentially we're going to put the
products name into that column now we
actually do need to do a couple more
things first in order for this to work
the first thing is we need this object
right here this object is pretty much
our key to the database so we can just
treat it as dB and set this equal to get
writable database so again this DB
symbol right here is now equal to the
database that we're going to write -
simple enough obviously now instead of
just calling execute SQL there's
actually some other methods you can call
on your database
one of those is insert now the insert
takes three different parameters and
actually if we if you ever do this if
you ever want to know the parameters or
more information about a method select
that method and hold down control and
hit Q on your keyboard so the first
thing is the table the second one is not
we actually don't even need to worry
about the null second parameter and the
third one is the values and it takes it
in content values oh look at that we
have that right there so the first thing
is the name of your table which is table
products the second one is that optional
no I'll tell you guys about this in
probably the next tutorial and the third
one is a list of values oh well look at
that we only have one item in here but
it'll do for now now this line of course
is going to insert a new product or a
new row into your table and the last
thing that we have to do is just for
housekeeping we need to close your
database to say okay Android we're done
with it you can have that memory back so
after we add the functionality to add a
product again that's going to happen
whenever they click Add what I want to
do now is make the method to delete
product from the
database that is a lot easier whenever I
add those comments give yourself some
room
alright so public void delete product in
here we're going to pass in string
product name alright so this is how
we're going to delete products all right
so whenever let's say that our list of
products was tuna ham and meatball so if
they ever want to delete a product they
can just type meatball right here and
click delete and then it's going to
search your table for meatball and
delete any meatball instances so again
if they ever want to add something type
the name and add it if they ever one
delete something type the name of the
product they want to delete and hit the
lead so therefore we pass in product
name which is going to be whatever they
typed in and what we're going to do
after this is first actually we can just
copy that whole thing I'll need to
explain that again get a reference
database just like before and we can
just call DB execute SQL there are
different arm methods that you can call
on this object but this is probably the
easiest way now in order to delete a
single row from a table we don't want to
use drop because drop means the lead the
entire table what we want to do is we
want to delete from and then after this
you need the name of your table which is
delete from this table where and then it
says what Clause do you want to use to
the leaf from well we just want to
delete
wherever the column product name and
actually let me make sure I don't type
this weird
all right so we want to do equals so
equals and then we want to escape that
and product name so one second I'll talk
you guys through I just want to make
sure I don't mess anything up because I
could potentially do that it looks
pretty good right now so again whenever
you want to delete something from your
table you're going to hit delete from
this table wherever the product name is
equal to whatever product name we passed
in which is going to be whatever they
typed in and of course and your SQL
statement with a semicolon
and this semicolon is just for ending
this line of code right there</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>