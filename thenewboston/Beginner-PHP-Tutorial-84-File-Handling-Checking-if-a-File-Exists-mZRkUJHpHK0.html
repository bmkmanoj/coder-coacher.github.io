<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Beginner PHP Tutorial - 84 - File Handling: Checking if a File Exists | Coder Coacher - Coaching Coders</title><meta content="Beginner PHP Tutorial - 84 - File Handling: Checking if a File Exists - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Beginner PHP Tutorial - 84 - File Handling: Checking if a File Exists</b></h2><h5 class="post__date">2011-04-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/mZRkUJHpHK0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi this is Alex from PHP academy' dog
back with another video for the new
Boston now in this video we're going to
be looking at checking whether file
exists before we actually create it on
our server now why would we want to do
this in a real life application well
let's say you had a file upload form and
you were allowing users to upload
specific files and maybe storing them in
an area that they can be viewed through
the public or your own personal use so
you may be asking users to upload for
example CVS or you may be asking them to
upload images that contribute to part of
a website so you're going to have have
specific location or locations that
you're going to store images in however
if you're generating random say numbers
for the for the image file names they
could still match however random you
create a number to be there's always the
possibility that it could match so for
example what we could do is create a
file name on upload so if you haven't
already looked at uploads go back and
have a look at that before you probably
focus on this tutorial because you know
you need to understand how we use the
move uploaded file function to rename
our file once we've moved it from a
temporary location your file name might
be round number between say a thousand
and 9999 and then you might have the md5
hash of the original file name so the
file name might be called image JPEG so
md5 hash file name say
Oh Arthur original and then like let's
say you might have another random number
between a thousand and 9999 so the md5
hash is basically going to create a 32
character hash from this here so let's
go ahead and echo out the file name and
see what result we get first of all okay
so this is the random filename that we
may have generated to save on our on our
on our server so let's say the user the
first user uploads an image called image
jpg everything's fine the image is
stored however what happens if say a
thousand users later someone else
uploads in the mix could image jpg and
this random number here and this random
number here happen to equal the same as
what's already been stored here and
what's already been stored here so
there's a way we can deal with this and
we need to use the file exists function
so we can check whether file exists
before we perform an action so let's go
and have a look at this function itself
so the functions could file underscore
exists this is how we call the function
and the parameter that we give is the
file name itself so for example I could
say file exists file txt or image dot
jpg etc etc etc so what I'm going to do
is in this example I'm going to check
whether specific file exists and if not
I'm going to create a text file so we're
not quite uploading images or documents
at the moment but you can apply this
example to your own own web application
so let's go ahead and say if file exists
I'm going to specify a file name in here
we'll do that a bit later then what
we're going to do is not create the file
so in here we're not going to create the
file otherwise we're going to create a
file so the file is going to be called
file.txt
so what we need to do is we need to say
if file exists file name echo file
already exists and what's going to
happen is this file exists function is
going to return a true value if the file
already exists and it's going to return
a false value if the file does not exist
so if the if this is returned true it
means that this file txt is already
present in our directory here in this
file hand handling directory but we can
obviously specify different directories
so you may have a dir forward slash file
for example the folder might be called
dir so you can use directories within
this file exists function as well so if
the file does exist if this returns true
we're going to echo to the user file
already exists otherwise we're going to
say handle equals F open if you haven't
already looked at file handling have a
look at this before you try to
understand this code then we want to F
open file name for writing we want to F
right to handle and I'm just going to
write nothing inside for example and
then we want to close this file by its
handle so what we've essentially done is
we've checked this file file dot txt
exists so if it doesn't really exist
we're just going to say to the user file
or it already exists so we're just going
to give them a error message otherwise
we're going to open up a file and this
is saved in the variable handle and then
we're going to write just the value of
nothing to the file so we're just
writing this text into the file and we
write opening using the right so what
this doesn't matter too much within this
example however if you've already looked
at creating files and writing data to
files this should make sense to you so
what we're going to do for this example
is we are going to click on file dot PHP
and then what we're going to do is we're
going to go back and see if the files
being created then we're going to go
back into file dot PHP and we should
receive a message saying the file really
exists because what file dot PHP is
doing is creating this file for us
let's go ahead and click on file dot PHP
so we've got blank so we can assume in
this example that the order in this sum
when we've run this page that the file
has been created let's go back and
refresh you can see that we've now got
file txt and we've written the value of
nothing to this now when we enter the
file dot PHP for the second time what
we're now doing is we're checking if the
file really exist so if file dot txt
really exists so now we can see if this
function is properly working so what we
already know that it's working because
we've run the second block of the if
statement let's go and check it anyway
so it says file already exists so this
is the file exists function in PHP
really useful like I said when you're
handling file uploads and you want to
check if a file name already exists just
to ensure that you don't overwrite</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>