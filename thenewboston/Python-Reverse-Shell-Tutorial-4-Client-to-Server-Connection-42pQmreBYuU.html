<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Python Reverse Shell Tutorial - 4 - Client to Server Connection | Coder Coacher - Coaching Coders</title><meta content="Python Reverse Shell Tutorial - 4 - Client to Server Connection - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Python Reverse Shell Tutorial - 4 - Client to Server Connection</b></h2><h5 class="post__date">2015-12-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/42pQmreBYuU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright guys welcome back and in this
video we're going to be making the other
piece of the puzzle and that is the
client now the client is going to be a
lot easier than the server because
remember all the client is going to do
is once it's running it's going to
connect to the server and then once it's
connected is just going to wait for
instructions and whenever it gets an
instruction it's going to run that
command and then it's going to take the
result and send it back to the server so
basically it's pretty much the
equivalent of this it pops open a show
but you can have it hidden if you want
and then it's just going to say ok I'm
connected to the server what do you want
me to do and then from the server which
is going to be us was just going to say
um type dir and hit enter so it types
dir hits enter and then all of this
output it sends back to the server so we
can see
so we're basically controlling someone
else's computer by giving it
instructions to basically tell it what
to do now what you actually need to
connect to a server is the IP address of
course that's how computers find each
other and for this little demo at first
I'm just going to be connecting to my
own local machine and if you don't know
your IP address if you type ipconfig in
the command line and hit enter then you
can get it there or you know I'm sure
you guys can figure out the IP address
of your own computer but there you go
alright so we're going to import OS and
again this just lets us xa access the
operating system and basically run
commands just like you would type them a
new terminal and who the heck is texting
me Gerard are write and import sockets
so we can connect the server and import
sub-process so this is basically what
you guys are going to be seeing in a
second these two things are going to
allow us to pretty much control the
operating system of the target machine
alright so just like before I can
actually probably copy some of this
she let me copy all of this alright so
we pretty much connect to it just like
we set it up on the server it needs a
host and remove this might be a little
bit easier to see understand this way
alright so there's our socket hey this
computer can connect with other
computers the host is 192.168.0.0 my
Windows machine but later on in the next
video or maybe not the next video maybe
in two videos or so I'm going to be just
typing in the IP address of a server
right here and that's all you have to do
change one little thing and everything
is going to work perfect so now we
create the socket we give the
information and now we can just bind
everything so as Connect remember that's
the host and port so we just connected
my own computer through this port and
it's all good and you can actually set
it up through functions but we already
saw that you can actually make this a
class it might be a little bit better if
you do some object-oriented programming
but I'm too lazy so whatever so now that
we have all of our information what I
want to do is I want to make an infinite
loop because basically once this program
is running is just going to keep
listening and listening and waiting for
instructions and are you kidding me like
a million people started texting me in
the middle of my video all right so it's
going to just keep listening for
instructions and the time that this
program ends is dependant on the server
so whenever the server closes the
connection that's when this loop is
going to break so whatever data it
receives is going to be equal to s
receive and then we'll just write the
buffer size so again this is data that
it receives from the server basically
what instructions were going to get it
and now I just want to do a couple arm
data checks and that's this
I want to check if the first two
characters are equal to CD now me do
this so all right so remember is going
to be bytes right now and we need to
convert it to a string and then we're
going to test if that is equal to CD now
the reason I do this is because most of
the time whenever we give it an
instruction like a dir it runs a command
and it has some results for you know it
to send back to us and also if we just
write like echo hey there you go we ran
the command it has some output send that
Apple back to us however check out what
happens when you're like CD dah
there is no output all we're doing here
is we're changing a directory so anytime
we want to move directories then we need
to handle this a little bit differently
than you know your standard commands so
what we need to do and in order to
change directories to reply Chthon then
you can actually write OS which means
access my operating system and run
change directory so from here if we ran
a command like that it would be the
equivalent of typing this so that's all
it's doing back in the Bucky so with
that being said what we can do is this
alright so this checks the data received
and looks at the first two characters
and sees if I here let me do this so say
that we have command like this coming in
CD Bucky so it looks at the first two it
says okay this is a change directory
command so now what I want to do is
actually get what's ever after that and
that would be three right there so it's
going to say okay what directory do you
want to move into and any characters
after this that's where it's going to
change to so again this is basically
where this is basically the name of the
directory
where we're trying to move simple enough</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>