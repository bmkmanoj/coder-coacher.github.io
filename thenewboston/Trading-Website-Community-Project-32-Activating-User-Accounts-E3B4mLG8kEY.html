<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Trading Website Community Project - 32 - Activating User Accounts | Coder Coacher - Coaching Coders</title><meta content="Trading Website Community Project - 32 - Activating User Accounts - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Trading Website Community Project - 32 - Activating User Accounts</b></h2><h5 class="post__date">2012-04-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/E3B4mLG8kEY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what is going on guys welcome to your
30-second PHP project video and in this
video what we're going to be doing is
we're going to be handling the page that
you know whenever we sent them the
confirmation email and gave them a link
to click on to finish registering their
account well this is the page that
handles the information pretty much this
is the page that we link them to so the
first thing that we want to do is we
want to include a link to the database
so this file right here can connect to
it so let's go ahead and include a link
and I probably could a copy this
includes / connect dot PHP now the
reason we even want to connect to the
database is because if everything goes
smoothly and they you know did it mess
up the registration or anything then
what this script is basically going to
do is it's going to take the information
from their temporary users database or
table and it's going to insert it into
the permanent users table and that way
we know that ok you have valid email
you're not a spammer you can go ahead
and use a site so I'm going to be doing
a couple things the first thing we're
going to do is validate the email the
email that we sent we want to make sure
it's an email and actually what I did
already is if you remember I hate typing
out regular expressions because they are
super long and complicated and I
actually need to you know kind of sit
and think about it i went ahead and i
typed out the whole thing right here and
what this regular expression is again
it's going to be available for a
download or you can just copy it right
now what this does is it just checks
whatever string was passed through the
URL and it verifies that it is indeed an
email format there are no weird symbols
you need that sign so on and so forth so
that's a regular expression where it's
going to pull the email from the URL and
verify that it is indeed an email format
and if so it's going to store that in
the variable email they say email email
and tomato tomahto same thing so the
next thing that we want to do is
remember two pieces of information we're
passing through the URL the email and
their secret key there
unique key specific to them so let's go
ahead and handle that key right now
finish up my if statement so we want to
check one of two things first does that
key exists did it indeed get passed in
through the URL so we just want to check
this set which pretty much means does a
variable exists and the variable
whenever grabbing it from the URL is
dollar underscore get and we name this
key in case you I don't remember now the
next thing we want to do is we want to
check the length of this key now since
we made this key using md5 hash all md5
hashes are 32 characters lung so what we
want to do is take the length of this
key and make sure it's equal to 32 so
what I want to do is actually put this
whole thing in parentheses because we're
going to be using a couple functions
here the first one whenever you want to
get the length of a string str le n
stands for string length now the
parameter takes is what variable or what
string do you want to measure so
actually I'm going to copy this baby
right here string length of the key and
what we want to do is we want to make
sure it's exactly equal to 32 characters
long if so then this is going to be true
and this is going to be true so this
code is going to run so what we're
basically doing is we just want to test
that they didn't you know try to hack
our website and enter any of their weird
own keys you know just trying to mess
around do anything stupid and by the way
on the top of hacking I want to mention
this I know that you know a couple
things are missing here this might be
you know vulnerable to cross-site
scripting or SQL SQL injection or maybe
you know for example my passwords aren't
hashed at the end of this series I'm
going to be going over the entire
website and making it one hundred
percent secure so even though you guys
are like you know what your passwords
aren't hashed right now I'm going to
wait to handle all the security stuff
for the
and because security is a topic that's
going to take multiple tutorials and I
just don't want a you know scatter
across I want to focus on it so that's
why I'm saving all the security stuff
going to get the website working and
then we're going to secure it that's the
way I make my websites and it's the
easiest way especially when I'm making
tutorials enough to teach you guys about
it so next what I want to do is I want
to set that variable that we pulled down
from the URL equal to the variable key
so let me just go ahead and copy this
cheat a little bit and we're going to
change this to key so in the next
tutorial we're going to be doing is
actually checking querying the database
and making sure that pretty much a row
exists where the email equals this and
the key equals that pretty much the
users information and we're going to be
moving it from the temporary table to
the permanent table so just remember in
this tutorial we pretty much validated
that it was indeed the correct URL and
the first step is complete and they
didn't try to hack our website so far so
grab the email from the URL and grab the
key from the URL and if it's indeed
valid information then store it in these
variables so now these variables should
be good so we're ready to move on to the
next part and we'll touch on that in the
next video so thanks for watching and
I'll see you then</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>