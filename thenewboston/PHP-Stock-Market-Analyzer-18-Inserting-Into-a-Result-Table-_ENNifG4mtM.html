<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Stock Market Analyzer - 18 - Inserting Into a Result Table | Coder Coacher - Coaching Coders</title><meta content="PHP Stock Market Analyzer - 18 - Inserting Into a Result Table - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Stock Market Analyzer - 18 - Inserting Into a Result Table</b></h2><h5 class="post__date">2012-01-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/_ENNifG4mtM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright guys welcome to another amazing
video of course and in this video what
we're gonna be doing is we need to build
one more small function actually we can
cut everything right up here but I want
to break it up into another function for
you know just simplicity and all this
function is gonna do is basically take
our results and we figured out
everything we need to here in insert it
into a MySQL result table so let me go
ahead and build function and I already
called it insert into result table so
I'll paste that right there and of
course it's gonna take some parameters
actually a lot of parameters now let's
see if I can remember everything the
first thing it's gonna take is the
company ticker and after this it's going
to take the next day increase so we'll
start coding this should I just coat it
and then pause the video now you guys
can watch me next day increase and then
it's gonna take next day increase
percent I'm just gonna name all these
variables the same for simplicity and
actually since this is moving off my
screen what I'm gonna do is man I'm
gonna have some long queries to okay I
think I'm gonna do something a little
bit weird I usually don't do this but
I'm gonna go ahead and code this
function and then I'm gonna talk you
guys through because I'm gonna have a
bunch of long stuff and it's gonna go
off my screen it's gonna be complicated
if my screen keeps moving for the
YouTube player so anyways that's what
I'm gonna do I'll see you guys in a
second alright guys so even though
there's like half a second in between me
saying that in me coding what I did is I
coded the rest of this script and
basically this function takes I don't
even remember how many parameters but
the first one is the company ticker and
that is just so we can you know
determine what company were working with
the next day increase Wow
can't even imagine the next day increase
is pretty much how many days did it go
up the next day increased percent is the
percentage that I went up to like eighty
percent the average increased percent
was something like I don't know average
increased by average of five
or 7% or something the next day decrease
the next day decreased percent and the
average decrease percentage is all the
same things instead it has decrease
instead of increase now remember I said
that there are two factors that you
really need to you know look at whenever
you're deciding whether or not to buy
stock the first is how many times or how
likely is it to increase or decrease and
aside from that is the average amount of
change because if something if a stock
you figure is likely to increase 60% if
you found that two companies are both
likely to increase 60% which one would
you choose well you would need to look
at the average change and what other and
which one of the companies changed
greater is the one that you would want
to choose you go what I'm saying
so instead of the frequency you will
also want to take into account the
percentage of change on average so what
I did was actually multiply these two
numbers together the number of days that
it goes up in the average amount of
change and this is actually the
percentage and the percentage and I
threw those into a number called Bucky's
by value and Bucky sell value now these
may be a little skewed at times
depending on well whenever we run the
script we're gonna probably gonna see
that this isn't always the best
indicator but it's always quoted you
know make up your own formula so that's
what I'm gonna do so aside from that
what I did was I just made a simple
query and all this query does was it
selects all from analysis a so even
though we didn't make this table yeah
I'm gonna be creating this table
manually in MySQL and PHP myadmin
so it's gonna select all the data from
analysis a where the ticker is equal to
company ticker so basically in each of
these tables it should have one each row
should be equal to a company so if row
equals one then that means that the
company already has data in there so we
just want to update the data however if
it's the first time we run the script
then
and there isn't gonna be any company
information in the table so that's why I
said okay if the number of rows equals
one then just go ahead and update the
data however if number of rows equals
zero then we want to insert the data
into it for the first time we just can't
have update because if it's the first
time we want to have anything to update
and then this master loop right here the
reason I have that is it just calls this
main function and kick-starts everything
so whenever we run the script it's
basically gonna hop right down here to
master loop and it's gonna kickstart all
of our script and basically kickstart
the program run enough so yeah there you
have it and like I said I know I didn't
show you guys me coding this but check
out these queries are super long because
there's a bunch of stuff I'm inserting
into my database and I'm gonna go ahead
and copy this right now and post it all
on my forum tnb form column under the
PHP section and guys please we're done
basically coding for this tutorial what
I need to do now is I need to set up the
table analysis a and I also need to go
ahead and run tests and debug these
scripts so thank you guys for watching
don't forget to subscribe and I'll see
you guys in the next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>