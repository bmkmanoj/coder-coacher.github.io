<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>AJAX Chat Tutorial - 13 - Chat Main Engine | Coder Coacher - Coaching Coders</title><meta content="AJAX Chat Tutorial - 13 - Chat Main Engine - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>AJAX Chat Tutorial - 13 - Chat Main Engine</b></h2><h5 class="post__date">2013-05-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/9jFH7YwN_qc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright ladies welcome to your 13th
actually let me jot that down on my
little handy notebook 13 tutorial got
that so as promised like I said we're
done with this class so go ahead and
create a new file and go ahead and save
this as make sure I don't have it
already alright chat dot PHP so in this
tutorial what we're going to do is we're
going to begin building what I want to
say it's the main PHP file now I
hesitate when I say that because of
course there isn't like one main file
you need all of these files for your
program to work but in my mind in my
heart this is the most important PHP
file because it kind of ties everything
together it's the one PHP file that you
interact with first and like I said in
my mind it's the most important one so
this is just a class these are just the
pieces to the puzzle now we have to put
the puzzle together but before we do
that we need the pieces so let's go
ahead and require once of course that
file that we just made chat dot class
dot PHP now what we're doing is we're
basically importing all of this crap
into this file that was a lot easier
than having to code all that again so
boom that's what we did right there so
the first thing I want to talk to you
guys about is the different modes now
this chat room is going to do a lot of
different things you're going to be able
to send messages you're going to be able
to delete messages you're going to be
able to you know read msgs not only just
send them but read them as well from
other people so all of those different
modes we're going to keep track of in
variable called mode so go ahead and set
that equal two dolla sign money money
cash money post mode
so that's what that variable is going to
be and we're going to be working with it
a little bit later on so of course
whenever we pass it in a parameter from
our form or a post value it's going to
be stored in the variable mode so we can
work with it in PHP now we need to cut a
set a couple more variables of course ID
you know that it is the ID of pretty
much what message we're working with and
now the next thing we want to do is
since we have this awesome class the
chat class that we just created now this
chat class is pretty cool it can delete
messages post new messages get messages
I mean everything you would want to chat
room to do we already developed it in
this class right here however we need to
create an object so we can use the crap
from that class so my object is just
going to be named chat and of course set
it equal to nu chats and now with that
being said we can let me go ahead and
save this we now have access to use
anything inside this chat class because
boom our object you know class you know
that object oriented crap but anyways
let's go ahead and get the good stuff
right now now that we imported the class
and we now have access to it through
this chat object now the first thing we
want to do is test what mode we're
working on and by that I mean what do we
want our chat room to do at this point
do we want to read messages do we want
to delete messages do we want to you
know send messages well that's what
we're going to test and you do that by
testing the mode like I said so if mode
equals equals now the first mode I want
to talk to you guys about is send and I
e.v.e I think that's how you spell
retrieve see I before E except after C
so boom roasted all right send in your
tree new so of course you guys can
probably figure out what mode this is
whenever you want to send and retrieve
new messages there that's what you do so
think about this whenever the user is
typing in their chat room and they want
to send a message what information do
you need to get from the user before you
send it off to the database well the
first thing you want to get is the name
of that user so you can identify
basically who is sending that message so
store that in variable code name and we
can actually just copy this and the for
the field name from the form is just
going to be called name now there's
going to be a bunch of different fields
so the second one is the message itself
like hi Johnny want to go out and get
pizza or arm no thanks Sally I'm going
steady with roxana I don't know like the
message content itself is going to be
stored in the parameter message</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>