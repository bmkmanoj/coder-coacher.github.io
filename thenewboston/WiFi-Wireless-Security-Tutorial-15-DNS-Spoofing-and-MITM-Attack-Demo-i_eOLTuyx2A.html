<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>WiFi Wireless Security Tutorial - 15 - DNS Spoofing and MITM Attack Demo | Coder Coacher - Coaching Coders</title><meta content="WiFi Wireless Security Tutorial - 15 - DNS Spoofing and MITM Attack Demo - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>WiFi Wireless Security Tutorial - 15 - DNS Spoofing and MITM Attack Demo</b></h2><h5 class="post__date">2015-09-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/i_eOLTuyx2A" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright guys now that we understand the
basic concept behind a man-in-the-middle
attack what I want to do is I want to
show you guys how to perform a DNS spoof
which is a specific type of a
man-in-the-middle attack and once you
see how it's done then you're going to
have a much better idea of how to defend
against it so the first thing we need to
do is we actually need to install an
additional package because we're pretty
much going to turn our computer into a
router a device that can sit in middle
of two other devices which is actually
the real router or access point and the
victim so app get installed and this is
Bridge utils and you only need to do
this one time once it's installed it's
going to be good to go so you're
probably going to have to press yes I
already have it installed on my computer
so that's why I didn't actually install
but again what this is going to do is it
lets our computer act is a bridge and it
lets it forward packets based on MAC
address rather than IP and that's how
routers work so that's the first thing
you need the next thing you need to do
is you need to enable IP forwarding so
IP forwarding lets you determine the
path where the packets are actually sent
now like I said this is actually used by
routers most often to the to pretty much
decide which network to send the data to
but since we're essentially turning our
computer into you know a temporary
router we need to do this so if you just
dragged echo 1 then we're going to write
this to proc and this is just a location
of the file net ipv4 and ipv6 to know
that ok we now enabled IP forwarding so
again you only have to do this one time
and you actually need to do this every
time you turn on your computer because
whenever your computer first boots up
it's going to be a 0
so let me clear out of there and now we
get to the fun stuff now we have
everything installed set up so what
we're going to do now is we're going to
create a fake DNS host file now I
already have them created and this
192.168.0 Evan that's the IP address of
my actual computer that I'm sitting at
right now and if you guys are unfamiliar
with DNS then I recommend going to watch
my networking videos but basically
what's going to happen is whenever a
victim they're going to request a web
page and they're going to go to the
browser and they're going to type in
let's say bacon comm well your browser
actually needs to know the IP address of
that server so it's going to say hey I
got a question what's the IP address of
bacon comm because I can only find the
server based on the IP address so
usually a DNS server responds with the
correct answer which is like - oh
whatever thought whatever it out
whatever however what we're going to say
is oh the IP address of bacon com
that's actually my computer so that's
what I'm going to say and then whenever
he thinks he's connecting to bacon comm
then we can have a fake bacon calm and
well do whatever we want like get his
login information whatever so the reason
I have this is because they're a bunch
of different rules that you can have so
this is saying whenever anyone requests
a website using www whatever comm and
you can have like facebook.com in here
um yahoo.com a wall comm whatever you
want so there you go basically the
answers whenever people request the IP
address for a website so now that we
have that the only other phyto that you
need on your computer is an actual you
know file for the website and I just
made a real simple one and the location
that you put your web files in on your
computer is in var so go to your root
directory computer and go to VAR WW HTML
we actually open it with a browse
and our a so this is the little sample
webpage I made but again it all depends
on what web site the attacker is trying
to be so he's either going to clone like
the facebook login page people clone
your bank's login page so I just made
this one real quick but again you can
design it any way you want depending on
you know whatever you're trying to do so
that's the location whenever we start
the web server on our computer then
whenever someone requests a web page
like they're going to do whenever we
give them that DNS response that's
what's going to pop up so there's
actually a web server already built in
to your computer if you're running Kali
at least in order to start it just type
Apache to CTL start now just hit enter
and it's going to say this because um
you know we didn't set it up properly
we're just running this real quick we
don't have a fully qualified name so
whatever not really important the
important thing is our web server is now
up and running so the last piece of the
puzzle is when we start our actual
spoofing and I actually need two windows
for this
so this first terminal right here this
is going to be for our ARP spoofing
so basically we're constantly going to
be sending the victim computer ARP
answers telling him that the MAC address
belonging to the IP of the router is our
MAC address so whenever he looks for the
access point we're going to be a kill
that's me right here and we're going to
do the same thing with access point
access points okay who is that guy who
want to Facebook I'm going to make oh
that was me so I'm pretty much going to
be sitting in the middle and all of
their messages are going to be passing
through me so then you know you can
tweak them any way you want so the
victims IP address my tablet is a one
ninety two dot one sixty eight thousand
and the router is OH dot one so remember
the actual victim is seventeen and the
router is one so if I run ARP spoof then
what we need to do is we need to 217 and
do this
same thing with one and just run a hand
hand and whenever you use this in an
character what it does is it allows you
to run multiple commands um pretty much
on the same line so I don't have to it
hit enter twice and we're pretty much
going to do this again so ARP spoof and
I forgot my - T alright so I'll show you
guys what we're doing in just a second
alright so you saw in this first one
we're pretty much running two separate
commands right here but in this first
half the 17 came first and in the second
one the dot 0 one came first now
remember this is the victim's actual
computer which is going to be the tablet
I'm about to pick up and this is the IP
address of the router so these are the
devices that were going to ARP spoof in
other words tell the victim that our IP
is the routers and also tell the router
that we are have victim's IP so we're
going to be lying to both of them so
before you actually run this let me get
our other one already and this is the
DNS spoof now this takes a few
parameters the first one is what is the
location of the spoof file so wherever
this is give it your fake answers so
mine is in desktop desktop spoof host
text now the other thing that it needs
is the host and I'm just going to write
192.168 and this is pretty much your
victim 0.17 now we actually need to give
it a UDP port and this is just a
standard pour of DNS and this is just
for you know networking so everything
works correctly and that's it so
whenever this victim requests one of
those web pages those are the answers
that we're going to give them the
answers from here so you can run any of
these in any order so whenever you hit
enter this is going to start sending out
your ARP spoof that's kind of a tongue
twister and now our little fake DNS
servers running so I'm going to pick up
my tablet right now
and let me just go to bacon comm so you
can see right here on the screen that
this device which is the tablet I'm
holding on my hand just requested bacon
calm and let me take a screenshot and
there you go so again this is a really
simple webpage but you can see the
danger of this already what if they
requested their bank's website and what
if it was designed to look just like
your bank's website what if they are
requested Google and well now they have
your Gmail well the thing is once they
have your Gmail and they can log into
your email account nothing else even
matters because oh you want to access
Facebook all you have to do is go to
Facebook say reset my password and what
are they going to do they're going to
send it to your email same thing with
your bank account but oh you have
verification questions well guess what I
got your effin Facebook and all this has
happened in your life is crumbling down
and do you know why all because you
decided to check your Instagram it
Starbucks and maybe next time when
you're sipping on that triple mocha
chocolata
then you got to think to yourself you
know what maybe I should be home maybe I
should be watching the new Boston
instead of fill in my fat face with
these latte so you know what I'm done
guys thank you guys for watching see you
next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>