<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Beginner PHP Tutorial - 132 - LIKE With a Search Engine Example Part 3 | Coder Coacher - Coaching Coders</title><meta content="Beginner PHP Tutorial - 132 - LIKE With a Search Engine Example Part 3 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Beginner PHP Tutorial - 132 - LIKE With a Search Engine Example Part 3</b></h2><h5 class="post__date">2011-04-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/VxqmBEDNZww" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so let's go ahead and say if is set
dollar underscore post remember we're
using post data down here and we're
going to say search name so we're
corresponding this to the name that
we've given the element in our HTML
document so if this is true we're going
to run this block and inside this block
we're going to set a variable called
search underscore name to the value of
what's been posted because otherwise if
we specify this outside of our if
statement before we've checked if the
form has been submitted we're going to
have an undefined index error or an
undefined variable error so we've put
this into a variable so we can use this
later on in our code and we don't have
to keep referencing back to this now
let's check if this isn't empty so if
not empty and we're specifying the
search name in here if it's not empty
then do something else so basically
what's going to happen is let's just
echo out and okay message there let's
come back to our code let's type in
nothing so we click nothing or click
Submit without anything in being and
then nothing happens if we type a value
and click sub search we get an OK
message back there so now we need to
start constructing our query so I'm
going to create a new variable called
query and this is going to equal our SQL
query that we're going to execute or run
inside of our database so we're going to
say select and we're saying select name
from remember our date our tables called
names we've already connected to our
we're already connected our database a
database here remember these values must
correspond to your your login
credentials and also the database that
you're using and let's take a look here
so we've got the names as the database
so we're selecting the name from names
so select name from names
we're name like and now we can do what
we've been doing inside our SQL tab in
PHP myadmin
and we can look at the most sensible
search option in this case would be to
have a wildcard either side
so you can put such name in here now
remember we need to think about security
for this so that's that's a pendous on
let's get that outside of here so what
we've done is we've just closed our our
core our string data here and appended
on the search name and then appended on
the rest of our string data
let's enclose this in MySQL real escape
string to ensure that SQL injection
can't take place in this instance and
we're just as protecting against it as
much as we can for now so now what we
want to do is we want to run the query
so query run is equal to MySQL query and
query so now that we've run the query we
should have returned a value based on
what the user has actually typed in so
say the user typed in Alex we'd search
for a wild-card either side of Alex and
it could return whether it will return
Alex Garrett and Alex Malcolm so let's
go ahead and check how many results we
have got back so what we can do is we
can say if MySQL num rows and the we're
going to feed this in the query so this
function is basically counting the
amount of rows that we return bit by
this query so if it if they're greater
than or equal to one then do something
so we want to say you know display the
results otherwise this means that no
results have been found so we can just
echo no results found up here for now
we're just going to we're just going to
write echo found we're not going to
display the data now but we're just
going to test that our queries actually
working so let's go ahead and type in a
name that's not in this database so we
could type Craig in for example click
search no results results found if we
type Alex and click search found so if
we know that our query works now because
we have data inside of our database that
would correspond to Alex with the
wild-card either side let's go ahead and
type in Garrett click search now let's
go ahead and type in G arr
and click search that's found now let's
go ahead and type in
for example Josh click search and Noah's
axe found so we know that our query is
working now what we can do is work to
show this data so we're going to use a
while loop this is going to loop through
all the records that have been found and
put them into an associative array and -
o sitive array i mean an array with a
field name as the key so we're
referencing each returned row by the key
itself so the data we want to receive
from this so I'm going to say query row
equals mysql fetch associative array
this stands for associative anyway and
we've put in the query that we've
already run inside here</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>