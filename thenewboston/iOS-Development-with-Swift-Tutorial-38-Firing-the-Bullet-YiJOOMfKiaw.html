<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>iOS Development with Swift Tutorial - 38 - Firing the Bullet | Coder Coacher - Coaching Coders</title><meta content="iOS Development with Swift Tutorial - 38 - Firing the Bullet - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>iOS Development with Swift Tutorial - 38 - Firing the Bullet</b></h2><h5 class="post__date">2015-02-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/YiJOOMfKiaw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright guys so now that we have the
bullet node sprite setup let's go ahead
and actually fire it and of course when
are we going to be firing it well
whenever we tap this dude's going to
plays animation charging his gun or
whatever and then the bullets going to
pop out so pretty much whenever the user
taps so therefore you can stick it right
in this touches begin now this is the
old animation from the dude again that's
just the dude moving so we can just
stick it right inside here now right
after this animation the dude animation
that's setup go ahead and give us your
give yourself some space and I'll say
shooting the bullet so let's shoot
bullet equal to SK action and we just
want to run a block of code now the code
that we want to run can stick inside
curly braces so what do you want to do
to shoot the bullet well the first thing
we need is just a reference to that
bullet node so let bullet node equal
self dot create bullet node and remember
that's the method we built in the last
tutorial so now we have a reference to
that sprite that we can actually move
around and do cool stuff to so now we
just need to add it to the screen
because remember it's just in memory
right now it's obviously not appearing
on the screen whenever we click or
anything so self add child and the child
is the bullet so now it's on the screen
and again we gave it a default
positioning so now at this point it's
appearing right there and after this to
make it move we pretty much want to
apply a force to it as soon as it
appears so this is how you do that so
for the bullet node we're going to call
the physics body which pretty much means
change the physics of it and to apply a
force or in other words just to get it
moving it's called apply well I
shouldn't use force because that's
another method
apply impulse so what we can do here and
essentially what we're doing even though
I don't want to say force because that's
another method in sprite kit but it's
the most proper word I can use right now
we're pretty much adding a force or an
initial impulse to the bullet now
whenever we add a force to anything we
need to give it two properties the first
is how much of a force how much are you
pushing just a little bit are you just
moving it a little bit or you like
really whipping it moving out a lot so a
magnitude that's what I'll call that in
also a direction so do you want to move
it just a little bit in the right or do
you want to move it a lot up and down I
don't know so that's what we're going to
give it right now now the impulse is
actually a CG vector and in order to
make a vector you call CG vector make so
now we're pretty much just making armed
force that's it so the first thing is
the x-value in the second one is the
y-value you actually give the direction
and the force all at once
so we'll say 160 in the x-value so it's
only going to go left and right in the
y-value we'll just set a zero so this
force just think of it like an arrow a
hundred and sixty going out of course um
these values they don't really um
correspond to anything because this is
all like in iOS physics land so just
remember that 160 is the force in the X
direction so it's going to fire out in
the X direction with that magnitude and
just play around with it if you feel
that it's too big just lower it to like
100 if you feel it's too high you can
well if you feel too small you can raise
it and in the Y direction it's not going
to be applied any force so only go left
to right don't worry about up-and-down
so that's that and that is pretty much
to shoot bullet action so now what we
have to do is I want to show
guys this we're going to build a
sequence of animations so the first
animation is this dude charging his gun
and once he's done the bullet animation
is going to appear other words the
bullets going to come fly now so anytime
you want to make a sequence of
animations you take SK action and for
the sequence we can put the first one as
animation which is the dude calculus gun
and the second one the second action it
was named shoot bullet there we go so
this is pretty much a sequence of
animations a complex animation simple
enough so now we never whenever we run
it it's going to play the dude cocking
his gun and then him shooting the bullet
so now let me go ahead and actually play
this and everything is probably going to
make a lot more sense and where can I
put it all right now take note of this
whenever I click he's going to his
gun and then a bullet is going to come
flying out cockys gun bullet comes
flying out and I might have to move that
bullet up a little bit maybe to the left
but you know it's good enough now
another thing you're probably wondering
is all right so I added 160 let's go
ahead and change that to let me just
change it to like 40s just so I can
demonstrate the difference whenever
you're making these vector forces so 40
is going to be really weak I mean if
this guy had like a BB gun look at that
the thing can plop it out that's not
going to kill anything alright so we
need to pump that baby up and we're
going to change that back to actually
let's pump it back to 180 so now he has
a really powerful gun and you're
probably wondering are right well we did
not apply any force in the Y direction
no up-and-down force so why is this
bullet kind of feeling the effects of
gravity if we didn't apply anyone
manually well that's because remember
this entire arm environment is affected
by gravity the bullet is not excluded
from that so even though we didn't apply
any impulse
or downward or upward force this bullet
spray is still affected by gravity and
that's just part of sprite kit um
whenever we create sprites um you know
there you go
so looking pretty good the bullet is now
flying across the screen and again if
you want to change a force or anything
like that that is how you do it but uh
yeah that is pretty much that so in the
next tutorial we got to start killing
some enemies so I'll see you guys then</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>