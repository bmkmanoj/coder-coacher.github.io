<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Beginner PHP Tutorial - 173 - Loading in file Contents to a DIV Part 2 | Coder Coacher - Coaching Coders</title><meta content="Beginner PHP Tutorial - 173 - Loading in file Contents to a DIV Part 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Beginner PHP Tutorial - 173 - Loading in file Contents to a DIV Part 2</b></h2><h5 class="post__date">2011-04-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/q7i4QJPLg_w" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so the first thing we need to do is
check for an a response so we need to
say if window dot and we need to say XML
HTTP request
okay so we're checking for an XML HTTP
request if so we do something otherwise
we do something else and the rest of our
code is going to go down here so if so
then we're going to create a new
variable called
XML HTTP and that's going to equal new
XML HTTP request and remember the
parentheses at the end okay so now that
we've done that we can use this XML HTTP
- well in the rest of our code so what
we're going to do now is we're going to
say else and this is going to handle it
for different browsers so for some
browsers this will be the case and some
this will be the case so you can say
HTML access at HTML sorry XML HTTP
equals new this time we're going to
create an active X object and the
reference here is micro soft dot XML
HTTP now it's very important that you
understand that everything I'm writing
is case sensitive so when I come to test
this at the end of the tutorial when
we're finished writing our code you
might find it it hasn't worked for
myself so I'm going to have to go back
and check so I may have created maybe I
mean with variable names that obviously
doesn't matter but with things like this
it needs to be a capital XML capital H
small TTP and a capital on in the rest
small so it has to be it well it is case
sensitive so you need to watch out for
that okay - the next thing we need to do
is check for a change of state so we're
going to create an if statement and I'm
going to say if oh no I'm not sorry no
no I'm not checking this way what I'm
saying is XML HTTP dot and we're going
to write onreadystatechange so on ready
state change
now we're going to equal this to a
function so this might be not this might
not be something that you've seen before
we're equaling this to a function and
then what we're doing is we are creating
the block for our function so we're
saying that onreadystatechange so when
the state has changed we're going to
perform what's in here we're going to
perform the action in here okay so
onreadystatechange it was function so
this is a function that we're going to
create or run rather if our state has
changed so now we need to do a couple of
checks we need to check the eight I'm
sorry
XML HTTP dot ready state is equal to
four and we also need to check that the
XML HTTP status is 200 so we just type
status it was 200 sorry W equals there
just pull this in as well okay so if it
does we're going to continue so this is
just doing a couple of checks to make
sure we've got correct codes being sent
back and now inside of here we need to
do what we need to do so what we
essentially need to do is we need to
check or sorry we need to insert some
HTML data into this div tag and by HTML
data this could be a PHP file because
when we echo out hello this is
essentially HTML data we can also read
in we can also read in text files things
like that to our div as well but we're
just going to be focusing on PHP like I
said so now what we do is we say
document so we're referencing something
on our document and we're saying get
element by ID and getting element by ID
takes an element from a page by its ID
obviously we've set an ID of a div to
this div here so in here we can type a
div and then we're going to say dot
inner and HTML and capitals and we're
going to equal this to XML HTTP dot
response
so when we when we send a request here
up here we honor on the change of state
we are checking the ready state and the
status of the page to make sure it's not
empty so this 200 here is making sure
it's not empty and then we're getting
the element a div and we are changing
the inner HTML of this div down here and
that's going to be the response text so
now on here we need to send what we want
to put into this we want to send what we
want to put into our div essentially so
what we do is we say XML HTTP dot open
now what we're doing is we're opening
and with a get so we're opening get
we're getting the data from the page
we're not posting anything we just need
to get the contents of this page and
that is including dot PHP okay so the
last parameter is whether we are going
to do this as synchronously so we're
just going to write true in here and
then underneath we write aah oh sorry
XML HTTP dot send so what this is
essentially doing is it's taking the
content of this file here and we're
placing it into this div using this line
here and when we send this is going to
be picked up here so when everything is
working hopefully working as it should
be so let's go ahead and test this so
what should happen is we click on the
submit button we call this load function
we check or depending on different
browser types the XML HTTP requests and
put the valid the valid instance of this
into it we check for a state change here
we check the ready state and the status
so make sure the page doesn't return
nothing and we get the element a div and
put inside put some HTML inside of this
and that's the response text from this
and we're taking this value from here so
we're we're sending the data essentially
straight to this div so let's go ahead
and refresh this page and tests if this
works so what should happen is when I
click Submit we should have the value
hello being being output underneath it
because what we're essentially doing in
include indexed
include the ink dot php' is we're just
echoing out hello so this should just
echo out the content of our PHP page
let's try and see if it works okay it's
not working there's a surprise so let's
go let's go back through our page and
just have a look at everything and check
that everything's okay</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>