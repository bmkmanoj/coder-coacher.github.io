<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Wireshark Tutorial for Beginners - 8 - TCP 3 Way Handshake | Coder Coacher - Coaching Coders</title><meta content="Wireshark Tutorial for Beginners - 8 - TCP 3 Way Handshake - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Wireshark Tutorial for Beginners - 8 - TCP 3 Way Handshake</b></h2><h5 class="post__date">2015-08-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/jLUW0SK13nA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright guys in this video I am going to
explain the TCP handshake and talk to
you guys about why computers do this and
how it's different than HTTP so a lot of
people whenever they first start
analyzing traffic and they connect to a
website they probably expect just to see
HTTP I mean we just look at it you're
like our I think I got this figured out
I'm going to send an HTTP request to a
server and hopefully it's going to send
me back one with whatever file that I
requested so this is interesting all
this TCP stuff going on before I mean is
this important what the heck is this why
do I need it well the difference between
HTTP and TCP is this HTTP is basically
saying what type of data you're sending
and also how it should be formatted in
red that way whenever the server starts
getting all this data it's not confused
it's like ok what the heck is this is
this Skype traffic are you trying to
upload a file are you trying to you know
access a database what the heck are all
of these ones and zeros well if we say
oh this is HTTP now the server knows ok
so you probably want to connect my
website and this is how I am going to be
able to read it I need to follow HTTPS
rules so that's basically what HTTP is
what the data is how its format how the
server is supposed to read it so TCP
happens before you even make that
request so TCP is basically saying this
is how we're going to connect so nothing
about the actual data or what you're
sending it's saying ok I'm a computer
and I want to connect to this server so
before I start sending in all these
requests for pictures or whatever we
need to establish some ground rules on
how we are going to be connected for how
long what protocols we use whatever all
right so here we have this green dude
right here and he wants to connect to
this web server so I don't know maybe
someone made a really cool webpage and
he wants to check it out so he needs to
find a way to do that well before he can
send it in HT
P request he needs to check with it to
make sure that he can actually connect
to it in the first place so the first
thing that he's going to do is he's
going to send something called a s Y n
now this is actually a synchronization
package so that's why it's sy n it's
basically him asking hey can I connect
to you so the server once it hears that
request it's going to send back in sy n
a CK so this is the synchronization in
this AC K stands for acknowledgment so
it pretty much says I acknowledge that
you made a request and yeah sure go
ahead you can connect me now the last
part of this handshake is this client
sends back to the server
one last ACK and this is pretty much him
acknowledging that the server responded
and him saying okay cool thanks now at
this point after this handshake they are
now connected in this guy can now make
an HTTP request for whatever you know
dank meme he wants to look at so again
before you can request any file from a
web server three different connections
need to be made and this is called the
TCP handshake the dude needs to say hey
can I connect the server needs to
respond yes sure you can and then the
client goes okay thanks cool so just
remember that at this point in time no
actual data has been transferred and
I'll show you guys something else cool
so select this first packet right here
and expand TCP and actually if you right
click and expand all the subtrees you
see that right now it just sent in sy n
a synchronization so you see this flag
right here you see that all of the other
ones are zeros but this synchronization
flag is set now if we look at the next
part of the puzzle the server when it
gets that request from the dude is going
to send back a syn in a neck if he's
allowed to connect so if we look at that
packet you can see actually look at the
top
this guy sent us in this guy the server
sent back a sin and a neck and if we
look at in detailed we can see that all
the bits are set to zero except sin a
neck so the server is now acknowledging
that the guy wanted to connect and he
sent back those two bits so the last
piece of the puzzle for this handshake
is this is where the client heard the
message from the server and he's sending
back to the server okay cool so that's
just a neck as you guys can see he's
acknowledging so he's sending back at
that bit so they now can connect and he
now can request whatever don't file he
was looking for and there you go now if
you ever find yourself trying to connect
to a server and it's not sending
anything back or maybe it's sending back
something but not a sin an ACK
this may be happening because of a
couple reasons first of all if it's not
responding at all then the server may be
down or you may just be typing in the
wrong address and another reason that
it's not sending Mackeson in the ACK is
because you may be blocked by a firewall
maybe they just are you know not
allowing traffic from your computer so
they blocked you whatever so that is the
basics of pretty much the difference
between HTTP and TCP TCP is a protocol
or the rules on how we are going to just
connect to each other HTTP is a specific
type of data how it's packaged and how
it should be read now we understood that
the TCP handshake three-way handshake
that's how the initial connection
happens and then they can pretty much
request whatever they want now at the
end of this when the user closes out of
his browser and goes to McDonald's do
whatever he's doing they bring me to
need to say goodbye to each other and
this is pretty much both computers
acknowledging that the connections over
the conversation was great but every
good thing comes to an end now I'll talk
to you guys about what happens in that
process so whenever the user got his
file so this was the HTML
file that he wanted he's happy he's all
done and what he's going to do now is
he's going to send something called a
fin and I guess the guy who invented
this TCP must been a spanish-speaking so
this is pretty much saying all right I
got what I needed I am leaving now
connection is over so the server
whenever he hears that he's going to
send back a fin ACK and this is pretty
much the same goodbye I acknowledge that
you're leaving right now and the server
says goodbye to him and just the end
things the client or this dude he sends
back an ACK and this is just his way of
saying okay I acknowledge that you said
goodbye that you ended the connection
it's pretty much like a phone call where
this guy says hey I'm done talking to
you and the server goes you know I'm
done talking to you too and goodbye and
the client goes goodbye and they just
leave
so that's a really you know the most
untechnical overview of how that works
and if we look in Wireshark right now
and Reese chloral all the way to the
bottom of this we can see that okay this
is the client right here and he's
sending a packet to the server and that
is that's embarrassing alright so this
is the first piece of the puzzle where
the dude saying okay I want to end the
connection now now this right here we
see that there are two packets coming
from the server so got the X and got
that fin ACK pretty much the server
saying okay you know what I'm done with
you two
goodbye hanging up the phone and the
last thing the client does is it just
acknowledges to the server you know what
I heard you say goodbye I am now leaving
so that's the process of TCP in the
handshake basically the client getting
permission from the server to connect
and also at the end when they say
goodbye that way they can both
acknowledge that the connections over
don't have to worry about
it anymore so TCP I know it's incredibly
fast and anything but I know I think
it's pretty cool how all this happens
behind the scenes so there you go now
you have a little bit better
understanding and yeah pretty sweet see
you guys next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>