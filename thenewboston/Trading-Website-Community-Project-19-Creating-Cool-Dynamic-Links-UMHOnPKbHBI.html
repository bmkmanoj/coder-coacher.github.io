<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Trading Website Community Project - 19 - Creating Cool Dynamic Links | Coder Coacher - Coaching Coders</title><meta content="Trading Website Community Project - 19 - Creating Cool Dynamic Links - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Trading Website Community Project - 19 - Creating Cool Dynamic Links</b></h2><h5 class="post__date">2012-03-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/UMHOnPKbHBI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what is going on guys welcome to your
19th video and in this video I'm gonna
be teaching you guys how to create those
dynamic links on the top right side of
the webpage so for example when a user
first goes to this website they open
their web browser and type this in
they're gonna see the links register or
login if you don't have an account you
obviously register but if you do you can
go ahead and click login now you're
taken to a login page where you can type
your username and your password and if
everything is correct and hit submit you
log in and a couple things are going to
happen first of all you're taken to your
main account homepage and second of all
the links on the top right-hand side are
now changed instead of login they now
say logout my account add item or
messages now even though you may not be
able to tell right now well obviously
you can't tell but whenever you receive
a new message
say for example you receive five new
messages that day while you are at
school this messages is going to be bold
and there's gonna be a five in
parentheses so I don't have any new
messages or I read them all and that's
why we get this plain link but whenever
you do receive a new message then this
link is going to be bold and show the
number of messages so I'm going to show
you guys how to do that right now now
the first thing I want to do is I want
to create a new function that's pretty
much gonna be responsible for echoing
out the links now I want to do that
because even though the links go right
here it's not good to have all this code
in one function because that is the key
I'm telling you guys to making a big
program if you go ahead and put all of
code inside one function you guys are
gonna go crazy the key to making any
successful large program is breaking it
up into easily manageable pieces if you
guys learn anything for me ever it's
that the gates making an accessible
successful piece of software is breaking
it up into easily understandable easily
to manage pieces and that's what we're
going to be doing so let's go ahead and
make a function for top right links and
I'm just going to name this function top
right
right links now let me go ahead and talk
to you guys about how social networks or
any site that you build in PHP works
whenever a user logs in whenever you log
into a site you're going to be assigned
something called a session ID or a
session variable now this is pretty much
a variable that sticks with you as long
as you are using the site you get a
unique variable that says okay this is
the user so what happens whenever we're
coding this is we can test whether that
user has a session variable assigned or
not whenever they log in they get one
assign so we can test if they don't have
one assigned yet then that means that it
must be logged out if they do have a
session variable assigned then we can go
ahead and just use that variable to you
know get their information or whatever
and you guys are gonna see a little bit
more about this whenever we talk about
the register page but for now just
remember that we can test whether the
session variable exists for that user to
tell whether they're logged in or not so
let's go ahead and make a simple if
statement to do that so we can say
something like if it's a session which
is a global variable in I know I did a
not set a variable yet because we didn't
build the register code yet but we are
going to be calling our session variable
user underscore underscore ID now we
actually want to test first if this is
not set so basically if a session ID
variable is not set that means that the
user has not logged in yet or they are
logged out so if they are not logged in
yet what do we want to do well we just
want to echo some code that says
register or login so the first thing we
want to do is build an href and set it
equal to our register which is register
dot PHP
let me just go ahead and finish this so
we basically um make a link to something
called a register and that's what we see
if we log out right here now before I
make my login link as you can see it's
separated by this little pipe sign so
you know just don't forget that so now
we have a register link that links to
the register dot PHP and I also want to
create a login link so let me just go
ahead and copy that code cheat a little
bit here and the login page is going to
named login a PHP and the text is just
going to be log n so basically if they
do not have a session variable set that
means that they must not have logged in
yet or they are logged out whenever the
user is logged out they have the option
of registering if they're a new user or
if they're just not logged in they can
just go ahead and log in simple enough
that's all we need to do for that set of
variables the next set of variables
however is a little more complicated
because in the case that they are logged
in then they must have a session
variable set so the first thing I like
to do is instead of using this huge long
ugly variable I like to store it in a
simple variable called X and that is
because it just makes it a little bit
easier typing X rather than this huge
mama drama variable so the first thing I
want to do is I want to see if they have
any new messages so if we go ahead and
go to our database I included a table
called messages in here this is pretty
much a table that's going to store all
messages for all users now it of course
has an ID what number message is just an
identifier for the message because all
table should have a primary key unless
you absolutely can't have one the
receiver which is pretty much the ID
number of pretty much who is receiving
the message the sender is the ID number
of who sent it
the subject like hey party at my house
tonight in the body with all the
information the date sent in the status
now the status of the message
is going to be either red if you already
read the message
unread if the user has not yet read the
message or deleted if they do leave the
message I think those are my statuses so
anyways that's what the messages table
is so now we can go ahead and utilize
the information so what we want to do is
we want to check not only how many
messages that receiver has but we want
to count the number of unread messages
so let's go ahead and do that by hitting
result equals now in order to query a
database go ahead and put my SQL
underscore query and you go ahead and
you type your query in here now go ahead
and type your query in double quotation
marks and what we want to do is we want
to select all from messages and I
thought that run messages where receiver
is equal to X so pretty much if my ID
number is 20 I want to select all the
messages where I am the receiver all of
the messages that people sent me now
furthermore I only want to select the
messages where the status is equal to
unread because the only time I want a
prompt to appear on the top right hand
side of the links giving me saying hey
you got a new message is if I haven't
read that message yet if I got 100
messages yesterday but I already read
them I don't want it to say hey you got
a hunch your new messages because I
already read them make sense good so
after this what we want to do is we just
want to add an or die my SQL underscore
air now typically you don't want any
error messages to pop up on your web
page why because then it might give
critical information about your database
that malicious people can use the heck
into it but for testing purposes I like
to output all the error messages because
I probably type something wrong
somewhere in here and whenever we're
testing it we can see our errors
but remember later on to either delete
these or just suppress all error
messages in another way</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>