<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Trading Website Community Project - 34 - Finishing the Activation Script | Coder Coacher - Coaching Coders</title><meta content="Trading Website Community Project - 34 - Finishing the Activation Script - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Trading Website Community Project - 34 - Finishing the Activation Script</b></h2><h5 class="post__date">2012-04-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Mpu_zJNMcsM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright guys welcome to your 34th
project video and now that we grabbed
all of their information we need to
query the database two more times the
first time we need query to insert this
information into the permanent users
table the second time we just need to
delete it from the temporary users table
because if it's in the permanent then
they are a verified user they no longer
neither information in the temporary
table because that's just for
verification purposes almost messed up
that word so let's go ahead and get to
that right now now actually what I'm
going to do is cheat just a little bit
and copy this twice bang and actually
how can I do this incredibly easy set
that up right like that and do another
one right here now i'm going to name
this one result one in a result too
because of course we already have a
variable named result and the first
result is going to be responsible for
taking the information and inserting it
into the permanent users database so in
order to do that just write the query
insert that name that yep insert into
users ok sausage fingers type correctly
insert into users what columns well the
first column is user underscore ID the
second one is for the user name and I
named that user name the third one is
email fourth password and then after
this we have role now what the role is
is standard users are going to have the
role user you also have the option of
appointing people admin which is going
to be admin in moderators and whenever
we're talking about you know different
roles of different power users who can
point who will talk about that later on
but standard user is just a user
remember that for now and the last one
is credits now what this is is I am
going to allow you guys to have the
option of do people need to buy credits
or
or do they not need to buy credits to
use the website that's a decision that
whenever we're done with the site you
guys can vote on personally I would like
to see the site be able to use for free
for everyone but again this site is
pretty much up to you guys i'm going to
give you guys the foundation and then
leave it in your hands so if we don't
need that then we can just fill it in 0
for everything and not even worry about
it but if we decide that we want to sell
credits and again if we decide to you
guys keep the money not me this is your
guy's site not mine then that's a
decision you guys have to make but
anyways for the values for this i'm
going to write actually i can just copy
this this will make things a little bit
better for the default values whenever
someone registers the user ID is going
to be blank now it's going to be blank
because it gets auto incremented so we
don't need to worry about this mysql and
PHP are going to take care of this we
don't need to worry about that the user
name is of course whatever variable was
right here whatever they entered for
user name their email is same thing
whatever they chose for the email the
password same old story password now the
role this isn't a variable this is
actually a bar chart just go ahead and
type user right here that's the default
role now again like I said whenever we
decided that we want to appoint someone
an administrator or moderator for the
website the people that have the power
of deleting items in deleting spammers
account we can just go ahead and change
it you know through PHP myadmin but for
now just point everyone user and we
could upgrade that later on and for
credits if you guys decide that you want
to sell credits um then we will add to
this later on but for now just make it a
zero now that's another thing whenever
you're inserting numerical values into a
table you don't put the numerical value
in between quotation marks because
quotation marks are just for strings so
that is what this query is going to do
pretty much insert all of their
information in
the permanent users table so now their
information is in two tables the
temporary table and the permanent users
table so once it's in the permanent
table we no longer need it in the
temporary users table so we can go ahead
and delete it so the leading stuff is
probably one of the easiest things to do
in MySQL delete from temp users do we
want to delete everything nope we only
want to delete it where user underscore
ID is equal to the user ID or right here
bam bam thank you ma'am so there you go
and everything is looking good so far
now the last very last thing I want to
do is I want to make a simple if
statement just make sure that everything
ran smoothly if something messed up then
I just want to you know give them error
message maybe they you know accidentally
click the link twice or something so I'm
just going to test one of these results
because really I don't need to test them
both because they're running right after
another so let's go ahead and say if not
result in number one so this is pretty
much what we don't want to happen we
don't want them to see this message but
they will see it if the you know they
made a mistake or something let's say um
oops your accounts could not be
activated okay activated please contact
the I don't know system admin
explanation point else now this is the
message that we do want them to see what
we want to do is if everything went
successfully we want to take them to the
prompt page and remember the very first
message of that product page was
congratulations your cow is now
registered on you can go ahead and login
so the link to that page is header and
the header is
location and i believe it was prompt PHP
and x equals zero so what this link is
it's pretty much a link to the prompt
page it says good job you know you
clicked on the link good for you and
actually I guess we might as well check
this to you know how we checked if their
email and their keyword was set
successfully if for some reason it isn't
in this probably is only going to happen
if they tried to hack our website
through you know SQL injection or
something like that but we might as well
tell them hey we're onto you so echo a
simple error message such as air um
we'll give them this message again
please contact system admin and again
this is only going to happen if you know
they have emo that we don't recognize or
it's not in the email format or you know
something else what happens but they
should never see this message or this
message what should happen is first it's
going to select all of their information
from the temporary table store in
variables it's going to move it all over
to the permanent users table and also
delete it from the temporary users table
and then it's going to take them to the
prompt page where it says
congratulations you didn't have anything
up good for you so there you go we are
now done with this activate the PHP page
what I'm going to do is upload this and
actually if you guys see any errors I
know I was kind of trying to talk and
teach at the same time if I messed up
anything then just leave a comment in
the section below and if not we're ready
to move on to the next page which is the
page where they can finally login to the
website so thank you guys for watching
and subscribe and I'll see you next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>