<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Android Application Development Tutorial - 144 - Updating with OnLocationChanged method | Coder Coacher - Coaching Coders</title><meta content="Android Application Development Tutorial - 144 - Updating with OnLocationChanged method - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Android Application Development Tutorial - 144 - Updating with OnLocationChanged method</b></h2><h5 class="post__date">2011-08-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/IJn8va9Z0cM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's up guys welcome to your 144
Android tutorial for the new boss and
we're gonna do this tutorial is
basically polish up our application get
it going and I'll kind of demonstrate
what it does at the end but what we want
to do is we want to kind of disable our
location manager you know when we go on
pause or when we aren't actually needing
it so what we're gonna do is go into our
resume method here that we created and
so we have our location manager set up
within our on create method but within
our resume method what we're gonna do is
we're gonna say request location update
and so we're just going to say our
location manager dot request location
update takes a string and a time and
minimum distance that we want so we're
just going to click that and hit for
provider we want our towers reference or
string and then what we want is for
minimum time we'll give it like half a
second and for the minimum distance
we're gonna give it like one and for
listener we're gonna say this referring
to the listener that we implemented for
this activity so now that we have our
we're going to request the location
update and then also on our on pause
method what we're going to do is say
remove updates so we're just going to
say our location manager dot remove
updates and it's the listener again that
we implemented so we're just going to
say this
so we're basically removing our listener
that we implemented in our in our class
so again we're going to request a
location update when we hit the resume
method now what we're going to do is
we're going to scroll down to the very
bottom those four methods that that we
can work with according to that listener
location listener that we implemented
for a class so so for the most part
they're all self-explanatory like for
provider disabled we could refer to the
provider that's being passed or the
string that's being passed in and say
you know we we disabled this provider or
you know enabled it just some kind of a
toast if you want the only one that
we're going to work with is this on
location changed and what we're going to
do is we're getting this location that's
being passed in
change it to L so we can work with it
that way instead of arg0
which gets annoying now we're gonna do
is set our lat
value to equal again the location that's
being passed in again we have to convert
it into an int by casting int we're
gonna say L dot get latitude and
longitude in int L dot get latitude or
get longitude and now we can also draw
within this method so let's say you know
our application is going to draw a new
pixel or new pin point every time this
location hits so we're gonna scroll up
and just copy that code that we put
within our if statement when we created
just the Geo point and add an overlay so
we're just going to copy that scroll
down to the bottom and paste it down
here pretty much the same concept every
time our location has changed you know
we're gonna paint a new icon which isn't
really probably the best thing but just
to show you guys what it does I'll catch
you in real life when we're gonna test
this application make sure everything
works and that's pretty much it for
Google Maps but I'll see you guys in a
second what's up guys just tested it out
and should I like I was in the ocean or
something so I went back to the code and
try to figure this out and all we need
to do is add this x 1 e to the 6th or
1e6 to our latitude and to our longitude
and then then it will give us the proper
location because before we weren't x in
it by that so it you know you'll show up
where you weren't supposed to be so make
sure you just change that and within
your oncreate method again just times it
by that as well and now I'll show you
guys what it looks like what's up guys
so when we open up our map activity and
we zoom out
we should see an icon pop up in the
general location again we are looking
for the most specific crap we're looking
for the most specific location so it's
probably not that great for you know
like some kind of running application
where you like whoa what's going on
where you're running but you get kind of
the general idea of where I'm located at
right now I mean that's not it's
probably a few blocks away but just as
every time that unchanged method gets
called at which I'm going to try and
like walk around or something and get
that called
another icon will be painted to our
basically our map come on like run into
a tree or something
but anyways
so that's basically the application</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>