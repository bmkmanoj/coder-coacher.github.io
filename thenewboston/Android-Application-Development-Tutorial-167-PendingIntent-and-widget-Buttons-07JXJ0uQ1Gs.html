<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Android Application Development Tutorial - 167 - PendingIntent and widget Buttons | Coder Coacher - Coaching Coders</title><meta content="Android Application Development Tutorial - 167 - PendingIntent and widget Buttons - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Android Application Development Tutorial - 167 - PendingIntent and widget Buttons</b></h2><h5 class="post__date">2011-08-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/07JXJ0uQ1Gs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's up guys welcome to your 167
Android tutorial for the new Boston
where hopefully we're gonna finish our
widget widget application don't wanna go
too much more into it but just quickly
again we want this activity to finish
and what we're gonna do is if it can't
load where the widget which widget is
basically opening this class all we're
gonna do to this if statement because I
forgot we're just gonna say else and
then finish as well
so just quick piece of code there and
that's kind of proof checking as well so
you know if we can't get the ID we're
just gonna finish the application pretty
simple and in this tutorial what we're
gonna do is we're gonna be able to open
an activity just based off of a button
for the widget so it's gonna be a little
bit different than we would if we were
just creating a regular activity where
we set up an intent and we just say
start activity we need to identify it
with the button and all that stuff
within our code so before we call this
update method for our app widget manager
we're actually gonna add some lines of
code here so this is where we're gonna
set up our intent that we want to open
and we also got to set up a pending
intent pending intent because that's
what remote views that's what widgets
like to use all that good stuff so again
we're going to set up an intent and
we're just gonna say this intent is I in
and we're just going to set this equal
to new intent and we're gonna refer to
our context which again we reference
that C and then the activity that we
want to open or the class that we want
to open so we're gonna open the splash
activity or the splash class or again we
call that class splash and then we just
say we have to refer to it as a class so
that's kind of similar concept that
we've done previously yeah yeah yeah
nothing new and it might have might have
been a while though
go ahead so now we're going to set up
something called a pending intent and
we're just gonna call this pi4 pending
intent intent we're going to set this
equal to the pending intent class and
we're just going to say dot get activity
and it takes four things with this
there's a context which we're gonna say
see a request code which we're just
gonna say zero and intent which we're
gonna refer the intent we just set up
which we called I in and the flags as 0
as well so that's new this is something
you know that we use with widgets
pending intents and now what we have to
do is we have to set or on click you
know our onclicklistener basically to
the button that we have in our widget so
it's going to be kind of similar again
we set up this remote views and this is
how we set our text view now what we're
gonna do is set our onclicklistener for
our button so what we're gonna do is
we're gonna refer to our views which is
a remote view and then we're just gonna
say set on click pending intent you
gotta go pending yeah what's up with all
these pending intents well that's just
the way that the widgets like to work I
don't know they're kind of weird but
we're just gonna go with it and then all
we have to do is refer to our button
within our widget layout so we're just
gonna say our dot i d-- dot button
widget open is what we called that
reference and we need to pass in the
pending intent intent which we set up
here called p.i and there we go
and again our app widget manager is
gonna update everything according to the
ID and this remote views that we set up
and again all we're doing is setting up
an intent of the class that we want to
open and we're setting up a pending
intent which is going to kind of just
refer everything to the context and to
the intent that we want to open and then
we just have to set our onclicklistener
you can think of it that way but it's
called on click pending intent to that
button widget button and the application
that's going to open so and all we need
to do is we need to set a result so what
we're going to do is we're gonna set up
a new intent and we're gonna call this
result something like that we're gonna
set this equal to new intent as well
make sure the spelling is correct there
and then what we're gonna do is we're
gonna say result and all we got to do is
we got put extras in just like when we
were working with the bundles a while
ago or put extra I should say when we
were working with those bundles we're
just returning some data back to you
know the app or the widget that called
this class so what we want to return is
app widget manager and dot extra and
that's just going to be basically the
key value or the key reference and it's
going to just refer to the apps the app
widget ID for this you know let's
activity then we're going to return the
value you as the ID that was being
passed into the class and all that good
stuff so we're just gonna say aw ID
which is our variable that we set up for
this activity and then all we're gonna
do is we're gonna say set result set
result
and we're just gonna say yeah
everything's okay if you guys remember
again when we worked with bundles I tell
it yeah everything's fine and then we're
also going to say result that's intent
that's being passed back so that's
basically how this works again you know
we set up an intent and we're passing or
updating our widget app and then we're
updating the specific ID that called
this activity to start and we're also
setting the result to be passed back to
that to the widget I keep saying app so
sorry for that and you know everything
is good to go
so let's run our application and make
sure it works also talked about some of
the things that you guys can do to fix
or you know try to fix which is part of
which is the fun part of programming
always solving problems and that stuff
or seeing if you can figure out how to
do the solution so here's our activity
we're just gonna go back he's gonna
click on the screen and add a widget
again it's gonna be of the type new
Boston and as you can see it opens our
configuration activity we're just gonna
type something hit the button it's gonna
set the results and send it back to our
first text view and our button will open
up hopefully the new Boston as you can
see the splash screen which I narrowed
down like half a second because I was
sick of listening to it but yeah so that
works and then the problem is is it's
not calling that on update method
because when you use the configuration
type of widget it won't call the on
update the first time you create that
the widget so you can either try and
solve that problem by you know doing
that within this configuration class you
know setting that up as well and all
that good stuff but hopefully you guys
understand a little bit more about
widgets and I'll catch you guys in the
next tutorial have a good one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>