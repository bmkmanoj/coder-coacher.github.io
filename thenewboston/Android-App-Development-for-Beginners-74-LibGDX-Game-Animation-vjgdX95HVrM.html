<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Android App Development for Beginners - 74 - LibGDX Game Animation | Coder Coacher - Coaching Coders</title><meta content="Android App Development for Beginners - 74 - LibGDX Game Animation - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Android App Development for Beginners - 74 - LibGDX Game Animation</b></h2><h5 class="post__date">2015-02-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/vjgdX95HVrM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright guys welcome back and in this
video as promised I'm going to be
showing you guys how to create basic
animations so before I begin just want
to mention that I already imported
everything that I needed to so if you
want to pause the video and copy this
feel free Oregon my forum and just copy
it whatever but now that that's taken
care of
check this out now you guys already know
what an animation is it's essentially
just a series of images and when you
play them right after each other it
looks like movement so you see how these
images are actually slightly different
from another if we were to take these in
plan after each other real quick it's
going to look like this guys gun is
backfiring you see the bullets like
small then it gets bigger and then even
bigger than this like charge thing is
coming from is gone since these images
are slightly different played after
another real quick it looks like
movement alright nothing new there so
now we have to figure out how to take
these images and turn them into
animation so you're probably thinking
are I going to go in here and you know
what Queen to you we could probably make
a loop and then with each iteration we
can just draw the next image well that
is a good idea and that's what a lot of
people do whenever they develop games
however lip GDX
comes with a bunch of built-in tools to
make animation really really simple now
in order to use these tools you first
need to create an animation atlas what
the heck is that well anytime you have a
bunch of similar images for example
images used in animation or if you're
making like a 2-d game like Pokemon or
you remember like the or old um war
crafts like warcraft one we just have a
2-d game in a 2d map anytime you have a
group of images that are related in some
way what you do is you group them
together in an image or a texture Atlas
and this is just a way to tell libgdx in
your framework these images are related
so you can just like do something like
make a loop however whenever you group
them with an image Atlas it not only
makes animations really easy but it
helps out with performance a lot cool
sounds pretty awesome so how to create
this image Atlas thing I know we're
probably going like go to Photoshop and
start dragging all this crap together
and then we need to do something stupid
it's going to be annoying we'll check
this out there's actually a tool online
and this is what everyone uses when
they're working with libgdx atlases so
go to this URL and once you're there
click this texture Packer it's the very
first one GTX - texture Packer and just
download this and what it's going to do
is it's going to give you a zip file and
it's done yet all right there we go so
I'm going to double click this and
extract it and it's done - done done -
done it is extracting sweet alright so
double-click the file and inside here
you're going to have a jar file now this
is essentially just a Java program and
let me clean all this up alright so what
this program is is a really simple and
easy way to take a list of images and it
makes the atlas for you so pretty
awesome so how you use it is you just
click new pack and what do you want the
name of your pack to be just name it
shooter and this is just um pretty much
a group of images it doesn't really
matter what you name it now the input
directory is it's asking all right
you want me to group together a bunch of
images what folder all that are they in
so mine are in can be extra shooter dude
and again this is just the directory
it's looking at this is the shooter dude
directory so that's what I'm giving it
whenever I hit open now for the output
directory it's going to say ok I'm gonna
make this atlas for Dia where you want
me stick it when I'm done with it and
the output directory is just
in your android project if you go to
android and then you go to assets just
highlight assets and hit open and it
also like that for you now the last
thing you need is a file name and I'm
just going to name mine shooter looking
good now if you hit pack them all then
fit in a pack and everything together
done how quick was that house thinking
easy was that so you're going to hit
close and ladies and gentlemen you now
have a group of images or an image atlas
in your program and if you want to
scroll and check them out you can
actually look what the atlas looks like
again it's just a bunch of information
and this pretty much is just you
actually don't even need to worry about
this because um well that's like the
point of the tool take care of all the
behind-the-scenes stuff but it's a file
that has a bunch of information about a
group of images so you know if you ever
really felt like looking at it you can
but the cool thing like I said really
really don't need to worry about that
that was what the tool is for all right
now in your code let me go ahead and
show you guys how easy this is so we're
going to declare three variables the
first one needs to be a reference to the
texture atlas and you guys already know
what that is just talked about it now
the next thing is going to store the
animation data essentially saying what
images do we want to use for the frames
and how long they're going to last for
do you want your image to appear slow
fast whatever all that good stuff I'm
just going to name mine animation and
the last thing we need is variable
called time passed
now how your animation is going to work
is this we need to throw in the time
pass so the animation knows where it is
in the sequence now we don't even need
to get like or make any calculations to
figure out how much time passed it's all
built in for you and I know that this is
kind of weird but it's just how
animations work in libgdx so I'll show
you guys how easy this is if it sounds
confusing right now many ways
those are the three objects that we need
so now in crate let's go ahead and
initialize first shooter Atlas and
remember this was just equal to your
Atlas itself so you set this equal to a
new texture Atlas and then for G DX you
pretty much um say where the file is
where is the Atlas that you just created
so in files internal you just give the
string and ours is called shooter dot
Atlas all right looking good so again
this is just saying in my files look for
a file called shooter Atlas and that is
the treasure that you are looking for
simple enough so now that we have a
reference to the Atlas what we need to
do is we need to start making that
animation so set this equal to new
animation and the first parameter it
takes is how long do you want to play
these frames for now we have six
different images as our frames so we can
have one of those images last an entire
second most of the time you have about
30 frames a second in other words on 30
different images every single second so
what you do for that is you would put
one over 30 F and I'll talk to you guys
in just a second what's going on but for
the next one the other part of your
animation is what images do you want me
to play so again that's all the
animation is a list of images playing
for a certain duration one after another
now our list of images how convenient
they are actually in shooter atlest Shh
and if you hit get regions what it's
going to do is it's going to get all of
the locations for you and again remember
when I showed you guys that Atlas file
there are other pieces of information in
there like coordinates and stuff like
that we don't need to worry about that
because this is going to pick out
everything for you exactly where it
needs to be in return a list of images
so these are the images and this is the
duration that they
play for it now here's the thing with 30
frames a second right now that's pretty
good whenever you're making games
however remember I'm on a screen
recorder making youtube tutorials and
also I'm going to be recording my phone
which is a weird arm I actually don't
even know what bitrate or framerate
that's going to appear at so I'm going
to play my animation really slow like
maybe um 1 out of 10 in 10 images or in
other words your image is going to
change 10 times every second it sounds
fast but if you're looking at it in real
life it might look kind of choppy and if
this is actually displaying too fast on
YouTube for all my like screen recorder
crap I'll have to slow it down even more
actually let me just go ahead and play
like 3 images a second and if that looks
bad then I'm just buying a new screen
recorder anyways now that we got
everything set up what I want to do is
I'm going to go to shooter at lists in
dispose because once we're done with it
we can free up the memory looking good
and let me clear the screen white right
now good enough all right
do I want to change the color let me
just change it actually let me change it
to like green so for that just want to
show you guys that you can indeed have
something other than white so the red is
zero green is one which is essentially
100% and blue is 0-2
all right so in between here remember
the first thing that we need to get is
the time that passed since our animation
began so that way whenever this is
playing the animation behind the scenes
it knows exactly where it is in the
sequence it knows what image to use so
for the time passed all we do is this
you think all right
have to get some variable subtracted
from another variable and then we might
need to convert it to like a time for
Java that's a panda but uh-huh
all you do is this GDX graphics
get Delta time boom roasted by the way
working with time on computers in
general is a painting but so thank you
whoever made these methods because send
me a bunch of time
how ironic alright so the last thing we
have to do is actually draw this or
display on the screen so batch draw what
are you trying to draw well we're trying
to draw the animation now remember each
time we draw we just want to get one
image one keyframe and what we do is we
passed in time passed and true now true
is going to tell your animation to loop
so without this it wouldn't play one
after another so this is just going to
continuously loop until we close out of
the app now the other two parameters of
course are just the coordinates I'll put
like let's play oh I don't know like 300
500 good enough so yeah you know I think
that's it so let's go ahead and see if
this works all right so there's my
little green dude shooting his gun while
he's not green but the background is
green and yeah hopefully you guys can
see that and it will probably display
better on a white background but you
guys get the idea and I'm kind of
digging this green background it reminds
me of the Ninja Turtles but anyways
there you go that is the basics of how
to create an animation and libgdx hope
you guys loved it I'll see you next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>