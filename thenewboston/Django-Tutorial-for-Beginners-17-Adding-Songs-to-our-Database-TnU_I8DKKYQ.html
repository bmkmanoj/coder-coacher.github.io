<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Django Tutorial for Beginners - 17 - Adding Songs to our Database | Coder Coacher - Coaching Coders</title><meta content="Django Tutorial for Beginners - 17 - Adding Songs to our Database - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Django Tutorial for Beginners - 17 - Adding Songs to our Database</b></h2><h5 class="post__date">2016-03-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/TnU_I8DKKYQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright guys welcome back and in this
video what I'm going to do is I'm going
to show you guys how to add songs to
your database because right now we just
have a couple albums in there and we
know how to add those already but we
didn't have any songs and more
importantly whenever we add a song it
has to be associated with an album so
how do we work out that Association well
before we do what I would like to do is
create a string representation of a song
so just like before we did it with album
and now we are going to do it with song
so whenever we need to represent a song
all I'm going to do is print out the
song title I think that'll be our right
art now another thing I want to do
before you start getting into actually
adding these items the database is I
want to make sure that we can work with
it in our admin panel because right now
we can only CL bones so if I go here and
we import song then we can also register
song and that way whenever we start
adding songs we can actually manage them
through the admin panel in Django
looking good now another thing I want to
point out is if you guys are like oh
wait a minute
you actually need to do the migrations
thing because yep you updated the model
and now you need to sync it with the
database well the reason that we don't
need to do those migrations is because
whenever I say you need to sync it with
the database that's only if you're
adding or deleting attributes because
these represent columns in your tables
whenever we just made this little change
we aren't actually adding or deleting
any columns from the table it would only
be if you did something like um song
length because this would actually
change the structure of your table
whenever you are just representing this
class it doesn't matter it doesn't
change your database structure at all so
no migration is needed pretty cool all
right so let's go ahead back in our
admin panel and we can see that we now
have another section albums that we had
before we still have to in it Taylor
Swift's album in skate park by myth and
we also have this songs table and right
now look at that we have zero songs so
let's go ahead and change that right now
so open up your terminal and let me
expand that so you guys can see and we
need to enter that django database API
show so Python managed py shell now
remember just like before what we need
to do is we need to import music dot
models album and also song so we
imported those models and there are
actually a couple different ways that
you can add songs now before we do what
we actually want to do is we need to get
a reference to an album because if we
look at our models each song it has an
attribute that points to an album so
let's go ahead and get a reference to
that Taylor Swift album and then we'll
start adding some of her songs so if you
guys remember how to do that just go
ahead and make a variable and I'll just
name it album one you can name it Taylor
Swift's album whatever you want to do
and album objects if you just write all
it's going to give you all the album's
but what we want to do is we just want
to get the album with the primary key of
one so now as we can verify album one
what did I put I'll just put artist
alright so we know that this is the
right album because the artist is Taylor
Swift so now what we can do is we can
actually start making a song object so
right now we made a blank song object so
let's go ahead and start adding all
those attributes so we need to give it
an album attribute a file type and a
song title now usually you wouldn't even
have file type in here because whatever
file the user uploaded you just extract
it from that but you know I was bored so
I thought I might as well put it in
alright so first of all
the album for this is equal to album one
this object right here alright now what
else did we need file type and we'll
just pretend that this is equal to a mp3
and song title I hate my boyfriend and
the last thing we need to do is song
safe so right now we just set all of the
attributes that we need to do and the
last thing is whenever we call the safe
function on this object it actually
saves it to the database so check this
out I'm going to go back in my admin
panel I'm going to hit refresh and we
now see that we have a song in there so
if we click it for more details the
album is this right here Taylor Express
file type mp3 and song title I hate my
boyfriend now just like before if we
ever need to change anything like maybe
she got back together with her boyfriend
we've changed it to I love my boyfriend
and just save it again and boom
roasted look at that so now let me go
back to all my songs and alright so that
was one way that we could add a song</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>