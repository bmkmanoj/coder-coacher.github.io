<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Intermediate Java Tutorial - 41 - Waiting for a Connection | Coder Coacher - Coaching Coders</title><meta content="Intermediate Java Tutorial - 41 - Waiting for a Connection - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Intermediate Java Tutorial - 41 - Waiting for a Connection</b></h2><h5 class="post__date">2012-05-31</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/7Y2rj3tFQK0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright guys welcome to your 41st
intermediate Java tutorial and again
like I said this program is going to do
three main things it's going to wait for
someone to connect with once someone's
connected it's going to set up the
streams or set up the connection between
you and them and the last thing it does
is it runs the program while you are
chatting allows you to to communicate
with one another so I think the easiest
way to teach you guys how to do all this
was is just to do it in order the first
thing that I'm going to be teaching you
guys in this video is how to wait for a
connection so someone else can connect
so make sure that you are outside your
start running method and um make sure
you're inside your class obviously so
this method is basically going to wait
for connection then um once you are
connected I just want to give you guys a
nice little prompt on the screen that
says you know you're connected with you
know whatever their IP address is then
display um
connection information so again remember
that this method is called wait for
connection so might as well know I can
type that I'm not that lazy so private
void wait for connection and it's not
going to take any parameters in what's
going to do is it's going to throw an
i/o exception all right so we're good to
go so the first thing I want to do is
remember this is pretty much the first
main method that gets called
so whenever um you're waiting for a
connection I just like to have a little
prompt on the screen that says show
message to let you know okay the program
is set up successfully you're just
waiting for someone else to connect so
waiting for someone to connect dot dot
because you know that's what you do
whenever you're waiting I guess and oops
alright there we go so basically
whenever this method gets called we're
going to know that it successfully gets
called and we're successfully waiting
for someone to connect because we get
this prompt on the screen not a whole
lot of programming value but you know
it's good to show the user that you know
it is working you're not just sitting
here waiting for your program to load
so the next thing we need to do is we
actually need to set up this socket now
remember the socket is the connection
between you and another computer and we
name this variable connection now let's
go ahead and actually create this
variable connection set this equal to
server except now I guess I might as
well explain you guys what this is right
here of course I forgot to say this but
we're going to code the show message
method later on that's where we're
getting an error but pretty much all it
does is display something on your screen
but anyways back to this now the
connection is the socket and what server
except does is once someone asked to
connect to us asked to say you know what
I want to have a conversation with you
then it accepts a connection to the
socket so it's basically going to be
waiting on our server and this loop is
going to go over and over and over again
and every time it loops like every
millisecond it's going to be waiting for
someone to connect is someone connected
now no how about now no how about now no
how about now no how about now yes and
once you have that connection this
variable or connection or socket
whatever you want to call it goes by
many names gets created and a connection
or socket is created between you and
another computer the server and the
client so there you go that's basically
the essence of you know that's basically
all you have to take away from this
tutorial that you want to keep doing
this over and over and over again and
once the server finally has someone
connected with a socket or a connection
is made and let me see if I can um yup I
don't know if you guys can see my little
if I press f2 and move it crap on oh if
you guys can see this in the window but
basically oh crap alright I might as
well explain it since it's you know kind
of the purpose of these tutorials
anyways is setup you guys just reading
the documentation basically it says it
blocks a connection until it's made so
you know that this method is going to be
created or this method is going to be
called over no
we ran over a game called wait for a
connection pretty much every millisecond
it's going to be called so you must be
thinking you know what does that mean
that every millisecond is going to
create a socket that you know it's just
going to be like an empty socket that's
that connects to no one well no it
doesn't the only time that your server
is able to create a socket is if it's
actually connected to someone so it's
not going to create you know a billion
empty sockets and then one time it
connects to someone you know keep
creating them again and again and again
it's only going to create a socket one
time and so it's not really like a
variable where if you loop it over and
over and over again it's going to create
a hundred different variables it only
creates this connection if it's
connected to someone so you know that's
a thing that a lot of people ask me on
my forums so I thought I might as well
just go ahead and explain it now so the
next thing you need to do is now that
you're connected to someone let's go
ahead and just put another output
message too lazy to type it and I know I
didn't put ctrl-c ctrl-v I know about it
I'm just too lazy to a you know type
with my left hand from time to time so
we'll just say once you have a
connection now connected to
a connection which is the socket itself
and there's a method that you can put on
here called get and address and what
this does is it pretty much returns the
address where the socket is connected
basically it returns your address if I'm
connected to you and the last method
called get host name is the host name
pretty much the IP address but it
actually converts it to a string as you
can see because the show message it's
only going to be able to you know accept
strings so you know if your IP address
is you know one two three four five six
it's going to say okay now connected to
one not one two three four five six
that's all so basically that is the end
of you know this program basically wait
for a connection which is the first
method that we have to build is the
first thing the first time it gets
called is going to give you a nice
little prompt on the screen that says
you know what all you're doing right now
is waiting for a connection it's going
to wait for someone to connect and once
they finally do a socket is going to be
created and once a socket gets created
it's going to say okay now you are
connected to four five six seven eight
nine or whatever the heck your IP
address is so there you have it in the
next Soria where we're going to be doing
is I'm going to show you guys how to set
up the streams or the connections that
pretty much allow you to send messages
to the other person and receive messages
from the other person so that's what we
have to look forward to so thanks for
watching and we can subscribe and yada
yada yada see you later</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>