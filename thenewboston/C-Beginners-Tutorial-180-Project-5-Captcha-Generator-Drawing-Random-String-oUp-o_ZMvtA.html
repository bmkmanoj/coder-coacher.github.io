<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>C# Beginners Tutorial - 180 - Project 5 Captcha Generator, Drawing Random String | Coder Coacher - Coaching Coders</title><meta content="C# Beginners Tutorial - 180 - Project 5 Captcha Generator, Drawing Random String - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>C# Beginners Tutorial - 180 - Project 5 Captcha Generator, Drawing Random String</b></h2><h5 class="post__date">2011-09-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/oUp-o_ZMvtA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys welcome with a hundred and
eightieth c-sharp tutorial than I'm
making for the new Boston and in this
tutorial we're going to continue working
in our capture generator so the first
thing they're going to need to do is
just draw that text that we want have
user type in so the first thing we need
to do is just say G or our graphics draw
string and we're gonna have to generate
a random string if you don't want it to
be the same string every time or that
would be secure at all defeat the
purpose so we're just gonna want to go
up here and create a character right and
then we're just going to generate a
random string so we're going to create a
character array that will hold all the
possible characters they can be in our
string so I'm going to call this
character and say equal to all the
letters of the alphabet and then I'm
also going to add numbers and that
should be pretty secure I'm gonna type
in every letter and do all the numbers
and then it's gonna do two character
array to convert that into a character
right alright and then I'm going to
create a string up here and this would
be the string that we're actually going
to draw then I'm just gonna call a
random string right here so you go to an
empty string and I'm just gonna create
for each statement and basically what
it's going to do is loop through and
basically just find a random index of
this character array and add it to this
random string right here so let me say
for I 0 is less than 6 I guess when they
get a 6 character string and increment I
by 1 time here all right and then we're
just going to basically create a new
random number and that random number
will be the index of the character that
we're going to add to a random string
we're going to say random string plus
equals characters and the index that we
want it to be is just going to be random
so let's say ran dot next stop next
right here and the minimum will be 0 and
Aksum v35 since its 36 characters inside
of the character right alright so now we
should have our random string right here
now I just don't want to draw that
random string and we're also going to
have to select font so we're gonna have
to go up here and create on let me say
new and for our font we're going to need
to have a font family so we're going to
go up here and create a new font family
font family font family font and the
font that we're going to be using is
just Arial Arial but you can honestly
make it anything if you that you want to
make it like more harder for a box to
actually read it read this image you
should probably make it a different font
but I'm just gonna leave this Ariel
right now alright and then that font
will be the font family and then
following that will be the size of the
font I'm just going to make it 14 at
sums of a good size so it should fill
some of this panel I guess all right now
they have our font created we could just
pass that through this drawstring method
and with our brush we're just going to
be using that solid brush that we
created Sofie and the point on our panel
that we want it to be drawn on and since
the sides is 222 by 128 I'm just gonna
make it one key 20 sounds like a good 20
20 so that should have it be drawn
approximately here and go across
alright and now that we have our string
created let's just go ahead and test
this out and make sure that it does draw
a random string each time but before it
draws another random string we're just
gonna want to clear that panel so they
don't have multiple strings on top of
each other so just going to want to
clear the panel to its back color so
they panel one back color right here and
now this empty out that panel of any
drawings that we have in there alright
so let's just call this generate
CAPTCHAs and we're just going to do 0 it
doesn't really matter it's going to do
this code anyways so it
go ahead and make sure this works right
here just click start and we should see
a random string right there and it's
just a random color as well and we could
actually probably move that down the
page a little bit more so if we were to
just change the Y a little bit so for me
the Y like 52 make sure that this is a
good spot let's start and yep that's a
good spot
click start again it should just be
random string each time with a random
color so now that we have a random
string and a random color we're just
going to on to do draw shapes basically
around it and on top of it to make it
harder for I'm a computer program to
read that image and convert it into text
but that's it for this tutorial in the
next tutorial we'll get into doing that
so see you guys</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>