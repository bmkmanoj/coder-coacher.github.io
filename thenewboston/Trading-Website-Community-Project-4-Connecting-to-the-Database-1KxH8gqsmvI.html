<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Trading Website Community Project - 4 - Connecting to the Database | Coder Coacher - Coaching Coders</title><meta content="Trading Website Community Project - 4 - Connecting to the Database - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Trading Website Community Project - 4 - Connecting to the Database</b></h2><h5 class="post__date">2012-03-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/1KxH8gqsmvI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's going on guys welcome to your
fourth video and in this video I know I
told you guys that I'm gonna be talking
you through all the tables in the
database and what they mean and what
they do but I was thinking about it and
I think it's gonna be much easier to
understand if I just talk to you guys
about the table structure as we add the
features for example whenever we work
with the messaging system on our website
that's what I'm gonna talk to you guys
about what all of these columns mean
because if I just go ahead and talk to
you guys about all the tables and all
the columns right now it's gonna be a
little overwhelming and it's not even
going to make sense so what I'm gonna be
do is I'm pretty much gonna be coding
this website exactly as I would from
scratch and I'll just talk about the
tables whenever we come to it so the
first thing that we need to do before we
could build a page to register users or
log in or look at items add items is we
need to build a simple connection script
now what this script is gonna do is
basically allow the user to connect to
our server and therefore connect to our
database so this is how we do that go
ahead and build a simple plain PHP file
and like I said why do we want to make
this script right now because this
script is pretty much going to be on
every single web page that allows the
user to connect to the database now
instead of having to rewrite the same
code 40 or 100 times depending on how
many pages you have we're just gonna
write it once and then we're going to
include it in every file that we need
it's going to be much more simple that
way so go ahead and hit save as and
check this up this is the main directory
for our website that we're saving this
as however the main directory we really
want to save for the main pages that the
user connects us for example my account
add item log in register view item this
connection file that we're building
right now it isn't a page that the user
accesses directly it's just a little
include that we use as a developer so
since this isn't one of the main folders
that we need them to see go ahead and
make a new folder
I met main files by the way and I'm just
gonna name mine
includes now anything we store in this
folder is a file that we don't want the
user to access directly rather a little
bit of code that the developer needs so
I'm gonna save this as connect dot PHP I
think it's pretty easy to see by the
name of that that this script is
responsible for connecting to the
database and check it out
in order to connect to the database we
need to do a couple things first the
first thing we need to do is say hey
this is where our website is and that's
the server that I want to connect to so
go ahead and make a variable I'm gonna
name mine connect and I'm just gonna set
this equal to a function called my SQL
underscore connect now what this
function does is it takes three
parameters the name of your server
because there's a bunch of servers on
the internet we want to tell them that
we want to connect to my server the name
of the user or your username and the
password for that user to make sure that
user has privileges so again since we're
going to include this file on the same
server that we want to use let me go
ahead and show you this database right
here is on the same server that this web
file we're creating right now is going
to be so whenever you have the file in
the database on the same server just go
ahead and type a localhost localhost
pretty much means the same computer now
for your username remember we saved this
information right here that I'm not
going to show you guys because my
passwords right there but the username
is Bucky underscore user we made that in
the last Oriole now the last thing it
needs is a password for that user to
make sure just not anyone can log in and
the password for this guy is that thing
right here that I'm not going to be
showing you guys either but after this
what we want to do is we want to make
sure that this line of code ran
successfully
now whenever this line of code runs
successfully it returns the value true
and it connects to your server however
when it runs and it doesn't run
successfully maybe you've servers down
or maybe your password is wrong or
something like that
it
turns false so what we want to do is
make a simple if statement to test if
this returned true or false if it
returned false then we want to output an
error message if it returned true then
we don't want to do anything because
everything is going smoothly so if you
couldn't connect to your server this is
what I want you to do I want you to run
a function called die now what die does
is pretty much terminates your script if
you can't connect to your server there's
no use doing anything else so go ahead
and just die now Die takes a parameter
of a string so what we want the string
say is just make your own custom error
message could not connect and I also
want to output I also want to what's it
called when you append to a string just
append I think add onto the strength my
SQL underscore err there we go so what
this is going to do is this is another
built-in function that's gonna
definitely come in handy and what this
function is is a string of whatever your
error is so typically you don't want any
errors to show to the user but for
testing purposes you want to include
this a lot to make sure everything's
running smoothly so if for some reason
you couldn't connect to the database
it's going to say could not connect and
it's gonna give you your error for
example um maybe user doesn't exist or
password is invalid or I don't know
whatever errors they decided to name it
so this bit of code is gonna make sure
you connect to your server and now check
this out say you have your server right
here and this server stores a bunch of
different websites and you have like 10
different databases how does this script
right here know that you want to work
with this database instead of this one
or another one or another one well it
doesn't right now so that's why we need
to tell it so in order to connect to a
specific database go ahead and make a
variable called DB underscore selected
and we want to set this equal to another
function this is another built-in
function that's built into PHP my SQL
underscore select underscore database
now this database
takes one parameter and I think it's
gonna be pretty easy to know the
parameter of this yes
the name of your database in my database
is named Bucky underscore Lisa so now
what we want to do is just like this
function right here on true it's just
gonna go ahead and connect to your
database but if it returns false for
example if this database name is messed
up or if your servers shut down or
something then it's going to return
false so we want to go ahead and ensure
that we're connected by including this
little bit of code right here so instead
of testing if it's connected to your
server we want to test if it's connected
to our database if it's not then just go
ahead and make a little prompt like
could not select database and it's gonna
give us the error like database not
available or something stupid like that
so there you go go ahead and save your
connection file PHP now go ahead and go
to FileZilla and let's go ahead and just
refresh and upload all of our new code
index and includes in our new files in
there so now what we can do is go ahead
to our website and run this bit of code
includes slash connect dot PHP now
remember we only outputted an error
message if something went wrong we only
should see this error message if you
can't connect to your server or you
can't connect to your database other
than that we should just see a blank
page so let me go ahead and hit enter
and we get a blank page which means
everything is connected we're connected
to our server we selected the proper
database everything is running smoothly
so that is how you connect to your
database and you know server and all
that good stuff so in the next tutorial
now that we're connected we can finally
start beginning our registration page
how users can sign up to use the website
create their own custom accounts so
thank you guys for watching I'm going to
subscribe and uh yeah I'll see you in
the next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>