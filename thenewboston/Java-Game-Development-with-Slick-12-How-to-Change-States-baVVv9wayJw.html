<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Java Game Development with Slick - 12 - How to Change States | Coder Coacher - Coaching Coders</title><meta content="Java Game Development with Slick - 12 - How to Change States - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Java Game Development with Slick - 12 - How to Change States</b></h2><h5 class="post__date">2012-06-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/baVVv9wayJw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright guys welcome to tutorial number
12 and in this lesson what am I gonna be
doing is I'm gonna be teaching guys one
of the last main concepts concerning
slick 2d and that is how to change
States now remember like I said in
probably one of the first tutorials that
a game is made up of many states which
is basically different views or
different screens that you can play your
game in now we only have two right here
we've been working in the menu and we
also have this play screen over here so
what we're gonna be doing is we're gonna
be building a very simple game we're
just gonna be having a button that
whenever you click it it goes to a
different state so since well obviously
if you can see I cleaned everything out
again I don't have any variables any
code right now if we go ahead and run
our game right now both of the states
menu and play are just black plain boxes
right here but what we want to do is we
want to add a little bit of text into
this place state just so whenever we go
there we know that we are in the place
they and something did happen so gee
draw string not your g string that'd be
wrong and just add a little prompt that
says i don't know something this is the
play state and just go ahead add it a
100 100 that should be good and okay so
that looks pretty good
basically all the place state is is just
some text on the screen and just add
something there so you know that
whenever you go to the place state it
says something so now we're gonna be
getting to the good part in learning
actually how to change states so by
default as soon as your game loads the
first state that pops up is the menu
state now that's what we want
but in this state let's go ahead and add
a little button and by a button i pretty
much mean just the oval with some text
above it so g fill oval probably don't
want caps lock on the g fill
oval and okay what am I gonna do let's
put it like 75 100 100 100 all right so
we got a perfectly round circle that
will be our button and it's at 75 over
100 down so now what I want to do is I'm
just gonna add a little string of text
right above it Shoji draw string and I
will make this say play now so whenever
we click this button it's gonna take us
to the play screen so that's why I said
play now above I could just roll play
probably would have made sense but you
know whatever
80 and 70 so now what we have is a
string of text that appears above a
little circle and what we want to do is
have it so whenever you click that
circle it takes you to the place screen
or the play state so let's go ahead and
do that so the first thing we need is
the hop over and our input or excuse me
our update getting ahead of myself in
access that input information again so
input equals GC get input and what this
is gonna do is store all of the input
from the keyboard and the mouse now we
are really only concerned with the mouse
input because you know we aren't using
the keyboard in this example is just
whenever they click that button that's
when I want to take them to the other
state so in order to track make sure
that they're clicking inside the area or
on the circle we need to track the mouse
coordinates so int expose equals which
stands for the x position of the mouse
equals Mouse get X
and it's why position equals Mouse get
why which tracks the y-coordinates of
the mouse so now what we can do is let
me think what I want to do well I guess
we don't need any other fancy stuff
let's just go ahead and stick with the
demonstration go ahead and throw
everything in an if statement
now what this if statement is gonna do
is it's gonna say okay if your x
position of the mouse is inside the
circle and your Y position of the mouse
is inside the circle then go ahead and
you know take them to another state so
I'm actually going to add two sub tests
in here and put a hand in between so if
X position is greater than 75 and X
position is less than 175 and we did
this because remember we started at 75
so that's the leftmost area and the
rightmost is just a hundred more than
that so greater than 75 but less than
175 and the y position this is where it
gets a little tricky and you need to do
a little bit a quick math is greater
than 160 and the Y position is less than
anything
so there'll be 260 and I'm just gonna
format this so you guys can see a little
bit better and now you guys are probably
saying you know what okay I understand
you know seventy-five 175 because this
circle starts at 75 and won't let me go
ahead and show you guys I'm probably run
this right now I'll pop up so the circle
starts at 75 right here and if you add
another one 100 to it because that's the
width of the circle it would be 75 in
the 175 just like this but check it out
for the Y position I put it 100 down and
also 100 height but whenever I checked
it I did 162 60 and that is because
remember the coordinate system for these
libraries goes from the bottom up so
since my screen my little game right
here
is I think it's like 640 by 360 I know
it's 360 then that would mean 160 into
6100 because that's the height of the
circle and yours is probably gonna be
different so you know never mind that
just go ahead and um you know just
figure it out
and someone sent me something let me
just go ahead and check my phone real
quick Oh an email from eBay they sent me
one of the 200 emails of the day all
right
so now what we can do is this is the bit
of code that's going to run whenever
they have their mouse inside the circle
but we don't want to take them to the
state when they put their mouse inside
the circle what we want to do is we want
to check furthermore if you're inside
the circle and you click that button
down if you just go ahead and take them
to you know the place state whenever
they enter the circle as soon as their
mouse hovers over its gonna take them to
the state and they're gonna make well
dude I didn't even click anything yet
what the heck so that's why we need a
further check to make sure that they
click the button so if input is mouse
button down zero now let me go ahead and
run this finish this code and then I'll
show you guys talk you guys through SVG
enter state ID 1 okay so first let's go
ahead and take a look at this if
statement right here so what is mouse
button down means is it checks to see if
they clicked a mouse button basically so
why did I throw 0 in here is the
parameter well you know how you have a
bunch of different buttons on your mouse
left click right click the scroll wheel
zero means left click which is basically
what people normally do one is right
click so that's why you need zero or one
so that's what this check does basically
says if you left click inside the circle
then take you to a new state so what
this says right here is state based game
enter state 1 which basically means take
you to a new state or new screen now
remember every state has an ID number
and if we look at game menu is 0 which
is the one we're on by default and play
is 1
so the ID of play which we want to go to
is one so just pass in whatever state
you want to go to ID in the enter state
method so now hopefully if we go ahead
and run this and it says already running
because I already have it running go
ahead and run it again
now by default check it out we're in the
menu state right now so this would be
like the main menu of the game so now I
go ahead and enter the area and click
and check it out it says this is the
place that we are now in the play area
the play screen we can now you know do
our fun playing the game crap so again a
couple of things I want to point out is
when you click outside the circle can
you hear me clicking now it's not doing
anything
and well that's basically it so that's
why we needed another check to make sure
we're inside the circle and whenever we
click it it takes us to the new state
the new view so anyways you now know how
to you know add images on the screen
move stuff around create text shapes
titles Mouse input keyboard input change
States you guys pretty much know the
concepts of how to create a very simple
game using slick 2d so I'm actually
gonna take a break
create a huge game and then I'm gonna
come back to you guys when it's all
finished and I'm gonna be showing you
guys how to create an awesome game with
all the pieces put together and it's
gonna be pretty freaking sweet so thank
you guys for watching and eventually
what we're gonna be doing is connecting
this online networking so you can play
with friends so thing guys for watching
and we're gonna subscribe and I'll see
you guys in the next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>