<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>C# Beginners Tutorial - 73 - WebClient Class pt 2 Downloading Files | Coder Coacher - Coaching Coders</title><meta content="C# Beginners Tutorial - 73 - WebClient Class pt 2 Downloading Files - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>C# Beginners Tutorial - 73 - WebClient Class pt 2 Downloading Files</b></h2><h5 class="post__date">2011-09-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/pzl5VMf4Dlg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys welcome to the 72nd c-sharp
tutorial that I'm making for the new
Boston and this tutorial I'm gonna be
showing you how to download a file using
the web client class so all you're going
to need for this tutorial is a button
save file dialog and if statement making
sure that the user actually selects the
location using the same file dialog a
web client and you're going to need to
be using the system dotnet namespace so
that we can use our web client class so
in the previous tutorial we looked at
downloading a string in this tutorial
we're going to download a file and just
like in the previous tutorial you're
going to need to be using this web scomp
and less of course you have your own web
hosting then you can use that and right
here we have two files with a big file
and this status and we're going to be
downloading the status text file first
so we're going to get the URL of this
and in order to do that we're just going
to go ahead and click on the file and we
get the URL right here and in order to
download a file you're going to need to
have the direct link or the direct URL
to it so you just keep that in mind so
it's copy this URL right here so we can
download it and now we're going to use
the download file sync method we're in
your download file of sync and download
file sync will basically run this method
in the background so that we don't have
to have our application freeze or thread
it so it just basically threads it for
you so right here it calls for a URI so
just needs a new URI and that's just
basically a URL and inside of here we're
going to paste of URL so it's going to
do that which is the link to our file
and the second method or the second
parameter that this method calls for is
a file name or the path to where we want
to save file or download the file to met
with the save file dialog for so we're
going to do sfd dot file name and it
will just download the file to wherever
the user selects and save file dialog so
now we debug here and click download
file we should get a save file dialog
we're just going to download the file
into this test
folder I was called status text and now
when I click Save it's your download
file into this test folder yeah now we
now just status text file open it and it
says exactly what it says on right here
all right so now if you wanted to have a
message box to be displayed after the
file is finished downloading you
couldn't just have a message box right
here because since this is a sink it'll
start this method and then continue on
with a code below it so we're going to
have to use an event and thank God there
is an event in the web client class so
we can use do WC dot
download file completed and this is this
event will be triggered when the
download is complete we're going to plus
equals and put tab twice right here and
it will just create a method for us when
the download file is completed and now
we'll just have a message box when
displayed when the file is completely
downloaded and we'll just have it say
file is downloaded all right so now when
our file is done downloading we should
get a message box and a file is
downloaded on this ball it's announced
color FX book save you should get a
message box and the files finish
downloading yeah file is downloaded the
last thing I'm going to be showing you
is how to get the progress of your
download and there's another method
inside of the web client class called
download progress change and this will
be triggered every time that progress
has changed it's pretty obvious the name
of the event but yeah it'll just be
triggered every time that the progress
has changed so we're going to have on a
label and it will tell you the progress
of the download so it can do
label right here and we'll just say that
the text is the safe progress and then
then plus in progress and in order to
get the progress we can use this
download progress change event arts
class and so we can just do e dot our
progress percentage it as a property in
it so it'll just um get how much the
file is downloaded in a percent so it's
like 50 percent download it I'll just
this will return 50 so it'll be progress
and we'll say 50 so now me on click
download file the progress should change
as the file is being downloaded so I'll
just call it like status 1 dot X Save
well it went really fast you couldn't
see it but if we were to download a
bigger file that's a big file is for
then we should be able to see the
progress change so now we download the
big file I'll just call it big file and
click Save we should see the progress
change and yep there's the progress
going up so yep and then we get our
message box at the end saying the file
is downloaded so that's pretty much it
for this tutorial on downloading files
using the web client class so see you
guys</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>