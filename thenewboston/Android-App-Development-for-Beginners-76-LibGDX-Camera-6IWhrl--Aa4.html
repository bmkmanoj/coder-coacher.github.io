<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Android App Development for Beginners - 76 - LibGDX Camera | Coder Coacher - Coaching Coders</title><meta content="Android App Development for Beginners - 76 - LibGDX Camera - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Android App Development for Beginners - 76 - LibGDX Camera</b></h2><h5 class="post__date">2015-02-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/6IWhrl--Aa4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright guys so in this tutorial what I
want to do is I want to start talking to
you about the camera and I'm not talking
about the camera on their device that
they used to take pictures and post on
Instagram I'm talking about your game
camera now if you ever make a game and
the entire map is bigger than the users
view then you need to use a camera what
am I talking about well you know when
you play pokemon then the entire pokemon
world was huge well you just didn't have
the entire world on the little Gameboy
screen you only looked at a part of that
world at a time same thing whenever you
play like Super Mario Brothers Mario
could run left and right but the entire
map wasn't on the TV screen at one time
so in this example here's what I did I
created an image and this image is
actually really huge it's like I think
it's like five thousand by five thousand
pixels obviously whenever you're making
games like this you don't want the
entire view or the entire map on the
device at a time you only want a little
portion of it like this and then of
course the user can like scroll around
zoom in zoom out boom good to go so
that's what I'm going to be doing and I
already added it to my project actually
but if you go online just for this demo
umm find the biggest image that you can
make sure that it's at least like four
thousand by four thousand pixels that'll
probably work the best but uh yeah
that's what we're going to be doing and
again if you're like I want to make a
game but I know it's not going to like
be a RPG where the user is going to be
moving left and right you want to use
the camera in a lot of different
instances as well so pay attention to
this tutorial because it's going to
teach you guys a bunch of awesome stuff
so what I am actually going to do is in
order to add the functionality or the
user input that we need we're going to
implement a class or interface code
gesture listener now gesture listener is
just like input listener except we can
listen for gestures and I'll show you
guys those gestures right now so just
hold down control i and of course things
like flings arm pinches you know all
these things you can't do on the desktop
these are pretty much just events that
the user can do that are specific to
touch devices and I am only worried
about this one for this tutorial this
pan so I'm going to cut it and stick it
up right under my render so again a pan
is essentially just panning around so
that's what I'm doing right here so
that's why we're going to be using that
one thought it was pretty appropriate
alright so now let's go ahead and set
this project up by the way I don't even
know if I I think I mentioned this by I
already imported that image pretty sure
I said that already
alright so the first thing we need to do
is we need to get a reference to our
camera now probably should mention this
there are two different types of cameras
that you can use orthographic is best
for 2d and that's what we're making so
if you're making a game like Pokemon
Super Mario any like 2d style game um
that you kind of think of the most
simple ones most of the time you're
going to be using that there's also a
perspective camera and this is a little
bit weird we're not going to be using it
that much perspective you know like if
you're standing in the middle of a long
highway it kind of looks like it's
getting smaller as it gets toward the
horizon it kind of gives you that effect
but uh it's kind of weird whenever we're
just making games like this so again
orthographic I know it has a weird name
but just think of this like a normal
camera so the next thing I want to do is
this private texture
texture now remember whenever we use
images in our games they are just
textures at first and then we convert
them to sprites pretty much a texture is
just the raw image data and a sprite is
just something that we can like move
around and do cool stuff with so simple
stuff and I'm just going to name that
map sprite because it's our only one now
in create we can actually set everything
up now for the camera I'm going to set
this up first what we do is we say
alright I'm a camera you want me to only
show a certain area how big do you want
the area to be for example do you want
it to be I don't know maybe what is this
like a hundred pixels by 300 pixels do
you want me to show a thousand pixels by
a thousand pixels we pretty much give it
the viewing area whenever we're setting
it up so we're just going to initialize
this to new orthographic camera and what
I want to do free the viewing area I'm
just going to get the width in the
height of whatever device I'm on
so for GDX graphics get with in the same
thing GTX graphics get height so now the
viewing area of the camera is specific
to whatever device that the user is
using pretty cool way of setting it up
now for the texture it's going to
initialize this to new texture GDX files
internal and mine is called I actually
don't even know what it's called world
map dot ping
all right so now we just have to convert
to a sprite new sprite using this
texture so we now have a map that we can
actually move around now what I want to
do is now that we have an object in
other words the map itself
I want to position it and at first I'm
just going to position it in the middle
of the screen now remember the origin of
this is actually the bottom left corner
so if we were to take this and position
it at 0 0 then it would display um you
know only a quarter of it would display
so what we want to do is we want to
count for that little issue so whenever
we take the sprite and we set the
position we need to do is sprite get
width over 2 and the same thing for high
so - sprite get height over 2 now again
all this is going to do it's going to
take the middle of the screen and it's
going to move it down into the left by
half the length and half the width in
other words it's just going to Center on
the screen whenever you first open your
app simple enough now the last thing we
need to do of course just like input
listener we need to say that gesture
listener whenever a gesture occurs to
look in this class to handle those
events so GDX input
set input processor to new
gesturedetector
this and let me tighten this up clean it
up actually might as well just bump all
those together looks a little bit neater
that way all right looking good looking
good now before we go on we just need to
take that texture this is an object that
you actually need to dispose of all
right so now that we have all of our
objects set up let's go ahead and render
and actually draw this on the screen now
here's one little nuisance that I'm
going to tell you guys now whenever you
just use your batch to draw objects on
the screen by default is just going to
try to take all of the Drobo and just
plop them in the screen fit them in
there however it can by default however
we are using a camera and whenever we
use this camera essentially what we're
saying is don't just draw everything on
the screen like this you only want to
draw a portion of these objects at a
time hoop scroll out a little bit if I
can so don't just draw like normal use
this camera to determine exactly what
area we actually want to display to the
user and it actually takes one extra
line of code to set that and that's
batch set projection matrix to camera
dot combined so that's all that line of
code does and now inside batch is where
we do our drunk sprite which is actually
the map itself draw using batch to speed
it up now if we just drew this on the
screen right now it would appear and
then we could swipe our finger and
nothing would happen because we didn't
handle any user input or touch events
right now so in pan what I want to do is
this whenever the user is panning around
what these parameters Delta X and Delta
Y mean are essentially get the starting
position and then get the ending
position and give me the difference so
Delta essentially just means the
difference so we can use this to move
the image depending on how far
move the finger so camera translate and
I already include those Delta X and
Delta Y now what we need to do is we
actually need to put negative Delta X
because stupid Lib GX and OpenGL
everything is flip-flopped around and
it's just one of those weird things now
what this is going to do is it's going
to move the camera but we also need to
call this method as well
camera dots update and I know that I you
think by Auto just in real life you move
the camera and it's always looking at a
new thing you don't have to do anything
else because I know that's just normal
but with game development you actually
need to update the view after you move
it and that actually just changes the
view so now let me go ahead and get my
phone ready alright so check this out
our map is now centered by default I'm
just going to put my finger on there so
dragging around looking sweet this
little world is looking cool alright not
bad not bad
now we have a couple problems here look
what happens when I scroll really far to
the right of course we don't want this
we don't want to allow the user to take
the entire map and move it off the
screen so we have that problem to fix
eventually but other than that I mean
this is looking good</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>