<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>jQuery Tutorial - 113 - Updating database table values | Coder Coacher - Coaching Coders</title><meta content="jQuery Tutorial - 113 - Updating database table values - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>jQuery Tutorial - 113 - Updating database table values</b></h2><h5 class="post__date">2011-08-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/jIArixb4fi8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so over in settings.php we need to
pick up this name variable so we can go
ahead and check if this is set first of
all now I'm not going to be creating a
lot of validation in this tutorial for
the purpose of time I want to explain
other things that are more relevant it's
up to you really how you validate this
name feel this name value here obviously
you want to check if it if something's
been typed in or not and by all means go
ahead and apply other validation methods
or apply the validation within settings
dot PHP entirely up to you but in this
tutorial we're not going to be covering
it so I'm going to create a new variable
called name and I'm going to assign this
value that we've taken from this post
data remember we're posting to this
settings dot PHP file now I'm going to
apply some relevant sanitization the
first one is HTML entities and this will
remove any HTML literal HTML code from
here and and create it and turn it into
entities this means that the HTML will
be displayed rather than actually
interpreted by the browser and I also
want to include the MySQL real escape
string function because we're posting to
our database we need to ensure that we
first of all protect from SQL injection
and with HTML entities we're preventing
cross-site scripting so XSS attacks ok
so the only validation here I'm going to
do is if no we won't all stick not won't
do validation we'll just go ahead and
update the database so I'm going to
create a new variable called update and
this is going to hold the query that
we're going to use to update this value
here to the value that we've submitted
here name so the query would be update
users' remember
is called users and I'm going to set
name equal to name
where user ID is equal to and just
outside here append on our session user
ID let me just go and explain this for
those of you that are unfamiliar with
how a query in this case would work
however I'm sure you are because jQuery
is a language that's most often used
alongside PHP so updating the users
table and we're setting the name field
to name but the condition with our where
Clause is where the user ID is equal to
this particular session now this would
usually be something that you that has
been defined as the user has logged in
so you know depending on their user ID
however in init dot PHP remember we
define this ourselves
just for the sake of not going through a
login a new registration process or a
login process so we're just updating
this name here next to this ID so where
it matches it's a unique ID I should
have probably mentioned beforehand that
this user ID field is an auto increment
field so it's unique every time a new
row a new record is added and it's also
a primary key so if I was to go ahead
and insert a new value for example Billy
you can see that when we browse to the
data the user ID is now 2 and the name
is now Billy so we can test this out a
bit later once we've updated this name
we can go ahead and update this one as
well ok so now what we want to do is
check if this update query has completed
properly so if update is equal to true
this means that the query has succeeded
so we can echo out
settings have been updated otherwise we
want to say if we'll just do a an if
else if statement if update is equal to
false echo could or there was an error
updating your settings okay so now
what's happening is we are just well
we've we've performed the query which is
we've already explained and we're just
checking if updates equal to true or
false and giving the message
appropriately so this message here or
this message here depending on whether
the query is run successfully or not
will now be put into this data here
which we then add into our save status
or we override the current text which is
the loading sign or text and we put that
in to save status so now that we've done
that we should retrieve what we should
receive this method message unless I've
created the query wrong and then we
should receive this error message or
have this error message display just
here so let's go ahead and first of all
refresh this so we know that the data is
here so we've got the current value is
Alex Garrett if I then put in for
example my name is Alex G rather than
Garrett and click Save
he says settings have been updated now
you didn't see the loading symbol
because this query is extremely simple
and performed or it was executed or run
extremely quickly so he didn't see the
loading thing here the loading text here
that we placed in between clicking the
button and actually retrieving the
results so in a minute we'll create a
asleep while we'll call the sleep
function in PHP so this will become a
bit clearer now when I go ahead and
browse you can see that that values now
being changed to Alex G so we know this
is working so let's say that the user
has logged in as Billy as a poll instead
of Alex</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>