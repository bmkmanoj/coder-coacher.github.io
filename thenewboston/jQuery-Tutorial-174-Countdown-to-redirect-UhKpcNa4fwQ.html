<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>jQuery Tutorial - 174 - Countdown to redirect | Coder Coacher - Coaching Coders</title><meta content="jQuery Tutorial - 174 - Countdown to redirect - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>jQuery Tutorial - 174 - Countdown to redirect</b></h2><h5 class="post__date">2011-08-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/UhKpcNa4fwQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">you can see that after one second we
start to append this to this this spam
so now that we've done that we know that
our interval is actually working so we
can go ahead and adjust the code
accordingly so let's go ahead and get
rid of that
let's also refresh our page so we don't
have lots of AIDS across our page and
we're going to go ahead and first of all
in initially set the counter with the
maximum time all the time that we've
specified here so let's go ahead and
sorry look no let's go ahead and again
use a selector to select our counter
element on our page and we're going to
set the text inside of this to time so
what this will do is it will initially
set our counter value inside of here to
10 or whatever value that we feed in
just here so for example if we were
counting with five seconds that would
initially set this to five okay so now
what we want to do is we want to
actually go down and count this down so
we want to remove one for every second
so time equals time minus one every
every second it will minus one from this
original value time which is at the
moment specified as ten so now what we
can do is we can go ahead and just test
this what's going to happen is is we're
gonna initially set this to 10 the
counter to 10 and then it will be nine
then it will be eight seven six five bla
bla bla so let's go ahead and take a
look at our page you can see it starts
at 10 and then goes to nine eight seven
bla bla bla and that will count all the
way down to 1 now we have a problem here
because we need to include some kind of
check as you can see it's gone to 0 and
then minus 1 and this will just keep
counting down for as long as you have
this page open so what we want to do is
we want to catch this countdown at the
value 1 and when we have caught it at 1
we want to go ahead and clear the
interval and then redirect the user to a
particular page and the reason we clear
the interval is because if we don't if
the page load time is slightly longer
than you know a couple of seconds or a
second the counter will all
automatically continue to countdown
until that particular page is loaded so
we can do a demonstration of this if we
were just to go ahead and set the window
location equals URL again we're picking
up this variable from here and placing
it here so after 10 seconds we're
redirecting to this URL here so let's go
ahead and check this out and you'll see
what I mean
oh oh yeah okay so yeah okay so the
reason this hasn't worked is we need to
include an if statement to actually
check if the time is equal to one so if
time is equal to one we want to redirect
the user to the URL that's been
specified or fed to this function so
when time is equal to one we redirect
the user let's go back and check check
that okay so we're starting at 10 again
and we're counting down now watch very
carefully and see when it gets to 1 you
might see it flicker to zero Oh No let's
go ahead and do this at 5 so we can see
what's happening a bit clearer go back
there okay so we're starting at 5 we're
counting down and that should write this
redirecting it to at the moment so let's
have a look at what might be going wrong
oh of course yes so we want this at zero
the reason this is happening is that we
are checking at it when it gets to 1 and
before we have a chance to go ahead and
re you know show this time it's actually
already redirecting the user so we have
a couple of options we can either set
this to zero or we can bring this up to
the top and keep it 1 so I'm just gonna
leave it here and say if time is equal
to zero okay so back to the page we'll
check that actually work so 5 4 3 2 and
1
let's just wait for that right at 1 it
redirected now if we have say a page
that's slightly more takes slightly
longer to load for example let's say
ebay calm
and when we go ahead and test this out
once again hopefully eBay takes a bit
longer to load and you'll see this
flicker to zero before you actually see
it redirect there we go
right you saw it flicker to zero before
the redirect happened and that's because
the eBay calm website obviously
obviously is a bit slightly longer to
load than Google so we have a problem
here and what we need to do is we
actually need to go ahead and clear the
interval before we actually before we
actually redirect the user so we want to
go ahead and say clear interval and this
is above just before we redirect the
user so we want to stop the interval now
remember earlier I called this interval
interval so now what we can do is
because this variable interval is equal
to this function we can go ahead and
specify interval in this clear interval
here as a parameter so that will get rid
of the interval and it will stop at the
counter and what this means is that the
counter this whole thing will no longer
run and therefore when we return back
and refresh you'll see a countdown it
will stop at 1 wait for the load and
then it will redirect the page so it's a
minor thing however when you include
something like this code on your website
you want to make sure that you're not
leaving the user hanging so you know in
displaying the incorrect figure we want
it to stop at 1 and then wait for the
page to load we don't want it to go you
know into zero or even minus figures for
example if you had a page that took four
or five seconds to load you're actually
going to end up having the user be
displayed with minus figures as they're
waiting for the page to load so now
we've successfully completed this timer
or this countdown to redirect if you
want to use this on any page all you
would have to do is include counter dot
j s on a page that you want it to be
used and you'll go ahead and include an
element with an ID of counter or you can
change this and specify which element
you'd like to countdown in for example
we could count down inside of a
paragraph
and we could call this count down and
then we could change this to count down
and it would work in exactly the same
way you see we start counting down but
we've just done this inside of a
paragraph so as long as you've written
it in this way it's an extremely
flexible way of simply including this
including something with the idea of
countdown or whichever you choose and
you can use it across your website so
that is a countdown to redirect using
JavaScript and jQuery</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>