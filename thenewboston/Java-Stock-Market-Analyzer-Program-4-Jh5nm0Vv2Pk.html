<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Java Stock Market Analyzer Program - 4 | Coder Coacher - Coaching Coders</title><meta content="Java Stock Market Analyzer Program - 4 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Java Stock Market Analyzer Program - 4</b></h2><h5 class="post__date">2009-11-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Jh5nm0Vv2Pk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's going on guys it is Bucky and
welcome to your fourth lesson or
tutorial and how about a stock market
analyzer program in the Java language so
in the last tutorial we pretty much
wrote a little method to find the number
of rows in our CSV file or stock file
and in this tutorial I'm going to be
showing you how to take that entire file
and convert it to an array now we can't
really use the data right from the file
so that's why we need to convert it to a
Ray so let's go ahead and make a little
comment say converts the csv file to an
array it's fine anything wrong and
probably about and now we can go ahead
and this just a little comment tell me
what my method is about to do so let's
go ahead and make that method right now
public boy I'm gonna name it convert to
Ray that way I know what it does pretty
cool huh
so in this method I'm gonna convert that
CSV file to an array so let's go ahead
and get started I'm gonna use a for loop
to loop through each element in that
file and store in a rate so I'm gonna
first need a variable for our and this
is pretty much going to be the row but
don't name it row because we have one up
here and the next thing we need is we
already said that we're gonna create a
string array up here called items so go
ahead and what we need to do is tojo how
big we want that array to be so set that
variable or array items equal to new
it's a string array and how many rows
and how many columns are gonna be in it
well we know how many rows are going to
be in it and that's 20 in this case
using our method find row number and we
can't just put 20 in here because each
file is different so that's why we need
to build a method to find the number of
rows in the file and we know that the
number of columns is gonna be 7 because
no matter what file you have you the
columns are going to be date open high
low close volume and just close that's
what we got from YouTube so every single
file
has those same columns so that's why we
can put seven and we don't have to have
a program to a find the number of
columns so that's pretty cool so now we
made an array that's gonna have 20 rows
and 7 columns but make sure you put fine
row number not a 20 in there so now
let's just go ahead and since we're
gonna be working with file let's go
ahead and put a try-catch statement so
try and then just go ahead might as well
Derrick catch right now catch exception
II and then just go ahead and pull it
system.out.print line and just print he
and hopefully we will never be seeing
that but you know we needed it so so now
in our try statement what do we want to
do and this is gonna be the code that is
actually gonna happen as long as we
didn't um fudge something up set fudge
so you know it's good
fudge all right let's to go ahead and
get our bufferedreader again buffered
reader Oh a name it reader again equals
new buffered reader I mess anything up
was this all underlined and now let's go
ahead and as a parameters type new file
reader make sure he caps it ad reader
and put file right here and you guys
should know what this does from the last
tutorial this pretty much reader is
gonna read your file so now what we need
is another variable called string line
and set this is equal to null for now
what this is gonna do is temporarily
store whatever line this reader is gonna
read and let's go ahead and I guess we
can start reading those lines so now
what we're gonna do is make a while loop
to loop through each line of her file so
how do you loop through each line of
your file well let's go ahead and put
wow that line variable actually we're
ever gonna be want to put this in
parenthesis
while that line variable and we want to
set this equal to reader dot read
line empty parameters is not equal to
null and what this means this loop is
gonna keep going and going until it gets
to an empty line and when we get to
empty line means we're done with our
file so this pretty much gonna loop
through all the important stuff in our
file and it's gonna set that line equal
to whatever line it's reading at the
time so what do we want to do as long as
we're in the important stuff our file
well what we want to do is something
called tokenize align so put string
tokenizer and you need to put this
because this is built in class in Java
and make sure you imported it up here if
you didn't import Java util dot string
tokenizer string tokenizer
name a variable somebody called Z equals
new string tokenizer make sure you spell
that right and the parameters this takes
I forgot to tell you what strength
tokenizer does is pretty much let me get
my file out computer C stocks Dow what
this is gonna do is go through each one
of these lines and break up this data
into little chunks depending on the
information we're given so we want to
break it up in chunks depending on where
the comma is so we want this chunk and
once we get to this comma separate it
and then we want this a chunk the comma
separates it and have this chunk so in
order to tell what chunks we want as
data it takes two things the first one
what line our we're going to be reading
and the line is going to be equal to
read line and the next thing what do we
want to separate it by and since we have
a comma separated file let's just go
ahead and put comma as a string whatever
you put in here is that's what it's
gonna look like for the separator so if
you have a file separated by colons put
that but since are separated by commas
just go ahead and put that so now what
its gonna do is take each line and break
it up into chunks depending where that
comma is
so in each of those chunks is called a
token so now we can take these tokens
and set them to the elements in our
array so now let's just go ahead and put
another while loop in rate Z raw string
tokenizer has more tokens right there
and this pretty much means all right by
the time as it's running through the
line I mean we don't have to run this
after the line is done we only want to
do it as it has more stuff to go through
while it has more tokens what do we want
to do make sure I got my parentheses
right there well what we want to do is
make a for loop to loop through the
columns pretty much so int C I'll put C
for columns equal zero and again we need
a for loop to loop through seven times
since our column has seven but C is less
than 7 and remember this is never going
to reach 7 this is pretty much well let
me finish this right here before I start
talking C++ what this is going to do is
for every row it's gonna find the value
of C 0 1 2 3 4 5 6 and remember since
array start with 0 that's why we're
starting with 0 and going with 6 so 0 to
6 is actually 7 elements and that's how
many columns we have and what do we want
to do just take items and set the are C
so the very first thing it's going to do
is 0 0 0 1 0 2 0 3 0 4 0 5 0 6 and then
it's going to go to the next line 1 0 to
1 or excuse me 1 0 1 1 1 2 1 3 then the
next line 2 0 2 1 2 2 2 3 and it's going
to take each of those elements instead
of the token that defines so Z dot next
token and this next token method is
built-in so how easy is that so that's
pretty much all we have to do for this
method and as it goes through each
element in here let me pull up my dowel
again it's gonna say re as the as soon
as we get to the first token it's going
to
set this equal to zero zero zero one
zero two zero three and then it's going
to do that go to next line 1 zero 1 1 1
2 1 3 and it's going to do that for your
entire document right here so now what
we have instead of this document we have
all this information in an array so we
did that just by using a couple of
simple loops and a couple simple tokens
so it pretty much broke all of this into
chunks and put it where it needed to be
in our array and in the next tutorial
I'm gonna be showing you guys how to
test this array and make sure it got any
right but as long as you followed
everything as I did you should be good
to go
so that is how you convert a CSV CSV
file to an array so thank you guys for
watching don't forget to do this it's a
very important step oh and one last
thing you need to do after is for loop
take your row in increment it by 1 so
that way it loops through a different
row each time in well that was important
bye anyways thank you guys for watching
don't forget to subscribe and I'll see
you next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>