<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>jQuery Tutorial - 182 - Users online sample application | Coder Coacher - Coaching Coders</title><meta content="jQuery Tutorial - 182 - Users online sample application - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>jQuery Tutorial - 182 - Users online sample application</b></h2><h5 class="post__date">2011-08-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/yc7RiHZHVLE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi this is Alex from PHP academy' dog
with a video tutorial for the new boston
in this tutorial we're gonna be looking
at creating a simple application that's
somewhat useless but gives us a good
insight of how we can use
jquery's document.ready and also the
window unload functionality to create
something somewhat of a user shared
application now you probably don't know
what I'm talking about so I'll go ahead
and show you what I've done with regards
to this and then we'll take a look at
how it works we'll take a look at the
database behind it we are going to be
using a lot of PHP in this tutorial but
then again that just shows in how you
know the back-end development of jQuery
is important as well or back-end
development you know an allowing jQuery
to utilize this so I've created this
page that actually just brings up a
dialog asking user to enter their name
so if I go ahead and enter my name and
hit enter you can see that my name just
appears on the screen now you might
think this is extremely simple we've
just brought up a JavaScript dialog and
printed a name out to a page in actual
fact what this has done is it's stored
my name in a database so I've got my
username here user underscore name so
that stored that in a database and then
every half a second it retrieves new
values from a database and because it's
a database or a database table based
application if we were to say duplicate
this window we would rich you know
receive the same prompt so I could go
ahead and then enter another name and
press ENTER and you can now see that it
says Billy and Alex and when I return
back to the first tab I had open it says
Billy and Alex as well
so essentially users from different
locations can go ahead and enter their
name and it will add it to this list
so the reason that I've created this is
because it gives a good insight into how
you would create something like a chat
application for example or showing how
many users are online in terms of their
user names and then when the user would
would
you know we closed the window you would
you would think that you know these
disappear so we've got Billy and Alex
written in both of these windows
currently Alex's in this window and
Billy is in this window if I go ahead
and close off the window that Billy has
logged into or typed his name in -
you'll see that now in the first window
his name disappears and this also
disappears from the database as well so
we can go ahead and actually duplicate
this tab and into as many names as
possible duplicate that again type in
anything Julie and we have all three
names listed in the windows but now
let's say when I close off Billy's tab
the first two tabs now only contain
these values and Billy is deleted from
the database so this is essentially how
it works although it's not practically
usable you know you wouldn't use this
for anything and it wouldn't be placed
on a site it gives you a good insight
into how you can actually store this
data relay it back to the user we're
going to be setting an interval as well
of half a second for this data to be
updated from it from the database so
therefore we're going to be using PHP to
actually utilize this so let's go ahead
and get started with the tutorial and
let me just close this off we're left
with Alex will close will I'll you know
raise all the code and we can start
writing out the the tutorial okay so
we're over to our text editor I'm going
to talk a bit about the database as well
in this in this first part of the
tutorial just so we we can get to grips
with what we're doing I'll take you
through the files first we've got
index.php which is just obviously our
page where the names are displayed
we've got ext dot JavaScript which is
just an external javascript file that
I've included here into my page and this
is gonna handle the prompt where the
user enters their name and then it's
going to send a post HTTP request to a
specific PHP file to put this value into
the database then every half a second so
every 500 milliseconds is going to
retrieve
list of users that have entered the
website and entered their name so
basically all of the values from the
database table and what users will also
do or what ext will also do is when the
user closes the window or navigates away
from the window it will again send a
request to HT sori to users dot PHP and
will delete this value from the table so
we've covered all areas the the user
that comes into the website the
refreshing of the users list and also
the deletion of this value when the user
actually leaves the page and obviously
that's where users dot PHP comes into
we've also got DB PHP which is included
with by users PHP that's just literally
so we can connect to our MySQL server
and also select our table so the first
thing I want to do in index dot PHP is
go ahead and create an area where this
data will be stored so I'm just going to
create a div ID div with an ID or will
just say users online now we're not
going to touch index dot PHP again this
is everything we need to do inside index
dot PHP
ext J s is going to handle the prompt
it's going to handle putting the user
list into this div so we don't need to
actually you know do anything on index
dot PHP again so inside ext j s we want
to go ahead and make sure the document
is ready and loaded so we go ahead and
use document dot ready and inside here
we create a function and essentially
everything in here is going to be run
once our document is ready once the DOM
is initialized and it's loaded so the
first thing we want to do is obviously
take the user's name as they enter the
website it prompts them for their name
now there's a few things we're not going
to be covering like the cancel button if
the user does cancel the prompt the name
will be rendered as null so null will be
stored inside the variable that we pass
so we've not really covered all the
validation issues in this application
but it will give you a good idea of how
we can achieve something like this and
then you can go in research valide
yourself and checkup anything else you
want to do I wanted to try and keep the
tutorial as sure as possible</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>