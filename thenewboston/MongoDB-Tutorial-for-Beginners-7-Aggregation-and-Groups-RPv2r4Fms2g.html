<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>MongoDB Tutorial for Beginners - 7 - Aggregation and Groups | Coder Coacher - Coaching Coders</title><meta content="MongoDB Tutorial for Beginners - 7 - Aggregation and Groups - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>MongoDB Tutorial for Beginners - 7 - Aggregation and Groups</b></h2><h5 class="post__date">2015-04-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/RPv2r4Fms2g" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright guys welcome back and in this
video I want to talk to you about
aggregate functions now with aggregate
functions what you can do is you can
have groups of data and then you can
perform some calculations on those
groups so say for example let's say we
wanted to figure out how many people had
blue eyes how many people had green eyes
and was there probably another one how
many people had brown eyes so we could
just go ahead and alright go one by one
tally all of them up and at the end
we'll make three separate groups or we
can just use these little handy
aggregate functions so in order to use
them
DP users aggregate and then as the
parameter the object that it takes is
this the first thing that you're always
going to use is this keyword group
that's essentially saying that you want
to make groups of data whatever
documents you're trying to group
together now the criteria that you pass
in here is first of all you want to make
groups based on what criteria so what we
were trying to do is we were trying to
make groups based on eye color so if you
copy that you always proceed with the
dollar sign and then write the name
right there so now it's going to group
all of your documents together based on
eye color alright so now we have three
separate groups or however many eye
colors there are now the next parameter
is pretty much asking how do you want to
handle the results what calculations do
you want to perform on this group so
I'll just show you guys a real quick one
right now anytime you want to just get
the number of items in the group for
example we just want the number of
people with brown eyes in the number of
people with blue eyes so on and so forth
you just use the keyword sum 1 this just
means sum everything up in 1 whenever
you see one standing alone it always
means true so if we run this check it
out our groups
have well our customers I should say 14
of them have green eyes 12 of them have
brown eyes and 9 of them have blue eyes
and it doesn't have to be eye color say
that you wanted to UM I don't know group
based on gender so dollar sign gender
run that and check it out
so out of our customers 20 of them are
male and 15 of them are female and it
isn't just summing everything up you can
actually do a couple other cool things
as well so again any time you just want
to tally everything you just use some
but say that you wanted like that
average age so if this is going to do if
you use the keyword my cursor out of the
way so instead of some use the keyword
average and of course instead of true
you need to say what you're trying to
average in that is age so what this is
going to do is it's going to group them
by gender and it's going to give you the
average age of the guys which is thirty
two point five in the average age of the
females the average age of that group is
thirty point eight and there's also
again there are a couple different ones
like average some max men so for example
if you're trying to find the richest um
like person like the richest guy in the
richest girl not ricketts
you just do max and that's going to
return the maximum well as a balance so
this is how much money they have of
course that needs to be a keyword so run
this and check it out so it's going to
group all the guys together and then
once it has that group it's going to get
the max balance in other words the
richest guy and out of all the girls the
richest girl has three thousand nine
hundred and sixty dollars in 64 cents so
there you go
real quick tutorial and how you use
aggregate functions so yeah
thanks for watching don't forget
subscribe see you next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>