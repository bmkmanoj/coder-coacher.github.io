<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Python Web Crawler Tutorial - 6 - Finding Links | Coder Coacher - Coaching Coders</title><meta content="Python Web Crawler Tutorial - 6 - Finding Links - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Python Web Crawler Tutorial - 6 - Finding Links</b></h2><h5 class="post__date">2016-02-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/udBt0K7gwLc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">we can say if the tag at the starting
tag that you were looking at is a that
obviously means that it's a link a
anchor so now we only run this
functionality on links pretty cool so
what do we want to do whenever we come
across a link well what we can do is we
can actually say for and I'll say
attribute let me go ahead and show you
guys what's going on don't want to click
that all right
so whenever you have a link what you do
is you have a bunch of attributes in it
so href usually a class maybe some other
things now what they're equal to is the
attributes value so href is the
attribute in the URL is the value class
is the attribute username is the value
so whenever we're parsing we actually
get that information right from HTML
parser so what I'm going to do is with
that information I'm sure you're going
to store it in a tuples so attribute in
value and holy sweet moly in absolutes
all right so again that information gets
passed through for this variable we
didn't need to do any of that we already
got that functionality firm HTML parser
we're just extracting it right here so
we can actually use it in our program so
again there is often a bunch of
different attributes in an anchor tag
href may be a class arm I don't know
maybe some custom styling inline styling
the only thing we care about is this
href attribute we are looking for this
URL all the extra crap doesn't matter to
us at least not for this program so what
we need to do is we need the test if
that attribute if it equals href
then what we want to do is we want to
get pretty much the value that it is
equal to now what we can do is we can
just go ahead and save that value but
here is the thing check it out and let
me see if I can all right
so I don't think I can find one and I'm
too lazy to take two seconds and look
but basically you see how this is the
full URL right here it has HTTP the New
Boston comm videos health well whenever
you make a website you actually don't
need to add the full URL you can go
ahead and just add something like this a
relative URL so you see how this href it
doesn't have the full URL HTTP the New
Boston com it just has videos underscore
health and again whenever you click this
link it's going to work just fine so
this is great whenever you're developing
a website is perfectly fine however it
causes some problems whenever we're
developing a web crawler because what we
need to do is we just can't type in a
relative path like this
our you know videos underscore health we
actually need the full URL which is
popped up their video had our clean
poopers Oh gross
all right so what we need to do is we
need to say hey whenever you come across
a full URL that's fine we can just go
ahead and stick it in our waiting list
but whenever we come across a relative
file path or URL what we need to do is
we need to convert it to a full URL with
a full domain name and that way we can
save it and crawl it that page later on
so how do we do that well what we do is
this we're going to go ahead and make a
new URL and we're going to go ahead and
parse URL there it is right there
URL join now I should probably do this
all right
so whenever we pasted our home page you
know way before I said there's two
things that the user
needs to UM add to this program to get
up and running the project name in the
home page well what we're going to do is
we're going to say whenever you come
across a relative URL then this home
page right here needs to be stuck on the
beginning of it that's going to give you
that full URL structure now lucky for us
our program already has that I just
didn't add into the class yet so I'm
going to do it right now so I'll say
self base URL and you can name this
homepage URL if you want and just say
base URL because I'm going to pass it in
right here and I'll say you page URL and
again whenever we create this object
we're just going to pass in the base URL
or the home page URL and this page URL
is whatever page we're currently trying
to parse so it can be this one it can be
this one whatever but again you always
need to pass in the home page URL
because this is the part you need when
making that full URL you guys are going
to see it's going to make a bunch of
sense later on if I just said URL a
thousand times and it confused you so
self age zero equals page URL and so
links is just going to be equal to set
so again just to get this link fighter
up and running we have to throw it in
two pages and this set right here is
just for whenever we start crawling
links and gathering all the links then
we're just going to store in this set
right here simple enough
all right so now what we can do is
whenever we crawl a page we found a link
we found the href attribute what we can
do is we can make sure to join the self
base URL which is the home page URL with
the value of it now again the cool thing
about this is if it already is a full
URL then this is going to go ahead and
keep it and it's going to be formatted
properly if the value is a relative URL
or only the ending part of it then it's
going to go ahead and come
find it with the base URL and it's going
to give you the full properly formatted
one so now what you can do is you can go
self links which remember was just our
set of links we can go ahead and add
that URL so again this is going to
always add a properly formatted URL to
our set of links how awesome is that
now the last thing I want to do is I
just want to make a function to return
this so I'm just going to say def page
page links and we're just going to
return self links so that way all right
so what we're essentially going to do is
we're going to create a link finder
object and we're going to feed it in the
HTML of some random page we'll say the
home page so once it gets all of the
links right here we can go ahead and
call this function page links and then
we get all the links that we can use in
our program save them to a file run some
analytics on them you know whatever we
want to do so ladies and gentlemen in
this class is complete looking beautiful
I will see you guys next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>