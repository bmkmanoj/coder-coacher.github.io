<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>AJAX Chat Tutorial - 7 - Posting New Messages | Coder Coacher - Coaching Coders</title><meta content="AJAX Chat Tutorial - 7 - Posting New Messages - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>AJAX Chat Tutorial - 7 - Posting New Messages</b></h2><h5 class="post__date">2013-05-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/OHfFByRFCpU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">and you probably don't need to do it
with color but it's always good be safe
than sorry because here's why the user
name can type their username and they
can also type what message they want but
they don't type their color manually
they're gonna select it in a different
way but you know it's better safe than
sorry
so now they can't type anything
basically the hack our database now what
we need to do is we need to take all of
their information and insert it into the
database so we basically want to insert
it into in a new row so the first thing
we need to do of course is build our
query and what this query is going to do
is it's gonna show you guys it's very
simple so this query equals insert into
chat table and there are four different
things that we want to insert into
insert into this row the first thing is
actually posted on post-it on user name
message and color so whenever the user
makes a new message we want to store
four pieces of information in our
database when did they post that message
who posted it what did they say and what
is the color of their text so now what
we need to do is
pretty much just right the MySQL let me
show you guys alright so for the posted
on day what we can do is we can just
pass in now now what this is this is
actually a MySQL function that it gets
the current time so instead of you know
calculating in some special way all we
have to pass in is now and it
automatically gets the current time from
your server and stores that as the
posted on date very cool so the next
thing we need to do is store their name
which is of course this variable
username so make sure I get this right
use your name and let's see we need to
separate that alright so the post it on
day is just the current time the user
name is their user name that has been
cleaned up to prevent against my SQL
injection and now what we need to do is
we need to store their message and also
their color
and now let's see we don't need this I'm
just in my statement and oops all right
let make sure my statements good okay so
we inserted four inserted does that even
work sounds weird we inserted four
pieces of information whenever the user
posts a new message the time that they
posted it their user name their message
or the message itself and also the color
actually let me do this it looks a
little bit better so this is the query
that we built in actually a limb see so
alright that's what I was missing so
this is the query that we built and now
of course we didn't execute this query
yet we just built the query itself so
now in order to run in result equals and
we can actually steal this so this does
the query itself and this execute the
query in other words it posts a new
message or inserts a new message into
the chat table and the next function
that we have to do is now that we can
post new messages we have to go to
function that gets new messages so even
though we can insert messages into the
chat table the user can't read those
messages because we didn't build any
functionality for it so what the next
function is gonna do is it's gonna
retrieve new messages so that the user
can actually read them on their screen
so that's what we're gonna be doing in
the next video thank you guys for
watching don't forget subscribe you know
hmm
I'll see you guys then</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>