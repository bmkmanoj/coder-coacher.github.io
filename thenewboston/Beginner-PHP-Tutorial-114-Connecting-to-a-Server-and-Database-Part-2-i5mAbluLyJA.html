<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Beginner PHP Tutorial - 114 - Connecting to a Server and Database Part 2 | Coder Coacher - Coaching Coders</title><meta content="Beginner PHP Tutorial - 114 - Connecting to a Server and Database Part 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Beginner PHP Tutorial - 114 - Connecting to a Server and Database Part 2</b></h2><h5 class="post__date">2011-04-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/i5mAbluLyJA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so now we're connected to our database
hopefully let's just change this to a
database one which doesn't exist and we
can see what we're returning xql DB
database one that's refresh hmm okay
let's try and specify this in here just
start laughs for example come back
refresh get still working and I guess
what we're going to do at this point is
we're going to specify my SQL DB and we
can also say or Die we can say Conn
error the error we specified before this
could be anything it could just be you
could just say all died without some
without text so let's try and refresh
and see what happens okay so could not
connect the reason for this is that
we've specified the databases i
underscore database one when this
database doesn't exist in our collection
of databases so let's delete the one and
see what happens you can see that now
we're connected okay so this is a pretty
bad way to go about things now
eventually I'm going to include all this
in a single file and what we can do is
we can use include within PHP to include
this anywhere we want to use our
database so it's a lot better way to
work everything out and including it
means that you don't have to keep
specifying the code that we've written
just here so I'm going to get rid of
this echo here I'm going to put at just
there and I'm going to get rid of the
error message that we've supplied in
here okay in fact I'm going to get rid
of the whole line
so at the moment if we just echo out
okay down here you can see that
everything is working fine it's going to
grow our oK we've selected we've
selected everything correctly and
everything is working but now what I'm
going to do is I'm going to create an if
statement and I'm going to say if and
I'm going to copy this into without a
semicolon so let's delete them to copy
that into an if statement so if this
returns true then we want to do
something so we want to stop another if
statement with a block here and we want
to include this in here so I'll put this
all in for now and then I'll run through
what we're doing so what we're doing now
is we're saying if MySQL Connect is true
so if this has connected and there's no
errors remember we can put an @ sign in
front of these so they don't so they
don't give out us an out an error if
they don't
so if MySQL connect blah blah blah then
go inside
and if MySQL connect DB then we can say
ok and we're returning ok again so what
happens if it doesn't connect what I'm
going to do is instead of writing and
just MySQL connect in just - cross let
me and select DB I'm going to say if not
if not then in here and if at no I'm not
come back and the best ways to do this
would be to combine them into a single
and if statement so I'm going to say if
not MySQL connect and not MySQL select
DB echo or we can eat in fact die so for
your best rider die that's it we can
just say die ok and maybe give an error
so we can say
era should be okay yep okay so MySQL
Connect we're performing this here we're
saying if this hasn't worked or we
should be doing actually so or this
hasn't worked kill the page and
connection error so let's refresh okay
everything's worked because we haven't
killed with a connection error now you
can say else echo connected so we can
refresh we're going to remove this
connected and display message because we
don't know obviously we don't want to
display this to the user every time
we're connecting to our database now
let's change something so we'll change
this packet to Alex real fresh we've got
an error we can obviously put our will
not be there power out symbols in there
so we just get our could not connect
error back
so now let's change this database to one
but we'll change that back to root we're
still getting a could not connect error
so killing the page if we can't connect
free the reason and if we're not then
we're carrying on down to here so we're
killing the page if we get an error
because if you have a lot of if you've
got a lot of need to access a database
on your page there's no point at echo in
your page if you can't connect to the
database so for example if the database
is down for any reason this will also
produce a connection error so that's
basically how to connect to your
database and how to handle errors and in
the correct way if for any reason you
can't connect to either your database or
select or connect your server or or
select your database</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>