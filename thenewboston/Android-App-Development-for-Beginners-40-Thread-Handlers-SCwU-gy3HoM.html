<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Android App Development for Beginners - 40 - Thread Handlers | Coder Coacher - Coaching Coders</title><meta content="Android App Development for Beginners - 40 - Thread Handlers - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Android App Development for Beginners - 40 - Thread Handlers</b></h2><h5 class="post__date">2014-12-31</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/SCwU-gy3HoM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright guys so in order to make this
app more efficient what we're going to
be doing is this we're going to be
taking this bit of code which again
remember simulates some long calculation
and we're going to say ok take this bit
of code and instead of just running it
on the main thread on the main program
go ahead and stick inside another thread
and do it in the background
so take this go off some routes perform
your calculation and leave the main
program to go about its business so
that's all the thread is so let's go
ahead and learn how to do that right now
let me give myself some space to work
with all right so essentially remember
in I really don't know like if everyone
knows about threads and knob up what you
do is you create something called
runnable now this runnable object inside
here you can stick code that you're
going to put inside a thread so of
course let me just type this first
probably easier run a bowl there we go
alright so as you can see auto-completed
make sure you have your semicolon at the
end there so whenever you make a
runnable object or a runnable class
inside this run method is essentially
what code do you want to stick inside
your thread what code is going to take a
long time that you want to run in the
background well it's this bit of code
right here so I'm just going to cut it
and paste it right in there so now we
have a bit of code that we can stick
inside a thread again you need to put it
inside a runnable object and that's just
some you know that's just how java is
set up now another thing I want to point
out is this make sure that you do not
stick this bit of code inside any thread
any runnable object or anything like
that the rule is whenever you're making
android apps you never want to change
any interface element update the
interface at all within the thread in
order to update the interface or change
the users view
we need to make something called a
handler and I'm gonna be showing you
guys how to do that in just a second but
anyways to finish this thread up right
here again we stuck all of our code
inside runnable right here and now we
need to stick inside the thread so i'm
just going to name my buckey's thread
and you set equal to new thread with
your runnable code inside there so again
you can actually have multiple threads
with multiple bits of code and whenever
you call them they can run all at the
same time so you can actually have three
different ones right here and it's
actually depending on your computer or
your device how many threads that can
run at the same time but essentially you
can have four different chunks of code
all running at the same time instead of
just top down one at a time like we
learned before so this creates a new
thread and the one last line of code you
need to do is you just need to start it
and it essentially just starts
performing this bit of code so let me
just cut this and I'm going to run this
bad boy right now alright so check out
what's going on so far so again remember
I cut that code to update the text right
here so the text isn't going to update
but whenever we click the button it's
not freezing like before it doesn't have
to wait ten seconds even though inside
this click bodies Bucky's button we have
code to just wait ten seconds so it's
not freezing up it's allowing us to
click it over and over and over again
pretty stinkin sweet but of course to
complete this program what we want to do
is we want to allow it to update the
interface change this hello text - what
did I have on it like nice job or
something so let's go back to our
project and let me just tighten all this
up I think it just looks better that way
alright so the first thing we want to do
is we want to import
Android dot oh s dot Handler and import
Android dots is that why do I keep
reading Oh s dot message there we go so
in order to update the interface what we
do is we create something called a
handler now remember I said the rule is
whenever you want to update your
interface you can't do it within the
thread it's bad practice and the reason
you can't do that is because a thread is
essentially something that you can have
multiple things running up at once so if
you have a bunch of different stuff
trying to update your interface then
it's gonna well first of all can crash
your program second though
um you know it would just be stupid one
thing is trying to change this hello
variable and another thing is at the
same time it's just bad programming
practice even if it doesn't crash your
program so what we're going to do is
we're going to create a Handler and
handler I'm just going to name mine
handler you can name anything you want
set equal to new Handler and this is
going to be chilling on your main thread
so again this is pretty much part of
your main program and inside here we're
going to call alt insert to call a
method here it is handle message right
there so again a handler is essentially
just part of your threaded application
that sits on your main thread and it's
responsible for updating the interface
since those threads aren't allowed to
simple enough so delete this code right
inside here and I actually have that
copied still I think let's see what's on
sweet so inside here you can just put
that code to update that bit of text
right here so now you're thinking all
right well how does it know when we call
this handler in update this little bit
of text while we edit have to
one line of code and that goes right
here all right so after your calculation
is complete what you can do is you can
take that handler and call send empty
message now I'll talk to you guys about
sending messages to the handler later on
but essentially what this does is it
just calls the handler that's all you
guys you really need to know for now
that's how you use handlers again you
can take messages and pass them along
but whenever we create apps that do
something other than you just click a
button and wait for something to happen
then it's going to make a lot more sense
but for now let's go ahead and run this
and everything should be working
perfectly all right so check it out I'm
going to click this button right now
click and this text is still going to
take 10 seconds to update because that's
what we told it to do but in the
meantime the app isn't frozen I can
still click this button I can still use
other parts of the app and of course
when it's done the handler changes it
perfectly so that ladies and gentlemen
is the benefits in the power of using a
threaded application again any time you
have any hard work to do then just stick
it inside a thread and of course you can
just use the handler to update the
interface and well pretty stinking easy
and your apps are going to perform a lot
better so in their future tutorials I'm
going to be showing you guys some other
cool stuff that you can do with threads
and you guys are going to be app
developer pros in no time so for now
thanks for watching and we'll see you
later</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>