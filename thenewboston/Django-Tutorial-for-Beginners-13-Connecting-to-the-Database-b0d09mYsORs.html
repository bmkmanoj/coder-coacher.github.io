<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Django Tutorial for Beginners - 13 - Connecting to the Database | Coder Coacher - Coaching Coders</title><meta content="Django Tutorial for Beginners - 13 - Connecting to the Database - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Django Tutorial for Beginners - 13 - Connecting to the Database</b></h2><h5 class="post__date">2016-03-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/b0d09mYsORs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all right Carmen Sandiego welcome back
and in this video I'm going to continue
making my views or designing my webpage
so for this homepage instead of just
saying this will be a list of all albums
what I'm actually going to do is I'm
going to connect to a database pull out
all the albums that we have and display
them right here now once we have all the
albums listed the user is going to be
able to click one and it's going to take
you to that view that we made in the
last video a more detailed view of that
single album so let's go ahead and do
that so we actually don't even need this
since we're not going to have a big
giant heading on there alright so the
first thing that we need to do is in our
view since we're going to be working
with album information we need from
models import album now if we were going
to display song information on here we
would have to import that too but
remember this is just for displaying the
albums themselves they don't get more
information until they click another
link so what I'm actually going to do is
I am going to take HTML and make it a
variable because I'm going to be
creating each link one at a time and
instead of just typing everything into
this HTTP response function I think
it'll get cluttered if I just have a
bunch of HTML in there so I think it'll
be a little bit cleaner this way so
right now we're not returning any HTML
but we'll build it in just a second but
before that what I can do is this we
need to connect to the database and get
all of the albums now this is the exact
same as when I talked to you guys about
using the database API so I am just
going to make a variable called all
albums and this is going to store the
results of that database call and you
guys remember how to do that
you just write album objects all so
again just like whenever we were using
the terminal in the Python interpreter
what this is going to do is it's going
to connect
to our database look at the albums table
and get all of the objects in there so
all of the album's pretty sweet eh all
right so now that we have a list of all
the albums we need to loop through them
so we can access them one by one so I'll
say for album in all albums and for each
one we're just going to want to build a
link some HTML so the first thing I'm
actually going to do is just instead of
just making everything a href all that
stuff I just want to make the URL first
so remember the URL structure of an
individual album is this music slash the
album ID followed by this last forward
slash so what I can do in that case is
just keep that string and now I want to
go ahead and put album dot ID now it's
going to give me a little warning
because the album ID this is an actual
integer so right now we're trying to
append strings with integers so I
actually just need to convert this to a
string so again depending on what
current album we are currently looping
through this is going to be music / 1
music / 5 music / 10 whatever the album
ID is so now I can go ahead and make the
actual link and let me just go ahead and
do this alright so since this is going
to be sent in the actual HTML response
what we give back we just go ahead and
do something like this actually just
like the code it like this I'll say
title a and let's add a line break at
the end and that way every link is going
to be on a new line instead of just you
know kind of reading it like a 1 entire
sentence all right so this is your
structure right here we're just going to
stick the URL so I'll destroy something
like this
URL and actually for the title I don't
want to put the URL let's go ahead and
put the UM album title alright so I know
I was said that I'm going to have the
album logo there but I just want to put
the title instead so now let's go ahead
back to our views and check it out so
again what we did is we connect it to
the database and we got all of the
elbows now for each album what we did is
we loop through it and made it a link
and just displayed it in our HTTP
response
now hopefully whenever we click these
check it out it takes you to that detail
page alright may this is looking sweet
looking awesome but you know what I got
to tell you guys a little story so I was
working on this in preparing for this
tutorial and then my front-end developer
came in and she just you know lives
under my house and she goes well well
Bucky what's this I go this is the music
site I was telling you about and she's
actually supposed to be designing
everything for me all the CSS and HTML
making everything look pretty which is
like whoa no no you got to change this I
don't know Python like what if she's
like no I only know HTML and angular and
s CSS Mike just learned then I'm she's
like you're telling me I have to put all
this HTML code right in these Python
functions and I was like yeah and she's
like I quit it so we got a little
problem here all of our HTML if we do it
this way it's all jumbled in with Python
and I mean for me if I was just making
my own website this would be perfectly
fine but if you ever work for a company
in the proper structure to set up a
Django project what you actually need to
do is you need to take your HTML and you
need to separate it away from your
Python logic so ideally you should have
very very little if none HTML code in
your Python views so this is actually
the proper way to connect the database
but whenever you want to display HTML
there is a much better way so now that
we understand the concept behind it in
the next tutorial I'm going to show you
the proper way to separate your HTML in
your web design out from your back-end
Gengo logic</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>