<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Android Application Development Tutorial - 164 - Updating a Widget TextView | Coder Coacher - Coaching Coders</title><meta content="Android Application Development Tutorial - 164 - Updating a Widget TextView - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Android Application Development Tutorial - 164 - Updating a Widget TextView</b></h2><h5 class="post__date">2011-08-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/SqXbd6jww08" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's up guys welcome to your 160 4th
Android tutorial for the new Boston what
we're gonna do in this tutorials finish
our update method and actually run our
act
you know actually run our widget for the
first time on the emulator so let's just
get into it
now we have a random string variable
which is basically a random integer and
and we're first gonna do is kind of talk
about some of these parameters that are
being passed in we get a context which
is basically we can get the package name
so we can you know refer to other
intense and refer to the layouts and all
that good stuff so we're gonna refer to
that a little bit we also get an app
widget manager which we're gonna refer
to to actually do the update and last
what we have this thing that gets the
app widget IDs so we're gonna do is
we're gonna say hey if there's more than
one we need to kind of reference all of
those and we want to do the same thing
for all the you know different IDs the
person can have of our widget so what we
need to do is we need to set up an int
which is basically going to get the
whole value or how many different app
widget IDs that we need to refer to so
we're just gonna say final int because
this isn't gonna change because you know
this on update method is gonna give us
that information it's not going to
change just gonna call it in this is
just what kind of one of the examples in
the Google a developer used you know
format like this that's what I'm just
gonna referring the same thing and then
all we're gonna do is we're gonna refer
to you know the variable name of our
entrer that we're getting passed in and
we're just gonna copy and paste that
we're just going to get the length to
determine how many there are so now we
have this variable in and what we're
gonna do is we're gonna create a for
loop so we're just gonna say for and I
which we're just creating again is equal
to zero to start out with and semicolon
and then we're gonna say as long as I is
less than n which is you know the length
of or how many different things are
within our array and what we're gonna do
is we're going to again semicolon and
we're just gonna add one to each time
until you know it hits n so that we will
cover all of our different IDs that are
getting passed in and now what we need
to do within this for loop
basically refer to the our layout you
know and to do that you know our
activity isn't open so we're gonna have
to get what package this layout comes
from and set up the view according to
that and what this is called as a remote
views so we're gonna say remote views
we're just gonna call this v4 like view
something like that we're gonna set this
equal to new remote view
I'm sorry remote views with an s and
then what we're gonna do is we're gonna
say context because again we're getting
passed into context we're just going to
relate to that and we're just gonna say
get the package name and that's gonna
give us a package if you know where this
widgets coming from and you know the
layout set has within that package and
all we're gonna do is hit a comma and
then give it the second parameter which
is the layout we want to mess around
with so we're gonna say r dot layout dot
widget and again that's what we set up
within you know our XML file for our
initial layout was that widget layout so
again we just want to refer to that same
layout and now we can mess around with
this stuff with in there so what we're
gonna do is for example set our text
view our third text view so we're gonna
say our view we're going to refer to
that and we're gonna say set text view
as you can see it takes the ID and also
the text that we want to set to that
view so it's a little bit different then
than before but it's not that difficult
of a concept where you can't understand
what's going on
so we're going to say our dot ID dot
button
I'm sorry dot text view and we're gonna
say widget update is what we called that
text view our third text view and we're
going to set this text equal to is again
this random random string up here so
we're just gonna say R and and we've
changed our text view to basically the
random string and then what we're gonna
do is we're gonna give that information
to our app widget manager so again we're
going to refer to the app widget manager
that's being passed in which they just
called app widget manager like that
and we're gonna use a method called
update app widget and the first thing
that we want to update is the specific
you know widget ID that we're on so
we're gonna actually do before we set
that up we're just gonna go above our
remote view but still within our for
loop and we're gonna set up a new int
that is going to be the app app widget
ID something like that we're gonna set
this equal to be our app widget IDs and
we're gonna set this equal to B I so
that way you know every time we cycle
through this is gonna be a different
number and that's what we're gonna set
the ID to so we can return it to that
same you know app widget ID so now we
have that variable that's what we're
going to set our first parameter to is
aw ID app widget ID and the view again
we set up this view or this remote views
and that's what we're gonna refer to for
a few and so it's just gonna update our
widget according again to which ID was
being passed in originally and which
view we want to affect and how we want
to affect that view and since we're
setting the contact or the setting the
text view that's what's gonna happen so
let's quickly run our application make
sure it works and the thing to note is
that we don't really have anything
within our list it's already knows it's
a widget because that's how we defined
it in the manifest then we can just go
to our home screen click and hold go to
widgets and we're gonna scroll down to
the new Bossin
and it looks like it looks like our
widget is too large for the screen so
you know I don't know if i dint follow
those guidelines properly but I'm just
gonna change that real quick within our
width because I think that's what's
giving us a problem like 274 or
something like that and let's let's test
that out again so I guess I didn't read
those guidelines you know enough I
should say so again you guys might want
to check out that website because
obviously I didn't it so let's go back
and we're gonna add our widget adapter
uh the new Boston again as you can see
here's our I don't know if you guys can
see that but here's a random number
that's displayed our button doesn't do
anything in this textview isn't set yet
so you know that's pretty much it for
this tutorial gasp just a quick
introduction of how to update and that
number will change every approximately
every half an hour that number is going
to be a new random number and that's
what our update methods actually gonna
do but I'll catch you guys in the next
tutorial have a good one peace</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>