<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>jQuery Tutorial - 180 - Instant search | Coder Coacher - Coaching Coders</title><meta content="jQuery Tutorial - 180 - Instant search - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>jQuery Tutorial - 180 - Instant search</b></h2><h5 class="post__date">2011-08-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/115U9gFzAWs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so as long as you're comfortable with
that concepts we can go ahead and test
this and what should happen is when we
have a key up event happen on this
search input field will grab the search
term which isn't relevant at the moment
because we are passing it but we're just
returning this value here the the text
from search dot PHP should then be
returned into this div so let's go and
try that out I'm just gonna type in a
and nothing's happened so let's check
why that might be let's have a look how
there we go now
there we are so now we now we've just
have just corrected that tiny mistake
there we can go ahead and test this out
again so I type I and you see we
returned the value from search PHP which
has come from search dot PHP so now that
we know where you can return data the
jQuery code is done and all we need to
do now is search the actual database and
return or the database table and return
the values which will then be placed in
here so we've actually done the majority
of the application we just need to go
ahead and implement and combine PHP to
return these results so the first thing
we want to do is require the database
file which is DB PHP and in here we need
to go ahead and connect to our database
so we're going to go ahead and use MySQL
connect and we're going to connect to a
MySQL server which is localhost my
username is root and I don't have a
password set we no need to select the
database which is jQuery remember our
database over here it was called jQuery
we then want to close that off because
we're all done here and we we're
obviously requiring it into this file so
we can make use of it now the search
term variable can be picked up inside
search dot PHP so the first thing we
want to do is check whether this is set
so we use the is set function and we
check if dollar underscore post much
like you do if you were passing
variables from a HTML form to
PHP file and this is search underscore
term so if that is set that means that
we have passed this variable to this
page then what we can do is just
redefine this variable with a few
security measures so search term is
going to be equal to dollar underscore
post search term and we need to apply
some relevant sanitization to this
variable and the reason for that is
we're going to be querying our database
and SQL injection would be possible
we're also going to use HTML entities to
remove the remove any excess s issues we
might have because we're going to be
returning as you saw in the example at
the start of this tutorial the value
that the user has been typing and we
don't want any you know any about page
to be manipulated in any any way so the
first thing we want to do is apply HTML
entities and this will just take H T ml
code and return it as an entity so the
MySQL real escape function real escape
string function around this will also
help to prevent well will help to
prevent in some way
SQL injection okay so now that we've
done this we want to go ahead and just
quickly check if the search term isn't
empty or not if it's empty we don't want
to perform a query it would be a waste
of resources so if not empty search
underscore term then we can go ahead and
actually perform the search by this I
mean if I was to press backspace I don't
want the query to then be performed so
inside here we can now go ahead and echo
out search term just to test the
functionality of this so we're passing
this variable PHP is then going to pick
up this variable and return what we've
typed so now you'll start to see a more
dynamic result returned to us so let's
go ahead and type in a le X and you can
see that you value is returned each time
to us so now that we've seen this we
know that it's working we can go ahead
and perform the search query and then
actually return the results so I'm going
to create a new variable called Sur
and this is going to be a MySQL query
now the query is as follows it will be
select place and description because we
have a two fields that we want to return
which is place and description and this
is oh this is from places that's the
table name just here and the condition
is where the where places like so we're
matching it to the likeness and this is
where the search function comes in like
search term now I've surrounded this in
percentage signs and this just means
that anything before or after this as
long as something matches so for example
if we were to type in CH it would take
this and it would ignore all of this I
guess you could take Noor but it
basically searches within somewhere if
you use these you can use these on their
own but obviously for the purpose of
this we want it to search the whole term
and not match anything else so like I
said at the start of the tutorial this
isn't gonna search for multiple keywords
we're just performing you know some
basic search functionality okay so now
that we've done that we need to return
our result count so result underscore
count is going to be equal to MySQL num
rows this will return the amount of rows
that this query returns so for example
if we if we were to search for CH this
will be returned in Manchester and then
Chorley so this function would return to
we obviously need to supply this with
the original query and then result count
would equal to so we now have our result
count</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>