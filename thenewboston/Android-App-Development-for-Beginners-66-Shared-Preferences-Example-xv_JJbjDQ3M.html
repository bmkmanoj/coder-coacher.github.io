<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Android App Development for Beginners - 66 - Shared Preferences Example | Coder Coacher - Coaching Coders</title><meta content="Android App Development for Beginners - 66 - Shared Preferences Example - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Android App Development for Beginners - 66 - Shared Preferences Example</b></h2><h5 class="post__date">2015-01-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/xv_JJbjDQ3M" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so I'm just going to write save the like
users info I'll put the users login info
all right so that's public pass
interviews all right if you highlight
that and just hit alt enter then that
was read because we didn't import it and
another thing is most of the time
whenever you just type those things out
they automatically import but if they
ever turn red then a cool little tip is
you can just click it and hit alt enter
and it will import for you so you don't
have to like it'll save you like two
seconds of typing but still you know
save yourself some time alright so the
first thing we need to do is we need to
allow arm shared preferences to be used
in our app and of course there's a
special class called
shared preferences right there and this
allows us access to create and edit
shared preferences files it's a lot more
complex than this but the first thing we
need to do might as well just let me
name is shared proof I really don't like
objects names the same as the classes
because I don't know if I ever want to
create like multiple ones it gets kind
of messy but anyways what we're going to
do right now is saying okay we want to
use shared preferences in our app and
also we need to add another setting to
say we only want this application that
the app that we're making right now to
be able to access this file that has the
users info in it since again this is
their name in their password so we want
to keep this data secure so in order to
do that you write get shared preferences
and the first parameter is the name of
your preferences file so in this app
we're just going to save the login
information but let's say I don't know
maybe we're making another app that we
want to save they're like notification
settings well we're going to make
another shared preferences file for that
so you can have multiple shared
preferences file you're not just
limited one so for this one I'm just
going to name user info and the second
parameter is just a privacy setting if
we write context and then we just write
mode private what this means is that
this file is private in other words only
this application can access it and there
are types of share preferences that you
can share between different applications
but for this one it's going to be
private since it's login information so
now that we pretty much have access to
your shared preferences what we going to
do now is we want to create an object
that allows us to edit this file to
either add shared preferences or well
we're going to be reading them later
whenever we display it but if we go to
shared preferences and then we call
editor and I'll just name my object
editor what this does is it gives us
object that we can pretty much write to
this file so share pref that edit is
what you set this equal to and now we
can start adding stuff to this file so
how do we do that we take our editor and
we call a method called put string so
every thing in your shared preferences
file is going to come in the form of a
key value pair so it's kind of like a
really simple database that only has two
columns so the first one we're just
going to call user name and it's
essentially just putting a variable in
your file so we're going to say okay
make a key in here called user name in
for the value we're just going to get
whatever value was typed in here so of
course if you go to user name and put
right there which was that text field
and you're right get text and then we
just write to string what this is going
to do is it's going to take whatever
text they typed in here convert it to a
string and set equal to the value of
user name so right now this is an actual
code but it's just um really easy to see
what's going on your file is pretty much
going to be like this you
your name equals I don't like Oh Bucky
Roberts so again obviously this is just
this is a real code or anything I'm just
going to show you guys what it what's
going on behind the scenes
so therefore later on whenever we say
okay go to this file user info and print
out user name it's going to say okay
username equals Bucky Roberts so it's
going to print out Bucky Roberts so
again this is like a really simplified
version of what's going on but now we
have to do the same thing for the
password field so if we actually just
copy this we're going to use the editor
to put another string in and this string
will just name it password and this one
is just password input to string so now
we got two different variables
essentially in our shared preferences
file so in order to actually submit this
or have the editor actually write it you
have to write editor dot supply and it's
kind of unnecessary well it's not
unnecessary it kind of looks like a
extra step but hey that's what Android
makes you do so now just so the user has
a little indicator what's going on what
I'm gonna do is I'm gonna actually make
a toast and I'm gonna make text and I'll
just say this for context what can I
write like save all right so whenever
they actually click this button you know
I want them to know that something
happened you did it correctly so they
click it and it just says saved a nice
little pop up on the screen for them so
then they aren't like guessing and how
long do we want this to last how about
lengths long and of course whenever you
have a toast you need to show it which
pretty much makes it display on the
screen so this is the only coat that we
have to write to save the users login
info so whenever they click the button
it's going to get the text and save it
to this file so now the only thing that
we have to do and actually if we run the
app then it'll run fine we won't have
any bugs or anything
hopefully unless I mess something up but
whenever they click this display info
button
nothing is going to happen because you
need to create that method right now so
all this method is going to do is print
out the saved data and let me run my
emulator got to kick that off actually
I'm afraid that if I run it
sometimes when I'm recording these
tutorials I'll start the little emulator
and then in the middle of my tutorial
you see how like you can see where my
mouse is moving around um it'll just get
stuck on the emulator so I'm like okay
and it's really hard to follow and it
ticks me off and I feel like
drop-kicking my computer so I'm not
going to start that emulator and I just
rambled on about something stupid for
five minutes whatever alright
public void display seven I named it on
click where you at okay display data
alright so in here we just want to pass
through our views now how do we display
the data from a shared preferences file
well the first thing we need to do is
this is really easy we just copy this
and this of course just says okay we
have a app and it's using shared
preferences and what shared preferences
file that do you want to use how about
this one it's the only one we got so
we'll just reference that one right
there so now what we need to do is we
can actually just make variables they'll
probably a little bit easier so if you
call your shared preferences which is
pretty much just a reference to the file
and you call a method called get string
what you do here is you pass in what
string you want
so in this file we have two strings
username and password so we're saying
okay get the username and for the second
parameter we don't write anything since
it's going to return whatever value is
in there we don't want to pass in
anything right now so I know this is
kind of weird syntax too but essentially
what this is going to return whenever
you call this method is whatever my
username is bucky roberts let's say so
now we can print this out later on but
first we copy this and do it for
password
so make another temporary pet online
variable called PW and this is of course
equal to password so again make sure
that the keys that you're putting in are
equal to the keys that you're retrieving
and this second parameter just to
clarify so I don't leave you guys
hanging if you ever have a key that you
access like tuna and it doesn't exist
this second parameter is what it returns
if the key doesn't exist at all so by
default is just going to turn nothing
and there you go so that's what that is
if you guys are wondering why you need a
second one when you're not writing any
information that's what it is so now
that we have two variables what we can
just do is we can take Bucky's text
which was this area down here and set it
equal to whatever text was in that file
so Bucky's text set text and the first
thing is name and let me just add like a
space in between PW alright so it'll
print out the name in the password so
now let me pause this and actually run
my hemi later alright so hopefully this
works let me type in like Bucky Bucky
sucky I meant to type schmucky but you
know
Bucky sucky Oh whatever that's the
dumbest alright
I just type ass 1 2 3 for that so now
I'm going to hit save info and we get a
little toast that says saved and of
course if we even delete these let me
delete that and that so we can see that
it's definitely not pulling from there
anymore and I'm gonna hit display info
then what it's going to do is it's going
to read from that file that was saved in
the background that shared preferences
file and it's going to print out Bucky
Bucky which hits apparently my new
username and pass one two so there you
go and of course if you ever wanna I
don't know it like change your user name
to the new Boston cool username ever in
your past to mom like cheese
thirty you can save that so it takes it
saves it to a file again over writes it
and display it and check it out so
pretty cool that is the basics of how
you use shared preferences so yeah
thanks for watching don't forget
subscribe and I'll see you guys in the
next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>