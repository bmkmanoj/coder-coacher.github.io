<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Android Application Development Tutorial - 177 - On Surface Changed | Coder Coacher - Coaching Coders</title><meta content="Android Application Development Tutorial - 177 - On Surface Changed - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Android Application Development Tutorial - 177 - On Surface Changed</b></h2><h5 class="post__date">2011-08-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ou3XBYhIqio" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's up guys welcome to your hundred
and seventy-seventh two android tutorial
for the new boss in and finally we're
gonna see our triangle on our emulator I
know I've been telling you guys that few
times but hopefully we'll be able to go
through this tutorial pretty quickly so
we can see our triangle there and what
we're gonna do is we're gonna set up
this method on surface change again this
is a renderer class and we need to set
up the viewport you know we need to know
how big our viewport needs to be and
that's why it passes in this width and
this height so we're gonna reference
those to create our viewport and all
that good stuff so again we're gonna
refer to the GL tin object that's being
passed in we're just gonna say GL
viewport and takes X and a Y and also a
width and height so our initial X is
going to be 0 and our initial Y is going
to be 0 which will be the bottom left
corner of the emulator and then it's
gonna go over to the width that we're
getting passed in into the height so
that's basically gonna set up you know
everything that we have available to us
our whole you know activity screen is
going to be full that's gonna be our
viewport and then we're gonna create a
ratio of the width divided by the height
and I'll show you why we're gonna need
that but it's gonna be a float and we're
just gonna call this ratio set this
equal to float value passing it as a
float and then we're just gonna say
width divided by height
and so again that's just a ratio of our
width through Heights because when our
you know our device changes we want to
have the ratio the same whether it be
you know in portrait or in landscape
mode so that's what we're going to need
this ratio for we're also going to set
up what what matrix mode we want and
we're just gonna say GL GL matrix mode
and we're going to set this equal to
again GL 10 object or GL 10 class dot GL
underscore projection and you know
that's just kind of the way that we want
to view it we want to be a projection of
some sort and then when we create this
kind of a geometric mode all we would
need to do is we gotta say GL GL load
our identity we just need to say GL load
identity and that's gonna refer to kind
of this method here and then just
quickly we want to tell kind of give
reference of how big our viewport is and
three dimensions because like let's say
you know we don't want to load all of
our objects so if we're like this close
we want the square to load or a triangle
I should say but you know if that goes
far enough out of screen we're just
gonna not let that render so we're gonna
save some performance so you know we
need to set like how far in the Z
direction we want our object to be seen
so how we do that is we're gonna say GL
GL frustum f as in float and what we're
going to do is we're going to say for
the left value we're going to say our
negative ratio that we set up our right
value our ratio our bottom we're going
to say negative 1 / top value we're
going to say just for example 0.5 our
near Z is again the Z Direction how big
we want that box to be that load stuff
within it so we're gonna say 1 this is
going to basically be from the reference
of where our cameras at so it's gonna be
1 as a starting point and how far away
from the camera is what we want this Z
far to be so we're gonna set that to
like 25 so if our camera gets you know
25 away then it's going to
not load it and we just have to say this
is a float value here and there we go so
basically what this frustum is doing is
it's telling the left value the right
value bottom and top all that good stuff
and again the left value we're using the
ratio because again if we switch from
landscape to portrait we want to kind of
that that left and that right value the
same according to which view were in so
that's why we set up that ratio as well
and actually I'm sorry guys but we'll
finish this up in the next tutorial
because I know it's getting kind of long
I just want to give you guys again a
quick overview of what we've done within
what we've done within this on surface
change again we just set our viewport so
you know basically our whole screen is
going to be our viewport or hold
activity I should say and again it's
starting with GL the bottom left corner
is the zero zero position and unlike
when we did like the canvas drawing
which the top left corner was zero zero
so keep that in mind when you're working
with GL or OpenGL and then what we did
is we set up a ratio to kind of handle
what happens when we the person changes
their phone from portrait to landscape
and we're gonna use this ratio later to
define the vestrum which is going to be
our basically our viewing area where
it's gonna load all of our you know
shapes or triangles or whatever and if
it goes out of this kind of box
surrounding those triangles then it's
not going to be able to to see now well
we'll get into that later a little bit
more in depth in the next tutorial when
we actually see the triangle I said we'd
do it again in this tutorial but you
know um that's probably gonna be it for
for now so watch the next tutorial and I
promise you guys will will render it in
there and I'll catch you guys then have
a good one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>