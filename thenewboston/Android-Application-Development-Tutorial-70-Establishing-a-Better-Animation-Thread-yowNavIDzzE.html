<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Android Application Development Tutorial - 70 - Establishing a Better Animation Thread | Coder Coacher - Coaching Coders</title><meta content="Android Application Development Tutorial - 70 - Establishing a Better Animation Thread - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Android Application Development Tutorial - 70 - Establishing a Better Animation Thread</b></h2><h5 class="post__date">2011-08-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/yowNavIDzzE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's up guys welcome to your 70th
Android tutorial for the new boss in
again with me Travis and I don't know
how many tutorials this is going to take
but this is get the desired result that
we're gonna get basically I'm clicking
or touching the screen and dragging and
this ball is going wherever I'm dragging
so if you guys don't really care about
how to do that that's fine but we in
this tutorial we're gonna actually learn
about the infrastructure infrastructure
of the thread and kind of make it more
complete for the most part so what I
want you guys to do is open up the my
bring back surface here and we're gonna
kind of set up some different methods
that our thread can use and let's let's
just get going here we have a run method
which is gonna be called when we start a
thread but let's say we also want to
have like a pause like because we don't
want a thread running all the time so
we're gonna have a way for it to pause
and we're also going to have a way for
it to resume so we're just gonna create
those two classes real quickly so we
just do again just public void pause and
then we also do public
would resume pretty standard here but
now what we can do is let's go into our
our graphics our GFX surface and now
what we can do is we're gonna add you
know the pause and resume from the
activity class again by overriding
within here so we're just gonna say on
pause unpause and we're gonna say on
resume so now what we can do is we can
also say since we establish kind of our
class which is our thread my bring back
surface we can say our surface view dot
and we now have these methods that we
can use such as pause and and resume
that we just set up now these aren't
like standard methods these are the ones
we just set up they don't mean anything
right now but we're gonna kind of
establish what they mean here in a bit
but we're just setting up our thread so
it will you know resume and pause and
all that good stuff so in our surface
view dot resume and there we go
we can't have that set up now let's kind
of establish what we want these these
pause and resume methods to do ok so now
let's think about how we can do that
obviously we have this variable called
is Ronnie it's gonna be true or false
and while that's running it's gonna be
you know creating our canvas locking it
drawing to it and then unlocking and
showing so what we can do is we can
change this variable within our on pause
method so all we're gonna do is say is
running is equal to false now so if this
pause method gets called is running is
going to change to be false and then if
it resumed again we're just gonna say is
running
it's equal to true and that's kind of
the basic establishment but now let's
also go a little bit further because now
every time this application reruns or
this the only time it's this thread is
actually going to start is when this
constructor is called so you know that's
going to be the only case that happens
but what we're gonna do is we're just
gonna cut this and we're gonna paste it
within our resume it goes again any time
the oncreate are that you know over here
in our graphics class is saying so
basically when you know this activity
starts going to do the on create and
it's gonna build our holder within our
constructor and not start a thread yet
until it goes to the on resume that's
what the on resume is going to do for us
so there we go basically everything is
set up for the most part to have a
little bit better infrastructure for a
thread now the only other thing we want
our on pause to do is basically we're
gonna destroy we're gonna destroy our
thread we're gonna have it stopped
running and because again when our arm
resume happens it's going to create a
new thread for us so within this on
pause we're just gonna kind of destroy
the currently running thread and what
we're gonna do is we're going to say
we're gonna create a wild loop and we're
just gonna say true so it's this is
definitely going to be true and what we
need to do is we need to set up our
thread which is called our thread and
we're gonna use a method called join now
basically what join does is it blocks
the current thread until the receiver
finishes its execution and dies as you
can see over here in the description so
basically it's going to kind of you know
go through this while loop until our
thread is is joined or till it dies for
the most part then we're gonna hit break
because then we're done and now all we
have to do is add a catch around with a
try and catch sorry I forgot to do that
so
we're gonna try they let our thread join
and then we're gonna catch the
exceptions so you know nothing - nothing
too critical there then all we have to
do is basically set our thread equal to
null within the pause after it's done
and after it's joined in everything so
we're gonna say is our thread is equal
to null and I got this I kind of got
this layout from a book called beginning
android games because I really like the
infrastructure of this thread set up I
mean it's kind of a general set up as
well but for the most part this is
pretty similar to the example in
beginning android games which is a press
book by mario Zek nuur i believe so
you guys wanna check that out I want to
give him credit for this because it's
kind of his layout for the most part but
I really like the structure of it so I
just kind of want to explain more
thoroughly what what this does and there
we go we basically ever thread setup and
I'll catch you guys in the next tutorial
peace</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>