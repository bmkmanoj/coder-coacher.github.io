<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>jQuery Tutorial - 138 - Creating a day/hour/min/sec countdown plugin | Coder Coacher - Coaching Coders</title><meta content="jQuery Tutorial - 138 - Creating a day/hour/min/sec countdown plugin - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>jQuery Tutorial - 138 - Creating a day/hour/min/sec countdown plugin</b></h2><h5 class="post__date">2011-08-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ABOk--HrZ6Y" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">but I guess this isn't really a problem
you know shouldn't run add too much
speed to the application so if is not a
number event date which essentially
means if it is a number then we display
these now when you see a refresh we just
get these default zero values here as
opposed to this ni n error this ni n
value so now when I remove this this
evaluate menhir evaluates to true and
the numbers are placed in corresponding
to their day our minute or second so
let's go ahead and focus on this
callback function now what we actually
need to do is create an if statement
above our or the top of our function and
what this will do is it will calculate
whether the event date is less than or
equal to the current date and if so then
we can we can send our callback function
and clear out interval and it's
important that we clear the interval or
the interval carry on you know counting
down these values in the background so
what we want to do is we want to say if
event date is less than or equal to the
current date that means that the event
has taken place or the event or the you
know is counted down to the event that
we've specified so here were the first
thing that we want to do is call back
and the second is clear interval so
clear interval is pretty easy all we do
is we use the clear interval function
and we specify the interval name and
here we've called the interval interval
by setting this interval here to this
interval variable so we can go ahead and
just place interval in there now let's
go ahead and take a look at what happens
obviously we haven't called anything
back but let's go ahead and change this
to today's date which the 8th of August
and let's change it to we're at 1602 at
the moment so we'll change this to 1603
okay so you can see that we've got 40
seconds to countdown so what's going to
happen here is that when the event date
is less than or equal to the current
date so our a when this reaches zero you
know according to the calculation we're
going to clear the interval so the
countdown will stop if we didn't have
this lining it would carry on and
everything we've mess up because we'd be
counting into minus figures so let's
just wait for this countdown to reach
zero and you'll see that all that will
happen is that as it does reach the
current date we will just stop the
counter so the interval will be cleared
and this will stop counting down ie the
function will stop being executed every
one second so we'll just wait for us to
reach zero and there we go you can see
that it stops there so the interval has
been stopped and we've been left at zero
zero days hours minutes seconds so you
could leave it at this state however you
might want to perform an action once
this interval once this sum has reached
its current date or reach the event date
so we want to actually call back so I'm
going to say call back in fact let's
actually specify a parameter or an
option up here first which is call back
and in here we want to say call back
call this so what will happen is is that
we can specify this when we do it in ext
J s and then when the event date is less
than or equal to current date we've
already seen the clear interval but we
call back and therefore we execute the
function that's associated with this
here so what we can do now is create a
function here and this here is equal to
or is the parameter callback so when we
send this callback here when we send
call this will this function will run so
if we come down and let's alert
done so much like you do with predefined
features in jQuery we're just doing it
ourselves essentially and this is how we
would do ourselves so let's go ahead and
change this to say 1605 and refresh you
can see that about 37 36 seconds so
we'll just wait for that to countdown
and when we do get to the event date
like we've seen by clearing the interval
this time we send the callback it sends
it to here which is our function and we
run this line inside of this callback
parameter so let's just wait for that to
reach its 0 seconds and then we'll see
this alert dialog box come up a lot of
waiting around but doesn't matter and
we're nearly there
so when it gets to 1 we send the
callback and the callback function is
that we alert this done dialog box so we
can see that that's happened there now
what I'm going to do just as an example
is say countdown dot text which is the
current element that we're working with
inside of here I'm just going to say
we're live and just escape that
character there so now what's going to
happen is when we specify this again in
here and when we refresh and we wait for
the countdown to happen this will be
performed now I'll talk a bit about why
it's useful that we actually incorporate
callback functions into our plugin and
this is because we want to make our
plugins as reusable as possible we want
users to be able to not have to go into
the plugin code and modify what they
want to happen so by using a callback
function the user can say well when the
date reaches its specific day I want to
carry out a particular action so they
can define this themselves and extend
our plug-in without us having to or
without them having to go modifier so
you can see now that the text has
changed to we're live so if we were to
say release this as an official plug-in
or you know send it to our friends to
use or give it someone else in our
workplace to use all they have to do is
declare the lead plug-in which we've
already created we could have had it
minified and
zip and all they need to do is define a
date and a callback function they can
specify their own date which obviously
has to be a correct correct string and
then they can create a callback function
to do what they want to do when the date
has reached so that's how we create our
countdown function in jQuery and how we
can make it usable and reusable using
this option here and this callback
function here</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>