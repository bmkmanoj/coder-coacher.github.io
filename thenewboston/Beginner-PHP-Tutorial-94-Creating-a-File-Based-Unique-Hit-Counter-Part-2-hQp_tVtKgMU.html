<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Beginner PHP Tutorial - 94 - Creating a File Based Unique Hit Counter Part 2 | Coder Coacher - Coaching Coders</title><meta content="Beginner PHP Tutorial - 94 - Creating a File Based Unique Hit Counter Part 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Beginner PHP Tutorial - 94 - Creating a File Based Unique Hit Counter Part 2</b></h2><h5 class="post__date">2011-04-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/hQp_tVtKgMU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so we don't actually want to echo out
the IP addresses we just want to use
them inside here so I'm going to create
a variable called IP single and that's
equal to each one so we can use this
variable to check whether the user's IP
address which is up here corresponds to
one already in here so we can say if we
can say if IP address is equal to so
using a double equals comparison
operator is equal to IP single do
something otherwise do something else
now in actual fact we don't need this
if-else statement we just need an if
statement because if the if the IP
address is in there actually let's think
about this logically if the IP address
is in there we don't want to record the
IP so what we can say is if IP address
doesn't equal IP single so essentially
what we're doing is we're looping
through this IP dot txt file we're
checking of the user's IP addresses -
this is equal to this one first and then
we're checking if it's equal to this one
now if it is equal to this one or if
it's not equal rather we're going to say
found equals false otherwise we're going
to say
come back up here found equals true and
the reason we do this is because we're
in a loop here we don't to increment the
value of the count dot txt file
inside a loop because if we increment
the value of something in a loop is
going to be performed over and over and
over again so we want to create a
boolean value could found which is going
to be equal to either true or false
then what we can do is under this for
each under this for each here we can
then say if found equals false and in
here what we can do is increment count
txt value so let's just test this first
of all we can echo here IP not found and
in the case of the IP address not being
found we can increment the value of
count so let's just test this works
refresh IP not found oh it should have
been okay so I think the problem here is
that we've declared this outside our
function so we need to do is if we pop
this inside of our function just in
there and we refresh Oh No okay so let's
try and determine the problem with this
let's echo this up first of all and
refresh so let's have a look inside our
IP dot txt that's on the first line
there so we'll go through and debug this
carefully probably just something that
I've completely missed echo that out
and that's one to 7.1.1 so if that is
equal to my IP IP address underscore
address doesn't equal IP single found
equals false found it was true oh okay I
understand
so if it is found we need to say if it's
not found we need to say found equals I
get false otherwise found equals true
and we need to say it found equals true
and we run this it means our IP address
has been found however if I was to
remove this IP address we can keep this
one and refresh no no okay
hold on let's take another look at this
let's put that back in there so this is
probably great I've made a mistake you
can follow me and see what I've done
wrong so if IP address doesn't equal IP
single found equals false
if found equals false is equal to false
right okay I think I've sort of worked
out the problem now I'll tell you why
this isn't working first of all how to
have had a little look at it and I've
and I've sort of worked out what's wrong
so what's happening is is where because
we're looping through every IP address
first of all we're going to set the
boolean found found the variable found
which is a boolean to true and then what
we're going to do is yeah so okay so I P
address doesn't equal IP single let's
change this to equals equals and we'll
change this around so it's just easier
to grasp so if the IP address in the
file does equal the IP address of the
user then found equals true so therefore
if found equals true we want to say
already or will just say fountain for
now so otherwise once say folks however
when we go through again it's going to
check the second one and put this to
false automatically we're not keeping
the same value of found therefore
underneath each one of these we want to
use break so we're only finding the IP
address and then breaking in fact we can
say folks keep that as folks that's
absolutely fine so now if we were to
refresh it says found because it's found
within here so all break is doing is if
it is found we don't need any more
information so we're breaking out of
this current loop it's for each here
okay so obviously if we were to put a
break here and it wasn't found would
break out straight away we want to keep
going through the file until it's found
so logically looking at this I was
confused and you may be at this stage
but just have a good look and try and
understand why we break out</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>