<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Beginner PHP Tutorial - 142 - Getting User Data Part 2 | Coder Coacher - Coaching Coders</title><meta content="Beginner PHP Tutorial - 142 - Getting User Data Part 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Beginner PHP Tutorial - 142 - Getting User Data Part 2</b></h2><h5 class="post__date">2011-04-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/OEl78NxZHcA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so what we've done is we've selected
just the field that we want from the
users table where the ID is equal to the
user ID that's logged in then we're
running the query and checking if that
works and if that does works where would
work sorry
we're returning the result and the
result takes in the query that we've run
we're guessing the first row remember it
starts at zero even though our ID starts
at one that's just a superficial value
it doesn't mean anything it's just a
data that's stored but in actual fact
we're returning row zero and that's and
we're grabbing the field name field that
we specified okay so um let's in fact we
can improve this still but I'll do that
in a minute I'll show you that it works
first we could even enclose this in an
if statement and return if it's not
worked we can return the value not found
so let's do that I guess we can do that
now so if that so if this returns a
value we execute something in here now
we need to assign a variable to this so
I can say query result is equal to that
if it does work return query result so
we're constructing our query we're
running the query if the query is
running we or has run successfully
without error we are executing this
block in here within in an if statement
setting a variable --gel query result to
this if this query or if this function
rather works we then return the value
we've just set here using these that
I've already explained so let's give it
a go let's um say we'll just do it down
here for now so I'm going to echo get
user field and I want to get first name
so we're applying now the field name
that we want to get remember the field
name first name will be equal to Alex in
this case because we're selecting from
where the ID is one
okay so let's test to see if this works
and then we're going to
this use you've logged in sentence let's
go back to our page and refresh
hopefully that works yet that's worked
so we've got Alex being returned
so now let's enter a filename that
doesn't exist I don't exist and let's
refresh now we've not returned anything
that's because um this that's because
this has returned as false if we just
had this on our own we'd have a nasty
SQL error in the middle of something so
if we can't find a field we just don't
display it rather than causing a big
error inside our program so let's go
back to where we are we to index dot PHP
what we can now do is if logged in we
can say first name is equal to get user
field first name oh no first name then
we can say surname is equal to get user
field surname and then we can
incorporate these inside of this
sentence so you're logged in first name
surname remember using single quotation
marks we need to escape that for first
name and then we do space and we can
escape that again and say surname so
you're logged in escape this string
concatenate on the first name and then
we do a snuggler space concatenate on
the surname and then we continue the
string so now we can see that on index
dot PHP is taking the information
relevant to us so let's just put a
full-stop after that refresh it looks a
bit better okay so you're looking Alex
carrot now let's try it when we log out
and login as Billy
okay so you can see that it's now taking
the data relevant to the user that's
currently logged in and it's displaying
it back to us now we can supply any
field we want any field no me1 inside
here and it will display it back to the
user
so when you eventually use these
examples for yourself when you're
learning and you want to create the
registration form which we're going to
do in the next stage you can add as many
fields as you want to your database and
then you can just use this function that
we've created inside here which we
available at any page that you want it
to be by just requiring it up here you
can just use this function to select any
field so if we now even go and add a
field to this say we added say telephone
number we can then just respec i that
inside and using this function so that's
basically how we are grabbing data about
the user and displaying it on to our
page</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>