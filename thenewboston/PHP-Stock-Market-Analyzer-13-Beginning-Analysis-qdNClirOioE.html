<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Stock Market Analyzer - 13 - Beginning Analysis | Coder Coacher - Coaching Coders</title><meta content="PHP Stock Market Analyzer - 13 - Beginning Analysis - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Stock Market Analyzer - 13 - Beginning Analysis</b></h2><h5 class="post__date">2012-01-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/qdNClirOioE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what is going on guys welcome to your
13th PHP tutorial in first of all
welcome back to me because I know that
you may have just watched the last video
and now you're watching this one but in
between that last video in this one in
real life there has been a lot going on
i went to Cancun and i actually got sick
and i got like the worst sore throw of
my entire life i'm actually on
antibiotics now so it's kind of sucky
and if my voice sounds a little bit
weird then that's why but yeah even
though there may be a couple seconds
between the time you watch the last
video on this one whole lot happens in
my life so another thing I'm trying to
figure out where we left off well I
think we did was I think that we pretty
much took all the data and put it inside
the database and now we're ready to
start analyzing this stuff so if not and
if I'm totally going on the wrong path
and I guess I'll figure that out soon
enough but let me go ahead and now that
we have all the data where we want it
let's go ahead and start analyzing this
bad boy so I'm gonna go ahead and create
a new file and I'm just going to go
ahead and save this as let's see if we
have the stock downloader I think that's
good to go already so let me actually go
ahead and make a new folder and I'm just
going to name this analysis because like
I said we're going to basically have a
bunch of different how I don't want to
call them functions but done a bunch of
different formulas that are going to be
testing so we're going to be putting
each of these formulas in a different
script so we probably don't want it all
jumbled up in the same directory is this
so I'm going to throw them them well
excuse me I'm going to throw them all in
a folder called analysis so I'm just
going to go ahead and name this one
analysis underscore a and might as well
save this as a PHP file dot PHP now I'm
just going to go ahead and whenever I
make a formula I'm going to go make it
ABCD and that way it just helps me you
know organize things a little bit better
because what we're going to have to do
is this formula is basically going to
run through the data and we want to like
store our results in the database so
if we had ten different formulas instead
of trying to remember the name of each
one we can just run script a then
analysis b c d e f g and we don't have
to be like ok stock goes down PHP stock
goes up three days in a row dot PHP you
see what I'm saying so now you know with
that little spiel let's go ahead and
start combing this bad boy PHP and okay
I remember how to code some PHP at least
so the first thing I want to do is
actually include that connection file so
remember that connection file we
included right here in our suck
downloader pretty much gives us access
to the database however we can't just
copy and paste that from on this stock
downloader that PHP because check this
out it's located in a different file if
we go ahead and try to open this right
here there's no include file so we need
to hop back a directory and then hop
back into our includes folder so how do
we tell PHP to hop back o directory well
we use those two little periods or dots
whatever the heck you want to call them
and then you use um the forward slash i
forgot the name of but whatever that
gets called and that says okay move up
to the parent directory and then the
includes folder is there so remember you
can't just use this path right there
that means that wouldn't mean that
there's an include folder in the same
directory as basically inside the
analysis folder and it's not so with
that being said what we want to do is we
are going to build a formula and now the
very first and probably the only formula
I'm going to teach you guys how to do is
this whenever a stock goes down for one
day the next day is it likely to go up
is it likely to go down so basically
you're saying this okay after Google
goes down the next day should you buy it
or should you sell it well what we're
going to do is we're going to test this
formula not only on google but through
multiple companies all the companies
that we have listed in our ticker master
so what I'm going to do is I'm going to
bill
old one main loop in the main job of
this loop is pretty much the loop
through that ticker file and extract the
ticker name so I'm just going to go
ahead and call my function function
master loop sounds like a rap name
master loop and I think if I was the rap
that would be my name but anyways Oh
still a little bit sick there I just
said oh I said some mucinex so now the
flames coming up pretty cool so now what
I'm going to do is I actually want to
store the file in a variable called I'll
just name it main ticker file and set
this equal to F open and of course as a
parameter you write the directory of the
ticker now remember the directory or the
file path for the ticker was ticker
master text but we have to move up one
directory because we are in the folder
analysis right now and it's in the
parent folder so dot dot slash and you
actually need to surround these in
quotation marks dot dot slash and I
believe that name was ticker Master dot
txt and the second parameter is our
since we're just going to be reading
this file and what I mean by this dot
dot is whenever you open something any
time you need to go up a directory in
other words to the directory before it
then you use that dot and since I just
wanted to verify ticker master tex was
the name ok we're good to go I didn't
forget that part so basically now this
main ticker file represents ticker
master which remember was a text file
with all of our tickers in it so now we
have access to that file what do we want
to do well what we want to do is we want
to build a while loop and what this
while loop is going to do is just run
through this file and grab each ticker
one at a time so let's just go ahead and
build a while loop and built in EO f f e
LF and as a parameter of this i'm just
going to use that main ticker file now f
EO f means i can't even remember if i
talked about this in the last oral
is pretty much a pointer checking for
the end of file so it's pretty much like
a cursor that's going to go through your
text file go ahead and open the sub took
her master that text it's like
technically it's a pointer but it's
pretty much the same thing as a curse or
or at least that's the closest I can
explain it it's going to loop through
this and then it's going to give you
this and then this and this and this and
this wall loop is going to keep going
until you reach the end of the file so
the very first thing that's going to do
is return Yahoo then forward Netflix
Adobe GE and then a while loop is going
to end so the very first thing we want
to do is remember we actually don't get
anything it's just a pointer moving says
where do you want this cursor to be so
we want to say okay we actually want
some data in the form of a shrink so in
order to do that we need to use a
formula called F gets but let's go ahead
and store that in a variable first so
company ticker and set this equal to F
gets and we're just going to go ahead
and take your file so just remember
whenever I say pointer just leave it
like a cursor so now what this f gets
function is going to do is it's going to
go ahead and return the first line it
basically returns a line of text as a
string and not only does it return this
line but it also moves that pointer for
you in to the end of the line so it does
a couple of different things they're
basically returns a line as a string and
also moves that pointer or cursor so now
that we got a company ticker what I want
to do after this well the only thing I
want to do is trim it because remember
whenever I trim it I just ensure that if
I accidentally have a space like right
after that or something I don't want
that included so let me go ahead and
just use the trim function and that will
take care of any unnecessary or unwanted
white space so there you have it there
is the beginning in the next tutorial
we're going to start running through
this data for each of these companies
and I'm analyzing this crap so
yeah they're your thing guys for
watching and I'll see you then</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>