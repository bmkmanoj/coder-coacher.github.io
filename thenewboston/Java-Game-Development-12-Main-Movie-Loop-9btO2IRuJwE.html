<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Java Game Development - 12 -  Main Movie Loop | Coder Coacher - Coaching Coders</title><meta content="Java Game Development - 12 -  Main Movie Loop - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Java Game Development - 12 -  Main Movie Loop</b></h2><h5 class="post__date">2009-11-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/9btO2IRuJwE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what is going on guys it's buggy and
welcome to your twelfth tutorial in Java
game development and in this tutorial
we're going to be building our main
movie loop now what the main movie loop
is the main movie loop it's the method
that actually plays the movie it goes
from a frame to frame so let's go ahead
and let's just go ahead and start and we
named a movie loop in the last tutorial
so let's go public void movie loop now
it's not going to take any parameters
it's just going to be a powerhouse do
something so we need a couple variables
in here what we're going to keep track
of of the time it begins so let's go
along starting time there we go and set
this equal to the time it is right now
so system current right there time
Millis and what this does is it goes on
your computer on your clock and gets
whatever time it is when this animation
starts or the time right now so now we
have a starting time easy enough and
what we're also going to do is keep
track of a cumulative time that the
animation has been running for so at
first long come time at time we make
this variable it's equal to starting
time since the starting time right now
is pretty much zero so the cumulative
time and has been running for is zero
because we didn't do anything yet we
just type the one line of code and we
didn't make any loops so now what we're
going to do is make a while loop to test
it against and make sure that it only
runs for five seconds so let's go ahead
and put while and put welcome let's have
time - starting time is less than 5,000
milliseconds of course what do you want
to do and you put that - and what this
is going to do is the first loop this is
going to be 0 - 0 while this is a less
than 5,000 then run this code and this
is going to play your movie and if
you're saying all right then
how does this get above 5,000 whoa in
this code we're going to keep adding to
cumulative time so whenever cumulative
time gets about 5,000 like 6,000 6,000
minus zero is 6,000 this would be false
so it wouldn't run anymore so that's
when that's how we're pretty much going
to do this but now we need one more
variable and that's the time that passes
from each loop so long time passed and
what do we want to do we want to set
this equal to system current time Millis
and what this is going to do is keep
track of the time it passes in one loop
and we're going to keep track of this by
time passes equal the current time - why
I shouldn't say that curve time just
like that that makes a little more sense
and let's see oh it's cumulative time
right there so now it gets the current
time in - is it from the cumulative time
so for example if on the first example
it took 12 milliseconds to do this loop
then that would be remember cumulants at
time 0 right now then the time that
passed from when I hit this code the
first time would be 12 here here's what
I'm saying pretty much since these are
both 0 to start out with well after you
get done running this code for the first
time and you finally get to this line if
12 milliseconds have passed it would be
12 milliseconds minus 0 so in the first
loop time pass would be equal to 12
milliseconds so why do we need that time
pass variable well first of all since
we're keeping track of the cumulative
time that passed let's go go cumulative
time plus equal time passed so
cumulative time is pretty much just
going to keep adding up and adding up
all the time that passes during this
loop and eventually once five seconds
has passed it's going to break out of
the loop so how cool is that and also
what we need to do is go to a our
animation class up
a input type passed right in there and
remember in our animation class we made
this update method and it pretty much
keeps track of how long the movie should
be playing and once it surpasses the
length or it excuse me the total time
that it should be playing then it quits
so you know or excuse me it restarts the
animation that's what it does so let me
go give you guys example one more time
all right whenever you start because I
know this is probably the most confusing
part of this entire animation but once
you get this you'll be good so time
begins to say starts is zero where it's
just beginning our animation key limit
of time we'll set this equal to zero as
well now this is the loop that runs over
and over again these only run once
cumulative time is only set to zero one
time then it changes
so while zero is less than zero minus
zero excuse me
so this is zero is less than 5,000 which
is true then what do we want to do well
this time passed is probably equal to
somewhere around 12 or something by now
so the current time minus 0 would be
like 12 milliseconds or something like
that and now key limits of time equals
12 because 12 equals 12 and if you ran
again in time past equals 12
milliseconds on the next time then it
would be equal to 24 then 36 and 48 and
it would keep accumulating time until it
finally got more than 5,000 and every
loop it counts the time that passed from
the last loop and it sends it an update
so this time passed is probably going to
be like 12 each time but you know
whenever you called this method then it
needs this information so that's why we
needed to get that variable so now let's
start drawing stuff on the screen so
graphics G equals
screen dot get fullscreen window and get
graphics and we did this in our last
tutorial show you should know we're just
making a graphics object and all this
stuff is review but I need it's
necessary next we're going to make a
draw method and we're going to pass it
the G of course and when you're done
don't forget to dispose of your graphics
object is just good housekeeping now
what we want to do after we've done
drawing we always want to sleep for a
little bit and this goes everything
this gives everything time to catch up
so thread the sleep for 20 milliseconds
and this means do nothing at all for 20
milliseconds in case something is
running in the background will give you
time to check up so excuse me catch up
catch up next let's catch exception X
don't handle it at all and got to
capitalize that stuff right there so now
it looks to me like aside from our draw
method we are done with this movie loop
right here so that movie loop like I
said was the most confusing thing easily
in this entire series so far but once
you get this movie loop and you know how
the time works then you could pass that
time into update and that's pretty much
why we did it we need to get all that so
we could pass this information in our
update so in the next tutorial we're
going to be finishing this whole
animation set and we're going to be done
with animation so you know these two
tutorials in these two classes were
paying to walk through but I mean
they're necessary so in the next
tutorial we're going to be finishing
that draw method from right here and
also we're going to be running it and
see what the final product looks like so
thank you guys for watching don't forget
to subscribe
can't wait to next store and I'll see
you then</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>