<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>jQuery Tutorial - 194 - Textarea emoticon text inserter | Coder Coacher - Coaching Coders</title><meta content="jQuery Tutorial - 194 - Textarea emoticon text inserter - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>jQuery Tutorial - 194 - Textarea emoticon text inserter</b></h2><h5 class="post__date">2011-08-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/_BV2zwGo9Cg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">and then we can go ahead and continue we
can pop a happy face in a really happy
face something like that okay so now
that we've done this you'll probably
have noticed the what we have done is
say hello click this the focus has been
taken away from this text area the user
now has to click back in to be able to
start typing again now it would be a lot
more useful if we could click an emotion
con and just continue typing again but
we're forcing the user to reclick in
here so what we want to do is we want to
just before we add this value to the to
the comment box we want to use focus so
we're sort of binding this event or
binding this function on before we put
the value in so now what will happen is
when we click a smiley face after we've
typed something we return focus back to
the text area so we can continue like
this and I haven't had to click back in
here so that's an extremely useful way
to sort of provide your user with a more
flowing way of you know working around
on your website okay so the other
problem that we have we'll just address
one problem and then the space problem
if I type say hello and then I press
then I actually enter a space here when
I then put a emotion kana in I get
another space generated obviously
because we have the text file content
which already has a space after it then
we add another space and then we add
this last space just here now the last
space isn't too much of a problem but if
the user was typing something like this
and then was to go and put a smiley face
in and they get two spaces they're gonna
have to go back delete that make it look
nice again and then they can continue
typing so what we want to do is we want
to find a way to trim this value that we
initially take from the text area so
what we can do is we can use the jQuery
trim utility so it looks like this and
I'm gonna wrap this in the we'll wrap
the entire contents of this inside of it
so I'm gonna say jQuery let's just get
this out the way from in it I'm gonna
say jQuery with a capital Q is
case-sensitive dot trim and that's the
function
now what I can do is put this value here
getting rid of this inside of there and
what that will do is it will trim the
cut the the white space from the left
and the right hand side of the value so
now what we do is when we go ahead and
type something here I can put loads and
loads of them into spaces click this but
it will always trim it before it adds
this additional space so for example if
we were just typing normally I've added
an additional space here jQuery trim
will remove this space then add a space
on for the emotion con so it essentially
just adds it in the place that you were
so it's quite clever for example if we
typed something and then didn't type a
space we still get the same effect so
you're you sort of creating a more you
know easy to type and flexible way for
your user to type in and press these
buttons so it sounds quite technical for
you know as such a simple script where
the emoticons are placed inside just
here but in actual fact it's fundamental
to how your user feels when they're
using this when you're developing things
like web applications you need to make
sure that it feels natural and easy to
use so I could type hello and click here
nice website and click here and it just
does it all for me and I don't need to
think about readjusting anything or
anything like that so let's go ahead and
look at the final problem that we have
in the sense that if I just wanted to
put a smiley in you see it adds a space
here and it adds a space here so at the
moment we can't really control that
because we've just added a space in here
and we've added a space at the end as
well so what we can do is we can perform
an if statement and then set a
particular variable to either a space or
not so the if statement is going to be
if the text area Val equals nothing I
have has the user not typed anything so
the the current state it will be equals
nothing so when I click smiley this
block here will be run and in this block
I'm gonna say var SP equals nothing so
there's no space there now otherwise
this variable called SP is equal to a
space and the reason for this is if the
text area value is empty we want to
create this variable with no spaces if
we if it is if it does have something in
we want to append spaces and by this
what we're gonna do is just put an SP
there and an SP there and therefore
what's gonna happen now is when I go
ahead and click in a mosha con now with
no content in SP will be equal to no
space whereas if I did have content it
would append a space out we've you know
discussed the natural fear there so now
when I click this it adds no spaces so
we've again you know created the need or
the the not need for a space in this
case another point to make on this is if
I was to click this and it was to put a
space here and a space here and I was to
say store this in a database you might
be looking at additional data needing to
be stored and therefore using more data
or more space than required so we're
cutting down the or eliminating the need
for more spaces just by using this if
simple if statement and substituting in
these SP variables now you might even
want to go as far as actually trimming
this again as you place it back into the
back into the text area for example nice
web site smiley face we've got an extra
space at the end so you might want to
then have a submit button to submit that
we've included an extra space if you
would find this a problem you could then
go ahead and say jQuery dot and you
could just go ahead and trim where you
can actually let's think about this
carefully
yeah okay so you could probably just go
ahead and say jQuery dot and then you
could just trim all of that so now
you're trimming the whole lot of it when
we come back to it and time nice website
for example and click this you see that
the cursor ends at this point and then I
guess it's natural for the user to then
go ahead and type of space but you're
also if the user decided to type
something and then a space for example
and do that we just are left with no
white space except for the designated
spaces so you can fiddle around with
things like this to make them more
natural for the user and also to save
additional characters being used but I
guess in this tutorial we've covered a
few different aspects of jQuery and
created this simple little application
here</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>