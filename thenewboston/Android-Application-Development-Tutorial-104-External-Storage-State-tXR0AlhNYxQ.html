<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Android Application Development Tutorial - 104 - External Storage State | Coder Coacher - Coaching Coders</title><meta content="Android Application Development Tutorial - 104 - External Storage State - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Android Application Development Tutorial - 104 - External Storage State</b></h2><h5 class="post__date">2011-08-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/tXR0AlhNYxQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's up guys welcome to your one
hundred and fourth Android tutorial for
the new Boston and what we're gonna do
in this tutorial is learn about external
storage because before we've done you
know the shared preferences and the
internal storage but let's say you guys
have an app or a game that that saves
some data and when they install the
update basically if we save the data
internally or shared preferences that
memory is going to get erased so what we
can do is create external storage such
as like on the SD card where when they
update the the game or whatever they can
still refer back to that file that we're
saving on the SD card so what we're
gonna do is we're going to create a
class called external data and we're
also going to create a class called
external data I'm sorry a layout called
external data and all this layout is
gonna have is two text views for now and
the references of those text views are
gonna be TV can write and TV can read
because this tutorial we're just gonna
see if we can access the store the
external storage external storage and
see if we can write to it and if we can
read to it so within our class we set up
a private text view variable called can
write and can read basically private
just means that this text view is only
accessible to this class and that's all
that means for the most part separate
references and set our set content view
and we're just going to set up our can
write dot set text to initially be false
and our can read dot set text to false
as well so if we get a false we know we
can't write or read or something's not
working within this tutorial because
we're initially actually let's not let's
not do that we're gonna save that there
but we're gonna move it later so if we
start our application we see the text
views we know nothing's happening but
we're eventually going to move this so
we can see if it's working or not and
how we're gonna do that is we're gonna
set up a string variable we can again do
private if you want string and we're
gonna say the state because we're gonna
return the state value of our external
data like if we can access the SD card
if we can read the stuff on the SD card
or if we can write the stuff on the SD
card or both so how we're gonna do that
is by the environment we're gonna get
some stuff from the environment class
and we're gonna get the state of the
external storage so we're gonna set up
the state variable to within our on
create method to environment dot get
external state and that's just going to
return you know a string for us and
we're gonna excuse me what we're gonna
do now is just kind of check if we can
read and write so or check what this
state is equal to so what we're gonna do
is we're going to say if state and we
can't compare strings like this is equal
to whatever that's not going to work to
compare strings again we just have to
hit dot equals and now if it equals this
object within here then we know what
kind of state it is and there's three
types of states one again we have to
refer to the environment class so
environment
and then we're gonna say dot media
mounted so if our state is equal to this
medium mounted what that's gonna mean is
we can read and write so we're just
gonna set up within here read and write
something like that and now we're just
gonna change our text views I'm just
gonna copy that here and turn these to
true because we can read and write
because you know we don't want to write
try and write something if we can't do
it so we're basically going to use this
type of checking method to see if we can
read and write and then if we can we can
write some data let's say there's a
different state that we access where we
can read the stuff but we can't actually
write it so what we're gonna do we're
gonna say else so if this statements
false we're gonna say hey is it is it
this else if and we're gonna say state
again dot equals and then within
parentheses environment dot media
mounted read-only so that way we're
gonna be able to read the data but we
can't actually access it so again we're
just gonna leave a comment read but
can't write there we go and so in this
one we're gonna say again we're just
going to copy and paste let's say we're
gonna say right it's still gonna be
false but read is going to be true and
then the last state we're gonna say else
so this last bracket is gonna be our
last resort so it's gonna say hey can we
read and write it's gonna be like yeah
true true
if it's if that's false it's gonna be
like hey can we at least read it and
it's gonna be like yeah you can read it
but if we can't it's gonna be like
alright I got nothing for you so this is
our last last little bracket here to set
some stuff so we're just gonna hit
ctrl-v and set both of our texts to
false and now we're gonna delete both
these two set text with above because
this way we can see if this whole thing
isn't even working at all for the most
part because we'll still have those text
views so let's just run it and see what
our emulator looks like when we run our
application and again just quickly what
we did so got it going from last
tutorial and what we did is we set up
two text views and basically we're
getting every time we access external
data we want to use this environment get
external State external storage state
and check if we can read and write
that's the main thing of this tutorials
we're just getting the state and seeing
if it's equal to media mounted and then
you know if we can't we're gonna see if
we can at least read the data and then
if we just need to read data you know we
want to make sure we can at least read
it and if we can't do either we're gonna
kind of return a false value as well so
and once we go down to our external data
you can see both of them are true so we
can read and write to our emulator</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>