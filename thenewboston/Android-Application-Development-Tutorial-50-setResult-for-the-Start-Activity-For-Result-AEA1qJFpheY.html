<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Android Application Development Tutorial - 50 - setResult for the Start Activity For Result | Coder Coacher - Coaching Coders</title><meta content="Android Application Development Tutorial - 50 - setResult for the Start Activity For Result - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Android Application Development Tutorial - 50 - setResult for the Start Activity For Result</b></h2><h5 class="post__date">2011-08-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/AEA1qJFpheY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's up guys welcome your 50th Android
tutorial for the new Boston again with
me Travis what we're going to do in this
tutorial is basically set up this
startactivityforresult button if they
click that it's gonna you know give us
some input from the next class for the
most part so what we're gonna do is
basically go into our open class because
excuse me go into this open class class
and we're going to set up this on click
method because again this is for a
return button when I return button it is
press we're basically going to send the
data back and then we're going to close
the application so again every time we
pass like data and such between classes
just think of that basket that bread and
that person carrying the basket for the
most part which would be the intent so
what we need to do is set up an intent
we're just going to call this intent I
or person because you know person can
carry stuff between two two activities
just makes it a little bit easier to
think about we're going to call it
intent our new intent basically setting
up to be a new intent object and then
we're going to say bundle as well we're
going to call this backpack
get a new bundle nothing too new here
and then all we need to do is basically
set up what what information we want to
pass through which will be our string
and again whenever this on click I want
to want every one of these radio buttons
changes that's going to change the
string variable to our answer for the
most part so that's a string that we're
going to pass we're going to say button
or a bath backpack I mean you put the
string in there so we're going to say
dot put string and then we have to set
up a key and we're going to call this
answer or something like that and also
our value which is our set data there we
go so there's a key reference which
again is kind of our file name kind of
can think of it like that and this is
actual value or what that file holds for
the most part then the only the other
thing we need to do is basically the
person carry the backpack now so we're
going to say person which is our intent
dot put extras takes a bundle and we're
going to call our bundle is called
backpack
and there we go pretty much the same
same thing we've done before but we're
going to add two different things since
we're starting this activity for a
result we need to give the result back
for the most part and you do that by
command called set result within here
it's going to take two things with those
parameters basically one is going to be
like hey everything checked out you know
everything's good and then the other one
is going to be your intent that we're
going to pass back to the previous class
so we're going to say results underscore
okay all cap locks and that's basically
going to tell our program that
everything is okay and then we're going
to say our intent variable which is
person and as you can see this results
okay turn blue because that's that's not
something we defined that's just kind of
a standard way to say operation
succeeded you know you saw that when we
did that camera application for the most
part then the only other thing we're
going to do on this button is press is
finish this activity again we've used
the finished method before as well so
now when our buttons press it's going to
you know set up our person our backpack
put put a string in the backpack and
then give the backpack to the person to
carry back to the previous class and
that's what the set result method does
excuse me I just drink a ton of pop so
like my throat's kind of has all that
sugar and stuff so now basically this
application will work but the problem is
is when we hit that
startactivityforresult button in the
previous class it's going to basically
give us an error because right on our
oncreate method we have that other
bundle that we set up from you know the
previous tutorial so we're going to
comment out those three lines and I kind
of just poor planning because you know
because it's going to give us errors
either one way or the other whether
depending on which button we press now
the only other thing we need to do is
set up the stuff within the on activity
result under our data class and this is
going to be basically the same as what
we did for a camera application
but we're just going to say if result
code
which again is something that we're
getting passed back and this is actually
if I go back into the open class
activity if I hover over here you can
see the first aunt says result code the
second end is our data and that's
basically what the same result and as
you can see when going to our data class
that's some of the information we get
back we get a request code a result code
which is what we just set up our string
okay a result okay
to equal and we also set up the data
which was the intent from the other
class so we're going to say if result
code referring to this integer variable
that's getting passed in we're going to
say if that's equal to result underscore
okay basically saying yeah I did the
operation check out is everything all
right if it is then we're going to do
whatever is within this method so that's
basically what that result code was used
for from the most part and then under
here we're going to go go within these
brackets or if statement this is where
we're going to just say kind of get the
basket so we're going to say bundle
basket equals data again that data is
the intent from the class that just
closed that we just set up it's going to
give us that information we're going to
say data get extras again referring to
the bundle that that data is passing
over so it's basically opening up the
basket and get or opening backpack and
getting our you know our string and all
that good or opening up our basically
giving the backpack to us for the most
part and then what we're going to do
sorry if that's confusing we're going to
say sup a new string variable call it s
and we're going to say basket dot get
string and then we just have to
reference our key which was answer that
we set up and then we're just going to
set our text view
said our textview variable is called got
answer and we're just going to set that
equal or set the text of that so set
text to our new string variable that we
just set up within this class called s
this is capital S as well
and I mean basically our application is
done okay and also I'm sorry I wasn't
thinking basically the reason why this
is giving us an error is because what
we're doing is we're setting this int
this results int
equal to this we don't want to do that
we want to check if it's equal so you do
that by hitting two equal signs that's
going to say hey is this equal to this
opposed to hey assign this value to a
result code so two equals and then we'll
get rid of that error
I don't know what I think and just kind
of went over that real quick and then
basically our application is done for
the most part hopefully you guys kind of
understand how data is working again
this application is poorly constructed
because as I'll show you real quick with
our emulator and again you guys you have
to comment under our open class activity
comment out where we set up that bundle
because if we start activity for result
it's going to give us a problem and
crash or program when it's trying to set
up this bundle and say get extras even
though we didn't send any extras into
this class so that's why you have to
comment out those within the on create
method and then we're going to go into
our data and now what we're going to do
again if we're just going to say start
activity for results it's going to open
it up we're going to say super sexy hit
return again it's going to put
everything in the backpack give us the
answer and set it up within this class
so hopefully it's that makes sense for
the most part again I poorly constructed
this this application so for the most
part so again this application is poorly
constructed because if you know we
started activity now it won't pass the
data into this class but now our start
activity for
result will work and again you can
comment out those lines so so yeah it's
kind of a poor example but hopefully you
guys understand about sharing data
between two classes with an intent a
bundle and then basically whatever
you're passing for example a string so
thanks again for watching guys and I'll
catch you in the next tutorial</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>