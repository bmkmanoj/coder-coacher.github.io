<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Stock Market Analyzer - 17 - Finishing Analyzing Data | Coder Coacher - Coaching Coders</title><meta content="PHP Stock Market Analyzer - 17 - Finishing Analyzing Data - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Stock Market Analyzer - 17 - Finishing Analyzing Data</b></h2><h5 class="post__date">2012-01-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/rvq2-9Z69Po" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright guys welcome to another tutorial
and actually this is my second time
recording this because I hit produce
video and for some reason my computer
didn't want to produce my video so yeah
I think I'm going to do this a second
time so basically i coated a little bit
while I was gone what I did was they
pretty much checked for number of rows
if it was equal to 0 then that pretty
much means that run the current day so
there's basically no data after today
that we can analyze yet and also if we
get something aside from 1 and 0 then I
just want to output you have a little
air again we shouldn't see any of this
code is just you know something weird
happens just little indicator to say hey
Bucky you messed up and also arm in my
result right here if something was wrong
with my query I just had a little other
error message that popped up unable to
select our table for some reason so
that's what I did while I was gone I
didn't feel like typing it again because
like I said my freaking computer is
messing up so now what we want to do now
that we have all the data collected we
can go ahead and say okay we want to
figure out the percentage of days the
stock went up down and we also want to
see how much did it go up I so remember
in my little example I said if it went
up eight out of ten days then we want
output to the user and when it goes up
eighty percent of the time and of course
that would mean and went down twenty
percent of the time they would need that
information as well now another thing I
want to do is I want to factor the
average of change because even though
the stock may go up eight out of ten
times if it only goes up like half a
percent you may not want to buy it
however if the stock goes up goes down
two times or excuse me twenty percent
but it goes down thirty percent on
average then that may be a very you know
something you may want to factor into
your decision whenever you're buying
stock so it's not only the frequency of
change but it's the average change as
well so let me go ahead and factor in
all those things so the fair first thing
I'm going to do is make invariable gold
next day
increase Wow or really miss that up %
hopefully I typed that right and what
this is going to be is basically the
percentage of days it went up in my
example eighty percent so the formula
for this is let me see if I'm just going
to go ahead and copy this so I don't
next day increase which is pretty much
the number or the sum of days that we
calculated over the total now the total
is all the days whether it went up down
or no change at all so whenever we do
this it's going to be like in my example
8 out of 10 which is going to give you
point eight so in order to get a proper
percentage you have two times this or
multiply it by 100 so now I'm going to
do the same thing for decrease you guys
probably could have guessed that next
they decrease percent and this would be
next day decrease over total times so
basically in my example it would either
be it would be like 80 for this and 20
so now what I want to do is I want to
figure out how much of a change on
average whenever it goes up and how much
of an average change when it goes down
so the very first thing I want to do is
make a variable called average increase
percent and I'm just going to go ahead
and set this equal to the sum of
increases and remember up here I said
okay I'm going to go ahead and keep
track of the total of all of the
increases and that's why I was doing
this because I wanted to use that later
on over next day increases so next day
increases so we don't want to put this
over all of the days we only want to
have the sum of all of the times it went
up over the total amount of days and
went up we don't want it over all of
days because you know our data would be
skewed so we actually want to take that
plus plus out of there because that
doesn't make sense whatsoever and now we
want to do this exact same thing for the
decrease so this would be something like
I don't know hopefully this is a high
number because you know hopefully this
is like 80
them because that would mean it went up
or this is a really strong indicator and
not only is it likely to go up but it's
likely to go up by a large amount so now
we just need to do this for make a
variable called average decrease percent
and that would be some of decreases over
next day decrease some of decreases over
next day decrease and now that we have
all that taken care of we pretty much
have everything that yeah everything
that we need so in the next video what
I'm going to be doing is I'm going to be
taking this and I'm going to be
inserting all of our results into a
table because we can just take this
script in you know echo it out on you
know just like a HTML file or something
but what I want to do is I actually want
to store this data in the table because
we're going to be looping through let's
say I don't know 50 or 100 different
companies and then whenever we store it
in a mysql table we can sort you know
maybe we want to sort by next day
increase percent or average increase
percent and if we just echo it all in
HTML file then it may be kind of hard to
do so that's what we're going to be
doing in the next tutorial and actually
if I have time yeah I think I do this
right now i'll make a function that
calls insert into result into result
table and this is going to take man i
have to think how many parameters now
it's going to take a whole bunch of
parameters the ticker and okay i'm going
to have to think about this gather my
thoughts and i'll be back in the next
story so thank you guys for watching and
I'll see that</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>