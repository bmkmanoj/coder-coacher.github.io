<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Django Tutorial for Beginners - 5 - Views | Coder Coacher - Coaching Coders</title><meta content="Django Tutorial for Beginners - 5 - Views - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Django Tutorial for Beginners - 5 - Views</b></h2><h5 class="post__date">2016-03-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/nAn1KpPlN2w" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so right now whenever you just make a
standard website without creating
anything yourself you have a couple
things the first thing is this homepage
and this is just the server's homepage
it says hey your Django project is
working correctly you didn't you didn't
mess up your computer congratulations
now there's one other area that it comes
with and that's the admin section so if
you go to this admin section you're
going to see some errors and that's just
yelling at us because we didn't set up
the database yet but basically we have
this section so for some reason Django
already knows that whenever we type in
admin right here to send us to this page
how the heck does it know that well
here's the thing
whenever any user requests something
from your website the very first thing
that Django is going to do is it's going
to go in this directory the very first
one we created and it's going to look at
this file right here and let me close
all the other ones and actually let me
go ahead and delete that
all right so in here what you have is
something called URL mappings so
basically what it does is this part of
the URL it doesn't really matter this is
just the address of your server just the
IP address or domain name this whenever
I talk about URLs this is the actual
part that matters so basically Django is
going to ignore this part and look at
this part this is the thing that the
user is requesting so whenever it gets
this file it's going to go through and
usually you're going to have a bunch of
different ones in here like I don't know
maybe like a couple dozen and it's going
to go through and it's going to look for
these patterns now these are written in
regular expressions and if you guys
don't know what a regular expression is
I'll talk you guys through them um you
guys probably should like go online and
find a quick tutorial and brush out a
brush up on them a little bit but I'll
talk you guys through when we write them
ourselves basically you're going to look
through whatever pattern matches the
user request so again what django did in
this example is it looked at the users
request which was edmond and it went
through and it found a pattern
matched now whenever found one that
match and then said okay I found one now
this second part of the function is how
you want me to respond to that user
request all right simple enough not as
hard as it load so what if we wanted to
say okay now we want to say whenever the
user types in music to do something else
we can probably figure this out I mean
just like in url R and then we need the
caret and by the way whenever I type in
R this means a regular expression now
whatever I type in here is the actual
expression or test so a caret just means
the beginning so all of the tests that
you write to see what the user is typing
in what kind of thing they're requesting
it's always going to start with that
carrot it's the thing above the six on
your keyboard so what do we want to
handle we want to say whenever the types
the user types in music in their URL
then what do you want to do wait a
second guys before I continue I'm kind
of thinking is something I mean all
right what is this website going to be
it's going to be this huge humongous you
know thing that's going to take over the
world it's going to be bigger than
Amazon in Google I mean you're going to
have people uploading music in videos
and software and profiles and you know
what if we have all of these URLs on our
web page let's say that we have like you
know 600 different ones then this file
is going to get really cluttered now
that I think about it I mean all of our
URLs for the music section for the video
section for the profile they're going to
all be cluttered in here so before I
even type anything in here we need to
think ahead and think about the design
now this isn't actually just me being
optimistic and thinking this programs
going to be the biggest thing ever this
is actually how you should properly set
it up so whatever URLs you want to be
involved with the music section like
maybe add a new album
edit your albums play a song whatever
you don't want to just add them in here
because this is pretty much the settings
for the main over our website all of the
URLs you want to stick in here and
that's the cool thing about these apps
all the information is contained within
that apps directory so that being said
how do we do that
well you see how this website has a URLs
file well let's go ahead and right-click
and make a new one
URLs that py in this music app so what
we're going to do is we're basically
going to create a list of URLs just for
this music section and then once we have
that list we're just going to import it
right here in one line so you can
actually copy this first line of code
and paste it right in there
now another thing I want to do is this
you know how I said that most of the
time whenever the user requests
something you just want to give back um
like some HTML response a simple view so
what we need to do in this music slash
URLs is we actually need to import them
those views so from the current
directory and that just means that what
we need to do is import views so again
this dot just means look at the same
directory that I'm in I'm in this one
and look for a Python file or module
called views so basically taking this
and importing it into our URLs there we
go now after this actually I'll do that
later but basically in this file what
I'm going to do is the same thing as
this I'm going to make a bunch of rules
to check what URL the user roles
requesting so again here let me just
code this from blank so again everything
just going to be a regular expression
and they start with a caret and whenever
you want to end it you put a dollar sign
so later on we're going to be making a
bunch of different things like
I like songs and I don't know like IDs
and all that stuff maybe delete music
whatever but for right now we're just
going to put nothing and whenever we do
this this is going to be the default
homepage this means the user went to the
section basically they went to music but
you see this
they didn't request anything so this is
actually how you set up the index for
each individual app or the home page for
each individual app section so after we
make that test if the user wants that
then what do we want to do well we're
actually going to make a view in just a
second and we'll just name it index and
that's usually what you do just to
because index is the home page of
section and this last thing I'm actually
going to explain in I don't know maybe
two tutorials we need to give it a name
and this is actually optional you don't
need to but I'm going to show you guys a
really cool trick later on of why you
want to and if you guys are confused too
right now I'll explain everything at the
end and it's going to make a whole lot
of sense so right now we have all of
these patterns but again whenever the
user goes to this I said that Django is
just going to look right here in this
file by default
now right now this file it doesn't know
about these extra URLs at all so how do
we let this main URLs file know about
our music section well what we need to
do is in this website URLs that py is we
need to import one more package and that
is include and this is just a package
that lets us include other files which
is exactly what we're trying to do and
then we just copy this because I'm lazy
and we're going to add another role in
this rule instead of admin it's just
music now instead of this
we're just going to say include music
URLs right there alright so what we're
saying is whenever the user requests any
webpage go to this and this is going to
tell you how to handle it it already had
the default admin handler right there
and now we're saying alright whenever
the user requests anything that starts
with music then how do you handle that
well what you need to do is you need to
hop over to this file right here right
now we only have one page that we're
going to set up the handle and that is
the home page of the music section so
it's given us a little warning says hey
you told me that whenever these are
requests this that I'm supposed to
deliver this view alright um yeah that
view doesn't exist yet so can you go
ahead and create it and that's what
we'll do right now so actually just go
ahead and delete all this so again like
I said all of you does is it takes the
request and it sends back an HTTP
response so from Django HTTP and there's
a bunch of different responses you can
send but this is the most simple what we
want to do is we want to import HTTP
response and an example of HTTP response
would just be some basic HTML code or
basic web site whatever so whatever you
name this right here is the name of your
function so what to say
sorry I got black long index and you
always pass it in request request
and we need to return a response so just
a basic HTTP response and inside here
you can just write any text or HTML code
you want so let me just write like a
mono maybe like a heading one alright
this is the music homepage music app
homepage alright looking good may
looking good so now let's go ahead and
refresh our server and there you go
look at that so again make sure that
admin still works
getting those books still will fit those
fix those in the next store oh and now
music goes here now one last time I'm
going to explain exactly how this works
I'm going to pound it in your brain
because if you understand this then this
is probably the most confusing tutorial
then everything else will be a lot
easier so let me just minimize all these
all right so these are once your website
in they requested music alright so no
matter what their request we're always
going to hop down and look at this file
first so this is the plain URLs file and
it's going to look for those patterns
did they request admin nope did they
request music yes all right so what do
you want me to do
well it says include or hop over to this
file so then I hopped over to this file
and says ok
now in the music section what did they
request well nothing really they just
requested this section so it says
alright well I guess it'll just have to
be handled with this then so whenever
they didn't request anything I am
supposed to go to views over here and
look for a function called index right
here oh there it is right there so what
I'm supposed to do is I'm supposed to
send back some HTTP response and I
forgot to put in my extra h1 and all
this says is send back the word this is
a music app poem page in heading 1
so that is how we got that so hopefully
is now pounded in your brain you go
there then there then there boom roasted
so I know that was a lot but well that
was the hard part so thing guys for
watching and I'll see you guys next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>