<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>React JS Tutorials for Beginners - 11 - Updating State and Removing Components | Coder Coacher - Coaching Coders</title><meta content="React JS Tutorials for Beginners - 11 - Updating State and Removing Components - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>React JS Tutorials for Beginners - 11 - Updating State and Removing Components</b></h2><h5 class="post__date">2016-06-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/GBoJOVNzc_0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">our ad houses welcome back in this video
what I want to do is I want to show you
guys how to edit and remove comments now
just to give you guys a real quick
reminder of the status of our
application right now we can click this
edit button and it will take us to this
new kind of view and we can change the
text but when we hit save
it doesn't actually save it so we got
the kind of interface changes working
but none of the kind of brains behind it
and also this remove button it doesn't
do anything so we can hit remove and
let's actually see what it does
yeah it just logs out something in the
console so they don't perform as
expected so that's what we're going to
be taken care of in this tutorial so
before I get to the actual comment
component I just want to go ahead and
take care of the board component because
we have to do some work on it so the
very first thing I'm going to do is
actually just clean up this render
function because in this render function
as we saw in the last video what we did
is we essentially loop through this
array and for each item in the array we
created a new comment from it and we did
so using this anonymous function it can
a function with no name so let's just go
ahead and clean that up and just make a
named function from it and I'll just
write each comment so I'm actually just
going to set this equal to this right
here and I'm Way too lazy to type it
again so set equal to that and boom
roasted there we go so now I can tighten
this up since all on one line and
remember inside this map function right
here we still need to pass in a callback
so we'll just write pretty much a
reference to this function but now it
has a name and we can reference it by
calling this each comment so right now
we really didn't change anything other
than just clean up the code and if we
refresh this we can see that it's the
exact same now remember it's going to
call this function each time it renders
each component or creates a new comment
so I'm actually going to make a couple
changes to here and how do I want to do
this all right you break this up so it's
a little bit easier to see
and put these on new lines because I'm
going to be introducing a few more
concepts so you know in the last video I
said that essentially every time you
make a new comment you need a way to
uniquely identify it and we did so
through this key right here well the
truth is a key is like I said a unique
identifier but it's really for react
it's not really for programmers so
whenever you want to keep track of each
new comment what you can do is you can
actually just add another index and set
this equal to the same thing so this eye
right here it's just going to be that
increment 4-year raise 0 1 2 3
however instead of messing with react
stuff we're just going to set it index
and then when we say um get comment 0 it
gets this one whenever we get comment
two it gets this one so we're pretty
much going to be using the index and
leaving the key um kind of out of it so
a couple other things I want to mention
is this you know that whenever you use
properties a property basically allows
you to pass data to the child component
so now we can you know pass bacon and
throw some data in here and then it's
going to give a bacon property to
comment so why do I say that well right
now we have each comment with its own
unique index but we also want to pass in
a property of a callback function so
whenever we pass properties or data to
child components they don't just have to
be strings or numbers or kind of static
data you can actually pass in entire
functions kind of weird but check this
out what we're going to want to do is
we're going to want to pass in a
callback function to delete and edit
these comments so how is it going to
know which one to delete well it's going
to know via the index so I'll show you
guys exactly what I'm talking about
first we're going to have to make a new
function on this board to remove a
comment so I'll just remove comments and
all this is going to do is it's going to
be a function
get on my housekeeping crap taken care
of now what information do we need
whenever we remove a comment well all
we're going to require is the index of
the array so we're going to pass in the
end X and if this is equal to zero it's
going to delete the first one if this is
equal to two it's going to delete the
third one so on and so forth so now
let's just try to log something out all
right console.log we just print it out
in case we have any bugs we can see
what's going on and I'll say removing
comments I alright so whenever we remove
a comment if we want to look in log it
will say removing comments 0 or whatever
so now what we need to do is actually
remove it from the array so we first
need a reference to this array and if I
just copy this kind of cheat a little
bit here so I'm going to make a variable
and just name it
arr you can name it whatever you want
and it's equal to this state comments
now this is the thing whenever we want
to remove an item from the array in
JavaScript what we can do is we can
actually splice the array now this is
kind of weird because here let me go
ahead and write it it's probably gonna
be a lot easier to understand all right
actually let me show you guys what just
popped up so whenever we use the splice
function it takes a number in a start so
essentially what this is going to do is
it's going to say okay how many items do
you want to remove and where do you want
to start at well we just want to start
out whatever item we pop we threw in so
if we said I equals this then start
there and since we only want to remove
one comment instead of like the five
comments after it then we just throw
ahead one right there so now this is
going to do is pretty much give you a
new array stored in arr with that
comment removed so there's probably you
know a more convenient way to do it but
now you understand kind of the details
behind it all right so check this out
this is still the state of the comment
we didn't change this at all we just
made kind of a
copy of it so once we made a copy of
this we popped off one of the items so
now the last thing we have to do is
actually take our state and set it equal
to this new array the updated array so
how do we do this
well if you guys remember anytime you
want to change the state you just right
set state and then you passing your
state objects that you want to change so
ours was named comments and you don't
need to write this state comments
because it already knows that you're
working with this component state from
there in the new value of comments which
is just arr
so again one last time we made a copy of
this array we popped off whatever item
we pass then and then we pretty much set
the new array equal to the updated array
boom roasted easy-peasy beautiful
covergirl so this is what we're going to
call essentially whenever the user
clicks this button right here pretty
cool so now the next thing I have to do
is we need to make an update function so
that takes care of the remove button but
now we have to take care of this edit
button right here so essentially
whenever they hit edit make a new
comment and hit save then this function
is going to be called that I'm about to
type right now so I'll just write update
comments and this is going to be a
function as well and it's kind of going
to work the same with a few changes so
let me go ahead and alright so we can't
just throw in an index right here
because whenever we update a comment we
actually need the text as well so we're
going to update a comment so set this
text equal to this item in the array so
instead of just I'll just write like new
text and I so we basically pass in
something like a
lucky is awesome and it's going to set
Bucky is awesome equal to like the
zeroeth array element that's it so I'll
say updating comments um I won't even
give anything there update in comment
keep it real noise and simple alright so
after this we of course need a reference
to the comments again so boom roasted
there you go and now instead of just
popping a item off we want to get a
reference to that specific array item so
array I in this case it would be the
zero with one or the first one and then
all we do is we set this equal to the
new text whatever the user typed in so
there you go and last but not least you
pretty much take the current array and
we update it so it's now referencing the
new array so again that's all we do
whenever we want to edit any of the
comments in this list alright
actually let me think let me think
alright so before I let you guys go I am
going to yeah you know what I think that
this is good for this tutorial um in the
next tutorial I'll show you guys how the
heck this comment component actually
calls these functions since they're in
an entirely different component it's a
really cool trick so I'll see you guys
then</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>