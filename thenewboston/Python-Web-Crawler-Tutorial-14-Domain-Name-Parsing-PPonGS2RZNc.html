<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Python Web Crawler Tutorial - 14 - Domain Name Parsing | Coder Coacher - Coaching Coders</title><meta content="Python Web Crawler Tutorial - 14 - Domain Name Parsing - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Python Web Crawler Tutorial - 14 - Domain Name Parsing</b></h2><h5 class="post__date">2016-03-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/PPonGS2RZNc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">ah already houses welcome back and yes I
know my voice sounds goofy still I'm
still sick actually waited a couple days
because I was like you know my voice
sounded weird in that video let me wait
the next day Oh still sick all right let
me just wait one more day
oh my voice still sounds awful cuz I'm
sick so yeah Here I am and I don't
really want to go to the doctor
because I'm not like dying or anything
so I can't really justify getting
medicine and shoot a bunch of crap up
into my body just because I have a
little cough but you know so there is 30
seconds wasted about me talking about
nothing fight that are related let's go
ahead and get on with Python now so in
this video let's go ahead and make a new
Python file and what I'm gonna do is I'm
gonna name it domain and this is gonna
be a real quick video we're gonna write
two quick functions and we're gonna make
the functions responsible for extracting
this domain name the new Boston com
so the reason that we do this like I
said is because whenever we're crawling
some website and we come across a bunch
of links most of them were gonna want to
crawl but then whenever we come to links
like this YouTube Facebook Twitter well
if we add those to the waiting list then
our spiders tries to curl those and of
course we want to say hey only stick to
links that are from this domain
don't try to crawl the entire Internet
so what we need to do is whenever we
paste in the URL we also need to extract
the domain it's actually pretty cool so
from URL Lib dot parse import URL parse
if I can URL parse so again Python
already includes this cool little module
for parsing URLs how awesome is that
so let me explain what I'm gonna do
first so this is the only part we care
about this is called the network
location this is the protocol HTTP these
are just the files and directories over
here this is the domain name the only
part we care about now
the thing about this is not all domain
names are the same it's just not some
bird and then Komori to you some have WW
some have like mobile some have like
male
gov ny da lottery dot the New Boston
comm dot whatever so the thing is that
these domain names are a little bit
weird so the first thing we're going to
do is we're just going to get this
entire network location so it doesn't
matter if it is broken up into one five
or my god I feel like shoot myself in
the frickin face right now alright so it
doesn't matter matter how many chunks is
broken up into we're just gonna get the
last two such as comm dot the new Boston
and you guys are going to see alright so
the first thing we're gonna do is I'm
gonna make a potion called get sub
domain name and this can be something
like name dot example.com so usually it
might just be like the new Boston calm
but if it has more than one in it
let me read something like a mail dot
now keep that like this so again pretty
much your entire network location no
matter how many pieces there are so I'll
say TIFF get some main name and we're
just going to pass it in the URL and how
do we do this well the first thing like
I said we want to put it in a try except
statement anytime we're working with
networking or you know connecting to a
server or anything like that
we always want to put it in a try-catch
so we're just gonna return URL parse
which means we're gonna throw into your
l right here it's gonna parse through it
again this is built in Python
functionality and we're just gonna
return the net lock network location so
that's all we do how easy is that now
except we're just going to return blank
because we have to return something the
Colin function is going to expect a
return value so we just can't right past
here so we have to return that right
there alright so like I said this is
going to return the entire sub domain
but we only want these last
- so what we can do is we can
essentially call this function break it
up and say okay return the last one in
the second to last one and then this is
where we're going to use in our program
so that little chunk of it so I'll say
this get domain name and this is just
going to be our last one so example.com
can't type today can't type any day def
get the main name and of course we're
just going to throw in the URL right
here and make it a little try except so
try the results of this is get subdomain
name
throw in the URL so whenever we call
this function is going to call this
function and it's essentially gonna
return something like this but what we
need to do now is we need to actually go
ahead and split this up into pieces so
we're gonna make a list out of this item
this item in this item now once we have
that list we can just return the last
two elements and that's going to give us
our Rod domain name so in order to split
it up that way you just for a split dot
right here so whatever you type in here
is the character that it's going to
charge it up by and now results is a
list of three elements named example com
if your sub domain has four in it then
you know same thing whatever so what do
we want to return we just want to return
results - - so the second-to-last item
plus a period plus results minus one so
actually I can test this right now
am I getting a hair right here oh
because I'm an idiot so accept return
and let me just throw in any URL like
this all right so I'll say print get
domain name you know just pop that right
in right there and now hopefully I ran
this right all right
so now you can see here
the new boston.com now if you guys know
how that worked then you can go on the
next video but for those of you who
don't let me talk you guys through it
one last time what we did is we passed
in this entire thing right in here and
then the first thing it did is it called
get sub domain name so it got all of
this right here but it didn't matter if
it was check this out mobile email that
the new boston.com
it would get all of this and then it'll
get this second to the last which was
this one in the last one which was this
one and that's what it returned and of
course you have to put a dot in the
middle and that's why I had the dot in
the middle right there so now every
single URL we tests we're gonna make
sure that it has the new boston.com in
it if it does we are good to go so
delete this line of code and yeah so
I'll see you guys in the next video
where my voice is going to sound
probably even worse</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>