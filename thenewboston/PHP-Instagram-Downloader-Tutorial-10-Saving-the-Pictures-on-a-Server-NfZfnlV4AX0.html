<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Instagram Downloader Tutorial - 10 - Saving the Pictures on a Server | Coder Coacher - Coaching Coders</title><meta content="PHP Instagram Downloader Tutorial - 10 - Saving the Pictures on a Server - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Instagram Downloader Tutorial - 10 - Saving the Pictures on a Server</b></h2><h5 class="post__date">2014-07-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/NfZfnlV4AX0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright guys welcome back to hopefully
the last video and basically what I'm
gonna be teaching you guys is now that
we got the images the URL that they came
from we need to go ahead and save the
picture on our server so the first thing
that we need to do is actually you don't
even need to echo this out anymore
because what we're going to be doing is
actually we can go ahead and echo it out
still just so the user has something
look at some visual proof that we did
connect to Instagram and got their
photos but what I want to do is I want
to make a function called save picture
and that is going to do everything that
I just said and of course what we want
to do is we want to save one picture at
a time this image URL because remember
this is looping through image by image
so for every single image we're going to
call this function save picture
basically save them one at a time so
well just I don't know why I capitalized
that P let's make the function right now
and of course the function name is save
picture
like that and if you double-click this
you can see that they do match so we're
good to go and also we need to pass it
in the image URL and the cool thing
about this is that we don't need to
connect to the API to do this since we
already got the URL of the image itself
so the first thing that I actually
wanted to do is just echo out the image
URL and I want to append it with a break
because I want to show you guys exactly
what's going on here so the image URL is
going to be this it's going to be this
right here so that's what that first
variable is this long string and that's
stored in this variable right here so
after that what I want to do is I am
only interested in this piece of
information and this is called the base
name so this is the image URL and
whenever you get the base name of a file
it's pretty much the file name simple
enough so the file name that's what my
variable is gonna call that I'm gonna
set it equal to and that's what most
people commonly call it but PHP you
gotta say base name of that image URL
and the reason that I want to even get
this is because the file name is what
I'm gonna be storing in my database or
in my you know either on my server or my
MySQL database instead of this whole
long thing I just wanted this little
unique piece so that's why I got that
and we can actually echo this out too so
I can show you guys what it is so pretty
much what's going to happen is it's
going to loop through all five pictures
and then it's going to print the picture
and then it's going to break in on
newline it's going to print the whole
URL and then just the file name make
sure you don't use one dollar sign
alright now after we printed out the
file name I'm just gonna put this is
where you want to just go ahead and do
your verification so make sure that
image doesn't
database yeah so basically what I'm
gonna be doing in Bucky's release is
allowing users to connect to their
Instagram download all pictures and save
them on their buggies or in profile but
what if they run this a hundred times
well then I'm gonna have a hundred sets
of the same pictures so this line right
here what you typically would want to do
is query um your database and make sure
all right if this file name exists
already
then don't save this image if it doesn't
yet then go ahead and save it so that's
what we're going to be doing and well
I'm not going to be doing it but I just
want to show you guys that depending on
how your database is set up that's where
you put the code so now that we got the
name that we want to save in the URL of
the image that we want to save what we
need to do is we need to set a
destination path we're on our server
do we want to store these images well
the destination of this is just equal to
remember our image directory which is
basically saying we want to store it in
the pics folder and we can append that
with a file name so what it's basically
gonna be doing is saying okay so this is
where we're gonna get it from store this
file and it's gonna be called this in
pics you know I actually just show you
guys right now and that's uh why it says
this is because if you try to refresh
the page using the same code over and
over again it won't work because that
code expires but anyways if we look at
pics right now we can see that there are
indeed no images in it so how do we put
images in it well what we need to do is
we actually need to use one last
function and that's file put contents
and this this is actually probably my
favorite little function because what
this does is it goes and it grabs a file
an image file from somewhere on the
internet and it stores it in your
database or excuse me on your server and
one
a line of code so the first thing you
need to write is okay whenever we get
something where do you want to store it
store it right there and also what
contents do you want well if we do file
get contents oh this image URL this is
what it's going to do its first says
okay
go ahead and grab everything at this URL
which is basically grab the image now go
ahead and take that image file and save
it as a jpg in this directory which is
pix so that's what file put contents
does it pretty much moves images from
one place to another place on the
Internet
so now if we save this remember I'm
gonna refresh this so you guys see that
nothing is in this pics folder now
hopefully you wouldn't mess anything up
so this is basically how our program is
going to work so we go to the main
homepage which is index.php we let the
users login they click login
usually a little pop-up would appear but
it didn't because I'm already logged in
and then it didn't print out that other
stuff because and now it didn't say
because I mess something up once again
and I am officially an idiot I'm looking
for a frickin how I had taken me like
two minutes at least I'm looking for a
bug but the reason it didn't work is
because I didn't even update the stupid
freaking script on my website yet okay
so that's embarrassing I probably should
just edited that out but aha
alright so let's go ahead and verify one
more time that there are no pics in
there and if we go to index dot PHP
alright now we click login
usually these would have to sign in but
they didn't and check it out what it did
is it's looping through all of my
Instagram pictures and it's saying okay
this
the pitcher this is the original URL and
this is the URL that you are now saving
on your server and we can verify that
they are indeed saved on our server by
going to pics hitting Enter and check it
out all of these files are now on my
website pretty stinkin awesome so how
sweet is that congratulations guys you
now know how to make an Instagram
downloader and of course there are a
bunch of improvements that you can make
to this the first thing that I would is
security but other than that I mean it's
fully functional do with it what you
want so hopefully you guys enjoyed this
video and also like I said I'm gonna be
posting all of the source code in my
forum under the PHP section and if you
guys have any questions about anything
or if you want to make some improvements
and repost them build on it then you're
welcome to do that so thank guys for
watching don't forget subscribe and I'll
see you guys next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>