<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Java Game Development - 21 -  Run and Movie Loop Methods | Coder Coacher - Coaching Coders</title><meta content="Java Game Development - 21 -  Run and Movie Loop Methods - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Java Game Development - 21 -  Run and Movie Loop Methods</b></h2><h5 class="post__date">2009-11-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/tcPVLbuDyRY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what is up guys welcome to your 21st
java game development story 'el in in
the next probably tutorial over - we're
going to be building our run movie loop
and draw methods and these are going to
be a little different from before so
make sure you just don't skip over these
and this run method is pretty much the
main method called from main so remember
in main we had this method be run and
it's underlined because we didn't build
it yet so let's go ahead and build it
sit enter right there and public void
run it's not going to take any
parameters now what do we want to do as
soon as we pretty much start our game we
want to have access to that screen
manager so SS equal to new screen
manager now we can use crap from our
screen manager class so what do we want
to do first in essence we want to try
actually let's go ahead and get rid of
this finally finally once we're done
doing everything we want to take the
screen and restore screen so we're going
to try to do a bunch of stuff try to
play the game and when we're done we
want to restore the screen back to
normal size and get out of full screen
but just to make sure I don't forget
that I'm just going to do that first so
anyways what do we want to do as soon as
we start the game we want to get display
mode DM and we want to set the display
mode equal to screen dot find first
compatible mode and remember our array
was called modes 1 so we want to pass in
our mode called modes 1 simple enough
and what this is going to do is take us
find the display mode that's compatible
not only with our options of the game
but also it's compatible with a graphics
card it's pretty much going to find the
perfect display mode and store it in the
variable DM how awesome is that so now
we can call this screen method or excuse
me the screen object and set fullscreen
what do we want to set fullscreen that
display mode right there so now whenever
we set fullscreen or convert our game to
fullscreen it has
perfect display mode already passed then
how awesome is that so now what do we
want to do after this well we want to
call this method to load all the images
or in other words get all the images
ready
so load images and now that we have all
the images we can begin playing our
movie and that's going to be in a method
called movie loop which we're going to
be building right now so let's go ahead
and do it so pretty much get the perfect
split mode make our game fullscreen
depending on that perfect split mode get
all the images and play the movie so
let's go ahead and since I promise you
guys all great movie loop let's go ahead
and create a movie loop public void orcs
yeah this is a comment and all this does
is play movie now I was too excited to
get the code public void movie loop and
this pretty much if you couldn't tell by
my comment just plays your movie it's
not going to take any parameters
I like methods that don't take any
parameters but anyways long starting
time as soon as this movie begins it's
going to be equal to system dot current
time in milliseconds which is going to
be the current time right now or right
now that's the current time and get it
long cumulative time equal starting on
mana tide will pop up starting time
since it beginning the cumulative time
is going to be equal to zero and at the
beginning it's going to be equal to zero
BAM I explained this all before Wow the
cumulative time - starting time is less
than 5,000 and remember this is 5
seconds we're going to be keep
increasing the cumulative time this is
the time that's going to be keep adding
and adding to this so eventually once
this gets above 5,000 this equation is
going to return false that's when we
exit but this pretty much what I'm going
to code in here this movie lasts for 5
seconds if you want to make it for 6
seconds to type 6,000 since they're
milliseconds which is a thousands of
anytime anyways long time passed there
we go my cursor right away next we need
a variable to calculate the time passed
now system dot current time milliseconds
- the cumulative time this will give you
the time that has passed and if you
don't understand on what I'm doing then
watch my last couple tutorials I explain
it a lot better in here and now that we
got the time that passed add it to the
cumulative time because remember if we
don't keep adding this then our
animation is just going to play forever
time passed and now after that we just
need to update it so a dot update
according to time passed right there and
that's why we really needed to figure
out not only to add to cumulative time
but also our update method and animation
if I can find it
start update it takes a parameter of
time that has passed so and this is just
so it knows when to go from one scene to
the next so that's why we needed to pass
that into there so now inside the movie
loop methods though we need to draw and
update the screen because I mean come on
we just don't want to look at the whole
thing at the same time so first let's go
ahead and get graphics object so
graphics 2d what did I just do that I
like whoa freaky graphics 2d and we'll
just call it G and set this equal to s
dots get graphics just like that and
remember this is when everything starts
coming together in my screen manager I
made a method called get graphics right
here and now we don't have to type all
this crap it already knows to set it
equal to this right here get drawing
graphics so how easy is that
this is going to uncomplicate things so
much so now that we have
that equal to the get graphics which is
already a buffered strategy and
everything like that we just want to
draw that on the screen and when we're
done drawing get rid of our graphics
object just good housekeeping and now we
want to update the screen so yes we do
have update method in our screen and
also in our animation class I believe
you update the animation and update the
screen you might want to name those
something different but I didn't so well
too bad so now we updated the animation
and then once we have the animation
updated we can update the screen to
actually show us the animation and after
all that that was a lot of work for our
CPU to do so let's just put it to bed
for a little bit try thread the sleep
and you want probably sleep for like 20
milliseconds that looks like a good time
and if you can't sleep for some reason
exception X you already you always want
to try and catch stuff when you're
working with threads arm right there so
try to sleep if you can't then catch
your exception and as you can see we
have one little error right here but it
really is an error it's just a method
called draw that we didn't dodi it so in
the next tutorial I'm going to be
building this method it's literally two
lines of code so um that's what we're
going to be doing in the next story oh
now I'm also going to be reviewing one
last time how this whole entire program
works so um I mean we got one more
tutorial to go and we finally hit sear
animation and this unlike the animation
before is going to be perfect flawless
you know flicker or anything so thank
you guys for watching my xx story don't
forget subscribe and I'll see you next
time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>