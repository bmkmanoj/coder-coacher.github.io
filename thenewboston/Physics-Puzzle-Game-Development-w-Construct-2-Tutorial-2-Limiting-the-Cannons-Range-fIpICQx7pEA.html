<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Physics Puzzle Game Development w/ Construct 2 - Tutorial 2 - Limiting the Cannons Range | Coder Coacher - Coaching Coders</title><meta content="Physics Puzzle Game Development w/ Construct 2 - Tutorial 2 - Limiting the Cannons Range - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Physics Puzzle Game Development w/ Construct 2 - Tutorial 2 - Limiting the Cannons Range</b></h2><h5 class="post__date">2014-07-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/fIpICQx7pEA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all righty guys welcome back to another
sweet tutorial and in this video what I
wanted to do is basically get the cannon
set up and working properly I want to
first of all we can just go ahead and
drag it right around here so again we're
gonna have the cannon right here and
we're eventually going to be making a
tower out of blocks and trying to shoot
it down but basically I want to make
sure that the functionality of it is
it's going to rotate to wherever my
mouse is on the screen and whenever we
click it's gonna fire a cannonball so
let's get it rotating properly right now
and we do that by heading over to the
event sheet and we basically want to
tell construct to that wherever my mouse
is on the screen rotate this cannon to
have it point towards that position and
this is how we do that so we're
basically gonna be constantly checking
for the position of the mouse so in
order to that event and whenever you
want to check for something or make
something happen constantly you just add
a system every tick this pretty much
means to do something constantly all the
time now what do we want to happen
well the action for this is well of
course we want to move the cannon
towards the position of the mouse and
for this one it's actually rotate toward
position now of course the X is the x
position of the mouse and the Y is the Y
position of the mouse but this is the
grease parameter right here we have to
deal with this is basically the speed of
rotation and it won't matter a whole lot
right now just go ahead and put 10 in
and it'll run fine now for the X the x
position of the mouse is Mouse dot X
which is the left and right and the Y
position is Mouse Y so basically you're
saying move it at this speed and always
point towards wherever the mouse is
simple enough click done and then layout
now actually we can run this right now
and check it out and now points towards
the x and y position of the mouse
basically wherever the mouse is however
it has a couple weird behaviors right
now
first of all it's pivoting around the
middle and canons usually whenever you
like build one and wheel it around it
gets pivoted around the bottom so it can
only aim in this direction and also one
other issue is look at this it can shoot
in the ground it could like go upside
down and that's kind of weird behavior
so we'll fix that right now so what
should we do first I guess we might as
well just limit the range of the cannon
so it can't shoot upside down and
towards the ground right now but before
we start doing that what I want to do is
pivot it correctly so if you actually
double-click this cannon you can see
that the reason it's pivoting weird is
because the origin is right in the
center of it however we want to put the
origin or pivot point pretty much right
on the H somewhere right around there is
probably pretty good so move that close
out so you want to move that back so
your objects can move a little bit and
now whenever we run it check it out our
pivot point is looking sweet now a lot
more cannon like movements and behaviors
so the next thing I want to do is of
course fix the issue of going upside
down or anything like that now in order
to do this I want to show you guys
something
look right here whenever I begin to move
my mouse you see this mouse little
parameter on this little bar you can see
that wherever I move my mouse it tells
me the X&amp;amp;Y position so the x position is
of course that first number that's
moving around and that's left to right
in the y position up and down the
vertical is that second parameter so
let's go ahead and find the positions
that what we want the first one is the x
position so we'll say that I don't know
like right above the cannon it looks
like it's right around 120 pixels right
there and the Y position it actually
increases as you go down the ground is
right around 375 it's looking like
so we'll go ahead and use 120 and 375 to
limit the range of motions and then
pretty much the cannon can only be
pointed right here and the user won't be
able to you know like shoot meatballs
into the ground or anything so in order
to do that head over to your event sheet
and since you already have the action of
pointing the cannon towards the mouse we
don't want to add an entirely new event
what we want to do is actually highlight
this event right here and add another
condition so in order to do that
highlight system every tick and hit C
this is basically saying that this is
the same action that we want just check
a couple other things first
aka the Y position and x position of the
mouse to make sure that they're in the
proper area so in order to do this put
system and its compared to values right
here the first one selected so the first
value that you want to compare is
basically Mouse X basically see what
position the x position the mouse is in
and we want to set this greater whereas
well set a greater or equal to and you
guys probably don't remember it was 120
so what this is basically saying is okay
rotate the cannon towards the mouse if
the x position of the mouse is greater
than 120 now of course we want to add
one more for the Y position it's just um
compared to values first one is mouse Y
and remember since Y increases as it
goes down we want to make sure that it's
less than the ground which means make
sure you're aiming it above the ground
so for this make sure that Y is less
than or equal to and that was it 375 I
believe so basically constantly make
sure if the mouse is in the proper area
which is somewhere around here pretty
much the first quadrant that your cannon
rotates towards the mouse
so now if you run this game we can see
that our cannon is limited to these
range of motions right here it can't add
directly or excuse me you can't aim
directly in the ground and also if we go
up too high or try to go backwards our
cannon is not able to aim back there so
pretty much anywhere where you and
normally a mccannon it's working
properly and also that pivot point is
working sweet so now that we got that
origin now that we have that cannon
setup we can start firing some meatballs
from this biatch so so anyways thank you
guys for watching and well we'll do that
in the next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>