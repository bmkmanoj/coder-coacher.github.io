<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Python Reverse Shell Tutorial - 1 - Creating a Socket | Coder Coacher - Coaching Coders</title><meta content="Python Reverse Shell Tutorial - 1 - Creating a Socket - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Python Reverse Shell Tutorial - 1 - Creating a Socket</b></h2><h5 class="post__date">2015-12-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/1ObzpG_W_0o" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all right Hoss says welcome back to
another awesome video series in this one
I'm going to be showing you guys how to
create a reverse show using Python so I
assume that you guys already know what a
reverse show is if you're watching this
video series but for those who are just
curious in you know maybe you just want
to practice with some Python what a
reverse shell is is basically a way that
you can connect to someone's personal
computer from anywhere in the world so
let's say that you were in China and
your friend in Texas had a problem with
this computer and he wanted you to you
know connect to it and you know access
and find out what was wrong maybe add
some weird files on there well by
default computers personal computers
that is they're set up in a way that
makes it very difficult to connect with
directly so what are some of those
problems first of all your personal
computer that you're sitting at right
now it doesn't have a static IP your IP
address is not only not public but it's
dynamic it's always changing so even if
you had the IP address you couldn't
access it and even if you could it would
just be changing all the time so it
would cause a bunch of problems now even
if you were on the same network then you
would still have a lot of these issues
because even if you knew the IP address
from your local network and you can
access that computer you still have a
bunch of firewalls to get through from
your operating system built-in security
arm you know there's also like port
forwarding issues tomato tomahto potato
potato whatever so basically what I'm
trying to say is we just can't SSH into
someone's home computer like we can a
web server so that's where a reverse
shell comes in handy so basically we can
access home computers that are just not
set up that way but what we can do is
set up a server and have the target
connect to us pretty cool huh
now sense that they are the ones who
initiated that connection then your
operating system says hey what's this
connection oh wait a minute
you initiated it it must be fine so
since you initiated it you have
all the permissions and everything is
golden now once you're connected to the
server and I'm going to be showing you
guys how to do all this what we're going
to do is we're basically going to give
it commands and then your computer or
the target is going to look at those
commands run whatever we tell it to and
send back the results so it's basically
a way that we can get shell with any
computer in the world even if it's not a
server freakin awesome so if you guys
are like when would I ever use this well
in that example helping out a friend you
would definitely use it and also let's
say that you were a system or network
administrator and you need to access a
bunch of computers remotely you could do
that and also one of the more popular
ones although not very ethical this is
how hackers actually gain full control
into your machine so what they do is
they create one of these and get you how
to click on it maybe they like hand out
a CD in front of like Walmart or you
know just send you a USB Drive drop it
in front of your school or work whatever
like Oh wonder what's on this plug it in
your computer now they got all your crap
so hopefully you guys can use this
technique to do something ethical and
also from a malicious point of view now
that you're going to know how they're
created you're going to know what to
look out for and well you'll be better
protected so there's my little rant and
now what we need to do is we're going to
create two files so all this is is two
files one for the server and one for the
client so new Python file and I'll just
call this server dot py and let me just
create them both now so new Python file
client py art so basically we're going
to have two really simple Python scripts
this one we're going to have running on
our server now this one is the one that
hackers would put like on a CD or a
thumb drive and this is whenever the
user sticks it in the computer and runs
it this is the one that connects to the
server so basically two ends of you know
a conversation now I'm just going to be
running these both on my own local
compete
test and then at the end of the video
I'll put on an actual shirt server to
show you guys that it does indeed work
but for right now I'll just run them
both for my computer whenever we're
developing them so first of all let's
develop the one for the server the one
that's going to be sitting on a server
somewhere so what we're going to do is
we're going to first import sockets and
imports sis now a socket in case you
guys don't know is basically a way that
you can have two computers connect to
each other or have a conversation so
that's all it is and sis right here this
is basically so you can run system
commands it can anything you would
usually type into a command line you can
run it from Python as well it's pretty
neat
so the first thing we're going to do is
we actually need to create a socket so
let me just write a grade socket allows
to connect all right so basically we're
going to create a socket on the server
and then we're also going to create one
on the client and then they're like hey
I can talk to each other I want to talk
to each other well you know they're not
going to say that but pretty much that's
pretty much what's going on all right so
I'm going to name this socket crate and
this is the very first function that
we're going to call so what I'm going to
do is actually make a try-catch or
try/except whatever you want to call it
and or a global host global ports not
import you fool Anglo's all right so
basically we're going to have three
global variables this one is going to be
the host in other words it's going to be
the IP address of where you want to
connect to now remember since this
socket is being created on the server it
doesn't need to go find some random IP
address it's just whatever that own
machines IP addresses now for the client
you actually need the IP address of the
server so for here the host we're just
not even going to fill it in because
it's just going to be itself now again
whenever we make the client we actually
need I P address of the server but we'll
get to that later
now the poor
I'm just great if you guys don't know
what a port well I explained this on my
networking tutorial so it's basically a
way that your computer can identify what
data is coming in so at your computer
right now you might have Google Chrome
open you might have Skype open you might
have you know I don't know some other
random Netflix open so whenever all the
data is coming in it's like all right is
this like Skype data or Chrome data
where's it going
well the port helps to identify which
one is which now 9 9 9 9 isn't a
well-known port so we can just use that
for ourselves don't use any common port
like um I don't know
don't use like 443 or 80 or 20 or 22 or
21 whatever so there you go so you know
nothing special it doesn't need to be
999 but I might as well just make it
that and now this s right here this is
going to be the actual socket or
conversation between the computers the
server and the target machine so what
we're going to do is we're just going to
write accept sockets air as MSG all
right so we're going to try to create
this socket right here now if it gives
us an error for any reason then I'm just
going to say all right take our air and
we'll just save it as a variable
MSG and we'll just print it out to the
user and I'll say socket raishin air
and we'll just print out that error
message right there alright so this is
our function that creates the socket
right there now after this what we
actually need to do is we need to bind
the socket to the port so we said ok
right here we're going to allow this
server to connect with another computer
and now we need to say ok well give me
the host and the port and we actually
save that for in next tutorial this
one's getting kind of long so I'll see
you guys then</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>