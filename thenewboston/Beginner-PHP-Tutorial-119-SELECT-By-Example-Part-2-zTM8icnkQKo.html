<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Beginner PHP Tutorial - 119 - SELECT By Example Part 2 | Coder Coacher - Coaching Coders</title><meta content="Beginner PHP Tutorial - 119 - SELECT By Example Part 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Beginner PHP Tutorial - 119 - SELECT By Example Part 2</b></h2><h5 class="post__date">2011-04-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/zTM8icnkQKo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so what we want to do is in fact SQL
might not be an issue in this case
because what we might want to do is we
might want to check whether this you H
either equals you or equals h before we
perform this query so we've grabbed the
value you H what we can do now here is
above the query we can check if you H
the variable is equal to either a small
U which will it'll automatically be
small because of the STR to lower or
will it be an H so we can say if you H
is equal to AU or you H is equal to an H
then we can run we can run all of this
code here so down to there and now let's
indent everything again so we can view
it properly so if the submitted variable
which is here is equal to AU or an H
perform the query let's just test by
putting in else must be U or H so let's
refresh to here so if we would select
healthy right okay all right okay yeah
so we're we're performing this static so
that basically means that we it's worked
we're not selecting this data just yet
because we have an input into the query
but just imagine that this is
confirmation just say yes that's worked
if we click healthy again we still
receive this message however if we were
to modify this up here to say a must be
U or H or in fact something that might
be classes a some you know some kind of
an SQL injection we supplying this error
message but what we can do for there is
take out this error message because we
don't really want to give away too much
works so let's go back up and now we
need to do something about this query
because at the moment it's selecting
this ice-cream row and this is useless
because we're allowing the user to input
a value but we're selecting a query
based on our static preset conditions
here so now what we want to say is we're
going to get rid of this and calories
here we would say we're healthy
unhealthy equals a certain value so this
value is going to be you H because
remember the user is submitting here a
value which is put into you H we're
making sure it equals U or H then we're
performing a query but this time instead
of putting you or H in ourselves we're
supplying the value of this variable so
now if the user was to click on healthy
the value of the of this u H here
submitted will be H it will go back into
PHP we're doing the relevant checks here
we're grabbing the variable here
converting it to lowercase checking if
it is equal to your rate and then
putting it into the query so not only if
we allow the user to input their own
value we've thought about the structure
of our program in the fact we need to
check this before it's set we need to
then set it into a variable then we need
to check then we put it into the query
and follow on by producing a list of all
food which is either healthy or
unhealthy so now we've done this we've
created a dynamic query so let's go back
to index dot PHP and see if this works
so we want to choose a food type which
is unhealthy first of all and click
Submit you can see that we print now
produced a list ice-cream has 700
calories Pizza has 1,000 calories so
they're the to unhealthy values inside
our database so we've got a U and U
which is Peter and ice-cream what we can
then do is select healthy click Submit
this value up here changes therefore
that the query changes and we've
selected the
healthy food in our database so this is
how we can combine user input and it
could be text-based input it can be like
drop-down list input loads on the select
input it could be absolutely anything
you can even press a button just to grab
some values it's all about combining
what knowledge you have of the post and
the get variables and then inserting the
data that's been submitted into a query
now like I mentioned before this can be
dangerous we can have something happen
called SQL injection and that's when the
value that put into the database might
equal might come through as another part
of a query for example if this you H
value was equal to let's just go up here
was equal to a semicolon at sorry a a
single quotation mark or and this is the
this this one I'm typing is the value of
you H or nothing equals nothing okay so
that's say that's what the user typed
into a textarea box that would then be
substituted into here sorry without that
extra and you can see how just by
inputting this data into there which
would not lose you there so it user
types this here into a text box and puts
it into here we've automatically changed
the query nothing does equal nothing so
this query will always evaluate to true
and this is just an example however it
can be dangerous so you need to think
about the checks that you do before you
perform a query in a program that's very
important when you're practicing not so
much but I can I can you know I warn you
now that this is a good practice to get
into making sure that people can't
inject their own SQL into your query
hence the name SQL injection but this
has been a quick tutorial or a long
tutorial on how to allow user input to
create your query more dynamically</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>