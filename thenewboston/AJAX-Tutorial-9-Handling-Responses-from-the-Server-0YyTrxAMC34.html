<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>AJAX Tutorial - 9 - Handling Responses from the Server | Coder Coacher - Coaching Coders</title><meta content="AJAX Tutorial - 9 - Handling Responses from the Server - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>AJAX Tutorial - 9 - Handling Responses from the Server</b></h2><h5 class="post__date">2013-01-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/0YyTrxAMC34" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright guys welcome back and in this
video we're going to be making the very
last function that we need so basically
we created one function to create the
object for communication we created
another function to actually communicate
with the server and this last function
is going to say ok basically whenever we
receive a response from the server what
do we want to do with it
so go ahead and put function and we
already named it up here handle server
responds and now it's not going to take
any parameters alright now to handle a
server response which is basically the
server is going to be sending us an XML
file as we see right here whenever we
get this request it's going to say okay
I'm going to check if your food is in
your list or in your store basically and
I'm going to be your sending you back an
XML file in between response tags so it
sends back an XML file but before we get
to you know dicing up the XML file what
we want to do is we want to check our
object basically for errors and see what
state it's in so the first thing we want
to do is its if statement and we're just
going to write xml actually i can just
go ahead and copy this we want to check
the state of it now state number four I
know I didn't talk to you guys about
states and details state number four is
whenever the object is done
communicating you get state number four
if the response is ready and pretty much
whenever the object is done
communicating that's what I want to say
so if state number four if the object is
done communicating your little you know
communication session was over the next
thing I want to do is I want to check
something else we actually want to check
the status of that so yeah I'll be lazy
and copy this alright so if you're done
communicating then go ahead and check
the status of it now if the status is
equal to 200 and I know this is going to
get kind of confusing but 200 on on your
object it means that the communication
went okay
this PHP file sent maybe your server was
down or maybe it sent an error or
corrupted data then this wouldn't be
equal to 200 why they decided on 200 I
have no idea but 200 means that the
communication says session wet okay so
remember if the communication session
went okay then we now have an XML file
so let's go ahead and store this XML
response in a variable so XML response
is equal to this object now has response
XML and this is actually a function that
was built in pretty much what we're
doing is we're extracting the XML that
we got from this file right here so now
this XML response is basically your XML
simple enough so that's how you pull the
XML from them now what we want to do is
we want to get the document element so
all interesting this XML document
element and set this equal to XML
response dot document element now what
the heck is the document element
well the document element is basically
the root element or the core well it's I
think it's technically called the root
element of the XML file so remember the
XML document element is where we're
going to be pulling everything else from
so what we are really focused on is this
message right here the message in
between your two response tags in your
XML file so how do we access that well
let's go ahead and set it equal to
message instead of equal to XML document
element which is basically think of it
as your document and what we want to do
is we want to look at the first child
because it's own it's the only child in
this document so of course this is the
easiest way to access it and set it
equal to data now data is basically it
gets the data from your XML file so it's
going to be equal to something like this
all right so now this message is equal
to the data so it's going to be equal to
either enter a food you idiot or um this
message is going to be equal to we do
have tuna or sorry Punk we don't have or
we don't so no like bacon appetizers or
something so basically this message is
what we want to put out on the screen so
alright so this is basically how you
change your HTML file now in HTML and
this is your HTML file right here the
page you're looking at right here is
called the document so let's go ahead
and access that document dot get element
by ID let me go ahead and talk you guys
through what we're going to do real
quick now that we got the message from
the server what we want to do is we want
to take this element right here and we
want to set it equal to that message</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>