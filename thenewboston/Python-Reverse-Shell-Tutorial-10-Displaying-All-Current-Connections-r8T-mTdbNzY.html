<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Python Reverse Shell Tutorial - 10 - Displaying All Current Connections | Coder Coacher - Coaching Coders</title><meta content="Python Reverse Shell Tutorial - 10 - Displaying All Current Connections - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Python Reverse Shell Tutorial - 10 - Displaying All Current Connections</b></h2><h5 class="post__date">2015-12-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/r8T-mTdbNzY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright guys so in the last video what
we did is we made our own custom
interactive prompt that could take two
simple commands you could either list
all the connections and once you find
the connection we're gonna have the user
write like select zero or select 10
whatever the ID number is oh whooping
cough and another thing I want to point
out is I accidentally wrote if equals
equals list and it needs to be if
command equals list because this is
whatever they typed in and we're just
testing did they type in list or did
they try to select something so remember
to fix that and now we need to build
this function list connections so all
this function does is our disarray
displays all current connections so
whenever a computer connects to your
server it'll list it right here now for
the results actually let me go ahead and
write define list connections all right
so the results is just the final thing
that we're gonna print out so we'll loop
through all of your connections and
remember they're all stored in here and
then for each one we're gonna just save
it to the string result now what we
normally do something like this for C
LNM in all connections and then we can
loop through them all but what I
actually want to do is since we need to
signify each connection with an ID
number we need a counter variable so we
can write like x equals 0 right here in
increment it by 1 each time but an
easier way to that is this what we can
do is we can actually enumerate all
connections now what this does is it
loops through just like before but
instead of just giving you this variable
right here we actually have that counter
variable already built in so the first
time in this loops is going to be equal
to 0 1 2 3 4 or whatever and you can do
this with any type of list so that's a
real you know some kind of like a not
advanced Python but like medium
what intermediate place on my guess all
right so now we have a bunch of
connections in this list and we're going
to loop through them all but we just
don't want to display them straight up
to the user we actually want to go
through each connection and test to
ensure that it's a valid connection
before we display it because what we
display the user we want to make sure
that these are real connections so what
we're going to do is we're just going to
try to send them a blank message so this
is only gonna work if we actually have a
connection if we don't have connection
maybe we had one before but I don't know
they shut off their computer then it's
going to get an error and we won't add
it to the list so we're just gonna send
STR in code and we'll just send them a
blank string right here so this is gonna
do nothing to their computer it's not
gonna like mess it up and it basically
has no real effect the only thing is
we're checking is if if we can send a
message to their computer from our
server and we can get response back then
that connection is valid so that's all
we're testing right there actually let
me add one more zero to the buffer all
right so except this is gonna occur if
we have a bad connection
so we just don't want to you know skip
over it what we actually want to do is
delete it from the list so delete all
connections and what is it or what is
the number in the list well it's
actually just I right here so I so if it
was the first time it would be zero if
it was a second time it would be one and
that's how you know not only can you
have a unique ID number every time you
loop through the list but you can also
signify the list item pretty cool and
you also want to do this for all the
dresses
so usually whatever you do as far as
adding items or deleting items from
these lists you want to make sure that
you do them together since they're kind
of linked in a way now I actually want
to write continue right here because the
next line we're just going to be writing
it to a string so if we get bad
connection we don't want to go on
writing it to the results to display the
user we just want to hop up to the next
iteration so the results is gonna be
actually need to think about this so
string hi all right so let me explain
what I'm doing it for so basically
whenever we have a good connection we
want to display that to the user so for
each claim that's connected that it's
going to display their ID number which
is just some you know like 0 through 10
probably and then their IP address and
pour so just some basic information
about them so you know we know who
exactly we're connecting to and then I
just want to add like three blank lines
from the ID number to the IP address so
it just looks a little bit prettier
formatted so now string all addresses I
0 and this number is the IP address so
from our list all addresses what item
are we looking for
well whatever one we are currently
looping through and remember 0 is the IP
address and 1 is the port number so we
can actually print out the port number
two if we're going to this real lazy way
just take all that and just do one all
right so it's gonna give you the ID
number of the connection or the list
number it's the same thing the IP
address the port number and then we'll
just print a new line after this so new
line so each target is gonna appear on a
new line looking good so now once we
finally loop through all of our
connections and save each valid one and
results we're just gonna print out those
results however actually want to do this
hold on a second I think someone's in my
house and it's freaking 1:00 in the
morning so
nope it was just my neighbor going to
work she is a nurse and she works at
night so whatever
all right clients and I'm just printing
new line after this
all right so whenever they type list is
just gonna say clients at the top and
then it's gonna but it down to a new
line and then we're just gonna write all
the results which is information about
each individual computer that is
connected so there you go whenever the
user types in the word list it's going
to call this function which basically
loops through all the connections that
you have prints out information about
them and since we have an ID number this
is the list item of the connection to so
then we can say okay select zero or
select three select whatever computer
you want and that's what we're gonna be
doing in the next tutorial so see you
then</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>