<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Beginner PHP Tutorial - 88 - Uploading Files: The Basics Part 2 | Coder Coacher - Coaching Coders</title><meta content="Beginner PHP Tutorial - 88 - Uploading Files: The Basics Part 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Beginner PHP Tutorial - 88 - Uploading Files: The Basics Part 2</b></h2><h5 class="post__date">2011-04-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/jOrFvgwIPxQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so we've got name size type and
temporary name not all of these are
required to actually upload the file and
the ones that are not required to upload
the file are this this an in fact named
but what we want to do is we want to
keep the same name as the file and as
we've uploaded here so we need in this
case temporary name and the name of the
file so underneath here what I'm going
to do the first thing I need to do is
check whether we've actually chosen a
file and we've submitted the form so we
can do this we're with the is set
function so I can say if is set name and
in fact you can incorporate others in
there but I'm just going to be assuming
that the the file has a name which it
would do in most cases so if is set name
what we then do in hid inside here is we
can echo out something just to test so
okay for example so if we come back to
our form as it is and we don't select a
file and I click Submit oh okay oh yeah
sorry it is set so if it's set name then
we need to do another check saying if
not empty name do something otherwise do
something else so here we can just say
please choose a file otherwise we can
say everything's ok because this will
presume that we've selected a file from
our computer we've clicked the submit
button the two if statements have
validated to true if the file is first
of all if the form has been submitted
and second of all if the file has a name
which you presume it will do if that
user select a file so let's just go on
we won't choose a file for now but back
to the page that is click Submit and
it's telling me please choose a file now
what I'm going to do is actually choose
a file click Submit and it's telling us
it's ok
so this is the some basic form or
validation to make sure the file is here
now what do we do with the file once we
know it's there and we've performed
these couple of checks well what we need
to do is we need to move the file from
its temporary location
to a specified location and this
specified location is in the uploads
folder okay so I'm just going to put
uploads and then a foot and then a
trailing forward slash now what we need
to do is we need to use a function
called move uploaded file and we need to
give it two parameters the first one is
the temporary location which is
temporary name in fact before we do all
this let's just kill the page there and
echo out the temporary name so you can
get a general idea of where it's being
stored so let's just pick that file
there and click Submit you can see that
this is being stored in C colon
backslash xampp' temp and it's and the
file name is PHP C to 790 MP this is the
file that we've just uploaded however
it's in an unusable format and it's not
in the location we want it in so let's
get rid of that and we won't kill our
page anymore so move uploaded file you
need the temporary name as the first
argument to this function and the second
is the location so I'm going to say
location now we do need to add something
else on to this we need to give it a
name so fair enough we're uploading to
the uploads folder but now what we need
to do is append on the end of it a file
name here now obviously we already have
the file name so we don't need to
specify that ourselves it's just simply
name because we're taking the file name
of the file we've uploaded so to make
this to make sure this works a bit
better I'm going to enclose this
function in an if statement and then if
the file is successfully uploaded I'm
just going to echo upload it okay so now
let's test this out let's go back to our
plot PHP I'm going to click Submit and
it's telling me to please choose a file
so that's just testing our validation
I'm going to choose this image called
words Lee underscore Nicollet one jpg
and if we go back to our that will just
quickly go back to our folder and make
sure there's nothing in history
so let's choose that file and click
Submit and it says uploaded so we've Pro
says to everything that we've written
already with no error now for the
interesting part let's go back and have
a look this uploads folder and see if
it's uploaded and in actual fact it has
so we've clicked you can click on this
and preview in our browser but we've
successfully uploaded a file now let me
just take you through the stages again
we grab the name of the file itself
which is here here and we have the
temporary name or this is the temporary
location rather then what we do is we're
checking if the form has been submitted
then we check if then we check if the
file exists so have they selected a file
we specify a location in a variable
which is the uploads folder so this
corresponds to the folder here and then
what we do is we say if this is
successful if this function is
successful and while we're performing
this if statement where we're calling it
as well so we're uploading from the
temporary name and we're renaming it
into this location with this file name
here so obviously I could say I could
specify here let's put it in uploads
forward slash image dot jpg ok so now
what I could do is click on upload dot
PHP select a different file click Submit
and you'll see that it will have put it
into the exact location I've specified
there however what we want to do is we
want to do it based on the file that the
user is uploading and obviously I've
just stored this in in a different
variable then we echo uploaded if that's
ok and we could obviously add something
here to say and
there was an error now so this is how to
basically upload a file as you can see
there's sort of a lot involved with it
but it once you get the hang of it it's
easy to do however what we haven't done
is we haven't performed any validation
on the file itself so as it stands I
could upload a PHP file I could upload
any XE file I could upload anything I
basically want so in the next video
we're going to be looking at how to
secure the form and only allow a JPEG
file</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>