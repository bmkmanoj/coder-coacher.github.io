<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>AJAX Chat Tutorial - 5 - Connecting to the Database | Coder Coacher - Coaching Coders</title><meta content="AJAX Chat Tutorial - 5 - Connecting to the Database - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/thenewboston/">thenewboston</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>AJAX Chat Tutorial - 5 - Connecting to the Database</b></h2><h5 class="post__date">2013-05-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/lWaHTjEMyew" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright guys welcome back to your fifth
tutorial and how to make a sweet Ajax
chatroom and in this video we're gonna
be getting into the good stuff we're
gonna be making the class that pretty
much takes care of all the important
stuff you know making or posting a new
message getting the message deleting
messages all the core functionality of
the chatroom so let's go ahead and
create a new file and I'm just gonna
save this as let's say this is chat dot
class dot PHP so this is gonna be a
class file and actually you can get rid
of these we're done with those aren't
gonna be editing them or anything so the
first thing I want to do is just make my
PHP tags and after this what we need to
do is require once the two files that we
created the first one is config dot PHP
and of course this one has our database
information so we can actually connect
to the database and the other one is our
air handler so require once Bucky
air handler and that's of course the
file that whenever we have an error and
we want to hand them handle it they're
custom actually let me clean that up
there we go so she said and now what we
need to do is we need to build this
class so anytime you want to build a
class in PHP class and then the name of
your class which is typically
capitalized as chat and a lot of people
do this move that to the new line I
guess it makes sense it's kind of lined
up but um I don't really like doing that
but I'll do it for you guys since you
know it's kind of you know standard now
the first thing we need to build is the
pretty much the database handler the
object that's going to connect and open
a database connection so this is going
to be a private variable because we
don't want any other files or classes
using it and we're going to be using my
SQL improved so it's not going to be a
typical MySQL
mahp there's two different ways to
connect to a database in PHP you can use
MySQL which is kind of the older
technique or MySQL I which is MySQL
improved and I highly recommend
switching over to this the old MySQL
functions are beginning to be deprecated
so in this tutorial I'm going to show
you guys the proper way the newer way to
do it and after this actually let me
give myself some room to work with
now the first thing we wanted to do is
we want to build a constructor and this
constructor is just going to open a
database connection so as soon as you
create an object from this class this
function is going to run so function two
underscores and name it construct in you
can't like name this something else if
you don't like this it has to be two
hundred scores and named construct
that's just standard how you build a
constructor in PHP so in order to
connect to the database
tongue-twister and establish a
connection to it this is how you do this
this which pretty much means this object
and then my SQL I and set this equal to
new my SQL I now there are a couple
parameters that this takes now remember
that we defined all of these in our
config file so if you forgot it or if
you named your things differently than
my config file then just go ahead and
open it but the first thing is actually
let me open them to show you guys config
the first thing is the database name or
well not the database name the name of
your server or this should be localhost
hopefully it is an IP address and it's
DB host
the next one is the user of your
database and that's DP user now the
third parameter is the password and crap
you know what I forgot I changed mine so
you guys working hacking my database and
now I just frickin showed you guys again
so now I got to change again before I
post this video on trussing you suckers
and the last one is your database name
and I actually spelled that wrong so let
me change it database database alright
looks good so let me save this and save
this so that or those are the parameters
that you need so whenever we create an
object from this chat class the first
thing that's gonna do is run this
function automatically you don't need to
call it and what this function is going
to do is basically establish a database
connection so now we're connected to the
database but before we start you know
posting messages or reading messages
from it we need to make a destructor and
sometimes I call this a Deconstructor I
don't know why just you know kind of fun
to say but it's actually called a
destructor destructor closes database
connection so this is what the
destructor is gonna do and actually let
me cheat a little bit don't feel like
typing all that now you know how you put
underscore underscore construct for your
constructor well whenever you make a
destructor it's d-struct in guys you can
only have or how should I say this for
the constructor and the destructor if we
never work with object-oriented PHP you
have to name these the specific names
you know how when you typically make a
function you can name it anything you
want like eat tuna you could even name
it eat tuna with a constructor in the
destructor you have to name it
underscore underscore construct or
destruct it's just the rules of PHP so
whenever you first make object from this
class you open the database connection
you're connected to the database now
whenever your object gets too
what you want to do is you want to close
your connection to the dad base it's
basically just good housekeeping or good
programming standards so in order to do
that just go ahead and use you know
whatever object this and this basically
means the object that you're working
with right now the object from this
class my SQL I and close so again like I
said whenever your object gets um oryx
you whenever your object gets deleted or
whatever you want to call it your
connection to database is closed so now
that we have our constructor in our
destructor basically our housekeeping
things we can now go on to the good
stuff what we are here for and that's
making the functions that we care about
deleting the messages from the database
reading the messages in our chatroom
posting messages to the chatroom all of
the good stuff so what I'm gonna do is
I'm gonna save this and now I have to
change my freaking password so you guys
on hacked my database and when we come
back we're gonna be you know making all
the cool functions to read messages post
messages all the cool functions for our
chat room so thing guys for watching
don't forget to check out my social
network I'm gonna plug it like crazy and
I'll see you guys in the next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>