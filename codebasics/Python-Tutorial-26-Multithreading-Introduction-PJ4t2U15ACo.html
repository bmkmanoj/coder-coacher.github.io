<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Python Tutorial - 26. Multithreading - Introduction | Coder Coacher - Coaching Coders</title><meta content="Python Tutorial - 26. Multithreading - Introduction - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/codebasics/">codebasics</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Python Tutorial - 26. Multithreading - Introduction</b></h2><h5 class="post__date">2016-06-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/PJ4t2U15ACo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello friends in today's core basics
coding tutorial we are going to talk
about multi-threading in Python before
we begin with Python multi-threading
let's first understand in general what
multi-threading means when comes to
computer science multi-threading I often
explain by giving the example of a busy
mom as you see in this picture busy mom
usually juggles between multiple tasks
so she might be cooking food and at the
same time she has to take care of baby
and she often gets a phone call and she
needs to handle that as well in parallel
so as you see on the right hand side mom
starts by cooking food and at some point
you see in this in the Green Line she
has to switch to another task of taking
care of a baby and then at some point
here she gets a phone call so she needs
to handle that as well so in this time
period so this vertical slice indicates
the time progression and this time
period she's cooking food taking care of
baby and a handling phone call so each
of these lines are induced tasks that
mom is handling and when it comes to
programming they are called
threads so mom is handling three threads
cooking food taking care of baby and
handling phone call hands mom is doing
multi-threading similarly Python program
can handle multiple tasks at the same
time and that program is called to be
doing multi-threading okay so we are
going to work on a problem where I have
an array a list of numbers and I want to
calculate the square of each of these
numbers and I want to print those
numbers at the same time I want to
calculate cube of each of these numbers
and print them so I have to handle two
tasks basically calculating squares and
crack
creating numbers calculating cubes of
these numbers in the array ah so it's
simple to write two functions so what I
have written here is I have written the
first function which is calculating
square which takes numbers array as an
input I go through the array and I print
the square here now I'm introducing a
time sleep so this time model what it
does is it waits for 0.2 seconds before
bending this number and I will tell you
in a bit
why I'm doing this but for now just
assume that this goes through an input
array and it just prints square of each
of these numbers this function is
exactly similar to this function except
that instead of square it is calculating
the cube of those numbers okay and I am
calculating I am calling calculating
square and calculate cube one by one and
then I am printing dawn when I'm done
and I'm also doing something else which
is calculating how much time it took to
execute these two functions okay so it's
fairly simple program so let let me just
run it okay so as you can see here I
have this array two three eight nine it
first printed four nine 64 81 or the
square of these numbers and the cube of
these numbers so cube of 2 is 2 into 2
into 2 is 8
3 cube is 27 because 3 into 3 9 into 3
is equal to 27 and so on
over all this program took 1 point 6
second let me execute one more one more
time again it took 1 point 6 seconds so
not down this number this program is
taking 1 point 6 second to execute ok
now the reason I introduced this time
delay here is that just to demonstrate
in which scenario multi-threading could
be useful here you are first calculating
square and then calculating cube now
when you are waiting here for what's
happening is your CPUs idle see your CPU
is doing nothing okay
now you might have this scenario when
let's say in real life you might be
calling your web service or you might be
waiting for a packet on your network
socket so at that time you're waiting
and your CPU and your PC is not doing
anything multi-threading tries to
utilize this idle time and doing the
tidal time you want to see you CPU some
work okay
so let's use multi-threading and improve
this number so it's taking right now one
point six seconds using multi-threading
we will improve the time we'll execute
this program much faster okay so first
thing you need to do in order to use
multi-threading is import threading
model okay this is a standard Python
model used for multi-threading and now
instead of calling these func
functions directly so I'm going to
remove these and what I'm going to do is
I'm going to create a thread so I will
say threading
trading dot thread okay and target equal
to so your target is your work or
function the tasks simple task that you
want to execute this is similar to mom
taking a phone call for example or or
hand handling baby so in our case that
task is calculating square okay so you
mention your function name after target
and in your arms you will mention your
arguments so here your arguments is your
array so this is a double that you are
passing as an input so if you have
multiple arguments to this function you
will pass multiple arguments here okay
so this way you created the first thread
and now I'm going to create the second
third and here my function will be
calculating Q okay
so by doing this I am creating these two
threads t1 and t2 now I just create a
fierce to thread and I need to start
them now so I will say t1 dot start then
t2 dot start so this will execute these
two programs in parallel ok and then you
need to say T 1 dot join T 2 dot join
what join will do is it will wait until
these this thread is done basically T 1
dot join means now wait here until t1 is
done
t1 meaning until this this calculate
square function is finished and then
your you want to print done okay
so let's execute this program now nice
so as you see here now what it is doing
is it is not executing these two
functions in a sequence so first is it
calculated a square ok so it calculate a
square here then it went into this loop
one more time and it and then it started
waiting so while it was waiting here the
other function was also executing in
peril so meanwhile it printed cube so
you see cube here so that's why you see
square and cube because there are two
tasks being performed simultaneously in
parallel ok
so whichever task gets done you get the
output of that here and you see that now
our program is taking half the time
compared to what it used to take before
so here is point eight if you recall
previously it used to take one point six
second now it is taking only 0.8 second
okay now let's compare this with our
busy momet sample so here the main
program started so this red line is
called the main thread then at some
point we started calculating square of
numbers so which is this Green Line so
we just pawned a new thread which is
this green color line so that we did by
doing this t1 dot start so when is it
even to start what you are doing is you
are just basically start starting
execution of this new thread then at
some point you started calculating queue
of numbers which is this t2 dot start
and then when the they are done they
come back to this main program so these
points here are basically t1 dot joining
t2 tour join join means you are done
with your usual thread now the execution
joins back into your main program your
main thread
okay so again comparing it with busy mom
is kind of very similar thing that your
program doing okay so multi-threading is
typically used when as explained
previously when your CPU is idle it is
waiting for something I didn't have a
sophisticated example that's why I
introduce artificial delay but in your
real life you will be calling less a web
service web service might take few
seconds to give you back the response
during that time if you want to optimize
the performance of your program and make
your make your CPU do some work then you
can definitely use multi-threading now
multi-threading in Python is little
special because there is something
called a group global interpreter lock
that prevents you from using the true
benefits of multi-threading but in any
case whenever you are waiting and
you are doing IO bound operation you can
still use multi-threading so go ahead
and use it and if you want to do real
CPU and sand intensive work and you're
not waiting for an IO type operation
then you need to use multi processing so
all those are little advanced concepts
which we'll cover in future videos okay
so that will suite a little introduction
on multi-threading thank you very much
for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>