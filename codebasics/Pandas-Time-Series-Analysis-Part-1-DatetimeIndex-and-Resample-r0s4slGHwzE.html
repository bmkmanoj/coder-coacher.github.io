<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Pandas Time Series Analysis Part 1: DatetimeIndex and Resample | Coder Coacher - Coaching Coders</title><meta content="Pandas Time Series Analysis Part 1: DatetimeIndex and Resample - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/codebasics/">codebasics</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Pandas Time Series Analysis Part 1: DatetimeIndex and Resample</b></h2><h5 class="post__date">2017-07-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/r0s4slGHwzE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">here friends today we are going to start
new set of our tutorials called time
series analysis in pandas now what is
time series time series is a set of data
points indexed in time order for example
this stock price chart where on x-axis
you have dates and y axis has prices so
this is your time series now in finance
data analysis space or time series
analysis is used a lot so the people who
are connected to finance domains they
are going to find these tutorials
extremely useful ok so the first thing I
am going to do is download the
historical prices of Apple stock from
Google Finance here you can type in the
ticker for Apple and click on historical
prices so this shows the prices of last
year and click on this link here to
download these prices in this CSV file
alright so I have this CSV file with
open high/low close and volume
information as usual I have launched my
Jupiter not book from the command prompt
and I created a new Python notebook now
I have imported pandas as PD and I am
reading the CSV file here and when I
load the data frame the data M looks
like this now the topics that we are
going to cover in this tutorial is date
time index and resampling so let's start
with date time index when you have this
data frame your index is this integer
index and your date column is actually a
string so if you want to verify that you
can just do DF dot date 0 take the first
element and if you print the type of it
you will find that this is a string it
is not a date now read CSV has an option
called past date and you can specify the
name of the column which you want to
pass as a date so when you supply this
what happens is
this date column is now of type date so
if I execute this once again you will
see that the data type changed to be the
timestamp okay now we are going to make
this date column and index of the data
frame so remember the index right now is
integer index all right and we are going
to chain that index to be this date
column so you can do that by saying
index column is equal to date so I want
the date column to be my index and when
you do that now your index is date and
you can verify by type in D F dot index
now you'll see that this index is of
type date time index now why did we
change the index to be date time index
well there are many obvious benefits for
example this data frame is containing
data of entire past one year but let's
say I want to retrieve you only January
2017 stock prices alright so you can do
that easily by supplying this partial
index here Here I am saying give me data
for only Gen 2017 and you can see that
it will return you Gen 2017 now let's
say you want to find an average price of
Apple stock in the month of January all
right you can do that easily by just
saying that okay I want the close price
so this give you the time series of
close closing price and you can just run
mean on that and that returns you the
average stock price of Apple R in a
month of January 2017 you can also
retrieve the price on any given date for
example on 3rd January this was the
price so this is pretty useful you can
you
your date as an index in a data frame
and get the prices on that particular
date not only that you can supply the
range also so for example I want the
prices between on the 7th January and
1st January let's say which is the first
week of of your job 2017 and month
January alright so when I do that let me
supply first here and I will get the
prices from the first week of January so
you can see numerous benefits of having
date time index you can retrieve
specific month data and average price in
that particular month and also the
prices on a given date range now these
are the typical use cases for any
finance person so if you are using
pandas with time series as a finance
person you can do all this analysis
quite easy alright next thing we are
going to talk about is resampling so
here I have daily data ok and now let's
say for my analysis purpose
I want to retrieve a monthly data so I'm
not no longer interested in daily stock
prices but I want to know what was a
monthly stock prices for Apple stock you
can do this by selecting a column first
and then say resample to a monthly
frequency and I am interested in mean of
that so when you do this what happens is
now it is showing you the monthly
average of closed prices right so again
step by step first I selected a specific
column from a data frame which will give
me a time series
and then I'm calling resampling on a
monthly frequency and then the method of
early sampling here is to take average
price alright so here what you're seeing
is an average price in a month of July
2016 this is August September and so on
you can also plot nice chart by calling
plot function here and let me just call
plot now you need to see this in order
to actually plot the chart okay so this
is the in line the line magic okay and
here now I am seeing the stock prices on
a monthly frequency you can also convert
it to weekly frequency and that will
show you weekly stock prices if you want
to look at all the possible frequency
then you can hit shift tab here which is
going to open the help and then in the
help you can find out the frequency part
of it so let's see where is the
frequency so here if you just open this
link here in your browser then you are
going to see all the frequencies so here
we use weekly and monthly frequency but
you can do semiannual you can do
business day so business day is
excluding all the holidays weekends
etcetera quarterly so let's try a
quarterly frequency to plot the
quarterly chart so let me close the help
here
supply quarterly frequency and you can
see that now I'm seeing what q1 q2 q3
and so on
all right you can also key in the type
of chart to be the bar chart all right
okay I think it is called
in not type okay so you will see this is
all orders and you have nice white bar
chart here okay
so the difference between this plot and
the plot without doing any resampling is
that let me just print the normal
closing price chart and you will see the
closing price chart is much more
granularities on a daily basis okay but
this same daily frequency you can
resample to be quarterly monthly daily
whatever is your use case okay so that's
all we had for this tutorial I have
distributor not book available in the
video description below
it is on github feel free to download it
and play with it I highly recommend you
doing coding as I teach these tutorials
because trying it out on your own is the
only way you can learn this thing if you
just watch it as if you are watching
some entertainment show or anything then
just that's not going to help you you
have to make good use of this code that
I'm providing and try these tutorials on
your own okay so in the next tutorial we
will continue with few more topics on
time series analysis so stay tuned and
thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>