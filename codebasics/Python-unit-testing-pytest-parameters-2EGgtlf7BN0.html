<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Python unit testing - pytest parameters | Coder Coacher - Coaching Coders</title><meta content="Python unit testing - pytest parameters - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/codebasics/">codebasics</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Python unit testing - pytest parameters</b></h2><h5 class="post__date">2016-12-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/2EGgtlf7BN0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello friends welcome to core basics
coding tutorial today we are going to
talk about how you can combine multiple
test cases into one single test case
using py test parameters here I have a
math lab dot PDF file which has a single
function which is just calculating a
square of a number so you can see that
this is a very straightforward function
typically when you write a unit test for
this function you will end up writing
multiple test cases to taste that
functionality so you will have your
first test case which will be tasting to
square underscore one and you will say
result is equal to MATLAB dot calculate
square let's say you are calculating
square of five so you will assert that
result should be 25 because the square
of Phi is 25 and this way you will write
multiple test cases all right so 9
squared is 81 and this is my third unit
test let's say I'm calculating square of
10 which should be hundred okay
this is what you do you supply multiple
inputs and you check if those inputs are
producing the expected output or not
okay when you run this these test cases
here they're going to work ok it says
these three test cases pass now the
problem with this is that you are
essentially writing same code you can
see that you are capturing a result into
result variable by calling calculate
square and you are asserting against the
output so I could say there is a
repetition or duplication of code here
it will be nice
if I can somehow combine these three
test cases into one and somehow let's
say if I have just one test where I can
past test input and capture expected
output and here I pass test input and
here I can say right so you will agree
that if we had a way of doing this then
it would be nice and then in the test
input and expected output you can just
pass those things your expected values
and test inputs as parameters so py test
allows you to do that so for this you
have to do the import py test and then
use this spatial decorator called py
test dot mark dot parameterize so this
is a py taste decorator that you need to
use whenever you want to parameterize
your taste cases okay
and now the first argument to
parameterize is a string argument where
you will pass the name of the variables
or the arguments that you are going to
pass to your function so I just copy
pasted these two from here
the second argument will be the expected
output and the taste input and you will
be passing these things as a topic so
let's say we had like three test cases
okay so I'm going to pass three tuples
so my first test case was Phi was a test
input and 25 was expected output second
one was 981 and the third one was ten
hundred here what this means is in this
top of this Phi is test input in this
twenty five is expected output so when
I'm doing this let's see let's first run
it and see what happens
just clear the prompt run it again
and you can see that it essentially did
the same thing and here you can see the
test input output and past so this is
pretty powerful
it essentially generated three test
cases out of these three sample inputs
you should use this whenever you see
similarity between unit test cases and
just try to combine them that way you
have less maintenance and whenever you
want to add a new test you just add a
new parameter here and you're done okay
that was all about
PUA test parameterization thank you for
watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>