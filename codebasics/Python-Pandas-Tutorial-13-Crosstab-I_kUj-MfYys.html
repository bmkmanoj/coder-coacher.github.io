<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Python Pandas Tutorial 13. Crosstab | Coder Coacher - Coaching Coders</title><meta content="Python Pandas Tutorial 13. Crosstab - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/codebasics/">codebasics</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Python Pandas Tutorial 13. Crosstab</b></h2><h5 class="post__date">2017-07-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/I_kUj-MfYys" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">dear friends we are going to talk about
crosstab functionality in pandas today
if you look at the definition of
crosstab of vika pedia it is also known
as contingency table or cross tabulation
and it is a type of table that displays
the frequency distribution of variables
now if you don't have any statistics
background you'll be like what the heck
is frequency distribution of the
variables let's look at the example and
try to understand this I have this
survey data where there are different
individuals from different countries and
this data set has their sex and each
along with their handedness it tries to
show whether they are right-handed and
left-handed now for your business
analytics or your research purpose it
might be useful to have this two
variable table where on the x axis you
have a nationality and on the y axis you
have whether individual is right-handed
or left-handed or you could have the sex
like male or female on the x axis and
the y axis can indicate are the
handedness of the person and these two
tables are basically your contingency
table or crosstab and pandas crosstab
can help you generate these tables very
easily as usual I have run Jupiter not
book command on my command prompt and
created this notebook right here and I
am reading this excel file using pandas
read excel method and when I execute it
I get this nice data frame right here
now to create the contingency table I
need to call crosstab method now
remember the cross step method is on
pandas it is not on data frame so I am
doing PD dot crosstab and then here you
specify the variable that you want to
put at a roll
or on the x-axis so for my first table
let's say I want to have nationality and
in columns I want to have let's say
handedness when I run this I get this
nice table so I have two individuals
from Bangladesh who are left-handed so
if you look at this you will see that
both of the individuals from Bangladesh
are left-handed
similarly USA has three people who are
right-handed and you can see that so
this is showing the frequency of that
variable so now you understand what what
is frequencies of frequencies like
number of occurrences and the variables
that I have used here are nationality
and handedness you can also put sex on
x-axis and when I run this now I have a
table saying how many females are
left-handed versus right-handed and how
many meals are left or right-handed okay
now there is another argument that you
can use in Kaustubh method to generate
the total and that argument is margins
so if you supply margins to be true what
will happen is it will also show you the
total so here I have two and three and
this is the total of these two and on
the column level also I get these nice
totals okay now what if I want to have
multiple variables so here I have only
two variables I let's say at a column
level I won't have or the nationality
also okay so that you can do it by
passing this as an array okay so here I
can have the F dot nationality and when
I run it now I know how many left-handed
people are from these different
countries and their frequency
distribution
okay you can do the same thing at x-axis
so I can plot nationality at row level
also by just applying it in your array
okay so now a new study idea is at
x-axis so I have country and then the
sex and their frequency distribution
okay now let me revert this back to my
original data frame here it is showing
the frequency distribution sometimes
it's good to have percentage instead so
for doing that there is one more
argument now I'm not sure what the
argument is so I'm going to open the
documentation now I'm going to tell you
a nice shortcut in Jupiter not book it
is shift-tab so when you press space
shift tab it is going to open the
documentation on that method so here the
crosstab has all these arguments and one
of the arguments here is normalized so
if you look look at the documentation of
normalized it says that normalized by
dividing all values by the sum of values
so if you want to do a percentage at a
row level you will pass the value to be
index so I'm going to now supply
normalize argument and the value will be
index so when I do that what I'm getting
now is the percentage of odd the
individual bed okay so let me just show
you just to have that comparison so I'm
just going to copy this here and pass
normalize to be index so here you can
see that and here let me put margins
just so that you get a perspective also
here or you can see that this is 40%
this is 60%
this is 71% and this is 28 post
okay now what I'm going to do is I'm
going to use one more column that we
have in our survey data which is age now
let's say you want to know the average
age of these individuals in in context
of your contingency table so let's say I
have this table right here okay and now
I want to know the average age of our
females who are left-handed also I want
to know average age of meals who are
right-handed of course in the context of
the survey data that I have so for that
you can supply values arguments you can
say values is equal to DF dot age so age
is your column okay so you want to
analyze these values and then the the
the information that you want to get out
of it is the average all right so you
will say aggregate function is equal to
n p dot average now NP is the number by
modules and you need to import it so I
have imported it here and when execute
it now see I am finding that on the
average age of females who are
left-handed is 44 point five okay so if
you look at all your females here let me
just prove that so I am looking at all
the females okay and all the females who
are left-handed so here I am going to
select left and if you look at their
average age so here you can see that
forty four point five
so that's what I get and if I change
this to write it instead and look at the
average age that average is 31 which is
what you are seeing here there are many
other statistics you can do you can just
just look at the documentation on non py
functions again don't forget to use
shift app shortcut to look at the
documentation on any method alright I
have provided the Jupiter notebook that
I've used in this tutorial in the video
description below if you like this video
please give it a thumbs up comment or
share and I'll see you in the next
tutorial thank you very much for
watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>