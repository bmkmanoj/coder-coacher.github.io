<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Python Pandas Tutorial 6. Handle Missing Data: replace function | Coder Coacher - Coaching Coders</title><meta content="Python Pandas Tutorial 6. Handle Missing Data: replace function - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/codebasics/">codebasics</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Python Pandas Tutorial 6. Handle Missing Data: replace function</b></h2><h5 class="post__date">2017-02-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/XOxABiMhG2U" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">dear friends we are going to look into
how you can use a replace method to deal
with missing data in Python Ponder's now
I have a wizard data for New York City
here where I have temperature wind speed
and events based on specific days okay
and as you can notice I have some
special values here - 9 + 9 9 9 now what
this special value means is the data is
missing but it happens to be that
instead of these values being blank they
are these spatial values okay and this
will happen a lot when you are
downloading data from Internet or
whatever is your source you will notice
these spatial values and while doing
data analytics you have to deal with
them okay so we will see how we can
handle these now first thing we are
going to do is launch a Jupiter notebook
I am going to use Jupiter not book to
write my code you can use py charm or
whatever ID e is of your choice okay and
I'm going to start my new not book here
and as usual the first thing is to
import pandas module I'm also going to
use numpy model here and then you read
your data frame using a read CSV method
and the name of our CSV is weather data
dot CSV and you print your data frame
here so this is how it looks it created
it successfully now I want to let's say
replace all these values with na n okay
not a value so how you do that you can
just say D F dot replace so replace is
the method that we are going to use and
this method takes two parameters the
value that you want to replace so here I
want to replace - nein nein nein nein
nein with N P dot na n okay and when you
print your new data M ay
looks like this so you can see that I
now have any N in place of this spatial
value okay so this looks good
but what happens if I have two spatial
values instead of that I have now
in addition to 5/9 I have five eight
also okay so when you read this it looks
like this now in order to handle it you
can just instead of supplying single
value you can supply a list here so it
is pretty convenient you can just say it
is place these two values with NP dot
and N and you can see that it replaced
these hi-8 with n n so this works great
okay but one of the things that you
might have noticed is here there is no
event well the better example is
actually zero so let's see if you had
zero here and I will tell you why zero
is better than no event okay so let's
see if you have zero here now to replace
vo so I can say okay replace minus 9 9 9
8 and 0 with nan ok so I can just simply
add 0 and it will work but it will be
wrong to do so because this replace is
going through all the columns and
replacing the values now 0 in wind speed
is a valid value so you don't want to
replace 0 in wind speed column so here
what you want to do essentially is
replace values based on specific column
ok so let me first restore it back to
original state and let me read this
again this is how my data frame looks
and now what I want to do is replace
values based on specific column so you
can do that by providing a dictionary
here now what this dictionary contains
is
the name of the column and the value
that you want to replace in that column
so in wind speed and temperature column
I have this special value that I want to
replace but in event column I want to
replace zero okay so when you execute
this you will see that now your data
frame looks much better okay all these
spatial values are replacing n N and
then the zero value in the event column
is replaced with n n ok so this is how
you can do replacement based on columns
instead of doing just a generic
replacement you can also provide a
simple mapping where for example now let
me put no event back here so less I have
no event here no event here and now
essentially in this data frame what I
want to do is replace this value with n
N and this value with an N ok or let's
say I want to replace this value with
sunny so I want to assume that whenever
I don't have any event data the weather
was sunny and whenever I didn't have any
temperature or wind speed data I want to
have NP dot and n so for doing this you
will do new DF equal to DF dot replace
and in this replace you can provide
simple dictionary now this dictionary
system is just a mapping mapping of
value that you want to replace it so I
want to replace Phi 9 with n P dot n N
and also no event with funny okay
so first let me just do this my data
frame looks like this I have no event in
event column and I have
the spatial value in remaining two
columns and then I execute this code you
will see that I had no event at these
two places and now I have sunny there
right because of this and this is same
as the previous few calls that we saw
okay so this is how you can provide a
mapping of what you want to replace with
the new values all right now let's look
at one more interesting scenario let's
say this data had a unit of measure also
so instead of this being just 32 let's
say this is 32 fahrenheit so a data
provider put a unit of measure here okay
and wind speed is usually miles per hour
so let's say I have miles per hour here
my little now looks like this so when
you see the data frame here my data
frame is something like this okay now
this is a little bit challenging to deal
with what you want to do here is you
want to replace all these unit of
measures with a blank value you want to
just chop off miles per hour from these
values and Fahrenheit and centigrade
from temperature column the best way to
handle this would be to use a rag axe or
rag X means regular expression if you
are not familiar with regular expression
then I would HIGHLY encourage you to
take a rag X tutorial so you can just
take a simple wreckage tutorial and kind
of gain an understanding on how regular
expressions work but just to give you an
idea they are used to detect patterns
okay
and whenever you want to replace a
patterns with some other value that's
when you use red X okay now here I'm
going to again say D F dot replace okay
now my first act
argument will be the regular expression
so the regular expression is something
like this wherever I see a non digit
connector a character between let's say
A to Z I want to replace that with blank
in drag X the way you do it is by saying
capital a to capital Z this means any
character between capital a to capital Z
and also any character between small a
to small Z okay I want to replace that
with a blank value and if you just do
this it's not going to work so you have
to say rag X equal to 2 let's see what
happens okay
now you see that it it's removed miles
per hour from these two guys and
Fahrenheit and centigrade from here so
that part worked but it it is entire
event column Y because everything in the
event column is alphabet it it's an on
digit character okay so really you want
to do it based on column you don't want
to touch this particular column so what
I will do is I will use dictionary so
let's say as I move this so you will use
dictionary you will say temperature
column anything that is a alpha alphabet
okay wind speed column same thing
replace that with this blank value now
when you execute this you will see that
your data is in a much better shape
where you have removed all these unit of
measures and your event column is also
now impact cool now the last thing we
want to cover is how you can replace a
list of values with another list of
values now
for this I am going to construct a
different data frame the data frame here
looks like this in this data frame I
have student name and their score so for
example Rob my apart you Julian all
these are the students studying in
specific class and let's hit this code
this much okay so Rob score is
exceptional average good poor and so on
okay
now whenever you are doing data
processing are you often want to have
numbers in the score column so for
example internally let's see I have a
mapping of all these scores to some
number so for example poor will be like
0 or 1 and this would be 2 3 4 and so on
ok so whenever in the next stage of
processing now I want to replace these
guys with numbers so to do that you will
simply supply first list here and the
second list will be the values that you
want to map these individual values so
here what I'm saying is poor is really
one average is two and exceptional is
four okay so do this now when you
execute this you will notice that now
your new data frame has these numbers as
a score this could be pretty powerful
and while doing the analytics you will
end up using this for sure ok that's all
I had for our replace tutorial or in the
next tutorial we are going to cover how
you can do group by so group by is also
an important concept in pandas so stay
tuned and I will have that tutorial
ready in few days also if you like this
tutorial please give it a thumbs up
and thank you very much for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>