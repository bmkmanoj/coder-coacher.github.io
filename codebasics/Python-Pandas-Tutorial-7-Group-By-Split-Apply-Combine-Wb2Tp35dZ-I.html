<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Python Pandas Tutorial 7. Group By (Split Apply Combine) | Coder Coacher - Coaching Coders</title><meta content="Python Pandas Tutorial 7. Group By (Split Apply Combine) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/codebasics/">codebasics</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Python Pandas Tutorial 7. Group By (Split Apply Combine)</b></h2><h5 class="post__date">2017-03-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Wb2Tp35dZ-I" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello friends in this tutorial we are
going to look at pandas grouped by
feature I have this excel sheet which
contains a better data of three
different cities so as you can see that
I have these four rows containing New
York City's weather then I have Mumbai
and Paris Twitter and I want to get
answers on some questions such as what
was the maximum temperature in each of
these cities what was the average wind
speed in every city okay so here I'm
trying to group the data per city and
then I want to run analytics for each of
these groups for such a use case it
makes sense to use pandas group by
feature so as usual I am going to launch
my Jupiter not book by running Jupiter
space not book on my command prompt if
you don't know what is Jupiter not book
or you can go ahead and watch my Jupiter
not book tutorial I also have a tutorial
on how to install Jupiter Northup okay
once it launches this notebook in my
Google Chrome I'm going to go into our
specific directory and then click on new
python corner root to launch a new
Jupiter nozzle now let me first import
pandas as PD and I'm going to read the
CSV file and name of mice PSV file is
weather data and now this will give me
my data frame okay star here means it is
executing the statement okay looks like
it's complaining that this file does not
exist now let me check okay so the name
of my CSV file is whether by sick is so
rather by cities
and when I execute it you can see that I
have now a data frame which contains all
the data that we had in our CSV file now
I'm going to group by this data based on
cities okay so I will run D F dot group
by and here in the bracket you mentioned
the column that you want to use for your
grouping okay so my column name for
cities is sitting so that's what I am
passing as an argument in group by
function okay
now when I run this I will get a data
frame group by object okay now let's see
how this object looks so I have a
pictorial representation of this object
so when you say data frame group by city
it will create this kind of object where
you have keys and values so my key here
is New York and my value is a data frame
containing New York City's data same way
I have key n data frame for Mumbai and
Paris also so now you can see that I
grouped my data based on city so I have
now three different groups each
corresponding to these different cities
okay so this is how your data frame
group by object looks internally now in
my Jupiter notebook when I want to
access each of these groups then the way
to do that would be for CT and a city
data frame in G so there is an eye
traitor that our data frame group by
object provides which you can use to
itíd through each CD and the
corresponding data frame so I am going
to print
city
and the corresponding data frame here so
when I run it you can see that I have
Mumbai as a key and data frame
corresponding to Mumbai as a value okay
so this is how you can go to each of the
data frames also if you want to access
is specific data frame you can use the
dot get group for let's say Mumbai okay
and when you run that you get a data
frame for only Mumbai so this object
that you get in returned is a data frame
okay now if you think about this
particular statement here it is similar
to SQL group bias now if you are
familiar with SQL then this thing is
similar to saying select star from your
table so you're let's say city data is
the name of the table and you can say
group by city okay so if you write is
statement like this in SQL then that's
going to give you similar result it's
going to group your our table records by
city so this is pretty similar to that
SQL statement okay now back to our
original question we wanted to know what
is the maximum temperature in each of
these cities in order to know that
answer you can simply run G which is
your data frame group by object dot max
okay so when you run that you get a
maximum temperature reach in each of
these cities you can see Mumbai it was
92 New York 236 Paris it was 54 so you
get max for pretty much all the columns
are so this is really interesting
because now what you're doing is
you are first dividing your data set
into different groups based on city and
then you are running analytics on each
of these groups and then you are
combining the results into this single
data frame so this process of dividing
your data into multiple groups and then
applying some analytics to get
aggregated result is called split apply
to mine and I have a pictorial pictorial
representation for that process here so
as you can see here in the first phase
when we did group by we split our data
set into smaller groups then when we
call any function we call max but you
can also call median or average etcetera
so that process of applying some
operation or a functional on each of
these groups is called apply and then as
the next step you are combining those
three results into a single data frame
so that rule that step is our combined
step so if you ever come across this
terminology split applied combined then
now you know what it means okay now
we'll get answer on our second question
which was what is the average speed this
wind speed in each of the city so you
can just run G dot mean it's going to
calculate mean or an average for each of
your columns so now we know that in
Mumbai the average wind speed was 9.25
new york it was eight there is 12 12.75
and so on if you want to get all the
analytics in one shot then the easy
function is G dot describe that's going
to give you all the various statistics
so for my mumbai standard deviation mean
25 percentile count see it gives you all
those results okay you can also
do some plotting so let me just do
percentage match plot lived in line this
is how you can print a matplotlib chart
in your QP tonight not book and I'm
going to just do G dot plot
okay so G is my group by object and I am
just calling a plot function so when I
plot it it is giving me three different
plots okay and these plots corresponds
to temperature and wind speed in each of
these city so the first plot is for
Mumbai second body for New York and the
third one is for Paris okay alright so
that's all we have for group by tutorial
or I have just cover some basic
fundamentals but there there's much more
that you can do so if you read through
bondas documentation so here we have
funders documentation and if you go to
this particular section group by then
you will see a whole lot of new methods
and new features that you can find all
very useful okay oh I have distributor
notebook and the CSV file saved on my
github link which you can find in the
video description so feel free to
download the notebook and the CSV and
then play with it just just try
different things and you will realize
how powerful group by feature is okay so
that's all we have for this tutorial in
the next tutorial we are going to look
at merge and combine and aggregation
functionalities in pandas all right
thank you for watching bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>