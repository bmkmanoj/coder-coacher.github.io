<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Machine Learning Tutorial - Making a recommendation engine IN THE BROWSER | Coder Coacher - Coaching Coders</title><meta content="Machine Learning Tutorial - Making a recommendation engine IN THE BROWSER - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/LearnCodeacademy/">LearnCode.academy</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Machine Learning Tutorial - Making a recommendation engine IN THE BROWSER</b></h2><h5 class="post__date">2018-03-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/lvzekeBQsSo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this video we are going to build a
machine learning recommendation engine
completely in the browser using
javascript it's gonna be a lot of fun
and the problem we're going to solve is
I want you to suggest to me good color
themes for my text editor for me and as
you can see I've got it going here and
it's it's choosing some pretty nice
themes if you've ever followed my videos
before you can see that these look a lot
like the themes that I choose to use day
in and day out so it is definitely
working and it works completely based on
my ratings of randomly generated themes
which often times are ugly themes like
this one yuck that's gross but as I vote
the neural network gets better and
better and starts recommending better
and better themes I have about thirty or
forty votes under my belt right here and
it's really good so let's kind of walk
you through what you have to do to make
a recommendation engine it's pretty
similar to what we did in the last step
we're going to start by making a new
network and I'll just kind of plunk out
some code here and then we'll walk
through the actual code that I've built
so we'll make a new Network and then
we're going to train it with our data
and the data is the color schemes that
we have voted on and our voting response
so it'll look something like this
so we have an array of training data in
each piece of training data will look
like this it'll be an input and an
output so the input is going to have
twelve dimensions to it this time twelve
inputs the input values are sometimes
called input neurons in machine learning
are sometimes they're called input
dimensions so we're gonna have twelve
neurons we're gonna have the RGB of our
background color and then the RGB of our
three colors with our color scheme you
can see we basically have four colors
background color one color two and color
three so we're basically going to just
do an array to keep it simple instead of
doing a named object values so we're
basically going to have RGB of
backgrounds I'll just use all zeros for
now color one color two and color three
so that's what our inputs is going to
look like these are going to be an RGB
value between zero and fifty and these
are going to be an RGB value between 50
and 255 so I'm kind of giving it an
initial parameter if we're doing a door
background in light text and then the
output is going to be a score it's going
to be what you clicked on with your
stars which is going to be basically a
score between zero and one so you're
gonna rate does this color scheme get a
0 or 1 or somewhere in between for me so
we're gonna build up that training data
and then we have a trained network which
is also called a model so once we once
that network is trained we're going to
generate a hundred thousand different
possible color schemes which may sound
like a lot but there's actually 10 sep
2014 22 are gonna make the
recommendation engine we're gonna train
a model we're gonna run a bunch of
values through that model and then we're
gonna pick the highest-scoring values
and return them to you you can see here
we have the highest-scoring values and
let's go and get into the code I'm going
to show you how it works we'll give you
the code at the end of the video and you
can have fun and play around with it so
we've made this fake editor wrapper here
and I basically copied some text some
code and then I wrapped the different
portions in spans they're gonna get
color one color two or color three class
color one class color two class color
three so this is just a fake editor here
with text and so when we generate random
colors we're just going to find
everything color one give it color one
find everything with class color two and
color three so on here's our stars and
then here's the themes ID that we're
gonna pop all our themes into a little
bit of CSS not too much just to kind of
make this page a little more beautiful
for you and then we're on to our theme
generator code so we're gonna do here as
we start by just kind of grabbing all of
those selectors on the page we
initialize the training data in local
storage yeah so that way if i refresh
this page I still have all my training
data yay so we started off by being an
empty array unless it already exists
and then we create this current colors
object and we generate random colors
into it so this object right here
represents the colors of the scheme or
the theme that you're voting on right
now we have a background color and we
have one two three color options you can
see that when we generate random colors
we get some ugly stuff I mean there's
some bad color combinations out there if
you're just doing it randomly so we
generate a random theme which populates
it here and then we predict theme
combinations so basically all we do at
this point is we listen to the stars and
as you click on a star we're gonna turn
that into a score so if you click on
star number four index four which is
number five because they go zero one two
three four if you click on four that
gets divided by four and turns into a 1
so these are going to be a score value
of zero to one if you remember from the
last video everything needs to be a
value of zero to one and here's what our
training data looks like we're basically
going to have an input array of the RGB
values we've gone from having an input
array of three values to an input array
of 12 values RGB for our background
RGB for color 1 2 and 3 and a
machine-learning these are oftentimes
called neurons input neurons or input
dimensions so we have 12 input neurons
12 input dimensions and we only have one
output dimension and that is our score
so when you click on a star we take the
current dimensions from here for our
input dimensions and we take the star
value that you just clicked on and
that's our output dimension so there we
have it we have our 12 input dimensions
whenever you click on a star this saved
training data runs we save our 12 input
dimensions and our one output dimension
onto local storage and now we can go on
to predict theme combinations so
basically we create a new neural network
here every time you click so we're gonna
make a new neural network we're gonna
train it with the data that we got off a
local storage and then we're gonna
generate in this case we have 10,000
combinations here let's change that to a
hundred thousand so we're gonna create a
hundred thousand random
which is just a sampling of the possible
themes out there again there's about ten
septums out there with what we're doing
here so we're gonna take those colors
and create our own input dimensions
again we're gonna run them through the
network and get that score out of the
output dimensions and then we're gonna
push those results all onto a results
array we're gonna sort them by score and
then we're gonna take the top 20 and add
a new theme this is our adding a theme
function here which just basically
templates it out takes those colors and
spits it out onto the page for you along
with the score and the RGB values that
it's using that's it so it took me about
an hour to do most of the time I was
spending figuring out the HTML the CSS
and some of these helper methods here
like generate a random RGB value and
generate a random background RGB value
also a helpful note here is the
background is always going to be a
number between 0 and 50 because I want
dark backgrounds so that is one
constraint that I put on the system and
then the foreground colors are all going
to be between 50 and 255 because I don't
want black text on black background so I
did kind of give it a heads up a leg up
on the game we're doing dark background
themes here but as you vote these
recommendations just keep getting better
and better for you and it's actually
kind of surprising how if you just give
it 10 negative votes because sometimes
it takes 15 to 20 times for you to
actually get a pretty random color
combination but it was interesting to
see that just by negatively voting the
network started predicting some decent
themes for me after 5 or 10 clicks so
there you go the the codes in the
description go ahead tinker around with
it have fun with it and that's how you
make a basic prediction recommendation
engine completely in the browser using
JavaScript</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>