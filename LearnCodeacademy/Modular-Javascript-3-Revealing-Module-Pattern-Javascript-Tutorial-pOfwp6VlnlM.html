<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Modular Javascript #3 - Revealing Module Pattern Javascript Tutorial | Coder Coacher - Coaching Coders</title><meta content="Modular Javascript #3 - Revealing Module Pattern Javascript Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/LearnCodeacademy/">LearnCode.academy</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Modular Javascript #3 - Revealing Module Pattern Javascript Tutorial</b></h2><h5 class="post__date">2015-07-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/pOfwp6VlnlM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so in the last video we covered modular
j/s with the object literal pattern so
once again that's that's called a design
pattern that's kind of a way that you
code and once again that was an object
literal and again that's just making an
object people equals an object and
objects have properties name and then
say name alerts we'll there we go and so
one of the things that we don't like
let's say we had set name and whenever
the name got set we wanted to render the
method so we had some rule that whenever
this dot name equals a new name whenever
this dot name equals a name we always
want it to render at the same time so
it's really bad if someone who doesn't
maybe maybe you're providing a library
to be used as a third party piece of
software people shouldn't have access to
this because you never want them to just
automatically change people dot name and
just go I don't know what that's all
about you never want them to go people
name equals Bob because then it's not
going to render bob has now just changed
but nothing happens so they don't know
how your program works they should only
have access to say say name and set name
they shouldn't be able to change this
and so this is not necessarily always
the pattern that you want to use there's
also what's called a revealing module
pattern so in this case instead of being
an object it's actually a self-executing
anonymous function and so for those you
guys who are concerned or may have seen
this before and and don't quite
understand what that means I know I used
this for I'd say a year when I started
JavaScript but I never really understood
exactly how it did what it did or what
it was so let me take a slight little
tangent and show you I can go very
equals one and then I can go a dot to
string and that's going to give me the
string representation of my number one
so that works but I cannot go one dot
two string that's going to fail because
one is still just a number at this point
it has not been evaluated when you say
they're a equals one one gets evaluated
it says oh okay that's a number type it
actually gets converted into a number
type and number types have methods I can
go a dot see it's got two fixed to
string two precision it's got all these
methods to it now I can do this I can do
in parentheses one dot two string and so
when you put into parenthesis it forces
JavaScript to evaluate it first and then
treat it as the evaluated thing so this
is basically doing the same thing it's
just not getting assigned to a variable
so this is going to work and I'm going
to get one so the same thing applies to
a function I can create a function here
say alert but I can't run it I can't run
it right away because it's not been
evaluated I can however wrap it in
parentheses and now it gets evaluated
and it's a function and then I can
execute it and it alerts so that's
basically all we're doing we're just
writing out a function we're wrapping in
parentheses here so that way it gets
evaluated and then we can execute it
right away we can even pass it variables
I could say will and then up here I
could receive a name do something with
my name in here so that's kind of cool
we can actually pass this brand-new
functions and variables so that's what
that is if you're a little newer to that
and you're not exactly sure what's going
on and another cool thing happens is we
create our own scope so I could go over
name in here equals will and nobody
outside of my function can access that I
can't alert name this will fail because
it's within the scope of this function
it's not a global variable I could even
have if I did vary name equals Bob up
here then alerting name would alert Bob
even if I've already run this because
their name inside of this function is
will vary name out here globally is Bob
so what that gives us the ability to do
is create what are called private
variables variables that only exist in
our scope here any function inside of
here can access it so if I have a
function that says say name
let's go function say name equal what am
i doing and that alert name well that's
going to have access to wheel so that
alert
we'll and right now if I run this this
function is not returning anything so
people won't have a value but what I can
do is I can return an object and that
could have a value of say a name and
then I just have to pass I don't know
say name so I'm passing say name in as
say name so I could also say I could
call this say your name and it's still
just going to fire your say name so
let's go ahead and do this let me copy
this let's just paste this straight in
there we go there's my object literal
and that's going to alert name why did
that do that yeah
because I don't want you go away let's
just copy this in straight into my
console and now I can go people let's
look at what people is people as an
object and it's got one thing on it I
can run say name so I can go people dot
say name and that's going to alert will
I cannot go people dot what name equals
we'll change that to Bob it's going to
say well it's going to set it well
it's going to set it so now name equals
Bob but that's not the same as a
variable that's just added Bob onto this
object which doesn't do anything so name
is still private name is still
accessible
if I run people dot say name again it
still says will awesome so will is
really untouchable the only thing that
can touch it is the function that I
allow to be exposed so this is the
revealing module pattern so let's kind
of show you this people adder in a
revealing module pattern I went ahead
and coded it out for you there people
equals this function so with inside of
this function I can now kind of do much
more of that vanilla JavaScript kind of
style I don't have to do all that this I
don't have to do all the methods that
you saw previously
I can go very people equals this and
then I also don't need an init function
this is my init function so it's
automatically going to do anything I
want it to do this executes right away
so I just want to maybe add a comment
just to kind of add my own separation of
concerns
let's cache the Dom let's bind some
events and then let's render and then
I'm going to create all my methods here
and then I'm going to expose the ones
that I want to expose out into people so
you notice I have three functions I have
render I've add person I have delete
person but I'm not exposing render out
I'm just exposing add person delete
person so let's go ahead save this let's
restart this what did I call that I
called it people okay still people so
people let's see what I got
I've got add person and I've got delete
person all right pretty cool so let's go
ahead and do add person again let's
let's do that thing there was one
problem I had before so let's say I have
value and let's say the name equals if
value is type of string let's let's do
it like this if I pass it in a string
then I want to use value as the name
otherwise I'm going to get it out of the
input the reason I have to do this is
this is going to be an event if you
click this button right here then it's
going to listen to the button click and
it's going to call add person and
there's going to be that click event
right here so I don't always want to use
the value I only want to use the value
as the name if the strif a string was
passed in because if it's a javascript
event then that's going to be an object
if it came from up here if I'm firing
add person from up here this will be an
object so I don't always want to use
that I only want to use that if it's a
string so if I pass in a string then we
use that as the name
we'll use value otherwise we'll actually
get the value out of the input and then
we'll just push name here we go so now
my API I should be able to go people dot
add person tests there you go now I can
add a person all I want I should be able
to add a person here as well excellent
so I should also be able to go people
dot delete
person except for I don't know how to
delete a person so let's just say that's
an event if events let's do that let's
do this go ver I if event type of event
equals a number if it's a number then I
equals events else we have to get that I
by doing the index let's hope you watch
the last video you have no idea what's
going on there we go then we're going to
splice it out and we're going to remove
it so that's what's going to go on there
that should work as well so now I should
have a public method for delete person
let's delete person one nice Steve is
gone let's see if this one still works
will is gone excellent so I should be
able to add some people let's add test
add test to let's delete person one
let's delete person zero excellent so
now we kind of have this API going on we
can't control the rendering we can't
mess with this people array but we do
have control over exposing an add person
and a delete person function and what's
kind of cool is we can keep these
internal methods whatever we want to
call them here's a very common thing is
if something's private if its internal
you'll see an underscore there so let me
go find everywhere that render is called
and give it an underscore underscore
usually means it's private we're storing
this internally we're never exposing it
so that's kind of an indicator that this
is not ever going anywhere we use it and
then these are the ones that actually
get used out that'll still work make
sure I didn't blow anything up yep we're
good so I'll just put the code up there
in code pen and let you look at this and
that's a revealing module pattern and so
then if we have some other module that
other module can consume it as an API it
can talk to person dot add person person
dot delete person and it can't blow
anything up it's a safe module</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>