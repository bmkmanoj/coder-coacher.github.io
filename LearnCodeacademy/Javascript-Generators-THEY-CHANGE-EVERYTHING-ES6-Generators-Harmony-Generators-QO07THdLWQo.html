<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Javascript Generators - THEY CHANGE EVERYTHING - ES6 Generators Harmony Generators | Coder Coacher - Coaching Coders</title><meta content="Javascript Generators - THEY CHANGE EVERYTHING - ES6 Generators Harmony Generators - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/LearnCodeacademy/">LearnCode.academy</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Javascript Generators - THEY CHANGE EVERYTHING - ES6 Generators Harmony Generators</b></h2><h5 class="post__date">2014-08-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/QO07THdLWQo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all right we're going to be covering
generators which are one of the most
exciting I'm just gonna be honest
they're hands-down the most exciting and
powerful feature of the next version of
JavaScript which is es6 harmony you can
start using it now using Google tracer
I'm going to put the links or I guess
the name right there you can figure it
out it's so easy to use but generators
are hands down a game-changer I know
that that's a big statement to say but
it is completely true it took me a while
to realize that they were a game-changer
because when you look at the specs of
what a generator technically is at first
it doesn't really seem like that useful
of a thing and then you have a light
bulb moment and everything starts
changing for you so I'm going to show
you technically what a generator is how
to code with it how to use it and then
what that lightbulb moment is and why
it's going to change so much of the way
javascript is programmed so here's a
basic generator basically the only
difference is it's got the star which is
how you define it as a generator and
then you can yield things you can set
yield points and basically what a
generator is if you were to define it
very simply it's a plausible function or
an iterable function you can start
running the function and then when you
get to your yield it will actually stop
running the function while JavaScript
continues doing everything it's good
it's doing this function has paused and
yield sits between the value you yielded
and what it's passing on to the variable
basically yield sits between here and
what the rest of JavaScript is going to
do when you continue your function
because you know JavaScript basically
runs right to left right to left right
to left so you yield one let's go ahead
and move on to this example I'm going to
run my Gen which is the name of my
function and it's store it as Gen when I
run it nothing really happens it just
gets it set up
nothing is started firing yet in my
function until I run Gen dot next and
then it runs until the first value has
been yielded so here you can see value
one done false and then it's going to
wait
at this yield point until I run Jen next
again and so then it's going to return
value to see there you go I yielded
about the number two and then next time
it's going to yield the number three and
then the next time it's going to yield
undefined because it ran the next the
rest of the function and there's no more
yields and it's going to say done true
so now I'm done if I were to foolishly
try to run next again it would error
because you can't call next on a closed
generator so that's basically what it is
you can pause it and yield stuff it
doesn't seem very useful yet does it and
there's actually a problem with my code
here
is this is going to console.log
undefined undefined undefined undefined
because these values weren't set to
anything remember when I said yield sits
between here and here well basically
whatever it's going to wait for
something to be passed to the next gen
next function so right now I'm not
passing in anything so I yielded one out
but when you resume to the function you
didn't give me anything to pass back in
so one is now undefined so to make this
code work I'd have to yield one so I
passed one out here and then I'm passing
one back in too so now 1 does equal 1
and then 2 and then 3 so now it will
console.log 1 2 3 and I could actually
if I were to yield for 5 a so basically
ignore what you passed me I'm just going
to pass in random stuff then 1 is now
going to equal 4 and 2 is going to equal
5 and 3 is going to equal a and so
because that's what I passed into the
next functions so that's a generator
seemed pointless it's not let's say and
here was my light bulb moment let's say
there's smart code that wraps a
generator let's say you pass a generator
to a smarter function that looks for
promises if you don't know what promises
are you need to pause right now and
watch a video that I'm going to put in
the description my previous video on
JavaScript promises and then come back
to here so let's say we had a smarter
piece of code here and your
to pass it a generator say my Gen and it
would run that and get it ready to run
and then it would run gen next and we
get that yielded value if that yielded
value was a promise which this is a this
is really dumb smart code you wouldn't
check this way but you know I'm just
kind of saying say yielded value how to
then method then it would wait for that
yielded value that promised to resolve
and it would pass that resolved promise
into your gen next function so then you
could write code that actually did
something like this so you can actually
run code that said API friends so run
API friends yield is going to see oh
that's a promise I'm actually going to
wait to that promise resolves and then
I'm going to actually pass the resolved
value of that promise back on to 1 so if
API friends returns something like uh
John you know just I don't know let's
just say it returned a string of John
then one would equal John whenever this
promise resolved ah super cool so now I
can actually do something like this get
friends get profile get tweets and it's
going to run this wait for it to
complete pass it into here and then run
the next thing and now my code looks
like it's just normal synchronous code
but it's actually asynchronous code
happening over the span of I don't know
20 seconds 20 hours it doesn't really
care it's just waiting for all these
things to fire back as successful oh my
goodness that's super cool so how do I
actually get this smart wrapping code
there's multiple libraries out there
right now that already provide it for
you Bluebird Co Q if you're working on
the browser side client side I'm going
to say go Bluebird if you're working on
nodejs the backside I'd say go with Co Q
is actually already provided in angular
so if you're using angular q is the
promise library that's baked into that
but you can do this you can run promise
if you're using Bluebird promise Co
routine so
tweets equals yield get tweets and then
we're going to console.log it that's it
I got the tweets and I console.log them
let's say I needed to do three things in
order I need to get two tweets that I
need to get the profile then I need to
get friends well here you go it's going
to wait for this on the yield pass it in
then it's going to wait for this yields
pass it in going to wait for this yield
pass it in when all three are successful
it's going to fire them into here oh my
goodness that is so cool
but you can do even cooler things you
can configure Bluebird to be able to
yield objects of promises or arrays of
promises I have an array of promises
here so I can do an object here I can
yield tweets and profile and it's going
to run them both simultaneously wait for
them both to succeed and then it's going
to pass them both into data as tweets
and profile and then I can console log
data tweets and I can console log data
dot profile by the way all this code I'm
going to put into a gist and put that
link in the description so you can
access this code and see it but you can
also using the new D structured syntax
in es6 since you're probably already
using tracer tracer however the French
would pronounce that word correctly you
can use D structured syntax which means
you can go there a B equals 1011 and
what that's going to do is variable a
equals 10 variable B equals 11
CoffeeScript does that if you guys are
have used CoffeeScript so I can say
variable tweets profile equals yield and
give in an array of these two guys and
then I can just console.log tweets and
profile it is so cool it is so useful I
hope you guys love generators as much as
I do I'm already using these things in
production on several little projects
and I'm so excited about them hope you
have a great day and enjoy the rest of
your JavaScript life</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>