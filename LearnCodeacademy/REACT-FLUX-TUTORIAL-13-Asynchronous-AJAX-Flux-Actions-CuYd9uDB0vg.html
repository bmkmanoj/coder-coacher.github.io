<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>REACT FLUX TUTORIAL #13 - Asynchronous &amp; AJAX Flux Actions | Coder Coacher - Coaching Coders</title><meta content="REACT FLUX TUTORIAL #13 - Asynchronous &amp; AJAX Flux Actions - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/LearnCodeacademy/">LearnCode.academy</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>REACT FLUX TUTORIAL #13 - Asynchronous &amp; AJAX Flux Actions</b></h2><h5 class="post__date">2016-02-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/CuYd9uDB0vg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">one of the first questions you'll get
when people are learning flux is with
actions well this seems great for all
these synchronous actions that happen
inside of the application how do I
handle asynchronous actions like let's
say I want to load data from another
page and then create an action when
that's done well that actually is a lot
simpler than it may seem at first let's
change this I've got this web app here
with a create button it just creates a
timestamp to do you see every time I hit
create create it creates a new one so
let's change this button to load or
reload let's say that's going to
actually reload - duze reload - duze and
we'll go to do actions reload - duze i
don't really need to pass it any
information so now we just need to
create this reload - duze action so
reload to do is would normally do
something like say you know it's going
to call Axios or
you know jQuery AJAX if you're using
that still Axios and we're just going to
get some URL some URL comm some data
endpoints okay so that's going to do
that and then data it's going to have
all of our data here so we want this to
kind of notify my app when all the data
comes through how do we do that to fake
this I can just use a set timeout and
really all you do is you just dispatch
multiple events so we're going to go
dispatcher when we first start loading
our event I'm going to say fetching or
fetch - duze so I'm going to fire off a
fetch - duze event just in case anybody
cares about that maybe there's a loader
that's going to start loading
maybe my - duze is going to listen to
that and change - duze this state dot
loading - true so then we can now spit
out a
loader on the page I said maybe maybe I
can listen to more than just the to do
store change event maybe I can listen to
something else so we're going to start
off by firing a fetch two dues event and
then we're going to go ahead and start
our Ajax operation which I'll just
pretend by doing a set timeout and let's
say a second later which is a long time
but it helps to visually see it second
later we've got our data awesome so now
we just dispatch a second event type is
receive to Do's and let me say there's
some data in here so this will come with
some data may be that you know Ajax
returns some data for us let me go to
that to do store and kind of snatch this
out and we'll make this thing receive
some new - dues after one second so the
second after you hit the button it's
going to pull in some other mumbo-jumbo
let's create some fake IDs here and
we're going to go shopping again we're
going to hug your wife not your wife hug
your own wife and let's say that that
one's true because we should do that
often good husband so there we go so
we're going to dispatch the event that
we fetch start to dues and then we're
going to fetch our other event when we
receive to dues let's say there was some
sort of problem if something goes wrong
then you can actually dispatch receive
to dues error and this will be like what
goes wrong or fetch to dues error
probably makes more sense so we didn't
receive anything fetch to dues error so
we could respond to the fetch to do
zaire let's go and load this up to Do's
save it all so again I'm going to hit
this reload button and when reload
button fires we're going to call to do
actions reload to Do's at the very
beginning we're going to fire fetch to
dues we're going to dispatch that and
then one second later when we've loaded
them up we're going to fire receive to
dues now the store doesn't have a
receive to dues method yet so we need to
do something when receive to do is comes
through so receive to dues
we're going to receive to dues and you
could actually just go this to do is
I'll just hack this in here this to dues
equals
action to dues I think that's what I
called it didn't I type I didn't give it
a name there we go so I'm just patching
a type of received to dues and it to
dues value will be the array of new to
dues so there we go if you're if we're
receiving today's let's just wipe the
whole thing and let's fire this dot emit
change got to make sure we omit that
change so our component knows to update
no errors that's good
reload and a second later we've got new
to dues let's try that again let's
refresh our page so we've got go
shopping and pay water bill if you
reload goes to the server and a second
later we've got our updated to dues so
that's how you handle your async
operations in flux</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>