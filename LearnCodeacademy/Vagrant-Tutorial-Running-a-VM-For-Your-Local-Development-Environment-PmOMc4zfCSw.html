<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Vagrant Tutorial - Running a VM For Your Local Development Environment | Coder Coacher - Coaching Coders</title><meta content="Vagrant Tutorial - Running a VM For Your Local Development Environment - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/LearnCodeacademy/">LearnCode.academy</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Vagrant Tutorial - Running a VM For Your Local Development Environment</b></h2><h5 class="post__date">2014-07-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/PmOMc4zfCSw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so if you are at all passionate about
server administration or DevOps or
making deployments or if you're wanting
to get into that world vagrant and you
don't know a vagrant is vagrant is
awesome it is a tremendous tool for
learning all that stuff basically what
it does is it allows us to on-demand
spin up virtual Linux boxes you can spin
up four of them on your machine and run
a you know run a load balancer and test
failover stuff where you could spin up a
virtual vagrant box and configure it and
try to do deployments to that virtual
machine it's a great playground for
learning stuff and it's very useful for
a lot of other things so let's go ahead
and get into how to use vagrant to spin
up a virtual Linux machine and later on
once I'm done I'll kind of tell you some
more philosophy on why you should use it
for local development environment
instead of WAMP or MAMP
or stuff like that and how devs are
using it but for now let's get into the
fun stuff and let's actually use it
you're going to want to go to vagrant up
comm and you're going to want to
download it you're also going to want to
go to if you don't have VirtualBox
installed yet virtualbox.org and
download it and install it and all of
this will by the way be in a gist that I
will put in the description so I don't
leave you hanging and so those are both
installed I should be able to go vagrant
- V and you should be running one 5 or
newer for what we're going to be doing
today so then all you have to do is go
to vagrant cloud comm and we are going
to pick some boxes that we want to
install on our system so go to vagrant
cloud comm and go to popular and the
most popular ones are the precise 32
abun - box and the precise 64 64 is more
powerful but it's going to consume more
RAM on your computer this precise 32 bit
takes about 300 megabits of RAM
megabytes of RAM to run and this takes
more like 5 or 600 so I usually run the
32s unless I have a reason to run the 64
bit system because I can run a whole lot
more of these especially if you only
have like 4 gigabytes of RAM or so
you're going to want to run a 32-bit so
what you're going to do is vagrant box
add and then that and that
download that box image they won't
install anything on your system yet it's
just going to put that box on your
machine so Nate we can now spin up you
notice I've downloaded it before it'll
take you a few minutes to download it if
you have not but now I can spin up as
many precise 32 boxes as I want as long
as my computer can handle it so now
you're just going to go to you know
install as many boxes as you want and
now you go to the folder that you want
to be running to actually create your
VirtualBox in and you're going to go
vagrant in it and once again that let me
see if I can do no I can't tab and have
it auto correct high-score precise 32
there we go so I'm going to now in it
that and now I can go vagrant up and so
now I'm going to spin up my precise 32
box it's going to import the image it's
going to start booting up my Linux box
and it's also going to add a vagrant
user and create SSH privileges for that
user so I don't need a password there we
go now I'm running a Linux box on my
machine so I can now go vagrant SSH and
it's going to SSH in as my vagrant user
so there we go I'm now on the precise 32
box as far as my computer is concerned
this is a server out on the Internet and
I am SSH into it so I can go sudo
apt-get install gits I'm going to start
installing github on my new machine
that'll take a little while probably a
minute or two so I'll cancel and pretend
that was successful so there we go I'm
going to exit out now and let's go and
make this even more realistic let's give
it an IP address and a domain name so we
can actually run it as a webserver and
as a fake domain name so we don't even
need to purchase hosting let's go ahead
if I LS I exit it out of that box and
I'm back on my machine and so what you
can do now is let's go ahead and open
that vagrant file in sublime text I'm
going to change syntax to Ruby so it
looks pretty okay
so it created a vagrant configuration
file for me and the only line in it is
this all the other ones are just kind of
some boilerplate stuff for me and the
only thing I'm going to add is I'm going
to uncomment this private networking and
I'm going to give it an IP address five
5.5 5.5 $5 you can make up pretty much
whatever you want
and so my IP address is going to be
running that I'm going to save and quit
and now I'm going to run vagrant reload
so now it's going to reload my box with
my new configuration it's going to shut
my box down reboot it and now I'm going
to be running you'll see that it is now
making a connection to something it
doesn't spin forever it makes a
connection to something but it stops
right away so it doesn't really know
there's there's no Apache or there's no
web server running on my Linux box so
the connection goes through but I don't
get an HTML file or anything so let's go
ahead and install nginx let's go I'm
going to vagrant SSH so I'm going back
into my box if you're not familiar with
nginx nginx is like a substitution for
Apache usually it's what you use when
you're running an ojs application in
production we'll get into that in
probably the next video so let's go sudo
apt-get let's update our apt-get
application real quick that's always a
good idea whenever you spin up a box the
first thing you should do is run apt-get
update apt-get install nginx so let's go
ahead and install the nginx web server
it's very light takes almost no time
that's done and now all we have to do is
go service we do sudo service nginx
starts there we go it started and now if
I run there we go welcome to nginx
is my default so now I am running a web
server on 55.5 5.5 5.5 now the only
thing I want to do is I want to actually
make this map to a domain name so let's
go ahead and go we're going to go sudo
open et
see slash hosts and we're going to do
this in I'll do in sublime text so here
we are if you've never messed with a
hosts file before it's it's very basic
there's basically just two rules don't
change anything that's in here already
the other rule is any IP address you
type in you can assign a domain name to
it so now when anything on my machine
goes to my awesome site comm it's going
to send it to this IP address instead of
whatever IP address it would normally
send my awesome site comm to I'm going
to save it it may ask for your password
and so now I should be able to go to my
awesome site comm and there you go it's
going to my new server welcome to nginx
so what we've just done is we have spun
up a linux server you can now configure
it however you want to and you can then
make sure that Mile some site comm goes
to your server instead of whatever IP
address you'd normally go to and so what
lots of times people will do is they'll
actually do this is they'll go dev my
awesome site comm ask for my password
and so then you'll go to dev my awesome
site comm for your local machine and
they'll go to Maya some site comm for
your production machine so I want to
talk real quick about why you would do
this two reasons one you want to play
around with Linux machines and you want
to be able to destroy them when you're
done okay so that's that's a great
reason right there the other day I was
running I think I already mentioned I
was running you know tons of Linux
machines behind a fake Linux machine
running a load balancer I was able to
see what happens when memory started
getting low on this machine and all
these other things you can totally run
tests you can set up a fake server and
practice making command line deployments
to that server without blowing up your
production server so there's that
there's just practice and then the other
big big big big big way that people are
using vagrant is they are running a
vagrant file in the repository for their
project and so what this is
going to do is whenever your project is
open you're going to be able to instead
of running map which will install
install Apache my sequel and PHP on your
Mac or on your Windows machine you can
actually just run a vagrant box that's
configured exactly like your production
webserver and then you can give it an IP
address and a domain name like dev dot
my awesome website com
and so now you don't have to your
machine is not tied to one project
because lots of times what will happen
is a dev will have a problem on their
machine but they're not seeing that
problem on another devs machine because
they're running a different version of
PHP or they're running a different
version of Ruby or they're running a
slightly different version of Mac OS 10
or something and this way the code
you're writing is running on the exact
same VirtualBox
that all the other devs on your team are
running their code on another nice thing
is that whenever vagrant makes that SSH
connection you can actually access all
the code from your repo right here from
within the virtual machine so the
virtual machine is running and it's
running the code from your github
repository that you're editing on the
machine you're on now if that makes any
sense it basically solves the problem of
well that doesn't happen on my machine
was it happen on your machine which
happens to developers all the time so
there's my spiel there's my little
soapbox presentation for ya I hope you
have a ton of fun with vagrants in the
next video we're going to be getting
into running we're going to run a
vagrant box and we're going to install
nginx as a front end to our node.js
application and then after that we're
going to set up a load balancer so nginx
can be running to multiple nodejs
servers and handling fail overs and
stuff like that
hope you enjoyed the video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>