<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Rapid Prototyping with Ionic 2 and Node.js - Part 1: Backend | Coder Coacher - Coaching Coders</title><meta content="Rapid Prototyping with Ionic 2 and Node.js - Part 1: Backend - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Simon-Grimm/">Simon Grimm</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Rapid Prototyping with Ionic 2 and Node.js - Part 1: Backend</b></h2><h5 class="post__date">2017-01-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/P1TaupEojBc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey everyone what's up this assignment
from left acting this is the first part
of a three part series on rapid
prototyping with ionic 2 and nodejs
and in this first part we will develop a
very simple node.js server let's dive in
and create a new NPM server if you run
NPM in it you will get asked some
question most of them you can simply
skip with return but for the entry point
let's define the server Jas file and the
rest can simply state as it is currently
ok so this will only create a very
simple package jason with some
information additionally to create a
little api we need to install some NPM
package I just copy them in here so we
have Morgan cause express our and LAN
Mongoose body parts and Herman all of
these do some useful stuff for our
server maybe the most interesting is
Mongoose because we will use a MongoDB
for our database and if you have
installed MongoDB you can simply run
this command from your command line and
this will start the database server if
you have not installed simply Google
MongoDB install or whatever it's quite
simple and very easy to install so let's
dive into our code we need some
additional files first of all we need a
convict JSON we can already pasted in
everything we need here because it's
very simple we just want to define the
connection to our database here which is
currently at localhost and my one is
called def tactic rapid back-end if this
is not existing I think it will
automatically be created additionally we
need some more files I will tell you in
detail what all of those are doing in a
second and we need to do routes j/s
alright first of all to connect to a
MongoDB we need to define a database
scheme and this well quite simple we
want to have a to do inside our database
which will have a text which obviously
should be required and also we put in a
created date because well why not
for this created date we also use this
pre save function in which we will get
the current date and if there is no date
set for the current to do we will simply
set the date now so every time we save
in you to do this will run check if we
have a created at date and if not at the
date finally we need to export our model
and call it to do and this is the one we
can import in other files later on so
this is our to-do J's it's already
finished let's go to our route and
finally we will build the style over the
roots so first of all we need to get the
Express server and then we need to get
the apps so we can define the routes for
our app
so this is our app and finally as I said
before we need to import the to do we
just created so we simply require our
to-do file we don't have to type J s it
will be automatically added let's start
with a very simple get method and this
get method will get all of our to duce
inside the database okay and it will be
available at the root / - duce so what
we need to do is now we use our database
model from MongoDB and we use the find
method and as we simply want to find all
- dues we can pass an empty object and
for the completion we will have error
and hopefully our - dues so in case we
have an error make it a bit like this in
case we have an error we need to return
some kind of error and you could make it
through the status code so define
whatever 404 for one that would be
authenticated well maybe 404 but in
general you could also define your own
object and say success was false and
then pass a message so everyone knows
what's going on and you can simply use
this method this message inside your
front and later on makes it easy so
error while I don't know reading
while now let's say retrieving to deuce
and if you wondered more specific you
could also say or also pass the complete
arrow to the front end you never know if
you need it or not but otherwise we have
found some two deuce and in that case we
will send 200 with an object in which we
can now say success true so we can
always check this success variable
inside our front end and also we have a
result which is 2 deuce but also return
just an empty result array up here and
don't display any arrows but well this
is completely up to you ok so this is a
simple get route the next one I'm gonna
post in because it's more or less the
same but this time it's a post so this
is to create a new to do and first of
all we need to check if we have sent the
text further to do inside the body if
this is not the case again we return
successful false otherwise we can create
a new to do using our to do schema and
the text will be just the text and we
call save on this object which will
insert it into our MongoDB and if we
have an error at that stage well again
we need to return that otherwise we can
return 201 which is the code for created
with a success and the message we can
display to our user and finally the
third one we need we can get we can post
we can also delete but in that case we
also need to pass at an ID we could also
have it in a body but I think it's
better this way we can grab it through
the params okay these you can see
this time we use the body up here and
now we if we have this syntax we need to
use params so if we have no election ID
or it is empty again
we can't delete it and there's an error
otherwise we again use our to do ski map
and we can use the function find by ID
and remove and the idea is the one we
got inside our request we got an error
we return it otherwise we can simply
return 200 and return a success so this
is how you define routes inside your
simple node.js server there's one last
part missing and this is the server J's
so we already have all of these routes
defined we have our model defined but we
actually need to start our server so I'm
just gonna copy it because it's very
long up here we require a lot of the
things we have installed previously and
we also have our config we have the
server the app helmet is used for some
protection we use a body parser we use
course because we will otherwise might
run into cross-origin problems using our
ionic front-end we define a port and
what's also important is our Mongoose
connection to our database and here we
have the conflict of database variable
which we have defined inside the config
jason so everything is pretty clean and
good structured finally we tell our app
to use the to do routes for the routes
so to use all of the delete post and get
stuff we have defined here and finally
we simply start server so now we're
ready and can simply call maybe npm
install before i don't know if we have
already installed ok
so now we can call NPM start and the app
is listening on three two one three
thousand and one how can we test it I
recommend you use postman you can also
do it from your command line so we have
get all to deuce which is a simple get
request to this part we get a success
but we actually don't have a result yet
so let's created to do yeah we can call
it my first to do it should have the
content type application Jason and it
should be a post and successful created
new to do well let's see if it actually
appears and yes there's our first to do
let's create a second to do and you see
you get a list of all the to dues now if
we want to delete it to do we need to
use this automatically created ID from
MongoDB we go to delete and as our route
was it was to do's and the ID actually
we don't need anything inside the body I
think okay and we get a success to do
deleted it was the first one remember
and now we only get the second to do
what's also interesting or what I like
to do is using Robo Mongo let's see
where is it
come on
I'm not sure oh yeah there it is it's
better now we can actually see our
collections and see all the objects we
have created so it's called its cert to
do and if you update database now you
have an inspector to see all the items
inside your MongoDB so this is very
handy when testing your REST API and
using MongoDB so we have two ways of
testing one directly seeing the database
or two simply using our requests we have
defined okay so that's already
everything you need to create a very
simple nodejs REST API and in the second
part of this series I will show you how
to build a ionic 2 app which can then
interact with this server and in the
final third part we're gonna hook up
everything to well testing our live
environment because currently obviously
this service only running on localhost
but we want to run it somewhere where
everyone can access it and this will be
subject of the cert video so stay
connected subscribe to my channel and
thanks for listening and viewing and
have a great day good bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>