<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Unit Testing Your Ionic Framework App | Coder Coacher - Coaching Coders</title><meta content="Unit Testing Your Ionic Framework App - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Simon-Grimm/">Simon Grimm</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Unit Testing Your Ionic Framework App</b></h2><h5 class="post__date">2015-03-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/RgD_tRXnxRo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys what's up this is Simon from
deaf tactic with a short video tutorial
on how to test your ionic framework app
so for this I'm going to create a little
demo project with ionic and include
karma and Jasmine for testing our app so
let's get started with a simple ionic
taps app I use the tabs app because it
already has some controllers and
services so we don't have to generate
all that stuff just for testing and it's
fine for now obviously you could just
skip this if you have a project where
you want to include your tests so do
whatever you like okay so we gonna
install some packages so I already said
we are going to use karma as a test
runner and we're going to use Jasmine
for the tests we are writing and we need
karma tent MJS launch our case so this
is optional but I like to run the test
without opening a browser because that
just I don't know I don't like it so the
Phantom Jas will do all of this in the
background and finally save dev because
we just need this for testing okay let's
wait until it's done okay one more thing
you might need to install is the Karma
CLI to run karma commands from the
command line I already have this
installed but you might
so I'm going to just type it when it's
done now you could have a look at the
article I linked under this video
okay took me a while but I hope you have
all the dependencies installed allow us
just take a look at the blog post so you
don't miss anything okay now make sure
you have the Karma
CLI installed I already have it so I
don't need this and also make sure to
run NPM install to install all your
packages okay so let's go on with
another package we need from boa which
is angular mocks this package will just
mock our controllers and services so we
can use them in our test cases okay if
it asks for anything well whatever okay
okay so let's go ahead with a new
directory and we will go there and now
we use the karma CLI and can say karma
init icon J s so this will in it and
bring up some questions so I stated this
in the article for now just leave
everything at the default okay
file is created
take a look at it well we can take a
look at our complete project now oh come
on what's going on yeah that is not good
but I hope it will work okay so here we
have our app with the fjs and the tap
interface we have some controllers and
we have some services in here okay so
let's go to our test folder and the
config we just created here are already
some you know some things defined and we
need to change first of all the files we
want to include so there are some files
you can take a look at the post i made
on the blog so we need first of all
angular and angular j s
now come on
next we need our J s folder with all the
J's files and we need the angular mocks
we just installed
yes and last we need obviously to
include all of our tests so we will name
those files later but they will match
this pattern
okay so additionally we install the
Phantom J s so you can go to browsers
and change this to phantom j s okay here
we have our adjustments so everything
for now should be at fine okay
one more thing I would recommend you to
do is go to your gulp file and at the
top inter karma require
Kharma dot server and now we will add a
tiny gap task to run our tests so we
don't have to call specific karma flag
or whatever we can just use gal that we
use for all of our tasks
come on what is I hate it sometimes
let's make it here so we don't have any
problems okay so in our task we just
call comma start with um well we need to
give in the config file which is current
dear name plus tests and my cone is okay
this should be correct I think and we
just want to run it once when we make it
okay that's fine for now and finally
we're done okay
I recommend you to stay tuned to my blog
because there will be an upcoming post
about collab tasks so if you are
interested in there make sure to follow
my blog deft acting okay bye now we have
just this config and our controls and
services but we don't have any test
cases so let's start with new follow for
our controller tests and inside we will
make file controllers tests j/s okay I
could also just create next one
and this will be services tests j/s okay
perfect so as you can see we have our
two folders with the files inside here
now
how is a test defined in JavaScript with
comma or with Jasmin it's very simple I
think so you start to describe your
tests for controllers in this case and
you just have one function okay
nothing special we will have our scope
variable you will see why we need this
okay so one thing you will see ever and
ever and ever again is before each so as
you might already know this will be done
before each of our tests so here we will
inject our what you'll start dot control
us as it is defined here okay so if we
have loaded our module we also need to
inject
it came and we given the route scope yes
okay thank you it and additionally the
control which smoke object and now we
can say the scope we already have up
here is equal to root scope dot new so
what we've done here is we've injected
the new scope from the root scope so we
can use it in our test and additionally
we set the controller to the count
controller and we inject our just
created scope okay so now we have this
account controller mocked as a object
inside our test perfect right yes okay
let's start with a simple test we could
test well it doesn't have much so we can
just test if this is enabled let's see
if we can do this so the syntax for this
is it should be in general so it should
have friends enable this is just the
description and the function
which is called is well we expect expect
the scope dot settings enable friends to
equal true so this is just a very simple
test for this part of our controller ok
so let's see if we can get this running
okay if you have not added this gulp
task you can also start it with karma
start and the config file but I hope our
tasks will work so gulp test ok executed
one of one success let's try it to be
false and test it again as you can see
we're using phantom Jas no browser pops
up so expect the true to equal false
controller should have friends enabled
failed which is nice printing for our
test case I really like it so this is a
very simple way to test your controller
it's very easy to inject the scope and
test things or you could now call some
functions or whatever okay
additionally I want to show you how to
test your service this is not more
complicated but well let's take a look
so we start again with
describe and this is a friends unit test
so inside this test case we want to test
the friends factory of this demo project
of ionic so we want to call function and
we want to test these friends ok so what
we need is a variable friends we will
define it later and as you have already
seen in the last one we need to inject
our module ok so now before each we want
to inject
the friends and we just said our friends
to this friends service or factory what
it's called no time okay so that's
already everything and to inject this
service and now we can just call some
test cases so one can be well it can get
an instance and now we need to inject
our friends very variable and we need to
call expect no expect our friends to be
defined which could be always first
the first test case you write for a
factory or whatever or another thing we
could test is it has five chats and
again we inject this function with our
friends
and we expect friends don't all that
length no length to equal well I think
it's okay friends return our friends
which are in fact five so while we
expected to equal five
and last of it we can make some very
special test case or it has max as a
friend with the ITU one or what was max
idea makes okay that's well it's okay
for max
so we need to define our one friend
Oobleck we want to test against the
service so you make an object with say
ID one named Max one it's fine and okay
come on let's copy this
okay so there is our test friend and now
we can just type expect friends da to
get one name for example to equal one
friend dot name okay so nope that's it
let's try it out and call cop test so
controller should have friends enable
failed because we had that in our first
test case and changed it let's make it
back to true and what failed has five
chats failed okay because I have a typo
where is it here friends on so as you
can see from these test cases you can
pretty much find your test case or the
wrong test case very very fast because
yes okay for for success so everything
is working and this took me like 10
minutes to include karma and Jasmine or
whatever and set up my first unit test
so I suggest you should always include
unit tests into your JavaScript project
because they can bring you to benefit to
your project and well it's just you
should do test as a developer so if you
have any questions just contact me or if
you want anything more regarding tests
or whatever leave me a comment or write
me on Twitter or make sure to follow my
youtube channel so see you next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>