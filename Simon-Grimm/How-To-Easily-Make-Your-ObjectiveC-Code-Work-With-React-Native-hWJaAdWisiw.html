<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How To Easily Make Your Objective-C Code Work With React Native | Coder Coacher - Coaching Coders</title><meta content="How To Easily Make Your Objective-C Code Work With React Native - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Simon-Grimm/">Simon Grimm</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How To Easily Make Your Objective-C Code Work With React Native</b></h2><h5 class="post__date">2015-05-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/hWJaAdWisiw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys what's up this is I'm from deft
acting today I will show you how to use
iOS modules with objective-c code inside
your react native app so I expect you
have already a little knowledge about
react native if not now it might be the
time to check out my getting started
guides so you have all the tools
installed so if you have done this we
can start and create a simple demo
application so I can show you from
scratch how to include your old maybe
already existing iOS code inside the
JavaScript react native code so let's
create a new project
this is especially interesting if you
think about switching to react native
and already have some old code or if you
come to a point where you need some
really native functions or views or
whatever so in that case there's really
no problem because it's very very simple
so follow my steps ok so we got our
basic project
and here's the created Xcode project so
as this is already working you can run
it and everything should be fine
so we start and add a new class which is
a cocoa touch class and we name it my a
beatsie class okay so you might ask why
we are not using Swift well it's a bit
harder for Swift and not working that
good right now so if you're interested
in how to use Swift code in your react
native app just let me know leave me a
comment or whatever so I can show you
okay so our app is running and we are
fine let's start this is our header file
and we will use a technique called
bridging so first of all we need to add
the react bridge module dot H and also
we need to add a protocol called react
bridge module okay so that's everything
for our header file now let's go to the
implementation and first of all there
are some macros we can call to bridge
our class they're not very much macros
so you can find a list on the react
native page and first of all we need to
call react export module
so this tells the react bridge that it
should bridge our created class okay so
you have to type it correctly okay so
this is working now now we will or you
will have some functions or whatever so
let's see how we can export them first
of all a very simple example okay so
there you are already see it it's coming
from the protocol
it's called constants to export this
means at this point you can export a
dictionary off yeah well whatever you
like so we put in a simple key greeting
and the value is welcome to the Deaf
tactic react native tutorial so at this
point you can export constants if you
like to or if you need to and you can
simply call them so we will see how this
works when we go to our JavaScript
mm-hmm sorry okay next thing is we want
to export a method and again we have to
use this macro so let's make a simple
function called square me we pass it an
integer
and as we want a result from this
function we need to return a well block
or yeah we can give it a callback which
is then performed when this function is
ready so react respond sender block
callback we need to do this because all
of those function which we are bridging
are called as in crone so we cannot just
return value or whatever like you know
from your native code so this is a bit
different but it's really no problem to
just call the callback and I learned
that you should return an area of values
in which the first value is the arrow
code which should be null at this point
and the second one will be our result
come on number with IND and well we just
say I'm all right okay so we perform the
callback with the error code and with
the result of our calculation so this
will be the square of the number
obviously you can have other functions
you can do more stuff inside here you
can call you a native code and finally
call the callback with your results so
that should be no problem if you have
any questions at this point just let me
know please okay so it's fine for now
let's go to our code maybe we can
already restart our app because we edit
files
those cannot be hot deployed or just
reloaded at this point so make sure to
restart if you got any problems okay so
this is our react code for now the basic
template and we need to first of all add
some more to our decoupling so we need
to component the EPP registry the
stylesheet text additionally we need a
text input field and finally the view
okay perfect now well one thing we need
to change is how we create our class so
I'm a big fan of the new es6 so I will
use that syntax which is like this I
think it's much more readable and yes
basically it's the future so why not
start already with using this okay so
additionally we need to change the
render function to just render and we
are happy okay so the question is how
can we import our breeched
Objective C class it's really really
simple we just create a new variable
called my AC class you can obviously
choose a different name and we can just
say require native modules which is the
bridging part of react native and that
the name of our just created class
now all we have done is inside this
variable okay we want a simple view to
show
well our greeting which should be done
at this point and also well I can leave
that we don't need this one but at this
point we will have the styling for the
result here we can just use the styling
for the Welcome and if you remember we
have the constant which we exported
called greeting so go to the code we use
this one and we just say give the
greeting we might reload maybe it's
already working right now okay
welcome to the Deaf tactic react native
tutorial it's really that easy you just
imported your native code into
JavaScript awesome right okay let's get
on we will have a text input
and well here with some styling we will
do that later
and whenever we change the text inside
this field we want to call a function
which we obviously need to implement but
okay so yeah that should be one okay we
know we haven't created this function
yet so go behind your render function
and create the squirmy function now
whenever the input field gets updated
this function with the value of the
field will be called quite simple right
additionally we don't know at this point
additionally we want to have a
constructor for our class which first of
all called super and then we set a very
able to our state which is the initial
number so it's just to display the
result and then current number and well
yeah no magic and in our result field we
obviously want to display this dot state
dot number which should be 0 in the
beginning okay yeah we haven't done the
input now
the result I guess now we haven't done
result and input okay so we start in
purge and result let's give the input
field tiny size and some border color so
we can see it a bit better and we want
to Center the complete fun okay and the
result should be also in the center we
will have it color
the font size you don't need all those
things you can also directly continue
but I like if it's already looking good
the first time or at least not like well
like crap
so let's see okay what's the problem
okay
yeah react native is so easy okay
we can already enter a number but
nothing has happened but this is no
surprise as we've not implemented the
scramming function let's go back to it
and add a simple check so it not crashed
every time you remove everything inside
the text field
you obviously might need to check for
adjust numbers and whatever is inside
this field but that's not the purpose of
this video so again we can call our
objective-c class and now we can call
the square me function as simple as this
and you might remember we need to give
it the value which it should calculate
and it bro return or we will get a
callback with an error code and the
result of the calculation so if there is
any error happening just lock the error
we can use console error
and if there's no error we want to set
our state object which is now the new
number well we can say it's the results
so that makes it clear at this point
okay let's try it out
can't find variable number okay what am
i doing I'm not sure do I have to me
what okay
sorry my bad and there it is working
just like you would expect it to
awesome right and it gets always updated
whenever you change the value of the
field so this is really brilliant and
yeah well that's all you need and that's
everything I wanted to say today so make
sure you implement this protocol and
this bridge module use those macros from
the bridge module you can just require
the module and use it so if you like
this tutorial I would be happy if you
follow my channel and let me know if you
want more of this so have a nice day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>