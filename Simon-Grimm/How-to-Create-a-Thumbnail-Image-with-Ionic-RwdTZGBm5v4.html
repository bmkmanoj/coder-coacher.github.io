<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to Create a Thumbnail Image with Ionic | Coder Coacher - Coaching Coders</title><meta content="How to Create a Thumbnail Image with Ionic - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Simon-Grimm/">Simon Grimm</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to Create a Thumbnail Image with Ionic</b></h2><h5 class="post__date">2017-10-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/RwdTZGBm5v4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey everyone what's up this assignment
from the ionic academy in this quick one
I will show you how you can easily
create a preview image or thumbnail
image for your images that you might
want to upload to your server inside
your ionic app so I've started a blank
new yep and we go ahead by adding the
Cordova plugin for the camera because
obviously we need some way to capture an
image inside our app so we can then
create a preview image thumbnail image
from it of course also install the NPM
package for the camera and I will bring
up the preview with the lab but actually
what we do later in this tutorial
want work inside the browser because we
use ionic Cordova plugins and they won't
work inside your browser so import the
camera in your app module and add it to
the array of providers now I can also
bring in this preview just to see if we
made edit some bucks in some places but
anyway we're done with the app module
and we can go to the home page so this
page will be really simple I've said
this many times but this one will be
even more simple so the content of our
page is basically two buttons I on
button full and some click event
whatever and the first will be used to
load an image and the second one will be
used to create the thumbnail so we call
this load image and this one create
thumbnail very creative right
so we can add those to home file and
also create thumbnail like this okay and
below those two buttons we add two
things so first of all we got a big
image and the big image will have a
source which will be the image and then
we got the same thing but now for a
small image in small image so this will
be the image once we've captured the
taking it from the library and this will
be the image after we created the
sampler from it and also we want to give
the size of the images so we create big
size in megabytes and also small size
same here in megabytes we will calculate
the size of the images within our app as
well so from now on it gets a bit harder
and it also gets a bit more funny now so
we got the big image and we got the big
size which will be zero and we got the
small image and we got the small size of
course this is just for testing with the
size you don't need this but I want to
show you that it actually works so that
I'm not just creating a smaller image
somewhere okay we import the camera and
also the camera options and then inside
our load image we create the options for
our capturing so camera options and we
first of all let the quality at 100%
because I want to show you how big
actually the original image file is so
then we got
the destination type and we make this a
data URL so we can easily change it to
base64 string and then display it and
calculate the size and all of this so
this is a bit easier so for the picture
sauce type I pick photo library here
yeah whatever correct orientation true
allow edit false whatever you like
of course this dialog is up to you and
we call the get picture function with
our options and then we hopefully get
some image data back with the image data
we first of all have to make it a real
base64 string so we have to add data
image JPEG base64 and then the actual
image data we got so this is now a valid
string and this can be set to our big
image also we can now calculate the big
size but of course we need another
function get image size and get image
size from a data URL is somehow inspired
by multiple stick overflow posts I
didn't came up with this solution so
first of all we have to cut the Yi at a
data of course this is no big deal but
anyway we will do it so we take the
length of the full string and cut the
header links so now the length is
correct and then we have to add a few
things so basics t4 compresses so that
every one of the characters represents
six bits and also one kilobyte no not
one kilobyte one byte is made up of
eight bits so we have to divide it by
eight to go to bits and this can also be
converted to three and four of course if
you have joined some simple math classes
in school and we multiply in a few times
so we get two megabytes we close it and
we say to fixed to get four digits after
the point and that's it so now it looks
a bit difficult but actually it's not
that hard
so now we can pass in our big image to
our gate image size function and this
will calculate the image size for our
big image okay
now the actual funny part begins with
our create thumbnails function and we
will add a new function so this function
will be for you one that you can easily
copy into your project and ease right
there so for I will make it as general
as possible we add some defaults or
fallback no default values for these
variables this is also number no number
then we got the quality also number and
finally we got a callback
okay so this function will now help us
to actually create our thumbnail
hopefully or let's implement it first so
we make use of the canvas element and we
go ahead document create where is it
create element canvas okay and also we
create a new image like this now we
attach or we add to the image unload
function some stuff that we want to
chill you and after that or in general
we need to set the source of our image
to the actual image that was passed to
our function so this means the image
will be loaded into our image object and
unload we do now a few things so first
of all we take the image width and we
take the hate just image hate so now we
check which one of those is bigger if
the width is bigger than the hate and
also if the width is bigger than the max
will in that case we need to set our
width to the maximum width and also we
need our hate to be the max width
divided by the current width so this
will help us to keep the actual ratio
correct what's wrong here okay this is
wrong so this is the first part and now
we also get the second one so if the
actual hate is bigger than the max hate
we have to apply a few changes as well
so in that case
I think we need more or less the same
but the width is max hey divided through
they hate and then and we can set it to
the max hey okay so this is a bit
complicated maybe we could also leave
this out but I want to be I wanted that
it is correct for you so then we go
ahead and set the width of our actual
canvas and also of course the hate and
then we can get a context of our canvas
so we call get context 2d and now onto
this little context we can draw an image
so this is the trick here we basically
draw onto the canvas and then we get
something back from the canvas so now we
draw the image we start at 0 0
thus a sizes will and hate of course and
now we got a canvas object with an image
drawn onto it and now we can go back and
say canvas to data URL we want to please
get an image of the JPEG type jpg and it
should have the quality we have defined
or we got from outside so now we got a
data URL and now we can call the
callback we added previously with our
data URL
okay so might look a bit scary but the
actual usage now is super simple
so when we call create thumbnail we go
ahead and call this generate from image
and now we can add a few things it first
is the image which is the big image in
the beginning then let's say we want to
have it like 200 and 200 and the quality
may be very low to 0.2 and finally we
got the callback which means we get the
data URL right here we can use it as a
promise and then set our small image to
the data and calculate our small size
which is get image size for this dot
small image and that's actually it so as
I said load image won't work here we
have to run it on a device now so let me
bring up my simulator okay so here's the
app on my device or on my simulator and
I had a little typo here of course an H
would be wrong so this is JPEG of course
now this is the app and we go ahead and
load some of the pre-installed images
let's say this one okay it's three
megabyte now let's take a different one
I think this one is even bigger so this
is over 6 megabyte baked this image of
course always streaming this back to the
user is quite heavy so let's create a
thumbnail and you see our thumbnail is
not as good as this image of course but
if you make this even smaller and
display it in a list it's totally fine
in the size a fraction of the original
size so this can be easily send to the
server and set as the preview image for
this big image inside the list which
means when you call a list off with 20
objects you don't have 20 calls for a 5
megabyte
but 20 calls for this which is really
nothing so and then you click on the
list item perhaps and then the big image
will be loaded but creating a thumbnail
is super helpful for these cases where
you work with images and especially with
lists or are have a smaller preview of
the actual image which don't has to be
or which doesn't need to be the original
image because it's just too small nobody
will care if this is the quality or not
so if you enjoyed this video make sure
to subscribe to my channel for more
quick wins and more great videos and
also check out the ionic academy comm
with training courses projects and a
great community to learn ionic I hope to
see you inside the next video have a
great day and take care</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>