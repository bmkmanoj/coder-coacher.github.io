<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How To Make A HealthKit App With Ionic and ngCordova | Coder Coacher - Coaching Coders</title><meta content="How To Make A HealthKit App With Ionic and ngCordova - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Simon-Grimm/">Simon Grimm</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How To Make A HealthKit App With Ionic and ngCordova</b></h2><h5 class="post__date">2015-02-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/0F3ozK2QOOE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys what's up this is Simon from
deaf tactic with a new video tutorial on
how to make a health kit app with ionic
and ng Cordova so we will make use of
the iOS health kit which was released in
the iOS 8 SDK and we will use the ng
Cordova wrapper for the Cordova plug-in
and make a simple health kit app to set
our body data and to submit a workout
session so let's start with a simple
blank ionic app okay so when we're done
we need to install ng Cordova and we
need a little plugin but okay it's
finished
so as I said we need ng Cordova
installed and we will add this plug-in
so you can find it in my tutorial or on
the page of ng Cordova and obviously you
can only use this tutorial for iOS
because Android does not have anything
singular to the health app or nothing I
know if there's anything you can tell me
so I'm on the Mac so I'm gonna add the
iOS platform
and um prepare the iOS platform okay
perfect so to use ng Cordova as you we
need to include the script file before
the Cordova Jas
I guess it's their ng Cordova dist
in Dakota okay perfect
and additionally we have to come on come
on include it as a dependency into our
angular module
okay fine for now so one thing you need
to make sure is that you set
come on platforms iOS project you need
to make sure your iOS project is ready
for using healthcare and therefore you
need to go to your project and choose
your target and go to capabilities and
here's the healthcare and just enable
that
okay hopefully Xcode will take care of
the rest
yes seems like everything worked fine
okay so now we can start with our actual
app I'm not sure why everything is red
in here I don't care for now okay so
what we gonna do is change the title
most important part of this tutorial now
add our ng controller which we will
create very soon
yep controller and inside our content
can give a tiny class
it always looks better
okay or to make it real positive okay so
first we will have input field which
will set our body hate and afterwards we
will submit the hate
okay so here's our input it's just some
text well give it a placeholder and the
scope area you will read that hate okay
so I guess oh that's not a diptych the
label sorry okay and we need obviously a
button to submit our
okay so that's our first button I'm not
sure if I missed anything yeah pretty
sure this one yes it's that I'm sorry if
you want the code you can always check
out my blog and just take it from there
if it's hard to follow here in this life
tutorial okay well I can't bright input
so this part is to set our body hate as
I said and additionally we will make
another button which will give us the
hate back just in a simple popover or so
it's just for them you pause it
it's our get hate function okay and
finally the last thing we want to do is
come on I copy this the last thing we
want to do is save a workout session
let's say you made some sports any
activities and you want to report a
complete work out session with burn
calories and stuff like that so that's
also possible workout data saver account
and get workouts okay that looks fine
for now okay let's go to our fjs the
first thing we need to make sure is that
we have that we have the permission to
read and write the personal data of
someone so for that we need to check for
the permissions and ask for them and we
will do that in our I on a platform
ready function so we need to include the
dependency
I hope I have no typos in here and what
we're going to do is just check or first
of all check if it's available and if
that's fine then we will make the
permission request so for our example we
want just one permission for now you can
always ask for the permissions when you
actually run the the safe hate or get
hate or safe work out and we will see it
later on but you can also check it on
the app star Dib
so once for all time and yeah just to
just do it like you need it okay so
these identifiers you can find the link
on my blog to all the Apple official
identifiers so this is not a thing I
came up with so this is hell kit
quantity type identifier 8 okay long
word
so and again we will make the right code
Oba healthcare yes and now we will
request authorization obviously we will
make that way and we want read
permissions for this and also write
permissions so these two parameters are
read and write and indeed then we can do
whatever you like
you can handle the error whatever
and at this point you could handle if
you're not having a health kit available
on the device so that's no health kit
okay perfect
now I'm not sure whatever we can release
them for now okay so on startup our user
will be asked for permissions to his
body hate okay let's make our app
controller and the dependencies for
scope and the Cordova health kit and
first of all we need our scope body and
this head just the hate so no hate for
now strict whatever
I don't know
hell no I don't want this so our first
function was to save our hate and again
we will call Cordoba the healthcare safe
hate and we give it the value of our
hate in centimeters as I'm from Europe
I'm using this and well you can actually
do whatever you want in the Dan function
so I'm well we could check for an arrow
maybe or
but we don't need to do anything inside
there okay so this one will save our
hate and the second one was to get our
hate and it's pretty much very easy so
to get our head we again call Cordoba
healthkit and now read hate and again
centimeters then and at this point we
will just make simple alert because it's
just to show you how everything is
working and you can also say the unit
okay I'm leaving out the arrow for now I
hope there will be no errors so alert is
not defined okay whatever
there's linting of autonomous maybe I'll
remove it sometimes it's not good ok so
the last part was to store a workout
session and as was safe workout
and guess what we call cordova
healthcare save workout okay that will
be a bit of data so you can check them
out on the official page here are more
quantifiers and all the functions were
using and well I can also just copy this
as I'm a bit lazy now so in general you
have an activity type and quantity type
you have a date and optional an end date
or the duration that's up to you and the
energy burn and the energy unit the
distance and the distance unit so when
we have saved this we can call another
alert view or yes let's do that
we make it look good okay that should
work we could handle the error but I
hope we will get no errors this time
okay so that's pretty much everything
you need to save a workout session
that's awesome could look a bit better
the last one was to get workout data or
get our workouts so this will return
data for the workout already submitted
to the a health kit app and oh no no I'm
having it wrong
okay the Cordova health kit and find
workouts and the result will be
displayed in the lower pew again just to
show you how everything's working okay
now error handling for now and if I'm if
I've made no errors at this point this
could already work let's give it a try
so if you're interested you can see all
the examples here at the ng poured over
page for the health kit ok simulator
comes up so here's our app and as we
have this permission dialog inside our
ionic platform ready function this comes
up and the effective health app wants to
write the heat and wants to read the
head so the user will be needs to give
his permissions ok so let's say I'm 184
centimeters and I said that and we have
not done yes ok that's fine let's try to
get it and yes it perfectly working ok
so next thing was to save a workout we
will enter enter this and this is the
point where we have not asked for these
permissions so the Cordova health kit
checks this and spins out this dialog so
as you can see you can always check for
permissions on the fly okay so we grant
them and we don't get a result I'm not
sure if this good I don't think so
okay well we will see it let's try to
get some workout data and again this
comes up and this is oh I guess that's
today right so if you don't trust me you
can also not close not the app but I'll
 it
go to the health app and go to your
health data and go to body measures
eight and as you can see today we added
this little dot here so that is our a
today you can well every day insert you
hate and have a nice grab at the end of
the whatever end of your life okay so
that was the first part and the thing
one is you can go to fitness and well we
yes I guess we made active calories yeah
and as we said well 300 I'm not sure
well let's check out okay
here are our workout sessions to to I
submitted just some minutes ago so 300
active calories the date and the source
so pretty much everything's working
really smooth and well you're ready to
make the next killer sports app with
whatever Bluetooth device connected us
so so if you've done anything like that
with the Bluetooth device or something
similar and I really left to hear about
it
so leave a comment or join the
discussion on my blog and always make
sure to follow my blog so thanks for
listening and goodbye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>