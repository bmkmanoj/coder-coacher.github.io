<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to Visualise Firebase Data with Chart.js and Ionic | Coder Coacher - Coaching Coders</title><meta content="How to Visualise Firebase Data with Chart.js and Ionic - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Simon-Grimm/">Simon Grimm</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to Visualise Firebase Data with Chart.js and Ionic</b></h2><h5 class="post__date">2018-02-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/AoIWp-yyQu4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey everyone what's up this assignment
from deaf tactic in this tutorial I will
show you something really cool and we
will connect firebase to our ionic app
which we've done several times before
but this time we will use the real-time
database to create some charts and this
will look really nice and will update in
real time so let's dive right into it
I've created a blank new ionic app and
we go ahead and install few NPM packages
so first of all charge is which we will
need to create a chart and then firebase
and angular fire to which we use to make
the connection to firebase I've also
created my firebase project don't mind
the name I hit the limit so I had to
change something and I just see it looks
a bit German so let's try if I can't
change the language okay better so make
sure that for the rules tab of your
database you get this super stupid rules
so that everyone can write your data of
course this is only for our example
because I want to show you some
functions and not only authentication
stuff again so with these rules everyone
can read and write to your database of
course change it later if you have some
sort of authentication system to use
angularfire we go ahead angular fire
module from angular fire to right inside
our app module and also we need the
angular fire database module from
angularfire 2 slash database all right
then we go to the imports and say
angular fire module for root no it's
different
it's initialize app with a configuration
we have to create so let's do this
firebase config and the firebase config
as always can be copied from your
project overview at firebase to Europe
copy this stuff out and edit right there
and then pass in this configuration to
the initialize function and there you go
also angular fire database module needs
to go to the imports so now everything
is set up ok we can continue in our home
page and home TS and we don't need the
rest and i will also start my ionic lab
in the background ok so a few things
first of all we will have some data
which can be an observable let's say
type any array and then we also keep a
reference to an angular file list also
type any and thanks for this code
completion for the constructor let's
import a few things so first of all
access to the database angular fire
database and then perhaps also the ionic
toast controller toast controller there
it is so we can display some toast
notifications when we've added new data
for this example we will track some
expenses and incomes and assign a month
to them so like a little overview of
your budget and I will craft this array
so we can resolve the numbers of month -
the name of course we could also only
use the name but it looks a bit nicer
doing it like this and I will only make
this for four month
so February March and April so these are
some data then we got an object which we
call transaction and this is the object
we will write to firebase later and this
will contain a value so an amount then
expense if this is an expense or income
so Falls are true and then although the
month in which this occurred finally we
will need access to our chart which we
can do using view child not sure if this
is right I'm going to put it in here
perhaps it would work as well but let's
do it like this and this will be called
value bars canvas so it will be a canvas
element or canvas that's how we can
access our HTML element and then we will
also keep track value bars chart any so
this will be the actual object so we can
later on update our data also we set
some chart data to null in the beginning
because then we can hide our chart and
later fill it all right so that's the
base for our app still doesn't look that
interesting but anyway it's running
let's continue with the next function
and this is ion view did load and inside
the ion viewdidload we first of all set
the reference to our database list so we
say list trance
and this will be the note and what you
can do as well is querying our list by
something like this order by child and
then path in month so the list you would
get back now would be sorted by the
month so you would get all the zero ones
at the beginning and so on
however we're not displaying this in a
list so just for your information how
you can query your data really
interesting then we go ahead and
subscribe to the value changes event
this means whenever we've added or
removed some data inside the list this
event will be triggered and here we will
check if we already get some chart data
or not if we don't have chart data yet
we will call a function to create charts
with some data and otherwise we will
call update charts to simply update our
charts so this third great chart for the
result and this dot update charts with
the result
ok so first time create shots will be
called and we will do something later on
we will only update our chat next the
function to edit transaction so this is
pure ionic firebase stuff so on our
reference which is a list we call push
and we push our current transaction
object and then when this is finished we
want to reset our transaction so say
this start transaction equals the
initial values and
let's display the toast that's why we
imported it anyway so toast controller
create message whatever new transaction
edit and duration I don't know perhaps
three seconds should be fine and then of
course called toast present all right
that's the transaction side we could
maybe already add our view part or a
little pile of it so we can see
something so let's call this
transactions and give it some color and
remove this stuff here
and then we start with an eye on row
let's say a line items and this will
align them to the bottom and then we
craft a column layout first column is 2
then 5 so this means we still have 5
left because it can add to 12 and in the
first column we add the button to say if
this is an expense or an income and
unclick we will simply say transaction
that expense equals not transaction dot
expense so this will simply change it
from true to false and also we can use a
conditional color for the button so if
it's an expense we use the color danger
and otherwise we use the color primary
really cool works great and then we can
also add in some buttons inside the
button
buttons icons icons inside the button of
course first would be remove and this
would be displayed if this is a
transaction if this is an expense and
the other button if it's not an expense
it isn't that okay second column an item
I on label floating so it moves up the
value of our transaction and then I on
input type number so only number of
values and this is connected with the ng
model to our oops transaction dot value
and it's the second and now to third we
are still missing the month
so again item what is that
did I just do I don't know anyway this
is the month and we will use an eye on
select you can use a date time of course
as well to get more specialized date but
I just want at this super simple value
so this is transaction dot month and all
the eye on options inside this button
will have the value of month dot value
so this means we need an iteration let
month of month this is the array we
crafted up here and it will use the
value as you can see and for the name it
will use month dot name okay once the
row is closed we could use another row
an eye on call
so everything should have the same
petting and a full button which will
then call at transaction make sure you
type a try it and add France action okay
if we've done everything right
no we haven't I on options okay this is
called option I guess then we got the
view we can select a month we can switch
from expense to income and add value so
let's add two hundred for the February
income transaction added reset to zero
and inside our database we can see the
first transaction no this is no expense
month one is February and value 200 so
lets perhaps add another expense three
hundred you can see immediately edit
expense to three hundred and this month
so adding the data already works and now
we have to take care of creating our
chart this is a bit tricky and let me
bring in one function I don't want to
make any typos but we can talk about it
so this function returns an array with
perhaps we can lock it out now we will
see it first of all we create this map
for the month with zero values then we
iterate over all the transaction in a
list of transactions and for each
transaction we check is this value
already set and if it's not set we
simply need to set it okay and if it's
an expense we need to start at zero and
sub sorry subtract
value and otherwise we will simply add
the value you can see I've got this
little plus sign in front of each of the
values so this makes sure this value
even if it's a string is converted to a
number so this means we will accumulate
all the values follow the month by the
right month key and either remove the
value or add the value so you can check
out this code of course inside the
tutorial on my blog as well and finally
when this map is ready we iterate all
the keys of the map so 0 1 2 3 and map
on only the value to it so this will
give us an array with 4 we'll use and
the four values at their position are
the amount for one month each I hope
this is clear it's not super easy but
aggregating data is always not that easy
anyway let's continue with our create
charts function first of all when we
call this we set our chart data to the
data pests so next time it will call
update not create chart then we call let
chart data so this is the local chart
data then they start get report values
which returns my array which are data
and then we have to create the actual
chart and this would go like this dot
value bars chart equals new chart
then this dot value bars canvas.net 'iv
element so we bring in our element and
then we got a big configuration object
new chart yeah of course we need to
import chart from charge a s and then it
should be known right so now you can
bring in all kinds of information that
describe how the chart should look and I
will simply bring in let's see these
values okay it's a bit tricky to set up
the charts and you can do all kinds of
crazy things here but let's look at a
few options first of all the type is a
bar chart very simple let's go to the
options because this is also something
optional hide the legend displays
something special for tooltips or the
amount the scales how the X's look like
how the ticks on the XS looked like
begin at 0 or whatever you can find all
of this inside the documentation for
chart Reyes as well the interesting part
is actually the data we pass in so for
the labels of the x-axis we use our
months and the names of our map so
January February March and so on and for
the data sets this is an array but we
just used one object of data and this is
our chart data we have created with our
get report values
let's perhaps finish this up with the
update charts and then we can see all of
it in action
so we update our variable not sure if we
actually need it but anyway
again when we want to update our charts
we will call our get report Bell use and
then we can use the value bass chart
because we've created it and started
locally right here and say data data
sets so this would be right for other
cases we could make it a bit easier for
us but let's keep this as general as
possible so you can come up with your
own solutions and then you replace each
data set data set data with your chart
data okay in our case we have only one
data set which will be placed if you
have multiple data sets of course you
might have a multi-dimensional array
here as well but that's how you could do
it and finally on your chart simply call
update which will reflect the values on
our view so we're almost finished and
the only thing missing is the
representation of the chart in the view
so let's craft an eye on card analytics
and then I on carved content and inside
the content we simply need a canvas
element with the right ID and make sure
you got the one you used for the view
child so canvas hashtag the ID and there
you go if you also want to hide your
chart while you don't have any data
don't use ng-if because then you will
not be able to access the view child as
it's not created so in that case simply
use hidden and check if you don't have
any chart data yet and there we go
perhaps I think we should already see
some values yes there we oh let me bring
this to the side
and we don't need the debugging I guess
perhaps we want to see our array is seed
so this is the array we got initially
let's add something for the March 400
and this is income a transaction and we
see a new chart and this is also a tip
we implemented but the settings for
ChaCha is let's remove some money from
the March so change it at transaction
and it goes back to 100 so adding 200 to
the January brings us closer again and
then adding another 500 to the April
gives a new view and as you can see all
the time our firebase data is updated
and our chart is updated as well if we
reload the same chart will be created
from the data we've stored in our
firebase database and everything works
hopefully just as expected so I hope you
enjoyed this tutorial it's a nice
connection between the firebase
real-time into a cool UI package chat
js4 displaying shot this is of course a
very simple chart there are multiple
charts just check out their
documentation everything should be
linked in my post so check that out for
the complete code reference if you were
not able to follow completely don't mind
I was quite a bit of a challenge so if
you have any questions of course just
let me know and I'll be excited to see
what you can build from this starting
template so perhaps post your nice
little firebase apps with some
visualization between or below this
video I would love to see them also make
sure to subscribe to this channel for
more great
Yanik videos and also
the ioniq academy.com if you want to
become an ionic developer and get
training videos courses project and a
great community to support you I'll see
you in the next video have a great day
and take care</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>