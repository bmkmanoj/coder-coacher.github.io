<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Ionic Local Notifications (Schedule, Payload and Callback) | Coder Coacher - Coaching Coders</title><meta content="Ionic Local Notifications (Schedule, Payload and Callback) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Simon-Grimm/">Simon Grimm</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Ionic Local Notifications (Schedule, Payload and Callback)</b></h2><h5 class="post__date">2017-05-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/fJfRgswp3w8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey everyone work up the assignment from
detect again the ionic academy today we
will implement simple local
notifications to our ionic app so I've
already started a blank new app and we
can go ahead and first of all install
the ionic native local notifications
package so if you're starting a new
ionic 3f currently you will already have
the core package for ionic native
installed where is it right here and we
need to install the sub package for
local notifications of course we also
need the Cordova plug-in so what we need
to add is the plug-in and especially we
check out the branch for iOS 10 so
there's a specific branch in which the
maintainer of the plugin made some fixes
for iOS 10 because the way iOS handles
notifications has changed a bit so make
sure to install that branch you can
check it out also in the according to
toriel now finally if you encounter any
problems you can try to install the
latest ionic native core package I will
simply do this for now but perhaps you
don't need it once this is done we can
continue to our app module and make sure
to import the local notification ok
local notifications to our providers
array and of course import it from the
right package which is ionic native of
course not core but local notifications
no tea vacations like this ok
so we are done and we go to our home
page and first of all let's create a
simple button ion button
for and on click we simply want to
schedule our notification so it's a very
simple example and close the bar now
inside our home TS we implement this
function and of course we need to import
just like we did here our notifications
and edit to our constructor so go ahead
and sorry what was that manager so go
ahead and add private local
notifications local notifications ok we
also want to handle the callback of a
notification and inside we want to
present an alert controller to our user
and we also need the platform right here
and you will see why in a sec so inside
our scheduled notification we can now
very easily go ahead and call this dot
local notification and we see all the
options so what we're going to do is we
schedule a notification but you see you
can also cancel notifications or get
scheduled specific notifications or
update them but the first step of course
is to schedule them and we have to
specify some parameters like an ID this
is used if we want to update or get it
later
we need a title of course which is shown
to the user let's just say attention we
can say a text like Simon's notification
and of course we need a date at which
our notification is shown so we say new
day to get time plus 5 seconds
and this is JavaScript milliseconds so
we have to multiply it with 1000 and of
course not
and finally what we also can do is
giving in a data object with just saying
my data and this is my hidden message
this is so this data will not be visible
inside the notification for the user but
you can handle it later inside the
callback and this is what we going to
implement now so inside our constructor
we now add also the platform which we've
already imported up here and we need
this because we need to check for the
ready event because otherwise if we
already assign the callback for all
local notifications the platform might
not yet be initialized so whatever here
and we would simply not have access to
the notification at that time especially
now as we just had this F with one page
directly assigning something to a
Carolla plugin in the constructor it's
very likely to fail so at this point we
can be ready that our plugins and noti'm
yeah
the Cordova plugins are loaded correctly
and now we can go ahead and say local
notifications on and we have different
options here like trigger when the
notification was trigger has canceled
but we want to use the click event so it
was shown to the user and the user has
clicked on this little banner and there
are two variables which will come into
our callback and now we can grab the
JSON and use JSON or Paris to convert
the notification dot data to a JSON
object back and this is exactly the data
we have passed
so this comes right back to our cold egg
and we can go ahead for example and
create an alert controller so this is we
need to import it as well of course
public control of the type of load
controller this is of course just one
example how we could handle it so once
the user has clicked on this we create a
alert with let's say notifications or
title so this is again this title but
now we use as a subtitle our JSON dot my
data not my ABS sorry my data which is
exactly this object if the alert is
finished we can present it if we haven't
done any mistakes the actual still
compiled but of course if you have
followed some tutorials you will know
that right now this won't work because
Cordova plugins won't work inside the
browser so I will build it for iOS and I
will show it in the iOS simulator you
will see an error right here if you try
to use Cordova plugins so at this point
make sure to try it on your iOS
simulator or Android device whatever it
is and let's wait a second all right
I've opened my simulator and when I
press schedule inside my app I get this
notification so my app would like to
send you notifications of course I will
allow it and there we already see it you
can check for this of the if the user
has given you access but the in local
notifications plug-in will do this
automatically so we don't really have to
take care of it so let's go and do it
again so we schedule and five seconds
later we see at the top coming up our
of local notifications object and if we
now click on it we get our alert we with
attention and the hidden message with
which was in our data object so we can
also get you and go to our home screen
and wait two things and there it is if
we open it we get to our app and see the
notification again so this is how you
implement local notifications with ionic
3 or above and I hope you enjoyed this
tutorial make sure to subscribe to my
channel for more quick wins more videos
and more tutorials and if you want more
training make sure to check out the
ionic Academy com
I would love to have you inside the
community so stay tuned
until next time and have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>