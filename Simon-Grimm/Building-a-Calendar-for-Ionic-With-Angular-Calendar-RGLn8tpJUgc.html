<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Building a Calendar for Ionic With Angular Calendar | Coder Coacher - Coaching Coders</title><meta content="Building a Calendar for Ionic With Angular Calendar - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Simon-Grimm/">Simon Grimm</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Building a Calendar for Ionic With Angular Calendar</b></h2><h5 class="post__date">2018-03-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/RGLn8tpJUgc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey everyone what's up this assignment
from deaf tactic in this video I will
show you how you can create a calendar
component inside your ionic app so we've
been doing this some time ago already
with an special ionic component for
calendar and this time we will use an
angular calendar because sometimes you
have different needs for your apps and
this one works a bit different so first
of all I've created a blank new ionic
app and then we go ahead and install the
angular calendar which is the component
we need and then we also install angular
calendar week hours view and I will tell
you what this is later and also angular
animations for some animations so let's
go ahead and surf this once we've
install it
no we need something else I forgot what
we need as well later in this tutorial
are two providers so one will be a
custom event title formatter
you might guess this will format the
titles and also a custom date formatter
so go ahead and create them already now
and then run ionic serve so we can
inspect what we're actually doing all
right we need a few imports inside F
modules so let's go ahead make this a
bit bigger and then let's see here's the
app already so let's bring it in some
debugging okay so first of all we need
the browser animations module which goes
directly to our imports then we need
some imports from the angular calendar
package and especially the calendar
module go to your import in say for
route so you might know this from other
stuff like firebase already
and then our second package we install
the angular calendar weeks whatever also
needs to go right there our four metas
are already here and what we need as
well perhaps if you want it is some
localization and for example I will do
this for German simply import the German
package from angular common locals and
also the register local data and run
this so this block will help us to
achieve German names for example on
specific components next we need an
additional copy config so perhaps you
use this before simply create a new
folder let's say config and inside
config create a new file copy config
j/s and go to your package Jason
somewhere at the bottom doesn't really
matter and at this little block so this
register our own special copy conflict
for the ionic copy task and I will also
copy this in because it's a bit of
typing you can find all of these sources
are inside the tutorial link below this
video so this is the standard copy
contract from ionic and we append two
more elements so one will copy the CSS
for the angular kill in the package from
our node module and the second from the
week's view right to our bill folder and
this means we can then simply import
this stuff inside our index.html perhaps
put it here like this those files will
be right inside the build folder in here
so perhaps let's save all of it and a
copy update finish actually
anyway let's run it again and you see
the two CSS files or the sass file are
appearing right inside the build folder
and then our index below them so this
step is also needed in many different
settings when you simply need some CSS
file from an installed angular module
okay there's a lot to do so perhaps
let's continue with our page with young
TS so first of all we need a reference
point which is our view date so simply
make this a new date so it will be today
when we start the type of the view we
will implement is week and I will also
already add our local string in my case
German you could change this to French
whatever English but I will make it
movie the German just a few tiles
this one will be needed later I will
explain what it does and then we also
need a new subject because we will tell
this subject to refresh and then the
component will reload so our component
the calendar component depends on this
subject a bit then you need of course
your event source so this is the events
I created some dummy events and you see
we got a some missing imports I will fix
them in the sink or perhaps already now
let's bring them in
again a lot of imports and a lot of code
check out the tutorial below the video
for the full code but anyway we import
some stuff from the angular killing a
package and then a lot of functions from
date FNS so these are used within the
component actually so that's why we need
them here
kellen the event has said is the array
of your data so you could use the data
from your API and just make sure they
have the needed properties and most
important the start and end date and the
title of course but then you can also
specify more and this is why this
calendar component is really great it
allows a lot of customization so you can
attach special CSS classes to your
events you can directly add the color
for the event nice feature is the
resizable feature and the draggable
feature so you can resize and direct
events and just like you know from the
google calendar inside our construct ok
to finish it up of course I got two
events as you can see with a bit
different time hours so you will see
this in the calendar hopefully soon
let's also add the alert controller so
we can alert out some stuff for our view
later perhaps let's continue for now
with the actual home HTML so first of
all we can set the title of the view
depending on our view date which will be
changed and then we can use a function
calendar date so this comes from I think
it should be included in angular
calendar nice pipe which will transform
our view tile off hopefully to the right
thing is it already loading yes we can
already see we're in week 6 of 2018
right now when I'm recording this and
this butanol will be updated if we
change the view of our app of the
calendar so then I will add a little
iron rope and inside an ion column
perhaps we make this a bit more
flexible on bigger screens it will not
take that much space so like this and
inside I will add another row which will
be split up in two different parts
so the first will be three then we make
another one six and then again three so
we come back to 12 we could also add the
stuff here but just let's keep it there
so it's a bit easier for us this is only
needed now for some buttons which will
help us to go back and forth in time
more or less
so I unbutton I can only clear whatever
and now something special comes to the
button as well so we use this calendar
previous with you and this ball
automatically without any further
functions change our current calendar
view to the previous view we also have
to fit in the view I'm not completely
sure if we actually need this but let's
keep it there for now and the view date
is the one we specified earlier inside
our controller and then perhaps add an
ion icon named iOS arrow back and that's
the first button and the second button
is more or less the same but this time
it's not previous view but next view and
of course perhaps use iOS arrow forward
like this in the middle just like in any
good calendar you got the today button
so add a new button they are I can know
that actually no I can only let
take the full space and then this is now
calendar today same property like here I
think we can remove the view pretty soon
so let's see okay I'm on a big screen so
it will be small and on a smaller screen
on a smaller screen it doesn't look that
good what's missing let's see full clear
doesn't look that right three six three
perhaps text center I don't know
something is wrong
I couldn't only do I have to have this
was full as well to make it fit better
oh yeah that looks better okay so this
already works we haven't implemented a
single function for the calendar but you
see we can already change the view
week only using those directives on our
buttons so this is one really cool
feature of the calendar and now let's
show why we're doing what we're doing so
this is the page of the calendar and
normally you've got three views you got
the month view you got a week view and
you've got a debut the problem is from
most calendars you are used to a week
view with dates or rows like this for
each day and this is not really
supported out-of-the-box and this is why
we use this special component calendar
week hours of you whatever because that
module takes care of
using basically a we pew of Angela
calendar and then adding a debut inside
every day of the week okay I hope this
is somehow clear if you get other
requirements of course you might not
need this special component but if you
want to use it I will show you how now
so we start with the IQ calendar week
hours view and then there's really a lot
you can do inside that so let's start
with perhaps the easiest one view date
is our current view date also pass in
the events which is our own events next
you could say something like our
segments so this means how many blocks
will be in one hour two means they have
divided like half an hour each block you
could also change this to whatever for
or anything another cool thing is they
start hours so if you implement a
calendar for a client perhaps they have
opening hours and start at 6 o'clock and
also they got a day and hour of let's
say 20 so you can make the view bit
smaller by removing automatically the
hours your client or your app doesn't
need then this value is actually the
subject where is it right here so it
will listen to this refreshed subject
and whenever it is called it will
refresh the data and we could set the
local also to our local local which is
the German one in this case another cool
thing week starts on most calendars
I think should start on Monday so pick
one which is man named zero would be
Sunday I guess so let's see what this
already work yes it will and it already
looks pretty good out of the box you can
see I can switch the views
I haven't implemented a single function
or any specific styling so it just works
really it is really awesome but of
course we need to implement some events
so we can already see that we can drag
it but it's not working
also one limitation of this calendar is
that it uses the debuts for each of
those rows and the debut of the angular
calendar shows only events of this size
so you can implement your own templates
for the days and everything else but if
you want to use this stuff out of the
box that's just how it looks currently
so okay yes no problem
there are some limitations as I said
also if we now go to perhaps this would
be the iPhone size or some Android
device you see the owl column is taking
a lot of space away the names are too
long and of course not aligned really
good so that's why we need some
additional CSS as well
but let's finish the view up with some
events so the standard one is event
clicked and more event whatever and then
pass in event that event this will be
the actual event the user has clicked on
and you could say our segment clicked
which means we have clicked on any free
slot so normally in that case you would
open some chooser to create a new event
or something like this I will
just pass in this event and then at some
dummy data and then there's also event
times changed this one occurs when you
resize an event or drag it around so
also event
okay so let's add those three functions
to our home ts event and leave and we
cut our segment clicked and we got event
x changed of course all of them will get
an event as well perhaps let's bring in
the CSS as well I will copy this because
it's quite a few things so let's see it
one more time like it is now okay and
then let's add the CSS and let's see how
it looks okay not that different but we
got first of all the current day is
marked in blue which is calendar today
we have some borders edit to the header
and most important for the first child
which is this our column we've set a
fixed width of 40 pixels calendar event
container okay so the 40 pixels you can
see now on a small device it will be
still big enough and all of them not
100% but we will fix this soon by making
the titles a bit smaller and also the
custom event class for our event title
color white bit bigger font so there's a
lot you can do with the CSS and also I
added this one which
made the events bigger but that's up to
you because perhaps if you have a
calendar and there will be only one
event at a time it is really useful and
I look great but if you might have
multiple events at one time 100% of
course won't work ok now we get closer
to the actual logic of our view so
handle event is when we click on the
event and in that case we will simply
create a little alert to print out and
show that we've clicked on the right one
so we could also say that this one will
be an event no calendar event and then
we got code completion and see we got
the title of the event for the message
we could say event dot start + 2 + event
and okay nice code completion here and
of course button to close all of this
and don't forget to call a lot present
in the end so if we now go back to the
view and click on event we get the alert
Tuesday 7:00 to 9:00 okay seems legit
this should be 10 to 12 10 12 okay
say see we now got the first event
handler that handled clicking on an
event
let's make now the hour segments clicked
in that case we create a new event of
the type calendar event so I just wanted
some dummy event in here so let's pick
this one and for the start we use event
date so this should be the starting date
or
column we clicked on and the end will be
event or and hours to event update one
more
so just so one hour event okay this is
just for testing and now you see if we
call this dot events push you might
think everything should work with
younger data binding and everything is
updated but you will see that it's not
so we click somewhere but nothing
happens another hood the events will be
added yes but we are not seeing them
because we need to call refresh next
which tells the calendar to please
reload the data source so if we now
click here we see that a new event
appears and many more test events so of
course this is just some dummy
implementation do whatever needs to be
done in that case one more function
missing so event types changed we can
drag them around or we could resize them
but you see it's not really handled yet
so we can say event that start which is
the actually you went we are touching is
equal to new start I see we have the
wrong parameters so what we actually get
here is event new start new and and this
will be a calendar event times changed
event yes just like this
no I'm not sure if we need something
else no I don't think so and where are
we okay
and the event end is equal to new end
and then to refresh our view again
simply call next again and this will
update it so I hope this would be
working but I'm not sure if the error
comes from the calendar or our second
package because if we drag this around
you see the end times are somehow really
messed up if we change the hate okay
this works for some reason but most of
the time the dragging are really messes
at the end time
therefore I edit this whereas it is
dragging right here so whenever we get
into this function we check if this is
dragging because the problem with the
time is this function is called twice
and we need to prevent this so if it's
already dragging we simply return
otherwise we set is dragging to true and
once we are done with everything we make
a little timeout so timeout perhaps I
think one second is enough and after
that time say this dot is dragging fault
so this makes sure it is only called
once executed and then we are able to
drag it again so now you see no wrong
position anymore resizing works as well
okay also one thing that not working is
now dragging between days this is an
open issue on this special component but
right now you can direct them between
days which is
perhaps a showstopper for you but if you
pick this package you need to handle
this okay so this is already the basic
functionality now we just get into some
little formatting stuff so I said one
thing is this little tool tip really
drives me crazy I don't like it how it
looks and why it is there so we can go
to our custom event titled for madam and
let's change this by this so we use the
calendar event title format our extended
and overwrite the day tooltip and return
simply nothing we could return anything
else here but we return nothing and to
make sure our app is using this custom
event tile for matter we not just import
the provider right here but we use the
syntax you might now provide calendar
calendar event title format use class
our class and the same one for the
second format as well just like you are
prepped used with mocking Cordova
plugins and this is a calendar date
formatter and then we use our own class
so now perhaps it's not working anymore
because the date formatter is brown yeah
I thought so so let's go to the date
format as well and we replace it with
this part again check out the tutorial
really a lot of code here and I don't
want this video to be too long so in
this case we extend the date formatter
right here and overwrite stuff like they
do our the view title at the top so here
we can use for example some German words
and also the column headers
and change how that looks so short date
short day name and the smaller format
right here and then we go back to the
app let's see how it looks now hopefully
it's working okay so we got this German
title up there which was previously a
week we got shorter names for the days
right here and we got also this little
number below and also the time on the
left is changed to a new format and now
if you make this a bit smaller or go to
a legal lab we can see the preview on a
device which now doesn't look that bad
actually
we got the events you can create new
events we can switch weeks ok so again
all of this works pretty good out of the
box with some CSS you see then it's able
to build this for ionic and inside your
ionic app as well but there are some
limitations like we can't direct them to
the other days we have to click to go to
the next week or day or whatever you use
so it's also not perfect perhaps it's
perfect for you use case so give it a
try check out the post for the full code
and also for comparison of some other
calendar plugins that you could use with
your ionic app all of them have some
advantages and some disadvantages so
pick the one that fits your need the
best if you enjoyed this video also make
sure to subscribe to my channel I will
see you inside the next video
have a great day and take care
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>