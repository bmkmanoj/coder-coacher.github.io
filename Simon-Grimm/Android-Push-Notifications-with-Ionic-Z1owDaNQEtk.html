<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Android Push Notifications with Ionic | Coder Coacher - Coaching Coders</title><meta content="Android Push Notifications with Ionic - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Simon-Grimm/">Simon Grimm</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Android Push Notifications with Ionic</b></h2><h5 class="post__date">2015-11-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Z1owDaNQEtk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey everyone what's up this assignment
from deaf technique today I will show
you how to use the ionic push service
for Android push notifications so many
of you requested this tutorial so let's
start a new blank app I will just use
the standard born which is the tap
template but anyway you could also use
your existing app or whatever just
follow these steps and you will get
Android push notifications in really no
time so first of all we need to connect
our app alright now or before we can
connect it we actually want to edge very
cool ion which is ionic platform web
client so this will help us to connect
to the ionic IO service you should have
an account already or you could create
one for free and we will connect our app
to this service in a second so
additionally we also want to add Cordova
plug-in which is the PhoneGap plugin for
push notifications so with this plug-in
we can customize our push notifications
later on but first of all let's call
ionic IO in it and this will connect our
up to the ionic IO service so go to your
dashboard again at EPS dot ionic IO and
you should see your app right here
alright so we have not set up any push
right now and we also need to write a
little bit of code so let's open our JSF
J's and let's go to the ionic platform
right
function and below this code we create a
new ionic push so this is the object we
create which we have from the ionic
platform web client this was a bit more
tricky before but now it's really that
easy and for now just to give our push
notifications a try we call debug true
on this object
and there's not much we have to do we
just have to register ourselves and once
we are registered on the ionic IO
service we will get this callback and
inside we got our token and we want to
lock our device token and this should be
token token so you will see why we need
this in a second all right so that's
everything we need for testing out our
demo push so this is not a real push
this is just a debug push and let's call
ionic serve and I want to serve it in
Safari so here's our app nothing special
right here but we see our device
tone-deaf whatever it is and let's copy
that totin go to your apps platform and
still this should be the same because we
haven't added the real keys for the
Android app and we even haven't created
one but we can send one-time
notification so hello push
and paste your device tone this is my
awesome message and you can leave all
those things on default and let's send
it out it's sending and you see this is
my awesome message so our connection to
the ionic il service is working and our
app can receive demo push notifications
so this is the first step and sitting up
push notifications let's see how we can
use this service for real push
notifications in the next step to set up
real Android notifications you will need
an Android developer account which is
about 25 dollars or euros whatever your
currency is and yes you need this
account to send out real push
notifications and ionic has a little
tutorial what you need to do to get
those notifications working so let's
just follow those steps because they're
really easy so first of all go to your
Google developer console and let's
create a new project if you haven't
already and this is my project I will
call it death tactic push alright so we
created this project let's refresh it
where is it yes there it is and from
this project you need to copy your
project number which is also called the
GCM project number in the documentation
so this is exactly what the first step
is so now we need to enable the GCM
service so as you can see go to in the
soil select ap is and ap is and Earth so
go to api's
and search for cloud messaging for
Android and enable this API all right
so this should be enabled click enable
we've done now we need to obtain an API
key so select ed credentials in the
credential section and we need to add an
API key we select sort of a key and we
just leave all settings to default and
here's your API key copy that key save
it for now and yeah that's exactly
everything you have to do in the Google
console so now there are just some
simple steps cue a tart with our keys go
back to your project command line and
say ionic push - - Google API key and
copy your API key alright Google API key
saved also ionic config set GCM key and
select your GCM key and it's done one
more thing I only config set def push to
false because we don't want to send our
def push notifications anymore by now
all right so let's go back to our code
again there's not much we have to do I
had some problems sending out those
notifications this might be a bit tricky
so just try around but in general I had
to create this new ionic IO so this is
just a line I'm not sure this should be
included in ionic push already but maybe
it's not in the master or whatever not
much yet in the version I have used of
the
what's it called the ionic platform web
client but anyways this line won't hurt
so we leave our new push notification
but we don't need this debug flag
anymore but we want to catch the on
notification event inside our app
because I missed this event and I
thought it was not working but actually
our app received it so let's just listen
to the unnoticed event and if we receive
a notification we just say received
notification so inside this notification
there's a payload there's the message
there the title you can grab all those
things but obviously most of the time
you don't want to just display an alert
message when you receive or push
notifications so inside this block just
handle whatever you want to do with the
push notification and also inside this
object we can pass a plug-in config this
is because we installed the Cordova
plug-in and you can check my block
article and see or find the link to this
yeah Cordova push plug-in on github
there all the settings you can configure
for now I will just pass an Android
config and say the icon color should be
yeah whatever
just blue for now just to see this
config is working alright so this is our
push notification object and we don't
need this line but now we need to send
out our notifications to real device
tones and for this I had to use the
ionic user service which is a service
also of ionic IO so you can identify
your users and if our current user has
no idea by now we should create an
anonymous ID I'm not completely sure if
we need this user stuff but this helps
us to see that when you go to users you
will see the device talk in this section
so it's a bit easier all right so our
user gets an anonymous ID helpful in
your typos and just for your information
you can set some specific parameters or
whatever you want like name of the user
and you can also specify whatever field
you would like to so yeah this is my
little bar and also keep in mind every
time you change something on the user
object you should call users save
afterwards
all right so finally we define our
callback which will be used when we call
push register just like before but
before we yeah we just locked our device
so no we will use this callback function
that's just the same stuff and at this
point we say push edge toe to user which
is our user and also call user dot save
so we will find the total inside the
ionic IO dashboard all right that's not
very much code and this is already
everything you have to do for receiving
push notifications on your Android
device or app so let's give it a try by
now you should see this ionic push and
targeted push inside your ionic IO
dashboard because you edit your GCM and
API keys so I deployed the app to my
Android device and called run and once
the app is open you can go to the user
section and you should see an object
created right here with our biography
our name whatever well you want to add
and most important our Android device
tone so we need to copy this token go to
the push section and you can if you want
send out the targeted push with some
message and those were a bit delayed for
me so I used the one-time notification
and again paste this inside here and add
a title and a notification message and
this is what this notification looks
like on a device I actually found no
other way than recording the screen
but as you can see the notification
comes up
and also the icon is blue just like we
specified and we have this alert message
inside our app so this is exactly what
the push notification should look like
on your device all right
so on my block according article to this
video you can also find how to curl this
push notification so just sending a push
or a post message to the ionic IO
service with your payload and this also
works very good so if you have any
questions or problem just leave me a
comment
especially comment on my block would be
appreciated I hope you like this video
follow my youtube channel and thanks for
listening have a nice day
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>