<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to Create PDF Files with Ionic using PDFMake | Coder Coacher - Coaching Coders</title><meta content="How to Create PDF Files with Ionic using PDFMake - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Simon-Grimm/">Simon Grimm</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to Create PDF Files with Ionic using PDFMake</b></h2><h5 class="post__date">2017-12-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/mlGehHg4oSA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey everyone what's up this assignment
from the ionic academy back with a new
quick win so today we will implement a
simple PDF creation inside our ionic app
and first of all I've started the blank
new ionic app and then I'll go ahead and
install three packages so the first is
the PDF make library and this is what we
use to create a PDF there are a few more
libraries in the market but the PDF make
actually is one of the best I think then
we installed two ionic native plugins
and let me run the Cordova plugin it for
both of them as well so it's the ionic
native file opener which we will use to
open our PDF files and the ionic native
file package to save the PDF file so
save WAV file open the PDF with file
open them and make sure to add the
Cordova plugins for both of them so
Cordova plug-in file and the other one
is Cordova plug-in file open at you so
the file opener two will help us to
actually use a native file opening
dialogue for the PDF files so let's
continue by importing both of our ionic
native packages so this is file from an
ionic native file and then let's see I
can also bring in the view although we
will have to test this on a device later
for now let's at the view as well so
file from ionic native file and file
opener from add ionic native file guess
what opener okay and both of them should
go to the array right here so file and
file open it there and now we're good
here so let's continue with our home
HTML and TS so for the ohm HTML what
we're gonna do is add a few input
elements so at iron item I will add a
label as well looks nice and we will
just capture a few inputs so we can
dynamically add those to the PDF we're
gonna create and we will store them
inside a letter object so the first one
is from perhaps your from name then we
got two so the name to which you want to
send it perhaps and then we add also an
eye on text area looks nice if you want
to capture a bit more of text so you can
add like I'm a variable for Rose and
then you will get this amount of Rose
additionally we need two buttons I on
button fall and unclick we want to call
a function create PDF and this is create
PDF and the second button again but
perhaps let's use color secondary and
this will call download PDF also we want
to disable this button this able until
we've created a PDF so this will be
stored inside the PDF object variable in
a second okay let's run this of course
it is disabled not disabled and then we
need our object inside our home page so
we got from we got two and we also got
the text
okay I will add some dummy values here
so we can directly use this and let's
copy a little a little bit of text
whatever not really needed for you but
so we can see we got some dummy values
and then we got our view from two text
into two buttons so that's what we
wanted to achieve and now we can
actually start so we had this PDF object
as well which we will set later
and inside the constructor we need a few
more things so we will use the platform
later to distinguish between the web and
the Cordova device then we got the file
which is the ionic native package we've
installed before and then we also got
the file opener using file opener from
ionic native all right functions we've
implemented or want to implement our
create PDF so this is the first to call
and then we got download PDF as well so
let me copy in something because the
typing is not really needed here so
inside create PDF we create something
called the duck definition which is
needed for our PDF make library and by
saying this I forgot to import the PDF
mix so import PDF make from and now the
path the bit tricky but it's inside PDF
make built PDF make so this is the right
path for the PDF make but when you run
this you will get an error because
there's some funds missing and you can
fix this by calling import to PDF funds
and those are right here also inside the
build folder
now you need to set on our PDF make the
actual font okay it's a bit tricky and
of course I found the solution somewhere
online but these two lines help to
prevent from crashing and fixes that
some fonts are missing you can give it a
try without and you will see that this
will fix the problem so this is our app
for now as I said the dr. Phoenician is
needed to create a new PDF object and
inside the doc definition you can add a
bunch of things first of all we got a
big content array which contains our
actual text so you can add a text in
this case a time string you can add a
special style property alignment we are
using the object we had before for the
from field for the to field and also for
the actual text you can set the style
either a style property or directly use
something like margin here regarding the
Styles you can see here a sub header or
story and right after the content object
there's a Styles object and this style
object defines those Styles so had a sub
header a story with a few more
attributes font size bold whatever you
like and also just for for the fun I
added something like this you can have
ordered list unordered list you can have
tables you can do all kinds of crazy
things to create your own PDFs and this
is why I choose PDF made for this
tutorial because it's really
first of all easy to use but it's also
flexible so you can create dynamic PDFs
and they can look really great so with
all that said and with our duct
definition object which is hopefully
this yeah we can now go ahead and call
or actually set our PDF object and
use the PDF make create PDF with our
duck definition and this line is enough
to create a new PDF object and we simply
start right here this is no as in Cronus
call so if you want you can directly
chain the next one right here and put
the download command right here but I've
wanted to put it in another function
just to have two buttons and enable them
I don't know you don't have to so for
the download PDF we now need to as I
said distinguish between our actual
platform so if the platform is Cordova
we need some tricky things and else it's
pretty easy in the else case we can call
download on our object created by PDF
make and let's see what happens so we
got this text we got the stuff we hit
create PDF and then we should hit of
course download PDF so let's see create
download and I got the error which I
hope to pre went with a little Hinds up
there so let's see what's wrong
PDF phones ok there's one thing missing
it's inside this package
hopefully let's give it a try again yeah
so as you can see this line or those two
lines are pretty important and now I can
open this file and you see our duct-tape
information the reminder is more or less
ahead up the current date string is on
the right then we got those two with a
sub header styling and our variables
then we got a little bit center text
right here and then we got a little list
right here
so this is our PDF file and then the
browser as you can see no problem simply
download works but this is not working
on a device and therefore we need
to convert our PDF object to a blob and
then write this blocked file to Cordova
data directory and then open it let's go
through all of this so what we can call
on the PDF object is get buffer this
will give us a buffer object which we
can then use to call some conversion to
utf-8 so new you int eight array using
the buffer then you can convert it to a
binary array calling offer perhaps I'm
not sure perhaps we could directly use
this buffer but let's keep it like this
and then you could finally create the
blob object and use new block with our
binary array and for the blob we set the
type to be application PDF so it will be
recognized as a PDF once it is stored
hopefully so now we got the blob and now
we make use of our Cordova plugin and
call write file so first is the pass and
here we use simply the data directory of
our app the second one is the file name
and I will just call it my letter dot
PDF then we got the actual block which
is our block and finally we could
specify some options so I will add
replace true which will always override
our file this promised which will return
a file entry and now you don't really
need this file entry but we use the file
opener and call open and we already know
the path which is
exactly this but of course with A+ and
also the file mimetype is missing but we
know the mimetype should be this because
we've said this before so now we can
open the file ok actually this is
already enough let me hit the Cordoba
command and then I will close this for
now so as you can see if you're just
using it on the browser it's super easy
if you use it on a device and want to
download store share the PDF file we
need to get a bit more tricky right here
and convert the object to a blob file
perhaps those two lines are not
necessary I'm not completely sure in
this moment I will give it a try without
but those two lines help us to write the
file to our apt file and then once it is
Britain we can simply use the native
file open which will give us a nice view
so let's see this on a device in action
okay so here's the app on a simulator
again the fields and the text I've
previously added so now I can hit create
PDF and download PDF and what we see is
the preview for PDFs on iOS and although
my zooming isn't so good you should see
that it's still the same and by using
this preview we also got the benefits of
the sharing dialog so on a device you
could now open the email open Twitter
whatever and share this PDF directly
with your users so this is how you can
easily create a PDF perhaps give a try
to remove these lines and directly use
the buffer object for the blob might
work as well but in general this is
really powerful libraries so check out
PDF make their documentation and how to
create more powerful PDFs
following these steps you can get it
working for both your Cordova device
using a little heck or directly inside
the browser was just one line that's how
you create a PDF file using ionic and
PDF make for more great ionic content
also check out the ionic Academy which
offers training videos courses and great
community that will help you to get
started and learn ionic a lot faster so
check it out and I will see you inside
the next video have a great day and take
care</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>