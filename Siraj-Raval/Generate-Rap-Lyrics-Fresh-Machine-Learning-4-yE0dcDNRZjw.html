<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Generate Rap Lyrics - Fresh Machine Learning #4 | Coder Coacher - Coaching Coders</title><meta content="Generate Rap Lyrics - Fresh Machine Learning #4 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Siraj-Raval/">Siraj Raval</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Generate Rap Lyrics - Fresh Machine Learning #4</b></h2><h5 class="post__date">2016-07-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/yE0dcDNRZjw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">you suck rhymes like mine can't be beat
that hurts my feelings
oh sorry do you wanna play Pokemon go
instead sure yes hello world it's Suraj
and I am a big fan of rap music there's
plenty of rap that degrades women
promotes violence and glorifies the
gangster lifestyle but for all of its
negatives rap is also a medium for some
incredible storytelling it's a glimpse
into real human suffering in a hopeless
place a cry for justice a distillation
of a human spirit of rebellion and it's
not just the content of rap that's
compelling it's the style let's not even
think about the subject matter for a
second rap gives you a certain lyrical
freedom that nearly no other musical
genre can it's all about the rhymes
there's the perfect rhyme words that end
with the same sound there's also the
assonance rhyme where only thou sounds
are shared like and so because there's
so much creative potential in the rap
game we might need to introduce a
digital MC to the scene am i right what
if we could get a machine to understand
rap lyrics or even write them it's not
like this stuff hasn't been tried before
it has several attempts have been made
to try and understand lyrics using
machine learning but one attempt in
particular got some really great results
a pair of researchers at Hong Kong
University decided to download the
lyrics to 52,000 rap songs then trainer
models that given a novel song the model
could identify its rhyme scheme so you
wait a bigmac your breath is wack you
need a tic-tac take the whole pack it's
an example of the aaaa rhyme scheme
since all the ending words rhyme whereas
life is a dream future is now
ie ice cream Bennett's a cabal is an
example of a B a B since every other
line rhymes the model they use to train
on the lyrics was called a hidden Markov
model let's remove the word hidden for a
second and talk about how a plain old
Markov model works let's say we want to
predict the weather and let's also say
that the weather can only be one of
three states either sunny cloudy or
rainy 400 days we record the weather and
record the transition between each day
whenever we want to find the probability
of the weather being a certain state
after a given day we can just tally the
number of transitions of that type and
divide the number of day
hundreds that's how Markov models work
they help us predict the likelihood of a
future state pretty useful right but
what about a hidden Markov model well
suppose we can't directly observe the
weather so we can't really calculate the
transition probabilities the model is
hidden from us but we can observe
related phenomena like the number of
people with umbrellas on a given day
because Rihanna said so so using one of
many techniques we can still find ways
to calculate the transition
probabilities using these related
variables so hidden Markov models are
pretty cool and their entire textbooks
devoted to how they work in fact they
can be used not just to classify lyrics
but generate them as well that same pair
of researchers published a later paper
you know how during a cypher 1mc
challenges another with a verse then the
opponent is supposed to spit back some
sick rhymes they trained in hmm to do
this the results were interesting but
let's just say their digital emcee
wasn't exactly the second coming of
Tupac let's take a look at a fresh
approach a group of researchers
published a paper just last month called
dopes learning a computational approach
to rap lyrics generation legendary they
use an algorithm called ranked SVM which
was partially powered by a deep neural
network and they fed it a data set of
all the songs from the top 100
english-speaking rap artists no idea how
Lil Wayne got on that list so how does
this algorithm work well first they
needed to extract features from their
rap corpus to feed to their model and
they wanted features that represented
three metrics rhyming structural
similarity and semantic similarity all
those three metrics the semantic
similarity was the one that required the
use of a deep recurrent neural network
the neural net did what it does best
it found vector representations of words
lines and groups of lines once the
features were calculated they were input
into the ranked SVM model ranked SVM has
a support vector machine by the way
which is just a type of linear
classifier and the SVM eventually
learned to predict the next line once it
was trained on the input features they
also wanted to find a way to quantify
how good their algorithm was compared to
human MCS and so they calculated
something called rhyme density which is
the average length the longest Ryan per
word using rhyme density as a metric
they found that the algorithms generated
lyrics had a 21% higher density than the
most rhyme dense human artists on their
lists and inspected
wait who let's find our own rap lyrics
generator using a hidden Markov model in
Python we only need two dependencies
here random which help to generate
random numbers and re which helps deal
with text format our highest-level
method is called test Markov init will
initialize an empty array called wrap
live then add all of our lyrics to the
wrap library and return the wrap
generated from the wrap library using
the stop word that was input by the user
the generated wrap will always start
with the stop word let's take a look at
the add to live function it opens the
lyrics file then constructs an hmm it
iterates through every word and checks
its record to see if it's a new word or
sequence if a warder sequence has
appeared before it won't rerecord it
then it changes each count to a
percentage value or a transition
probability so once we constructed our
model we can run the make wraps function
it will take both the set of lyrics and
the start word as the parameters it will
continuously generate words via the
markup next function for up to 50 words
the Markov next function EDA returns a
random word is the word it's novel or
find a word from the model
probabilistically let's test this out
and see what it generates I'll start off
my wrapper with homie homie grows on
Annie
likely on totin inspired enough
basically boy coming period damn so dope
check out the link down below for more
info and please subscribe for more ml
videos for now I've got to go pick some
malformed requests so thanks for
watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>