<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Decentralized Data | Coder Coacher - Coaching Coders</title><meta content="Decentralized Data - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Siraj-Raval/">Siraj Raval</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Decentralized Data</b></h2><h5 class="post__date">2018-04-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/BQx0NZgLgtU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">a world it Siraj and today we're gonna
talk about a product called data wallet
which is a decentralized data exchange
this is really important because this is
a way for us to get to a future where
users can own and profit from their data
right with the old delete facebook
campaign etc etc um and we're gonna
we're going to at the end build a
solidity contract so what you're seeing
here is a tic-tac-toe game built in
solidity so it's running on the etherium
blockchain so if I hit start game I have
to make sure that the players addresses
are different I'll hit start game it'll
load it and load them up I'll play a
move okay and then the other player will
make a move that and each of these moves
is on the blockchain so you can find a
link to this demo in the video
description what I wanted to do was just
show you something really cool that you
can build in solidity really quickly and
then get back to this demo because at
the very end we're gonna build an
exchange contract and solidity that's
not this it's something different but I
just wanted to you know get you you know
whet your appetite a little bit about
this stuff because it's really cool so
what is data wallet so if we look at
this data wallet it's an iOS app they've
got an Android app but what it is is
it's a blockchain based data exchange
that I found that I think is really cool
so you know open mind there are several
other data exchange platforms out there
and I really like this one okay so the
idea is that you can sign up for this
and this is kind of like the flow of the
app that you can see right here but the
idea is that you sign up for this app
okay and then you can pull so look at
this image right here you can pull your
data from Facebook from Twitter from
Airbnb from Amazon all of these
different centralized keyword services
you can pull them into this app right so
it's storing all of that data in some
and in one source right and then once
you have this source you can get paid
for this data so advertisers you know
data analysts companies all sorts of
people who want your data they pay you
directly there is no third party you
know Facebook shout out to Facebook go
down Facebook but yeah none of that it's
just they're paying you directly so what
this means is that users can generate a
passive income from their data this is
very exciting and it's one of the first
steps towards getting towards web for
point out so so data wallet it gives
users complete ownership of their data
and what they get is the data exchange
token DXT so they have an internal token
that acts as both an asset as both a
currency and as a security so it
appreciates in value over time as more
people join the network so you can
either spend your dxc you can convert it
into fiat or you can just hold huddle
and just wait as a network grows and
then that that's gonna appreciate over
time and you can sell it later on for
much more that's the idea because you
know that's the token model right so it
also provides a data API for that
enables developers use this data to
build apps and we'll talk about that
later but it's it's kind of like an
all-in-one solution so why is this
useful if you don't know in the past two
years now at two years ninety percent of
all data that exists has been created
that's insane okay that's insane
two years the majority of the world's
data was created that's a lot of data so
we need new business models to help us
interact with this data and profit from
it crucially so the data you generates
currently through your use of social
media as whether you take a picture or
you take a video etc I make a youtube
video
it's monetized and controlled by these
companies that you're uploading to what
data wallet does is that lets you share
data as you wish and earn money from it
okay so a data wallet profile gives you
data mobility it allows you to easily
plug into any a I powered app and get
personalized services I'll talk about
that in a second what I mean by that but
you can trade your anonymized data for
to businesses or developers to lists
contract offers so it doesn't even have
to be linked to your identity to your
name it could be your you know heartbeat
your blood pressure your you know where
you live but it doesn't necessarily have
to be linked to your identity like this
is Suraj is no this is just an identity
of a person and here's everything else
about them so you can stay anonymous and
profit from your data best of both
worlds so what it's doing is it's using
smart contracts to do this and I'll talk
about that in a second as well but
contracts specify the type of data it
will collect and the benefit offer
namely their data exchange
so the problem right now is that data
brokers people who want to make models
based on your data they have they have
to employ these probabilistic models to
approximate the likelihood of certain
data points belonging to certain users
so they'll have no employer model those
that'll say well it's 70% likely that
this person likes you know sports drinks
because they're part of this group it
hasn't been probabilistic because the
data is still fragmented across
different platforms but if all that data
was in one platform and the user
controlled it there's no you know room
for any kind of corruption that would be
ideal because then you could sell it for
all of that for much more than even
Facebook could write because you now
have your Facebook Twitter everything
data all right in one place so it's much
more valuable to you and therefore it's
much more valuable to data brokers so
there are a lot of applications for this
right this here's a classification of
all these different types of data out
there but market research right so right
now it's not automated this data capture
but this would allow for entirely
automated data capture of every single
bit of your data if you so choose and
you could profit from it so it also
allows for deterministic advertising
like we talked about before instead of
having to employ probabilistic models
advertisers can now deploy deterministic
models it allows for personalized car
insurance right so instead of saying
well I guess based on this person's
Facebook data they're you know likely to
not crash you can say oh you know a car
insurer can say well based on this
person's entire history I can give them
the right type of insurance loan
underwriting psychographic hiring you
know anytime that a company or a person
is trying to assess you for whatever
reason whether you're willing to do
you're able to you know properly pay a
loan back or pay the rent on time
or do a job instead of just taking these
fragmented data pieces like a resume for
example it's just one data point they
can get all of that and you can give
them the permission to do that and you
can get crucially paid for it right so
that's that's the key here so let's look
at the text stack that they are
employing right here so what you're
seeing here is a model for how this
works right so on the far left you see
all of your you know different data
points it goes into your data wallet
profile as you you know you opt into it
that data is processed and
you can exchange that and this is where
the smart contracts come in for for
money right and firfer for actual value
and give it to these customized products
and enterprise customers right so what
what the what the text stack a data
exchange uses is using postre so that's
that's a database it's the it's using
its front-end is via JavaScript very you
know that's standard if the backend is
using node Python and golang shout out
the golang great choice of language the
front-end is using cloud front and s3
okay hold on a second we'll talk about
this back-end is using ec2 monitoring's
using cloud watch deployment terraform
and of course blockchain is etherium you
might be asking wait a second all the
data is stored in a single server it can
be so the user is provided with two
options option one is they can store
that data locally so you could store it
on your own computer and then allow
access to it or you can store it on
their server but it's encrypted
client-side so they they are not able to
see what that data is you can encrypt it
on your local machine then send it up
and only you have that private key so a
lot of services already do this but it's
like you know like a private version of
Dropbox for example but basically you
encrypt that data locally then you send
it to the server so you can consider
data data wallet adapt you mostly it's
mostly decentralized service that is
production ready right and of course we
they could you they could have used ipfs
for this but you know there's still
steps to go and maybe in the future that
they'll they'll use that ok so what I
want to do now is I once you build an
example of an exchange contract and I
don't I'll tell you what I mean by that
to give you an idea of of how they're
doing this and what an exchange looks
like on the blockchain right so there's
a reason they're using the etherium
blockchain for this right because if
they didn't use the etherium blockchain
if that exchange code was all on a
central server if it was closed source
then no one could see what they're
really doing with your data rights are
they really giving it to that party that
you authorized are they selling it to
other third parties you don't know but
if that code is open source and runs on
a blockchain it is publicly verifiable
you know exactly where your data is
going right and yes it's stored on a
central server but it's
cryptid client-side so you're secure in
that way so what I want to do is write a
very simple exchange contract in
solidity to show you exactly what I mean
when I say that you know solidity is a
great language for for doing these kinds
of things okay so I'm going to write
this code in the online solidity browser
called remix it's it runs on the test
aetherium blockchain so what this
contract is going to do is it's going to
allow two people to exchange goods over
the Internet in a trustless way okay so
if you think about it how do I ensure
without a third party that if I sell you
a good how do I ensure that you will pay
me for it right instead of just
receiving it and keeping the money for
yourself
well there has to be a way to do this
now I'm gonna explain to you before I
code this out all right so two people
per person a and person B buyer and a
seller okay so what happens is the
seller and the buyer will both deposit
to X the amount okay into an escrow so
to X the amount of the of the item that
they want to you know sell right they
both deposit it into escrow the seller
will then send the item to the buyer
okay the buyer then receives the item
okay the only way that the that the
buyer can then retrieve their own funds
is if they um if they unlock their funds
and the second they unlock their funds
automatically the sellers funds are back
are unlocked again do you see what I'm
saying so there's no way to cheat the
system if I send you a good before I
send it to you you have to deposit to X
that amounts I have to deposit to X that
amount you receive it and the only way
to get back that amount that to X that
there's a reason it's to X so you can't
game the system by selling that item
later because you've already deposited
it to X that he's by unlocking your
amount and then it automatically unlocks
my amount you see it wasn't and if
there's two X for the for the seller
because then they get both the amount
that the item was worth and their
original deposit back so what we're
gonna do is we're gonna programmatically
code this out right so we always have to
define the version of solidity first so
that's what I'm gonna first do here
though it's gonna be 0.04 twelve to one
okay and so this is gonna be a purchase
contract I sold to find that class as a
purchase class now the first thing we
want to do in these contracts is write
out those values that we're going to
easily used throughout the code the
first is the value itself write to the
value of the item we're gonna have an
address for both the buyer and the
seller so these are gonna be public
addresses that I can type al right here
and then lastly we're gonna have some
states right so we have to tell you know
whether this contract has been created
whether it's been locked whether it's
been inactive and this is going to
represent that and lastly we're gonna
have that state variable as well so now
let's write out our most crucial
function first which is the purchase
function okay it's a public function it
is payable of course because we want
these buyers and sellers to be able to
send that function some money right in
this case is gonna say well who is the
seller well it's gonna be the sender and
what is the value well the value is
going to be that amount divided by two
that the seller is gonna send and it's
going to require two times like I said
before two times that value to get the
message value and that's it for that so
this ensures that the message dot value
is an even number that's why I did it /
- the division is going to truncate it
so even if it is an odd number and it's
gonna check the multiplication if it
wasn't an odd number so that's the
purchased function okay now we can move
on to the the condition function but
actually there's there's actually
several of these
modifiers I'm just gonna paste right
here so what the modifiers are
responsible responsible for it's just
checking for conditions is it only the
buck is it the buyer who's sending this
is it the seller is it is this the
correct state so this is just verifying
where we are in the app and once we do
that then we can pad in more functions
okay so one one event that could occur
is that this whole exchange is aborted
so we'll have that well another event
that occur is that the purchase has been
confirmed another event that could occur
is that the item was indeed received
right so different events can occur at
different times so now what I'm gonna do
is I'm going to write out or just paste
in the rest of this so we can see what
it looks like but okay so the abort
function is very crucial here what it
does is it it boards a purchase and you
can reclaim the ether and this can only
be called by the seller before the
contract is locked so this is before the
contract is locked so what that means is
no one has deposited anything okay then
let the seller go ahead and abort this
right but once you deposit something you
cannot abort it right that's the whole
point of an escrow you cannot aboard
that escrow
now the confirmed purchase is also very
crucial because what it does is it
confirms the purchase as the buyer the
transaction has to include two X the
value in ether and the ether will be
locked until confirm received is call
which we'll look at in a second so it
says okay what's the state what's the
condition and is this payable then omit
the purchase confirmed set the buyer and
set the state to locked now confirm
received will tell this the contract
that the buyer has indeed received the
item that's that's that crucial point
right did the buyer received it and the
buyer is the one who unlocks this by
sending ether rights they say okay well
I received the item let's let's confirm
that I've received it so if you have
some kind of user interface you can
easily you know switch that up and you
can just have it be a button for that
user so they don't have to worry about
anything else but we're just writing up
the you know strict code here there's
also ejs that allows you to make a web
app beautiful web app like I showed you
for tic-tac-toe
as a beautiful interface but this is
just you know happening on the
blockchain so once the item has been
received we have to change the state to
inactive the buyer then transfers that
value and this
Celer transfers that that value as well
so they both receive their funds the
funds that they deposited okay okay so
that's it for this example I hope you
found it useful and yeah please
subscribe for more programming videos
and for now I've got to own my data
though thanks for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>