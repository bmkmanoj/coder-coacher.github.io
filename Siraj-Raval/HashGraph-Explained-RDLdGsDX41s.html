<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>HashGraph Explained | Coder Coacher - Coaching Coders</title><meta content="HashGraph Explained - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Siraj-Raval/">Siraj Raval</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>HashGraph Explained</b></h2><h5 class="post__date">2018-04-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/RDLdGsDX41s" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello world it's Suraj and hash Graff
I've had so many requests for this video
I'm what I'm gonna do in this video is
explain what hash graph is how it works
where it's from how it defers from a
blockchain and we're gonna at the end go
over the demo code that you're seeing
behind me right now which is a
visualization of the hash graph data
structure okay so that's the demo that
we're gonna be you today you can see the
code for this in the video description
and I'll go over a bit of it at the very
end but to start off let's quote none
other than the CEO of hash graph as he
says hash graph is an alternative to
blockchain a first generation tech with
severe constraints in terms of speed
fairness cost and security he's talking
about the blockchain right here a
fundamental bottleneck has been the
performance of the blockchain how many
applications are there that can run on a
database that can do just five
transactions a second not many so that
was his critique of the blockchain and
he was saying that hash graph is better
in all of these features in terms of
speed and fairness cos and security but
is he correct well let's find out
ourselves
I'm gonna try to be as has non biased as
I can be in this video because I you
know what I just can't even do that I'm
gonna be biased I I think it's a cool
technology for sure but I'm skeptical
I'm just gonna say I'm skeptical right
right at the start but let's just go
into this and let's let's talk about it
here right so they've got this cool
little picture of hash graft versus
blockchain it is a data structure right
it is just like the blockchain in that a
hash graph is a data structure with an
Associated distributed consensus
algorithm right so what is that
consensus algorithm we have to ask
ourselves when it comes to any kind of
blockchain is it proof of work is it
proof of stake no in this case it's
neither it's a proprietary not a
proprietary but a patented algorithm
okay and it's it uses two techniques the
first is called gossip about gossip and
the second is called virtual voting I'll
go into both after this but hash crap
was developed by a cool dude his name
was Lehman his name is Lehman Barrett he
has a PhD from Carnegie Mellon well
educated dude
he's worked for a couple of cool
companies in his lifetime as a research
engineer he's been Linda's blockchain
space for about three years now and he
founded this company called worlds which
patented the hash graph algorithm Oh
so that's strike one for me you don't
just patent software in this open source
space right that goes against the whole
open source protocol thing but look it's
cool
he's a kind guy here's another thing be
so hax graph is very similar to iota
check out this meme uh by the way hash
crap is very similar to iota in that it
offers a solution to scalability right
so Bitcoin and aetherium and all these
different block chains they have a
problem when it comes to scalability and
there's a lot of different solutions
that people are offering in the
communities the proof of sake for one
example or delegated proof of stake
sharding lightning network state
channels all these different ways to get
around the fact that block chains do not
scale and iota said let's just do away
with all of these different features
let's offer a different type of data
structure it's not even a blockchain and
I'll talk is called at angle and I made
a video on that check it out to search
Siraj iota on youtube you'll find it
first link but it's similar to iota in
that way in that it doesn't use a block
chain it uses its own data structure so
this meme is kind of like you guys when
you guys have been asking me for this
hash crap stuff it's like you know block
chains over here it's like yo hold up so
it's considered fast okay so it's
considered fast because of its use of
the gossip about gossip protocol which
spreads messages across the network fast
and it works in a private permission
based setting hold up what did I just
say for a second okay they use these
numbers they say 500,000 transactions a
second 600,000 transactions a second you
know meanwhile bitcoin is doing what 10
10 between 10 and 100 what is the theory
I'm doing between 10 and 100 how could
they possibly compete with hash breath
well guess what
hash graph is a private permissioned
blockchain okay so I'll go over what
that means right here so here's the
difference here between public and
private blockchains public brock chains
are you know public anybody can read
them
buddy can become a node in this network
it's public right so it's open readwrite
access to the database the database is
the blockchain private ones are
permission read or write access to the
database that means that all of the
nodes in a private blockchain are
permissioned beforehand that means their
identity is no right so you have to
trust the nodes all the nodes are
already trusted what that means is that
there is no possibility of a civil
attack a civil attack is when an
attacker gains the majority of the nodes
in the network right by creating a bunch
of different accounts and once this
attacker has the majority of the network
that can approve their own transactions
right and that causes the double
spending problem and Bitcoin solve this
by implementing what's called the
proof-of-work algorithm so all the
people in the network the miners they
have to solve these random mathematical
problems and then in order to have more
than 51% of the network a bad actor has
to have more computing power than the
majority of network which nobody does
because it's so vast but when it comes
to this because it's private there is no
need for proof of work so of course it's
gonna scale proof of work is so
expensive right so if you have a private
blockchain and all the nodes are already
trusted then you would need proof of
work you wouldn't even need proof of
sake you would need some different kind
of consensus mechanism which we're going
to talk about but of course it's gonna
be faster and what is a use case for
something like this if you're IBM if
you're some kind of consortium of
companies or banks for example you know
like ripple was used with banks if you
have assessed a set of trusted nodes
these are branches of your Brandt bank
these are you know maybe some kind of
security device for your IOT you just
ecosystem that you're trying to build
you know you've got some thermostats
here you got some little bit of this
here a little bit of this here you know
different type of types of devices and
then of course you can trust all of
those nodes because they belong to you
so something like this would be helpful
it's not to say that hash graph is not a
useful protocol of course it is but it
you have to be very specific you can't
my gripe is that people compare it to
Bitcoin and aetherium don't do that if
if hash graph went public then it would
it would be civil
in a day or less right because there is
no consensus mechanism that prevents
that and what's working in a private
setting this virtual voting and gossip
about gossip protocol consensus
mechanism won't work in a public setting
so I just wanted to make that very clear
it's not a bad protocol it's actually
pretty cool but don't compare it to
Bitcoin and don't just say like oh well
Bitcoin can't scale enter hash graph
sprinkle some hash graph on it you know
problems are over it's not like that so
in a non permission setting like in
Bitcoin the noes participating in the
consensus protocol are not known
beforehand that's in the Bitcoin
protocol so I can be someone who nobody
knows I can be anonymous
I can be pseudonymous and I can just
join and I can be a part of the Bitcoin
network not so when it comes to hash
graph hash graph is considered an
asynchronous Byzantine fault tolerant
protocol and it is not deterministic
that is a mouthful to take in but
Bitcoin solved this problem where you
have two generals right there's a valley
in the middle and they're trying to
decide when to attack but they can't
trust the other side like well I don't
know if he's gonna attack first I don't
know if he's gonna attack first they
have to be able to attack in a trustless
fashion so that's why it's called the
Byzantine generals problem how do two
nodes come to consensus right even if
one of the nodes is adversarial right so
how do you create a network a graph a
collection of nodes where you can
operate this Network it will run they
can come to consensus on some state
without having to trust all of them like
one or two or three or you know X number
can be adversarial or bad nodes and so
Bitcoin solved that with the
proof-of-work
algorithm and so half graph solves that
with the this gossip about gossip
protocol / a virtual voting algorithm it
is not deterministic what what I mean by
that well deterministic algorithms are
ones where you can predict how many
steps that algorithm will take how long
it will take you can determine them
beforehand but this is a probabilistic
algorithm where you can't tell how many
hops it's going to take or how
it will connect you to come to consensus
or how long that will take
it is probabilistic in that way like
life is to get kind of meta life is
probabilistic not deterministic unless
you believe in fate which I don't you
got to make your own destiny words of
advice thrown into hash graph
explanations so how does this thing
compared to blockchain really like that
is it really compared to blockchain so
we know that the blockchain is a chain
of blocks right chains of blocks these
are data structures objects we could
code one up in 80 lines of Python and I
have C my video power of the blockchain
Siraj just YouTube that and so we have
this blockchain right so each block has
a hash of four of its transactions and
it has a pointer to the previous block
and it's just a chain of blocks like
that right so the hash graph is
different in that it's not a chain of
blocks and it can it stores what are
called events I'm gonna go into this in
detail in five minutes
let me just explain a few more things
okay just just a few more things
so if hatch graph were to be in a public
setting it would say face the same
scalability problems as Bitcoin and
ethereal and aetherium is it uses POS
for the Casper protocol neo implements
decentralized Byzantine false tolerance
cos has delegated proof of stake these
are all different solutions for scaling
right and so we also have to define what
do we mean when we say scalability are
we talking about scaling the number of
users are we talking about scaling the
number of transactions or how about the
size of network there's a lot of
different dimensions to scalability and
when you increase one you could decrease
the other so there's not a silver bullet
that is a catch-all solution for
scalability as of now and if I were to
be working on blockchain research in
blockchain consensus research
specifically I would focus non-stop on
these scalability problem how do we
scale these things in a public way
because if we do that then we get to the
world where amazing decentralized
applications are possible see crypto
kiddies for example crypto kitties
overloaded the ethereum blockchain at
one point almost a third of transactions
were storing these meaningless not
meaningless but like meaningless
at tradable right so there's that so
anyway that's hash graph so so right so
this is what the hash graph looks like
compared to the blockchain it looks a
lot more complex there are a lot more
connections it's not as simple as just
blocks connecting to each other so let's
just go into how this works but actually
one more really important bit to go over
before we get into that so
characteristics between hash scrap and a
blockchain check out this awesome
list it goes over what we've already
talked about one is a chain of blocks
the other is a directed acyclic graph
that looks like a tree a dag right so
iota is also a dag modes of operation
block chains are open source permission
list public or private hash graph is
well it says public or private but it
can be but right now this is this is
private it's private the it is patented
and it is governed by a company and this
it's got that legal patent on top which
I don't like but anyway anyway so the
consensus models they use proof of word
versus proof of stake versus this cross
a protocol probabilistic versus
immediate trust list or both trustless
one is slow one is fast one is
inefficient one is cheap yeah yada yada
yada decentralization questionable with
the proof of work because you know these
miners are controlling all these
gigabytes of hash rates and stuff versus
yes this is decentralized so how now for
the key stuff thank you for waiting for
this now for the key stuff how does it
come to consensus so here we go okay so
stay with me all right
so here we go let's let's get our brains
let's get our brains ready for this so
we've got four different nodes in this
hash graph we have Alice Bob Carol and
Dave right so ABC and D there are four
nodes in our little hash graph right now
okay here's how it works
each member starts by creating an event
which is a small data structure in
memory okay this is an empty data
structure we've all got events memory
good four of us let's go
okay so now what's gonna happen is the
community is gonna run what's called a
gossip protocol this has been around
in computer science for a while but
basically if you have a network of nodes
how do they talk to each other how do
they gossip oh this person did this or
this node did this oh and then the other
knows like well this node did this and
you know you know it's like if you have
a circle of people and you have a secret
and you tell it to the next person and
they tell it and they tell it that's
gossip in this case right so it just
means messages being passed between
nodes in a network right so here's what
happens first all of this is random
remember it's probabilistic not
deterministic some node will be chosen
at random it's gonna be Bob in this in
this case Bob will choose to call Dave
okay so what that means is Bob is gonna
send a Dave in a message gossip all the
events that he knew that Dave did not
know yet so this could be a single
transaction that Bob is made okay so
let's just say a single transaction he's
sending it to Dave Dave then records the
fact that this sync happened by creating
a new event and this is the new circle
okay which has lines going straight down
to his last event so there so watch my
mouse here so there it so Bob now has a
connection between himself and Dave and
from Dax down today for I so Dave there
are two connections here there's one two
and then one and then Bob back to
himself
so both Dave and Bob now have two
connections on both of there in both of
their histories right so now this new
event that bob has just sent today is
called an event so it's kind of like a
block and that it so it stores some
transactions this could be one
transaction it could be several
transactions and they all point back to
its two parents right so in a tree you
each each leaf has two parent nodes in
this case this case for this event that
Bob passed to Dave that those two
parents will be Bob and Dave
respectively okay so that was that now
okay so we had the first events happen
then Dave is gonna send Bob all his
events remember this is just random he
could have sent it to Carol whatever
Alice but he then sends Bob all the
events including the new one he just
created so maybe Bob sent meant made a
transaction he gives it today Dave then
made another transaction he gives it to
Bob and so etc right and now their past
all of these transactions is his trip
transactions to each other in the form
of events Bob then randomly chooses
Alice and sends over all four events he
knows about to Alice right so let's say
there are four transactions it could be
more than that but now Alice has that
ledger okay so this just keeps
continuing forever and ever and ever
rent not forever and ever but yes
forever as long as the network is
operational to all the nodes just
randomly and it creates this directed
acyclic graph or hash graph okay and
because all of these events contain
hashes it's called a hash graph and each
event contains the hashes of the events
below it an individually signed by its
creator similar to how blocks point back
to previous blocks in the network and
it's useful to define a round created
for each event so we talked so this this
part was like us talking about how the
gossip protocol works right so how are
these nodes gossiping now comes the
virtual voting right so now what happens
is all of these are all of these
transactions are split up into events so
in this case let's say 1 2 3 4 different
events and once we have these events
it's just a way of organizing all of
these transactions we're gonna create
what are called witnesses and witnesses
will vote on the validity of
transactions so the first the first
event for a single node will be called
its witness so for Alice that will be a
1 and in the first event a 2 and the
second a 3 and then a there's not an a 4
right so a node doesn't necessarily have
to have a witness in a single round and
then once we have all those witnesses we
have to determine if it is a famous
witness and in this case a famous
witness is one that is used multiple
times right so how many times and once
we have famous what a famous witness
they can have an election in which each
of those witnesses will vote on whether
or not a certain witness is famous right
so this is their voting mechanism
between each of them is this witness
famous is it not how often has it been
used and what that means is how often is
this transaction been passed you know
between different nodes and if it's
valid has been passed
a lot right because it's been voted on
quite a lot so the longer a note the
longer some transaction is is maintained
in this hash graph the more trusted it
can be because it's passed this both as
virtual voting and this gossip protocol
okay so that's how it's used in at a
very high level there's they're more
details here but I'll link to those in
the video description so who's using
this thing well I found one cool
partnership with VMs software so VMs
software has a bunch of different
clients for mission critical systems
stock exchanges international banks
global retail chains and hash Kraft has
partnered with them to allow them to
give their customers the ability to
securely implement and operate the next
generation in distributed applications
so that is a cool application right this
is a private company they have their own
private nodes and they want a way for
their nodes to be able to talk to each
other in the fastest way possible and
maintain a ledger perfect use case for a
private blockchain now hadera hash graph
is in the works right so I am very
skeptical because it's not done yet
right so I'm not gonna say oh this is
amazing magical but hadera is the public
version of the hash graph protocol right
so it is them saying let's make a public
blockchain using our technology that I
just talked that I just explained how it
works to you right but then wait a
second the consensus mechanism we just
talked about wouldn't work in a public
case because all the nodes can't be
trusted right these are random anonymous
sometimes pseudonymous nodes well they
are going to implement what's called
it's it's essentially called delegated
proof of State they're not calling it
that but it is delegated proof of stake
in that they have a special Council this
is a Council of different organizations
which will vote on the validity of
transactions so it's not completely
decentralized it's not completely
centralized it's somewhere in the middle
so I actually think delegated proof of
stake is a pretty good idea and I'd like
to see more blockchains use it but
anyway they're they have some very
ambitious aims for this hadera platform
where they want to offer smart contracts
micro storage so decentralized storage
and their own cryptocurrency for
allowing for micro transactions so
that's in the works so a lot of the
problems I talked about they're working
on we'll see if it works out but I do
think that it's cool that their founders
are very nice in general nice people the
founders of iota are not they tend to
disk people on Twitter and if you and
dis they're competitors and generally in
this day and age if you are putting your
competitors down you will not win
because it's a very cool it's a very
tight-knit ecosystem and you want to
bring people up and not put people down
and so I think that the founding team
for hash graph they are good people and
they'd never put people down so that is
one thing that I like and I I do think
is a good thing anyway let's look at
this demo right so I found this really
cool Python demo of it right so they
haven't released their code well but it
is on github it's just that it has a
patented license so you have to talk to
them if you want to use it in some way
so that's the only caveat to think about
but let's go over some of this code here
so it's called swirled and it's in
Python and we can see what a node looks
like here but all the instructions are
in the github readme and in the video
description but right here we can see
what a node looks like what's got a head
it's got a round consensus votes
witnesses these are all features that I
talked about right so it has it has
attributes for all of these things you
can create a new event it is this event
valid let me add an event and look at
this just comes out to under 345 lines
of code I think this is the best code to
look at if you want to get a really
technical understanding of this code
base but I think the the most important
bit here is this let me see
you
is this algorithm right here find order
what is the order of transactions right
so that's that's what all these
consensus mechanism these blockchains
DAGs these Ledger's they all come down
to what is the order of transactions can
we agree on the order of transactions
and if they can come to an order great
then they know that the network is going
to maintain itself that they can secure
it that it is trustless indeed so that's
that's it for the code definitely check
it out
and I hope you found this video useful
please subscribe for more programming
videos and for now I've got to do some
research so thanks for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>