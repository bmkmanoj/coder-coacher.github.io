<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Python for Network Engineers with GNS3  Part 1  - David Bombal | Coder Coacher - Coaching Coders</title><meta content="Python for Network Engineers with GNS3  Part 1  - David Bombal - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udemy-Tech/">Udemy Tech</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Python for Network Engineers with GNS3  Part 1  - David Bombal</b></h2><h5 class="post__date">2018-03-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/s6SIVc7C5U0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is one of multiple videos
discussing Python programming now
there's a lot of information on the
internet with regards to Python
programming but in this series of videos
I'm gonna concentrate solely on the use
of Python with networking devices and
specifically with gns3 I'm a very strong
believer in practical learning think
about it when you were a child did you
go to university or school to learn how
to ride a bike
typically you learnt how to ride a bike
by riding a bike and falling off a few
times making mistakes but as you
practiced you got better and better at
riding a bike I think the same is true
for any other skill that you want again
and any other knowledge that you want to
obtain the best way to do it is to just
do it make mistakes pick yourself up and
try again and with that in mind I'm
going to show you how quickly you can
get programming a Cisco network using
Python in Google I've done a search for
Python telnet and my first hitch is the
telnet a library or telnet client
available in Python 2.7 now there's a
large debate in the Python community
about which a version of Python you
should learn Python 2.7 is being
replaced by Python 3 but notice on the
Python website you can still download
Python 2.7 and a lot of operating
systems and network devices have a
version 2.7 by default I'm going to show
you both Python 2.7 and python 3 you may
only have Python 2.7 available so it's
good to know that but you should also
learn Python 3 for the future so notice
the simple script that we can copy from
the Python documentation we'll start off
with a script and start programming
genus 3 topology anjuna 3 I'm going to
drag a
aveer added to the workspace as well as
an Iowa's V switch these devices take a
while to boot up so to allow my docker
containers to connect it to the Internet
quickly I'm going to use a layer to
switch
one of the docker containers available
is in a blue two container
and that's what I'm going to use in this
topology rather than trying to get
Python running on your Windows PC or
trying to get Python working on other
operating systems it's going to be a lot
quicker for us just to use a docker
container and add that to our genus tree
topology again my belief is start or
learning as quickly as you can make
mistakes and learn from that don't get
hung up with trying to learn the best
way to do everything right away just get
started
some people believe that they need to
have a degree to become a programmer or
use programming skills in networking I
don't necessarily agree with that just
to get started so on the Ubuntu u
machine I'm going to editor the config
I'm going to set this device to use DHCP
and click Save and click start to boot
up the network I'm going to open up a
console to each device now again these
Cisco devices will take a while to boot
up but our docker container has already
booted up and we can already ping
google.com even though the switch and
the router are still booting so apt-get
update will update our references in a
boon tree that's done will install
Python in this first example I'm going
to install Python 2.7
so Python version of Python that we're
using is 2.72 12
so here is the scripture that we're
going to start off with it's not perfect
what we're doing now is not necessarily
the most optimized way of implementing a
script like this but the idea is we want
to get started
get it working by for instance creating
a loopback on the router and configuring
VLANs on the switch and then we can
build on our script and optimize it I'm
going to use Nano to create a file so
let's call this Python writer one script
one to start off with and then I'm going
to paste the code off the internet into
a manner so we importing modules here
get past suss telnet library the device
that we going to telenet to is going to
be the router so we need to configure
the routers IP address username and
password and other details for when the
script telling it to the rudder so
before we continue with our script let's
configure the network devices see here's
the rudder it's booted up now
I'll bypass the initial configuration
dialog I'll configure the router with a
host name of Radha one configure an
enable password of Cisco and in this
example I'm going to configure a
username of David with a password of
Cisco on the vty lines we're going to
use login local
we're going to login with the username
and password and I'm going to enable
both telnet and ssh on the gigabit is 0
0 interface we will configure this
interface for dhcp and no shut the
interface on the router
in the real world you typically gonna
configure router IP addresses statically
but in this example I'll use DHCP just
to get started
the rudder has now been assigned an IP
address of one own to 168 122 71 let's
test the connection to the rider
manually
so I'll tell it manually to the rudder
from itself and login to verify and then
close down the toll net session now this
first example we're using the telnet a
library and it's going to be looking for
certain strings and based on those
strings it's going to send output to the
router so it's important that you test
manually first before you try and do
this with a script so the host that
we're going to tell it to is 192 168 1
22 71 in other words the IP address that
was allocated here through DHCP so
python makes programming a lot easier
because you can leverage the work that
others have done so we are importing
various modules rather than trying to
write our own a low-level telnet library
we're just going to leverage another
Python telnet library and other options
such as get pass so we don't have to
worry about setting up complicated
password information here basically the
user will be asked for a password so
let's change that to something like
enter your telnet username
that's going to be stored in a variable
which is called a leader in the script
we're going to be prompted for a
password that's going to be stored in a
variable called password and that's
going to be passed to the writer later
in the script so we're going to tell it
to the host which is this variable which
we've manually configured now again
using the concept of get started and
iterate or improve once you've done a
bit of coding we are hard-coding a lot
of values in the script programmers with
lots of knowledge will tell you you can
do this better you can do that better
and so forth and so on we're not going
to worry about that in the same way that
a CCIE knows bgp better then a CCNA does
a programmer with ten years or 20 years
of programming knowledge is going to
know programming better than you if
you've just started but we're not going
to worry about that we simply going to
get started and then we'll improve as we
go along so what it's looking for here
is a login prompt now this is where you
need to be careful when we tell it to
the router
it's not going to display login it's
going to display user name
so what we want to do is change that to
username we're looking for the prompt
username and then we're going to pass
the variable the user to the router and
do a carriage return then if a password
is configured we're going to look for
the password prompt so let's confirm
that that's correct yes it is we will be
asked for our password so the scripts
going to look for that and then it's
going to pass the password that we
entered to the router and press carriage
return now this is incorrect alice is a
linux command we don't want to use that
what I'm going to do now is press
control K which is cut control u allows
me to paste so I'll paste a few lines
here
so what we want to do is send the
command enable to the broader and then
we want to send an enable password of
Cisco and then we want to do a confit
and then we want to type interface loop
back at zero control k2 copy that paste
it back then we want to do IP address
1.1.1 with a mask of that control K
copies control you paste back I'll paste
it down here as well then we going to
type end to go back to privileged mode
control you to paste back and then we're
going to type exit to exit out of the
router now we're not doing any
validation here programmers with lots of
experience will tell you you need to
validate stuff we'll get to that later
we just want to do some basic
programming now control X will allow us
to escape and Nano yes to save the
script our script is saved as Python or
one script one now on the router
exit out the telnet session show IP
interface brief there is no loopback
configured on the router at the moment
what I'm going to do is do a debug
telnet so we can see whether tell
networks in other words we want to see
the script telnet into the Rotter and
what I'm going to do now is type the
Python Python r1 script one we prompted
for our username which in my case is
David password is Cisco and notice
something happened
we see output on the router we can see
that it was configured from console by
David on vty notice suddenly we see a
loopback interface coming up in the
output of our telnet script we see the
output of what took place on the router
but notice on the radha show IP
interface brief we now see a loopback
configured now just to prove that show
version shows us that we working on the
router show IP interface brief shows us
that the loopback was configured so show
run interface loopback as 0 there's the
loop back on the router this output
words displayed because in the script
and in this case I'll cut it we've got
this command right at the end saying
print telnet read all so it was as
simple as that
to get a Python script to do something
on a router in genus 3 let's do one more
let's say we want to configure a another
loopback address so I'll copy that
control K control you control you now
again those guys who've been programming
for a long time will tell you that you
need to configure a loop here and that's
better way to do it but to get started
we'll do this manually and save our
script run the script again before I run
the script again show IP interface brief
we only have loopback a zero configured
user name is David password is cisco we
can see that the rada was configured
loopback one has come up show IP
interface brief there is loopback one
configured with IP address of to door to
door to door T now again we could do
other things as simple as this let's
configure OSPF and then we'll look at
configuring the switch so I'll paste
some lines in here
typewriter OSPF one network 0.0.0.0
with a mask in area zero and I'll get
rid of this line control X to escape
why'd you save just that you can see the
script this is our script at the moment
I've added these lines so let's run the
script Python r1 script 1 before I run
that show IP protocols notice in no OSPF
is enabled on the router user name is
david password is cisco that's what we
did on the router we can see it was
configured here show IP protocols notice
OSPF is now running on the router
because we configured OSPF through our
python script in subsequent videos i'll
show you how to optimize the script and
how to improve on it but it was as
simple as that to use Python to
programmatically change configurations
on network devices I've put two the
Python script below this video if you
want to use the script that I created I
hope you enjoyed to this video if you
did please like it and please subscribe
to my youtube channel I wish you all the
very best
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>