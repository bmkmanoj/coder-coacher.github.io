<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Unreal Engine, Inventory Systems Part 3: Listing Items in a Grid - Sam Pattuzzi | Coder Coacher - Coaching Coders</title><meta content="Unreal Engine, Inventory Systems Part 3: Listing Items in a Grid - Sam Pattuzzi - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udemy-Tech/">Udemy Tech</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Unreal Engine, Inventory Systems Part 3: Listing Items in a Grid - Sam Pattuzzi</b></h2><h5 class="post__date">2018-04-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/yFSaEaLAk0E" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so this video is the third in our six
part series on inventory in unreal in
this video we're going to be actually
hooking up our inventory UI which we
made in the first video and our pick up
items that we made in the second video
and making it so that our pick up items
go into our inventory when they are done
when they are collected and we're gonna
make sure that we can drop them back
into the world when we click on them
from our inventory so just a reminder of
how this is going to look this is what
the finished product is going to look
like got this first person shooter set
up we're going to go up to our pick up
item we can pick up our item look in our
inventory and there is the item and
we'll have the opportunity in this video
we're going to make it just so we click
on the Apple it drops again but if we
will see is later on we're going to be
looking at actually selecting the item
and having other options - dropping
being just one of them so obviously if
you haven't seen the previous videos
that would be the best place to start
and work your way up to here I have been
showing you step-by-step how to do
everything here we've been using
blueprint rather than C++ because of the
lack of compile times but obviously you
could follow along and C++ if you wanted
to and that would be fine too if you
don't have any experience in unreal
that's just fine you can follow along
with these videos just out of interest
and you'll be able to see how an
inventory system is built and unreal so
without further ado let's dive into it
and make this happen
so let's take a look at where we left it
off if we go and play with our project
at the moment then you can see we've got
our inventory pick up item we go out to
it we hit X and it disappears but if I
go and look at my inventory there's
actually nothing there just yet because
we haven't written the UI to display
items in inventory and that's what I am
going to show you right now so the first
thing I want to do is prototype how that
item is going to look in a inventory UI
so if we go to the inventory folder
we've created an open up our inventory
UI blueprint as a starting point then
we'll take this inventory UI and
have a look at what we've got here so
the moment we've got this overlay in an
image widget but we haven't actually got
anything over the top of that image
that's what the overlay overlay is
therefore to allow us to put something
over the top and we've got nothing there
yet now what we want to do is put some
little icons in here that we can click
on that we can select now one way we can
lay out these things in a grid is
funnily enough to use a uniform grid
panel we've got a few options who have
got grid panel uniform grid panel where
if you were going for the kind of
inventory where some items are bigger
than others and you have to rearrange
them you might use a grid panel but then
there's some more complicated logic
going on in there so I'm just gonna
stick with this the uniform grid panel
and stick that in the overlay underneath
the image so that it essentially goes
over the top now if we select a uniform
grid panel and we look in the details
pane and look at the horizontal
alignment I want to make it horizontal
and Phil vertical line Phil as well and
then what I can do is I can drop items
in to this grid panel to allow us to
essentially put little icons in what am
I gonna put in here I think I'm gonna
start off with an image so can i it's
gonna need to be an image stick that in
there okay so we've got an image we're
going to put it underneath the grid
panel you can see it's got it's not very
big at the moment so we could try and
see if we can change the desired slot
width mmm I think the easiest way is
going to be to click on an image
right-click it and do a wrap with and
then wrap with the size box now what a
size box does is it enforces a given
size on these images everything
underneath it basically so if we select
the width overriding the height override
and I'm going to set those to 100 or try
to anyway
100 and 100 that's going to give us okay
100 by 100 item which is great we're
going to add in some padding as well I
want probably about 5 or - 10 pixels of
padding here like so
probably not on the image though so
let's remove it from the image I want to
put the padding actually on the image
would be fine
so panic on the image as well which is
looking okay
and let's actually put something in this
image now on my desktop
let me bring over a desktop folder I
have a few things including this Apple
PNG which we're going to use so let's go
up to inventory and actually put it in
the pickup's folder because it's going
to get linked in to this Apple pick up
here so I'm going to pull it and drag it
in it's not going to get linked up just
yet and that'll bring in this little
Apple texture and in our image in the UI
we can go and select try and select an
image it's kind of popping up in a funny
way I need to hold it down select the
Apple texture and there we go we've got
ourselves an Apple which is a bit
distorted now there is a little trick
for this you right-click the image and
wrap with and in this case we wrap it
with a little something called sorry in
the wrong menu need to be in a wrap with
menu and the scale box select the scale
box and in our scale box and under its
stretching settings we can have a look
at scale we want to set it to scale to
fill which I don't think actually worked
so we can just try select the scale box
again and try out a few of its different
options let's see the image might need
to be fill in both directions note that
doesn't seem to be the trick scale box
maybe it's not scale to fill then scale
to fit nope fill no it's just that the
you I wasn't updating if you scroll in
and out a little bit scale to fill was
the right option in the first place and
you can see that it has basically scaled
up this Apple image to fill that little
box exactly as the name might suggest
which makes it just look a little bit
better doesn't it and we'll want to be
able to actually click on this item as
well so with our scale box I'm going to
wrap that scale box in with a button
so got button they've got the image
inside a scale box so that's looking
alright we can go ahead and save that
compile it but the problem is we're not
actually adding this item when we pick
up in the inventory to do that we need
to repeatedly be able to create this
item and that is what is called a widget
so we're gonna have to create a new
widget just for this particular item
inside the size box so let's go ahead
and create that widgets we'll go up to
the inventory folder going to right
click next to inventory UI widget go
into the user interface section widget
it's not showing because of this popup
so let's do it don't restore here right
click user interface widget blueprint
and we're going to go for inventor item
UI as the name of that widget and we can
go ahead and open it up we get a new
empty widget and what I'm going to do is
I'm going to cut all of this from the
hierarchy and I am going to put it paste
it under the canvas item now we actually
don't want a canvas item because this
canvas item will get pasted in to
inventory UI widget when we create a new
instance of that widget so what we want
to do is make sure we get rid of this
canvas panel by right-clicking it and
going to replace with and selecting
replace with child which means that then
now the whole thing is a size box it's
kind of stretched out in a weird way but
I think we can go to one of these
options either screen size or fill
screen I think we can go to fill screen
desired and they go that makes it to the
desired size of the widget so the widget
gets to set its own size and the image
looks a bit weird at the moment but that
is just a quirk and I believe will fix
itself when it gets instantiated so
let's go ahead they go save compile and
it's gone and fix itself up so that's
just a little widget element now what we
want to do in inventor UI is have a way
of adding something to the inventory so
we'll go
to the graph part of the widgets editing
and we can add a new function and it's
going to be called add inventory item so
we're gonna go ahead hit enter and in
the details pane i'm going to add some
inputs in here because one of the things
we're going to have to tell it is what
is this items pickup so we're going to
add a parameter it is going to be called
the pickup and it's going to be of type
pickup unsurprisingly the the route type
of the blueprint and it's going to be of
reference type and then what we can do
in here is we can create a new instance
of that inventory item UI widget so I'm
not going to use the pickup at first
we're going to need it in a second but
let's just go ahead and drag off the
execution pin and do a create widget
just like we did when we first wanted to
create inventory uite and then we'll
select the class type which is going to
be inventory item UI and we can set the
owning player to be the same as our own
owning player so we'll just get owning
player like so and now we get an item
bank from this and we want to insert
this item into this uniform grid panel
so if I go ahead and select the uniform
grid panel and I'll right-click it and
actually is that right yes I want to
click on it and somewhere I want to make
this into a variable now I'm trying to
remember where this goes oh yes here
we've got this is variable checkbox
right next to the name at the top of the
details pane and while we're at it let's
rename this to a more sensible name I'll
call it the in venatori grid like so and
if we go back to our graph you'll notice
that there's now a variable available
for this inventory grid so we can drag
it do a get on it and then from this
inventory grid we should be able to add
a child so child layout set child's lot
padding nope that's not it but here
we've got widget panel add child that's
what we want and child is exactly what
we want and the content is going to be a
widget which is returned from that
create inventory item UI widget
and we can hook up the execution which
is going to add it in to our UI so let's
go ahead and compile and save this and
just for now I'm gonna go into the event
graph and I'm going to on event tick so
no event construct event construct I'm
going to go ahead and call our ad
inventory just to check that is
constructing and showing the element as
we would like let's go ahead save play
go to the inventory and sure enough
we've got ourselves that inventory item
in there and if we wanted to
double-check that it's working we can
make a couple of calls this ad inventory
item and what it should do is it should
lay them out in a grid so we'll go ahead
and play now go to the inventory hmm
hasn't worked that's why it's good to
double-check these sorts of things now I
think the reason for this is actually in
ad inventory use this ad child and what
I needed to use off the inventor kit
grid instead was add child to uniform
grid so let's try that instead hopefully
this one will work let's compile save
and play look at the inventory nope
still not quite working okay I think I
found the issue is that in the designer
when I added in a inventory grid that's
not actually what I wanted to do so when
I added in what type is a uniform grid
panel the actual type that we want is a
wrap box now why is this why do we not
want the inventory grid because the
inventory grid when you put something
underneath it and we didn't try to do
this but if we take a couple of save
buttons and stick them under the
inventory grid and watch what happens
they overlay on top of each other this
is because if I click on button one and
button 2 you can see that they have
these properties row and column so if I
had set row to one then it would go down
on Row 1 and Row 0 and so on and so
forth so this isn't exactly what we want
at all what we want to do is a replace
this with a wrap box and we can give it
the same name and you can see the wrap
box puts these items next to each other
until they get to the end of the line
at which point they rap and continue
down the box and we can test this out we
can just copy this button too and we can
paste it into the rat box a lots and
lots of times until it is going to rap
on to the next row so that is the type
of box that we actually want us to go
ahead and delete the things underneath
the rat box make it a variable and let's
call it the inventory list like that go
back to our graph now this inventory
grid we'd no longer want we can get rid
of but we do want our inventory list
let's get the inventory list and remove
our add child so uniform grid we don't
want that we do want an ADD child to
wrap box and that should do the trick
please excuse I was going down a little
bit of a rabbit hole there but it is
useful to see and debug what some other
types of panel object are so if we go to
the inventory now we've got our three
apples standing side by side which is
just what we want if we go back to the
event graph of I'm venturi UI widget we
can delete these temporary checks by
adding that we did by adding the
inventory item so that we start off with
an empty inventory when we go ahead and
play which is what we want unless we've
picked up an item of course so when we
pick up an item go to our first person
example map and go to the content first
person BP blueprints open up our first
person character because in here when we
pick up an item with the X key that is
when we want to put our pickup into our
inventory so we take our inventory
widget get the inventory widget and
we're going to call add inventory item
like so and we pass it the current
pickup that we're dealing with and hook
up our execution node like so compile
save that and what we'll get now when we
play we'll go up to our item inventories
empty go up to the item hit X to pick it
up go to the inventory and boom we have
an item in inventory perfect now the
image is currently not getting populated
by that item in the
entry but we'll work on that in a little
bit but what we do want to do now is
that when we click on that inventory
item in the UI we want it to be dropped
we want it to be shown again in the
world so how we're going to go ahead and
do that well in our inventory
item UI we have got the ability to click
on the button that we've created here so
let's go ahead and create an on-click
event for that button and what we want
to do here is to be able to call a V
hide function of our pickup that we are
representing now you'll notice that we
don't have any way of referencing the
pickup that created this inventory item
so we want to go to inventory UI and in
let's see the ad inventory item where we
have created our inventory item UI
widget we want to be able to set a
reference so let's go back to the
inventory item UI create ourselves a
little variable and we're gonna call
this pickup and we're gonna change its
type to be a type pickup as well and
then we're going to set this reference
from the outside world in inventory UI
in the ad inventory item we're going to
take a reference to return value which
is of type inventory item UI and we are
going to set the pick up like so and
that pickup we're going to set from the
call of add inventory item we've passed
it in from first person character let's
hook up the execution node add in a few
redirects to make this really clear
where that data is coming from and we
don't have a don't want a mess of nodes
like we currently have let's make that a
little bit clearer so we can follow
where the data is flowing in this
function so we're setting the pickup and
target you know compile and save
oops something seems to be a problem
property associated with pickup could
not be found I think that's just because
we haven't compiled item inventory item
UI is compile it save it let's recompile
inventory UI and
all hunky-dory so we're setting its
pickup that now means we've got a
reference to the pickup which means that
on click who we can get our pickup and
call it's not hide but it's show method
so that we're dropping it back into the
world
that's compile save play let's go and
pick up that pickup go to I to get the
inventory and click on it and boom it is
back in the world the only thing we have
to do now is actually remove ourselves
from the parent so we're getting show
but we also want to remove from parent
which is going to remove this widget
from its parent widget which is the wrap
box so let's go and try that again pick
up the item go to the inventory click
the item and it's gone out of our
inventory and gone back into the world
and we can repeat the process pick up
the item it's in our inventory we can
drop it back into the world fantastic
one step closer to having this inventory
system ok congratulations we have got to
being able to pick up a pickup item
putting in the inventory and then
dropping it back into the world quite a
successful step so what's up next I hear
you ask let me just look in my notes
here at what we're going to be doing
next in the fourth part we're going to
be looking at highlighting our UI so
we're going to be making it so that we
can highlight one particular item which
is going to allow us to have those
multiple functions so let's have a go at
doing that and I'll see you in the next
video do like this video if you've
enjoyed what you've taken so far
subscribe if you want to see the next
things and to comment to tell me what
you liked or what you'd like to see done
better and hopefully I'll see you in the
next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>