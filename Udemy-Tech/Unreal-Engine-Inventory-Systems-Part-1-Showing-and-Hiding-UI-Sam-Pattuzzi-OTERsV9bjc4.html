<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Unreal Engine, Inventory Systems Part 1: Showing and Hiding UI - Sam Pattuzzi | Coder Coacher - Coaching Coders</title><meta content="Unreal Engine, Inventory Systems Part 1: Showing and Hiding UI - Sam Pattuzzi - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udemy-Tech/">Udemy Tech</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Unreal Engine, Inventory Systems Part 1: Showing and Hiding UI - Sam Pattuzzi</b></h2><h5 class="post__date">2018-04-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/OTERsV9bjc4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello ladies and gents girls and girls
in this video we're gonna be looking at
how we can build our very own inventory
systems in the great unreal game engine
now if you're just interested in how
game engines work and how an inventory
system might be implemented in your
favorite game then this tutorial could
be for you you just might want to watch
it along maybe even a double speed and
see how I'm going ahead and building
that however if you are interested in
actually implementing this into your
game then this tutorial is definitely
for you because we'll be going through
everything step-by-step and you'll be
able to implement it in your own game
too so let's go ahead and have a look at
the kind of project that we are aiming
to create in this series of videos so
we're going to be making a game that
looks somewhat like this it's kind of
got a first person shooter II look and
as we move around the map we can see
there are some objects scattered around
on the floor I can go up to them and hit
the X key to pick them up go up pick up
go up and pick up and then I can hit the
I key and I can see an inventory pop up
here the inventory window like this I
can select items from my inventory like
so and I can choose to some of them I
can choose to use some of them are
weapons so I can choose to equip them
and all of them I can choose to drop so
that is quite useful I could go ahead
and drop this Apple because I don't want
it
actually I used it and it said yummy and
if I click on this Apple I can drop it
and I will no longer have it in my
inventory but the one that I consumed is
no longer existing in the world at all
but you see that other Apple has been
dropped over there now if I go ahead and
click on my gun I can equip that and
suddenly I have a weapon and I'm lethal
and I can go ahead and shoot at the
environment around me just like that
so that is the game that we are going to
be creating now we're going to be
breaking this down into lots of little
chunks so in this particular video we're
going to be focusing on just that
show/hide mechanic for the UI so that we
can really understand how every bit and
Bob is working now we're going to be
doing this in
you print now you C++ aficionados maybe
thinking oh no not blueprint but I just
want to reassure you blueprint is a real
programming language it has just as many
constructs but not as many constructs
the C++ play is just as powerful at C++
with the advantage we don't have to
compile with the advantage that it's
slightly easier for beginners so you
know you might be a bit snobbish and be
like all that's too easy for beginners
but it is a real programming language it
is powerful
and if you really want to follow along
in C++ then you can because a lot of the
API is in unreal are so similar to the
C++ API s that I'm sure you could just
follow along with this sort of
programming that I'm doing in C++ if
you'd like to so without further ado
let's dive into the video now the first
thing we're going to want to do is go
ahead and go to the new project tab of
our unreal project browser go to the
blueprint tab underneath that and then
find our first-person example project
select that one and we're gonna go with
the defaults here of desktop console
maximum quality no starter content you
can tweak these if you like now I've
already got a folder set up to put all
this in you put it wherever you like
obviously and I'm gonna give it a
sensible name in my case that is going
to be inventory shooter let's go ahead
and create that project now depending on
speedy a computer this may take longer
or shorter amount of time
so factor that in may pause the video
grab yourself a cup of tea while it does
that and but remember to come straight
back to the video to finish following
this tutorial as you can see here I've
gone ahead and grabbed myself a massive
mug of tea which always helps when
trying to compile things in unreal and
you might want to do the same thing or
coffee if that's your preferred poison
refreshing okay so now the project has
finished setting up we can go ahead and
play and see what we are starting with
you can see a first-person example I can
just go ahead and shoot up some of these
cubes and I think over a little bit but
we want to use this as a starting point
for an entry system as I said we're
going to start off by just being able to
show and hide that inventory UI from
before so the first step to actually
doing that is to go ahead and create
some UI that we can show and hide so
we're going to go over to the
about content directory and right-click
to create a new folder and we're going
to call this new folder inventory we're
gonna put all the inventory related code
and blueprints and UI in this folder so
let's go in here and then we're going to
go to add new and we're going to look
for the drop-down menu called user
interface and we're gonna grab the
widget blueprint which is basically a
blueprint with UI and allows us to use
unreal in UI builder called UMG now I'm
gonna go ahead and call this inventory
UI like so and then hit enter and we can
go ahead and open up this blueprint it
might open on a different monitor for me
and if it does I'm just going to go and
bring it across and I'm gonna dock it
into this window on this tab so this is
the UI builder if you're not too
familiar with it then we're going to be
whipping through fairly quickly but I am
going to show you every step of the
process the main elements here are the
palette where you can get UI elements
from the hierarchy all the elements in
the power to put into the hierarchy
hierarchically and we've got details
pane here which tells us about the
properties of the elements that we've
dropped into our hierarchy now we're
gonna go ahead and put together a very
very simple UI so I'm going to look for
an element called the size box and I'm
gonna drop it under the canvas panel
element of the hierarchy the canvas
panel is this whole big thing we've got
the size box here which we can basically
as the name suggests a resize to a
desired shape and size which is going to
be roughly like this I'm doing it as a
kind of windowed thing you could do it
slightly differently if you know how and
would like to do it differently that's
fine now I'm gonna give this a
background and the way I'm gonna give it
a background is weird
and let's see well I wanted a title bar
first of all so and it could take this
size box and I'm going to chop it up
vertically so I'm looking for a vertical
box drop that on the size box and this
will just lay out all the elements
underneath it in a vertical fashion and
then in there I'm gonna go ahead and
look for an overlay this allows you to
put two things one on top of the other
inside a vertical box I'm going to put
two of these reason being I'm going to
have a section for the title and then a
section for the main inventory
bitte so in this title section I'm going
to want to have some text so I'm going
to look for a text element and put it in
my overlay also going to want a
background which could be an image but
these images can also be just solid
color so I'm going to drop that in the
overlay as well and we will soon see
what is happening that they're
overlaying on top of each other if I
select my image I can actually go into
the details pane and where we've got
this horizontal and vertical alignment
I can choose horizontal fill and
vertical fill which is going to fill
that space if I rearrange the text block
an image so the image is just above the
text block but still both of them are
under the overlay then hopefully with my
image I'm going to change its color so
let's go to the appearance to the brush
settings expand out the brush change the
tint and I'm going to make the tint nice
and dark like so okay that's my text
block and then this text block itself
I'm going to align centrally in that
title and I'm gonna give it a sensible
name like you'd never have guessed it
inventory let's go ahead and hit enter
and they go we've got the inventory
title and we've got this main body which
currently doesn't have anything in so
I'm going to copy my image element and
put it underneath my second overlay and
in this case this overlay as you can see
is not taking up the full space it is
just using a tiny bit but what we can do
is go to details pane where there's size
is auto or fill I'm gonna go ahead with
fill and it's going to use up all the
space available in the vertical box and
then with this image element I'm going
to go ahead and make it a lighter color
so we'll go back to the appearance brush
tint and select the lighter color for
the tint so that's going to be the main
part of our UI this is just an outline
at this point you can play around a lot
more make it prettier put images change
the fonts blah blah blah you can play
around and make it look cool now at the
moment this UI does not actually exist
in the world it just exists as a
definition in a blueprint file so to
actually create an instance of this a
instantiation a real thing of this UI
that we can use in the world we need to
go ahead and
create it now the typical place where
this happens is that you only belongs to
the player so we can do it on the player
controller or the player porn in this
case I'm going to do it on the player
porn for simplicity so let's go to the
content directory first person B P go
into the blueprints then to our
firstpersoncharacter blueprint and open
that one up this is the blueprint is
quite complex and confusing but we don't
have to worry about it too much because
what we want to do is just do an event
when the game starts when it begins to
play to create an inventory UI so I'm
gonna go ahead and right click and look
for begin play and I hit the begin play
event you'll see that there is already
one existing so what I'm going to do is
I'm going to branch out from here and I
am going to actually create ourselves a
new function in our firstpersoncharacter
so you go to the my blueprint functions
add a function and I'm going to call it
create inventory UI like so and this
create inventory you want if we go back
to our event graph I can call it on
begin play so pulling off the execution
pin create inventory create an inventory
UI and as you can see it's inserted
itself in between the begin play and the
other stuff that begin play was doing so
it just does it before those other
things but that's ok
then and I create inventory UI function
we can actually go ahead and set up that
said inventory UI now what's the way to
do this where you can go ahead and
right-click and we're looking for
something called create widget like so
and this is create widget as you can see
at the moment it's saying none because
doesn't know what widget to create well
we can select a class for its create and
select the inventory UI so it's going to
create that widget and it needs to have
an owning a player now if you hover over
that you'll see that it is saying that
that needs to be a player controller so
we need to get the play control is
controlling this pawn so we're going to
right click and look for get controller
and as you'll see this is not actually a
player controller because this porn
could be controlled by an AI so we need
to check that we are indeed
by a controller so we can pull off that
pin and do a cast to play a controller
which will only succeed if the thing in
question the play controlling question
is actually a player control and on ai
controller and we can feed that pin in
to creating our inventory widget and
finally once we've created it we don't
want to lose it so we need a variable to
keep track of it so let's go ahead and
add a variable we're going to call this
the inventory widget like so we're going
to have to change its type we can click
here on the little color next to it and
we're going to search for inventory UI
which is the type of the widget it's a
blueprint so we've got this inventory
widget I'm going to drag it into the
scene I'm going to choose the set option
and we're going to set it from our
create like so fan debido Z and we're
going to go ahead and save that and all
is well in the world but if you go ahead
and play at this stage you'll notice
that there is no UI yet because creating
it isn't enough we actually have to set
it up and show the UI now I'm going to
do this in a function on our inventory
UI itself now here you want to switch
over from the designer part of this
blueprint to the graph part of this
blueprint and we're going to go ahead
and add in a function here and we're
going to call this function show and
we're going to call this function from
our firstpersoncharacter when a
particular key goes down so I'm gonna go
into the event graph now there are ways
of doing bindings more elegantly than
this and you can use those ways if you
like but I'm just gonna go and look for
the I key I think if I just search for I
key all that do the trick sometimes that
you just have to search for I okay so
we've got some stuff in here at he again
this is the one so it's just called I
and you can see it's got this little
keyboard symbol next to it and that
basically gives us an event that for
when either the eye is pressed or the
eye is released so I'm gonna go with I
is pressed and what we're going to do we
are going to take our inventory widget
and we are going to call the show
function so I'm going to first of all
drag the inventory widget into this into
these graph get get the inventory widget
drag off the inventory widgets and look
for the show function
and we're going to call that show
function when I is pressed like so isn't
that phantom ulis okay so we've got our
show function if I double click on it
it's actually going to take me to the
inventory UI blueprints show function
where we are going to implement this
show function now there's a few steps we
have to go through to actually show
something in fact there's exactly three
things we have to do the first thing is
we have to do is add it to the viewport
that basically means that it is in the
visible scene then we have to make sure
that our input mode allows us to
interact with the UI versus just
interacting with the game and then we
need to make sure that the cursor is
visible so that we can actually click on
things so let's do one thing at a time
adding it to the viewport is pretty
straightforward I'm just going to drag
off the execution pin and look for add
two viewports we can select that and
automatically the target is this exact
blueprint so we don't have to do anymore
then the next thing we have to do is go
ahead and set the input mode so let's
drag off its execution pin I'm going to
look for set input mode and you'll
notice there are a few of these we can
set game and you I can set game only and
we can set you on early now I'm gonna go
for UI only so we're not interacting
with the rest of the game while we're in
the UI mode you can obviously choose a
different thing for that and try out
what it's like in these different input
modes now what's the input it's looking
for you can see here that the target is
the player controller object reference
so we can actually get hold of the
player controller days owning this piece
of UI so we can right-click and do a get
owning player will get hold of the
owning player and we can input that into
the target like so what about the widget
to focus well actually that's pretty
simple that should just be a reference
to this very widget so the reference to
self now we want to make sure that we
can see in a cursor so let's go and drag
off the last execution pin and we are
going to look for something called show
mouse cursor it's not showing up set
mouse set show Mouse so it's not showing
up now the reason for this is because
this
is on the owning player so if we grab
off this owning player and now we look
for show mouse cursor that we get we can
set show mouse cursor to true and I can
feed the execution through here I'm
gonna add in a little redirect node so
we make things a little bit neater here
okay so that should do a showing let's
go ahead and hit play da da da da and if
I hit I they goat there is my inventory
so you can see I can't interact with the
game while I'm in the inventory okay but
how do I go ahead and close it that is
the next step and in fact I could leave
this to you to do to create a little
button in the UI and do basically all
the opposite steps of this removing it
from the viewport setting the input mode
to game only and not showing the cursor
so you can't pause and have a go at this
as a challenge if you like if not I'm
gonna just go ahead and pull out on so
let's go in to the designer and add our
selves a button first of all so here we
have got our text and I want to put
something next to the text so what a
handy nifty trick so I can right click
on the text and I can go rap with and in
this case I don't put something
horizontally next to it so I'm going to
look for a horizontal box so I've
wrapped it with horizontal box now I'm
going to go into the pallet and look for
a button I'm gonna stick the button next
to the text like so now in this case I
actually want the text to expand out and
fill the available space so I'm gonna go
to select the text go to details and
fill and that should have done the trick
why has it not done the trick probably
because if I select my horizontal box
that is not horizontally aligned filling
so if I select the horizontal box go to
slot
horizontal and aligned fill then I can
fill up the whole space go back to my
text and I'm gonna make sure that the
text is justification centered like so
and then we've got this little button
here which I'm going to put some text
inside and the text is just going to be
a little X little X so it says text
block I don't want that
I want to change the wording by
selecting the text going in to the
content
and changing set content to a capital X
which should get the point across that
if we click it we exit out of here
so I'm gonna go ahead and actually
rename that button to exit button so
that it's really clear what it's for
clicking the button scrolling on down
I'm going to create an event here we've
got some events on clicked is one of
them I'm gonna go ahead and create that
and on click what do we want to do well
I actually going to create a new
function here looks just like a show
function called hide and in the event
graph again I'm going to call that hide
function from out on clicked so when we
click the X we're going to hide our UI
and how we're gonna set hide said UI
well as I said it's kind of the opposite
of what we did to show it so we're going
to remove it from the viewport which
actually is just removing it from the
parent so remove from parent like so
it's the first step then what did we say
about the cursor well we want to set the
mouse cursor and we've already done that
we'll actually want to do the UI mode
first so let's get the owning player
because we're gonna need that so I'm
going to copy that node bring it across
and then I am going to set input mode to
game only in here and our target is the
play controller I'm going to drag in
here and then from that player
controller we also said we want it to
set the mouse what you'd want to do with
the mouse I think it was set show mouse
cursor is the one and as you can see
it's unchecked that's gonna be false and
that should do the trick for hiding it
so let's go ahead compile save play and
I can show my inventory now I can click
the X and it has disappeared so we have
successfully showed and hided our
inventory I don't think there's a way so
I very much hope you enjoyed that first
part of the series now don't worry we
are gonna get on two pickups not just
showing and hiding the UI there's a very
important first step and in the next
video we are actually going to be
creating the pickups and getting to the
point where we can go ahead and pick
them up so we can go up to the Mater key
and we're going to be doing something
with those so that is the next video and
I hope you will like this video
come on to the next video comment if you
want to see anything in particular and
do subscribe if you want to be the first
to see when that new video comes out see
you there</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>