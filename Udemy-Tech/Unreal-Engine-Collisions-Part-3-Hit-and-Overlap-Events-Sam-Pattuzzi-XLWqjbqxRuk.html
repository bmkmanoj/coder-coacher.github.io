<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Unreal Engine, Collisions Part 3: Hit and Overlap Events - Sam Pattuzzi | Coder Coacher - Coaching Coders</title><meta content="Unreal Engine, Collisions Part 3: Hit and Overlap Events - Sam Pattuzzi - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udemy-Tech/">Udemy Tech</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Unreal Engine, Collisions Part 3: Hit and Overlap Events - Sam Pattuzzi</b></h2><h5 class="post__date">2018-03-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/XLWqjbqxRuk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys and girls welcome back to the
third and final part of my series on
collisions in this lecture we're going
to be looking at how we can have events
gameplay events triggered off the back
of collisions and we're gonna go for the
simplest sort of triggered events which
is just going to be creating a sound now
obviously you can trigger all sorts of
events but this is just showing you how
you can use those with the example of
sound so let's dive in and have a look
at how this is going to look by the end
of lecture so here we've got a game I
can move around and you will notice that
there is a sound effect when I come out
from behind cover what happens is as I
come out from behind cover and I get hit
we've got this little kind of ping sound
effect and same thing happens when I
bash into the walls or the projectiles
bash into me and one more thing if the
projectiles go through this permeable
wall we get a kind of swoosh sound so
we're going to be looking at how we can
do both those they're two different
things because one is when we get a
collision and the other is when we get
an overlap so we're gonna be looking at
how we can deal with overlap events and
how we can deal with collision events
too so let's dive in now again like the
rest of the series and that's a good
point you should probably go and watch
the rest of the series first this will
kind of stand alone if you already know
something about collisions and just want
to know how to trigger gameplay events
based on collisions but if you don't
then the rest of the series is going to
be very very useful for you and if you
haven't got much experience in unreal
then you can just follow along if you're
interested in seeing how this stuff
works so without further ado let's
actually dive in to the meat of this
okay so hopefully you remember this is
where we left it last time we're being
shot at by our enemy if we hide behind
the wall it doesn't shoot at us now in
this lecture we want to be getting to
the bottom of how we can trigger
gameplay events when collisions have
and when things overlap with other
things so we're gonna be looking at how
we can do that starting with a fairly
basic event which is the collision event
so we're going to start by getting our
spaceship to bump into other items and
create a noise when that happens so this
is fairly straightforward to make a
noise and we're going to go to the root
of our content directory and import a
noise that I have already here I've
recorded a few of these sounds myself
through audacity you can do the same
thing if you have a good microphone
otherwise you can use lots of free
sounds out on the web now the one I'm
going to use here for bumping into
things is my clink wav file so I'm going
to click it drag it in to the content
browser which will automatically import
it into unreal we can have a little play
see what it sounds like there you go
basically me flicking a glass actually
so very low budget sound making stuff
that you can do very easily yourself now
what we want to do is have this happen
when we collide with objects now should
we put this logic on every object we
could collide with or should we put this
object this logic on the spaceship that
could collide with any object well
hopefully it shouldn't take you too long
to figure out the answer to that
question because putting it just on the
spaceship has the big advantage that
you've only got to write the logic once
so we're gonna open up our twin-stick
porn blueprint which is in the content
twin-stick beepy blueprints directory
this brings up the twin-stick
porn tab which i've just docked here
onto my main window now what we want to
do is trigger a hit event
now hit events are triggered from the
static mesh or the mesh component that
created them think of it like this so
collision happens between two shapes and
shapes as we as you probably know in
games are meshes and so if we go to our
viewport tab you can see we've got the
spaceship mesh and that's what triggers
a collision at least in unreal that's
the case so if we go back to our event
graph tab selecting our
 spaceship mesh components in the
components view and go down the details
pane you'll see there's a bunch of
events in here three of which are
interesting to us the on component hits
the on component begin overlap and the
on component end overlap so we know
about the difference between overlaps
and hits or blocks basically so a hit is
when we get a blocking collision so
we're going to start off with the hits
because it's the simplest one to do
we're just going to go ahead and add it
in here and he'll get we've got a little
trigger event we can use its execution
pin to do whatever we like such as play
a sound which is what I'm going to do so
let's go ahead and play sound at
location like so and the location ones
choose is the actor location of the
current pawn and the asset we want if we
select sound asset is the clink sound
wave so let's go ahead and save that
compile and see if it works if we go
ahead and hit play then you can see that
when we get kicked by things will make a
clinking sound similarly if we bump into
stuff we also make a clinking sound very
cool okay so that seems to be working I
like that now let's try and add a
similar sound effect to these blocks
that can fall over these are these are
physics objects because they interact in
a physical way and they have physics
simulation switch on our spaceship and
these projectiles are actually not
visits components they are being moved
what's known as kinematically which
basically means programmatically and
that's desirable because it means we
have full control over how they move but
in the case of these physics objects we
want them to be controlled by the
physics system so that we can shoot at
them and they behave a little bit
unpredictably which is always really fun
just to be able to shoot them around
like this so what I'm gonna do is I'm
going to select one of these blocks and
I'm going to go to this bloob Rutter
button that says at blueprint and script
basically turning this block into a
blueprint we can go ahead and do that
I'm just going to go with the default
name for now
not worrying too much about organization
for this tech demo but obviously in a
real project we would worry a bit more
about that and what we're gonna do is
we're gonna go to the event graph and do
exactly the same thing now you can pause
this video and just have a go for
yourself at creating a sound event when
this gets hit and if you did then well
done if not then just follow along with
me so we're going to select the static
mesh again we're going to go down to the
events and click on on component hit
from here we're going to play a sound
play sound at location we're gonna
select an asset actually I want a
different asset here I'm going to go to
my thump sound and import that and then
I can select that thump sound on my
template cube dump there we go and we're
gonna play this at the actor location
like so and hit play let's try it out
given notice that we're not really
getting any thumping sounds sure when we
throw projectiles at it we get a
thumping sound but when it's jumping
around the scene all by itself it isn't
making a thumping sound now why might
that be the case
the reason for that is that by default
these hit events are only generated when
we move things kinematically if we want
them to be generated as a result of
physics simulations as well then we need
to do a little one step more which is if
we go to our static mesh components and
go to the collision section that we've
been playing with up till now you'll
notice there's a checkbox called
simulation generates and it's a bit
hidden for me but it has simulation
generates hit events that means that the
physics simulation will also trigger hit
events so let's go ahead compile save
that and go back and play now you can
hear that it's even firing too much
you can see there's loads of hit events
going on so one thing we can do just to
make this a little bit less clunky is to
have a look at how much force is going
into that hit event now don't worry too
much about this but we've got this
impressed impulse normal which basically
tells us how large the impact collision
force has been so what we can do is we
can drag off a pin from this one and we
can look for the length of this vector
because it's yellow it's a vector it's a
normal so we've got the length of the
vector and what I'm gonna do is a little
operation called a clamped map or a map
clamped that main map range clamped and
what this means is that we'll get a set
of values coming in the in range from A
to B and we're going to map them to a
different range from A to B and anything
that's less will be clamped to the
bottom value and everything and that's
more will be clamped to the top values
so that we're going to use to generate a
volume for this clunk so actually I've
done this in the wrong place I keep
doing this let's cut out that little bit
that we've done and go and do it in the
template cube paste it in here now this
is where we want to be doing it so we've
got our impulse normal vector length and
then we're mapping that range so we're
saying that when there's an impulse of
say I found that the value of about 3000
works quite well as a starting point so
below this basically we're going to have
a volume of 0 so any impulse that is
3000 is going to be volume 0 and we're
going to go up to about 10,000 I find is
a top max out range max volume at 10,000
and nothing higher basically beyond that
and we'll map this onto the range from 0
to 1
basically 1 being full volume 0 being no
volume and then we can expand out with
the little arrow this sound at location
node where we can find that there is a
volume multiplier we can pass into that
vault in volume multiplier from this map
range note and that's all we want
do let's go ahead and save that go ahead
and play and now we are not getting as
much thudding except for when it's
moving so there you go that kind of acts
much much better and we've understood
that crucial setting the crucial setting
being let's go to our template round of
cube instead static mesh component
collision deep under the details pane
collision it's the simulate generate
simulation generates hit events okay so
we've made some progress in the
direction of being able to get gameplay
events we know how to do blocking hit
events the next step is to figure out
how to do those overlap events and we're
going to look at doing that with our
permeable wall making a swoosh sound as
the projectiles go through that
permeable wall so let's dive back in and
have a look at that okay so the
permeable wall is here in the twin stick
example map and if we go and what do we
want to do here do we want to put the
event handling on the permeable wall or
do we want to do it on the projectiles
you could go either way here but
currently our permeable wall is really
just a preset it is just a collision
preset there is no actual blueprint here
so I'm going to choose to do it on the
projectile which already exists so
that's content twin-stick VP blueprints
and then we've got the twin stick
projectile blueprint which I'm going to
open up and close the other blueprints
while we're at it to avoid complications
okay so here we are we've got our twin
stick projectile and you can see that it
already has a hit event but we're going
to be doing something different we're
going to be doing an overlap event so
that's okay now if we go into the
details pane and scroll on down actually
we have to first select our projectile
mesh then go to the details pane scroll
on down and we can select the on
components begin overlap event let's go
ahead and select that one and adds it
into the event graph for us and we can
go ahead and play a sound now you know
how to do this by now so you can go
ahead and play a sound at location a
sound of your choosing
go ahead and record one now I'm going to
use a swoosh sound here so let's go to a
Content browser and drag the swoosh wave
into oops I want to do it into the root
of my content directory with all the
other sounds so go ahead
drag and in it goes should import
probably didn't wait long enough you
have to wait until at least on Windows
the little plus icon comes up and they
go got a swoosh and if we listen to it
that's what it sounds like so we're
going to go to play sound at location
select the asset and select swoosh and
we're going to play it again just at the
actor location this is very very common
to want to just play it at the actor
location okay let's compile it save that
and see if it works let's go ahead and
hit play
no swoosh sounds as we're going through
it right now so what's going on with
that well maybe there is a checkbox
similar to our simulation generates hit
events for overlaps let's go to the
projectile mesh and go into the details
pane and have a look for that so here it
sure enough we have got checkbox is
called generate overlap events but it is
checked so what's going on there why are
we not getting those overlap events well
the reason for this is that for
performance reasons this generate
overlap events has to be enabled on both
of the objects that are overlapping the
reason for this is that either the
objects could move and if they don't
have generate overlap events checked
then they're not going to check whether
you're still overlapping or have stopped
overlapping so both of them need to have
this checked which means we need to go
to a permeable wall select the permeable
wall and go down to the generate overlap
events and make sure that is checked as
well let's go ahead and hit play now
there you go we've got a swooshing sound
coming through that permeable wall
meaning that we've been able to do
overlap events hit events and hit events
generated by physics simulations so
hopefully now you've got a really good
idea of how to implement collisions
in your own games that was the end of my
three-part series if you haven't done
any unreal before then hopefully you've
understood how Triple A games implement
collisions and what in collisions
actually mean might be quite interesting
thing to know so if you like this series
go ahead and like this video and comment
in the comments below letting me know
what you'd like to see more of if you'd
like to see a series on anything in
particular in unreal or just tell me
what you didn't like about this video
good feedback as well go ahead and
subscribe if you want to see the next
videos that I'm going to be producing
and hopefully I will see you in a future
video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>