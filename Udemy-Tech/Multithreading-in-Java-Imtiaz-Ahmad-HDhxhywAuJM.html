<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Multithreading in Java - Imtiaz Ahmad | Coder Coacher - Coaching Coders</title><meta content="Multithreading in Java - Imtiaz Ahmad - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udemy-Tech/">Udemy Tech</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Multithreading in Java - Imtiaz Ahmad</b></h2><h5 class="post__date">2018-03-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/HDhxhywAuJM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi there in the next series of lectures
we're gonna get into a new topic in Java
known as multi-threading so to better
understand this concept I'm just going
to give you a little bit of background
information before we get into the
details when you're using your computer
you often have multiple applications
running and they're usually running at
the same time right some of these
applications you may be aware of and
others may be behind the scenes right
let's consider a typical example of a
user browsing the internet using you
know the Chrome or Firefox browser while
the user is browsing the Internet they
may also have a music player running
both the music player and the internet
browser or applications running at the
same time behind the scenes there may
also be a virus protection software
scanning your computer for malware these
three applications can also be referred
to as processes three independent
processes running at the same time now
there are usually a lot more processes
running on your computer behind the
scenes but these three let's just
consider these three in this example now
within each process there could also be
lighter-weight
child processes let's take an example of
the internet browser applications such
as Chrome or Firefox a user could have
multiple chrome or firefox internet tabs
open right one of the tabs could be
playing music from YouTube and the other
tab may be refreshing their Gmail inbox
and you know another third tab may be
refreshing a Facebook feed all of these
browser tabs work simultaneously within
the parent process okay so these these
you can consider these child processes
the different tabs that you have open
now in computer science these child
processes are also referred to as
threads okay and the various programs
that we've been writing in this course
so far right these Java programs
they've so far only been single-threaded
programs in other words at any given
point in time there was only one thread
or one task really and that thread was
known as the main thread now I'll go
over the main thread in just a minute
but within this main thread instructions
were executing sequentially one by one
and what were these instructions these
were those lines of code that you've
been writing when one line of code would
complete and running the next line of
code would execute and so on
this is single threaded execution at any
given point in time only a single line
of code was executing but you can also
write multi-threaded programs and you
could probably guess what that means
this typically means that two or more
lines of code can run at the same time
for example you could write a java
application that is downloading files
from the internet and performing
statistical calculations on that data
and you know loading a summary file into
a database you know these are different
tasks and each one of these tasks can be
running on their own thread of execution
okay and all of them could be running at
the same time one thread can be
responsible for only downloading the
files from the internet another thread
could be you know creating those those
files to load in the database and the
third thread could be responsible for
reading data and performing calculations
all three of these flows of the program
these tasks these three tasks could be
happening at the same time and which
would mean that multiple lines of code
are being run simultaneously all right
that's the core of multi-threaded
programming multiple lines of code
running at the same time right now
writing multi-threaded programs can be a
challenging feat and often takes many
iterations of refracting the code over
time and you know to build a stable
application and the complexity here
arises when threads need to communicate
with each other you know deadlock
situations can occur
we're a thread a is waiting for thread B
to complete however thread B is actually
waiting on thread a to complete this
will all make sense when we go into the
details of some of these messy scenarios
and I'll go over that in great detail in
this in the remaining lectures but for
now let's go over how to start a thread
in Java so here we are in Eclipse I've
created a project called learning
threading so you can go ahead and do the
same and I have a package here called
comm dot job-ready dot threading okay
and that's just a naming convention that
we spoke about earlier where we have
this comm followed by your company
followed by the kind of thing that this
package contains and we're going to be
learning threading so that's what I
called it and in here we have a class
called application so let me show you
how to create your first thread in a
java program I'm going to define the
public static void main method here and
inside of this method I'll have a simple
print line statement that just says you
know hello there it doesn't really
matter what we have there but now if I
hit the play button we would have
started a thread believe it or not so
that's it play there you go it says
hello there we actually executed a
thread and that was the main thread main
method starts everything and what it is
is it starts a thread now within this
thread you know so far in this course
you've been writing all of the code
inside of main and sequentially line by
line it was being executed right even if
we were involving multiple classes that
code was you know being utilized here in
this main method because it's executing
line by line meaning at any given point
in time we were only having one line
being executed right one after the other
but how do we get two lines to run at
the same time
that's where multi-threading comes in
right so at this point we're single
threaded but now let's make this
multi-threaded outside of this class
called application I'm going to define
within the same file I'm going to define
another class let's call it tasks and
that's what I want you to start thinking
about is this task
driven mindset especially when it comes
to writing multi-threaded programs
because the threat is essentially a task
I want you to think of that as a task
and the task has steps that need to be
executed so I created this class called
task and it's going to extend the thread
class okay in this this class has been
around since Java 1 right from the early
days of Java Java was multi-threaded and
and that's one of the competitive
advantages Java had right from the start
so if you go to the definition of this
thread class I'm going to ctrl click it
notice that this is a class that
implements runnable if we go into the
runnable interface it has this method
called run and it's an abstract method
so to create a thread we need to
override this run method so since this
thread class is implementing this
runnable interface it must have
implemented a version of the run method
within the body of this class right so
let's look for that I just want to show
you if you type in run and then you put
parenthesis and it's a void method so it
doesn't return anything I'm just gonna
put that as the signature unless search
for that in this class and there we go
notice that this is that method it's
being over overridden in this thread
class well we're actually also going to
override it so this new class that we
defined called the task is actually
going to have its version of run and
that's the guy that's going to be
executed on a separate thread so let's
create that method I'm going to do
public void run and in this method all I
want to do is just create a loop to
print some data so it's just going to be
a for loop and we're going to initiate
the variable I for iteration we
initialize it to 0 and then I is less
than 1000 and I plus plus and in this
loop I'm just going to print out the
value of I ok so I'm just going to write
the word number with a colon and just a
pen
and the value of I to that and now when
I run this program what do you think is
gonna happen right you haven't done
anything really we're defining this this
structure of what a threat is we called
it a task and we gave it the
instructions but we haven't kicked it
off yet this is still a single-threaded
program if I hit play this is still a
single-threaded program only the main
thread gets one so let's create an
instance of task which is essentially a
thread right it's extending the thread
class it is a thread that's what I want
that's how I want you to think about it
so let's create an instance of task and
the object name is tasked runner there's
new tasks and even to this point this is
still a single threaded program
right what we have to do is we need to
you might be thinking that we need to
invoke the one method but that's not
what you do you actually have to invoke
a method called start right here and you
can see that this causes this thread to
begin execution so this is the guy that
we want to call and what that's going to
essentially do is invoke this run method
in a separate thread so if I run the
program the way it is right now it's
going to print hello there first and
then it's gonna print the numbers from
zero thousand or 0 to 999 so let's hit
play and these are the numbers that
scroll up all the way to the top notice
it printed hello there now let me prove
to you how this is a multi-threaded
program if we move this code above that
print statement so with the previous
knowledge in the course you know we've
only been working with single threaded
programs
prior to this lecture right so you were
aware that until one line of code is
isn't complete it doesn't move to the
next line right we wait till that line
is complete then sequentially it moves
to the next line and so on
that's a sequential single-threaded
program that's what you've been working
with but in a multi-threaded program if
a new thread is spawned it doesn't wait
for that code to complete it just says
okay
go ahead and execute this code and it
could take you an hour I don't care I'm
moving on to the next line and that's
exactly what's going on here let me
prove it to you if I hit play
notice that towards the end of those
numbers we don't see that print
statement where is it let's go all the
way to the top it actually executed that
first and the reason behind this is
because when it when the interpreter got
to the line where it says task runner
dot start it didn't wait until that line
is completed right it didn't wait for
all those numbers you know from 0 to 999
to be printed until it moved to the next
line it just said haste
a thread start yourself and that thread
was started and the interpreter
continued to move on to the next line to
bigger and better things
so the reason for why the word hello
there was printed first is because it
takes time for a thread to fire up okay
what to get spawned so to speak so when
the thread was spawning before it
actually kicked off the words hello
there were printed but if we had other
things down you know printing you know
much later on in the code they could
have appeared while those numbers were
actually being being printed you know it
could have printed something you know
between the numbers 55 and 100 or
between the numbers 350 before 400 it
could have printed other things if we
had more code because a thread is
running and it's going to continue to
run until it's completed and you know
that's one flow whereas another flow of
code may also be running on a different
thread so that's the whole idea behind
multi-threading and this is gonna make
much more sense as we look at more
examples again just like before other
parts of this course
I don't shy away from repeating myself
so I'm just gonna go over this once
again with you because it's such an
important concept so this is a
multi-threaded program because once this
task runner was started it was kicked
off the Java interpreter didn't just
wait here they didn't wait for this to
complete it moved on to bigger and
better things it started this thread and
this thread is gonna do what it needs to
do but the interpreter is moving on to
the next line and then it printed out
this so it kicked off this thread moved
on to bigger and better things
we are here now you might be wondering
what if we want to run through this loop
again could we do a task runner dot
start again well think about it
we told Java to go on and kick off a
thread and it does this by using the
start method and the way it has access
to that is through this instance
variable called task runner so the
thread has been spawned and kicked off
but if we try to do this again using the
same instance it will actually fail it's
going to give a special exception and
that's called illegal thread state
exception if I hit play again notice
that you saw a little bit of red there
let's go to the top and saying you know
exception in thread main so always
remember it's it's never illegal to
start a thread more than once okay
in particular a thread may not be
restarted once it has completed
execution always remember that so the
solution to this if you want this to you
know go through this loop again for
whatever reason and you want to do it in
a different thread the way to do that is
to use this task class to create a new
instance and then kick off that instance
all right so we can do tasks and I'll
call it task runner to is equal to new
task and then use this guy to start the
thread again well not again we're
starting a new thread so just like in
regular object orientation a class is a
blueprint right it designed for you know
that contains instructions and methods
and so on so we're just using the same
blueprint of what we consider a task
which is a thread and we're just
utilizing that blueprint to kick off a
new thread so the instructions in this
task you know what to do those steps are
the same as this task but they're gonna
run separately into different threads so
let's hit play
and notice that now we don't have we
shouldn't have that error another thing
I want you to notice is the way these
numbers are printed out all right let's
go through this for a second
the first number printed out is zero and
then it moves on to one two three and
whoops there's another zero number four
and there we go we got number one again
number five and there we go we got
number two again number six and there we
go we got number three again so notice
that the results of what's being printed
here is coming from two individual
threads okay so this this particular
code is being run on two separate
threads okay one of the threads has been
started for at you know at this line and
the next thread ends up starting here so
that's why you see those numbers
repeating they all go from 0 up to 999
and that's what you're going to see all
the way to the bottom here is 999 and
you'll find repeating numbers as you
scroll through this so hopefully
threading is starting to make some sense
we're going to get into much more detail
and we're gonna look at all kinds of
scenarios that can take place in
threading so just a quick review before
wrapping up this lecture I want you to
think of a thread as a flow through your
program okay so the first thread that
gets kicked off is the main thread so it
starts off here the JVM kicks off the
starter main thread and what that does
is it looks for this main method which
is the entry point of your application
and it executes whatever is in here so
when it enters into here it sees this
line and says oh we need to start a
thread so it starts off a flow so to
speak alright and that flow is right
here so just kicks that off but doesn't
stop there it continues on and it sees
this print line statement it prints that
and then you know sees another thread
that needs to be started so it kicks off
this thread as well and then moves on
and finishes the main thread here while
the other two threads are still running
okay until these don't complete they're
gonna continue to run and up to this
point the main thread has pretty much
been completed but these two other
threads are still going on okay
so that's how I want you to think about
multi-threading is
threat is basically a flow through your
program this first starting of a thread
right this was the kickoff of this flow
and then the second kicking off of a
thread is starting a new flow which is
also going to do the same thing and that
is why we see some of these numbers
repeating so there's a lot more to go
over when it comes to threading we're
going to go into all different kinds of
scenarios but for this lesson I'm going
to wrap it up here thanks for watching
I'll see you in the next lecture</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>