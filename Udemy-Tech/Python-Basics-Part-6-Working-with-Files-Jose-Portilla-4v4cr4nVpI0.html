<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Python Basics Part 6 - Working with Files - Jose Portilla | Coder Coacher - Coaching Coders</title><meta content="Python Basics Part 6 - Working with Files - Jose Portilla - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udemy-Tech/">Udemy Tech</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Python Basics Part 6 - Working with Files - Jose Portilla</b></h2><h5 class="post__date">2018-03-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/4v4cr4nVpI0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome back recruit for your last
lesson on Python basics working with
files to conclude this section we're
going to discuss this more practical
aspect of Python which is opening
reading and writing to basic text files
you never know in the field as an agent
you may need to open dot txt files
programmatically and then read or write
to them python has built-in capabilities
to open basic text files later on we're
going to discuss other file types such
as CSV files or PDF files for now let's
explore the built-in capabilities in
Jupiters notebook for allowing us to
work with basic files
let's begin by seeing how we can open a
file the key for this is the open
function and the open function takes in
the file path to a text file for right
now we're going to focus on files that
are located in the same directory as the
notebook or dot PI script you're using
so let's imagine that we're trying to
open a text file that doesn't actually
exist so I'm going to make up some new
name go ahead and make up some new name
of a text file make sure that it doesn't
actually exist on your computer and
we're going to assign this to some
variable called error file now when I
run this I get back as we would expect
an error and this error is file not
found or otherwise known as error number
two here and it says no such file or
directory of this make up some text file
this is basically indicating one of two
possible things either the name of the
file is wrong so maybe you just
accidentally misspelled something here
as far as text or more likely you didn't
provide the correct file path so in our
case we're trying to reach a text file
that's in the same location as this
notebook if you ever want to figure out
what directory this notebook is located
in you can type in PWD in an empty cell
shift enter and it'll return back the
actual location you are in and then you
can use this to understand the file path
that you need to save your dot text file
to later on we're going to see how to
open text files that are located in
different parts of your computer so for
right now make sure that the test
underscore file that text file is
located in the same directory as this
notebook so we're going to say my file
is equal to open and you should be able
to find test file dot txt in the same
location as this working of simple text
files notebook and as a check for that
you should also be able to have
autocomplete this that's a good
indication that the text the text file
is there
so we run this and now we've
successfully open this text file and
there's various methods of reading off
of this text file the first one is to
say my file
dot read and this is going to return the
entire contents as a string so here I
can see one giant string all the
contents in the text file this is a good
choice for smaller files however if you
have a very large text file you may not
want to grab everything as a single
string so keep that in mind another
thing you should keep in mind is if you
try to read this file again you'll
notice that it returns back a blank
string instead of the file contents the
reason for that is because every time
you read the file you can imagine that
there's a cursor going through the
entire file and at the very end of your
first reading it ends up at the very end
of the file so the cursor is at the end
of the file and then when you read again
the cursor being at the end there's
nothing left for it to read so what we
do instead is we have to reset the
cursor and we can do that by saying my
file dot then call the seek method pass
in zero and you'll see a zero being
returned basically this resets the
cursor to the very beginning of the file
so index zero and then you can call my
file read again and you'll see the
contents of the file notice here how
we're getting this special escape
character backslash N and recall from
the strings lesson that this actually
means there's a newline there because so
many files often have line breaks people
use them as separators and instead of
reading everything as a single string
what we want to do is get a list that
represents every line in the file to do
that we're going to reset ourselves so
we'll say seek zero and then we will
type in my file and we'll use read lines
and what this does is it returns back a
list where every item is a single line
so it uses the natural breaking of a new
line to indicate the lines of the text
file now that we've discussed opening
local files in the same directory as a
notebook let's discuss in general how to
type out file locations a good way to
understand how file locations work on
your operating system is again typing
PWD inside of a cell running it and you
can see the syntax that python is going
to expect
to pass in the file path let me go ahead
and paste some examples here all right
so I've copied and pasted some examples
here so we can discuss the differences
when working on a Windows computer
versus a Mac OS or Linux computer you've
noticed here that when I typed in PWD I
got this set of double backslashes that
actually indicates that I'm currently
working on a Windows computer for
Windows you need to use this double
backslash so that Python doesn't treat
the second backslash as an escape
character recall from the strings
lecture that escape characters with that
backslash have some sort of letter
afterwards indicating a special code
such as a newline or a tab since Windows
by itself has back slashes for file
locations we want to make sure that
Python doesn't try to read the next
letter after the backslash as some sort
of special character so to fix that
issue we just have two sets of back
slashes essentially escaping the second
backslash so if you're on a Windows
computer your file path is going to look
something like this as a string you'll
say C go to users your user name and
then find the file path to your text
file and instead of passing in just the
file dot txt if the text file is located
on a different folder in your computer
apart from where this notebook is
located you can just pass in the entire
file path here now for Mac OS and Linux
users you're actually going to use
single slashes in the opposite direction
so your file path is going to look
something like this and your file path
when you type them PWD
it was probably reported to you in this
manner as well ok so that's how you can
call files that are located anywhere on
your computer for both operating systems
so finally let's see a full example
using what we've learned so far we're
going to say my file we're going to open
the test file dot txt I'm going to say
lines is equal to my file and then I'm
going to read this whoops let's make
sure we have our Y here
and then I'm going to print lines and
remember lines actually has this special
new line escape code so we should see
this printout of four lines and then
finally we will say my file and we will
close the file remember to always close
the file once you're then opening it so
we run this and here we see the four
lines of the file so I just mentioned
that you have to close files after
opening them so you don't have python
constantly having a file open otherwise
when you're working to fit somewhere
else in your operating system you may
not be able to edit it or delete it so
for best practice there's actually the
width statement and the width statement
allows you to open files and not worry
about having to close them so let's show
you how you can use that you can say
with open and then pass in the file path
in this case I'll just say test file dot
txt and then you say as and then
whatever variable you want the file to
be called we'll say my file and then you
have a colon so so far we'll say with
open the text file as the variable name
so this is an alternative to using this
first line here and because we're using
with now we don't need to worry about
closing the file instead what's going to
happen is we're going to write a colon
and when you hit Enter you'll notice
indentation happens so now you can have
an indented block of code and all that
code will execute whatever is indented
beyond this colon right here and then
once that block of code is done
executing we will automatically close
the file so we can then say lines is
equal to my file read so we've been able
to open this file as my file and then
lines set that variable equal to my file
read and the file has been automatically
closed with the width statement and
lucky for us we already defined lines
here in this which means we can still
call it outside of this width statement
and now I can see that giant string
which if I just call the string itself
is the same thing we got last time
finally let's discuss reading and
writing options there's actually
different modes that you can open
a file with by default the mode is to
read it so if you do shift tab here
again that's shift tab with my cursor
here in the open you'll notice that
there's a mode parameter set to the
string R and this indicates that we're
opening the file for reading only so the
file pointer is placed at the beginning
of the file and this is actually the
default mode of opening a file however
you can also write to a file and to do
that you can set the mode to the string
W and you can check out the notebook
that corresponds to this lesson for
various other modes there's reading mode
reading and writing writing writing and
reading and then a for appending and
then there's also be notes or B modes I
should say are B and W B and that
indicates reading or writing in a binary
format we'll use that when we discuss
things like CSV files or PDF files let's
show you how you can write to a file so
we'll say F is equal to open and we're
going to open the second file dot txt
and we will indicate that mode is equal
to read which is the default mode and
then we will read this and see that we
have only one line inside this file then
we'll say F close that file and I'm
going to try opening this again second
file dot txt and the mode is again going
to be our for reading or you can just
set it to the default meaning just don't
bother passing anything here it's the
same idea and then I'm going to attempt
to use the write command and I'm going
to write a new line onto this file now
notice what happened here I got
unsupported operation not writable
that's because I didn't pass in the mode
indicating that I have permission to
write to this file to do that we can say
mode is equal to W or you can just pass
in as a second parameter here W it's up
to you whether you want to include mode
is equal to R or just R or just
w so once we've done that we can write a
new line to this you'll see some sort of
output indicating that the Wright was
successful and then we can close this
file and let's go ahead and check it out
we'll say with open second file dot txt
as F prints F read and when we run that
we can see we have that new line now you
may be wondering what happened to the
original line only one line it seems now
we're only getting back a new line well
the reason that happened is because when
you use the W mode that write mode that
opens a file for writing only but it
also overrides the file if the file
exists and if the file doesn't exist it
actually creates a new file for writing
so let me explore this idea a little
further with you
we'll say with open and we're going to
make up some text file that's definitely
not here so I just wrote a bunch of
random letters text and then I'm going
to say W as my mode and then say as F
and I'm going to write new file made and
run this and you'll notice that there
was no errors and in fact now I can
actually open this and I can begin to
type this out and see if I can tab
autocomplete that so I'm going to open
this with just the default read
permissions and then print out F dot
read and I can see new file was made
there if I already have an existing file
that I want to add or append to instead
of overriding then the correct the mode
to do that is the a mode or append mode
so I can say with open and then let's
pass in that crazy path again
so tab autocomplete that and then I will
indicate that my mode is a there's also
a plus which indicates that you're
opening for both appending and reading
will just append right now and we'll say
as F and then we are going to say F dot
right
and then we'll say some other line do
shift-enter to run that and then if we
say with open again tab autocomplete
that and we'll just have it in read-only
mode as f if I say prints F read notice
now I have a new file made some other
line if I want to actually add in a new
line what I could have done here is pass
in that new line special character to
indicate that there's going to be a line
break so if we run this again notice now
I add it in that other line okay you can
check out the notebook for the various
other method modes but essentially it's
our for reading our plus for reading and
writing W for writing only and remember
that this is going to overwrite the file
or create a new one W plus for writing
and reading and then if you need to
append the to an existing file use the a
method or if you want to append and read
during this block of code you can use a
plus alright that's it for your first
set of recruitment trials upcoming is
your field readiness exam best of luck
on that recruit I'll see you at the next
lesson</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>