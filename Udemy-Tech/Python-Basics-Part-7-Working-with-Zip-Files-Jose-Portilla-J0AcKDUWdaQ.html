<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Python Basics Part 7 (Working with Zip Files) - Jose Portilla | Coder Coacher - Coaching Coders</title><meta content="Python Basics Part 7 (Working with Zip Files) - Jose Portilla - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udemy-Tech/">Udemy Tech</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Python Basics Part 7 (Working with Zip Files) - Jose Portilla</b></h2><h5 class="post__date">2018-04-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/J0AcKDUWdaQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome back agent let's quickly discuss
how to work with zip files with Python
as you know the results of the previous
read mission left you with a zip file
fortunately pythons zip file and SH util
modules support working with zip files
there's basically two different
approaches the zip file module allows
for first creating a zip archive and
then adding individual files to it it's
kind of similar to creating a file and
then writing lines to it except you
create a zip archive and then you add
separate files to that zip archive the
Shu tool module allows for quickly
compressing an entire directory into a
zip archive as well as unpacking that
archive later on more likely than not
you're going to be using that second
approach because it's more similar to
what you're used to based on just a
normal graphical interface of a computer
where you right click on a folder or
directory and then zip it or you
right-click on a zip file and then
unpack it or unzip it somewhere let's
explore these modules use cases with zip
files and show you quickly how easy it
is to work with zip files in Python
the first thing we're going to need to
do is
create some files to compress to do that
we're going to very quickly open some
new files that don't exist yet and we'll
do this with the right plus that way we
can actually write some stuff to them so
we'll say F dot right and then say here
is some text and then we'll close this
file
then we're going to do the exact same
thing except we're going to rename this
to two that we've created two text files
now the next step is to import the zip
file library meaning well import zip
file and this is already built into
Python and you can use that to compress
folders or files and to compress all the
files in a folder you could use the OS
lock method to iterate this process but
let's first describe the very basics
first what you do is you create some
sort of compressed file so we say comp
underscore file is a variable you call
the zip file and then you call a capital
zip file off of this whoops and you
allow yourself to create the name of
whatever the compressed zip file is
going to be so you can say whatever you
want this to be my compressed info dot
zip and then you create that with a
write method so now we've created a
empty zip file and we can compress
things into this zip file so I already
created two text files remember a new
file dot txt and you file - dot txt
let's go ahead and write these into that
zip file and the way you do that is the
following say comp underscore file and
then you write to the zip file you give
it the file path of whatever you want to
write to it so for example new file dot
txt and then you indicate your
compressed types or how you actually
want to compress this and we're going to
use a built in compression type into zip
file which is good for most purposes
whoops which is zip underscore deflated
in all caps so you can run that and
let's copy and paste this line and run
it again except this time we're going to
do this for the other text file and then
once you've written all your text files
press them into the zip file you go
ahead and close that zip file and that's
the basic way to use the zip file
library for actually writing to a zip
file so this methods idea is you would
first create the zip file that's empty
and then you would write individual
files to them and compress them as you
go along
now that we've written to the zip file
the next step would be to extract from
this zip file and the way you do that is
pretty similar to actually reading a
normal file you say whatever zip object
you have you call zip file zip file and
then you pass in whatever file is
compressed so in this case it's my
compressed infos if and well we're only
be reading this zip file and there's
different methods you can use here if
you just want to grab everything what
you can do is say extract all and make
up a folder name where it's going to go
so you can say extracted content and
it's going to extract everything there
so later on you could check and you'll
have a folder there if you only wanted
to extract an individual file the way
you would do that is very similarly you
would say zip object except in this case
you would just say extract and then
whatever file you want it to extract so
for instance I know there's new file dot
txt in there so I can extract that one
and it extracts it from the zip file
decompresses it and saves it to wherever
this notebook is happens to be so those
are really all the methods you need to
know when dealing with the zip file you
create a zip file and with write mode
and then you write individual files to
it as you compress them then you close
it if you ever want to extract
everything you just open it in read mode
and then you can either extract
everything or you can extract individual
files finally let's discuss how to use
the SH util module in order to archive
or extract zip files and it actually
supports a variety of formats it's a
little easier to use than the zip file
method just because you can quickly
extract or zip up an entire directory
instead of doing it line by line but
keep in mind zip file definitely has
these methods as well because it can
extract everything
once using extract all but let's see how
to do this the first thing you need to
do is say import SH util and then
there's essentially just two commands
make archive and unpack archive we can
say SH dot util and if we want to make
an archive there's three main parameters
the first one is the output file name in
this case you just pass in whatever you
want the file to be called we can say my
new compressed file or whatever you want
to call it and then the second parameter
is the actual method you're going to be
using and there's only a few acceptable
strings but there's zip tar.gz tar BZ
tar and XZ tar you can check the
documentation for information about all
those but those are essentially just
different extensions for zipping things
together we'll stick with zip so you
pass it in as a string and like I said
this could be something like ta r or GZ
tar in case you need that particular
format and then you pass in the
directory to zip up and remember that it
needs to be a directory not just a
single file so in this case I know that
there's a directory in the same location
as this notebook called I believe my
example folder there it is so we'll go
ahead and just zip up my example folder
and then if you run that it just created
a mine you compressed and note here it
says dot zip because that's what we
provided here is the second parameter
you don't need to say dot zip when you
do it in this first parameter finally
let's discuss how to unpack the archive
it's quite simple you just say SH util
and then you unpack the archive we have
to be aware of here for the unpacking
the order is a little different than
what we had earlier at least the
parameter names are a little different
you just pass in the file name the
extraction directory and then the format
and if you expand this it will tell you
file names the name of the archive
itself which we've already established
is my new compressed zip so let's pass
that in my new compressed dot zip and
then the other parameters want to do is
the extraction directory this is just
the name that you make up so we can say
my
extracted content and then finally it
wants the format it was in so we could
just tell it it was in zip format we run
that and now if you take a look at your
computer you should have the extracted
content in this folder you just created
at the same location that this notebook
is in again pretty simple approaches for
both of them but this one tends to be a
little more convenient because you can
quickly archive and unpack archives with
just a single line of code
alright agent you should now have all
the skills necessary to pass the orange
mission best of luck</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>