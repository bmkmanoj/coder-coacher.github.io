<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Python Basics Part 8 (Working with Images) - Jose Portilla | Coder Coacher - Coaching Coders</title><meta content="Python Basics Part 8 (Working with Images) - Jose Portilla - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udemy-Tech/">Udemy Tech</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Python Basics Part 8 (Working with Images) - Jose Portilla</b></h2><h5 class="post__date">2018-04-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/tsXXYgkHECQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome back agent the results of the
green mission email returned back to
images let's learn how we can work with
images in Python in order for you to
succeed in your next mission to work
with images in Python you're going to
need to install the pillow library to do
this at your command line go ahead and
type pip install and then with a capital
P pillow if you're working with the
Jupiter notebook system with many large
images displaying you may reach the
default display data rate limit that is
once you show an image after showing
many other large images you make an
error that looks like the following that
says something like IO pub data rate
exceeded if this ever happens to you in
your notebook system to fix this issue
all you have to do is relaunch the
jupiter notebook at your command line
with this additional flag so instead of
just typing jupiter notebook you can
type jupiter notebook space - - and then
that line of code right there basically
it just raises your input-output limit
so that notebook says it's okay to
display more data as images if you're
just using dot pi scripts then you won't
have to worry about this let's now begin
exploring how to work with images with
python
once you've installed the pillow library
you'll be able to type out from PIL
import image and this will then allow
you to call the open function off of
this image script we can say image that
open and then inside the blue mission
folder we have an example JPEG file for
you and if you check out this it looks
like this picture of a Macintosh
computer now keep in mind this sort of
display only works for the jupiter
notebook as far as just showing the
actual variable and then seeing the
direct output if you are running a dot
pi script off of this what you need to
do is type out dot show open closed
parenthesis and then that will display
the actual image for you when running
your dot pi script but we don't need to
worry about that in the notebook
continuing on let's go ahead and grab
some image information if i wanted to
know the width and height of the actual
image I can say Mac dot and then grab
the heights or excuse me grab the size
attribute and that returns a tuple where
this first is width and the second one
is height so this is w by H in pixels
and it will can also tell you
information such as the file name and
then it can also even give you the
format description so in case you needed
more details about the actual JPEG
format you can see it's JPEG iso:101
which is just some standard format for
JPEG files that is what this image is we
can also crop images with Python and the
way we can do that is by calling the
crop method off of our variable storing
the actual image we can say Mac the crop
and then you'll notice that it expects a
box which is a four item tuple defining
the left upper right and lower pixel
coordinates this is a little confusing
at first so let's quickly jump to an
example of what those coordinates
actually represent let's imagine that we
just had a single blue rectangle as our
image then what we can do is set the top
left corner of this image as 0 0 and
then we can make the X
this go along horizontally and on the
vertical access we can call that Y so
basically now the first two coordinates
in that tuple of four are going to be
your starting X and your starting Y
whereas ero zero is measured from the
top-left corner of the image the next
two are W and H for width and height and
those are also coordinates so you would
pick the additional two coordinates of
width and height and essentially from
these four items the starting X&amp;amp;Y and
then the width and height coordinates of
the actual pixels themselves then you
can end up creating a rectangle and crop
out that image so let's see this in
practice now by jumping back to the
notebook so off of this we will say zero
comma zero so we'll start at the very
top corner and then we can say one
hundred one hundred for these starting
coordinates of that width and height to
be 100 100 so when we run that we
basically get the top-left corner of
that Mac picture if we scroll back up
that's essentially this corner up here
in the top left
so the Mac image isn't really a useful
demonstration of cropping so we have
another image for you called pencils so
we will say equals to image open and we
will open pencils jpg and if we take a
look at what pencils is it's a very
large image of some colored pencils on
the left hand side everything else is
great let's attempt to grab some of the
top pencils from the corner in order to
do this we need to know the size of the
image will say pencils size we see it's
1950 pixels by 1300 pixels so what we're
going to do is if we just wanted for
instance these top few colored pencils
maybe only up to this orange colored
pencil so top three we're going to start
off at the top corner so you'll say X is
zero and Y is zero and then the width
from there let's go ahead and grab about
10% in the Y direction so we'll say that
the width or actually this is about a
third so
we'll say 30% in the x-direction and 10%
in the y-direction
so that means the width is going to be
1950 divided by three so we're
essentially grabbing 30% of the width
here and we'll grab about 10% of this
height so say H is equal to 13 hundred
divided by 10 then we will say pencils
crop and then we'll pass in our tuple X
Y WH and here we can see we're able to
successfully grab those three now let's
imagine we wanted to grab pencils from
the bottom so we wanted to just grab
these three pencils right here or maybe
these four in that case we'll say X
starts at zero but now Y is going to
start all the way so X starting at zero
Y is going to start all the way down
here maybe just a little bit off of the
heights so the heights 1,300 so let's go
ahead and say that now if we just want
the bottom this is four bottom pencils
will start x 0 y is going to be equal to
1100 so we're starting x 0 y all the way
down here at 1100 and then we're going
to go all the way to the bottom for this
height so now we'll say the height just
goes to 1300 and then the width is going
to be the same 1950 divided by 3 so we
want about 30% of that with coming off
of that so we do this again and then if
we do the same crop now we get those
bottom colored pencils so again keep in
mind that these are coordinates it's not
exactly a measurement of width and
height which is why H is equal to 1300
here instead of some a smaller number so
it's essentially start-finish and then
just kind of start finish as well so
let's go back to the Mac photo and see
if we can just grab the computer itself
so if I say Mac I have the computer here
let's see its size so Mac size is 1993
by 1257
so about the halfway point we want to
grab halfway here and then a little bit
off of it so we can define halfway as
equal to 1993 divided by two and then
we'll say that our exposition that we're
going to start off at is halfway - 200
pixels and that the width that we're
going to end that is halfway plus 200
pixels and then we'll say something like
why is 800 and you can kind of just
guess and check for these numbers these
are essentially just lucky guesses
except H because that's all the way to
the end and let's try this we'll say a
Mac crop X Y WH and then here we can see
that we were able to successfully grab
the computer image
now let's discuss copying and pasting
images if we want to create a copy what
we can do is reassign that crop we can
say computer is equal to map crop X Y WH
and I can call the paste method off of
this and then I provide the actual image
in this case it's computer and then the
where the top left corner is going to go
and that's going to be a tuple of just
two coordinates so we'll go ahead and
put it in the top left corner of the
original Mac and then if we check out
what the Mac looks like now we are able
to copy and paste this to the top left
corner and you can do this multiple
times if you want one further in you can
define this further in so we can say 7 9
6 or something like that run this again
and now we paste it another piece of
that Mac so keep in mind this is
permanently affecting the variable but
it's not permanently affecting the
actual image itself this is all just
happening in memory you can also use the
resize method to resize an image so to
show you what I mean by that if we say
Mac size we right now have 1993 by 1257
if we wanted to make it much smaller or
stretch and squeeze it you can say Mac
dot resize and you can just choose
whatever sizes you want here for
instance if I want to stretch it out or
squeeze it I can say
make it three thousand pixels by 500
pixels and it will ellipse let's make
sure we pass this in as a tuple there we
go and it will stretch and squeeze to
whatever sizes you want so you can make
it twice as big half as big that's
really up to you you just set the new
size you want you can also rotate images
and that's just done with the rotate
method so we can say Mac dot rotate and
you can rotate by 90 degrees and then
you can see here that we're able to
rotate our image by 90 degrees to finish
off our discussion and working of images
let's go ahead and take a look at
transparency here we can see that a lot
of images have a red green blue a or RGB
a system and that stands for a red green
blue alpha and all the values of red
green blue and alpha can go from 0 to
255 if the Alpha value is zero then the
image is completely transparent if it's
255 then the image is completely opaque
let's explore this idea of transparency
by opening up two images that we have
for you so these are in your blue
mission folders we can say image that
open we have a red color JPEG so if you
take a look at it it's just a red square
and we also have a blue jpg for you
which is going to be equal to image open
and we will open up that blue color PNG
and now we can see we have a blue there
so if you want to reset the Alpha on one
of these you can save puts alpha and
then pass in some integer value from 0
to 255 so if you pass in 0 it means it's
completely transparent so now I only see
white because the background is white if
I reset the Alpha to be 255 completely
opaque and I run this again then I
actually see the blue if I choose
somewhere in between has to be an
integer so for example 128 then I get
back this sort of lighter blue here we
can see that some white has now mixed
into this blue and to give an idea of
what that looks like a Fred let's say
red put
alpha-2 about 1:28 and check out what
red looks like now now it looks even a
little more pink okay
so what if we actually put these two
images on top of each other and they
have some sort of alpha that means we
should be able to see something that
looks a little bit purplish so I will
say blue and I'm going to paste and the
image that I'm going to paste is going
to be red so that red image so we just
edited the Alpha and we'll set the box
to 0-0 and if you want actual
transparency to occur and not just
straight-up I have a pink block over the
blue block you actually want to take
into effect the transparency you need to
say mask is equal to and you pass in the
same image you provided so in this case
it was red
so you set mask eel to red and when you
run that whoops let's make sure that we
define the actual box and now if we
check out what blue looks like we get
back purple so what are we actually
doing here we're pasting in the red
image at top left corner and then also
saying that we want the red image to
work as a mask indicating that we
actually want transparency to be taken
into effect otherwise if you didn't have
that mask you would essentially just see
the red block completely because it's
almost like taking two sheets of colored
paper and then putting them on top of
each other instead of with transparency
or mask you can think of almost like
shining a light through those pieces of
paper to see the transparency effect all
right that's the basics of working with
images and I hope that helps you in your
next mission</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>