<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Unity Environmental: Particle System That Follows The Player - Rick Davidson | Coder Coacher - Coaching Coders</title><meta content="Unity Environmental: Particle System That Follows The Player - Rick Davidson - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udemy-Tech/">Udemy Tech</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Unity Environmental: Particle System That Follows The Player - Rick Davidson</b></h2><h5 class="post__date">2018-03-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Uk6fvoJoPpQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys Rick here in this video we're
gonna talk about particle systems in
unity and we're going to create a really
simple beginner level particle system to
create some fairy dust in your
environment to give your environment a
little bit more of a lived-in feeling
that follows around your character this
is the effect we're going for here
having all these little fairy dust
particles floating around in the world
to give our environment a little bit
more life of of movement within it and
as our character moves that life and
that movement follows us as well so we
don't have to have a gigantic range for
our particles to be spawning in we can
have it quite small and just have it
move as our character moves so let's
have a look and see how we're gonna do
it first of all then we go and delete my
existing particle system and start from
scratch you can see from one of my
previous conversations we've already got
a little bit of an environment here
we created that in the video which was
about quick terrain creation creation
and I've added in a an FPS controller
which of you guys haven't seen that
video it's basically just going and
importing assets so import package from
the character's standard assets in here
then from the standard assets characters
I've gone down to the first person
character found a prefab and dropped in
the FPS controller into my world so that
FPS controller we can just walk around a
little bit in the world and I scaled
mine up so that I wasn't right down in
the grass I had it before as I was
walking around it kind of looked like
that bit like ant world perhaps which I
didn't want so I've gone and scaled that
up to a height of 5 and then just drag
it up so it's still walking on the world
so that's the the starting point next
what we're going to do is the actual
particle system to create a particle
system is right-click come all the way
down to effects and particle system and
you guys if you've created particle
systems before you'll be familiar with
the white dots that come flying out here
that is our particle system as a
starting point
now each particle system consists of
this point where things are being
emitted from I'm just going to click
down here on shape so you can see the
shape this is a cone and particles are
being emitted a whole bunch of particles
and we can change the details of the
particles by manipulating these modules
over here
we've got modules for omission for shape
velocity over lifetime and so on we're
gonna do a some manipulation on that so
we look at it it's really important to
zoom out a bit and say what do I want my
particle system to be doing for me if
you've got a reference image or another
game you're working from that's great
for me I just want to have little kind
of dust things floating around in the
world so to do that I need to think
what's the area that needs to be in my
characters walking there I need not a
nice big kind of box to put that in so
the first thing I'm gonna do is change
the shape click back on their shape from
cone to box and you can see it's very
tiny at the moment and it's still all
just pointing up in a straight direction
I'm gonna make that box bigger by
jumping over to scale making it say 80
and then 80 and 20 okay nice big area
you can still see now that the particles
are all drifting up into the sky which
would be an interesting starting point
if we were doing some sort of like
you're walking through a swamp and you
want to have these bubbles floating up
from the ground but for us we want to
have swirling around type particles one
of the things we need to do then is to
come to randomize direction and click so
I click on that and type in one that
will be 100% random this is a value from
zero to one zeroes no random in one is
100% random you can see that the
particles here now are zinging around in
a starting point that's randomly
anywhere within this box okay that's the
starting point for this the next thing I
want to do is say well these particles I
want them to feel like they're floating
in the wind a little bit to add a little
bit of randomness to how they fly around
and for us to do that we go to the noise
module click on the noise module and
something that is a gotcha for me time
and time again I'd be saying why can't I
get to the things in here is you need to
click on the tick box next to the module
to actually select it and to initialize
it and say yes I wish to use you once
you've done that the noise will be
implemented I think a strength of 1 is
fine for now we'll see how that goes
and now that I've got noise turned on
you can see that these particles are
kind of zigzagging a little bit floating
around a little bit less predictable a
little bit more random which i think is
pretty cool have that as noise okay what
do we need to do next next of all I
think we'll change the color a little
bit
you can see how if we follow one of
these they flow along and then they
blink in and out of existence to stop
them blinking in and out we need to find
the module which is the color over
lifetime click on that turn it on over
there and at the moment it's just from
white to white we click on the white bar
here we can change this color over
lifetime this is a gradient so this
gradient will be applied over the
lifetime of the particle and clicking
above or below is going to add extra
these little Chevron II widget II things
so if I click above that gives me
another point with which to modify the
Alpha and put a couple in there and say
when the particle first exists I wanted
to start off being 100% transparent or
0% in terms of the Alpha here up and
down and then it becomes a peak and then
opaque and then it becomes transparent
back down at the end again and if we can
see some of the particles this guy here
as he goes along and then hopefully uh
yep there we go softly hopefully you
guys saw that as I was trying to track
him down chasing these little little
critters as they fly across the screen
they wink in and out with a little bit
more of a subtle blending I feel we
could even turn this down a little bit
more for our main flight for say 200 ish
doesn't need to be exact
so that they're a little bit transparent
the whole way through their journey so a
bit more of a dust feeling than anything
else now that's the top one controls
alpha put them down here I'm going to
change the color so I'm going to put in
something other than white as a starting
point we'll say a something matching the
Foresti kind of thing like a greeny type
color green maybe a little bit bluer
there we go and then I want them to
cycle through another color I'm clicking
down here again click on this color or
then make it a bit more of a darker
green and then another color yet again
by clicking down here so this is cycling
through this gradient I'll make it a
yellowy sort of color I guess there we
go just to give some variation as it
floats through the world of this fairy
dust you can do whatever color you want
in there it's entirely up to you guys
and it's good for you to experiment and
see what works for you ok so we've got
the foundations of it we could leave it
there but
gonna do one or two more things if you
guys aren't familiar with the particle
system there's a couple more things that
we can look at here that are super
valuable one is having a look at the the
speed of the particles they're all going
the same speed and that speed here is
five this is the start speed I can
change that so that there's some
randomness in here by going random
between two constants I'm gonna have the
roundness between say 1 and 5 I'll have
it even slower actually 0.5 and 5 yet so
some of them now are gonna go quite
slowly and some of them gonna go quite
quickly and again that's giving that
organic feeling of everything isn't
identical there's some variation within
my world here
similarly we start sighs I'm gonna do
the same thing click on random between
two constants start sighs I'm gonna have
some of them really small say 0.4 just
little specks there all the way up to 1
I think he's pretty good as well
okay there we go so the ones are a
little bit harder to see now in general
there's not a lot here in here if I
wanted to make it feel like it was you
know very magical this place then I
might increase the number of particles
that are floating around in my particle
emission area here within my box by
going to emission and increasing that to
say let's just be a bit silly and so
what happens if we put it to 1,000 my
computer probably chugs because I'm
recording and doing this at the same
time well that's interesting I mean this
is a little bit of some sort of magic
bombers just exploded as we're running
through our forest and you know there's
fairies everywhere on magic or wizards
or something if you wanted to go for
that sort of feeling in your game that's
a little bit distracting for what I'm
trying to do at the moment if I turn it
down by an order of ten you know we're
gonna go 50 here and just see how 50
feels I don't want it to be too
overwhelming I just wanted to feel like
the players running through something
that there's there's some stuff going on
and having it a little bit of a little
bit magical feeling that's why I've gone
for some brightest colors if I wanted it
to feel more like dust then I'd have it
more neutral colors more sort of brownie
colors and I'd have less of them just a
little bit floating here and there okay
now we also want to click on pre-warm
so that when the
particle system starts these particles
already start somewhere within their
cycle of movement if we don't do a
pre-warm then it starts from generating
right from the get-go so it'll be an
empty space that particles fill in to
that by doing pre-warm they're already
somewhere in their cycle within the
particle emission cycle so pre-warm is
pretty cool make sure it's looping so it
goes around around if we turn looping
off and we hit play then we'll get the
durations amount of particles spawning
so five seconds worth of particles we've
got rate of 50 so to be 50 times 5
seconds every 250 particles they do
their magic and then after a start
lifetime of 5 and at the moment each
particle lives for 5 seconds they all
disappear if I was to increase it to 10
they're gonna stick around a little bit
longer but it's still the same thing if
I have a looping turned off they do
their magic for 10 seconds and then they
fade and disappear so I am turn looping
back walk back on I will leave this
start lifetime to 10 I think that's a
little bit more interesting it's gonna
make my whole thing filled up a little
bit more and the last thing that I
wanted to show you guys
I'll just rename the particle system
before the last thing the second last
thing is rename the particle system to
fairy-dust why not and then so the last
thing I want to show you guys is if I
wish to have this just be one space in
my area just one area that the player
moves into as you run a long side note
I've turned up the speed of my first
person character here and holding down
shift so I ran through the spot that had
the fairy dust you can see it back there
as I run away it's staying down there so
that would be coming into the mystical
cavern of the wizard or the sorceress
and here it is in here it shows that
you've entered a particular part of the
the level and tells the player there's
some sort of interesting information
about that another way of saying of
doing that is to say well I want these
particles to follow the the entire level
I want my entire map to have these kind
of dust particles floating through it
but I don't want to what the overhead of
trying to calculate and spawn particles
all the way down here when my characters
all the way over there there's no need
because the character is never going to
see it so the way we do that is very
very simple I can just grab
my fairy dust and child that to my
character which at the moment I've just
left called the FPS controller and by
having it childhood underneath there
it's going to follow that around
wherever this goes with its transform
its position the fairy dust is going to
go as well let me do one more thing on
there which is make sure that you've
selected simulation space as world if
it's local as your character moves
around the part the entire particle box
is going to move around you don't let me
just show that to you guys just very
quickly I'm gonna do the game side by
side with the there we go
so you can see that as we're running
around jumping in there now as I turn my
character you can see the entire
particle box with its particles turning
around so each particle position on the
right of in the game screen there you
can see the particles are moving with
the player which we don't want
now as you turn your head in in the room
in the real world the leaf that's
falling off the tree doesn't move at the
same time unless maybe you've got some
sort of telekinesis magical powers
telekinesis now that's probably that's
probably to read the thoughts of a leaf
anyway you know what I mean you probably
can't move leaves with your mind is what
I'm trying to say here so what we want
to do is turn that to world space so as
the player is moving around yes the
entire particle spawning box is moving
around but see how those particles are
staying where they are if I jiggle left
and right you see on the right side
they're still going about there random
dance and as I run around you can see
that the box follows me and everything's
being spawned on the right hand side
there in the game window you can see
that as I move particles are being
spawned to the place that I'm going into
so it looks like there
I'm just moving into a place where those
particles were already so I think's a
really neat trick a really neat way of
giving depth no matter where you are as
a player you can still see that effect
so you can do a whole bunch of things if
you've got some sort of plane that's
flying through the world you could have
some some fog in front of the planes so
you've got this permanent kind of hazy
fog where you have smoke in front the
character there's a lot of things you
can do with particle particle effects to
follow your character around the world
so that you can give that depth without
having to put it in your entire level
and as always thanks
watching you guys I hope this has been a
useful conversation for you I look
forward to seeing the particles that you
come up with and I look forward to
seeing you on one of our courses</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>