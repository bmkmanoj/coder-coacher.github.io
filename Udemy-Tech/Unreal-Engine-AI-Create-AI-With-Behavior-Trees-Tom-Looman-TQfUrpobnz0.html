<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Unreal Engine AI - Create AI With Behavior Trees - Tom Looman | Coder Coacher - Coaching Coders</title><meta content="Unreal Engine AI - Create AI With Behavior Trees - Tom Looman - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udemy-Tech/">Udemy Tech</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Unreal Engine AI - Create AI With Behavior Trees - Tom Looman</b></h2><h5 class="post__date">2018-03-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/TQfUrpobnz0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys so let's get going on some more
advanced AI so far we've done two types
of AI they were pretty basic one was the
Guardian and the other one was the
trekker ball and none of them have used
behavior trees so far or any more
interesting or complex logic so that's
gonna be happening now we're going to be
making a little bit more of an advanced
AI but before we do that we have to do a
little bit of preparation and first of
all I just want to use this test map and
I'm going to delete what I have here
also gonna delete this spawn point the
target point there and that one because
I don't want any of the tracker balls to
spawn we don't need this damaged volume
we don't need this mannequin and
probably want to make this a little
bigger I'm just gonna scale this up and
also gonna scale up the pressing B you
can see it I'm going to scale up the
navmesh because I'd like to make some
more interesting AI and what I'm even
interesting is use our character class
and our character code we've been using
so far and turn that into an enemy so
that enemy will actually be using the
same weapon that we have which is that
assault rifle so I think that's gonna be
pretty cool so I'm gonna press B again
to hide that let's save this so first of
all I'm just gonna make a folder called
advanced AI and I'm going to make a new
blueprint and I'm going to call this I'm
actually going to derive this from s
character which has been our player and
I'm gonna call this BP advanced AI let's
just call it that cool okay now we need
to do a little bit of setup I'm just
going to do similar thing to what we've
done before and I'm gonna select the SK
mannequin should let's just hide the
floor show floor so it's easier to align
this is going to be about minus 90
and the rotation is also gonna be about
- 90 so we set this up nicely I can
actually buggy - eighty eight's it's
fine and then we'll set up the animation
blueprint to our built-in animation poop
in the way it got now to one of the
great things is we already created these
whole deaf sequence and we did some
stuff with the health component and all
of that now already instantly works for
this AI and so one thing I want to do is
I want to give them a starter weapon and
for now we're going to use this BB rifle
we should eventually make this a variant
for a new blueprint for the AI
specifically that is mostly because you
know this rifle will do a lot of damage
we want the AI to do less damage and
also we probably want to give the AI
some inaccuracy because this rifle is
currently 100% accurate and I'm also
gonna set out to possess AI to place in
world or response so it always uses this
a AI controller and I think that it's
already gonna be it at least for now so
I'm just going to drop this in the level
and try and play and now we have nothing
happening but I can shoot at him and he
can die just like a player so that's
pretty cool it's already a good start
and now we need to assign it some kind
of logic right and so far we've just
been doing that in C++ in this section
I'm actually going to mostly be working
in both in blueprints but also in
behavior trees so let's right-click and
go to artificial intelligence behavior
tree I'm going to call this BT advanced
AI and enter to open it up alright so
now we have this behavior tree now this
will basically do all of the
decision-making for this but any
behavior tree comes with a black board
so and a black board basically holds
some data that this behavior tree can
execute on so let's go back into the
calm the browser again back to into
advanced a yeah and I'm going to make a
black board so artificial intelligence
and black boards gonna call a BB BB
advanced AI
and then we go back here in the details
panel we'll be able to assign a
blackboard so now we can store some data
that we can run here so first of all
what we like to do we can just drag a
line from here and let's start with just
a sequence and this will run a sequence
will run from left to right so if we
have one node here it will execute this
one then this one and then this one and
I'll show you what that means in a sec
like for example like this so now I'll
first run this then this and then this
node as you can see you also see these
numbers like 1 2 &amp;amp; 3 and a selector node
this guy he will only pick one so if we
had 2 now he will either run this one or
this one and now right now it will only
pick the left one because it has no
condition here to either to skip it and
I will and I will show you some examples
during these lectures on why and how you
can add these conditions and one very
important thing before we do anything is
to know that this behavior tree runs
from left to right so if we have let's
say we have this sequence right here and
we assign it set this up now it will
first run this and then run this one so
it will always execute from left to
right that means that if you are if you
have some kind of decision-making it's
important to put the most the highest
priority to the left so the most
important things for example a guard
patrol is not a very high priority task
it's just sort of like its default
behavior so that would be all the way
somewhere to the right but maybe dodging
or you're taking some quite a quick
copper or attacking the player that
would be something to the left because
that is sort of that is like one of the
highest priority tasks at that an AI
could do that we'll go over this a lot
more just know the basic difference
between the sequence and a selector
where the selector picks either one of
them and as a sequence will
go through them one by one until one of
them fails that's also an important one
to remember for example if this were to
not succeed it would not run this one it
would just cancel and go back here so
that's actually started doing some real
work so we got this sequence so what do
we want to do first now let's just do
something very basic so move to and we
want to move to somewhere now it has
nothing to move to and we don't have
anything to move it towards because we
have no data and that means and that is
because we have no blackboard yet so we
go into the blackboard which we have
signs today B be advanced AI so now we
can click new key and we're going to
make a new vector because I want to move
somewhere so let's call this target
destination and now if you go back here
and behavior tree it's actually already
automatically filled it in it tried
tries to pick a key so now we have this
target destination set as a blackboard
key this means that whenever it is black
word runs it will try to move to the
target destination now by default it's
set to nothing but let's let's so let's
hook this up and see how far we can get
so we go back into the advance the I'm
gonna go into the advanced to the into
the event graph can you actually delete
these two just in the begin play I want
to start the behavior tree we could also
actually do this in the AI controller
but I'm gonna use the BA begin play of
this little AI here so that so that we
don't have to make yet another new new
class so what I'm gonna do is yeah I
controller there we go
control actor is actually gonna be self
because we want to get the AI controller
off this pawn and then we call run
behavior tree and now we can simply
select the advanced AI behavior tree
that we created so now whenever we begin
play we run this behavior tree all right
so let's see what happens now still
nothing
which is fair enough because we haven't
actually we haven't actually specified a
valid location on on that vector on that
target destination and so let's see what
we got to do one thing we can do is
actually check quickly check if it
actually actually kids so I've just pop
it out it's gonna come into my make this
a little smaller and they're going to
play and now you can see that this is
very rapidly flashing and trying to
execute now that's not ideal but you
know it's because it's constantly
failing one thing we could do before we
try just have a little bit of a wait
that's another task here let's set it to
wait one second so we can see what it
actually is trying to do so I play again
see now you can see that it's executing
so let's shift shift of one I'm I get my
old mouse back so I can't see it's
running a sequence first waiting one
second and then take very quickly
ticking that move too but it's not
working and why is it not working well
if we were to make this a little bigger
we can see the target destination is
invalid it's not zero zero zero as you
would you know think would happen if you
normally initialize the vector instead
it's not valid so it can't move anywhere
now before we do a mob before we do all
kinds of like advanced logic here let's
just do one quick thing just to show you
how that could work and I'm gonna put go
back into advance yeah and I'm going to
assign that blackboard value because you
can do it from your blueprint generally
we're going to be working from the other
way around but I would like to still
show you how this how does it works so
we have this blackboard now what I mean
by all the way around is that we let the
behavior tree pull data into itself
instead of having this advanced AI push
data into the blackboard but it's it's
something you can definitely do and I'm
going to show you how so we get this
blackboard function call and I'm going
to set blackboards value as vector nice
and now we set we said we need and now
we need to set an a vector location I
could just set this to zero zero
actually I'm gonna keep it at zero zero
zero but I just need to specify a key so
I'm gonna make literal name and now we
need to specify that same key that we
specified in a blackboard so that's
going to be targets destination so let's
try to do it again and now you can see
it actually moved to our level center
cool in the next lecture we're going to
be doing a lot more with picking a
proper move to location based on some
cover and some distances based depending
on the player etc so I'll see you next
lecture hey guys so I hope you enjoyed
that preview of what you can learn in my
academic course which teaches you about
C++ creating AI and also creating
multiplayer games for Unreal Engine 4
there's a discount link in the
description of this video that will take
you to my course with a special YouTube
discount so please enroll today and
let's start making games for unwanted
for together</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>