<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to create a modal with HTML, CSS &amp; JS - Part 4: JavaScript continued | Coder Coacher - Coaching Coders</title><meta content="How to create a modal with HTML, CSS &amp; JS - Part 4: JavaScript continued - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Kevin-Powell/">Kevin Powell</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to create a modal with HTML, CSS &amp; JS - Part 4: JavaScript continued</b></h2><h5 class="post__date">2017-11-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/dh0ghS2QS_g" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">outright so we're picking off right
where we were last we have our working
modal which is opening and closing which
is really really cool the only thing now
is we want to look at how we can make
that fade in and fade out instead of
just appearing and disappearing so
normally you'd be able to snooze some
sort of transition on it the only
problem is because we're using the
display to make it appear and disappear
and you might see other instances of
people using Zed index to pull things to
the front and push them all the way to
the back
you can't animate those right we can't
put transitions on the display block to
none and we can't do it for Zen index
either so it makes it a little difficult
to actually make this work so well but
it's not too bad it's really not that
bad and we're gonna look at how we can
do that right now and we're also going
to make our our Java Script a little bit
more well it's not too bad right now but
you're gonna see it's gonna get a little
bit different so the first thing I'm
going to do is back in my portfolio here
I need to come through and I'm gonna
make an animation that I'm in a
reference throughout so in here
keyframes we're in a really simple one
we're gonna call this one modal in so
the enemy the modal in it's going to go
from a 0% so opacity will be zero at the
start of the animation and at 100% so
when the animation finishes the opacity
will be one and that's it and so I'm
gonna take the same thing actually modal
I'm gonna call this modal fade I think
we can do it all with one animation I
was gonna make two but I think we can do
it just with this so it's gonna go from
zero to one and then when we close it we
wanted to go from 100 to zero and we
want to have it use this animation so
what we're going to do for this to work
is we need to you fix up this JavaScript
just a little bit
so instead of having this here we're
gonna make this into we're going to call
it modal open so modal open is gonna be
equal to a function and that function
will do this so the function is going to
ad is open but it's also going to do
modal style Andy Mason so this is gonna
add an inline style where we're gonna
have animation and that style is going
to be equal to we called it modal fade
we're gonna do it over say 500
milliseconds and we want it to be four
words so the style animation so this is
just like if I came into here and I did
example animation and then I did modal
fade 500 milliseconds whatever for words
I think I wrote four words so when I'm
doing it here I'm saying that the modal
so my modal's style is animation so it's
you know this would be my modal not
example but it's just like writing it
like that except it's gonna do it as an
inline inline style so when I save that
it should fade in when I click on this
or it just won't work at all oh whoops
so the reason it's not doing anything
right now is I've made this into a
function so because this is a function I
need to call that function for it to
work so let's go and call that function
modal open save that so now when I click
we're gonna prevent default we're gonna
set all of these things up and then with
all of those set up we're gonna so it's
pretty much when I click run modal open
what's modal open it's this right here
so let's try that again
I'm gonna click here and look there it
fade it in but when I close it it
doesn't fade out hey my button doesn't
look so nice now yeah
change depending on screen size it looks
good there and it looks worse there oh
well well maybe fix that up so it's
disappearing so when I close it this is
where it gets a little bit trickier but
it's it's all good and the other thing
we're also adding now is right now if I
open it I can only get out by pushing
this we're also going to make it so if
you push escape we can get out because I
think that's a pretty standard way of
working so right now when I add
eventlistener click so we're right now
we're just removing is open but what I
need to do is I need to do this first so
I need to I need to well not this I need
to do the same thing but backwards so
the first thing I need to do is remove
the enemy is fade my fade my thing out
so if I took this here copy and paste it
here and reverse reverse I think that
would work but the problem is it's going
to do this in this the exact same time
or within a fraction of a second so
while it's fading out it's gonna you
know maybe have a split second of fading
out and then it's gone you won't even
notice it's just going to disappear
because it's going to display:none
so I'm actually going to remove the is
open from here and save so now when I
click it's gonna open and when I click
it should fade out inspect element I
thought this would work I wasn't sure
about using the same one to be honest
with you I just wanna make sure I'm not
getting any errors animation 500
milliseconds ease zero one reverse none
running modal fade what
so where's my modal modal one mo ok
portfolio modal so when I click on this
500 milliseconds YZ 0 seconds it's
because
so let's go back to here maybe I do
actually need let's call this one fade
in copy that and paste and 0% is 1 and
then 0 and we're into a fade out so it's
just the exact opposite I just want to
see so that's fade modal model in modal
out for words save that worked there we
go
okay because it had the same animation
name it didn't really seem to understand
it wasn't running the animation again
now the problem is I've faded it out so
it looks like it's disappeared but it's
still on top of everything it just has
an opacity of 0 so I can't actually
click on anything I can't do anything I
can't scroll I'm just stuck here so
that's a problem obviously but I need to
do this first so when I click on the
button we will do this after that's done
though we want to do something else yeah
so what I want to do is a modal so I'm
again looking at the same modal add
event listener and we're gonna look for
something called an e made animation so
our animation end and when that happens
we have to do something we can call a
function so we're going to create
something called modal closed so what
this means is it's gonna look for an
animation to be running and when that
animation ends so it's going to look for
the end of the animation so when the
animation is finished it's going to run
a function so that function we're gonna
call little closed so we have a model
open so let's make Const modal closed
and what we're gonna do for modal closed
we'll make that into a function the
modal closed is pretty simple and we're
gonna do modal class list remove is open
okay
so what happens is we're gonna add the
event listener animation end and when
animation ends so when the animations
finished we're gonna run modal clothes
and what modal clothes is is it's this
here where so we're gonna say modal
classlist remove is open so after the
animation we can remove this so if I
click on this perfect except we have a
little problem and if I click this it's
gonna go away but now if I try opening
it again it disappears
so the problem is this event listener
never went away
this event listeners still here so
anytime an animation runs as soon as
that animation finishes it's closing the
modal automatically so we need to remove
the event listener so when we do this so
when we remove is open we also want to
say modal remove event listener
animation and modal closed anytime you
want to remove an event listener you
have to have it the same everywhere or
it won't work so we're removing so first
we're animating it when the animation is
done we're gonna run the function modal
clothes modal clothes is gonna remove is
open and it's going to remove this event
listener so that means if I click it
opens it's working all good if I click
it goes away and now there's no event
listener anymore the event listener
comes on now and then once it's gone the
event listener is gone again so it won't
cause any issues now we also I mentioned
want to do this for if somebody pushes
escape on the keyboard which i think is
pretty useful to be able to do so I'm
gonna add that in as well
true so what we want to do is say
document
add event listener I said we wanted to
limit event listeners and they keep
creating new ones
key down so key down and I'm gonna do I
so we want to keep track of the event
and I'm just going to do a console log
yeah and we're gonna save that so I'm
going to show you what's gonna happen so
we're going to open up our inspect
element let's go to my console and I'm
gonna just push a key on my keyboard oh
because nothing's open let's open this
up now there we go so when this is open
we're running our event listener so you
can see ASD you can see I think I can
get whatever key I want 1 2 3 escape etc
etc etc and one thing with this is every
key has its own key code so we have a
key we have a key code we have a car
code and all of that stuff so if I push
escape I can see the Escape has a key
code of 27 so if I do
console.log e dot key code and say if we
can make your life even easier so let's
open that back up and now depending on
what key I push it's only showing me the
key code if I push escape you can see
it's 27 right there so what I want to do
is if the events key code is 27 I want
to do pretty much the exact same thing I
did here which means I probably could
have made this into something to whoops
copy and paste that right there so let's
save that so if somebody pushes escape
when the modal's open it's going to
close the modal so let's just try that
out I'm gonna click it opens and it's
push escape and it closes awesome so
that works and one more time open close
good and now the last thing that I want
to look at is right now we get this the
scroll bar so when I open my modal I can
still scroll that back window I don't
know about you but that's not my
favorite behavior so I'm gonna turn that
behavior off and the way I'm going to do
that is in my modal open I'm gonna say
document body style
overflow y is equal to hidden so I'm
going to save that let's just go see if
this even works so right now I can
scroll when I open that you can see that
other scrollbar just disappeared because
the overflow Y is hidden so the body
doesn't it's just hidden it won't scroll
anymore and now I can scroll here no
problem and when I close that oh no I
don't have a scrollbar so we do have to
come and say here that document document
body style overflow Y is equal to scroll
scroll so now I'm gonna click it opens
I can't scroll I can only scroll inside
my box here and if I close it and go
back to that now the only downside with
this is it does give you that little
jump here do you see how it jumps I
guess you could take this and have that
happen here instead and if you do that
just make sure you put it in both of
these spots and because I'm repeating
myself so much here that should probably
be its own function as well so if I
click there when I hit escape it's a
little less jumpy because it's adding
the scrollbar back right away so I think
I'm gonna leave it like that you still
do get a little jump in the content so
that just comes down to which you like
more you like how does the double
scrollbar bother you more or does the
little jump in content when you go back
and forth bother you more if you're on a
Mac it's gonna be even less obvious
because they have those little tiny
hidden scroll bars compared to what we
get on Windows so either way one or the
other might bother you a lot less let's
just go and make sure this is really
working because I've only done one modal
so far so let's come and bring in a
second modal so where's my first one is
here so I'm just going to take this
whole thing copy and paste it in but
this is my second one so I should change
pictures whoops I'm all over the place
here let's just change the pictures so
we know it's actually the right one two
two two and in my I'm gonna say I'll
just put project name - and here where I
had my portfolio image this was silly of
me
this should also come on this one
because all I should have to change is
the background image and this would just
be - to save that now let's see if this
works so my first one is this one and my
second one is that one project name - is
working the enth of type thing is not
working my images have changed okay
well I'll just fix that now portfolio
header one portfolio header - and we'd
have to do a three and a four and a five
and it just doesn't mean there's a
little bit more work to do in the markup
that I was hoping to avoid oh actually
this should have a space portfolio
header header one let's say accept him
on my second one header - and my other
one would have been portfolio header
header one header one header to save
there we go
and we're all done I'm not going to
populate the rest of them it's all the
exact same stuff and I think it gives
you a good idea of how this should work
it doesn't matter how many portfolio
items you have it should work equally
well with all of them and with across
all of them and no problems with any of
that so please let me know if you like
this video and this whole series and the
new way I did it where I tried to break
it up into a lot of small parts all
being released on the same day and
instead of just bigger videos less often
it's still gonna be videos every
Wednesday but I might try and do this
more where I'm breaking the videos up
into smaller pieces but yeah I hope you
liked this video and this this whole
thing and I hope it makes sense if you
have any problems please let me know in
the comments if you liked it please
leave a comment to let me know that you
did like it and as a last thing I just
want to say thank you for all the people
who have watched this whole series you
guys have been awesome really just
there's been lots of comments going on
and awesome discussion and I really
really appreciate it and I'm really bad
at this type of thing but if you've
watched it through this far and you
really enjoyed this series please do
consider supporting me on patreon the
support I got on there makes this
possible so a big thank you to my
current patrons who are there and if you
do have the ability to support me I
would greatly appreciate it but don't
feel it as an obligation at all and
until next time don't forget to make
your corn in the Internet just a little
bit more awesome</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>