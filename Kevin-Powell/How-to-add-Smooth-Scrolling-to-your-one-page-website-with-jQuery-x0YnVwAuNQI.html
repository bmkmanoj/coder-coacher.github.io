<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to add Smooth Scrolling to your one page website with jQuery | Coder Coacher - Coaching Coders</title><meta content="How to add Smooth Scrolling to your one page website with jQuery - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Kevin-Powell/">Kevin Powell</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to add Smooth Scrolling to your one page website with jQuery</b></h2><h5 class="post__date">2017-05-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/x0YnVwAuNQI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi and welcome to my channel my name is
Kevin and in today's video we're going
to be looking at how we can make a
single page website that automatically
scrolls up and down when we click on the
navigation links and while it's doing
that while it's going up and down the
active link is going to change so it's
going to show the user where they are on
the page you should see an example of it
going on and they get you to know what
you're getting yourself into with this
video okay guys here's the page that
we're going to be working on as you can
see I did do this in code pen so the
link for this is down below if you want
to come in here play with the code do
what you want make a fork of it whatever
it is you can jump in there and do that
it's a really simple sub just throw
together that I put up for this where we
have three sections sort of like what
you might see on a site but not you know
nothing nothing too great looking but if
for our purposes it's going to be
perfect I did use bootstrap to put this
together so if we look if you jump into
the HTML on this you will notice it is
all done with the bootstrap classes and
all of that the only thing that you
might see that's a little bit different
is on my three links up here I added a
class of scroll and I'm going to be
using that to select in the in my
JavaScript or my jQuery so we're going
to see that really really shortly and if
you're not even sure right now just to
show you when I click on this it's just
jumping from one section to the next and
well that's fine and the way I did that
if you're not sure is my href is looking
just for a hashtag of top and the
hashtag there of top is looking for the
ID of top and then the next one is my
features and that one clicks down to my
ID of features and pricing obviously
goes down to pricing so it works and it
jumps around I personally find it a much
nicer user experience when it actually
just Scrolls to the location instead of
jumping when it jumps sometimes you
actually think you're on a different
page in the site and then then you
realize that you're scrolled
three-quarters of the way down you
scroll up a little bit and then you
realize oh it's a single page site I
didn't you know it's not that it causes
major confusion but I think that it's a
lot nicer when you can click through and
it smooth scrolls so the first thing
we're going to do is we're going to
smooth scroll we're going to make the
links work so it's smooth Scrolls but I
did also
use the bootstrap class active here on
this one because I do find it's nice
when we're scrolling down that it's
highlighting you know when I get to
features that's going to jump
automatically over to features and then
when I get down to the pricing it's
automatically going to jump over to the
pricing again for user experience that
line that makes it really nice and helps
the user experience a little bit when
you're also highlighting in the
navigation where you are because maybe
someone's scrolling just like this but
when you see it jumping over you know
you're reaching other sections it can
just be a little bit nicer so we're
going to do both of those the first one
of the smooth scrolling is a little bit
easier so if you're not very familiar
too deep into jQuery the that one will
probably be quite easy to follow along
with whereas the second one might be a
little bit more difficult but I will do
my best to explain everything I'm doing
for all of this I'm not going to be
referencing the CSS at all and the only
thing that's really important at all
with my HTML is the fact that I've added
this class of scroll here so I'm just
going to shrink that down because the
jas here is what we're worried about the
most and I have linked to the jQuery CDN
here so if you are doing this on your
own site and not a code pen site just
make sure you are linking to jQuery in
one way or another awesome so with all
of that out of the way let's actually
get into what we want to be doing so the
very first thing that I would suggest
that you do most of the time is do a
document ready so when my document is
ready we want to do a function write
function and my function so this is a
very common thing you'll see with jQuery
and it's pretty much saying once the
whole page is loaded then you can do
this and it's just to make sure that the
JavaScript that we're doing which can
take a little bit longer to execute
doesn't actually slow down the rest of
the page
in general you're probably linking to
your JavaScript at the bottom anyway but
you know some places like WordPress and
all that a lot of the time you'll find a
lot of JavaScript link to add in the
head and you don't want this to get in
the way of all the other things
happening just in case it slows down the
loading of your site so when my document
is read
we can start doing some stuff so the
first thing we do is a variable called
scroll link and that's just going to be
equal to my those those links I have
made so I put a clasp on those already
of scroll so I'm doing this as a
variable just because this is a pain
sort of to write out each time so I'm
going to make a variable of scroll link
so my links that when I click on them I
want it to scroll and we'll be using
this a few times as we go along so the
first thing and this is for a smooth
scrolling so let's put that in now a
smooth scrolling scrolling scrolling is
that right that's right
okay so smooth scrolling what are we
going to do so to get this to work the
first thing we're going to do is we're
going to say when we click on a scroll
link so scroll link click so when I
click on one of my scroll links I want
something to happen so we want to
function now this function it's going to
be a little bit different because I'm
gonna put a little a here and what this
means is it's short for event you could
even write event here if you want to you
can put any letter you want in that
really I'm just going to put an e
because it's nice and short because
there's an event happening and the event
is when I click when I'm clicking on one
of these it's jumping down to here and I
don't want it to do that because if it
jumps then there's nothing to animate so
what I'm going to see is when this event
happens we want to prevent the default
from happening so now I've pretty much
broken my links now if I click on them
nothing is happening I'm preventing the
default action of jumping down to that
section from happening at all so there's
my prevent default the next thing we're
going to do is we're going to select my
body so we're going to select body and
I'm also going to select my HTML as well
so jQuery select my body at my HTML and
the main reason from what I understand
that we do both of these because I used
to only put body is some browsers
apparently it works better or dealing
more with the HTML for this and others
it's the body so we can treat them sort
of as one big element just by doing it
like this and what we want to do is we
want to
animation so a new dot and mate
now this animate method that jQuery
gives us is really cool and the reason
it's really cool is I actually need to
put in I can put it a bunch of stuff
into an animate and the idea with it is
that you're animating a CSS property but
it's a little bit different because
usually with all these you know you're
doing a function then you have open
closed or prevent default all these
methods you're putting something like
that with the animate you're also going
to have these squiggly braces in here
and what the animate is doing is it's
looking for CSS property so you could
say with I want to animate my width and
then you could change what you want your
width to be you know 50 and then here
you would be saying how long you want
that to take so you're giving a duration
so it'd be comma and then generation so
animate your CSS property so you're
choosing a CSS property to animate and
how long it's going to take so I'm just
going to actually change how this looks
a little bit I'm just because it's a
little bit cleaner to look at it like
this and we'll jump down right to you
now normally you're looking at doing it
with CSS properties but it also
accepting accepts something called
scroll top and scroll top is pretty much
looking at the location of the scrollbar
how far down are up it's it's measuring
where you've scrolled to pretty much so
scroll top it's measuring where we are
and we want to scroll top and we want to
go to this hash so this hash this ID
this section right and so we're going to
go to this hash and I'm getting an error
I think that's just from this here yeah
okay and we're going to get the offset
top from that hash so what this means is
I want to know how far away from the top
of my page that that hashes or that
section is so that section which is here
how far away from the top is it and we
want
bring our scroll bar to that location so
we're we're bringing that down to here
and then we're going to bring it down to
here automatically so with that done I
think it's actually going to work right
now yeah it does okay we can see it's
going really fast so I mentioned you can
put the duration in there so right here
and that's why I had the comma comma and
then you can put your duration in and
the duration has to be in milliseconds
whenever you're doing durations or
timing events in JavaScript it's gonna
be in milliseconds so you it's not like
in CSS where I could do a thousand
milliseconds like that or I could do one
second it doesn't work you just put a
number so one thousand would be one
thousand milliseconds which is equal to
one second you want to slow it down
there's two seconds or five hundred
would be half a second and I'm going to
stick with a thousand in this case so
now it should take a second to do my
animation and there we go
it is a nice smooth scrolling up and
down and it looks really really nice I
think and that's actually all we need to
do to animate it so we give them
preventing the default action from
happening then I'm animating my body I'm
scrolling from the top to the offset top
of my hash so how far down is this and
then we'll scroll that to that exact
location right there so that's my smooth
scroll but right now obviously my home
is still the active link and that looks
really weird when you click on features
and then home is still highlighted
that's confusing so this next part as I
mentioned is a little bit more
complicated but it's not so bad so I'm
going to call this let's put a little
comment here for active link switching I
guess not the best title for that but
whatever I think it gets the point
across so for this one the active links
are only ever going to change when we're
scrolling if the page is stationary
nothing's really going on so the first
thing we're going to do is we're going
to do a I'm going to select our window
and we're going to say when our window
Scrolls so all of this is only in
happen when my window is scrolling and
once again we as usual will have to do a
function now for this function we're
going to make another variable so that
variable is going to be called I'm going
to call it scrollbar location because
it's keeping track of where scrollbar is
pretty much and to do this I'm going to
say I want to select this we're going to
save this and we're going to say scroll
top and you'll notice here it's a scroll
top and the two little things here and
here it's the the actual method that I'm
using so it's not part of the animate
it's the way you'd normally see it so
I'm saying scroll top and I'm having to
put my parentheses here so that is
important that the scroll top has the
parentheses here and to show you what
that's actually doing let's throw up a
little console log here console logs are
super useful when you're not really sure
what exactly is going on so whenever I
scroll I want to have my scroll bar
location come up so let's go check that
out scroll bar location and we'll pull
up my inspect element I'm gonna have
some errors in here because I'm linking
to bootstrap but it wants tether but
that's fine doesn't matter when I scroll
so you see the number here is going up
and up and up so it's tracking how far
down have I scrolled pretty much how far
you know where's the location of my
scroll bar and we're going all the way
back up and it gets to zero so it's
keeping track of where we are on our
page more or less and I'll close that
down so I don't need that console log
anymore so with that now that we have
that what I can do is I need to do
another one so I'm going to say scroll
link so if you remember a scroll link is
that variable that we created all the
way at the top so for these links here
and any other links like this that you
might create throughout your website so
for each one of those so I want to do a
function for all of them so for each one
of my scrolling so for each scroll link
I am going to do a function
now for this function I do actually need
another variable so I'm going to do a
variable of section offset which will
equal to this hash offset top okay so I
have my variable there and so my and I'm
the reason I'm not making this bigger is
because my menu sort of disappears I'm
sort of stuck with it here so I'm doing
a little bit of side scrolling so for
each one of my scroll links I do want to
calculate the offset top from you know
for each one of my sections so where is
my features how far away from the top is
my features and how far away from the
top is my pricing so we know that as
this goes down the number gets bigger
and bigger and bigger so it's going to
calculate the offset from the top so
it's going to calculate from here to
here this is where my features are
starting so it's going to see a this is
I don't know what it is let's just say
it's 300 pixels we just want it to tell
us what this distance is and how far
this is from the top and pricing how far
that is from the top of my page and what
we're going to do with that is we're
going to say if so if my section offset
is less than or equal to my scrollbar
location we want some stuff to happen
right so if the section offset is less
than or equal to because make sense that
it's at equal to we the scrollbar
location so as we saw before when we
were going down it's keeping track of
how big that number is so what I want to
say is if this number the number we were
calculating as we went down is the same
as how far away this features is from
the very top of my page so if this
distance is the same as how far we've
scrolled down we want to change the link
from here over to features
and if this if we've gotten all the way
down to the pricing so the distance from
all you know from here to here is equal
to or you know smaller than the where we
are how far we've scrolled down then
it's going to move over to the pricing
so to do that we're going to say this
and this is where it gets a little weird
I'm going to say because with the active
class the active class isn't on the link
itself
whoops sorry where did I go there we go
so right now we're dealing exactly with
this with this right because we're
selecting our scroll and the active is
not on the scroll it's on the list item
and I'm trying to select things there we
go
so it's not on the scroll it's on the LI
instead instead of being on the link so
I don't want this active to be added or
removed from my link I want it to be
added or removed from the list item so
I'm going to say from the I'm going to
select this parent so the parent of this
link we're going to add class you want
to guess what it's going to be we're
going to add the class of active so now
when I scroll down if all of this is
working when I get to here the features
should get that class added to it there
we go
I'm a little bit off but we can play
with that a bit but you can see there so
now it gets it and then when I get down
to my pricing that should click on there
we go and now my pricing has it as well
so super except you can probably see a
big problem right now is they all are
highlighted and it's not going away and
now it's kind of broken so luckily we
can also remove class so we can also say
this so the parent again except so we're
adding the class two features we want to
remove the this active class from home
so the easiest thing to do in this case
is to say all the siblings so siblings
so we're saying this links parent
the list items parent and the siblings
so when features gets there both
siblings so any links that are in here
that might have the active we're going
to remove class of active and so now
when I scroll down and I get to my
features it jumps over to features and
you see it jumped it removed the class
from the siblings and it put it only on
that one and now when I scroll down even
farther it's going to jump once again
boom there we go it's now highlighted
the pricing instead and of course this
has the smooth scrolling and you can see
that there's a little bug there hmm it's
not scrolling down far enough and
actually out for the pricing me to see
hmm homes okay features do I need to
move it all okay so we can fix that
actually what I'm going to say is the
section offset we can just do like a - -
let's just try - 20 and see what happens
whoops
there we go ah that fixed it um see I'm
just doing a minus 20 to make sure that
when I get there it actually is
selecting so you know there's that
worked out a little better just to give
myself a little bit of wiggle room and
let's just see home so that's good it
jumps to features actually it works a
bit better it's jumping closer to where
my padding is their pricing features oh
great so you can see it's jumping back
and forth and all of that and that's how
you do the automatic scrolling with
jQuery I hope that you found this video
useful if you learned something from it
please let me know down in the comments
below and if you found a project to
implement that into you know link to it
down in the comments and I'd be glad to
check it out thanks a lot for watching
and if you haven't already subscribed to
the channel I do videos like this one
every single Wednesday so please
consider subscribing and until the next
video take it easy</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>