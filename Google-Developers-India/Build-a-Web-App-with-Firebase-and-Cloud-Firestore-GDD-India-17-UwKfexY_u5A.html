<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Build a Web App with Firebase and Cloud Firestore (GDD India '17) | Coder Coacher - Coaching Coders</title><meta content="Build a Web App with Firebase and Cloud Firestore (GDD India '17) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Google-Developers-India/">Google Developers India</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Build a Web App with Firebase and Cloud Firestore (GDD India '17)</b></h2><h5 class="post__date">2018-02-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/UwKfexY_u5A" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay good afternoon everybody so welcome
to the firestore web app code lab so in
the next 90 minutes what we want to do
is build an app a web app that is built
on top of firestorm before we get into
it
my name is aza Thompson I work and
developer relations for firebase so
we're going to talk about 5yz and we're
going to talk about cloud firestore and
then we're going to get into the actual
code lab so firebase is a is Google's
mobile app platform and basically it's
allowing you to build mobile apps and
when we say mobile we mean Android iOS
and web so if there's a firebase feature
our goal is to bring that feature to all
these three platforms and allow you to
build your apps on top of them and then
also to grow your business based on
firebase so this is a quick overview of
some of these services that firebase
contains so some of you already know
what firebase is and I've used firebase
for some time and have problems using
firebase as well
but for those of you that don't know
about firebase it's a whole suite of
products and we build them and we talk
about them in two separate buckets so
one bucket or pillar would be to build
your app so these are the services that
you use to like get your up going so go
from zero to actually having an
application and in this case I'm
highlighting authentication here and
this is the key type of feature that
firebase is trying to provide so you as
app developers or developers in general
you want to build things that make your
users do give your users delight you
want to surprise your users you want to
make them feel good when they use your
applications I'm not sure that there are
many users who are going to be very
happy
if you have great authentication like no
user is going to give you a review and
say the authentication
fabulous right you might look at your
peers and say I appreciate the
smoothness of your authentication but
really and truly your users don't care
about this type of thing and so we don't
want you to spend a lot of time focus on
this type of thing our goal is to make
this easy for you to do so that you can
focus on the other things the the
virtual sorry the machine learning that
sits on top of this alright so we want
to be able to make your life easier to
build the cool stuff that your users
really do care about so also we allow
you to store data in real time databases
both real time database and cloud
firestore allow you to store data
metadata for your applications we allow
you to host your web apps so if you can
host your web apps with us for free and
then we provide you with a lot of cool
things SSL and all of these other
features that allow you to allow users
to come to your app and you don't have
to worry about serving them very server
less architecture we allow you to test
your app you can upload your Android
apps and we will run them on a multitude
of devices we know there are a lot of
Android devices out there and so we'll
run them across a multitude of devices
give you reports on when your app
crashed on what device and we'll even
give you a video of how your app
performed and up until that crash we can
allow you to manage crashes with crash
reporting so if your app does crash we
allow you to view the stack trace right
even in some cases see some logs that
led up to that crash Analytics so this
brings us into the other pillar of 5yz
so the other pillar of firebase is for
you to grow your application so you've
already built your application with the
features we had before now you want to
grow your application you want to take
your application to the next level you
want to adjust your application as
necessary based on how your users are
using it so analytics allows you to see
how users are interacting with your
application cloud messaging it allows
you to reach out to out to your users
re-engage them get them back into your
application you can also send silent
messages that can tell your application
to do things while I
in the background remote configure as
you to deliver different types of
experiences to your users if you have a
group of users that are really big
spenders in your app and some other
users that have not used your up in a
long time you can give them different
experiences dynamic links this is one of
our cool features that is very easy to
use you make a link to your app and then
if that link is shared on Facebook and
someone clicks on it on an Android
device they go to the Play Store someone
clicks on it on a web browser they go to
your web app if they click on it on an
iOS device they go to the App Store it's
a very flexible tool in order to share
your application very easily and then of
course we have AdMob and AdWords that
allow you to get your app out there and
also make revenue from your app so Wi-Fi
leaves a lot of these features exist
already in separate situations so for me
one of the biggest reasons why you would
use firebase is the integration the
interoperability of these features so
it's not just that we have
authentication but we have things like
database understanding authentication so
that if I want to do something in
database I can restrict it based on the
user that is trying to do the operation
I can restrict writes and reads based on
who that user is a be testing
understands remote confidence so if I
have an a/b test that I run experiment I
want to run I can send it to one group
of users and another group of users
different experiences using it using
remote config with a be testing so they
work together and then we have crash
reporting that understands analytics so
when I get a crash I can have logs in my
crash report that tells me what the user
was doing just before that crash
occurred so that interoperability of all
of these features in five years and
there are more of them but the
interoperability is what I really think
brings gives firebase a really strong
impact on your applications so that
brings us to Firestone and Fastow is
Google's next-generation cloud database
it's a real-time scalable
and silver degrees so it's not just for
the client-side it's not just for the
server-side you can use it in in all of
these areas so you might ask yourself
doesn't firebase already have a database
and the answer is yes but faster is
hoping to take pickup where the real
time database started and move forward a
bit it's flexible so you have the SDKs
that you would expect on Android iOS and
web but you also have support for a lot
of server-side languages up to ten of
them so if it's no js' Go Java Python
you will be supported their eye has
expressive querying so you can do
compound query so we'll see in a moment
it's still real time like the real time
database so you get callbacks
when these are changes and you can take
you can update your app as a result and
then it's also available with massive
scale so if your app gets featured
somewhere you go from 10 users to 10
million users you should be ok I want to
note though that there are still some
cases in which you would want to use the
real time database if Satan C is a
feature or a requirement of your
application the real time database is
still something that you should look at
so if you really need that low latency
as low as possible then real time
database is still something to consider
but I would suggest you start with
firestore and then only a firestore is
not able to meet your leads and C
requirements then go back to real time
database so what does faster look like
so this is an example of when I ran the
code lab this is what the firestore
detail UI looks like and so here we have
some collections so you see we have a
restaurants here as the collection and
basically firestore is built on this
model we have collections and then we
have documents in those collections and
then you can have sub collections and
you can see how that can go on and on so
data goes into documents and then
documents going to go into collections
every top level data store database
starts with
collection so just like this one we have
restaurants every database every fire
study to be is going to start in a
similar way and then within the
restaurants database you have all of
these individual documents and each one
would represent a restaurant then the
details of each restaurant would be set
in fields so these feels things like the
average rating of the restaurant the
category of the restaurant the city that
the restaurant is in and things like
that they will be set in the fields of a
document and then here we have the
ratings for each restaurant in a sub
collection so this is a collection
within a document and so you can see how
this can go on and on so each rating
within that that's rating subcollection
would also have documents would also be
in documents and have fields just as
restaurants do so one of the main things
that firestore gives us moving forward
from real-time database is expressive
querying so we can do simple and
compound querying and we can get
real-time updates on those queries so if
we look at this this is a simple query
that we're doing and in the first line
there we're getting a reference to this
city's collection and then in the next
stage we're going to apply a where
clause that filters the state of those
cities based on whatever the state value
is so in this case it's ca which
represents California so then we can go
even further and we in this case we do
also grab the city's reference but then
at the end here you can see that we
added us a compound query ER compound
where clause that tells us that we're
only looking for cities in California
with a population of more than a million
and that brings us to a codelab fight so
let's go through some of how firestore
is implemented in fights and friendly it
sorry so friendly
is available on three platforms Android
iOS and web like most of the firebase
features and samples so you can go to
our github page there and you go to
friendly eats iOS friendlies Android or
friendly to web we're gonna focus on
friendly its Web today and today we're
going to be using the CLI v5 is
command-line interface we're gonna use
authentication we're gonna use a cool
feature about the education which is
anonymous off a lot of times when you go
to build an app authentication is
something that you want to implement but
can but can sometimes be a block cuts
are getting you to what you really want
to do and so with the firebase real-time
database and fire store you can set up
your rules or your security rules on
your database where the user must be
signed in but then you don't want to
have to go through the sign-in flow to
sign in with Facebook or sign in with
Google or anything like that
you can just use anonymous off and we'll
see that in the code lab an anonymous
author allows you to have your database
open to everyone on your team without
having it open to everyone in the world
and then obviously we're going to use
cloud firestorm so friendly eats is a
simple application that allows us to add
restaurants and reviews and display
feature display filtered price display
restaurants based on filtered prices
location or ratings so this is the UI
that we should expect to get at the end
so we should have nice UI which is
already done for you in the code lab and
be all the the restaurants the UI for
the restaurants all that is built in so
what we're going to be focusing on is
how do we get those restaurants into
fire store get them out of fire store
and then how do we filter based on the
criterion the fields of a particular
restaurant so this is how we're going to
add restaurants so in this case we
basically get a reference to the
restaurants collection and then we
simply call add and what are we
we're adding a data data object and that
data object can be any any JavaScript
object in this case so you don't have to
explicitly create a document you simply
have to have an object you add it and
then the document is created implicitly
for you so in this case the data object
here will be a restaurant with all the
restaurant fields filled in so let's
query some restaurants and to query some
restaurants we will basically get the
same collection the same restaurants
collection and add some additional
things like auto buy or limit so in this
case we are varying all of the
restaurants in descending order of
average rating so we get the top 50
restaurants in this case so let's listen
for updates to our collection of
restaurants so in this case see what you
do first so we would call on snapshots
on our query so once we have on snapshot
on the query we would be able to get
updates and those updates could be of
three types it could be a change update
a delete update or an added update and
in this case we're looking for the added
update so once we know that it is an
added updates we call render which in
our case just adds it to our UI and then
we can do compound queries so in this
case we have a restaurants we get that
collection at the top as we've done
before
and then we look at our filters from our
UI so if our filters from our UI for
categories is not any so that means that
the user specified some type of category
filter we simply add that to our query
and then so for city we do the same
thing and then for all of the other
fields that we want to query on we can
do the same thing and that's it so let's
see if we can get to the code lab now
for this code lab you will need nodejs
that is really the only thing that you
should need other than that you should
be fine and the code lab is at
short URL but if you go to the github
page of github.com slash five is flash
friendly eats - web you should be able
to get it as well okay thank you very
much and I'll be around</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>