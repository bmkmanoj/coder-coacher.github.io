<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>SQL Server 12 - Referential Integrity | Coder Coacher - Coaching Coders</title><meta content="SQL Server 12 - Referential Integrity - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/CalebTheVideoMaker2/">CalebTheVideoMaker2</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>SQL Server 12 - Referential Integrity</b></h2><h5 class="post__date">2016-12-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/5hFPoBWCdQA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome back everyone to your sequel
server tutorial series I'm Caleb from
Caleb the video maker and we are going
to be continuing our discussion on data
integrity specifically referential
integrity we've talked a lot about
foreign keys and primary keys and we
haven't even got to the video devoted to
them yet that's because they're so
fundamentally important to designing a
database when we create a foreign key
that references another column we are
creating what's known as a relationship
and another word for relationship is a
reference think of a foreign key as
referencing another column that means
referential integrity is something we
need to consider whenever we create
foreign keys now a foreign key has to
reference a column that is unique so
this would include the primary key and
any columns labeled unique we'll be
discussing how to do all of that stuff
in syntax when we get to that but for
now just think of it conceptually all
that is saying is that every single row
for a column has to have a unique value
that way every single row is a specific
entity that goes back to the last video
where we talked about entity integrity
that's a prerequisite to referential
integrity now we can make foreign keys
in our head and not actually code out
saying hey this column references this
column in that case we still have
references the only problem is we're not
enforcing references in the database so
that means we have a table over here and
a table over here and this table
references this table but we're not
allowed to draw the arrow it's divided
from the parent and you just have to
assume or hope that all the data in here
is correct which the chances are it's
not going to be if you're not using the
right referential integrity rules which
we will discuss in just a moment so for
example we might have an entity over
here with the ID of 8 and we might
reference that over here and then this
entity gets to lead it well guess what
this still exists and when you look up 8
over here nothing exists did eight
exists at one point or do we just make
up the number eight on accident
what's going on here and you're not able
to go into the table structure
and see that this column references this
column or anything because it doesn't
all you did was say this column
references is calm in your head but you
never actually coded it out that means
you could throw a number in here like
138 and 138 doesn't even exist in this
table
nothing is forcing this relationship all
you are is putting data in two tables
and trying to make them match some
people create entire databases without
ever using foreign keys I don't know how
that's even possible but essentially in
that case you're just going off of the
numbers and hoping that they match it's
like asking for something to go wrong in
your database when you're in that
situation you are sacrificing
referential integrity that's because you
can't promise that this reference is
actually referencing anything because
there's no connection even if there does
happen to be 138 here there's no
association there just two values in two
different tables and then you yourself
associate them in your mind but we don't
want to do things in our minds because
we're humans and we make dumb mistakes
computers are more predictable so even
though we can join these and basically
create a generator table the problem is
they're not connected in any way in the
databases eyes so you can delete this
you can change this it's all fine
it doesn't matter this one is separate
it doesn't have any connection to that
one so how can you fix this well
obviously you need to define a foreign
key when you define a foreign key you
are telling the database hey this
reference is this or this column
reference is this column when you do
that it's telling the database only to
allow values that exist in the other
table so if I came in here in row 1 3 3
7 but that didn't exist in this table
over here it'd be like no noob that
doesn't work it's going to pone you so
just creating a foreign key is one step
to protecting your referential integrity
now foreign keys have a couple of
settings you can configure and we'll get
into those in detail when we talk about
foreign keys but essentially we need to
tell the database what happens when we
delete the row that's being referenced
what happens when we update the primary
key of the row that's being referenced
all of those kind of things we need to
ask we also have to consider things
is the foreign key labeled not null is
it unique making sure you have all of
these constraints set up correctly or
how you protect your referential
integrity and this is not a concept I
can discuss entirely on a chalkboard
this is something we are going to have
to code in sequel server this is more of
an introduction so you understand the
concept of what referential integrity is
so then when we start discussing all
these things it's not a slap in the face
like what don't obsess over it we will
get into the details so if you want to
make sure you see those videos be sure
to click subscribe and you'll get
notified hopefully when I create new
videos if you like this video be sure to
click like and as always I'll see you in
the next one oh and this should say not
know</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>