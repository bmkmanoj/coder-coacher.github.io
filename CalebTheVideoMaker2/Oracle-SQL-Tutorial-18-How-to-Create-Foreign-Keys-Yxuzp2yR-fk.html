<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Oracle SQL Tutorial 18 - How to Create Foreign Keys | Coder Coacher - Coaching Coders</title><meta content="Oracle SQL Tutorial 18 - How to Create Foreign Keys - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/CalebTheVideoMaker2/">CalebTheVideoMaker2</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Oracle SQL Tutorial 18 - How to Create Foreign Keys</b></h2><h5 class="post__date">2016-12-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Yxuzp2yR-fk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey welcome back everyone this video we
are going to be starting a small project
for projects so I really highly
recommend you watch the previous video
but if you're stubborn essentially what
we're gonna do is create a small
database where you can have users and
then projects that these users create
and then they can add users to those
projects so essentially a project
management and software but very
simplified so to start off this is the
table we have it's just a user ID a
username and a primary key of user PK
this video we are going to be creating
another table and creating a foreign key
on this table that references the users
table so to begin we just follow the
same pattern we have up there create
table and we'll name this projects and
then open up some parentheses and this
is where we're gonna put our columns so
first let's put all the names of the
columns we're going to use I think this
one will have three columns a project ID
a project title and then a creator and
the creator is going to be the column
that references the users table so let's
start project ID project name and then
creator now we need to give them data
types so I'm going to give the ID the
number data type the project I'm going
to give our chart to and then that'll be
50 characters max and the Creator this
one actually has to match whatever we're
going to reference so if we decided we
wanted to reference the user ID we would
want to make it a Veda type number if we
want to reference the user name we would
have to make it varchar' 50 characters
and that's what I'm going to go with for
now so I'm gonna say var char 250 char
awesome so we have our columns now we
just have to worry about what
constraints we want on these columns the
first one I would say is we're gonna
make the project name unique and that's
just to kind of prevent confusion that
way there's not two projects with the
same exact name now the Creator column
that's the one where you have to think a
little bit more on whether it's going to
be not null or unique and we talked a
little bit about this in the previous
videos for unique if we said unique that
means
there could only be one instance of a
specific creator in that table that
means one person could only create at
max one project and we don't want that
so we're not going to put unique but we
are going to put not in all because we
want to make sure every single project
has a creator obviously that would make
sense the next thing we're gonna want to
add is the primary key of course so
let's do that by adding it as a table
level constraint constraint and then
we'll just name it projects underscore
PK primary key and then in parentheses
we'll just put the column name which is
project ID also don't freak out if you
don't have all the keywords memorized it
comes with repetition oh and it's also
right up here so you know I may have
cheated a little now the real question
is how do I tell Oracle that I want this
column to reference the username column
of the other table and just like with
the primary keys there's different ways
of doing this we're gonna go over all
three so that way you get a full picture
but then you can choose whichever one
works best for you the first and the
easiest is doing it at the column level
unnamed so to do that we're going to go
to the Creator column because that's the
one we want to mess with and then in
here all you have to do is say
references and then say the table you
want to reference users there's only one
problem it doesn't know intuitively
which column you want to reference so
you have to tell it inside of
parentheses so we're just gonna say use
your name and make sure you spell it
right too so let's run this make sure
everything's right okay we got an issue
what is it I think it's because I forgot
a semicolon all right let's try this
again there we go we created the table
we're gonna edit it though because I
don't want to do our constraints that
way so for future I'm going to add the
drop table projects up here so that way
I can just continue to create the table
over and over again until I get it
perfect the next way we want to learn
how to create constraints is that the
column level but we want to name it and
if you remember when we made the primary
key all we did was after the primary key
column was say primary key and then we
added into here we said constraint and
we gay
name of users underscore pk it works
very similar with foreign keys so I'll
show you let me get rid of this and
we'll come down here to our foreign key
column right here and we'll just add in
the key word constraint and then we'll
give it a name of projects underscore
users underscore F K and you can pick up
your own naming convention but
essentially what I did here is said the
original table and then the table that
it's referencing which works for now but
it is problematic for example if we have
two foreign keys referencing that table
but you know that's that's for another
day we'll run this make sure it works
and you can see it was created and we
are getting some issue up here so let's
look at that so I believe the issue is
that we are referencing the users table
from the project's table so it's not
going to let us drop the users table so
the trick to this is we just need to
switch these around boom then we'll run
that and boom there you go the third way
is a little bit different than the way
we did with the primary key but it's not
a substantial difference we are going to
take this entire thing and we're going
to cut that and put it as basically its
own column in this table but we're not
going to add parentheses after the name
because they're already there we have to
go back here and say what column were
starting with and telling it that it's
referencing this we also need to add the
foreign key keyword so as you can see
there there's just a couple differences
between the two and you're just gonna
have to become more familiar with them
over time I too I'm still learning these
and then we're going to throw in the
column that we're starting with so that
would be the Creator column so let's go
create or alright let's run this make
sure everything works and now I didn't
break anything okay all the tables are
created and it seems to be working just
fine now as for creating the table it
seems like we know our way around pretty
well but what happens when we put data
inside of these tables for example we
add a user and then we add a project
that references that specific user and
then we want to go back and delete that
user
well now what happens to the project
that references that user
that is a big thing we have to learn
about and essentially that's going to
bring up the command on delete so you
can add the on delete command to our
foreign keys to tell it what to do in
those awkward situations when stuff like
that happens that's what we're going to
be talking about in upcoming videos so
please be sure to subscribe I think you
guys will really appreciate the new
content so thank you so much and I will
see you all in the next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>