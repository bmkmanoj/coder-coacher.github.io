<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Db2 SQL Tutorial 11 - Many-to-Many Relationships | Coder Coacher - Coaching Coders</title><meta content="Db2 SQL Tutorial 11 - Many-to-Many Relationships - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/CalebTheVideoMaker2/">CalebTheVideoMaker2</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Db2 SQL Tutorial 11 - Many-to-Many Relationships</b></h2><h5 class="post__date">2017-09-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/n8RQFy8uGZ8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome back it's your mini to mini
tutorial series for db2 now like I said
in the previous video a lot of this
concept stuff is generalized so there's
not a whole lot of db2 specific things
in here but it's just good to learn it
in the context of some database system
so let's get started with a many-to-many
relationships inside db2 the previous
two videos talked about one-to-one
relationships and one-to-many
relationships and those are easy ok many
to many relationships is where things
get complicated unfortunately it's one
of the most common relationships you're
going to find when you analyze the real
world and the data that you're going to
need to store in a database so you need
to get familiar with how you do it in
the end you're going to have three
tables so if you think back to one to
one
we had one table in a one-to-many we had
two tables in a many-to-many we have
three tables the reason that is is
because when you have a many-to-many
what we are going to do is break that up
into two one two minutes and if you
remember from the previous video
one-to-many uses two tables so how does
this add up exactly I said a mini to
many is three tables but we're going to
break it into two one two many tables it
seems like for if you ask me but the
reality is one of these tables is going
to be shared so it's gonna be sort of
like this one of the two tables over
here and then the other one in the
middle and one for over here so I know
that's kind of confusing so just ignore
that I'm gonna draw this out it's gonna
make a whole lot of sense to illustrate
a many-to-many relationship I am going
to give you a completely made-up example
let's say we're working with that
website and you have users this is one
of them websites where you can put your
interest in and it changes the content
accordingly so what that means is the
database needs a way to keep track of
what stuff people are interested in so
there might be some categories out there
like technology science art and so forth
that people can choose from this list of
categories and receive content related
to those things so to start we're going
to have a user table this will have a
user ID and now the question is do we
store the interest in here well no you
don't and here's the reason why if we
store the entry
here is a column well what if you had
multiple interests
you'd have to store them as comma
separated values or some other weird
hack which is not going to work well
because then it's not easy to say oh
give me all of the users interested in
technology because when you get their
interest it's just a huge list of a
bunch of interests so you need to break
that off into another table so let's go
over here and make an interest so this
is going to have an interest ID and then
the actual interest value so now did
this really fix anything because now we
can go in here and say oh let's say we
have an interest ID this is still going
to be a problem because you can only put
one interest ID in there if it's a
foreign key or if you make it to where
you can put multiple it's still going to
be a comma-separated value so if you
have like oh I'm interested in one two
five and seven but that's not super
helpful because you still have the same
exact problem as just listing them out
by name so how do we get around this
problem well this is where the third
table comes in we're actually going to
make a table that goes in between these
two and this is known as the
intermediary table this is going to have
at least two columns and these columns
are going to represent the parent so we
have two parents here and that is going
to be the one side of a one-to-many
relationship this is what I meant
earlier when I said there's going to be
a shared table the parent is going to be
two parents in one table and the way
we're going to name this is we're going
to take whatever table this is and let's
say we're gonna make it singular so it
would be user underscore and then
interests plural and what this table is
going to do is just list all of the
associations between certain users and
certain interests the reason this works
is because we can have one user in this
column as many times as we want so this
is going to be the user ID column and
let's just kind of list these out the
normal ways both of these have them we
have a user ID and then we'd have an
interest ID the user ID can be repeated
as many times as you want
and the interest idea can be repeated as
many times as you want so essentially we
have it where we have users and
interests we can have it to where one
user has multiple interests and a
specific interest has multiple users
interested in it let's just look at what
this might look like inside of this
table we might have it where user one is
interested in interest number one user
one is interested and the interest
number two user two is interested in
interest number 1 and user two is
interested and interest number two so if
you want to see this a little bit more
clearly we could say this is this guy
over here and this is this gal over here
and we have two interests over here so
this one is going to reference the
science and the two is going to
reference the art this kind of shows the
many-to-many relationship and this is
the proper way to structure it well
that's kind of a general overview of the
one-to-one one-to-many and many-to-many
relationships if you have any questions
at all please leave them in the comments
below please be sure to subscribe check
out the description for some useful
links and as always subscribe and I'll
see you in the next video peace</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>