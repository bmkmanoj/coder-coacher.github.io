<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>MySQL Tutorial 61 - How to use Aggregate Functions | Coder Coacher - Coaching Coders</title><meta content="MySQL Tutorial 61 - How to use Aggregate Functions - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/CalebTheVideoMaker2/">CalebTheVideoMaker2</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>MySQL Tutorial 61 - How to use Aggregate Functions</b></h2><h5 class="post__date">2013-01-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/XtBNgEjZ-oA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everybody my name is Caleb I'd
like to welcome to you welcome you to my
new video and hopefully my audio is not
too loud or too quiet and I noticed in
my last video I thought it would be nice
if I up the quality of my microphone to
48,000 Hertz rather than 41,000 and when
my I was using my recorder it actually
records in 41 so it slowed it down and
it looks ound like I was talking in
slow-motion slash with a really deep
voice it's kind of cool but it's kind of
weird too so basically what I'm going to
do here is show you my database I built
it's cool as you can see I have client
information and sales tables I'm not
going to go through making these because
that's just too much work to show you
and not necessary I'm just showing you
how something works so within my clients
information I have the client ID and
their name nothing too fancy but within
sales I reference the client ID and also
the amount they spent at a specific time
so they come to the store first person
and spend 100 bucks
$600 the second person came in and oh
sorry yes the second sale was to the
also the same person for $300 so you can
see this is a very dedicated customer
he's probably pretty cool basically the
sales ID is at which sale it was and the
client ID was who bought it the amount
is how much money it was worth now we
can look that the client ID refers back
to this table so client ID is actually
me now that we know that we can use some
cool aggregate functions through the SQL
box within here I can say select average
and then say amount which is the column
for the sales the price and then say
from what table from sales and click go
I can see in average people spent this
much money uh 83,000 at 601 dollars per
sale now the reason it's so high when
the numbers
kind of low was if we look back somebody
actually spent a lot of money this is
called an outlier and it kind of messes
up statistics but this is something you
have to deal with so what we can do now
is we can say select max sales sorry no
sales amount because that's the column
we're retrieving from sales goal so this
is the person who bought the most so
what we can do is we can actually like I
said use distinct we can count these so
select count let's count the sales ID
this will give us the most accurate
because it's a primary key well as you
can see every single column is filled
with something so it doesn't really
matter for this case from sales this
will give us how many sales there were
twelve now we can say distinct sales ID
and the result should be the same and
I'll tell you why in a second the reason
for this is there is actually every
single one of the sales ID is unique so
in order to use a distinct we have to
use an ID that repeats or something else
that repeats for example the client ID
if we use inline select for click go
we're going to get 12
poopsies my bad let's see what what I
screw up Clinic make sure you spell it
right client go 12 now if we put
distinct within here
click go doll with the moles make sure
you spell or distinct I can't spell good
go now the answer is 6 now let me show
you why we have this client ID 1 on here
1 2 3 4 times so that only counts for 1
2 is on there twice so that counts for
two I mean that counts for 1 so 1 plus 1
is 2 3 &amp;amp; 4 that's 4 3 is repeated again
so that doesn't count 5 is 5 6 is 6 and
then 2 is repeated but down here so we
actually only have six distinct IDs now
I'm going to show you group by
statements we can say select average
what do we want to select the average of
the amount because that is how much they
spent from sales so that's the table
we're getting it from and we're grouping
it by group by within parenthesis I can
say max I don't think I can group by
let's group it by the client ID then
click go there we go now we can see the
average for each person but there's a
problem we don't see who what person it
goes to so to fix this we can say select
client ID and then then comma go now we
can see the client ID 1 bought this much
client I to bought this much client ID 3
about this much and so on ok so now I'm
going to tell you how to use a join with
an aggregate function what I want to do
is I want to use also the person's name
and I want to retrieve the max amount
they've spent at the store so we're
always going we're going to select
something so we can leave select here
and what are we going to select what
we're going to select the client ID and
then we're going to select the max
amount we're also going to select their
name now what you have to say where we
are getting this information from and
then joining on what table so we are
going to get it from the sales table
and do an inner join with the client
information table great now how are
these tables related what is connected
between them and if you remember what I
said earlier the client ID is the same
on both tables so we're going to use the
keyword using which is basically saying
client ID equals client ID ID just like
this now how are we going to group this
we want to know how what each person
spent their max so we're going to group
it by the client ID group by client
client ID and yeah I think that's it
let's go and see if this works
all right great it did I didn't screw
something up that's the present so now
you can see Caleb curry the max he spent
was 630 dollars C squared which pretty
cool name I wish I had that nickname who
spent $40 ricecake oh I wish I had that
nickname - that sounds like a really
cool rapper name spend this much Terry
Smith I wish I knew somebody named that
Jerry granolas I wish on name made
somebody up named that and I don't even
know who PJ Simon is but it sounds cool
this is how much each person spent and
that is the basics of using aggregate
functions with distinct grouping by and
also using joins to combine two tables
thank you for watching and I'll see you
in my next MySQL video we are going back
to the real world</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>