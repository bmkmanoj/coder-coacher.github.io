<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Database Design 16 - Designing One-to-Many Relationships | Coder Coacher - Coaching Coders</title><meta content="Database Design 16 - Designing One-to-Many Relationships - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/CalebTheVideoMaker2/">CalebTheVideoMaker2</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Database Design 16 - Designing One-to-Many Relationships</b></h2><h5 class="post__date">2014-07-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/DzchNE1pbrk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey what's up everybody welcome back to
your database design series in the last
video we talked about designing
one-to-one relationships this video
we'll be talking about designing
one-to-many relationships first I want
to bring back an example from the last
video into this video so we can kind of
explain the differences between
one-to-one and one-to-many so in the
last example we had a credit card
company where a person is allowed to
have only one card and a one card can
only be owned by one person let's draw
that out we'll just draw the table and
the columns within that table so I have
two tables here we have the user table
and then we have the card table this is
when we store a one-to-one relationship
over multiple tables otherwise we can
just store it as a column because I mean
we're only storing one thing we have the
user ID and then we have a card ID and
then to connect these as a one-to-one
relationship we have a foreign key so we
put a connection card ID in the user
table a user ID in the card table so
card ID user ID that means that what
that does is connects these tables so
the user ID to this user ID current ID
to this card ID that is how we would
make a one-to-one relationship over to
tables then we can store other stuff
about the user in this table other stuff
about the card in this table now to
convert this to a one-to-many we can
change this from something very small
and one-to-many relationship would be
saying one user can have many cards but
a card specific card can only be owned
by one user so there's no card can't be
owned or co-signed or owned by
to people now the way we do this because
let me just erase these columns real
quick there's a circle scratch so we
have a user table and then we have a
card table once again we need IDs for
both of them so we have a user ID and
then a card I the user owns multiple
cards and we don't know how many they
own there they can have one they can up
to they could have three they could have
four they could have five so it wouldn't
make sense to put the card ID in here as
multiple columns because if we put five
columns for card ID well then what if
someone had six cards what are they
going to do they're not they're not
going to be all have a sixth one so what
we do is we put the user ID in the card
table which points back to the user I D
in this table so now if we made specific
examples of this let's say we had this
guy here it's good with top hat yeah so
we got this guy right here and his user
ID is 63 just random generate a number
by the database well we also have cards
over here so we have this credit card we
have this credit card we're actually
drawing car cards here so we have the
barcode and the name and the codes and
all that crap and then we have this card
over here let me make a connection we
want all of these to point back to this
guy so we give it a user ID we could say
the user ID sixty three sixty three
sixty three so now we know that each
card is owned by the user with the ID of
sixty three which we can figure out is
this guy whatever his name is we can
join that so now we store a one
too many relationship in two tables
where the many side gets a foreign key
to the single the one side and if you
don't know about foreign keys that's
fine basically and simple terms a
foreign key is just that that ID
connection this user ID say foreign key
that points to the user ID in the main
table foreign key points to the primary
key in the primary table this is also
said to be a child I'm sorry a parent
child relationship this would be the
parent because every single child has to
point back to the parent that is how we
store a one-to-many relationship in a
database so how would we know if we had
this example we had comments a comment
section on a shopping website so you're
allowed to leave a review yeah let's say
you can leave a review and we had this
table these this table set up we have
the users and then we have the reviews
and we had a user ID and then we had a
review ID I just give that to every
single table every day I give every
table an ID then we have the username
and then we have the actual review so
the user has a username the review has
the actual comment and we could also say
we could say we have a review title so
we can say like oh this review is this
product sucks or this products really
awesome and then we can have a paragraph
saying why the products awesome for
example right now this is not properly
designed because there's no connection
between the user and the
you because if we look at the review
table who who posted the review it
doesn't say all we have is the review ID
the review and the review title it
doesn't say who posted it so if we put a
key foreign key that points back to the
user table that would say that is the
parent the person who posted that review
so we could have a user ID which points
back to the user ID in the primary table
is this a one-to-one relationship or is
this a one to many relationship well
this we can have multiple reviews and
each one would point back so we can have
another review but we could have the
same ID let's just think of some
examples let's say we have the review ID
of 6 and then the review is awesome or
good and it's by the user ID of 62 well
then we could have another one with a
review ID of 7 and it could say great
and then we can add it from the user ID
62 well these are both from the user ID
62 so we could say this as I wan to many
relationship because multiple reviews
point back to one user if we wanted to
wanted it so a user can only post one
review well then we need to put the
review ID in the user table so now we
have this sort of like this double
connection thing here
because this review ID connects it so
it's saying only one review ID can be
from the user and honestly this this
could probably be improved because the
review is not necessarily connected to
the user that directly for example of if
the website is solely forgiving one
review well then we could give it a
review ID but that might not be the best
example simply because the user might
buy multiple products and each review
could have a product ID you see so I
mean it kind of gets complex and just
kind of have to study but the review ID
would probably be best to make it a
one-to-many relationship because it
wouldn't really make sense to have it as
a one-to-one relationship we wanted as a
one-to-many because multiple reviews for
multiple products can be given so this
points to a product this points to a
product this points to a product and
they're all by a specific user all right
so yeah that's just some basic design
concepts that you will need to
understand when you have a one-to-many
relationship just store it over to
tables and give a foreign key to the
many side pointing back to the one side
all right so sorry if that was come too
complex or too confusing but I think as
we go on it'll always make sense and I
know I say that like like I'm a broken
record or something but yeah seriously
just studying people like watch it and
then they're like I don't get this I
quit well that's not how you learn like
seriously when I was in school I never
learned anything until two weeks after I
took the test
which I know is super frustrating
because I could have learned it like two
weeks earlier but studying it when I
didn't understand it directly is what
made me learn it and then I finally kind
of got the concepts after a while so
just keep learning keep watching and
I'll see you in the next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>