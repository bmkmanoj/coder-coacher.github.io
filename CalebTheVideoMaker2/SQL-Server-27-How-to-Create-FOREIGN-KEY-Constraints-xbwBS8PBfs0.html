<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>SQL Server 27 - How to Create FOREIGN KEY Constraints | Coder Coacher - Coaching Coders</title><meta content="SQL Server 27 - How to Create FOREIGN KEY Constraints - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/CalebTheVideoMaker2/">CalebTheVideoMaker2</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>SQL Server 27 - How to Create FOREIGN KEY Constraints</b></h2><h5 class="post__date">2017-01-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/xbwBS8PBfs0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey everyone welcome back to cable video
Mecca to this video we are going to be
continuing off of the last video so in
the last video we created this table
animals and you can see here one of the
columns here is species now this column
is going to give us some problems and
the reason that is is because all we are
storing the species as plain text within
a varchar' column that means if we have
I don't know two million animals sign up
for this app we're working on well in
that situation we might have the same
value for the species 30,000 times so
you can see that the data becomes very
redundant redundancy is one of the
leading causes of anomalies so we want
to get rid of all redundancy and the way
we need to do that is actually turn this
species column that's varchar' into a
foreign key referencing a species in
another table so how do we do that well
we actually have to have that other
table created now when you reference a
prop now when you reference a cup
now when you reference a column from
another table you have to label it as
foreign sorry guys my dog keep sneezing
every time I try to talk now when you
reference a column from another table
the column that is being referenced is
known as the parent the column that's
referencing it is known as the child now
when you create these tables you always
need to create the parent table first so
in this situation the species is going
to reference another table so this would
be the child we need to create that
parent so I'm going to put it up here we
will just say create table and then
we'll say species and the columns we are
going to put in here are the ID that's
going to be an int primary key identity
the next thing we're going to add is the
species and this is going to be
essentially the same value that we would
have stored here so we can even copy
that datatype varchar' 50 and we are
going to make this not null and also
unique it's going to be unique because
each species needs to only be in this
table one time and then we can have
unlimited references to that individual
species additionally I'm going to make a
column for now called friendly name and
essentially that's going to be a
friendly name of the species so if you
have you know family genus species kind
of thing it's not exactly the most easy
thing to read so this could be something
simple like bunny now this could
actually introduce some redundant data
here because you know there could be
20,000 species of maybe not 20,000 I
don't know there could be 20,000 species
of bunnies and the friendly name is
bunny for all of them so the solution to
this would be to make some kind of
animal categories table and then we
could reference that with the foreign
key here but for now the amount of
redundancy is nothing compared to having
this species column down here so I'm not
going to worry about it right now so
what we need to do is give it a data
type and we'll just say var char 50 and
we are going to make this one not null
but we're not going to make it unique
because we just said we will have
redundant data in here multiple species
could all have the same friendly name so
overall this looks pretty good for the
species table I'm getting an error here
I think probably yeah so I was Dorking
around with this at one point so let's
just add this drop table if exists now
what about this table we actually need
to replace this column with a reference
so the very first thing when you're
creating a foreign key you need to make
sure that the data types match exactly
so what are we going to be referencing
are we going to be referencing this
species column of the species table or
are we going to be referencing the ID
column of the species table well you
could do either one because this is
labeled unique but in general it's best
to reference the ID so that means we are
going to change this to species ID and
then the data type needs to match
exactly so this needs to be an int now I
created the column but how do we tell it
to reference this column over here well
we just add a couple words right here
it's real simple references it's one of
the hardest words to type and then you
say species and then in parentheses you
say the column ID so everything should
be good we just have to make sure to
switch this to the right database of
course all right let's run this and make
sure everything works boom there you go
that is how you create a foreign key in
sequel server thanks guys hopefully that
was helpful if you liked this video be
sure to click like and subscribe to this
channel and I'll see you in the next
video Wow</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>