<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Oracle SQL Tutorial 6 - Relationships and Primary and Foreign Keys - Database Design Primer 3 | Coder Coacher - Coaching Coders</title><meta content="Oracle SQL Tutorial 6 - Relationships and Primary and Foreign Keys - Database Design Primer 3 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/CalebTheVideoMaker2/">CalebTheVideoMaker2</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Oracle SQL Tutorial 6 - Relationships and Primary and Foreign Keys - Database Design Primer 3</b></h2><h5 class="post__date">2016-02-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/lL7MUtWvRe4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey what's up everybody welcome back to
your six Oracle SQL tutorial this video
we're going to be talking about
relationships alright so this is a
straight up dating advice tutorial
alright this will get you all of the
ladies by all ladies I mean probably 0
or less and yeah it might give you a
programming job though someday so
alright so let's begin we're going to
start talking about relationships and if
you don't know anything about database
relationships this is the tutorial for
you well everything in a day a
relational database has relationships
and when we say relational database
management system you guys remember that
I think I talked about that relational
database management system well this R
does not mean relationships
it means relational which deals with the
concept of relations which has to do
with tables so basically a relation is
just a table so when I say relationship
just want to make sure you guys are
clear that don't be going around saying
relationship database management system
or something like that because then you
won't get the job or the ladies yeah so
before we go about designing these
relationships let's just talk about some
conceptual information that you should
know before you start diving into the
whole diagramming stuff all right so the
first thing two words you need to know
entities and attributes these are
basically two kinds of information in
your database an entity is anything we
store data about an attribute are the
things about that entity that means an
entity has attributes okay so in this
example you can see this entity right
here has an attribute an attribute an
attribute and an attribute so basically
the attributes
describe the entity so how do you know
if something is an attribute or an
entity well if you can think of a bunch
of information about this okay just
think of you have an object right just
something you want to store data about
or something you want to store in a
database and you're asking yourself okay
is there a bunch of stuff I can store
about this object or this thing if there
is a bunch of stuff you can store then
there's a high possibility that it is an
entity if you can't think of anything
that you need to store about it then the
likelihood is that it's an attribute now
sometimes you can make it work either
way and I'll be explaining that so don't
get so caught up like oh my goodness I
don't know if this is an end to your
entity or an attribute usually once we
get into database normalization that'll
kind of work its way out but when you
start off with just some basic entity
attributes and relationships designing
stuff then when you get into
normalization it's like a piece of cake
because you basically already have it
done all right so let's kind of just
give go through some examples right if
you have a database for a college and
this College has a class this class
would be a specific class we could say
it's math 4070 now this would probably
be our entity that's because there's
going to be related information that's
going to describe this class so we could
have you know a professor student have
room number so that's going to say where
the class is located in the school and
if it's a big school you might have
building and room number but we'll just
go through number four now for
simplicity sake and you also might have
a time so we could just say Tuesdays at
4:30 to 5:30 it's pretty short class
only once a week and it's only an hour
there's a whole bunch of information
here I just want to try to go through
this and try to figure out what would
qualify as
actually what would qualify as an entity
so you look at this and you kind of just
ask yourself all right can we store
information about each one of these for
example a room number can we store
anything extra about a room number
not really it's kind of just a room
number you know it might be 432 right
what about a student though well a
student that's like kind of important
it's like a human being and human beings
are pretty important you know so the
chances are you can store information
about a student so you know you could
have what's their name what's their
student ID what's their major what god
class are they in stuff like that
so this would probably be an entity
professors same thing those professors
they're people sometimes now what about
this this time of the class well can you
say anything about the time of the class
not really that would probably be an
attribute so when we break this off into
entities and attributes let me clean off
the board a little bit we get something
that looks a little bit like this you
have a table and we can place the
entities over here and the attributes
over here oh for the entities we have
the class the student and the professor
we also had some attributes that were
specific to the class we'll just put
these over here now so you can kind of
see how this is working we're separating
the entities from the attributes and yes
these attributes are very specific to
just the class but that being said we
could add more attributes that describe
the other entities a name well that
could describe a student or a professor
birthdate same thing I could describe a
student or professor what about a major
well professors could teach in a
specific major for example we could have
a nursing professor prophet professor
but generally when you're talking about
a major you're talking about students
and I don't know why I decided to do
those ones in black Kelly
that up a little bit oh I think I just
made it worse
but you guys follow well then what does
this mean when it comes to database
design why did we do this why did we
waste our time making this graph well we
actually didn't waste our time the way
this works is you will take the entities
and you will make them have their own
table so each entity is going to get a
table a butte saan the other hand are
only going to be a column within that
table without worrying about all the
details you can get a basic database
design by following this concept that
means we have three tables we have the
class the student professor as for the
attributes such as the time of the class
and the room number those are just going
to be a column within this class table
so within this class table we're going
to have those two columns of room and
time as for those other attributes we
were talking about such as name well
those are going to go in both of these
tables we can get a very basic database
design starting point using this method
now we talked a little bit more in depth
about the concept of relationships
because these tables relate to one
another for example a class is taught by
a professor students attend the class
you can also maybe say that the
professors teach the students or the
students learn from the professors so
we're going to talk about the three
types of relationships right now the
first kind of relationship we're going
to talk about is a one-to-one
relationship and if you're a visual
learner and need some kind of picture to
visualize this think of marriages all
right I probably wouldn't be cool if my
wife went out and married another dude
right and I don't think she'd be happy
if I went married out some other chick
okay it's a one-to-one relationship like
we have exclusivity and that we're not
allowed to go marry other people and if
you're not a visual learner and that was
this the dumbest thing you've ever heard
then forget it
one-to-one this is the relationship of
an entity in
attribute so when you have an entity
such as a class the attributes would be
the time of the class and the location
of the class and the class name the
class ID stuff that is unique to that
class just wanted to mention that there
is a little bit of flex flexible nasaan
this for example when we say one-to-one
we're basically saying this class has
one name and this one name is a sign
that is one class now like I said that's
not always generally true because we
could potentially have another class
with that same name but if you think
about the purpose of a class name it's
an attribute to describe an entity I'm
really not trying to make this too
complex right so I'm trying to give you
the most technical correct definition of
this right a one-to-one relationship is
essentially a column within a table and
that column is unique to that entity
even though the value of that column
could be repeated in another row did I
lose you I think I just lost myself let
me give you a picture right we have this
dude and we have this dude
there's a couple different ways we could
store this in a database first we put
them both in in one table and we could
make make them both have their own row
which is would be the way we want to do
this and now this person has a name so
we have a Caleb and we also have a cabel
this would be the proper way to design
this one-to-one relationships you put
the attribute as a column within the
entity table which will be people sorry
my neighbors parking his car making a
bunch of noise what a noob attributes
are a value within the name column and
they are unique to each entity but
there's a repeating one so an
alternative way to design this which you
should not do is to make another table
known as names and have Caleb in here
once with an ID so let's say this has
the ID of 1 and then we could reference
that that's a total possibility and in
fact it would work but it's unnecessary
strictness just because there's a
possibility that the attribute could be
repeated doesn't necessarily always mean
that it's a one-to-many relationship if
I haven't lost you yet good if I have
let's just slow down a little bit the
only thing you really need to remember
or think about is that a one-to-one
relationship is an entity and an
attribute that's all you got to know
just ignore all this stuff you know the
second example of relationships that you
need to know about are one-to-many
relationships now when we're talking
about one-to-many relationships
we're starting to talk about
relationships between two entities
rather than one entity and one attribute
in this example we had entity and an
attribute put in this one we're actually
going to have a relationship over two
tables and if you remember our song
entities I said each entity gets their
own table so the example I got for this
one is uh you got like a Jim right
bitterly Jim's will have some kind of
membership right some gyms have a tiered
membership web system you can find the
same thing on websites you can pay 10
bucks a month for the best the good
version and then you pay 1099 per night
for legit version
right so those are like a tiered
membership so let's say in this
theoretical gym we have we got three
tiers we got bronze silver and gold so
over here we have the membership table
and we have three entries or rows so
these are basically going to be three
rows in our membership table and over
here we have customers don't worry too
much about my spelling or anything we'll
get into all that later I'm just using
for theoretical design of is right in
what I'm talking about
I follow no standards well on this table
each customer is going to get a row so
we have three customers each one's going
to have a membership status the way this
works is with an ID system each one of
these is going to have an ID and with
these numbers you can basically
correlate it so this guy he is the gold
membership this guy has silver and this
girl has bronze or let's say she has
gold too right that's how that works and
just so you know you don't have to use
IDs but you need some kind of primary
two foreign key relationship which we'll
talk about that in a couple minutes if I
got time this is an example of a
one-to-many relationship because one
membership status gold for example goes
to many other entities so we have one to
this guy and to this girl follow this
you got one to many many being more than
one it doesn't have to be like hundreds
it can be two for example so that's the
way this kind of works in a one-to-many
relationship there's a connection
between the customers entity and the
membership entity so in a one-to-one you
have an entity and an attribute but in a
one-to-many you have two entities and
once again for your visual learners this
would kind of be like if my wife was
like y'all bro I know we're like married
and such but I'm going to have more
for wives I mean I'm getting multiple
husbands but you're not allowed to have
multiple wives
that's not cool what if you do we're
done that's kind of what a one-to-many
relationship is because you have one
husband has one wife but the wife can
have multiple husbands sorry for all the
details but getting on to the final and
probably your future least favorite of
them all many too many really
relationships I can talk the way many do
many works is that one entity could have
a relationship with multiple other
entities and each one of those entities
could have relationships with any number
of other entities so to kind of be like
yo wifey-poo I know we're like married
and all but I think we're going to be
allowed to have as many wives and
husbands as we want or that would be
full polygamous marriage but to put that
into a data perspective let's use a
different example we have people and
then we have classes so students and
class is essentially one student can
take twenty thousand classes and one
class could have tons of students so if
you think if you like to have like one
student and that student has a
relationship with multiple classes it'd
be like right like point into four
classes for example you get like this
sure effect you know and then on this
side you have one class which has thirty
students so you get like Oh times like a
lot right and then you just get these
lines going all over the place right and
at the end you just got this big mess
all right so this is one of the harder
ones to store in a database and it
requires what's known as an intermediary
table you may also hear this as a
junction table where many-to-many table
or who cares there's all kinds of
different names for it but basically the
way this is going to work as you're
going to have three tables and this here
this intermediary
table is right here snack tab and center
of them separating them you know you
don't want all those lines crossing over
each other so that'll just be bad and
then you're going to put all of the
relationships in this table so within
this intermediary table let's say this
table here is a students and in classes
so we got students classes within this
table you're going to associate a
student with the class that that person
is taking so you would have Caleb math
Caleb science Oh Caleb ah geology and
then once you go through all the classes
that Caleb has you go on to someone else
Jimmy math what jimothy or Jimmy doesn't
have a science class so you just go
straight up to geology and these names
are going to be replaced with IDs or
foreign keys to the students table did I
lose you
but basically you're going to have
slightly let's say Caleb has the idea of
27 instead of having Caleb Caleb Caleb
you're going to have 27 27 27 and that's
going to link the tables so that way you
don't have them break apart so there's
still that there's still that connection
links but they both come to the
intermediary table and stop there for
you visual learners think of like two
tables shooting out laser beams boom and
then hits this magical force field of
this intermediary table and it absorbs
all the electrical energy juice and then
puts it in a beautiful display of users
herb not users students to classes
and right now you don't need to
understand all the details of how to
make an intermediary table perfectly if
you want to know more about that I have
a 50 some part database design series
that you can go watch for days okay I'm
just trying to get the basics and this
video has been way super too long so
let's just end with that for the the
relationships but I still have one more
thing I need to talk about which first
will summarize this and then we'll talk
about primary keys and foreign keys so
many too many is also entity and entity
connecting multiple entities but with an
intermediary table so entity an entity
with intermediary table that is how I
would memorize that and if you think if
you like to think about tables like how
many tables do these things take up this
is 1 this is 2 and this is 3 ok now
let's talk about primary keys and
foreign keys and then we'll talk about
one more thing regarding relationships
regarding those keys don't be done so
there are two types of keys and database
design
there's primary keys and foreign keys so
these are the kinds now there's also
categories so those two categories are
natural and surrogate these are
basically the way the keys work so
natural would be something that has
real-world meaning so something like an
email address would be a natural key
because it has real-world meaning like I
just said a surrogate would just be like
an ID of 743 which is a random number
computer-generated doesn't mean anything
in real life and the fact that it's just
a random number that's it but I guess I
skipped a step what are Keys there are
basically things to keep things unique
the keys are used to basically make
every single row within a table unique
and also they're used to make
connections across multiple tables the
difference between natural and surrogate
is minor and it's kind of the conflict
between database designers as well you
should use natural or oh you should use
surrogate or oh you should mix them it's
not
super huge deal in reality I Gentoo I
tend to prefer surrogate but I'm not
completely against natural so just for
those of you who are wondering natural
or surrogate surrogate but that doesn't
matter so let's just talk about primary
keys and foreign keys the primary key is
the key column within a table that makes
that table which makes every row in that
table unique right so if you have a
user's table for a website every single
user is going to have in this case a
surrogate key of a random generated
number that makes every single row
unique so that way if you have a person
with the same name as someone else you
can tell that they're different
thanks right so if you didn't have these
keys and you just had Caleb and Caleb
well then you have to ask yourself okay
is this a duplicate or these two
separate people and you don't really
know but if you have a key one of them
is named Caleb with the ID of 72 and one
of them's Caleb with the idea of 483
well now you know there are two separate
entities ones Caleb with this ID and
another ones Caleb with this ID so let's
just draw faces to represent people and
we're going to give each one of these
people an ID this face here you wouldn't
store that inside of a database I mean
you could store picture but that's not
what I'm trying to do I'm just trying to
give a visual representation of what
each one of these rows are first to ever
first I this person you know it's like
how do you talk about the person what
was this person got these three people
won't give them some hair so they have
some confidence as long as a squid
all right so these three people each
have a row in the database and the table
of the database the table is whatever is
what you're storing so in this case
users now a foreign key is a reference
to a primary key in another table so if
this is that Jim we're talking about we
would have a column foreign key which
would say membership status for example
and you would have let's say 2 2 &amp;amp; 3
these are foreign keys and they
reference primary keys of another table
which in this case would be membership
status each one of these is going to
have a primary key every single table is
going to have a primary key if we're
using IDs well we could just say 1 2 &amp;amp; 3
just computer generated numbers now
there's a link between the foreign keys
and the primary keys see this number
here well this is a foreign key and it
has to match a row with the same primary
key so this foreign key references the
silver this one also references silver
this one represents gold and you have
these links and you can enforce those
links with something known as foreign
key constraints which we'll talk about
in a future video that is basically how
this works primary keys foreign keys
foreign keys reference the primary keys
every single table needs a column that
has a primary key to make every single
row unique then you can enforce that
with foreign key constraints so when it
comes to those database relationships we
were talking about the way we design our
primary keys and foreign keys are very
important so we're going to go through
them real quick and describe how this
works the first one being one-to-one is
the easiest you guys love it all right
you just you don't even need that worry
about multiple tables you have a table
and then one of the columns is going to
be the primary key and then you put the
excuse me you put the relationship in
another column it's simple entity an
attribute the entity might be users
everyone has their own ID and then
attribute would be like the user's name
Caleb for example that's all you gotta
do you just you make column boom done
simple I know it's awesome I wish it was
all like that for one Dominions a little
different let's use the example of the
membership again you're going to have
two tables and this one it's going to be
the users so you're going to have a
primary key of the user ID and then
you're going to have a foreign key which
references the primary key of the
membership the foreign key goes in the
child relationship which we never even
discussed really that much children and
parents but you can think of it like
this you can have you can have one
entity such as gold which can be used or
whatever by other entities for example
Caleb and Sarah and Samuels right this
will be the parent these would be the
children well these people are all
stored inside of a table each with their
own row and then the foreign key each
one of these is a foreign key so it's
gonna have a foreign key of three
foreign key of three foreign key of
three because they're all gold members
it makes sense
so for one-to-many the one side has a
primary key the many side which we the
children has a primary key and a foreign
key referencing the one side oh great
alright let's go over many-to-many in
this situation we get three tables and
let's say it's books and authors one
book can be authored by many people and
one author can author many books so
you've got this many to many
relationship well we can put books over
here authors over here the foreign keys
are going to go in here so you're going
to have a foreign key to the book and a
foreign key to the author
now there's one small thing a debate
that some people have as to whether you
need a primary key to describe
the whole group so if you did you need
three columns if you don't need the
primary key then you just use both of
these as the primary key I'm just gonna
say up front it doesn't really matter
but in this situation we'll keep it as
as this you can interpret it however you
like but basically the foreign key is
going to reference the book and the
foreign key is going to reference the
author so you could have one author this
person over here with the ID of 47 he
will authored three books um 38 27 and
19 those are the IDS of three books the
way I look in here you would have 47 38
47 27 4719 that is how a many-to-many
relationship works well congratulations
if you've made it this far
you officially got through the database
relationship section one of the most fun
interesting sections but it can also be
very time-consuming because it's very
conceptual and you know kind of annoying
and you kind of just want to like take
the whiteboard and smash it on something
to help you think or something I don't
know but hopefully I was helpful sorry
this is probably one of the longest
videos I've ever posted but anyways
thank you for watching I'll see you in
the next video and hopefully you guys
are learning and enjoying this thanks
I'll see you then peace out gasp peace
peace</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>