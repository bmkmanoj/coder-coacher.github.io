<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>SignalR Tutorial 23 - Refactoring | Coder Coacher - Coaching Coders</title><meta content="SignalR Tutorial 23 - Refactoring - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/CalebTheVideoMaker2/">CalebTheVideoMaker2</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>SignalR Tutorial 23 - Refactoring</b></h2><h5 class="post__date">2016-11-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/TI3RK4qvIZ8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey welcome back everybody to caleb the
video maker - in this video we are going
to be doing some refactoring of our
signal our app so what is refactoring
refactoring essentially is changing the
way our code is for our application
without changing the way the app works
for what benefit though essentially we
want to organize our code a little
better reduce bugs make it more
maintainable more readability etc but we
want the app to work exactly the same so
just to start off let's look one more
time in our app to see what we got
so I'll give the page of refresh pops up
with connected and we got some console
logging saying it worked that's
essentially all we got pretty simple app
I know but we're going to refactor it
and make it a little bit more
maintainable so looking at our code here
let's try to find some things we can
change that make our code better well
the first thing I see is that we have
this code right here that all we're
doing is writing to the page and anytime
I want to write to the page I'm gonna
have to take this code and put it
somewhere else
so like for example I could write to the
page here but the issue is if if I ever
need to go and change the way that code
is or maybe I change the ID of the div
there well now I'm gonna have to change
it in two places or more so whenever you
have the same code twice let that be a
message to you that you should try to
extract that code into its own function
so we want to extract this create a
function and then call that function the
easiest way to do that is just create a
variable and assign a function to it so
we could say right to page and set that
equal to a function and then inside of
these brackets we want to take this code
this code put it in there so now we have
a function that's going to do that and
instead of using this code all we have
to do is say the function name so within
here we could say right to page put
parenthesis great okay there's an error
what's wrong I think accent like we did
my brackets there there we go okay so is
this going to work let's try it out I
don't think it's gonna work and message
is not defined you just got pwned what
does that mean well what we're adding to
the page is this message here and if you
remember me talking about that scope
this message is a parameter on this
function after this function ends the
browser doesn't know what the heck
message is okay you're just you're just
wasting your time
because you can see the brackets open
here and end here any time we're outside
of this function message basically
doesn't exist we need to set message as
a parameter and accepted through
arguments when we call that function so
here we need to go message and then up
here we need to say message so now we're
kind of making this hopping thing we
call this function we pass in a message
we write that message to the page and
that that gives it to the function down
here so now it's assigned to this
variable and we append it to the page
if you want to see that a little bit
more clearly we could change the names
of these things so message one message
one message two
message to just see clearly see how this
works
message one in this example it's
assigned to message two and then message
two is rebroadcast it to the page but we
don't need those names for now so let's
just pleat those well this work I don't
know let's give it a try yeah sweet
great we're getting somewhere
now just to show you how beneficial this
can be if I ever want to write to the
page I can just call this right to page
function and I have the perfect example
of where we might want to do that up
here in this console log generally
console logs and alerts are considered
unprofessional and annoying and usually
just something you used in development
so in a production environment you want
to try and do something else so we're
gonna replace this with writing it to
the page I got to do is say right to
page so you know save it refresh great
so now we actually get the error message
on the page much more helpful let's go
back to our code also let's do the same
thing for the alert here because same
thing with alerts you can actually turn
alerts off if you keep bugging the
person enough times with alerts there
will be an option to disable alerts so
alerts are like a big no-no don't ever
use them in production
there we go
now for any reason signal or doesn't
work we don't get an alert we have the
error put on the screen which is much
better so what else can we do here well
there's something else I noticed
connection dot my hub is here once in
connection dot my hub is here another
time and generally when you do something
multiple times sometimes it's helpful
helpful to kind of break that off into
its own little thing so what I'm gonna
do is up here just create a variable
name it my hub instead equal to that
little section so dollar sign dot
connection dot my code now anywhere we
have dollar sign dot connection down my
hub we can just replace it with my hub
also make sure you don't delete this
line because this is actually different
it's just connection dot of that's just
to make your signal our connection
that's not working with any specific hub
so be careful with that we want to
delete this here and this here great
let's see if everything still works go
back to the browser refresh seems to be
working great and the benefit is that
our code is much easier to read much
easier to maintain less prone to error
and bugs it's just overall better so as
we go on if I find that we need to
refactor some more I will see how we can
do that the best way and hopefully make
our app even better it so that's all I
got for this video guys hopefully it was
helpful I will see you in the next video
and it's gonna be great
so I'm excited</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>