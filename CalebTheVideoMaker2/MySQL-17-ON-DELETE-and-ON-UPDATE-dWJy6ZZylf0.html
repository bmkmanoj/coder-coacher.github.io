<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>MySQL 17 - ON DELETE and ON UPDATE | Coder Coacher - Coaching Coders</title><meta content="MySQL 17 - ON DELETE and ON UPDATE - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/CalebTheVideoMaker2/">CalebTheVideoMaker2</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>MySQL 17 - ON DELETE and ON UPDATE</b></h2><h5 class="post__date">2016-12-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/dWJy6ZZylf0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys welcome back this video we are
going to be discussing on delete with
foreign keys my name is caleb from caleb
the video maker - and i hope you guys
enjoy the video on delete is essentially
a way we can configure the way our
foreign keys work and it kind of goes
back to the last video so I really
recommend you watch that we are going to
discuss parent and children so we're
going to have a parent row which is the
row being referenced and then we're
going to have a child which is the row
referencing that parent and we need to
discuss what happens when we delete the
parent what happens to the child well
there's actually three kind of four
options with MySQL and the options are
restrict path stayed and set all and we
are going to be discussing each one of
these now there's also no action which
is just another name for restrict but
it's not always the same thing in
different database management systems so
if you ever use a different database
know that there might be a difference
between no action and restrict but in
MySQL they're the same thing so restrict
that's the default so if you just make a
foreign key and you don't say anything
like you don't put on delete something
the one that's going to be applied is
restrict overall these are pretty easy
to understand it's more important that
you just know that they're there in case
you need to use them so the parent and
then the child the first one restrict
it's literally just going to prevent us
from deleting the parent that's the
default so if you go and delete the
parent row you're going to get an error
and MySQL is not going to let you do
that cascade on the other hand will
actually send the same command down to
the child and delete the child so if we
delete this pant row the child row we
delete it as well now if we go to set
null what that means is that the field
within this child row that references
the parent so let's say this is all the
information we have maybe an ID of seven
and it depends on what the table is
about but let's say at the users table
we might have a user's name and then
we'll have a column that references that
parent and if we for some reason delete
this parent when on delete is set to set
null what that'll do is replace whatever
value that's here referencing the parent
to know that might be useful if you want
to be
delete the parent but you don't want to
also delete the child because if you did
restrict you couldn't delete the parent
if you did cascade it would delete the
child but finally set null will allow
you to delete the parent without
deleting the child a lot of words there
kind of gets complex but I think once we
go into actually creating tables this
will make a lot more sense but it's
really good to go through the conceptual
stuff first so then when you get there
you're not completely lost and we can
just kind of do a little bit of
refreshing the important thing to
remember here though is that this column
cannot be set to not null because you
couldn't put a null inside of a not null
column so that's not going to work and
actually there's another setting you can
do which is on update this one is used a
little bit less but essentially works
the same way but instead of deleting the
parent what we do is we actually change
the value that's being referenced so
let's say we have the value seven and we
have the value seven here and we
reference the seven and then we change
the seven to eight with restrict it's
just not going to let you change it it's
going to force it to stay at seven
cascade we'll send that change down to
the child and they'll both be changed to
eight set null we'll literally just
erase this value here so that's kind of
how all of those work and the reason on
update is used less is because primary
keys are not supposed to change so it's
really only useful when you're
referencing unique data that's not
primary key so a foreign key can
reference a unique column what a unique
column does not have to be the primary
key so this could reference a call and
that's unique and theoretically that
data could change so that's where the on
update comes in now where do you
actually put this information well when
you create the foreign key you will just
append on delete whatever on update
whatever in right there in the create
table statement but we'll get into all
that when we get to the create table
statement so thank you guys hopefully
that was helpful if you like this video
please be sure to click Subscribe is
that really helps my channel out click
like as that lets other people know this
video wasn't a total piece of garbage
and that's all so thank you guys for
watching I will see you in the next
video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>