<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>AWS Configuration Management Tutorial | AWS Tutorial For Beginners | Simplilearn | Coder Coacher - Coaching Coders</title><meta content="AWS Configuration Management Tutorial | AWS Tutorial For Beginners | Simplilearn - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Simplilearn/">Simplilearn</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>AWS Configuration Management Tutorial | AWS Tutorial For Beginners | Simplilearn</b></h2><h5 class="post__date">2017-08-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/HOw9pDdMkQk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">the main purpose of configuration
management is to quickly spin up new
resources whenever required you may need
to quickly spin up resources to upgrade
to new instance types to replace a
failed instance or underperforming
instance for disaster recovery for auto
scaling you may also need to deploy
configuration changes to a fleet of
existing and running instances logging
into each virtual machine and updating
the same configuration files can take a
ridiculous amount of time so the
deployment of the instances must be
automated and repeatable to make the
process easy and convenient AWS supports
a number of technologies for configuring
and deploying Amazon ec2 instances and
other AWS infrastructure user data
Amazon machine images or a mis
configuration management tools user data
is basically a command sequence that is
executed at the first launch of the
instance when you launch an instance in
Amazon ec2 you have the option of
passing user data to the instance that
can be used to perform common automated
configuration tasks and even run scripts
after the instance starts you can pass
two types of user data to Amazon ec2
shell scripts and cloud init directives
and you can also pass this data into the
launch wizard as plain text file for
launching instances via the command line
tools or as base64 encoded text for API
calls the ami provides the information
required to launch an instance which is
a virtual server in the cloud you can
specify an ami when you launch an
instance and you can launch as many
instances from the ami as you need you
can customize the instance that you
launch from a public ami and then save
that configuration as a custom ami for
your own use
instances that you launch from your ami
can use all the customizations that
you've made AWS also offers a variety of
its own configuration management tools
and services which allow you to
configure new instances using reusable
templates and update configuration
dynamically in response to change in
this lesson we'll review some of these
tools such as AWS cloud formation and
AWS opsworks and discuss strategies for
combining these technologies into a
comprehensive configuration and
deployment strategy AWS cloud formation
enables customers to create and modify
collections of AWS resources using
predefined reusable infrastructure
templates the cloud formation templates
provide ec2 bootstrapping features to
help automate the initial installation
and configuration of the OS and
applications tank templates can also be
versioned enabling customers to apply
versioning logic to their AWS
infrastructure the same way they do with
software AWS opsworks is a fully managed
application stack management service
that includes provisioning and
configuration of Amazon ec2 instances
auto scaling application deployment and
application health monitoring it also
provides the ability to integrate with
additional AWS services such as elastic
load balancing and Amazon RDS instances
your organization may have decided that
it wants a base set of software included
on all instances launched within its
cloud this may include homegrown
utilities in-house tools for using AWS
services and advanced software for
enterprise scale activities such as
monitoring and intrusion detection among
other possibilities in this circumstance
consider using the base ami approach
with this approach you can pre configure
all of the software your organization
requires on an Amazon ec2 instance
and then create an ami from that
instance the new ami would then become
the ami used to create all new instances
within the organization
organizationally you could enforce use
of the base ami in a couple of ways
create a custom toolset that becomes the
gateway toolset for creating AWS
resources and that forces creation of
instances from the pool of custom a mis
create processes that scan the running
Amazon ec2 instances in your account and
terminate any instances that are not
using the standard a mis third-party
configuration tools such as chef and
puppet are used by many AWS customers to
start new Amazon ec2 instances in an
automated and repeatable manner the
flexibility of these environments
enables the implementation of a complete
configuration management system the
screen illustrates one way in which
configuration software can be integrated
within an AWS architecture let's assume
that you want to use configuration
software to initialize a set of Amazon
ec2 instances as web servers the
scenario breaks down as follows the
administrator sets up a configuration
server this usually is a standalone
Amazon ec2 instance that will contain a
set of templates which describe all of
the applications files and configuration
that a server needs to initialize itself
for example a web server might instruct
an instance to install Apache HTTP D
configure Apaches httpd config file
install all necessary programming
language environments such as PHP Ruby
and create a directory and file
structure for web server content a
configuration server will likely contain
a number of recipes for configuring
dozens of different types of machines
including MySQL server NAT server
windows iis server and so on the
administrator will create configuration
templates publish them to the
configuration server
and check them into a source control
system for version management and it
changed tracking the administrator will
use custom scripting cloud formation ops
works or similar products to describe
and create a full AWS cloud deployment
environment these tools may also specify
what custom applications will be hosted
in these environments on which instances
they should be hosted and how they ought
to be configured on each instance for
each Amazon ec2 instance that is
deployed the administrator will instruct
the instance on how to configure itself
as a configuration client of the
configuration server the administrator
will also supply the name of the
templates to be downloaded and executed
on that machine when an Amazon ec2
instance is deployed using a deployment
technology such as script or cloud
formation it will configure itself as a
configuration client download the
appropriate template and execute it
various customers use different
combinations of the technologies
discussed in this topic to manage their
am is the solution adopted by your
organization will depend on several
factors including your production
workflow and your organizational
standards
none of these techniques are mutually
exclusive they can all be used in tandem
to craft a strategy that's right for
your company in general placing software
in a mis is best reserved for
foundational slow changing components
that are truly required as standard
throughout your organization to create
an Amazon EBS backed Linux ami start
from an instance you've launched from an
existing Amazon EBS backed Linux ami
after you've customized the instance to
suit your needs create and register a
new ami which you can use to launch new
instances with these customizations
ensure data integrity by stopping the
instance before you create an ami then
create the image when you create an
Amazon EBS back to ami it's
automatically registered for you
Amazon ec2 powers down the instance
before creating the ami to ensure that
everything on the instance is stopped
and in a consistent state during the
creation process some file systems such
as XFS can freeze and unfreeze activity
making it safe to create the image
without rebooting the instance when you
need to automate the creation of an ami
you can use the AWS ec2 create image
command as displayed on the screen
during the ami creation process Amazon
ec2 creates snapshots of your instances
route volume and any other EBS volumes
attached to your instance if any volumes
attached to the instance are encrypted
the new ami we'll only launched
successfully on instances that support
Amazon EBS encryption depending on the
size of the volumes it can take several
minutes for the ami creation process to
complete sometimes up to 24 hours you
may find it more efficient to create
snapshots of your volumes prior to
creating your ami this way only small
incremental snapshots need to be created
when the ami is created and the process
completes quickly though the total time
for snapshot creation remains the same
after the process complete you have a
new ami and snapshot created from the
root volume of the instance when you
launch an instance using the new ami a
new EBS volume for its root volume is
created using the snapshot both the AMI
and the snapshot will accrue charges to
your account until you delete them
you
you can copy an ami with
thin or across an AWS region using the
AWS management console the command line
or the Amazon ec2 API all of which
support the copy image action both
Amazon EBS backed am is and instance
store backed am is can be copied
you can't copy an encrypted ami between
accounts instead if the underlying
snapshot and encryption key have been
shared with you you can copy the
snapshot to another account while rien
crypting it with a key of your own and
then register this privately-owned
snapshot as a new am i copying a source
ami results in an identical but distinct
target ami with its own unique
identifier in the case of an amazon EBS
back ami each of its backing snapshots
is by default copied to an identical but
distinct target snapshot the exception
is when you choose to encrypt the
snapshot the source ami can be changed
or deregistered with no effect on the
target ami the reverse is also true
AWS does not copy launch permissions
user-defined
tanks or Amazon s3 bucket permissions
from the source
ami through the new AMI after the copy
operation is complete you can apply
launch permissions user-defined tags and
Amazon s3 bucket permissions to the new
ami the ami creation process is
different for instance store bag am is
first launch an instance from an ami
that's similar to the ami that you'd
like to create you can connect to your
instance and customize it when the
instance is set up the way you want it
you can bundle it it takes several
minutes for the bundling process to
complete after the process completes you
have a bundle which consists of an image
manifest and files that contain a
template for the root volume next you
upload the bundle to your Amazon s3
bucket and then register your ami when
you launch an instance using the new ami
week
the route volume for the instance using
the bundle that you uploaded to Amazon
s3 the storage space used by the bundle
in Amazon s3 encourage charges to your
accounts until you delete it and you can
convert an instance store back to Linux
ami that you own to an Amazon EBS backed
Linux ami this involves creating a
bundle but the bundle is then downloaded
onto a new Amazon EBS volume after that
you need to snapshot the volume and
create your new ami from the snapshot
please note you cannot convert an
instance store back to Windows ami to an
Amazon EBS back to Windows AMI and you
cannot convert an ami that you do not
own using a configuration server can
simplify many common administrative
tasks the most common example is
provisioning and de-provisioning user
access to Amazon ec2 instances say that
Joe an engineer has been given access to
multiple Amazon ec2 instances across the
fleet meaning Joe has a private key that
enables him to log in with his unique
user ID and perform administrative tasks
on these instances but what happens when
Joe leaves the company without a
configuration server Dee provisioning
Joe's access to these machines can be a
manual nightmare using a configuration
server however a system administrator
can easily change Joe status in the
system and roll this change out to all
instances in the fleet with a few simple
commands one of the advantages of using
a configuration server such as chef
puppet or ansible is that configuration
is it impotant resources that are
created or configured by a configuration
server are configured or created only
once if manual modifications are made to
the configuration of an instance the
configuration server detects them and
rolls them back this ensures that the
integrity of the instance isn't
compromised by an accidental change most
configuration software supports a single
machine or standalone model which means
that it is typically capable of managing
one to hundreds of servers from a
central controller machine
hence the server orchestration ton in a
typical environment you can have a
single administrator machine on which
you create and edit the configuration
templates store them in the source
control system for example get and use
the configuration management tools to
orchestrate your infrastructure will now
review some typical failures that might
occur during the launch of the instances
automated scripts or cloud formation
templates fail to create instances in
different regions here you need to check
the ami IDs keep in mind that in
different regions you always have
different ami IDs so you need to make
sure that you set the correct ones in
your configuration another issue that
you might come across is when the
instance is marked ready
but the configuration is not complete
keep in mind that the configuration
readiness is separate from instance
readiness you need to take additional
measures to check readiness of your
configuration for example your
configuration scripts can send an alert
when the instance is fully configured
another common issue is when the Windows
images take a long time to boot from the
ami the microsoft system preparation or
sysprep tool simplifies the process of
duplicating a customized installation of
Windows but it can't extend the time it
takes for an image to boot for instance
readiness note that if you are using
cloud formation templates to deploy
infrastructure CloudFormation provides
an object called wait condition that can
be used by user data scripts to signal
to cloud formation when configuration
has completed successfully the cloud
offers you lots of possibilities but it
also brings a lot of questions about how
to manage its power and flexibility how
do you update servers that have already
been deployed into a production
environment how do you consistently
deploy an infrastructure to multiple
regions and disparate geographical
locations
how do you roll back a deployment that
didn't execute according to plan in
other words how do you reclaim the
resources that were already created how
do you test and debug a deployment
before rolling it out to production how
do you manage dependencies not only on
systems and technologies but on entire
subsystems
commonly used technologies for automated
repeatable deployments include custom
scripts and applications in which you
can use AWS command line interface
commands or AWS API to automate
deployments in a variety of languages
AWS CloudFormation is a building block
service that enables customers to
provision and manage almost any AWS
resource via adjacent based
domain-specific language AWS
CloudFormation focuses on providing
foundational capabilities for the full
breadth of AWS without prescribing a
particular model for development and
operations customers defined templates
and use them to provision and manage AWS
resources operating systems and
application code AWS opsworks focuses on
providing highly productive and reliable
DevOps experiences for IT administrators
and ops my developers to achieve this
AWS opsworks employs a configuration
management model based on concepts such
as stacks and layers and provides
integrated experiences for key
activities like deployment monitoring
auto scaling and automation compared to
AWS CloudFormation AWS opsworks supports
a narrower range of application oriented
AWS resource types including Amazon ec2
instances Amazon EBS volumes elastic IPS
and Amazon CloudWatch metrics
of the clouds
laughs eyes the migration of systems by
making it easier to create parallel
environments there is no need to buy
additional hardware to stand up a pilot
version of your new environment you can
simply create the resources that you
need however you still need to figure
out how to ramp users off the existing
system and onto a new one a task that is
much more challenging than a so-called
greenfield or initial deployment some
common patterns used to bring new
systems online in a cloud environment
include blue or green deployment a
parallel or green system is deployed by
auto-scaling alongside an existing or
blue system the traffic is gradually
shifted on to the green system we'll
discuss its model in depth a little
later red or black deployment this is a
variation on the blue or green method
used by Netflix in this model the
existing or the red system exists in
parallel to the new system once the new
system is fully initialized and running
the infrastructure is considered to be
in a red red state next the traffic is
cut off to the existing system putting
it in a black state the system is now in
red black mode the old system is no
longer receiving requests and all new
traffic is going to the new system the
black system is kept up and running
while existing connections are completed
to ensure that the red system is
operating without incident engineers can
bring the black system online if
required dark launch used mainly for
testing a dark launch brings new
features into a system without enabling
the new feature in the user interface
dark launches are used to ensure that a
new feature works correctly in
production and can handle the load
associated with a company's existing
user base on this screen an example of a
blue or green deployment is displayed in
this model a parallel environment with
its own load balancer and auto scaling
configurations is brought up
side-by-side with the eggs
environment a feature of Amazon route 53
called weighted routing can be used to
begin shifting users over from the
existing or blue environment to the new
or green environment technologies such
as cloud wash and cloud watch logs can
be used to monitor the green environment
if problems are found in the new
environment weighted routing can be
deployed to ship users back to the
running blue servers once the new green
environment is fully up and running
without issues the blue environment can
gradually be shut down due to the
potential latency of DNS records a full
shutdown of the blue environment can
take anywhere between one day and one
week as discussed earlier one of the
challenges faced while deploying in
cloud is implementing version upgrades
you can solve this problem with the help
of auto scaling there are multiple
approaches use the oldest launch
configuration termination policy to
drain old instances old instances will
be replaced with the newer ones launched
using the latest version of launch
configuration bring up two separate auto
scaling groups and use Amazon route 53
and weighted routing to drive different
percentages of incoming traffic to the
two groups you can start creating new
instances and use AWS auto scaling
attach instances to bring new instances
into group and use the AWS auto scaling
detach instances policy to remove
existing ones
AWS CloudFormation enables you to create
and provision AWS infrastructure
deployments predictably and repeatedly
it helps you leverage AWS products such
as Amazon Elastic Compute cloud Amazon
elastic block store Amazon simple
notification service elastic load
balancing and auto scaling to build a
highly reliable highly scalable
cost-effective applications without
worrying about creating and configuring
the underlying AWS infrastructure AWS
CloudFormation enables you to use a
template file to create and delete a
collection of resources together as a
single unit or a stack the two major
concepts in AWS cloud formation are
templates and stacks a template is a
specification of the AWS resources to be
provisioned a stack is a collection of
AWS resources that has been created from
a template you may provision or create a
stack numerous times when a stack is
provisioned the AWS resources specified
by its templates are created any charges
incurred from using these services will
start a curing as they are created as
part of the AWS cloud formation snack
when a stack is deleted the resources
associated with that stack are also
deleted the order of deletion is
determined by AWS CloudFormation you do
not have to direct control over what
gets deleted win
first we'll be creating an Amazon s3
bucket for using the cloud formation
template you need to decide in which
region you want to create the template
for this demonstration we'll create the
template in the MU by region go to the
cloud formation service under the
management tools section
click create new stack on this page you
get various options for designing or
selecting a template we already have
adjacent code ready for this template so
let's select the upload a template to
Amazon s3 option click Choose file to
upload the file from your system select
the file from your system to upload it
it's a simple JSON file that creates an
Amazon s3 bucket click Next
provide a stack name
click Next we'll keep all the values as
default and click Next on this page you
can review the template URL and the
stack name click create under the events
tab you can observe the progression of
the events related to stat creation as
you can see the status is being shown as
in progress click the Refresh icon to
view the progression of the steps in the
stat creation process click the Refresh
icon again to refresh the view as you
can see now stack has been created to
refresh the page again
now you can see the status also displays
that the stack has been created which
means that the stack is ready to use the
resources click the resources tab to
view the bucket that has been created as
you can see Amazon has provided a
physical ID for the bucket let's now
check out the bucket and see it has been
created correctly let's go back to the
console
click s3 under the storage and content
delivery section as you can see our
bucket is available click the bucket
name as you can see the bucket is empty
click the properties button to view the
properties of the bucket as you can see
it has been created in the MU by region
let's now go back to the management
console and click cloud formation under
the management tools section we'll now
go and delete the stack once the stack
is deleted this bucket will be
automatically deleted select the stack
click actions and select the delete
stack option click the yes delete button
to confirm your action under the events
tab you can view all the events related
to the deletion process click the
refresh icon to get the updated view
every time as you can see the stack and
the bucket have been deleted you have
learned how to create an AWS
CloudFormation template
hey once you become an expert in cloud
computing then subscribe to simpler
Channel and click here to watch more
such videos turner it up and get
certified in cloud computing quick here</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>